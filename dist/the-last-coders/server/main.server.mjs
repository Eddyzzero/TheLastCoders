import './polyfills.server.mjs';
import{a as Q,b as me,c as Wt,d as ta,e as ee,f as JO,g as CS,h as P,i as IS,j as $0,k as Rc,l as e6}from"./chunk-S6KH3LOX.mjs";var Lt=ee(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=Ki.DEFAULT_MAX_SEND_MESSAGE_LENGTH=Ki.Propagate=Ki.LogVerbosity=Ki.Status=void 0;var LB=function(n){return n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n}(LB||(Ki.Status=LB={})),FB=function(n){return n[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.ERROR=2]="ERROR",n[n.NONE=3]="NONE",n}(FB||(Ki.LogVerbosity=FB={})),UB=function(n){return n[n.DEADLINE=1]="DEADLINE",n[n.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",n[n.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",n[n.CANCELLATION=8]="CANCELLATION",n[n.DEFAULTS=65535]="DEFAULTS",n}(UB||(Ki.Propagate=UB={}));Ki.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;Ki.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var _A=ee((oLe,afe)=>{afe.exports={name:"@grpc/grpc-js",version:"1.9.15",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.186","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/semver":"^7.3.9","@typescript-eslint/eslint-plugin":"^5.59.11","@typescript-eslint/parser":"^5.59.11","@typescript-eslint/typescript-estree":"^5.59.11","clang-format":"^1.0.55",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.3.5","ts-node":"^10.9.1",typescript:"^5.1.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.8","@types/node":">=12.12.47"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var An=ee(Wr=>{"use strict";var EA,wA,SA,TA;Object.defineProperty(Wr,"__esModule",{value:!0});Wr.isTracerEnabled=Wr.trace=Wr.log=Wr.setLoggerVerbosity=Wr.setLogger=Wr.getLogger=void 0;var Uu=Lt(),ufe=Wt("process"),cfe=_A().version,lfe={error:(n,...e)=>{console.error("E "+n,...e)},info:(n,...e)=>{console.error("I "+n,...e)},debug:(n,...e)=>{console.error("D "+n,...e)}},Fl=lfe,Tf=Uu.LogVerbosity.ERROR,dfe=(wA=(EA=process.env.GRPC_NODE_VERBOSITY)!==null&&EA!==void 0?EA:process.env.GRPC_VERBOSITY)!==null&&wA!==void 0?wA:"";switch(dfe.toUpperCase()){case"DEBUG":Tf=Uu.LogVerbosity.DEBUG;break;case"INFO":Tf=Uu.LogVerbosity.INFO;break;case"ERROR":Tf=Uu.LogVerbosity.ERROR;break;case"NONE":Tf=Uu.LogVerbosity.NONE;break;default:}var ffe=()=>Fl;Wr.getLogger=ffe;var hfe=n=>{Fl=n};Wr.setLogger=hfe;var pfe=n=>{Tf=n};Wr.setLoggerVerbosity=pfe;var mfe=(n,...e)=>{let t;if(n>=Tf){switch(n){case Uu.LogVerbosity.DEBUG:t=Fl.debug;break;case Uu.LogVerbosity.INFO:t=Fl.info;break;case Uu.LogVerbosity.ERROR:t=Fl.error;break}t||(t=Fl.error),t&&t.bind(Fl)(...e)}};Wr.log=mfe;var gfe=(TA=(SA=process.env.GRPC_NODE_TRACE)!==null&&SA!==void 0?SA:process.env.GRPC_TRACE)!==null&&TA!==void 0?TA:"",CA=new Set,BB=new Set;for(let n of gfe.split(","))n.startsWith("-")?BB.add(n.substring(1)):CA.add(n);var yfe=CA.has("all");function vfe(n,e,t){VB(e)&&(0,Wr.log)(n,new Date().toISOString()+" | v"+cfe+" "+ufe.pid+" | "+e+" | "+t)}Wr.trace=vfe;function VB(n){return!BB.has(n)&&(yfe||CA.has(n))}Wr.isTracerEnabled=VB});var R1=ee(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.getErrorCode=Cf.getErrorMessage=void 0;function bfe(n){return n instanceof Error?n.message:String(n)}Cf.getErrorMessage=bfe;function _fe(n){return typeof n=="object"&&n!==null&&"code"in n&&typeof n.code=="number"?n.code:null}Cf.getErrorCode=_fe});var fi=ee(M1=>{"use strict";Object.defineProperty(M1,"__esModule",{value:!0});M1.Metadata=void 0;var Efe=An(),wfe=Lt(),Sfe=R1(),Tfe=/^[0-9a-z_.-]+$/,Cfe=/^[ -~]*$/;function Ife(n){return Tfe.test(n)}function Dfe(n){return Cfe.test(n)}function jB(n){return n.endsWith("-bin")}function xfe(n){return!n.startsWith("grpc-")}function k1(n){return n.toLowerCase()}function qB(n,e){if(!Ife(n))throw new Error('Metadata key "'+n+'" contains illegal characters');if(e!=null)if(jB(n)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!Dfe(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var IA=class n{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){e=k1(e),qB(e,t),this.internalRepr.set(e,[t])}add(e,t){e=k1(e),qB(e,t);let r=this.internalRepr.get(e);r===void 0?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=k1(e),this.internalRepr.delete(e)}get(e){return e=k1(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,r]of this.internalRepr)if(r.length>0){let i=r[0];e[t]=Buffer.isBuffer(i)?Buffer.from(i):i}return e}clone(){let e=new n(this.options),t=e.internalRepr;for(let[r,i]of this.internalRepr){let s=i.map(o=>Buffer.isBuffer(o)?Buffer.from(o):o);t.set(r,s)}return e}merge(e){for(let[t,r]of e.internalRepr){let i=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,i)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,r]of this.internalRepr)e[t]=r.map(Afe);return e}toJSON(){let e={};for(let[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){let t=new n;for(let r of Object.keys(e)){if(r.charAt(0)===":")continue;let i=e[r];try{jB(r)?Array.isArray(i)?i.forEach(s=>{t.add(r,Buffer.from(s,"base64"))}):i!==void 0&&(xfe(r)?i.split(",").forEach(s=>{t.add(r,Buffer.from(s.trim(),"base64"))}):t.add(r,Buffer.from(i,"base64"))):Array.isArray(i)?i.forEach(s=>{t.add(r,s)}):i!==void 0&&t.add(r,i)}catch(s){let o=`Failed to add metadata entry ${r}: ${i}. ${(0,Sfe.getErrorMessage)(s)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,Efe.log)(wfe.LogVerbosity.ERROR,o)}}return t}};M1.Metadata=IA;var Afe=n=>Buffer.isBuffer(n)?n.toString("base64"):n});var RA=ee(O1=>{"use strict";Object.defineProperty(O1,"__esModule",{value:!0});O1.CallCredentials=void 0;var NA=fi();function Nfe(n){return"getRequestHeaders"in n&&typeof n.getRequestHeaders=="function"}var If=class n{static createFromMetadataGenerator(e){return new xA(e)}static createFromGoogleCredential(e){return n.createFromMetadataGenerator((t,r)=>{let i;Nfe(e)?i=e.getRequestHeaders(t.service_url):i=new Promise((s,o)=>{e.getRequestMetadata(t.service_url,(a,u)=>{if(a){o(a);return}if(!u){o(new Error("Headers not set by metadata plugin"));return}s(u)})}),i.then(s=>{let o=new NA.Metadata;for(let a of Object.keys(s))o.add(a,s[a]);r(null,o)},s=>{r(s)})})}static createEmpty(){return new AA}};O1.CallCredentials=If;var DA=class n extends If{constructor(e){super(),this.creds=e}generateMetadata(e){return P(this,null,function*(){let t=new NA.Metadata,r=yield Promise.all(this.creds.map(i=>i.generateMetadata(e)));for(let i of r)t.merge(i);return t})}compose(e){return new n(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof n?this.creds.every((t,r)=>t._equals(e.creds[r])):!1}},xA=class n extends If{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(i,s)=>{s!==void 0?t(s):r(i)})})}compose(e){return new DA([this,e])}_equals(e){return this===e?!0:e instanceof n?this.metadataGenerator===e.metadataGenerator:!1}},AA=class n extends If{generateMetadata(e){return Promise.resolve(new NA.Metadata)}compose(e){return e}_equals(e){return e instanceof n}}});var MA=ee(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.getDefaultRootsData=Df.CIPHER_SUITES=void 0;var Rfe=Wt("fs");Df.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var HB=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,kA=null;function kfe(){return HB?(kA===null&&(kA=Rfe.readFileSync(HB)),kA):null}Df.getDefaultRootsData=kfe});var F1=ee(L1=>{"use strict";Object.defineProperty(L1,"__esModule",{value:!0});L1.ChannelCredentials=void 0;var Mfe=Wt("tls"),Ofe=RA(),$B=MA();function OA(n,e){if(n&&!(n instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var xf=class{constructor(e){this.callCredentials=e||Ofe.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var s;if(OA(e,"Root certificate"),OA(t,"Private key"),OA(r,"Certificate chain"),t&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw new Error("Certificate chain must be given with accompanying private key");let o=(0,Mfe.createSecureContext)({ca:(s=e??(0,$B.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,key:t??void 0,cert:r??void 0,ciphers:$B.CIPHER_SUITES});return new P1(o,i??{})}static createFromSecureContext(e,t){return new P1(e,t??{})}static createInsecure(){return new PA}};L1.ChannelCredentials=xf;var PA=class n extends xf{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof n}},P1=class n extends xf{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},t?.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){let t=this.callCredentials.compose(e);return new LA(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof n?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}},LA=class n extends xf{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new n(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof n?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}}});var Vu=ee(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.validateLoadBalancingConfig=Pr.getFirstUsableConfig=Pr.isLoadBalancerNameRegistered=Pr.createLoadBalancer=Pr.registerDefaultLoadBalancerType=Pr.registerLoadBalancerType=Pr.createChildChannelControlHelper=void 0;function Pfe(n,e){var t,r,i,s,o,a,u,c,l,d;return{createSubchannel:(r=(t=e.createSubchannel)===null||t===void 0?void 0:t.bind(e))!==null&&r!==void 0?r:n.createSubchannel.bind(n),updateState:(s=(i=e.updateState)===null||i===void 0?void 0:i.bind(e))!==null&&s!==void 0?s:n.updateState.bind(n),requestReresolution:(a=(o=e.requestReresolution)===null||o===void 0?void 0:o.bind(e))!==null&&a!==void 0?a:n.requestReresolution.bind(n),addChannelzChild:(c=(u=e.addChannelzChild)===null||u===void 0?void 0:u.bind(e))!==null&&c!==void 0?c:n.addChannelzChild.bind(n),removeChannelzChild:(d=(l=e.removeChannelzChild)===null||l===void 0?void 0:l.bind(e))!==null&&d!==void 0?d:n.removeChannelzChild.bind(n)}}Pr.createChildChannelControlHelper=Pfe;var Bu={},FA=null;function Lfe(n,e,t){Bu[n]={LoadBalancer:e,LoadBalancingConfig:t}}Pr.registerLoadBalancerType=Lfe;function Ffe(n){FA=n}Pr.registerDefaultLoadBalancerType=Ffe;function Ufe(n,e){let t=n.getLoadBalancerName();return t in Bu?new Bu[t].LoadBalancer(e):null}Pr.createLoadBalancer=Ufe;function Bfe(n){return n in Bu}Pr.isLoadBalancerNameRegistered=Bfe;function Vfe(n,e=!1){for(let t of n)if(t.getLoadBalancerName()in Bu)return t;return e&&FA?new Bu[FA].LoadBalancingConfig:null}Pr.getFirstUsableConfig=Vfe;function qfe(n){if(!(n!==null&&typeof n=="object"))throw new Error("Load balancing config must be an object");let e=Object.keys(n);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let t=e[0];if(t in Bu)return Bu[t].LoadBalancingConfig.createFromJson(n[t]);throw new Error(`Unrecognized load balancing config name ${t}`)}Pr.validateLoadBalancingConfig=qfe});var UA=ee(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.extractAndSelectServiceConfig=qu.validateServiceConfig=qu.validateRetryThrottling=void 0;var jfe=Wt("os"),U1=Lt(),Hfe=Vu(),B1=/^\d+(\.\d{1,9})?s$/,$fe="node";function zfe(n){if("service"in n&&n.service!==""){if(typeof n.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof n.service}`);if("method"in n&&n.method!==""){if(typeof n.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof n.service}`);return{service:n.service,method:n.method}}else return{service:n.service}}else{if("method"in n&&n.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function Gfe(n){if(!("maxAttempts"in n)||!Number.isInteger(n.maxAttempts)||n.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in n)||typeof n.initialBackoff!="string"||!B1.test(n.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in n)||typeof n.maxBackoff!="string"||!B1.test(n.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in n)||typeof n.backoffMultiplier!="number"||n.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in n&&Array.isArray(n.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(n.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of n.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(U1.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(U1.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:n.maxAttempts,initialBackoff:n.initialBackoff,maxBackoff:n.maxBackoff,backoffMultiplier:n.backoffMultiplier,retryableStatusCodes:n.retryableStatusCodes}}function Wfe(n){if(!("maxAttempts"in n)||!Number.isInteger(n.maxAttempts)||n.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in n&&(typeof n.hedgingDelay!="string"||!B1.test(n.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in n&&Array.isArray(n.nonFatalStatusCodes))for(let t of n.nonFatalStatusCodes)if(typeof t=="number"){if(!Object.values(U1.Status).includes(t))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof t=="string"){if(!Object.values(U1.Status).includes(t.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:n.maxAttempts};return n.hedgingDelay&&(e.hedgingDelay=n.hedgingDelay),n.nonFatalStatusCodes&&(e.nonFatalStatusCodes=n.nonFatalStatusCodes),e}function Kfe(n){var e;let t={name:[]};if(!("name"in n)||!Array.isArray(n.name))throw new Error("Invalid method config: invalid name array");for(let r of n.name)t.name.push(zfe(r));if("waitForReady"in n){if(typeof n.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=n.waitForReady}if("timeout"in n)if(typeof n.timeout=="object"){if(!("seconds"in n.timeout)||typeof n.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in n.timeout)||typeof n.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");t.timeout=n.timeout}else if(typeof n.timeout=="string"&&B1.test(n.timeout)){let r=n.timeout.substring(0,n.timeout.length-1).split(".");t.timeout={seconds:r[0]|0,nanos:((e=r[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in n){if(typeof n.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=n.maxRequestBytes}if("maxResponseBytes"in n){if(typeof n.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=n.maxResponseBytes}if("retryPolicy"in n){if("hedgingPolicy"in n)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");t.retryPolicy=Gfe(n.retryPolicy)}else"hedgingPolicy"in n&&(t.hedgingPolicy=Wfe(n.hedgingPolicy));return t}function zB(n){if(!("maxTokens"in n)||typeof n.maxTokens!="number"||n.maxTokens<=0||n.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in n)||typeof n.tokenRatio!="number"||n.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+n.maxTokens.toFixed(3),tokenRatio:+n.tokenRatio.toFixed(3)}}qu.validateRetryThrottling=zB;function GB(n){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in n)if(typeof n.loadBalancingPolicy=="string")e.loadBalancingPolicy=n.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in n)if(Array.isArray(n.loadBalancingConfig))for(let r of n.loadBalancingConfig)e.loadBalancingConfig.push((0,Hfe.validateLoadBalancingConfig)(r));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in n&&Array.isArray(n.methodConfig))for(let r of n.methodConfig)e.methodConfig.push(Kfe(r));"retryThrottling"in n&&(e.retryThrottling=zB(n.retryThrottling));let t=[];for(let r of e.methodConfig)for(let i of r.name){for(let s of t)if(i.service===s.service&&i.method===s.method)throw new Error(`Invalid service config: duplicate name ${i.service}/${i.method}`);t.push(i)}return e}qu.validateServiceConfig=GB;function Qfe(n){if(!("serviceConfig"in n))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:GB(n.serviceConfig)};if("clientLanguage"in n)if(Array.isArray(n.clientLanguage)){e.clientLanguage=[];for(let r of n.clientLanguage)if(typeof r=="string")e.clientLanguage.push(r);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in n)if(Array.isArray(n.clientHostname)){e.clientHostname=[];for(let r of n.clientHostname)if(typeof r=="string")e.clientHostname.push(r);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in n)if(typeof n.percentage=="number"&&0<=n.percentage&&n.percentage<=100)e.percentage=n.percentage;else throw new Error("Invalid service config choice: invalid percentage");let t=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let r in n)if(!t.includes(r))throw new Error(`Invalid service config choice: unexpected field ${r}`);return e}function Yfe(n,e){if(!Array.isArray(n))throw new Error("Invalid service config list");for(let t of n){let r=Qfe(t);if(!(typeof r.percentage=="number"&&e>r.percentage)){if(Array.isArray(r.clientHostname)){let i=!1;for(let s of r.clientHostname)s===jfe.hostname()&&(i=!0);if(!i)continue}if(Array.isArray(r.clientLanguage)){let i=!1;for(let s of r.clientLanguage)s===$fe&&(i=!0);if(!i)continue}return r.serviceConfig}}throw new Error("No matching service config found")}function Zfe(n,e){for(let t of n)if(t.length>0&&t[0].startsWith("grpc_config=")){let r=t.join("").substring(12),i=JSON.parse(r);return Yfe(i,e)}return null}qu.extractAndSelectServiceConfig=Zfe});var Qi=ee(V1=>{"use strict";Object.defineProperty(V1,"__esModule",{value:!0});V1.ConnectivityState=void 0;var WB=function(n){return n[n.IDLE=0]="IDLE",n[n.CONNECTING=1]="CONNECTING",n[n.READY=2]="READY",n[n.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",n[n.SHUTDOWN=4]="SHUTDOWN",n}(WB||(V1.ConnectivityState=WB={}))});var xi=ee(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.uriToString=ju.splitHostPort=ju.parseUri=void 0;var Xfe=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function Jfe(n){let e=Xfe.exec(n);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}ju.parseUri=Jfe;var KB=/^\d+$/;function ehe(n){if(n.startsWith("[")){let e=n.indexOf("]");if(e===-1)return null;let t=n.substring(1,e);if(t.indexOf(":")===-1)return null;if(n.length>e+1)if(n[e+1]===":"){let r=n.substring(e+2);return KB.test(r)?{host:t,port:+r}:null}else return null;else return{host:t}}else{let e=n.split(":");return e.length===2?KB.test(e[1])?{host:e[0],port:+e[1]}:null:{host:n}}}ju.splitHostPort=ehe;function the(n){let e="";return n.scheme!==void 0&&(e+=n.scheme+":"),n.authority!==void 0&&(e+="//"+n.authority+"/"),e+=n.path,e}ju.uriToString=the});var wo=ee(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.mapUriDefaultScheme=Yi.getDefaultAuthority=Yi.createResolver=Yi.registerDefaultScheme=Yi.registerResolver=void 0;var VA=xi(),Af={},BA=null;function nhe(n,e){Af[n]=e}Yi.registerResolver=nhe;function rhe(n){BA=n}Yi.registerDefaultScheme=rhe;function ihe(n,e,t){if(n.scheme!==void 0&&n.scheme in Af)return new Af[n.scheme](n,e,t);throw new Error(`No resolver could be created for target ${(0,VA.uriToString)(n)}`)}Yi.createResolver=ihe;function she(n){if(n.scheme!==void 0&&n.scheme in Af)return Af[n.scheme].getDefaultAuthority(n);throw new Error(`Invalid target ${(0,VA.uriToString)(n)}`)}Yi.getDefaultAuthority=she;function ohe(n){return n.scheme===void 0||!(n.scheme in Af)?BA!==null?{scheme:BA,authority:void 0,path:(0,VA.uriToString)(n)}:null:n}Yi.mapUriDefaultScheme=ohe});var $u=ee(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.QueuePicker=Hu.UnavailablePicker=Hu.PickResultType=void 0;var ahe=fi(),uhe=Lt(),q1=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.QUEUE=1]="QUEUE",n[n.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",n[n.DROP=3]="DROP",n}(q1||(Hu.PickResultType=q1={})),qA=class{constructor(e){this.status=Object.assign({code:uhe.Status.UNAVAILABLE,details:"No connection established",metadata:new ahe.Metadata},e)}pick(e){return{pickResultType:q1.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};Hu.UnavailablePicker=qA;var jA=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:q1.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};Hu.QueuePicker=jA});var Wm=ee(j1=>{"use strict";Object.defineProperty(j1,"__esModule",{value:!0});j1.BackoffTimeout=void 0;var che=1e3,lhe=1.6,dhe=12e4,fhe=.2;function hhe(n,e){return Math.random()*(e-n)+n}var HA=class{constructor(e,t){this.callback=e,this.initialDelay=che,this.multiplier=lhe,this.maxDelay=dhe,this.jitter=fhe,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||(r=(t=this.timerId).unref)===null||r===void 0||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+hhe(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,(t=(e=this.timerId).ref)===null||t===void 0||t.call(e)}unref(){var e,t;this.hasRef=!1,(t=(e=this.timerId).unref)===null||t===void 0||t.call(e)}getEndTime(){return this.endTime}};j1.BackoffTimeout=HA});var $1=ee(H1=>{"use strict";Object.defineProperty(H1,"__esModule",{value:!0});H1.ChildLoadBalancerHandler=void 0;var phe=Vu(),mhe=Qi(),ghe="child_load_balancer_helper",$A=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(t){this.parent=t,this.child=null}createSubchannel(t,r){return this.parent.channelControlHelper.createSubchannel(t,r)}updateState(t,r){var i;if(this.calledByPendingChild()){if(t===mhe.ConnectivityState.CONNECTING)return;(i=this.parent.currentChild)===null||i===void 0||i.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(t,r)}requestReresolution(){var t;let r=(t=this.parent.pendingChild)!==null&&t!==void 0?t:this.parent.currentChild;this.child===r&&this.parent.channelControlHelper.requestReresolution()}setChild(t){this.child=t}addChannelzChild(t){this.parent.channelControlHelper.addChannelzChild(t)}removeChannelzChild(t){this.parent.channelControlHelper.removeChannelzChild(t)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let i;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let s=new this.ChildPolicyHelper(this),o=(0,phe.createLoadBalancer)(t,s);s.setChild(o),this.currentChild===null?(this.currentChild=o,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=o,i=this.pendingChild)}else this.pendingChild===null?i=this.currentChild:i=this.pendingChild;this.latestConfig=t,i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return ghe}};H1.ChildLoadBalancerHandler=$A});var YB=ee(z1=>{"use strict";Object.defineProperty(z1,"__esModule",{value:!0});z1.ResolvingLoadBalancer=void 0;var yhe=Vu(),vhe=UA(),hi=Qi(),bhe=wo(),Nf=$u(),_he=Wm(),zA=Lt(),Ehe=fi(),whe=An(),She=Lt(),The=xi(),Che=$1(),Ihe="resolving_load_balancer";function QB(n){whe.trace(She.LogVerbosity.DEBUG,Ihe,n)}var Dhe=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function xhe(n,e,t,r){for(let i of t.name)switch(r){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===n&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===n&&i.method===e)return!0}return!1}function Ahe(n,e,t,r){for(let i of t)if(xhe(n,e,i,r))return i;return null}function Nhe(n){return function(t,r){var i,s;let o=t.split("/").filter(c=>c.length>0),a=(i=o[0])!==null&&i!==void 0?i:"",u=(s=o[1])!==null&&s!==void 0?s:"";if(n&&n.methodConfig)for(let c of Dhe){let l=Ahe(a,u,n.methodConfig,c);if(l)return{methodConfig:l,pickInformation:{},status:zA.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:zA.Status.OK,dynamicFilterFactories:[]}}}var GA=class{constructor(e,t,r,i,s){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=i,this.onFailedResolution=s,this.latestChildState=hi.ConnectivityState.IDLE,this.latestChildPicker=new Nf.QueuePicker(this),this.currentState=hi.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,vhe.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(hi.ConnectivityState.IDLE,new Nf.QueuePicker(this)),this.childLoadBalancer=new Che.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(QB("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(a,u)=>{this.latestChildState=a,this.latestChildPicker=u,this.updateState(a,u)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,bhe.createResolver)(e,{onSuccessfulResolution:(a,u,c,l,d)=>{var f;this.backoffTimeout.stop(),this.backoffTimeout.reset();let h=null;u===null?c===null?(this.previousServiceConfig=null,h=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(c):h=this.previousServiceConfig:(h=u,this.previousServiceConfig=u);let p=(f=h?.loadBalancingConfig)!==null&&f!==void 0?f:[],v=(0,yhe.getFirstUsableConfig)(p,!0);if(v===null){this.handleResolutionFailure({code:zA.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new Ehe.Metadata});return}this.childLoadBalancer.updateAddressList(a,v,d);let T=h??this.defaultServiceConfig;this.onSuccessfulResolution(T,l??Nhe(T))},onError:a=>{this.handleResolutionFailure(a)}},r);let o={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new _he.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},o),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===hi.ConnectivityState.IDLE&&this.updateState(hi.ConnectivityState.CONNECTING,new Nf.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,t){QB((0,The.uriToString)(this.target)+" "+hi.ConnectivityState[this.currentState]+" -> "+hi.ConnectivityState[e]),e===hi.ConnectivityState.IDLE&&(t=new Nf.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===hi.ConnectivityState.IDLE&&(this.updateState(hi.ConnectivityState.TRANSIENT_FAILURE,new Nf.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===hi.ConnectivityState.IDLE||this.currentState===hi.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=hi.ConnectivityState.IDLE,this.latestChildPicker=new Nf.QueuePicker(this),this.currentState=hi.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};z1.ResolvingLoadBalancer=GA});var ZB=ee(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.channelOptionsEqual=Rf.recognizedOptions=void 0;Rf.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0};function Rhe(n,e){let t=Object.keys(n).sort(),r=Object.keys(e).sort();if(t.length!==r.length)return!1;for(let i=0;i<t.length;i+=1)if(t[i]!==r[i]||n[t[i]]!==e[r[i]])return!1;return!0}Rf.channelOptionsEqual=Rhe});var To=ee(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.stringToSubchannelAddress=So.subchannelAddressToString=So.subchannelAddressEqual=So.isTcpSubchannelAddress=void 0;var khe=Wt("net");function Km(n){return"port"in n}So.isTcpSubchannelAddress=Km;function Mhe(n,e){return!n&&!e?!0:!n||!e?!1:Km(n)?Km(e)&&n.host===e.host&&n.port===e.port:!Km(e)&&n.path===e.path}So.subchannelAddressEqual=Mhe;function Ohe(n){return Km(n)?n.host+":"+n.port:n.path}So.subchannelAddressToString=Ohe;var Phe=443;function Lhe(n,e){return(0,khe.isIP)(n)?{host:n,port:e??Phe}:{path:n}}So.stringToSubchannelAddress=Lhe});var G1=ee(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.addAdminServicesToServer=kf.registerAdminService=void 0;var XB=[];function Fhe(n,e){XB.push({getServiceDefinition:n,getHandlers:e})}kf.registerAdminService=Fhe;function Uhe(n){for(let{getServiceDefinition:e,getHandlers:t}of XB)n.addService(e(),t())}kf.addAdminServicesToServer=Uhe});var JB=ee(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ClientDuplexStreamImpl=Zi.ClientWritableStreamImpl=Zi.ClientReadableStreamImpl=Zi.ClientUnaryCallImpl=Zi.callErrorFromStatus=void 0;var Bhe=Wt("events"),ZA=Wt("stream"),Qm=Lt();function Vhe(n,e){let t=`${n.code} ${Qm.Status[n.code]}: ${n.details}`,i=`${new Error(t).stack}
for call at
${e}`;return Object.assign(new Error(t),n,{stack:i})}Zi.callErrorFromStatus=Vhe;var WA=class extends Bhe.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Qm.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}};Zi.ClientUnaryCallImpl=WA;var KA=class extends ZA.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Qm.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}};Zi.ClientReadableStreamImpl=KA;var QA=class extends ZA.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Qm.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_write(e,t,r){var i;let s={callback:r},o=Number(t);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};Zi.ClientWritableStreamImpl=QA;var YA=class extends ZA.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(Qm.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}_write(e,t,r){var i;let s={callback:r},o=Number(t);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};Zi.ClientDuplexStreamImpl=YA});var eV=ee(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.InterceptingListenerImpl=Mf.isInterceptingListener=void 0;function qhe(n){return n.onReceiveMetadata!==void 0&&n.onReceiveMetadata.length===1}Mf.isInterceptingListener=qhe;var XA=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextListener.onReceiveStatus(t)})}};Mf.InterceptingListenerImpl=XA});var sN=ee(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.getInterceptingCall=Xi.InterceptingCall=Xi.RequesterBuilder=Xi.ListenerBuilder=Xi.InterceptorConfigurationError=void 0;var jhe=fi(),tV=eV(),nV=Lt(),rV=R1(),Zm=class n extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,n)}};Xi.InterceptorConfigurationError=Zm;var eN=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};Xi.ListenerBuilder=eN;var tN=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};Xi.RequesterBuilder=tN;var JA={onReceiveMetadata:(n,e)=>{e(n)},onReceiveMessage:(n,e)=>{e(n)},onReceiveStatus:(n,e)=>{e(n)}},Ym={start:(n,e,t)=>{t(n,e)},sendMessage:(n,e)=>{e(n)},halfClose:n=>{n()},cancel:n=>{n()}},nN=class{constructor(e,t){var r,i,s,o;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:(r=t.start)!==null&&r!==void 0?r:Ym.start,sendMessage:(i=t.sendMessage)!==null&&i!==void 0?i:Ym.sendMessage,halfClose:(s=t.halfClose)!==null&&s!==void 0?s:Ym.halfClose,cancel:(o=t.cancel)!==null&&o!==void 0?o:Ym.cancel}:this.requester=Ym}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,i,s,o,a,u;let c={onReceiveMetadata:(i=(r=t?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(t))!==null&&i!==void 0?i:l=>{},onReceiveMessage:(o=(s=t?.onReceiveMessage)===null||s===void 0?void 0:s.bind(t))!==null&&o!==void 0?o:l=>{},onReceiveStatus:(u=(a=t?.onReceiveStatus)===null||a===void 0?void 0:a.bind(t))!==null&&u!==void 0?u:l=>{}};this.processingMetadata=!0,this.requester.start(e,c,(l,d)=>{var f,h,p;this.processingMetadata=!1;let v;if((0,tV.isInterceptingListener)(d))v=d;else{let T={onReceiveMetadata:(f=d.onReceiveMetadata)!==null&&f!==void 0?f:JA.onReceiveMetadata,onReceiveMessage:(h=d.onReceiveMessage)!==null&&h!==void 0?h:JA.onReceiveMessage,onReceiveStatus:(p=d.onReceiveStatus)!==null&&p!==void 0?p:JA.onReceiveStatus};v=new tV.InterceptingListenerImpl(T,c)}this.nextCall.start(l,v),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};Xi.InterceptingCall=nN;function Hhe(n,e,t){var r,i;let s=(r=t.deadline)!==null&&r!==void 0?r:1/0,o=t.host,a=(i=t.parent)!==null&&i!==void 0?i:null,u=t.propagate_flags,c=t.credentials,l=n.createCall(e,s,o,a,u);return c&&l.setCredentials(c),l}var W1=class{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(i){this.call.cancelWithStatus(nV.Status.INTERNAL,`Request message serialization failure: ${(0,rV.getErrorMessage)(i)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:i=>{var s;(s=t?.onReceiveMetadata)===null||s===void 0||s.call(t,i)},onReceiveMessage:i=>{var s;let o;try{o=this.methodDefinition.responseDeserialize(i)}catch(a){r={code:nV.Status.INTERNAL,details:`Response message parsing error: ${(0,rV.getErrorMessage)(a)}`,metadata:new jhe.Metadata},this.call.cancelWithStatus(r.code,r.details);return}(s=t?.onReceiveMessage)===null||s===void 0||s.call(t,o)},onReceiveStatus:i=>{var s,o;r?(s=t?.onReceiveStatus)===null||s===void 0||s.call(t,r):(o=t?.onReceiveStatus)===null||o===void 0||o.call(t,i)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},rN=class extends W1{constructor(e,t){super(e,t)}start(e,t){var r,i;let s=!1,o={onReceiveMetadata:(i=(r=t?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(t))!==null&&i!==void 0?i:a=>{},onReceiveMessage:a=>{var u;s=!0,(u=t?.onReceiveMessage)===null||u===void 0||u.call(t,a)},onReceiveStatus:a=>{var u,c;s||(u=t?.onReceiveMessage)===null||u===void 0||u.call(t,null),(c=t?.onReceiveStatus)===null||c===void 0||c.call(t,a)}};super.start(e,o),this.call.startRead()}},iN=class extends W1{};function $he(n,e,t){let r=Hhe(n,t.path,e);return t.responseStream?new iN(r,t):new rN(r,t)}function zhe(n,e,t,r){if(n.clientInterceptors.length>0&&n.clientInterceptorProviders.length>0)throw new Zm("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(n.callInterceptors.length>0&&n.callInterceptorProviders.length>0)throw new Zm("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];n.callInterceptors.length>0||n.callInterceptorProviders.length>0?i=[].concat(n.callInterceptors,n.callInterceptorProviders.map(a=>a(e))).filter(a=>a):i=[].concat(n.clientInterceptors,n.clientInterceptorProviders.map(a=>a(e))).filter(a=>a);let s=Object.assign({},t,{method_definition:e});return i.reduceRight((a,u)=>c=>u(c,a),a=>$he(r,a,e))(s)}Xi.getInterceptingCall=zhe});var uN=ee(Q1=>{"use strict";Object.defineProperty(Q1,"__esModule",{value:!0});Q1.Client=void 0;var Co=JB(),Ghe=cN(),Whe=Qi(),zu=Lt(),Of=fi(),K1=sN(),Bs=Symbol(),Pf=Symbol(),Lf=Symbol(),Ca=Symbol();function oN(n){return typeof n=="function"}function Ff(n){return n.stack.split(`
`).slice(1).join(`
`)}var aN=class{constructor(e,t,r={}){var i,s;if(r=Object.assign({},r),this[Pf]=(i=r.interceptors)!==null&&i!==void 0?i:[],delete r.interceptors,this[Lf]=(s=r.interceptor_providers)!==null&&s!==void 0?s:[],delete r.interceptor_providers,this[Pf].length>0&&this[Lf].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[Ca]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[Bs]=r.channelOverride;else if(r.channelFactoryOverride){let o=r.channelFactoryOverride;delete r.channelFactoryOverride,this[Bs]=o(e,t,r)}else this[Bs]=new Ghe.ChannelImplementation(e,t,r)}close(){this[Bs].close()}getChannel(){return this[Bs]}waitForReady(e,t){let r=i=>{if(i){t(new Error("Failed to connect before the deadline"));return}let s;try{s=this[Bs].getConnectivityState(!0)}catch{t(new Error("The channel has been closed"));return}if(s===Whe.ConnectivityState.READY)t();else try{this[Bs].watchConnectivityState(s,e,r)}catch{t(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(oN(e))return{metadata:new Of.Metadata,options:{},callback:e};if(oN(t))return e instanceof Of.Metadata?{metadata:e,options:{},callback:t}:{metadata:new Of.Metadata,options:e,callback:t};if(!(e instanceof Of.Metadata&&t instanceof Object&&oN(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,s,o,a){var u,c;let l=this.checkOptionalUnaryResponseArguments(s,o,a),d={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r},f={argument:i,metadata:l.metadata,call:new Co.ClientUnaryCallImpl,channel:this[Bs],methodDefinition:d,callOptions:l.options,callback:l.callback};this[Ca]&&(f=this[Ca](f));let h=f.call,p={clientInterceptors:this[Pf],clientInterceptorProviders:this[Lf],callInterceptors:(u=f.callOptions.interceptors)!==null&&u!==void 0?u:[],callInterceptorProviders:(c=f.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},v=(0,K1.getInterceptingCall)(p,f.methodDefinition,f.callOptions,f.channel);h.call=v;let T=null,w=!1,C=new Error;return v.start(f.metadata,{onReceiveMetadata:D=>{h.emit("metadata",D)},onReceiveMessage(D){T!==null&&v.cancelWithStatus(zu.Status.INTERNAL,"Too many responses received"),T=D},onReceiveStatus(D){if(!w){if(w=!0,D.code===zu.Status.OK)if(T===null){let S=Ff(C);f.callback((0,Co.callErrorFromStatus)({code:zu.Status.INTERNAL,details:"No message received",metadata:D.metadata},S))}else f.callback(null,T);else{let S=Ff(C);f.callback((0,Co.callErrorFromStatus)(D,S))}C=null,h.emit("status",D)}}}),v.sendMessage(i),v.halfClose(),h}makeClientStreamRequest(e,t,r,i,s,o){var a,u;let c=this.checkOptionalUnaryResponseArguments(i,s,o),l={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r},d={metadata:c.metadata,call:new Co.ClientWritableStreamImpl(t),channel:this[Bs],methodDefinition:l,callOptions:c.options,callback:c.callback};this[Ca]&&(d=this[Ca](d));let f=d.call,h={clientInterceptors:this[Pf],clientInterceptorProviders:this[Lf],callInterceptors:(a=d.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(u=d.callOptions.interceptor_providers)!==null&&u!==void 0?u:[]},p=(0,K1.getInterceptingCall)(h,d.methodDefinition,d.callOptions,d.channel);f.call=p;let v=null,T=!1,w=new Error;return p.start(d.metadata,{onReceiveMetadata:C=>{f.emit("metadata",C)},onReceiveMessage(C){v!==null&&p.cancelWithStatus(zu.Status.INTERNAL,"Too many responses received"),v=C},onReceiveStatus(C){if(!T){if(T=!0,C.code===zu.Status.OK)if(v===null){let D=Ff(w);d.callback((0,Co.callErrorFromStatus)({code:zu.Status.INTERNAL,details:"No message received",metadata:C.metadata},D))}else d.callback(null,v);else{let D=Ff(w);d.callback((0,Co.callErrorFromStatus)(C,D))}w=null,f.emit("status",C)}}}),f}checkMetadataAndOptions(e,t){let r,i;return e instanceof Of.Metadata?(r=e,t?i=t:i={}):(e?i=e:i={},r=new Of.Metadata),{metadata:r,options:i}}makeServerStreamRequest(e,t,r,i,s,o){var a,u;let c=this.checkMetadataAndOptions(s,o),l={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r},d={argument:i,metadata:c.metadata,call:new Co.ClientReadableStreamImpl(r),channel:this[Bs],methodDefinition:l,callOptions:c.options};this[Ca]&&(d=this[Ca](d));let f=d.call,h={clientInterceptors:this[Pf],clientInterceptorProviders:this[Lf],callInterceptors:(a=d.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(u=d.callOptions.interceptor_providers)!==null&&u!==void 0?u:[]},p=(0,K1.getInterceptingCall)(h,d.methodDefinition,d.callOptions,d.channel);f.call=p;let v=!1,T=new Error;return p.start(d.metadata,{onReceiveMetadata(w){f.emit("metadata",w)},onReceiveMessage(w){f.push(w)},onReceiveStatus(w){if(!v){if(v=!0,f.push(null),w.code!==zu.Status.OK){let C=Ff(T);f.emit("error",(0,Co.callErrorFromStatus)(w,C))}T=null,f.emit("status",w)}}}),p.sendMessage(i),p.halfClose(),f}makeBidiStreamRequest(e,t,r,i,s){var o,a;let u=this.checkMetadataAndOptions(i,s),c={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r},l={metadata:u.metadata,call:new Co.ClientDuplexStreamImpl(t,r),channel:this[Bs],methodDefinition:c,callOptions:u.options};this[Ca]&&(l=this[Ca](l));let d=l.call,f={clientInterceptors:this[Pf],clientInterceptorProviders:this[Lf],callInterceptors:(o=l.callOptions.interceptors)!==null&&o!==void 0?o:[],callInterceptorProviders:(a=l.callOptions.interceptor_providers)!==null&&a!==void 0?a:[]},h=(0,K1.getInterceptingCall)(f,l.methodDefinition,l.callOptions,l.channel);d.call=h;let p=!1,v=new Error;return h.start(l.metadata,{onReceiveMetadata(T){d.emit("metadata",T)},onReceiveMessage(T){d.push(T)},onReceiveStatus(T){if(!p){if(p=!0,d.push(null),T.code!==zu.Status.OK){let w=Ff(v);d.emit("error",(0,Co.callErrorFromStatus)(T,w))}v=null,d.emit("status",T)}}}),d}};Q1.Client=aN});var dN=ee(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.loadPackageDefinition=Uf.makeClientConstructor=void 0;var Xm=uN(),Khe={unary:Xm.Client.prototype.makeUnaryRequest,server_stream:Xm.Client.prototype.makeServerStreamRequest,client_stream:Xm.Client.prototype.makeClientStreamRequest,bidi:Xm.Client.prototype.makeBidiStreamRequest};function lN(n){return["__proto__","prototype","constructor"].includes(n)}function iV(n,e,t){t||(t={});class r extends Xm.Client{}return Object.keys(n).forEach(i=>{if(lN(i))return;let s=n[i],o;if(typeof i=="string"&&i.charAt(0)==="$")throw new Error("Method names cannot start with $");s.requestStream?s.responseStream?o="bidi":o="client_stream":s.responseStream?o="server_stream":o="unary";let a=s.requestSerialize,u=s.responseDeserialize,c=Qhe(Khe[o],s.path,a,u);r.prototype[i]=c,Object.assign(r.prototype[i],s),s.originalName&&!lN(s.originalName)&&(r.prototype[s.originalName]=r.prototype[i])}),r.service=n,r.serviceName=e,r}Uf.makeClientConstructor=iV;function Qhe(n,e,t,r){return function(...i){return n.call(this,e,t,r,...i)}}function Yhe(n){return"format"in n}function Zhe(n){let e={};for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)){let r=n[t],i=t.split(".");if(i.some(a=>lN(a)))continue;let s=i[i.length-1],o=e;for(let a of i.slice(0,-1))o[a]||(o[a]={}),o=o[a];Yhe(r)?o[s]=r:o[s]=iV(r,s,{})}return e}Uf.loadPackageDefinition=Zhe});var AV=ee((kLe,xV)=>{"use strict";var Xhe=1/0,Jhe="[object Symbol]",epe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tpe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Z1="\\ud800-\\udfff",fV="\\u0300-\\u036f\\ufe20-\\ufe23",hV="\\u20d0-\\u20f0",pV="\\u2700-\\u27bf",mV="a-z\\xdf-\\xf6\\xf8-\\xff",npe="\\xac\\xb1\\xd7\\xf7",rpe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ipe="\\u2000-\\u206f",spe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gV="A-Z\\xc0-\\xd6\\xd8-\\xde",yV="\\ufe0e\\ufe0f",vV=npe+rpe+ipe+spe,hN="['\u2019]",ope="["+Z1+"]",sV="["+vV+"]",Y1="["+fV+hV+"]",bV="\\d+",ape="["+pV+"]",_V="["+mV+"]",EV="[^"+Z1+vV+bV+pV+mV+gV+"]",fN="\\ud83c[\\udffb-\\udfff]",upe="(?:"+Y1+"|"+fN+")",wV="[^"+Z1+"]",pN="(?:\\ud83c[\\udde6-\\uddff]){2}",mN="[\\ud800-\\udbff][\\udc00-\\udfff]",Bf="["+gV+"]",SV="\\u200d",oV="(?:"+_V+"|"+EV+")",cpe="(?:"+Bf+"|"+EV+")",aV="(?:"+hN+"(?:d|ll|m|re|s|t|ve))?",uV="(?:"+hN+"(?:D|LL|M|RE|S|T|VE))?",TV=upe+"?",CV="["+yV+"]?",lpe="(?:"+SV+"(?:"+[wV,pN,mN].join("|")+")"+CV+TV+")*",IV=CV+TV+lpe,dpe="(?:"+[ape,pN,mN].join("|")+")"+IV,fpe="(?:"+[wV+Y1+"?",Y1,pN,mN,ope].join("|")+")",hpe=RegExp(hN,"g"),ppe=RegExp(Y1,"g"),mpe=RegExp(fN+"(?="+fN+")|"+fpe+IV,"g"),gpe=RegExp([Bf+"?"+_V+"+"+aV+"(?="+[sV,Bf,"$"].join("|")+")",cpe+"+"+uV+"(?="+[sV,Bf+oV,"$"].join("|")+")",Bf+"?"+oV+"+"+aV,Bf+"+"+uV,bV,dpe].join("|"),"g"),ype=RegExp("["+SV+Z1+fV+hV+yV+"]"),vpe=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bpe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},_pe=typeof global=="object"&&global&&global.Object===Object&&global,Epe=typeof self=="object"&&self&&self.Object===Object&&self,wpe=_pe||Epe||Function("return this")();function Spe(n,e,t,r){var i=-1,s=n?n.length:0;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}function Tpe(n){return n.split("")}function Cpe(n){return n.match(epe)||[]}function Ipe(n){return function(e){return n?.[e]}}var Dpe=Ipe(bpe);function DV(n){return ype.test(n)}function xpe(n){return vpe.test(n)}function Ape(n){return DV(n)?Npe(n):Tpe(n)}function Npe(n){return n.match(mpe)||[]}function Rpe(n){return n.match(gpe)||[]}var kpe=Object.prototype,Mpe=kpe.toString,cV=wpe.Symbol,lV=cV?cV.prototype:void 0,dV=lV?lV.toString:void 0;function Ope(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}function Ppe(n){if(typeof n=="string")return n;if(Vpe(n))return dV?dV.call(n):"";var e=n+"";return e=="0"&&1/n==-Xhe?"-0":e}function Lpe(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:Ope(n,e,t)}function Fpe(n){return function(e){e=X1(e);var t=DV(e)?Ape(e):void 0,r=t?t[0]:e.charAt(0),i=t?Lpe(t,1).join(""):e.slice(1);return r[n]()+i}}function Upe(n){return function(e){return Spe(zpe(Hpe(e).replace(hpe,"")),n,"")}}function Bpe(n){return!!n&&typeof n=="object"}function Vpe(n){return typeof n=="symbol"||Bpe(n)&&Mpe.call(n)==Jhe}function X1(n){return n==null?"":Ppe(n)}var qpe=Upe(function(n,e,t){return e=e.toLowerCase(),n+(t?jpe(e):e)});function jpe(n){return $pe(X1(n).toLowerCase())}function Hpe(n){return n=X1(n),n&&n.replace(tpe,Dpe).replace(ppe,"")}var $pe=Fpe("toUpperCase");function zpe(n,e,t){return n=X1(n),e=t?void 0:e,e===void 0?xpe(n)?Rpe(n):Cpe(n):n.match(e)||[]}xV.exports=qpe});var gN=ee((MLe,NV)=>{"use strict";NV.exports=Gpe;function Gpe(n,e){for(var t=new Array(arguments.length-1),r=0,i=2,s=!0;i<arguments.length;)t[r++]=arguments[i++];return new Promise(function(a,u){t[r]=function(l){if(s)if(s=!1,l)u(l);else{for(var d=new Array(arguments.length-1),f=0;f<d.length;)d[f++]=arguments[f];a.apply(null,d)}};try{n.apply(e||null,t)}catch(c){s&&(s=!1,u(c))}})}});var OV=ee(MV=>{"use strict";var J1=MV;J1.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&e.charAt(t)==="=";)++r;return Math.ceil(e.length*3)/4-r};var Vf=new Array(64),kV=new Array(123);for(Vs=0;Vs<64;)kV[Vf[Vs]=Vs<26?Vs+65:Vs<52?Vs+71:Vs<62?Vs-4:Vs-59|43]=Vs++;var Vs;J1.encode=function(e,t,r){for(var i=null,s=[],o=0,a=0,u;t<r;){var c=e[t++];switch(a){case 0:s[o++]=Vf[c>>2],u=(c&3)<<4,a=1;break;case 1:s[o++]=Vf[u|c>>4],u=(c&15)<<2,a=2;break;case 2:s[o++]=Vf[u|c>>6],s[o++]=Vf[c&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=Vf[u],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var RV="invalid encoding";J1.decode=function(e,t,r){for(var i=r,s=0,o,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&s>1)break;if((u=kV[u])===void 0)throw Error(RV);switch(s){case 0:o=u,s=1;break;case 1:t[r++]=o<<2|(u&48)>>4,o=u,s=2;break;case 2:t[r++]=(o&15)<<4|(u&60)>>2,o=u,s=3;break;case 3:t[r++]=(o&3)<<6|u,s=0;break}}if(s===1)throw Error(RV);return r-i};J1.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var LV=ee((PLe,PV)=>{"use strict";PV.exports=e_;function e_(){this._listeners={}}e_.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this};e_.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this};e_.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}});var HV=ee((LLe,jV)=>{"use strict";jV.exports=FV(FV);function FV(n){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),r=t[3]===128;function i(u,c,l){e[0]=u,c[l]=t[0],c[l+1]=t[1],c[l+2]=t[2],c[l+3]=t[3]}function s(u,c,l){e[0]=u,c[l]=t[3],c[l+1]=t[2],c[l+2]=t[1],c[l+3]=t[0]}n.writeFloatLE=r?i:s,n.writeFloatBE=r?s:i;function o(u,c){return t[0]=u[c],t[1]=u[c+1],t[2]=u[c+2],t[3]=u[c+3],e[0]}function a(u,c){return t[3]=u[c],t[2]=u[c+1],t[1]=u[c+2],t[0]=u[c+3],e[0]}n.readFloatLE=r?o:a,n.readFloatBE=r?a:o}():function(){function e(r,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)r(1/i>0?0:2147483648,s,o);else if(isNaN(i))r(2143289344,s,o);else if(i>34028234663852886e22)r((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)r((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var u=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-u)*8388608)&8388607;r((a<<31|u+127<<23|c)>>>0,s,o)}}n.writeFloatLE=e.bind(null,UV),n.writeFloatBE=e.bind(null,BV);function t(r,i,s){var o=r(i,s),a=(o>>31)*2+1,u=o>>>23&255,c=o&8388607;return u===255?c?NaN:a*(1/0):u===0?a*1401298464324817e-60*c:a*Math.pow(2,u-150)*(c+8388608)}n.readFloatLE=t.bind(null,VV),n.readFloatBE=t.bind(null,qV)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),r=t[7]===128;function i(u,c,l){e[0]=u,c[l]=t[0],c[l+1]=t[1],c[l+2]=t[2],c[l+3]=t[3],c[l+4]=t[4],c[l+5]=t[5],c[l+6]=t[6],c[l+7]=t[7]}function s(u,c,l){e[0]=u,c[l]=t[7],c[l+1]=t[6],c[l+2]=t[5],c[l+3]=t[4],c[l+4]=t[3],c[l+5]=t[2],c[l+6]=t[1],c[l+7]=t[0]}n.writeDoubleLE=r?i:s,n.writeDoubleBE=r?s:i;function o(u,c){return t[0]=u[c],t[1]=u[c+1],t[2]=u[c+2],t[3]=u[c+3],t[4]=u[c+4],t[5]=u[c+5],t[6]=u[c+6],t[7]=u[c+7],e[0]}function a(u,c){return t[7]=u[c],t[6]=u[c+1],t[5]=u[c+2],t[4]=u[c+3],t[3]=u[c+4],t[2]=u[c+5],t[1]=u[c+6],t[0]=u[c+7],e[0]}n.readDoubleLE=r?o:a,n.readDoubleBE=r?a:o}():function(){function e(r,i,s,o,a,u){var c=o<0?1:0;if(c&&(o=-o),o===0)r(0,a,u+i),r(1/o>0?0:2147483648,a,u+s);else if(isNaN(o))r(0,a,u+i),r(2146959360,a,u+s);else if(o>17976931348623157e292)r(0,a,u+i),r((c<<31|2146435072)>>>0,a,u+s);else{var l;if(o<22250738585072014e-324)l=o/5e-324,r(l>>>0,a,u+i),r((c<<31|l/4294967296)>>>0,a,u+s);else{var d=Math.floor(Math.log(o)/Math.LN2);d===1024&&(d=1023),l=o*Math.pow(2,-d),r(l*4503599627370496>>>0,a,u+i),r((c<<31|d+1023<<20|l*1048576&1048575)>>>0,a,u+s)}}}n.writeDoubleLE=e.bind(null,UV,0,4),n.writeDoubleBE=e.bind(null,BV,4,0);function t(r,i,s,o,a){var u=r(o,a+i),c=r(o,a+s),l=(c>>31)*2+1,d=c>>>20&2047,f=4294967296*(c&1048575)+u;return d===2047?f?NaN:l*(1/0):d===0?l*5e-324*f:l*Math.pow(2,d-1075)*(f+4503599627370496)}n.readDoubleLE=t.bind(null,VV,0,4),n.readDoubleBE=t.bind(null,qV,4,0)}(),n}function UV(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}function BV(n,e,t){e[t]=n>>>24,e[t+1]=n>>>16&255,e[t+2]=n>>>8&255,e[t+3]=n&255}function VV(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0}function qV(n,e){return(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}});var yN=ee((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(n){}return null}});var zV=ee($V=>{"use strict";var vN=$V;vN.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)r=e.charCodeAt(i),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,t+=4):t+=3;return t};vN.read=function(e,t,r){var i=r-t;if(i<1)return"";for(var s=null,o=[],a=0,u;t<r;)u=e[t++],u<128?o[a++]=u:u>191&&u<224?o[a++]=(u&31)<<6|e[t++]&63:u>239&&u<365?(u=((u&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[a++]=55296+(u>>10),o[a++]=56320+(u&1023)):o[a++]=(u&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};vN.write=function(e,t,r){for(var i=r,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128);return r-i}});var WV=ee((ULe,GV)=>{"use strict";GV.exports=Wpe;function Wpe(n,e,t){var r=t||8192,i=r>>>1,s=null,o=r;return function(u){if(u<1||u>i)return n(u);o+u>r&&(s=n(r),o=0);var c=e.call(s,o,o+=u);return o&7&&(o=(o|7)+1),c}}});var QV=ee((BLe,KV)=>{"use strict";KV.exports=ur;var Jm=Io();function ur(n,e){this.lo=n>>>0,this.hi=e>>>0}var Ul=ur.zero=new ur(0,0);Ul.toNumber=function(){return 0};Ul.zzEncode=Ul.zzDecode=function(){return this};Ul.length=function(){return 1};var Kpe=ur.zeroHash="\0\0\0\0\0\0\0\0";ur.fromNumber=function(e){if(e===0)return Ul;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new ur(r,i)};ur.from=function(e){if(typeof e=="number")return ur.fromNumber(e);if(Jm.isString(e))if(Jm.Long)e=Jm.Long.fromString(e);else return ur.fromNumber(parseInt(e,10));return e.low||e.high?new ur(e.low>>>0,e.high>>>0):Ul};ur.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+r*4294967296)}return this.lo+this.hi*4294967296};ur.prototype.toLong=function(e){return Jm.Long?new Jm.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Gu=String.prototype.charCodeAt;ur.fromHash=function(e){return e===Kpe?Ul:new ur((Gu.call(e,0)|Gu.call(e,1)<<8|Gu.call(e,2)<<16|Gu.call(e,3)<<24)>>>0,(Gu.call(e,4)|Gu.call(e,5)<<8|Gu.call(e,6)<<16|Gu.call(e,7)<<24)>>>0)};ur.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};ur.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};ur.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};ur.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}});var Io=ee(bN=>{"use strict";var Oe=bN;Oe.asPromise=gN();Oe.base64=OV();Oe.EventEmitter=LV();Oe.float=HV();Oe.inquire=yN();Oe.utf8=zV();Oe.pool=WV();Oe.LongBits=QV();Oe.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Oe.global=Oe.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||bN;Oe.emptyArray=Object.freeze?Object.freeze([]):[];Oe.emptyObject=Object.freeze?Object.freeze({}):{};Oe.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Oe.isString=function(e){return typeof e=="string"||e instanceof String};Oe.isObject=function(e){return e&&typeof e=="object"};Oe.isset=Oe.isSet=function(e,t){var r=e[t];return r!=null&&e.hasOwnProperty(t)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1};Oe.Buffer=function(){try{var n=Oe.inquire("buffer").Buffer;return n.prototype.utf8Write?n:null}catch{return null}}();Oe._Buffer_from=null;Oe._Buffer_allocUnsafe=null;Oe.newBuffer=function(e){return typeof e=="number"?Oe.Buffer?Oe._Buffer_allocUnsafe(e):new Oe.Array(e):Oe.Buffer?Oe._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};Oe.Array=typeof Uint8Array<"u"?Uint8Array:Array;Oe.Long=Oe.global.dcodeIO&&Oe.global.dcodeIO.Long||Oe.global.Long||Oe.inquire("long");Oe.key2Re=/^true|false|0|1$/;Oe.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Oe.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Oe.longToHash=function(e){return e?Oe.LongBits.from(e).toHash():Oe.LongBits.zeroHash};Oe.longFromHash=function(e,t){var r=Oe.LongBits.fromHash(e);return Oe.Long?Oe.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)};function YV(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;++i)(n[r[i]]===void 0||!t)&&(n[r[i]]=e[r[i]]);return n}Oe.merge=YV;Oe.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function ZV(n){function e(t,r){if(!(this instanceof e))return new e(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&YV(this,r)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return n},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}Oe.newError=ZV;Oe.ProtocolError=ZV("ProtocolError");Oe.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(t[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};Oe.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}};Oe.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Oe._configure=function(){var n=Oe.Buffer;if(!n){Oe._Buffer_from=Oe._Buffer_allocUnsafe=null;return}Oe._Buffer_from=n.from!==Uint8Array.from&&n.from||function(t,r){return new n(t,r)},Oe._Buffer_allocUnsafe=n.allocUnsafe||function(t){return new n(t)}}});var n_=ee((qLe,tq)=>{"use strict";tq.exports=Dt;var Ji=Io(),_N,t_=Ji.LongBits,XV=Ji.base64,JV=Ji.utf8;function eg(n,e,t){this.fn=n,this.len=e,this.next=void 0,this.val=t}function wN(){}function Qpe(n){this.head=n.head,this.tail=n.tail,this.len=n.len,this.next=n.states}function Dt(){this.len=0,this.head=new eg(wN,0,0),this.tail=this.head,this.states=null}var eq=function(){return Ji.Buffer?function(){return(Dt.create=function(){return new _N})()}:function(){return new Dt}};Dt.create=eq();Dt.alloc=function(e){return new Ji.Array(e)};Ji.Array!==Array&&(Dt.alloc=Ji.pool(Dt.alloc,Ji.Array.prototype.subarray));Dt.prototype._push=function(e,t,r){return this.tail=this.tail.next=new eg(e,t,r),this.len+=t,this};function SN(n,e,t){e[t]=n&255}function Ype(n,e,t){for(;n>127;)e[t++]=n&127|128,n>>>=7;e[t]=n}function TN(n,e){this.len=n,this.next=void 0,this.val=e}TN.prototype=Object.create(eg.prototype);TN.prototype.fn=Ype;Dt.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new TN((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Dt.prototype.int32=function(e){return e<0?this._push(CN,10,t_.fromNumber(e)):this.uint32(e)};Dt.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function CN(n,e,t){for(;n.hi;)e[t++]=n.lo&127|128,n.lo=(n.lo>>>7|n.hi<<25)>>>0,n.hi>>>=7;for(;n.lo>127;)e[t++]=n.lo&127|128,n.lo=n.lo>>>7;e[t++]=n.lo}Dt.prototype.uint64=function(e){var t=t_.from(e);return this._push(CN,t.length(),t)};Dt.prototype.int64=Dt.prototype.uint64;Dt.prototype.sint64=function(e){var t=t_.from(e).zzEncode();return this._push(CN,t.length(),t)};Dt.prototype.bool=function(e){return this._push(SN,1,e?1:0)};function EN(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}Dt.prototype.fixed32=function(e){return this._push(EN,4,e>>>0)};Dt.prototype.sfixed32=Dt.prototype.fixed32;Dt.prototype.fixed64=function(e){var t=t_.from(e);return this._push(EN,4,t.lo)._push(EN,4,t.hi)};Dt.prototype.sfixed64=Dt.prototype.fixed64;Dt.prototype.float=function(e){return this._push(Ji.float.writeFloatLE,4,e)};Dt.prototype.double=function(e){return this._push(Ji.float.writeDoubleLE,8,e)};var Zpe=Ji.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};Dt.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(SN,1,0);if(Ji.isString(e)){var r=Dt.alloc(t=XV.length(e));XV.decode(e,r,0),e=r}return this.uint32(t)._push(Zpe,t,e)};Dt.prototype.string=function(e){var t=JV.length(e);return t?this.uint32(t)._push(JV.write,t,e):this._push(SN,1,0)};Dt.prototype.fork=function(){return this.states=new Qpe(this),this.head=this.tail=new eg(wN,0,0),this.len=0,this};Dt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new eg(wN,0,0),this.len=0),this};Dt.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this};Dt.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t};Dt._configure=function(n){_N=n,Dt.create=eq(),_N._configure()}});var iq=ee((jLe,rq)=>{"use strict";rq.exports=Do;var nq=n_();(Do.prototype=Object.create(nq.prototype)).constructor=Do;var Wu=Io();function Do(){nq.call(this)}Do._configure=function(){Do.alloc=Wu._Buffer_allocUnsafe,Do.writeBytesBuffer=Wu.Buffer&&Wu.Buffer.prototype instanceof Uint8Array&&Wu.Buffer.prototype.set.name==="set"?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}};Do.prototype.bytes=function(e){Wu.isString(e)&&(e=Wu._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Do.writeBytesBuffer,t,e),this};function Xpe(n,e,t){n.length<40?Wu.utf8.write(n,e,t):e.utf8Write?e.utf8Write(n,t):e.write(n,t)}Do.prototype.string=function(e){var t=Wu.Buffer.byteLength(e);return this.uint32(t),t&&this._push(Xpe,t,e),this};Do._configure()});var i_=ee((HLe,cq)=>{"use strict";cq.exports=Vn;var qs=Io(),DN,aq=qs.LongBits,Jpe=qs.utf8;function js(n,e){return RangeError("index out of range: "+n.pos+" + "+(e||1)+" > "+n.len)}function Vn(n){this.buf=n,this.pos=0,this.len=n.length}var sq=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Vn(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Vn(e);throw Error("illegal buffer")},uq=function(){return qs.Buffer?function(t){return(Vn.create=function(i){return qs.Buffer.isBuffer(i)?new DN(i):sq(i)})(t)}:sq};Vn.create=uq();Vn.prototype._slice=qs.Array.prototype.subarray||qs.Array.prototype.slice;Vn.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,js(this,10);return e}}();Vn.prototype.int32=function(){return this.uint32()|0};Vn.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function IN(){var n=new aq(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n;if(n.lo=(n.lo|(this.buf[this.pos]&127)<<28)>>>0,n.hi=(n.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return n;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw js(this);if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n}return n.lo=(n.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,n}if(this.len-this.pos>4){for(;e<5;++e)if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}else for(;e<5;++e){if(this.pos>=this.len)throw js(this);if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}throw Error("invalid varint encoding")}Vn.prototype.bool=function(){return this.uint32()!==0};function r_(n,e){return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0}Vn.prototype.fixed32=function(){if(this.pos+4>this.len)throw js(this,4);return r_(this.buf,this.pos+=4)};Vn.prototype.sfixed32=function(){if(this.pos+4>this.len)throw js(this,4);return r_(this.buf,this.pos+=4)|0};function oq(){if(this.pos+8>this.len)throw js(this,8);return new aq(r_(this.buf,this.pos+=4),r_(this.buf,this.pos+=4))}Vn.prototype.float=function(){if(this.pos+4>this.len)throw js(this,4);var e=qs.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Vn.prototype.double=function(){if(this.pos+8>this.len)throw js(this,4);var e=qs.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Vn.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw js(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var i=qs.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)};Vn.prototype.string=function(){var e=this.bytes();return Jpe.read(e,0,e.length)};Vn.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw js(this,e);this.pos+=e}else do if(this.pos>=this.len)throw js(this);while(this.buf[this.pos++]&128);return this};Vn.prototype.skipType=function(n){switch(n){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(n=this.uint32()&7)!==4;)this.skipType(n);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+n+" at offset "+this.pos)}return this};Vn._configure=function(n){DN=n,Vn.create=uq(),DN._configure();var e=qs.Long?"toLong":"toNumber";qs.merge(Vn.prototype,{int64:function(){return IN.call(this)[e](!1)},uint64:function(){return IN.call(this)[e](!0)},sint64:function(){return IN.call(this).zzDecode()[e](!1)},fixed64:function(){return oq.call(this)[e](!0)},sfixed64:function(){return oq.call(this)[e](!1)}})}});var hq=ee(($Le,fq)=>{"use strict";fq.exports=Bl;var dq=i_();(Bl.prototype=Object.create(dq.prototype)).constructor=Bl;var lq=Io();function Bl(n){dq.call(this,n)}Bl._configure=function(){lq.Buffer&&(Bl.prototype._slice=lq.Buffer.prototype.slice)};Bl.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Bl._configure()});var mq=ee((zLe,pq)=>{"use strict";pq.exports=tg;var xN=Io();(tg.prototype=Object.create(xN.EventEmitter.prototype)).constructor=tg;function tg(n,e,t){if(typeof n!="function")throw TypeError("rpcImpl must be a function");xN.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=!!e,this.responseDelimited=!!t}tg.prototype.rpcCall=function n(e,t,r,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return xN.asPromise(n,o,e,t,r,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(u,c){if(u)return o.emit("error",u,e),s(u);if(c===null){o.end(!0);return}if(!(c instanceof r))try{c=r[o.responseDelimited?"decodeDelimited":"decode"](c)}catch(l){return o.emit("error",l,e),s(l)}return o.emit("data",c,e),s(null,c)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};tg.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var AN=ee(gq=>{"use strict";var eme=gq;eme.Service=mq()});var NN=ee((WLe,yq)=>{"use strict";yq.exports={}});var _q=ee(bq=>{"use strict";var pi=bq;pi.build="minimal";pi.Writer=n_();pi.BufferWriter=iq();pi.Reader=i_();pi.BufferReader=hq();pi.util=Io();pi.rpc=AN();pi.roots=NN();pi.configure=vq;function vq(){pi.util._configure(),pi.Writer._configure(pi.BufferWriter),pi.Reader._configure(pi.BufferReader)}vq()});var wq=ee((QLe,Eq)=>{"use strict";Eq.exports=RN;function RN(n,e){typeof n=="string"&&(e=n,n=void 0);var t=[];function r(s){if(typeof s!="string"){var o=i();if(RN.verbose&&console.log("codegen: "+o),o="return "+o,s){for(var a=Object.keys(s),u=new Array(a.length+1),c=new Array(a.length),l=0;l<a.length;)u[l]=a[l],c[l]=s[a[l++]];return u[l]=o,Function.apply(null,u).apply(null,c)}return Function(o)()}for(var d=new Array(arguments.length-1),f=0;f<d.length;)d[f]=arguments[++f];if(f=0,s=s.replace(/%([%dfijs])/g,function(p,v){var T=d[f++];switch(v){case"d":case"f":return String(Number(T));case"i":return String(Math.floor(T));case"j":return JSON.stringify(T);case"s":return String(T)}return"%"}),f!==d.length)throw Error("parameter count mismatch");return t.push(s),r}function i(s){return"function "+(s||e||"")+"("+(n&&n.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return r.toString=i,r}RN.verbose=!1});var Tq=ee((YLe,Sq)=>{"use strict";Sq.exports=ng;var tme=gN(),nme=yN(),kN=nme("fs");function ng(n,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&kN&&kN.readFile?kN.readFile(n,function(i,s){return i&&typeof XMLHttpRequest<"u"?ng.xhr(n,e,t):i?t(i):t(null,e.binary?s:s.toString("utf8"))}):ng.xhr(n,e,t):tme(ng,this,n,e)}ng.xhr=function(e,t,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return r(Error("status "+i.status));if(t.binary){var o=i.response;if(!o){o=[];for(var a=0;a<i.responseText.length;++a)o.push(i.responseText.charCodeAt(a)&255)}return r(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return r(null,i.responseText)}},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var Dq=ee(Iq=>{"use strict";var ON=Iq,Cq=ON.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},MN=ON.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),r=Cq(e),i="";r&&(i=t.shift()+"/");for(var s=0;s<t.length;)t[s]===".."?s>0&&t[s-1]!==".."?t.splice(--s,2):r?t.splice(s,1):++s:t[s]==="."?t.splice(s,1):++s;return i+t.join("/")};ON.resolve=function(e,t,r){return r||(t=MN(t)),Cq(t)?t:(r||(e=MN(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?MN(e+"/"+t):t)}});var jf=ee((XLe,Nq)=>{"use strict";Nq.exports=xt;var s_=Qu();((xt.prototype=Object.create(s_.prototype)).constructor=xt).className="Namespace";var PN=Ku(),o_=cr(),rme=jl(),Vl,qf,ql;xt.fromJSON=function(e,t){return new xt(e,t.options).addJSON(t.nested)};function xq(n,e){if(n&&n.length){for(var t={},r=0;r<n.length;++r)t[n[r].name]=n[r].toJSON(e);return t}}xt.arrayToJSON=xq;xt.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if(typeof e[r]!="string"&&e[r][0]<=t&&e[r][1]>t)return!0}return!1};xt.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1};function xt(n,e){s_.call(this,n,e),this.nested=void 0,this._nestedArray=null}function Aq(n){return n._nestedArray=null,n}Object.defineProperty(xt.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=o_.toArray(this.nested))}});xt.prototype.toJSON=function(e){return o_.toObject(["options",this.options,"nested",xq(this.nestedArray,e)])};xt.prototype.addJSON=function(e){var t=this;if(e)for(var r=Object.keys(e),i=0,s;i<r.length;++i)s=e[r[i]],t.add((s.fields!==void 0?Vl.fromJSON:s.values!==void 0?ql.fromJSON:s.methods!==void 0?qf.fromJSON:s.id!==void 0?PN.fromJSON:xt.fromJSON)(r[i],s));return this};xt.prototype.get=function(e){return this.nested&&this.nested[e]||null};xt.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof ql)return this.nested[e].values;throw Error("no such enum: "+e)};xt.prototype.add=function(e){if(!(e instanceof PN&&e.extend!==void 0||e instanceof Vl||e instanceof rme||e instanceof ql||e instanceof qf||e instanceof xt))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof xt&&e instanceof xt&&!(t instanceof Vl||t instanceof qf)){for(var r=t.nestedArray,i=0;i<r.length;++i)e.add(r[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,this instanceof Vl||this instanceof qf||this instanceof ql||this instanceof PN||e._edition||(e._edition=e._defaultEdition),e.onAdd(this),Aq(this)};xt.prototype.remove=function(e){if(!(e instanceof s_))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),Aq(this)};xt.prototype.define=function(e,t){if(o_.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(r=r.nested[i],!(r instanceof xt))throw Error("path conflicts with non-namespace objects")}else r.add(r=new xt(i))}return t&&r.addJSON(t),r};xt.prototype.resolveAll=function(){var e=this.nestedArray,t=0;for(this.resolve();t<e.length;)e[t]instanceof xt?e[t++].resolveAll():e[t++].resolve();return this};xt.prototype._resolveFeaturesRecursive=function(e){return e=this._edition||e,s_.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this};xt.prototype.lookup=function(e,t,r){if(typeof t=="boolean"?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),o_.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),t);var i=this.get(e[0]);if(i){if(e.length===1){if(!t||t.indexOf(i.constructor)>-1)return i}else if(i instanceof xt&&(i=i.lookup(e.slice(1),t,!0)))return i}else for(var s=0;s<this.nestedArray.length;++s)if(this._nestedArray[s]instanceof xt&&(i=this._nestedArray[s].lookup(e,t,!0)))return i;return this.parent===null||r?null:this.parent.lookup(e,t)};xt.prototype.lookupType=function(e){var t=this.lookup(e,[Vl]);if(!t)throw Error("no such type: "+e);return t};xt.prototype.lookupEnum=function(e){var t=this.lookup(e,[ql]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};xt.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[Vl,ql]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};xt.prototype.lookupService=function(e){var t=this.lookup(e,[qf]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};xt._configure=function(n,e,t){Vl=n,qf=e,ql=t}});var a_=ee((JLe,Rq)=>{"use strict";Rq.exports=Ia;var LN=Ku();((Ia.prototype=Object.create(LN.prototype)).constructor=Ia).className="MapField";var ime=Hl(),rg=cr();function Ia(n,e,t,r,i,s){if(LN.call(this,n,e,r,void 0,void 0,i,s),!rg.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}Ia.fromJSON=function(e,t){return new Ia(e,t.id,t.keyType,t.type,t.options,t.comment)};Ia.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return rg.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};Ia.prototype.resolve=function(){if(this.resolved)return this;if(ime.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return LN.prototype.resolve.call(this)};Ia.d=function(e,t,r){return typeof r=="function"?r=rg.decorateType(r).name:r&&typeof r=="object"&&(r=rg.decorateEnum(r).name),function(s,o){rg.decorateType(s.constructor).add(new Ia(o,e,t,r))}}});var u_=ee((e5e,kq)=>{"use strict";kq.exports=$l;var FN=Qu();(($l.prototype=Object.create(FN.prototype)).constructor=$l).className="Method";var Hf=cr();function $l(n,e,t,r,i,s,o,a,u){if(Hf.isObject(i)?(o=i,i=s=void 0):Hf.isObject(s)&&(o=s,s=void 0),!(e===void 0||Hf.isString(e)))throw TypeError("type must be a string");if(!Hf.isString(t))throw TypeError("requestType must be a string");if(!Hf.isString(r))throw TypeError("responseType must be a string");FN.call(this,n,o),this.type=e||"rpc",this.requestType=t,this.requestStream=i?!0:void 0,this.responseType=r,this.responseStream=s?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=u}$l.fromJSON=function(e,t){return new $l(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};$l.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Hf.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};$l.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),FN.prototype.resolve.call(this))}});var c_=ee((t5e,Oq)=>{"use strict";Oq.exports=Ai;var Da=jf();((Ai.prototype=Object.create(Da.prototype)).constructor=Ai).className="Service";var UN=u_(),ig=cr(),sme=AN();function Ai(n,e){Da.call(this,n,e),this.methods={},this._methodsArray=null}Ai.fromJSON=function(e,t){var r=new Ai(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),s=0;s<i.length;++s)r.add(UN.fromJSON(i[s],t.methods[i[s]]));return t.nested&&r.addJSON(t.nested),t.edition&&(r._edition=t.edition),r.comment=t.comment,r._defaultEdition="proto3",r};Ai.prototype.toJSON=function(e){var t=Da.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return ig.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"methods",Da.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};Object.defineProperty(Ai.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=ig.toArray(this.methods))}});function Mq(n){return n._methodsArray=null,n}Ai.prototype.get=function(e){return this.methods[e]||Da.prototype.get.call(this,e)};Ai.prototype.resolveAll=function(){Da.prototype.resolve.call(this);for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return this};Ai.prototype._resolveFeaturesRecursive=function(e){return e=this._edition||e,Da.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this};Ai.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof UN?(this.methods[e.name]=e,e.parent=this,Mq(this)):Da.prototype.add.call(this,e)};Ai.prototype.remove=function(e){if(e instanceof UN){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,Mq(this)}return Da.prototype.remove.call(this,e)};Ai.prototype.create=function(e,t,r){for(var i=new sme.Service(e,t,r),s=0,o;s<this.methodsArray.length;++s){var a=ig.lcFirst((o=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[a]=ig.codegen(["r","c"],ig.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}});var l_=ee((n5e,Pq)=>{"use strict";Pq.exports=xo;var ome=Io();function xo(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)this[e[t]]=n[e[t]]}xo.create=function(e){return this.$type.create(e)};xo.encode=function(e,t){return this.$type.encode(e,t)};xo.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};xo.decode=function(e){return this.$type.decode(e)};xo.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};xo.verify=function(e){return this.$type.verify(e)};xo.fromObject=function(e){return this.$type.fromObject(e)};xo.toObject=function(e,t){return this.$type.toObject(e,t)};xo.prototype.toJSON=function(){return this.$type.toObject(this,ome.toJSONOptions)}});var BN=ee((r5e,Fq)=>{"use strict";Fq.exports=cme;var ame=Hs(),xa=Hl(),Lq=cr();function ume(n){return"missing required '"+n.name+"'"}function cme(n){for(var e=Lq.codegen(["r","l","e"],n.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(n.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),t=0;t<n.fieldsArray.length;++t){var r=n._fieldsArray[t].resolve(),i=r.resolvedType instanceof ame?"int32":r.type,s="m"+Lq.safeProp(r.name);e("case %i: {",r.id),r.map?(e("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),xa.defaults[r.keyType]!==void 0?e("k=%j",xa.defaults[r.keyType]):e("k=null"),xa.defaults[i]!==void 0?e("value=%j",xa.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),xa.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),xa.long[r.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',s):e("%s[k]=value",s)):r.repeated?(e("if(!(%s&&%s.length))",s,s)("%s=[]",s),xa.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,i)("}else"),xa.basic[i]===void 0?e(r.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",s,t):e("%s.push(r.%s())",s,i)):xa.basic[i]===void 0?e(r.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",s,t):e("%s=r.%s()",s,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<n._fieldsArray.length;++t){var o=n._fieldsArray[t];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",ume(o))}return e("return m")}});var jN=ee((i5e,Uq)=>{"use strict";Uq.exports=fme;var lme=Hs(),VN=cr();function es(n,e){return n.name+": "+e+(n.repeated&&e!=="array"?"[]":n.map&&e!=="object"?"{k:"+n.keyType+"}":"")+" expected"}function qN(n,e,t,r){if(e.resolvedType)if(e.resolvedType instanceof lme){n("switch(%s){",r)("default:")("return%j",es(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),s=0;s<i.length;++s)n("case %i:",e.resolvedType.values[i[s]]);n("break")("}")}else n("{")("var e=types[%i].verify(%s);",t,r)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.isInteger(%s))",r)("return%j",es(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",es(e,"integer|Long"));break;case"float":case"double":n('if(typeof %s!=="number")',r)("return%j",es(e,"number"));break;case"bool":n('if(typeof %s!=="boolean")',r)("return%j",es(e,"boolean"));break;case"string":n("if(!util.isString(%s))",r)("return%j",es(e,"string"));break;case"bytes":n('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",es(e,"buffer"));break}return n}function dme(n,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.key32Re.test(%s))",t)("return%j",es(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.key64Re.test(%s))",t)("return%j",es(e,"integer|Long key"));break;case"bool":n("if(!util.key2Re.test(%s))",t)("return%j",es(e,"boolean key"));break}return n}function fme(n){var e=VN.codegen(["m"],n.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=n.oneofsArray,r={};t.length&&e("var p={}");for(var i=0;i<n.fieldsArray.length;++i){var s=n._fieldsArray[i].resolve(),o="m"+VN.safeProp(s.name);if(s.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,s.name),s.map)e("if(!util.isObject(%s))",o)("return%j",es(s,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),dme(e,s,"k[i]"),qN(e,s,i,o+"[k[i]]")("}");else if(s.repeated)e("if(!Array.isArray(%s))",o)("return%j",es(s,"array"))("for(var i=0;i<%s.length;++i){",o),qN(e,s,i,o+"[i]")("}");else{if(s.partOf){var a=VN.safeProp(s.partOf.name);r[s.partOf.name]===1&&e("if(p%s===1)",a)("return%j",s.partOf.name+": multiple values"),r[s.partOf.name]=1,e("p%s=1",a)}qN(e,s,i,o)}s.optional&&e("}")}return e("return null")}});var zN=ee(Vq=>{"use strict";var Bq=Vq,sg=Hs(),Ao=cr();function HN(n,e,t,r){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof sg){n("switch(d%s){",r);for(var s=e.resolvedType.values,o=Object.keys(s),a=0;a<o.length;++a)s[o[a]]===e.typeDefault&&!i&&(n("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),e.repeated||n("break"),i=!0),n("case%j:",o[a])("case %i:",s[o[a]])("m%s=%j",r,s[o[a]])("break");n("}")}else n('if(typeof d%s!=="object")',r)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,t,r);else{var u=!1;switch(e.type){case"double":case"float":n("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":n("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":n("m%s=d%s|0",r,r);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,u)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,u?"true":"");break;case"bytes":n('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":n("m%s=String(d%s)",r,r);break;case"bool":n("m%s=Boolean(d%s)",r,r);break}}return n}Bq.fromObject=function(e){var t=e.fieldsArray,r=Ao.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<t.length;++i){var s=t[i].resolve(),o=Ao.safeProp(s.name);s.map?(r("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),HN(r,s,i,o+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),HN(r,s,i,o+"[i]")("}")("}")):(s.resolvedType instanceof sg||r("if(d%s!=null){",o),HN(r,s,i,o),s.resolvedType instanceof sg||r("}"))}return r("return m")};function $N(n,e,t,r){if(e.resolvedType)e.resolvedType instanceof sg?n("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,t,r,r,t,r,r):n("d%s=types[%i].toObject(m%s,o)",r,t,r);else{var i=!1;switch(e.type){case"double":case"float":n("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":n("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:n("d%s=m%s",r,r);break}}return n}Bq.toObject=function(e){var t=e.fieldsArray.slice().sort(Ao.compareFieldsById);if(!t.length)return Ao.codegen()("return {}");for(var r=Ao.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],s=[],o=[],a=0;a<t.length;++a)t[a].partOf||(t[a].resolve().repeated?i:t[a].map?s:o).push(t[a]);if(i.length){for(r("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)r("d%s=[]",Ao.safeProp(i[a].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),a=0;a<s.length;++a)r("d%s={}",Ao.safeProp(s[a].name));r("}")}if(o.length){for(r("if(o.defaults){"),a=0;a<o.length;++a){var u=o[a],c=Ao.safeProp(u.name);if(u.resolvedType instanceof sg)r("d%s=o.enums===String?%j:%j",c,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var l="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",c,l)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else r("d%s=%j",c,u.typeDefault)}r("}")}var d=!1;for(a=0;a<t.length;++a){var u=t[a],f=e._fieldsArray.indexOf(u),c=Ao.safeProp(u.name);u.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),$N(r,u,f,c+"[ks2[j]]")("}")):u.repeated?(r("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),$N(r,u,f,c+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",c,u.name),$N(r,u,f,c),u.partOf&&r("if(o.oneofs)")("d%s=%j",Ao.safeProp(u.partOf.name),u.name)),r("}")}return r("return d")}});var GN=ee(qq=>{"use strict";var hme=qq,pme=l_();hme[".google.protobuf.Any"]={fromObject:function(n){if(n&&n["@type"]){var e=n["@type"].substring(n["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var r=n["@type"].charAt(0)==="."?n["@type"].slice(1):n["@type"];return r.indexOf("/")===-1&&(r="/"+r),this.create({type_url:r,value:t.encode(t.fromObject(n)).finish()})}}return this.fromObject(n)},toObject:function(n,e){var t="type.googleapis.com/",r="",i="";if(e&&e.json&&n.type_url&&n.value){i=n.type_url.substring(n.type_url.lastIndexOf("/")+1),r=n.type_url.substring(0,n.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(n=s.decode(n.value))}if(!(n instanceof this.ctor)&&n instanceof pme){var o=n.$type.toObject(n,e),a=n.$type.fullName[0]==="."?n.$type.fullName.slice(1):n.$type.fullName;return r===""&&(r=t),i=r+a,o["@type"]=i,o}return this.toObject(n,e)}}});var h_=ee((a5e,Hq)=>{"use strict";Hq.exports=tn;var ts=jf();((tn.prototype=Object.create(ts.prototype)).constructor=tn).className="Type";var mme=Hs(),QN=jl(),d_=Ku(),gme=a_(),yme=c_(),WN=l_(),KN=i_(),vme=n_(),Lr=cr(),bme=YN(),_me=BN(),Eme=jN(),jq=zN(),wme=GN();function tn(n,e){ts.call(this,n,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(tn.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var n=Object.keys(this.fields),e=0;e<n.length;++e){var t=this.fields[n[e]],r=t.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Lr.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Lr.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=tn.generateConstructor(this)())},set:function(n){var e=n.prototype;e instanceof WN||((n.prototype=new WN).constructor=n,Lr.merge(n.prototype,e)),n.$type=n.prototype.$type=this,Lr.merge(n,WN,!0),this._ctor=n;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var r={};for(t=0;t<this.oneofsArray.length;++t)r[this._oneofsArray[t].resolve().name]={get:Lr.oneOfGetter(this._oneofsArray[t].oneof),set:Lr.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(n.prototype,r)}}});tn.generateConstructor=function(e){for(var t=Lr.codegen(["p"],e.name),r=0,i;r<e.fieldsArray.length;++r)(i=e._fieldsArray[r]).map?t("this%s={}",Lr.safeProp(i.name)):i.repeated&&t("this%s=[]",Lr.safeProp(i.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function f_(n){return n._fieldsById=n._fieldsArray=n._oneofsArray=null,delete n.encode,delete n.decode,delete n.verify,n}tn.fromJSON=function(e,t){var r=new tn(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var i=Object.keys(t.fields),s=0;s<i.length;++s)r.add((typeof t.fields[i[s]].keyType<"u"?gme.fromJSON:d_.fromJSON)(i[s],t.fields[i[s]]));if(t.oneofs)for(i=Object.keys(t.oneofs),s=0;s<i.length;++s)r.add(QN.fromJSON(i[s],t.oneofs[i[s]]));if(t.nested)for(i=Object.keys(t.nested),s=0;s<i.length;++s){var o=t.nested[i[s]];r.add((o.id!==void 0?d_.fromJSON:o.fields!==void 0?tn.fromJSON:o.values!==void 0?mme.fromJSON:o.methods!==void 0?yme.fromJSON:ts.fromJSON)(i[s],o))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};tn.prototype.toJSON=function(e){var t=ts.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return Lr.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"oneofs",ts.arrayToJSON(this.oneofsArray,e),"fields",ts.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};tn.prototype.resolveAll=function(){ts.prototype.resolveAll.call(this);var e=this.oneofsArray;for(r=0;r<e.length;)e[r++].resolve();for(var t=this.fieldsArray,r=0;r<t.length;)t[r++].resolve();return this};tn.prototype._resolveFeaturesRecursive=function(e){return e=this._edition||e,ts.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach(t=>{t._resolveFeatures(e)}),this.fieldsArray.forEach(t=>{t._resolveFeatures(e)}),this};tn.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};tn.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof d_&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),f_(this)}return e instanceof QN?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),f_(this)):ts.prototype.add.call(this,e)};tn.prototype.remove=function(e){if(e instanceof d_&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),f_(this)}if(e instanceof QN){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),f_(this)}return ts.prototype.remove.call(this,e)};tn.prototype.isReservedId=function(e){return ts.isReservedId(this.reserved,e)};tn.prototype.isReservedName=function(e){return ts.isReservedName(this.reserved,e)};tn.prototype.create=function(e){return new this.ctor(e)};tn.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=bme(this)({Writer:vme,types:t,util:Lr}),this.decode=_me(this)({Reader:KN,types:t,util:Lr}),this.verify=Eme(this)({types:t,util:Lr}),this.fromObject=jq.fromObject(this)({types:t,util:Lr}),this.toObject=jq.toObject(this)({types:t,util:Lr});var i=wme[e];if(i){var s=Object.create(this);s.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(s),s.toObject=this.toObject,this.toObject=i.toObject.bind(s)}return this};tn.prototype.encode=function(e,t){return this.setup().encode(e,t)};tn.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};tn.prototype.decode=function(e,t){return this.setup().decode(e,t)};tn.prototype.decodeDelimited=function(e){return e instanceof KN||(e=KN.create(e)),this.decode(e,e.uint32())};tn.prototype.verify=function(e){return this.setup().verify(e)};tn.prototype.fromObject=function(e){return this.setup().fromObject(e)};tn.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};tn.d=function(e){return function(r){Lr.decorateType(r,e)}}});var g_=ee((u5e,Kq)=>{"use strict";Kq.exports=Ni;var m_=jf();((Ni.prototype=Object.create(m_.prototype)).constructor=Ni).className="Root";var XN=Ku(),zq=Hs(),Sme=jl(),Yu=cr(),Gq,ZN,og;function Ni(n){m_.call(this,"",n),this.deferred=[],this.files=[],this._edition="proto2"}Ni.fromJSON=function(e,t){return t||(t=new Ni),e.options&&t.setOptions(e.options),t.addJSON(e.nested).resolveAll()};Ni.prototype.resolvePath=Yu.path.resolve;Ni.prototype.fetch=Yu.fetch;function Wq(){}Ni.prototype.load=function n(e,t,r){typeof t=="function"&&(r=t,t=void 0);var i=this;if(!r)return Yu.asPromise(n,i,e,t);var s=r===Wq;function o(h,p){if(r){if(s)throw h;var v=r;r=null,p&&p.resolveAll(),v(h,p)}}function a(h){var p=h.lastIndexOf("google/protobuf/");if(p>-1){var v=h.substring(p);if(v in og)return v}return null}function u(h,p){try{if(Yu.isString(p)&&p.charAt(0)==="{"&&(p=JSON.parse(p)),!Yu.isString(p))i.setOptions(p.options).addJSON(p.nested);else{ZN.filename=h;var v=ZN(p,i,t),T,w=0;if(v.imports)for(;w<v.imports.length;++w)(T=a(v.imports[w])||i.resolvePath(h,v.imports[w]))&&c(T);if(v.weakImports)for(w=0;w<v.weakImports.length;++w)(T=a(v.weakImports[w])||i.resolvePath(h,v.weakImports[w]))&&c(T,!0)}}catch(C){o(C)}!s&&!l&&o(null,i)}function c(h,p){if(h=a(h)||h,!(i.files.indexOf(h)>-1)){if(i.files.push(h),h in og){s?u(h,og[h]):(++l,setTimeout(function(){--l,u(h,og[h])}));return}if(s){var v;try{v=Yu.fs.readFileSync(h).toString("utf8")}catch(T){p||o(T);return}u(h,v)}else++l,i.fetch(h,function(T,w){if(--l,!!r){if(T){p?l||o(null,i):o(T);return}u(h,w)}})}}var l=0;Yu.isString(e)&&(e=[e]);for(var d=0,f;d<e.length;++d)(f=i.resolvePath("",e[d]))&&c(f);return i.resolveAll(),s||l||o(null,i),i};Ni.prototype.loadSync=function(e,t){if(!Yu.isNode)throw Error("not supported");return this.load(e,t,Wq)};Ni.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return m_.prototype.resolveAll.call(this)};var p_=/^[A-Z]/;function $q(n,e){var t=e.parent.lookup(e.extend);if(t){var r=new XN(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(r.name)||(r.declaringField=e,e.extensionField=r,t.add(r)),!0}return!1}Ni.prototype._handleAdd=function(e){if(e instanceof XN)e.extend!==void 0&&!e.extensionField&&($q(this,e)||this.deferred.push(e));else if(e instanceof zq)p_.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof Sme)){if(e instanceof Gq)for(var t=0;t<this.deferred.length;)$q(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);p_.test(e.name)&&(e.parent[e.name]=e)}};Ni.prototype._handleRemove=function(e){if(e instanceof XN){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof zq)p_.test(e.name)&&delete e.parent[e.name];else if(e instanceof m_){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);p_.test(e.name)&&delete e.parent[e.name]}};Ni._configure=function(n,e,t){Gq=n,ZN=e,og=t}});var cr=ee((c5e,Yq)=>{"use strict";var qn=Yq.exports=Io(),Qq=NN(),JN,eR;qn.codegen=wq();qn.fetch=Tq();qn.path=Dq();qn.fs=qn.inquire("fs");qn.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),i=0;i<t.length;)r[i]=e[t[i++]];return r}return[]};qn.toObject=function(e){for(var t={},r=0;r<e.length;){var i=e[r++],s=e[r++];s!==void 0&&(t[i]=s)}return t};var Tme=/\\/g,Cme=/"/g;qn.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};qn.safeProp=function(e){return!/^[$\w_]+$/.test(e)||qn.isReserved(e)?'["'+e.replace(Tme,"\\\\").replace(Cme,'\\"')+'"]':"."+e};qn.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var Ime=/_([a-z])/g;qn.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(Ime,function(t,r){return r.toUpperCase()})};qn.compareFieldsById=function(e,t){return e.id-t.id};qn.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(qn.decorateRoot.remove(e.$type),e.$type.name=t,qn.decorateRoot.add(e.$type)),e.$type;JN||(JN=h_());var r=new JN(t||e.name);return qn.decorateRoot.add(r),r.ctor=e,Object.defineProperty(e,"$type",{value:r,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:r,enumerable:!1}),r};var Dme=0;qn.decorateEnum=function(e){if(e.$type)return e.$type;eR||(eR=Hs());var t=new eR("Enum"+Dme++,e);return qn.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};qn.setProperty=function(e,t,r,i){function s(o,a,u){var c=a.shift();if(c==="__proto__"||c==="prototype")return o;if(a.length>0)o[c]=s(o[c]||{},a,u);else{var l=o[c];if(l&&i)return o;l&&(u=[].concat(l).concat(u)),o[c]=u}return o}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),s(e,t,r)};Object.defineProperty(qn,"decorateRoot",{get:function(){return Qq.decorated||(Qq.decorated=new(g_()))}})});var Hl=ee(Zq=>{"use strict";var ag=Zq,xme=cr(),Ame=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function ug(n,e){var t=0,r={};for(e|=0;t<n.length;)r[Ame[t+e]]=n[t++];return r}ag.basic=ug([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);ag.defaults=ug([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",xme.emptyArray,null]);ag.long=ug([0,0,0,1,1],7);ag.mapKey=ug([0,0,0,5,5,0,0,0,1,1,0,2],2);ag.packed=ug([1,5,0,0,0,5,5,0,0,0,1,1,0])});var Ku=ee((d5e,ej)=>{"use strict";ej.exports=lr;var lg=Qu();((lr.prototype=Object.create(lg.prototype)).constructor=lr).className="Field";var Xq=Hs(),Jq=Hl(),Zn=cr(),cg,Nme=/^required|optional|repeated$/;lr.fromJSON=function(e,t){var r=new lr(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);return t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};function lr(n,e,t,r,i,s,o){if(Zn.isObject(r)?(o=i,s=r,r=i=void 0):Zn.isObject(i)&&(o=s,s=i,i=void 0),lg.call(this,n,s),!Zn.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!Zn.isString(t))throw TypeError("type must be a string");if(r!==void 0&&!Nme.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!Zn.isString(i))throw TypeError("extend must be a string");r==="proto3_optional"&&(r="optional"),this.rule=r&&r!=="optional"?r:void 0,this.type=t,this.id=e,this.extend=i||void 0,this.repeated=r==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=Zn.Long?Jq.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=o}Object.defineProperty(lr.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(lr.prototype,"optional",{get:function(){return!this.required}});Object.defineProperty(lr.prototype,"delimited",{get:function(){return this.resolvedType instanceof cg&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(lr.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(lr.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});lr.prototype.setOption=function(e,t,r){return lg.prototype.setOption.call(this,e,t,r)};lr.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Zn.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};lr.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=Jq.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof cg?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof Xq&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof Xq)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=Zn.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;Zn.base64.test(this.typeDefault)?Zn.base64.decode(this.typeDefault,e=Zn.newBuffer(Zn.base64.length(this.typeDefault)),0):Zn.utf8.write(this.typeDefault,e=Zn.newBuffer(Zn.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=Zn.emptyObject:this.repeated?this.defaultValue=Zn.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof cg&&(this.parent.ctor.prototype[this.name]=this.defaultValue),lg.prototype.resolve.call(this)};lr.prototype._inferLegacyProtoFeatures=function(e){if(e!=="proto2"&&e!=="proto3")return{};var t={};return this.resolve(),this.rule==="required"&&(t.field_presence="LEGACY_REQUIRED"),this.resolvedType instanceof cg&&this.resolvedType.group&&(t.message_encoding="DELIMITED"),this.getOption("packed")===!0?t.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(t.repeated_field_encoding="EXPANDED"),t};lr.prototype._resolveFeatures=function(e){return lg.prototype._resolveFeatures.call(this,this._edition||e)};lr.d=function(e,t,r,i){return typeof t=="function"?t=Zn.decorateType(t).name:t&&typeof t=="object"&&(t=Zn.decorateEnum(t).name),function(o,a){Zn.decorateType(o.constructor).add(new lr(a,e,t,r,{default:i}))}};lr._configure=function(e){cg=e}});var jl=ee((f5e,rj)=>{"use strict";rj.exports=Ri;var v_=Qu();((Ri.prototype=Object.create(v_.prototype)).constructor=Ri).className="OneOf";var tj=Ku(),y_=cr();function Ri(n,e,t,r){if(Array.isArray(e)||(t=e,e=void 0),v_.call(this,n,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=r}Ri.fromJSON=function(e,t){return new Ri(e,t.oneof,t.options,t.comment)};Ri.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return y_.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function nj(n){if(n.parent)for(var e=0;e<n.fieldsArray.length;++e)n.fieldsArray[e].parent||n.parent.add(n.fieldsArray[e])}Ri.prototype.add=function(e){if(!(e instanceof tj))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,nj(this),this};Ri.prototype.remove=function(e){if(!(e instanceof tj))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};Ri.prototype.onAdd=function(e){v_.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}nj(this)};Ri.prototype.onRemove=function(e){for(var t=0,r;t<this.fieldsArray.length;++t)(r=this.fieldsArray[t]).parent&&r.parent.remove(r);v_.prototype.onRemove.call(this,e)};Object.defineProperty(Ri.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var n=this.fieldsArray[0];return n.options!=null&&n.options.proto3_optional===!0}});Ri.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(i,s){y_.decorateType(i.constructor).add(new Ri(s,e)),Object.defineProperty(i,s,{get:y_.oneOfGetter(e),set:y_.oneOfSetter(e)})}}});var Qu=ee((h5e,ij)=>{"use strict";ij.exports=Tr;Tr.className="ReflectionObject";var Rme=jl(),dg=cr(),b_,kme={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},Mme={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},Ome={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function Tr(n,e){if(!dg.isString(n))throw TypeError("name must be a string");if(e&&!dg.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=n,this._edition=null,this._defaultEdition="proto2",this._features={},this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(Tr.prototype,{root:{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n}},fullName:{get:function(){for(var n=[this.name],e=this.parent;e;)n.unshift(e.name),e=e.parent;return n.join(".")}}});Tr.prototype.toJSON=function(){throw Error()};Tr.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof b_&&t._handleAdd(this)};Tr.prototype.onRemove=function(e){var t=e.root;t instanceof b_&&t._handleRemove(this),this.parent=null,this.resolved=!1};Tr.prototype.resolve=function(){return this.resolved?this:(this instanceof b_&&(this._resolveFeaturesRecursive(this._edition),this.resolved=!0),this)};Tr.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)};Tr.prototype._resolveFeatures=function(e){var t={};if(!e)throw new Error("Unknown edition for "+this.fullName);var r=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if(e==="proto2")t=Object.assign({},Mme);else if(e==="proto3")t=Object.assign({},Ome);else if(e==="2023")t=Object.assign({},kme);else throw new Error("Unknown edition: "+e);this._features=Object.assign(t,r||{});return}if(this.partOf instanceof Rme){var i=Object.assign({},this.partOf._features);this._features=Object.assign(i,r||{})}else if(!this.declaringField)if(this.parent){var s=Object.assign({},this.parent._features);this._features=Object.assign(s,r||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features)};Tr.prototype._inferLegacyProtoFeatures=function(){return{}};Tr.prototype.getOption=function(e){if(this.options)return this.options[e]};Tr.prototype.setOption=function(e,t,r){return this.options||(this.options={}),/^features\./.test(e)?dg.setProperty(this.options,e,t,r):(!r||this.options[e]===void 0)&&(this.getOption(e)!==t&&(this.resolved=!1),this.options[e]=t),this};Tr.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var s=i.find(function(u){return Object.prototype.hasOwnProperty.call(u,e)});if(s){var o=s[e];dg.setProperty(o,r,t)}else s={},s[e]=dg.setProperty({},r,t),i.push(s)}else{var a={};a[e]=t,i.push(a)}return this};Tr.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],t);return this};Tr.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};Tr.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition};Tr._configure=function(n){b_=n}});var Hs=ee((p5e,oj)=>{"use strict";oj.exports=$s;var tR=Qu();(($s.prototype=Object.create(tR.prototype)).constructor=$s).className="Enum";var sj=jf(),__=cr();function $s(n,e,t,r,i,s){if(tR.call(this,n,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=i||{},this.valuesOptions=s,this._valuesFeatures={},this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)typeof e[o[a]]=="number"&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}$s.prototype._resolveFeatures=function(e){return e=this._edition||e,tR.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach(t=>{var r=Object.assign({},this._features);this._valuesFeatures[t]=Object.assign(r,this.valuesOptions&&this.valuesOptions[t]&&this.valuesOptions[t].features)}),this};$s.fromJSON=function(e,t){var r=new $s(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};$s.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return __.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};$s.prototype.add=function(e,t,r,i){if(!__.isString(e))throw TypeError("name must be a string");if(!__.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=r||null,this};$s.prototype.remove=function(e){if(!__.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};$s.prototype.isReservedId=function(e){return sj.isReservedId(this.reserved,e)};$s.prototype.isReservedName=function(e){return sj.isReservedName(this.reserved,e)}});var YN=ee((m5e,uj)=>{"use strict";uj.exports=Lme;var Pme=Hs(),nR=Hl(),rR=cr();function aj(n,e,t,r){return e.delimited?n("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):n("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,r,(e.id<<3|2)>>>0)}function Lme(n){for(var e=rR.codegen(["m","w"],n.name+"$encode")("if(!w)")("w=Writer.create()"),t,r,i=n.fieldsArray.slice().sort(rR.compareFieldsById),t=0;t<i.length;++t){var s=i[t].resolve(),o=n._fieldsArray.indexOf(s),a=s.resolvedType instanceof Pme?"int32":s.type,u=nR.basic[a];r="m"+rR.safeProp(s.name),s.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|nR.mapKey[s.keyType],s.keyType),u===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,r):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|u,a,r),e("}")("}")):s.repeated?(e("if(%s!=null&&%s.length){",r,r),s.packed&&nR.packed[a]!==void 0?e("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",a,r)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",r),u===void 0?aj(e,s,o,r+"[i]"):e("w.uint32(%i).%s(%s[i])",(s.id<<3|u)>>>0,a,r)),e("}")):(s.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,s.name),u===void 0?aj(e,s,o,r):e("w.uint32(%i).%s(%s)",(s.id<<3|u)>>>0,a,r))}return e("return w")}});var lj=ee((g5e,cj)=>{"use strict";var Tt=cj.exports=_q();Tt.build="light";function Fme(n,e,t){return typeof e=="function"?(t=e,e=new Tt.Root):e||(e=new Tt.Root),e.load(n,t)}Tt.load=Fme;function Ume(n,e){return e||(e=new Tt.Root),e.loadSync(n)}Tt.loadSync=Ume;Tt.encoder=YN();Tt.decoder=BN();Tt.verifier=jN();Tt.converter=zN();Tt.ReflectionObject=Qu();Tt.Namespace=jf();Tt.Root=g_();Tt.Enum=Hs();Tt.Type=h_();Tt.Field=Ku();Tt.OneOf=jl();Tt.MapField=a_();Tt.Service=c_();Tt.Method=u_();Tt.Message=l_();Tt.wrappers=GN();Tt.types=Hl();Tt.util=cr();Tt.ReflectionObject._configure(Tt.Root);Tt.Namespace._configure(Tt.Type,Tt.Service,Tt.Enum);Tt.Root._configure(Tt.Type);Tt.Field._configure(Tt.Type)});var sR=ee((y5e,hj)=>{"use strict";hj.exports=fj;var iR=/[\s{}=;:[\],'"()<>]/g,Bme=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,Vme=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,qme=/^ *[*/]+ */,jme=/^\s*\*?\/*/,Hme=/\n/g,$me=/\s/,zme=/\\(.?)/g,Gme={0:"\0",r:"\r",n:`
`,t:"	"};function dj(n){return n.replace(zme,function(e,t){switch(t){case"\\":case"":return t;default:return Gme[t]||""}})}fj.unescape=dj;function fj(n,e){n=n.toString();var t=0,r=n.length,i=1,s=0,o={},a=[],u=null;function c(S){return Error("illegal "+S+" (line "+i+")")}function l(){var S=u==="'"?Vme:Bme;S.lastIndex=t-1;var x=S.exec(n);if(!x)throw c("string");return t=S.lastIndex,T(u),u=null,dj(x[1])}function d(S){return n.charAt(S)}function f(S,x,V){var R={type:n.charAt(S++),lineEmpty:!1,leading:V},A;e?A=2:A=3;var N=S-A,_;do if(--N<0||(_=n.charAt(N))===`
`){R.lineEmpty=!0;break}while(_===" "||_==="	");for(var I=n.substring(S,x).split(Hme),L=0;L<I.length;++L)I[L]=I[L].replace(e?jme:qme,"").trim();R.text=I.join(`
`).trim(),o[i]=R,s=i}function h(S){var x=p(S),V=n.substring(S,x),R=/^\s*\/\//.test(V);return R}function p(S){for(var x=S;x<r&&d(x)!==`
`;)x++;return x}function v(){if(a.length>0)return a.shift();if(u)return l();var S,x,V,R,A,N=t===0;do{if(t===r)return null;for(S=!1;$me.test(V=d(t));)if(V===`
`&&(N=!0,++i),++t===r)return null;if(d(t)==="/"){if(++t===r)throw c("comment");if(d(t)==="/")if(e){if(R=t,A=!1,h(t-1)){A=!0;do if(t=p(t),t===r||(t++,!N))break;while(h(t))}else t=Math.min(r,p(t)+1);A&&(f(R,t,N),N=!0),i++,S=!0}else{for(A=d(R=t+1)==="/";d(++t)!==`
`;)if(t===r)return null;++t,A&&(f(R,t-1,N),N=!0),++i,S=!0}else if((V=d(t))==="*"){R=t+1,A=e||d(R)==="*";do{if(V===`
`&&++i,++t===r)throw c("comment");x=V,V=d(t)}while(x!=="*"||V!=="/");++t,A&&(f(R,t-2,N),N=!0),S=!0}else return"/"}}while(S);var _=t;iR.lastIndex=0;var I=iR.test(d(_++));if(!I)for(;_<r&&!iR.test(d(_));)++_;var L=n.substring(t,t=_);return(L==='"'||L==="'")&&(u=L),L}function T(S){a.push(S)}function w(){if(!a.length){var S=v();if(S===null)return null;T(S)}return a[0]}function C(S,x){var V=w(),R=V===S;if(R)return v(),!0;if(!x)throw c("token '"+V+"', '"+S+"' expected");return!1}function D(S){var x=null,V;return S===void 0?(V=o[i-1],delete o[i-1],V&&(e||V.type==="*"||V.lineEmpty)&&(x=V.leading?V.text:null)):(s<S&&w(),V=o[S],delete o[S],V&&!V.lineEmpty&&(e||V.type==="/")&&(x=V.leading?null:V.text)),x}return Object.defineProperty({next:v,peek:w,push:T,skip:C,cmnt:D},"line",{get:function(){return i}})}});var bj=ee((v5e,vj)=>{"use strict";vj.exports=Aa;Aa.filename=null;Aa.defaults={keepCase:!1};var Wme=sR(),pj=g_(),mj=h_(),gj=Ku(),Kme=a_(),yj=jl(),Qme=Hs(),Yme=c_(),Zme=u_(),Xme=Qu(),Jme=Hl(),oR=cr(),ege=/^[1-9][0-9]*$/,tge=/^-?[1-9][0-9]*$/,nge=/^0[x][0-9a-fA-F]+$/,rge=/^-?0[x][0-9a-fA-F]+$/,ige=/^0[0-7]+$/,sge=/^-?0[0-7]+$/,oge=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,No=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Ro=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function Aa(n,e,t){e instanceof pj||(t=e,e=new pj),t||(t=Aa.defaults);var r=t.preferTrailingComment||!1,i=Wme(n,t.alternateCommentMode||!1),s=i.next,o=i.push,a=i.peek,u=i.skip,c=i.cmnt,l=!0,d,f,h,p="proto2",v=e,T=[],w={},C=t.keepCase?function(J){return J}:oR.camelCase;function D(){T.forEach(J=>{J._edition=p,Object.keys(w).forEach(X=>{J.getOption(X)===void 0&&J.setOption(X,w[X],!0)})})}function S(J,X,se){var Se=Aa.filename;return se||(Aa.filename=null),Error("illegal "+(X||"token")+" '"+J+"' ("+(Se?Se+", ":"")+"line "+i.line+")")}function x(){var J=[],X;do{if((X=s())!=='"'&&X!=="'")throw S(X);J.push(s()),u(X),X=a()}while(X==='"'||X==="'");return J.join("")}function V(J){var X=s();switch(X){case"'":case'"':return o(X),x();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return A(X,!0)}catch{if(J&&Ro.test(X))return X;throw S(X,"value")}}function R(J,X){var se,Se;do if(X&&((se=a())==='"'||se==="'")){var Ee=x();if(J.push(Ee),p>=2023)throw S(Ee,"id")}else try{J.push([Se=N(s()),u("to",!0)?N(s()):Se])}catch(Gt){if(X&&Ro.test(se)&&p>=2023)J.push(se);else throw Gt}while(u(",",!0));var Ze={options:void 0};Ze.setOption=function(Gt,$n){this.options===void 0&&(this.options={}),this.options[Gt]=$n},y(Ze,function($n){if($n==="option")j(Ze,$n),u(";");else throw S($n)},function(){qr(Ze)})}function A(J,X){var se=1;switch(J.charAt(0)==="-"&&(se=-1,J=J.substring(1)),J){case"inf":case"INF":case"Inf":return se*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(ege.test(J))return se*parseInt(J,10);if(nge.test(J))return se*parseInt(J,16);if(ige.test(J))return se*parseInt(J,8);if(oge.test(J))return se*parseFloat(J);throw S(J,"number",X)}function N(J,X){switch(J){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!X&&J.charAt(0)==="-")throw S(J,"id");if(tge.test(J))return parseInt(J,10);if(rge.test(J))return parseInt(J,16);if(sge.test(J))return parseInt(J,8);throw S(J,"id")}function _(){if(d!==void 0)throw S("package");if(d=s(),!Ro.test(d))throw S(d,"name");v=v.define(d),u(";")}function I(){var J=a(),X;switch(J){case"weak":X=h||(h=[]),s();break;case"public":s();default:X=f||(f=[]);break}J=x(),u(";"),X.push(J)}function L(){if(u("="),p=x(),p<2023)throw S(p,"syntax");u(";")}function g(){if(u("="),p=x(),!["2023"].includes(p))throw S(p,"edition");u(";")}function m(J,X){switch(X){case"option":return j(J,X),u(";"),!0;case"message":return O(J,X),!0;case"enum":return Be(J,X),!0;case"service":return Gh(J,X),!0;case"extend":return Kh(J,X),!0}return!1}function y(J,X,se){var Se=i.line;if(J&&(typeof J.comment!="string"&&(J.comment=c()),J.filename=Aa.filename),u("{",!0)){for(var Ee;(Ee=s())!=="}";)X(Ee);u(";",!0)}else se&&se(),u(";"),J&&(typeof J.comment!="string"||r)&&(J.comment=c(Se)||J.comment)}function O(J,X){if(!No.test(X=s()))throw S(X,"type name");var se=new mj(X);y(se,function(Ee){if(!m(se,Ee))switch(Ee){case"map":ue(se,Ee);break;case"required":if(p!=="proto2")throw S(Ee);case"repeated":q(se,Ee);break;case"optional":if(p==="proto3")q(se,"proto3_optional");else{if(p!=="proto2")throw S(Ee);q(se,"optional")}break;case"oneof":ge(se,Ee);break;case"extensions":R(se.extensions||(se.extensions=[]));break;case"reserved":R(se.reserved||(se.reserved=[]),!0);break;default:if(p==="proto2"||!Ro.test(Ee))throw S(Ee);o(Ee),q(se,"optional");break}}),J.add(se),J===v&&T.push(se)}function q(J,X,se){var Se=s();if(Se==="group"){W(J,X);return}for(;Se.endsWith(".")||a().startsWith(".");)Se+=s();if(!Ro.test(Se))throw S(Se,"type");var Ee=s();if(!No.test(Ee))throw S(Ee,"name");Ee=C(Ee),u("=");var Ze=new gj(Ee,N(s()),Se,X,se);if(y(Ze,function(mr){if(mr==="option")j(Ze,mr),u(";");else throw S(mr)},function(){qr(Ze)}),X==="proto3_optional"){var Gt=new yj("_"+Ee);Ze.setOption("proto3_optional",!0),Gt.add(Ze),J.add(Gt)}else J.add(Ze);J===v&&T.push(Ze)}function W(J,X){if(p>=2023)throw S("group");var se=s();if(!No.test(se))throw S(se,"name");var Se=oR.lcFirst(se);se===Se&&(se=oR.ucFirst(se)),u("=");var Ee=N(s()),Ze=new mj(se);Ze.group=!0;var Gt=new gj(Se,Ee,se,X);Gt.filename=Aa.filename,y(Ze,function(mr){switch(mr){case"option":j(Ze,mr),u(";");break;case"required":case"repeated":q(Ze,mr);break;case"optional":p==="proto3"?q(Ze,"proto3_optional"):q(Ze,"optional");break;case"message":O(Ze,mr);break;case"enum":Be(Ze,mr);break;default:throw S(mr)}}),J.add(Ze).add(Gt)}function ue(J){u("<");var X=s();if(Jme.mapKey[X]===void 0)throw S(X,"type");u(",");var se=s();if(!Ro.test(se))throw S(se,"type");u(">");var Se=s();if(!No.test(Se))throw S(Se,"name");u("=");var Ee=new Kme(C(Se),N(s()),X,se);y(Ee,function(Gt){if(Gt==="option")j(Ee,Gt),u(";");else throw S(Gt)},function(){qr(Ee)}),J.add(Ee)}function ge(J,X){if(!No.test(X=s()))throw S(X,"name");var se=new yj(C(X));y(se,function(Ee){Ee==="option"?(j(se,Ee),u(";")):(o(Ee),q(se,"optional"))}),J.add(se)}function Be(J,X){if(!No.test(X=s()))throw S(X,"name");var se=new Qme(X);y(se,function(Ee){switch(Ee){case"option":j(se,Ee),u(";");break;case"reserved":R(se.reserved||(se.reserved=[]),!0),se.reserved===void 0&&(se.reserved=[]);break;default:B(se,Ee)}}),J.add(se),J===v&&T.push(se)}function B(J,X){if(!No.test(X))throw S(X,"name");u("=");var se=N(s(),!0),Se={options:void 0};Se.getOption=function(Ee){return this.options[Ee]},Se.setOption=function(Ee,Ze){Xme.prototype.setOption.call(Se,Ee,Ze)},Se.setParsedOption=function(){},y(Se,function(Ze){if(Ze==="option")j(Se,Ze),u(";");else throw S(Ze)},function(){qr(Se)}),J.add(X,se,Se.comment,Se.parsedOptions||Se.options)}function j(J,X){var se,Se,Ee=!0;for(X==="option"&&(X=s());X!=="=";){if(X==="("){var Ze=s();u(")"),X="("+Ze+")"}if(Ee){if(Ee=!1,X.includes(".")&&!X.includes("(")){var Gt=X.split(".");se=Gt[0]+".",X=Gt[1];continue}se=X}else Se=Se?Se+=X:X;X=s()}var $n=Se?se.concat(Se):se,mr=le(J,$n);Se=Se&&Se[0]==="."?Se.slice(1):Se,se=se&&se[se.length-1]==="."?se.slice(0,-1):se,kt(J,se,mr,Se)}function le(J,X){if(u("{",!0)){for(var se={};!u("}",!0);){if(!No.test(rn=s()))throw S(rn,"name");if(rn===null)throw S(rn,"end of input");var Se,Ee=rn;if(u(":",!0),a()==="{")Se=le(J,X+"."+rn);else if(a()==="["){Se=[];var Ze;if(u("[",!0)){do Ze=V(!0),Se.push(Ze);while(u(",",!0));u("]"),typeof Ze<"u"&&Ce(J,X+"."+rn,Ze)}}else Se=V(!0),Ce(J,X+"."+rn,Se);var Gt=se[Ee];Gt&&(Se=[].concat(Gt).concat(Se)),se[Ee]=Se,u(",",!0),u(";",!0)}return se}var $n=V(!0);return Ce(J,X,$n),$n}function Ce(J,X,se){if(v===J&&/^features\./.test(X)){w[X]=se;return}J.setOption&&J.setOption(X,se)}function kt(J,X,se,Se){J.setParsedOption&&J.setParsedOption(X,se,Se)}function qr(J){if(u("[",!0)){do j(J,"option");while(u(",",!0));u("]")}return J}function Gh(J,X){if(!No.test(X=s()))throw S(X,"service name");var se=new Yme(X);y(se,function(Ee){if(!m(se,Ee))if(Ee==="rpc")Wh(se,Ee);else throw S(Ee)}),J.add(se),J===v&&T.push(se)}function Wh(J,X){var se=c(),Se=X;if(!No.test(X=s()))throw S(X,"name");var Ee=X,Ze,Gt,$n,mr;if(u("("),u("stream",!0)&&(Gt=!0),!Ro.test(X=s())||(Ze=X,u(")"),u("returns"),u("("),u("stream",!0)&&(mr=!0),!Ro.test(X=s())))throw S(X);$n=X,u(")");var Pi=new Zme(Ee,Se,Ze,$n,Gt,mr);Pi.comment=se,y(Pi,function(zn){if(zn==="option")j(Pi,zn),u(";");else throw S(zn)}),J.add(Pi)}function Kh(J,X){if(!Ro.test(X=s()))throw S(X,"reference");var se=X;y(null,function(Ee){switch(Ee){case"required":case"repeated":q(J,Ee,se);break;case"optional":p==="proto3"?q(J,"proto3_optional",se):q(J,"optional",se);break;default:if(p==="proto2"||!Ro.test(Ee))throw S(Ee);o(Ee),q(J,"optional",se);break}})}for(var rn;(rn=s())!==null;)switch(rn){case"package":if(!l)throw S(rn);_();break;case"import":if(!l)throw S(rn);I();break;case"syntax":if(!l)throw S(rn);L();break;case"edition":if(!l)throw S(rn);g();break;case"option":j(v,rn),u(";",!0);break;default:if(m(v,rn)){l=!1;continue}throw S(rn)}return D(),Aa.filename=null,{package:d,imports:f,weakImports:h,root:e}}});var wj=ee((b5e,Ej)=>{"use strict";Ej.exports=zs;var age=/\/|\./;function zs(n,e){age.test(n)||(n="google/protobuf/"+n+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),zs[n]=e}zs("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var _j;zs("duration",{Duration:_j={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});zs("timestamp",{Timestamp:_j});zs("empty",{Empty:{fields:{}}});zs("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});zs("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});zs("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});zs.get=function(e){return zs[e]||null}});var Tj=ee((_5e,Sj)=>{"use strict";var Zu=Sj.exports=lj();Zu.build="full";Zu.tokenize=sR();Zu.parse=bj();Zu.common=wj();Zu.Root._configure(Zu.Type,Zu.parse,Zu.common)});var E_=ee((E5e,Cj)=>{"use strict";Cj.exports=Tj()});var aR=ee((w5e,uge)=>{uge.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var Nj=ee((mt,Aj)=>{"use strict";var Kr=E_();Aj.exports=mt=Kr.descriptor=Kr.Root.fromJSON(aR()).lookup(".google.protobuf");var Ij=Kr.Namespace,fg=Kr.Root,Na=Kr.Enum,Xu=Kr.Type,Ju=Kr.Field,cge=Kr.MapField,w_=Kr.OneOf,hg=Kr.Service,S_=Kr.Method;fg.fromDescriptor=function(e){typeof e.length=="number"&&(e=mt.FileDescriptorSet.decode(e));var t=new fg;if(e.file)for(var r,i,s=0,o;s<e.file.length;++s){if(i=t,(r=e.file[s]).package&&r.package.length&&(i=t.define(r.package)),r.name&&r.name.length&&t.files.push(i.filename=r.name),r.messageType)for(o=0;o<r.messageType.length;++o)i.add(Xu.fromDescriptor(r.messageType[o],r.syntax));if(r.enumType)for(o=0;o<r.enumType.length;++o)i.add(Na.fromDescriptor(r.enumType[o]));if(r.extension)for(o=0;o<r.extension.length;++o)i.add(Ju.fromDescriptor(r.extension[o]));if(r.service)for(o=0;o<r.service.length;++o)i.add(hg.fromDescriptor(r.service[o]));var a=$f(r.options,mt.FileOptions);if(a){var u=Object.keys(a);for(o=0;o<u.length;++o)i.setOption(u[o],a[u[o]])}}return t};fg.prototype.toDescriptor=function(e){var t=mt.FileDescriptorSet.create();return Dj(this,t.file,e),t};function Dj(n,e,t){var r=mt.FileDescriptorProto.create({name:n.filename||(n.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});t&&(r.syntax=t),n instanceof fg||(r.package=n.fullName.substring(1));for(var i=0,s;i<n.nestedArray.length;++i)(s=n._nestedArray[i])instanceof Xu?r.messageType.push(s.toDescriptor(t)):s instanceof Na?r.enumType.push(s.toDescriptor()):s instanceof Ju?r.extension.push(s.toDescriptor(t)):s instanceof hg?r.service.push(s.toDescriptor()):s instanceof Ij&&Dj(s,e,t);r.options=zf(n.options,mt.FileOptions),r.messageType.length+r.enumType.length+r.extension.length+r.service.length&&e.push(r)}var lge=0;Xu.fromDescriptor=function(e,t){typeof e.length=="number"&&(e=mt.DescriptorProto.decode(e));var r=new Xu(e.name.length?e.name:"Type"+lge++,$f(e.options,mt.MessageOptions)),i;if(e.oneofDecl)for(i=0;i<e.oneofDecl.length;++i)r.add(w_.fromDescriptor(e.oneofDecl[i]));if(e.field)for(i=0;i<e.field.length;++i){var s=Ju.fromDescriptor(e.field[i],t);r.add(s),e.field[i].hasOwnProperty("oneofIndex")&&r.oneofsArray[e.field[i].oneofIndex].add(s)}if(e.extension)for(i=0;i<e.extension.length;++i)r.add(Ju.fromDescriptor(e.extension[i],t));if(e.nestedType)for(i=0;i<e.nestedType.length;++i)r.add(Xu.fromDescriptor(e.nestedType[i],t)),e.nestedType[i].options&&e.nestedType[i].options.mapEntry&&r.setOption("map_entry",!0);if(e.enumType)for(i=0;i<e.enumType.length;++i)r.add(Na.fromDescriptor(e.enumType[i]));if(e.extensionRange&&e.extensionRange.length)for(r.extensions=[],i=0;i<e.extensionRange.length;++i)r.extensions.push([e.extensionRange[i].start,e.extensionRange[i].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(r.reserved=[],e.reservedRange)for(i=0;i<e.reservedRange.length;++i)r.reserved.push([e.reservedRange[i].start,e.reservedRange[i].end]);if(e.reservedName)for(i=0;i<e.reservedName.length;++i)r.reserved.push(e.reservedName[i])}return r};Xu.prototype.toDescriptor=function(e){var t=mt.DescriptorProto.create({name:this.name}),r;for(r=0;r<this.fieldsArray.length;++r){var i;if(t.field.push(i=this._fieldsArray[r].toDescriptor(e)),this._fieldsArray[r]instanceof cge){var s=uR(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType),o=uR(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType),a=o===11||o===14?this._fieldsArray[r].resolvedType&&xj(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:void 0;t.nestedType.push(mt.DescriptorProto.create({name:i.typeName,field:[mt.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),mt.FieldDescriptorProto.create({name:"value",number:2,label:1,type:o,typeName:a})],options:mt.MessageOptions.create({mapEntry:!0})}))}}for(r=0;r<this.oneofsArray.length;++r)t.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r)this._nestedArray[r]instanceof Ju?t.field.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof Xu?t.nestedType.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof Na&&t.enumType.push(this._nestedArray[r].toDescriptor());if(this.extensions)for(r=0;r<this.extensions.length;++r)t.extensionRange.push(mt.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)typeof this.reserved[r]=="string"?t.reservedName.push(this.reserved[r]):t.reservedRange.push(mt.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));return t.options=zf(this.options,mt.MessageOptions),t};var dge=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;Ju.fromDescriptor=function(e,t){if(typeof e.length=="number"&&(e=mt.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var r;e.typeName&&e.typeName.length?r=e.typeName:r=gge(e.type);var i;switch(e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var s=e.extendee;e.extendee!==void 0&&(s=s.length?s:void 0);var o=new Ju(e.name.length?e.name:"field"+e.number,e.number,r,i,s);if(o.options=$f(e.options,mt.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:var u=dge.exec(a);u&&(a=parseInt(a));break}o.setOption("default",a)}return yge(e.type)&&(t==="proto3"?e.options&&!e.options.packed&&o.setOption("packed",!1):e.options&&e.options.packed||o.setOption("packed",!1)),o};Ju.prototype.toDescriptor=function(e){var t=mt.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)t.type=11,t.typeName=Kr.util.ucFirst(this.name),t.label=3;else{switch(t.type=uR(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:t.typeName=this.resolvedType?xj(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":t.label=3;break;case"required":t.label=2;break;default:t.label=1;break}}if(t.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(t.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(t.options=zf(this.options,mt.FieldOptions),this.options.default!=null&&(t.defaultValue=String(this.options.default))),e==="proto3"?this.packed||((t.options||(t.options=mt.FieldOptions.create())).packed=!1):this.packed&&((t.options||(t.options=mt.FieldOptions.create())).packed=!0),t};var fge=0;Na.fromDescriptor=function(e){typeof e.length=="number"&&(e=mt.EnumDescriptorProto.decode(e));var t={};if(e.value)for(var r=0;r<e.value.length;++r){var i=e.value[r].name,s=e.value[r].number||0;t[i&&i.length?i:"NAME"+s]=s}return new Na(e.name&&e.name.length?e.name:"Enum"+fge++,t,$f(e.options,mt.EnumOptions))};Na.prototype.toDescriptor=function(){for(var e=[],t=0,r=Object.keys(this.values);t<r.length;++t)e.push(mt.EnumValueDescriptorProto.create({name:r[t],number:this.values[r[t]]}));return mt.EnumDescriptorProto.create({name:this.name,value:e,options:zf(this.options,mt.EnumOptions)})};var hge=0;w_.fromDescriptor=function(e){return typeof e.length=="number"&&(e=mt.OneofDescriptorProto.decode(e)),new w_(e.name&&e.name.length?e.name:"oneof"+hge++)};w_.prototype.toDescriptor=function(){return mt.OneofDescriptorProto.create({name:this.name})};var pge=0;hg.fromDescriptor=function(e){typeof e.length=="number"&&(e=mt.ServiceDescriptorProto.decode(e));var t=new hg(e.name&&e.name.length?e.name:"Service"+pge++,$f(e.options,mt.ServiceOptions));if(e.method)for(var r=0;r<e.method.length;++r)t.add(S_.fromDescriptor(e.method[r]));return t};hg.prototype.toDescriptor=function(){for(var e=[],t=0;t<this.methodsArray.length;++t)e.push(this._methodsArray[t].toDescriptor());return mt.ServiceDescriptorProto.create({name:this.name,method:e,options:zf(this.options,mt.ServiceOptions)})};var mge=0;S_.fromDescriptor=function(e){return typeof e.length=="number"&&(e=mt.MethodDescriptorProto.decode(e)),new S_(e.name&&e.name.length?e.name:"Method"+mge++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,$f(e.options,mt.MethodOptions))};S_.prototype.toDescriptor=function(){return mt.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:zf(this.options,mt.MethodOptions)})};function gge(n){switch(n){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+n)}function yge(n){switch(n){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function uR(n,e){switch(n){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof Na)return 14;if(e instanceof Xu)return e.group?10:11;throw Error("illegal type: "+n)}function $f(n,e){if(n){for(var t=[],r=0,i,s,o;r<e.fieldsArray.length;++r)(s=(i=e._fieldsArray[r]).name)!=="uninterpretedOption"&&n.hasOwnProperty(s)&&(o=n[s],i.resolvedType instanceof Na&&typeof o=="number"&&i.resolvedType.valuesById[o]!==void 0&&(o=i.resolvedType.valuesById[o]),t.push(vge(s),o));return t.length?Kr.util.toObject(t):void 0}}function zf(n,e){if(n){for(var t=[],r=0,i=Object.keys(n),s,o;r<i.length;++r)if(o=n[s=i[r]],s!=="default"){var a=e.fields[s];!a&&!(a=e.fields[s=Kr.util.camelCase(s)])||t.push(s,o)}return t.length?e.fromObject(Kr.util.toObject(t)):void 0}}function xj(n,e){var t=n.fullName.split("."),r=e.fullName.split("."),i=0,s=0,o=r.length-1;if(!(n instanceof fg)&&e instanceof Ij)for(;i<t.length&&s<o&&t[i]===r[s];){var a=e.lookup(t[i++],!0);if(a!==null&&a!==e)break;++s}else for(;i<t.length&&s<o&&t[i]===r[s];++i,++s);return r.slice(s).join(".")}function vge(n){return n.substring(0,1)+n.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}});var Rj=ee((S5e,bge)=>{bge.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var kj=ee((T5e,_ge)=>{_ge.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var Mj=ee((C5e,Ege)=>{Ege.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var Fj=ee(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.addCommonProtos=ec.loadProtosWithOptionsSync=ec.loadProtosWithOptions=void 0;var Oj=Wt("fs"),Pj=Wt("path"),Gf=E_();function Lj(n,e){let t=n.resolvePath;n.resolvePath=(r,i)=>{if(Pj.isAbsolute(i))return i;for(let s of e){let o=Pj.join(s,i);try{return Oj.accessSync(o,Oj.constants.R_OK),o}catch{continue}}return process.emitWarning(`${i} not found in any of the include paths ${e}`),t(r,i)}}function wge(n,e){return P(this,null,function*(){let t=new Gf.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));Lj(t,e.includeDirs)}let r=yield t.load(n,e);return r.resolveAll(),r})}ec.loadProtosWithOptions=wge;function Sge(n,e){let t=new Gf.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");Lj(t,e.includeDirs)}let r=t.loadSync(n,e);return r.resolveAll(),r}ec.loadProtosWithOptionsSync=Sge;function Tge(){let n=Rj(),e=aR(),t=kj(),r=Mj();Gf.common("api",n.nested.google.nested.protobuf.nested),Gf.common("descriptor",e.nested.google.nested.protobuf.nested),Gf.common("source_context",t.nested.google.nested.protobuf.nested),Gf.common("type",r.nested.google.nested.protobuf.nested)}ec.addCommonProtos=Tge});var Uj=ee((pg,cR)=>{"use strict";(function(n,e){function t(r){return r.default||r}typeof define=="function"&&define.amd?define([],function(){var r={};return e(r),t(r)}):typeof pg=="object"?(e(pg),typeof cR=="object"&&(cR.exports=t(pg))):function(){var r={};e(r),n.Long=t(r)}()})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:pg,function(n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(g,m,y){this.low=g|0,this.high=m|0,this.unsigned=!!y}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function r(g){return(g&&g.__isLong__)===!0}function i(g){var m=Math.clz32(g&-g);return g?31-m:m}t.isLong=r;var s={},o={};function a(g,m){var y,O,q;return m?(g>>>=0,(q=0<=g&&g<256)&&(O=o[g],O)?O:(y=c(g,0,!0),q&&(o[g]=y),y)):(g|=0,(q=-128<=g&&g<128)&&(O=s[g],O)?O:(y=c(g,g<0?-1:0,!1),q&&(s[g]=y),y))}t.fromInt=a;function u(g,m){if(isNaN(g))return m?S:D;if(m){if(g<0)return S;if(g>=T)return N}else{if(g<=-w)return _;if(g+1>=w)return A}return g<0?u(-g,m).neg():c(g%v|0,g/v|0,m)}t.fromNumber=u;function c(g,m,y){return new t(g,m,y)}t.fromBits=c;var l=Math.pow;function d(g,m,y){if(g.length===0)throw Error("empty string");if(typeof m=="number"?(y=m,m=!1):m=!!m,g==="NaN"||g==="Infinity"||g==="+Infinity"||g==="-Infinity")return m?S:D;if(y=y||10,y<2||36<y)throw RangeError("radix");var O;if((O=g.indexOf("-"))>0)throw Error("interior hyphen");if(O===0)return d(g.substring(1),m,y).neg();for(var q=u(l(y,8)),W=D,ue=0;ue<g.length;ue+=8){var ge=Math.min(8,g.length-ue),Be=parseInt(g.substring(ue,ue+ge),y);if(ge<8){var B=u(l(y,ge));W=W.mul(B).add(u(Be))}else W=W.mul(q),W=W.add(u(Be))}return W.unsigned=m,W}t.fromString=d;function f(g,m){return typeof g=="number"?u(g,m):typeof g=="string"?d(g,m):c(g.low,g.high,typeof m=="boolean"?m:g.unsigned)}t.fromValue=f;var h=65536,p=1<<24,v=h*h,T=v*v,w=T/2,C=a(p),D=a(0);t.ZERO=D;var S=a(0,!0);t.UZERO=S;var x=a(1);t.ONE=x;var V=a(1,!0);t.UONE=V;var R=a(-1);t.NEG_ONE=R;var A=c(-1,2147483647,!1);t.MAX_VALUE=A;var N=c(-1,-1,!0);t.MAX_UNSIGNED_VALUE=N;var _=c(0,-2147483648,!1);t.MIN_VALUE=_;var I=t.prototype;I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*v+(this.low>>>0):this.high*v+(this.low>>>0)},I.toString=function(m){if(m=m||10,m<2||36<m)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(_)){var y=u(m),O=this.div(y),q=O.mul(y).sub(this);return O.toString(m)+q.toInt().toString(m)}else return"-"+this.neg().toString(m);for(var W=u(l(m,6),this.unsigned),ue=this,ge="";;){var Be=ue.div(W),B=ue.sub(Be.mul(W)).toInt()>>>0,j=B.toString(m);if(ue=Be,ue.isZero())return j+ge;for(;j.length<6;)j="0"+j;ge=""+j+ge}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var m=this.high!=0?this.high:this.low,y=31;y>0&&(m&1<<y)==0;y--);return this.high!=0?y+33:y+1},I.isSafeInteger=function(){var m=this.high>>21;return m?this.unsigned?!1:m===-1&&!(this.low===0&&this.high===-2097152):!0},I.isZero=function(){return this.high===0&&this.low===0},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return(this.low&1)===1},I.isEven=function(){return(this.low&1)===0},I.equals=function(m){return r(m)||(m=f(m)),this.unsigned!==m.unsigned&&this.high>>>31===1&&m.high>>>31===1?!1:this.high===m.high&&this.low===m.low},I.eq=I.equals,I.notEquals=function(m){return!this.eq(m)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(m){return this.comp(m)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(m){return this.comp(m)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(m){return this.comp(m)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(m){return this.comp(m)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(m){if(r(m)||(m=f(m)),this.eq(m))return 0;var y=this.isNegative(),O=m.isNegative();return y&&!O?-1:!y&&O?1:this.unsigned?m.high>>>0>this.high>>>0||m.high===this.high&&m.low>>>0>this.low>>>0?-1:1:this.sub(m).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(x)},I.neg=I.negate,I.add=function(m){r(m)||(m=f(m));var y=this.high>>>16,O=this.high&65535,q=this.low>>>16,W=this.low&65535,ue=m.high>>>16,ge=m.high&65535,Be=m.low>>>16,B=m.low&65535,j=0,le=0,Ce=0,kt=0;return kt+=W+B,Ce+=kt>>>16,kt&=65535,Ce+=q+Be,le+=Ce>>>16,Ce&=65535,le+=O+ge,j+=le>>>16,le&=65535,j+=y+ue,j&=65535,c(Ce<<16|kt,j<<16|le,this.unsigned)},I.subtract=function(m){return r(m)||(m=f(m)),this.add(m.neg())},I.sub=I.subtract,I.multiply=function(m){if(this.isZero())return this;if(r(m)||(m=f(m)),e){var y=e.mul(this.low,this.high,m.low,m.high);return c(y,e.get_high(),this.unsigned)}if(m.isZero())return this.unsigned?S:D;if(this.eq(_))return m.isOdd()?_:D;if(m.eq(_))return this.isOdd()?_:D;if(this.isNegative())return m.isNegative()?this.neg().mul(m.neg()):this.neg().mul(m).neg();if(m.isNegative())return this.mul(m.neg()).neg();if(this.lt(C)&&m.lt(C))return u(this.toNumber()*m.toNumber(),this.unsigned);var O=this.high>>>16,q=this.high&65535,W=this.low>>>16,ue=this.low&65535,ge=m.high>>>16,Be=m.high&65535,B=m.low>>>16,j=m.low&65535,le=0,Ce=0,kt=0,qr=0;return qr+=ue*j,kt+=qr>>>16,qr&=65535,kt+=W*j,Ce+=kt>>>16,kt&=65535,kt+=ue*B,Ce+=kt>>>16,kt&=65535,Ce+=q*j,le+=Ce>>>16,Ce&=65535,Ce+=W*B,le+=Ce>>>16,Ce&=65535,Ce+=ue*Be,le+=Ce>>>16,Ce&=65535,le+=O*j+q*B+W*Be+ue*ge,le&=65535,c(kt<<16|qr,le<<16|Ce,this.unsigned)},I.mul=I.multiply,I.divide=function(m){if(r(m)||(m=f(m)),m.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&m.low===-1&&m.high===-1)return this;var y=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,m.low,m.high);return c(y,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?S:D;var O,q,W;if(this.unsigned){if(m.unsigned||(m=m.toUnsigned()),m.gt(this))return S;if(m.gt(this.shru(1)))return V;W=S}else{if(this.eq(_)){if(m.eq(x)||m.eq(R))return _;if(m.eq(_))return x;var ue=this.shr(1);return O=ue.div(m).shl(1),O.eq(D)?m.isNegative()?x:R:(q=this.sub(m.mul(O)),W=O.add(q.div(m)),W)}else if(m.eq(_))return this.unsigned?S:D;if(this.isNegative())return m.isNegative()?this.neg().div(m.neg()):this.neg().div(m).neg();if(m.isNegative())return this.div(m.neg()).neg();W=D}for(q=this;q.gte(m);){O=Math.max(1,Math.floor(q.toNumber()/m.toNumber()));for(var ge=Math.ceil(Math.log(O)/Math.LN2),Be=ge<=48?1:l(2,ge-48),B=u(O),j=B.mul(m);j.isNegative()||j.gt(q);)O-=Be,B=u(O,this.unsigned),j=B.mul(m);B.isZero()&&(B=x),W=W.add(B),q=q.sub(j)}return W},I.div=I.divide,I.modulo=function(m){if(r(m)||(m=f(m)),e){var y=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,m.low,m.high);return c(y,e.get_high(),this.unsigned)}return this.sub(this.div(m).mul(m))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return c(~this.low,~this.high,this.unsigned)},I.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},I.clz=I.countLeadingZeros,I.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},I.ctz=I.countTrailingZeros,I.and=function(m){return r(m)||(m=f(m)),c(this.low&m.low,this.high&m.high,this.unsigned)},I.or=function(m){return r(m)||(m=f(m)),c(this.low|m.low,this.high|m.high,this.unsigned)},I.xor=function(m){return r(m)||(m=f(m)),c(this.low^m.low,this.high^m.high,this.unsigned)},I.shiftLeft=function(m){return r(m)&&(m=m.toInt()),(m&=63)===0?this:m<32?c(this.low<<m,this.high<<m|this.low>>>32-m,this.unsigned):c(0,this.low<<m-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(m){return r(m)&&(m=m.toInt()),(m&=63)===0?this:m<32?c(this.low>>>m|this.high<<32-m,this.high>>m,this.unsigned):c(this.high>>m-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(m){return r(m)&&(m=m.toInt()),(m&=63)===0?this:m<32?c(this.low>>>m|this.high<<32-m,this.high>>>m,this.unsigned):m===32?c(this.high,0,this.unsigned):c(this.high>>>m-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.rotateLeft=function(m){var y;return r(m)&&(m=m.toInt()),(m&=63)===0?this:m===32?c(this.high,this.low,this.unsigned):m<32?(y=32-m,c(this.low<<m|this.high>>>y,this.high<<m|this.low>>>y,this.unsigned)):(m-=32,y=32-m,c(this.high<<m|this.low>>>y,this.low<<m|this.high>>>y,this.unsigned))},I.rotl=I.rotateLeft,I.rotateRight=function(m){var y;return r(m)&&(m=m.toInt()),(m&=63)===0?this:m===32?c(this.high,this.low,this.unsigned):m<32?(y=32-m,c(this.high<<y|this.low>>>m,this.low<<y|this.high>>>m,this.unsigned)):(m-=32,y=32-m,c(this.low<<y|this.high>>>m,this.high<<y|this.low>>>m,this.unsigned))},I.rotr=I.rotateRight,I.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},I.toBytes=function(m){return m?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var m=this.high,y=this.low;return[y&255,y>>>8&255,y>>>16&255,y>>>24,m&255,m>>>8&255,m>>>16&255,m>>>24]},I.toBytesBE=function(){var m=this.high,y=this.low;return[m>>>24,m>>>16&255,m>>>8&255,m&255,y>>>24,y>>>16&255,y>>>8&255,y&255]},t.fromBytes=function(m,y,O){return O?t.fromBytesLE(m,y):t.fromBytesBE(m,y)},t.fromBytesLE=function(m,y){return new t(m[0]|m[1]<<8|m[2]<<16|m[3]<<24,m[4]|m[5]<<8|m[6]<<16|m[7]<<24,y)},t.fromBytesBE=function(m,y){return new t(m[4]<<24|m[5]<<16|m[6]<<8|m[7],m[0]<<24|m[1]<<16|m[2]<<8|m[3],y)},typeof BigInt=="function"&&(t.fromBigInt=function(m,y){var O=Number(BigInt.asIntN(32,m)),q=Number(BigInt.asIntN(32,m>>BigInt(32)));return c(O,q,y)},t.fromValue=function(m,y){return typeof m=="bigint"?t.fromBigInt(m,y):f(m,y)},I.toBigInt=function(){var m=BigInt(this.low>>>0),y=BigInt(this.unsigned?this.high>>>0:this.high);return y<<BigInt(32)|m});var L=n.default=t})});var hR=ee(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.loadFileDescriptorSetFromObject=sr.loadFileDescriptorSetFromBuffer=sr.fromJSON=sr.loadSync=sr.load=sr.IdempotencyLevel=sr.isAnyExtension=sr.Long=void 0;var Cge=AV(),ko=E_(),dR=Nj(),fR=Fj(),Ige=Uj();sr.Long=Ige;function Dge(n){return"@type"in n&&typeof n["@type"]=="string"}sr.isAnyExtension=Dge;var qj;(function(n){n.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",n.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",n.IDEMPOTENT="IDEMPOTENT"})(qj=sr.IdempotencyLevel||(sr.IdempotencyLevel={}));var jj={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function xge(n,e){return n===""?e:n+"."+e}function Age(n){return n instanceof ko.Service||n instanceof ko.Type||n instanceof ko.Enum}function Nge(n){return n instanceof ko.Namespace||n instanceof ko.Root}function Hj(n,e){let t=xge(e,n.name);return Age(n)?[[t,n]]:Nge(n)&&typeof n.nested<"u"?Object.keys(n.nested).map(r=>Hj(n.nested[r],t)).reduce((r,i)=>r.concat(i),[]):[]}function Bj(n,e){return function(r){return n.toObject(n.decode(r),e)}}function Vj(n){return function(t){if(Array.isArray(t))throw new Error(`Failed to serialize message: expected object with ${n.name} structure, got array instead`);let r=n.fromObject(t);return n.encode(r).finish()}}function Rge(n){return(n||[]).reduce((e,t)=>{for(let[r,i]of Object.entries(t))switch(r){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[r]=i}return e},{deprecated:!1,idempotency_level:qj.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function kge(n,e,t,r){let i=n.resolvedRequestType,s=n.resolvedResponseType;return{path:"/"+e+"/"+n.name,requestStream:!!n.requestStream,responseStream:!!n.responseStream,requestSerialize:Vj(i),requestDeserialize:Bj(i,t),responseSerialize:Vj(s),responseDeserialize:Bj(s,t),originalName:Cge(n.name),requestType:lR(i,r),responseType:lR(s,r),options:Rge(n.parsedOptions)}}function Mge(n,e,t,r){let i={};for(let s of n.methodsArray)i[s.name]=kge(s,e,t,r);return i}function lR(n,e){let t=n.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:t.$type.toObject(t,jj),fileDescriptorProtos:e}}function Oge(n,e){let t=n.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:t.$type.toObject(t,jj),fileDescriptorProtos:e}}function Pge(n,e,t,r){if(n instanceof ko.Service)return Mge(n,e,t,r);if(n instanceof ko.Type)return lR(n,r);if(n instanceof ko.Enum)return Oge(n,r);throw new Error("Type mismatch in reflection object handling")}function T_(n,e){let t={};n.resolveAll();let i=n.toDescriptor("proto3").file.map(s=>Buffer.from(dR.FileDescriptorProto.encode(s).finish()));for(let[s,o]of Hj(n,""))t[s]=Pge(o,s,e,i);return t}function $j(n,e){e=e||{};let t=ko.Root.fromDescriptor(n);return t.resolveAll(),T_(t,e)}function Lge(n,e){return(0,fR.loadProtosWithOptions)(n,e).then(t=>T_(t,e))}sr.load=Lge;function Fge(n,e){let t=(0,fR.loadProtosWithOptionsSync)(n,e);return T_(t,e)}sr.loadSync=Fge;function Uge(n,e){e=e||{};let t=ko.Root.fromJSON(n);return t.resolveAll(),T_(t,e)}sr.fromJSON=Uge;function Bge(n,e){let t=dR.FileDescriptorSet.decode(n);return $j(t,e)}sr.loadFileDescriptorSetFromBuffer=Bge;function Vge(n,e){let t=dR.FileDescriptorSet.fromObject(n);return $j(t,e)}sr.loadFileDescriptorSetFromObject=Vge;(0,fR.addCommonProtos)()});var zl=ee(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.setup=gn.getChannelzServiceDefinition=gn.getChannelzHandlers=gn.unregisterChannelzRef=gn.registerChannelzSocket=gn.registerChannelzServer=gn.registerChannelzSubchannel=gn.registerChannelzChannel=gn.ChannelzCallTracker=gn.ChannelzChildrenTracker=gn.ChannelzTrace=void 0;var zj=Wt("net"),mg=Qi(),yg=Lt(),qge=To(),jge=G1(),Hge=dN();function pR(n){return{channel_id:n.id,name:n.name}}function vR(n){return{subchannel_id:n.id,name:n.name}}function $ge(n){return{server_id:n.id}}function I_(n){return{socket_id:n.id,name:n.name}}var Gj=32,mR=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){let i=new Date;this.events.push({description:t,severity:e,timestamp:i,childChannel:r?.kind==="channel"?r:void 0,childSubchannel:r?.kind==="subchannel"?r:void 0}),this.events.length>=Gj*2&&(this.events=this.events.slice(Gj)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:Ra(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:Ra(e.timestamp),channel_ref:e.childChannel?pR(e.childChannel):null,subchannel_ref:e.childSubchannel?vR(e.childSubchannel):null}))}}};gn.ChannelzTrace=mR;var gR=class{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var t,r,i;switch(e.kind){case"channel":{let s=(t=this.channelChildren.get(e.id))!==null&&t!==void 0?t:{ref:e,count:0};s.count+=1,this.channelChildren.set(e.id,s);break}case"subchannel":{let s=(r=this.subchannelChildren.get(e.id))!==null&&r!==void 0?r:{ref:e,count:0};s.count+=1,this.subchannelChildren.set(e.id,s);break}case"socket":{let s=(i=this.socketChildren.get(e.id))!==null&&i!==void 0?i:{ref:e,count:0};s.count+=1,this.socketChildren.set(e.id,s);break}}}unrefChild(e){switch(e.kind){case"channel":{let t=this.channelChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,t));break}case"subchannel":{let t=this.subchannelChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,t));break}case"socket":{let t=this.socketChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,t));break}}}getChildLists(){let e=[];for(let{ref:i}of this.channelChildren.values())e.push(i);let t=[];for(let{ref:i}of this.subchannelChildren.values())t.push(i);let r=[];for(let{ref:i}of this.socketChildren.values())r.push(i);return{channels:e,subchannels:t,sockets:r}}};gn.ChannelzChildrenTracker=gR;var yR=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};gn.ChannelzCallTracker=yR;var zge=1;function D_(){return zge++}var gg=[],bR=[],tc=[],_R=[];function Gge(n,e,t){let r=D_(),i={id:r,name:n,kind:"channel"};return t&&(gg[r]={ref:i,getInfo:e}),i}gn.registerChannelzChannel=Gge;function Wge(n,e,t){let r=D_(),i={id:r,name:n,kind:"subchannel"};return t&&(bR[r]={ref:i,getInfo:e}),i}gn.registerChannelzSubchannel=Wge;function Kge(n,e){let t=D_(),r={id:t,kind:"server"};return e&&(tc[t]={ref:r,getInfo:n}),r}gn.registerChannelzServer=Kge;function Qge(n,e,t){let r=D_(),i={id:r,name:n,kind:"socket"};return t&&(_R[r]={ref:i,getInfo:e}),i}gn.registerChannelzSocket=Qge;function Yge(n){switch(n.kind){case"channel":delete gg[n.id];return;case"subchannel":delete bR[n.id];return;case"server":delete tc[n.id];return;case"socket":delete _R[n.id];return}}gn.unregisterChannelzRef=Yge;function Zge(n){let e=Number.parseInt(n,16);return[e/256|0,e%256]}function Wj(n){if(n==="")return[];let e=n.split(":").map(r=>Zge(r));return[].concat(...e)}function Xge(n){if((0,zj.isIPv4)(n))return Buffer.from(Uint8Array.from(n.split(".").map(e=>Number.parseInt(e))));if((0,zj.isIPv6)(n)){let e,t,r=n.indexOf("::");r===-1?(e=n,t=""):(e=n.substring(0,r),t=n.substring(r+2));let i=Buffer.from(Wj(e)),s=Buffer.from(Wj(t)),o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}else return null}function Qj(n){switch(n){case mg.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case mg.ConnectivityState.IDLE:return{state:"IDLE"};case mg.ConnectivityState.READY:return{state:"READY"};case mg.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case mg.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function Ra(n){if(!n)return null;let e=n.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function Yj(n){let e=n.getInfo();return{ref:pR(n.ref),data:{target:e.target,state:Qj(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Ra(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:e.children.channels.map(t=>pR(t)),subchannel_ref:e.children.subchannels.map(t=>vR(t))}}function Jge(n,e){let t=Number.parseInt(n.request.channel_id),r=gg[t];if(r===void 0){e({code:yg.Status.NOT_FOUND,details:"No channel data found for id "+t});return}e(null,{channel:Yj(r)})}function e0e(n,e){let t=Number.parseInt(n.request.max_results),r=[],i=Number.parseInt(n.request.start_channel_id);for(;i<gg.length;i++){let s=gg[i];if(s!==void 0&&(r.push(Yj(s)),r.length>=t))break}e(null,{channel:r,end:i>=tc.length})}function Zj(n){let e=n.getInfo();return{ref:$ge(n.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Ra(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:e.listenerChildren.sockets.map(t=>I_(t))}}function t0e(n,e){let t=Number.parseInt(n.request.server_id),r=tc[t];if(r===void 0){e({code:yg.Status.NOT_FOUND,details:"No server data found for id "+t});return}e(null,{server:Zj(r)})}function n0e(n,e){let t=Number.parseInt(n.request.max_results),r=[],i=Number.parseInt(n.request.start_server_id);for(;i<tc.length;i++){let s=tc[i];if(s!==void 0&&(r.push(Zj(s)),r.length>=t))break}e(null,{server:r,end:i>=tc.length})}function r0e(n,e){let t=Number.parseInt(n.request.subchannel_id),r=bR[t];if(r===void 0){e({code:yg.Status.NOT_FOUND,details:"No subchannel data found for id "+t});return}let i=r.getInfo(),s={ref:vR(r.ref),data:{target:i.target,state:Qj(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:Ra(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(o=>I_(o))};e(null,{subchannel:s})}function Kj(n){var e;return(0,qge.isTcpSubchannelAddress)(n)?{address:"tcpip_address",tcpip_address:{ip_address:(e=Xge(n.host))!==null&&e!==void 0?e:void 0,port:n.port}}:{address:"uds_address",uds_address:{filename:n.path}}}function i0e(n,e){var t,r,i,s,o;let a=Number.parseInt(n.request.socket_id),u=_R[a];if(u===void 0){e({code:yg.Status.NOT_FOUND,details:"No socket data found for id "+a});return}let c=u.getInfo(),l=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(t=c.security.cipherSuiteStandardName)!==null&&t!==void 0?t:void 0,other_name:(r=c.security.cipherSuiteOtherName)!==null&&r!==void 0?r:void 0,local_certificate:(i=c.security.localCertificate)!==null&&i!==void 0?i:void 0,remote_certificate:(s=c.security.remoteCertificate)!==null&&s!==void 0?s:void 0}}:null,d={ref:I_(u.ref),local:c.localAddress?Kj(c.localAddress):null,remote:c.remoteAddress?Kj(c.remoteAddress):null,remote_name:(o=c.remoteName)!==null&&o!==void 0?o:void 0,security:l,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:Ra(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Ra(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:Ra(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:Ra(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}};e(null,{socket:d})}function s0e(n,e){let t=Number.parseInt(n.request.server_id),r=tc[t];if(r===void 0){e({code:yg.Status.NOT_FOUND,details:"No server data found for id "+t});return}let i=Number.parseInt(n.request.start_socket_id),s=Number.parseInt(n.request.max_results),a=r.getInfo().sessionChildren.sockets.sort((l,d)=>l.id-d.id),u=[],c=0;for(;c<a.length&&!(a[c].id>=i&&(u.push(I_(a[c])),u.length>=s));c++);e(null,{socket_ref:u,end:c>=a.length})}function Xj(){return{GetChannel:Jge,GetTopChannels:e0e,GetServer:t0e,GetServers:n0e,GetSubchannel:r0e,GetSocket:i0e,GetServerSockets:s0e}}gn.getChannelzHandlers=Xj;var C_=null;function Jj(){if(C_)return C_;let n=hR().loadSync,e=n("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return C_=(0,Hge.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,C_}gn.getChannelzServiceDefinition=Jj;function o0e(){(0,jge.registerAdminService)(Jj,Xj)}gn.setup=o0e});var eH=ee(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.Subchannel=void 0;var un=Qi(),a0e=Wm(),ER=An(),x_=Lt(),u0e=xi(),c0e=To(),Wf=zl(),l0e="subchannel",d0e=~(1<<31),wR=class{constructor(e,t,r,i,s){var o;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=i,this.connector=s,this.connectivityState=un.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new Wf.ChannelzCallTracker,this.childrenTracker=new Wf.ChannelzChildrenTracker,this.streamTracker=new Wf.ChannelzCallTracker;let a={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new a0e.BackoffTimeout(()=>{this.handleBackoffTimer()},a),this.backoffTimeout.unref(),this.subchannelAddressString=(0,c0e.subchannelAddressToString)(t),this.keepaliveTime=(o=r["grpc.keepalive_time_ms"])!==null&&o!==void 0?o:-1,r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new Wf.ChannelzTrace,this.channelzRef=(0,Wf.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){ER.trace(x_.LogVerbosity.DEBUG,l0e,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){ER.trace(x_.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([un.ConnectivityState.TRANSIENT_FAILURE],un.ConnectivityState.CONNECTING):this.transitionToState([un.ConnectivityState.TRANSIENT_FAILURE],un.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,d0e);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(t=>{this.transitionToState([un.ConnectivityState.CONNECTING],un.ConnectivityState.READY)?(this.transport=t,this.channelzEnabled&&this.childrenTracker.refChild(t.getChannelzRef()),t.addDisconnectListener(r=>{this.transitionToState([un.ConnectivityState.READY],un.ConnectivityState.IDLE),r&&this.keepaliveTime>0&&(this.keepaliveTime*=2,ER.log(x_.LogVerbosity.ERROR,`Connection to ${(0,u0e.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):t.shutdown()},t=>{this.transitionToState([un.ConnectivityState.CONNECTING],un.ConnectivityState.TRANSIENT_FAILURE,`${t}`)})}transitionToState(e,t,r){var i,s;if(e.indexOf(this.connectivityState)===-1)return!1;this.trace(un.ConnectivityState[this.connectivityState]+" -> "+un.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+un.ConnectivityState[t]);let o=this.connectivityState;switch(this.connectivityState=t,t){case un.ConnectivityState.READY:this.stopBackoff();break;case un.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case un.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(i=this.transport)===null||i===void 0||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case un.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let a of this.stateListeners)a(this,o,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,Wf.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([un.ConnectivityState.CONNECTING,un.ConnectivityState.READY],un.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,t,r,i){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let s;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),s={onCallEnd:o=>{o.code===x_.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):s={},this.transport.createCall(e,t,r,i,s)}startConnecting(){process.nextTick(()=>{this.transitionToState([un.ConnectivityState.IDLE],un.ConnectivityState.CONNECTING)||this.connectivityState===un.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([un.ConnectivityState.TRANSIENT_FAILURE],un.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}};A_.Subchannel=wR});var IR=ee(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.setup=ic.DEFAULT_PORT=void 0;var tH=wo(),rH=Wt("dns"),iH=Wt("util"),f0e=UA(),SR=Lt(),TR=fi(),h0e=An(),p0e=Lt(),nc=xi(),nH=Wt("net"),m0e=Wm(),g0e="dns_resolver";function rc(n){h0e.trace(p0e.LogVerbosity.DEBUG,g0e,n)}ic.DEFAULT_PORT=443;var y0e=3e4,v0e=iH.promisify(rH.resolveTxt),b0e=iH.promisify(rH.lookup);function _0e(...n){let e=[];for(let t=0;t<Math.max.apply(null,n.map(r=>r.length));t++)for(let r of n)t<r.length&&e.push(r[t]);return e}var CR=class{constructor(e,t,r){var i,s,o;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,rc("Resolver constructed for target "+(0,nc.uriToString)(e));let a=(0,nc.splitHostPort)(e.path);a===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,nH.isIPv4)(a.host)||(0,nH.isIPv6)(a.host)?(this.ipResult=[{host:a.host,port:(i=a.port)!==null&&i!==void 0?i:ic.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=a.host,this.port=(s=a.port)!==null&&s!==void 0?s:ic.DEFAULT_PORT),this.percentage=Math.random()*100,r["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:SR.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,nc.uriToString)(this.target)}`,metadata:new TR.Metadata};let u={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoff=new m0e.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},u),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(o=r["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:y0e,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(rc("Returning IP address for target "+(0,nc.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)rc("Failed to parse DNS address "+(0,nc.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:SR.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,nc.uriToString)(this.target)}`,metadata:new TR.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;rc("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=b0e(e,{all:!0}),this.pendingLookupPromise.then(t=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let r=t.filter(o=>o.family===4),i=t.filter(o=>o.family===6);this.latestLookupResult=_0e(i,r).map(o=>({host:o.address,port:+this.port}));let s="["+this.latestLookupResult.map(o=>o.host+":"+o.port).join(",")+"]";if(rc("Resolved addresses for target "+(0,nc.uriToString)(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},t=>{this.pendingLookupPromise!==null&&(rc("Resolution error for target "+(0,nc.uriToString)(this.target)+": "+t.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=v0e(e),this.pendingTxtPromise.then(t=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,f0e.extractAndSelectServiceConfig)(t,this.percentage)}catch(r){this.latestServiceConfigError={code:SR.Status.UNAVAILABLE,details:`Parsing service config failed with error ${r.message}`,metadata:new TR.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},t=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=(t=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)===null||t===void 0?void 0:t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?rc('resolution update delayed by "min time between resolutions" rate limit'):rc("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function E0e(){(0,tH.registerResolver)("dns",CR),(0,tH.registerDefaultScheme)("dns")}ic.setup=E0e});var DR=ee(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.getProxiedConnection=Yf.mapProxyName=void 0;var vg=An(),Kf=Lt(),w0e=wo(),S0e=Wt("http"),T0e=Wt("tls"),C0e=An(),sH=To(),Qf=xi(),I0e=Wt("url"),D0e=IR(),x0e="proxy";function sc(n){C0e.trace(Kf.LogVerbosity.DEBUG,x0e,n)}function A0e(){let n="",e="";if(process.env.grpc_proxy)e="grpc_proxy",n=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",n=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",n=process.env.http_proxy;else return{};let t;try{t=new I0e.URL(n)}catch{return(0,vg.log)(Kf.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(t.protocol!=="http:")return(0,vg.log)(Kf.LogVerbosity.ERROR,`"${t.protocol}" scheme not supported in proxy URI`),{};let r=null;t.username&&(t.password?((0,vg.log)(Kf.LogVerbosity.INFO,"userinfo found in proxy URI"),r=`${t.username}:${t.password}`):r=t.username);let i=t.hostname,s=t.port;s===""&&(s="80");let o={address:`${i}:${s}`};return r&&(o.creds=r),sc("Proxy server "+o.address+" set by environment variable "+e),o}function N0e(){let n=process.env.no_grpc_proxy,e="no_grpc_proxy";return n||(n=process.env.no_proxy,e="no_proxy"),n?(sc("No proxy server list set by environment variable "+e),n.split(",")):[]}function R0e(n,e){var t;let r={target:n,extraOptions:{}};if(((t=e["grpc.enable_http_proxy"])!==null&&t!==void 0?t:1)===0||n.scheme==="unix")return r;let i=A0e();if(!i.address)return r;let s=(0,Qf.splitHostPort)(n.path);if(!s)return r;let o=s.host;for(let u of N0e())if(u===o)return sc("Not using proxy for target in no_proxy list: "+(0,Qf.uriToString)(n)),r;let a={"grpc.http_connect_target":(0,Qf.uriToString)(n)};return i.creds&&(a["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:a}}Yf.mapProxyName=R0e;function k0e(n,e,t){var r;if(!("grpc.http_connect_target"in e))return Promise.resolve({});let i=e["grpc.http_connect_target"],s=(0,Qf.parseUri)(i);if(s===null)return Promise.resolve({});let o=(0,Qf.splitHostPort)(s.path);if(o===null)return Promise.resolve({});let a=`${o.host}:${(r=o.port)!==null&&r!==void 0?r:D0e.DEFAULT_PORT}`,u={method:"CONNECT",path:a},c={Host:a};(0,sH.isTcpSubchannelAddress)(n)?(u.host=n.host,u.port=n.port):u.socketPath=n.path,"grpc.http_connect_creds"in e&&(c["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),u.headers=c;let l=(0,sH.subchannelAddressToString)(n);return sc("Using proxy "+l+" to connect to "+u.path),new Promise((d,f)=>{let h=S0e.request(u);h.once("connect",(p,v,T)=>{var w;if(h.removeAllListeners(),v.removeAllListeners(),p.statusCode===200)if(sc("Successfully connected to "+u.path+" through proxy "+l),"secureContext"in t){let C=(0,w0e.getDefaultAuthority)(s),D=(0,Qf.splitHostPort)(C),S=(w=D?.host)!==null&&w!==void 0?w:C,x=T0e.connect(Object.assign({host:S,servername:S,socket:v},t),()=>{sc("Successfully established a TLS connection to "+u.path+" through proxy "+l),d({socket:x,realTarget:s})});x.on("error",V=>{sc("Failed to establish a TLS connection to "+u.path+" through proxy "+l+" with error "+V.message),f()})}else sc("Successfully established a plaintext connection to "+u.path+" through proxy "+l),d({socket:v,realTarget:s});else(0,vg.log)(Kf.LogVerbosity.ERROR,"Failed to connect to "+u.path+" through proxy "+l+" with status "+p.statusCode),f()}),h.once("error",p=>{h.removeAllListeners(),(0,vg.log)(Kf.LogVerbosity.ERROR,"Failed to connect to proxy "+l+" with error "+p.message),f()}),h.end()})}Yf.getProxiedConnection=k0e});var AR=ee(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});N_.StreamDecoder=void 0;var ka=function(n){return n[n.NO_DATA=0]="NO_DATA",n[n.READING_SIZE=1]="READING_SIZE",n[n.READING_MESSAGE=2]="READING_MESSAGE",n}(ka||{}),xR=class{constructor(e){this.maxReadMessageLength=e,this.readState=ka.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t=0,r,i=[];for(;t<e.length;)switch(this.readState){case ka.NO_DATA:this.readCompressFlag=e.slice(t,t+1),t+=1,this.readState=ka.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case ka.READING_SIZE:if(r=Math.min(e.length-t,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,t,t+r),this.readSizeRemaining-=r,t+=r,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=ka.READING_MESSAGE;else{let s=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=ka.NO_DATA,i.push(s)}}break;case ka.READING_MESSAGE:if(r=Math.min(e.length-t,this.readMessageRemaining),this.readPartialMessage.push(e.slice(t,t+r)),this.readMessageRemaining-=r,t+=r,this.readMessageRemaining===0){let s=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),o=Buffer.concat(s,this.readMessageSize+5);this.readState=ka.NO_DATA,i.push(o)}break;default:throw new Error("Unexpected read state")}return i}};N_.StreamDecoder=xR});var oH=ee(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});R_.Http2SubchannelCall=void 0;var Ma=Wt("http2"),M0e=Wt("os"),Kt=Lt(),oc=fi(),O0e=AR(),P0e=An(),L0e=Lt(),F0e="subchannel_call";function U0e(n){for(let[e,t]of Object.entries(M0e.constants.errno))if(t===n)return e;return"Unknown system error "+n}var NR=class{constructor(e,t,r,i,s){var o;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=i,this.callId=s,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=Kt.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;let a=(o=i.getOptions()["grpc.max_receive_message_length"])!==null&&o!==void 0?o:Kt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new O0e.StreamDecoder(a),e.on("response",(u,c)=>{let l="";for(let d of Object.keys(u))l+="		"+d+": "+u[d]+`
`;switch(this.trace(`Received server headers:
`+l),u[":status"]){case 400:this.mappedStatusCode=Kt.Status.INTERNAL;break;case 401:this.mappedStatusCode=Kt.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=Kt.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=Kt.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=Kt.Status.UNAVAILABLE;break;default:this.mappedStatusCode=Kt.Status.UNKNOWN}if(c&Ma.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(u);else{let d;try{d=oc.Metadata.fromHttp2Headers(u)}catch(f){this.endCall({code:Kt.Status.UNKNOWN,details:f.message,metadata:new oc.Metadata});return}this.listener.onReceiveMetadata(d)}}),e.on("trailers",u=>{this.handleTrailers(u)}),e.on("data",u=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+u.length);let c;try{c=this.decoder.write(u)}catch(l){this.cancelWithStatus(Kt.Status.RESOURCE_EXHAUSTED,l.message);return}for(let l of c)this.trace("parsed message of length "+l.length),this.callEventTracker.addMessageReceived(),this.tryPush(l)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var u;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((u=this.finalStatus)===null||u===void 0?void 0:u.code)===Kt.Status.OK)return;let c,l="";switch(e.rstCode){case Ma.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;c=Kt.Status.INTERNAL,l=`Received RST_STREAM with code ${e.rstCode}`;break;case Ma.constants.NGHTTP2_REFUSED_STREAM:c=Kt.Status.UNAVAILABLE,l="Stream refused by server";break;case Ma.constants.NGHTTP2_CANCEL:c=Kt.Status.CANCELLED,l="Call cancelled";break;case Ma.constants.NGHTTP2_ENHANCE_YOUR_CALM:c=Kt.Status.RESOURCE_EXHAUSTED,l="Bandwidth exhausted or memory limit exceeded";break;case Ma.constants.NGHTTP2_INADEQUATE_SECURITY:c=Kt.Status.PERMISSION_DENIED,l="Protocol not secure enough";break;case Ma.constants.NGHTTP2_INTERNAL_ERROR:c=Kt.Status.INTERNAL,this.internalError===null?l=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(c=Kt.Status.UNAVAILABLE,l=this.internalError.message):l=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:c=Kt.Status.INTERNAL,l=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:c,details:l,metadata:new oc.Metadata,rstCode:e.rstCode})})}),e.on("error",u=>{u.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+u.message+" code="+u.code+" errno="+U0e(u.errno)+" syscall="+u.syscall),this.internalError=u),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:Kt.Status.UNAVAILABLE,details:"Connection dropped",metadata:new oc.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){P0e.trace(L0e.LogVerbosity.DEBUG,F0e,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===Kt.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Kt.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.callEventTracker.onStreamEnd(!0);let t="";for(let u of Object.keys(e))t+="		"+u+": "+e[u]+`
`;this.trace(`Received server trailers:
`+t);let r;try{r=oc.Metadata.fromHttp2Headers(e)}catch{r=new oc.Metadata}let i=r.getMap(),s=this.mappedStatusCode;if(s===Kt.Status.UNKNOWN&&typeof i["grpc-status"]=="string"){let u=Number(i["grpc-status"]);u in Kt.Status&&(s=u,this.trace("received status code "+u+" from server")),r.remove("grpc-status")}let o="";if(typeof i["grpc-message"]=="string"){try{o=decodeURI(i["grpc-message"])}catch{o=i["grpc-message"]}r.remove("grpc-message"),this.trace('received status details string "'+o+'" from server')}let a={code:s,details:o,metadata:r};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===Kt.Status.OK?t=Ma.constants.NGHTTP2_NO_ERROR:t=Ma.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new oc.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Kt.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let r=i=>{process.nextTick(()=>{var s;let o=Kt.Status.UNAVAILABLE;i?.code==="ERR_STREAM_WRITE_AFTER_END"&&(o=Kt.Status.INTERNAL),i&&this.cancelWithStatus(o,`Write error: ${i.message}`),(s=e.callback)===null||s===void 0||s.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(i){this.endCall({code:Kt.Status.UNAVAILABLE,details:`Write failed with error ${i.message}`,metadata:new oc.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};R_.Http2SubchannelCall=NR});var RR=ee(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});k_.getNextCallNumber=void 0;var B0e=0;function V0e(){return B0e++}k_.getNextCallNumber=V0e});var cH=ee(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});O_.Http2SubchannelConnector=void 0;var LR=Wt("http2"),aH=Wt("tls"),kR=zl(),bg=Lt(),q0e=DR(),Xf=An(),uH=wo(),M_=To(),Zf=xi(),j0e=Wt("net"),H0e=oH(),$0e=RR(),MR="transport",z0e="transport_flowctrl",G0e=_A().version,{HTTP2_HEADER_AUTHORITY:W0e,HTTP2_HEADER_CONTENT_TYPE:K0e,HTTP2_HEADER_METHOD:Q0e,HTTP2_HEADER_PATH:Y0e,HTTP2_HEADER_TE:Z0e,HTTP2_HEADER_USER_AGENT:X0e}=LR.constants,J0e=2e4,eye=Buffer.from("too_many_pings","ascii"),OR=class{constructor(e,t,r,i){this.session=e,this.options=r,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=J0e,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new kR.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,M_.subchannelAddressToString)(t),r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,kR.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${G0e}`,r["grpc.secondary_user_agent"]].filter(s=>s).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=r["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(s,o,a)=>{let u=!1;s===LR.constants.NGHTTP2_ENHANCE_YOUR_CALM&&a&&a.equals(eye)&&(u=!0),this.trace("connection closed by GOAWAY with code "+s+" and data "+a?.toString()),this.reportDisconnectToOwner(u)}),e.once("error",s=>{this.trace("connection closed with error "+s.message)}),Xf.isTracerEnabled(MR)&&(e.on("remoteSettings",s=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))}),e.on("localSettings",s=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;let i=this.session.socket,s=i.remoteAddress?(0,M_.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,o=i.localAddress?(0,M_.stringToSubchannelAddress)(i.localAddress,i.localPort):null,a;if(this.session.encrypted){let c=i,l=c.getCipher(),d=c.getCertificate(),f=c.getPeerCertificate();a={cipherSuiteStandardName:(e=l.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:l.standardName?null:l.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:f&&"raw"in f?f.raw:null}}else a=null;return{remoteAddress:s,localAddress:o,security:a,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(t=this.session.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(r=this.session.state.remoteWindowSize)!==null&&r!==void 0?r:null}}trace(e){Xf.trace(bg.LogVerbosity.DEBUG,MR,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){Xf.trace(bg.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){Xf.trace(bg.LogVerbosity.DEBUG,z0e,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){Xf.trace(bg.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(t=(e=this.keepaliveTimeoutId).unref)===null||t===void 0||t.call(e));try{this.session.ping((r,i,s)=>{r&&(this.keepaliveTrace("Ping failed with error "+r.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)===null||t===void 0?void 0:t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,i,s){let o=e.toHttp2Headers();o[W0e]=t,o[X0e]=this.userAgent,o[K0e]="application/grpc",o[Q0e]="POST",o[Y0e]=r,o[Z0e]="trailers";let a;try{a=this.session.request(o)}catch(l){throw this.handleDisconnect(),l}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let u,c;return this.channelzEnabled?(this.streamTracker.addCallStarted(),u={addMessageSent:()=>{var l;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(l=s.addMessageSent)===null||l===void 0||l.call(s)},addMessageReceived:()=>{var l;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(l=s.addMessageReceived)===null||l===void 0||l.call(s)},onCallEnd:l=>{var d;(d=s.onCallEnd)===null||d===void 0||d.call(s,l),this.removeActiveCall(c)},onStreamEnd:l=>{var d;l?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(d=s.onStreamEnd)===null||d===void 0||d.call(s,l)}}):u={addMessageSent:()=>{var l;(l=s.addMessageSent)===null||l===void 0||l.call(s)},addMessageReceived:()=>{var l;(l=s.addMessageReceived)===null||l===void 0||l.call(s)},onCallEnd:l=>{var d;(d=s.onCallEnd)===null||d===void 0||d.call(s,l),this.removeActiveCall(c)},onStreamEnd:l=>{var d;(d=s.onStreamEnd)===null||d===void 0||d.call(s,l)}},c=new H0e.Http2SubchannelCall(a,u,i,this,(0,$0e.getNextCallNumber)()),this.addActiveCall(c),c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,kR.unregisterChannelzRef)(this.channelzRef)}},PR=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){Xf.trace(bg.LogVerbosity.DEBUG,MR,(0,Zf.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,i){return this.isShutdown?Promise.reject():new Promise((s,o)=>{var a,u,c;let l;i.realTarget?(l=(0,Zf.uriToString)(i.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,Zf.uriToString)(i.realTarget))):(l=null,this.trace("creating HTTP/2 session to "+(0,M_.subchannelAddressToString)(e)));let d=(0,uH.getDefaultAuthority)((a=i.realTarget)!==null&&a!==void 0?a:this.channelTarget),f=t._getConnectionOptions()||{};f.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?f.maxSessionMemory=r["grpc-node.max_session_memory"]:f.maxSessionMemory=Number.MAX_SAFE_INTEGER;let h="http://";if("secureContext"in f){if(h="https://",r["grpc.ssl_target_name_override"]){let T=r["grpc.ssl_target_name_override"];f.checkServerIdentity=(w,C)=>(0,aH.checkServerIdentity)(T,C),f.servername=T}else{let T=(c=(u=(0,Zf.splitHostPort)(d))===null||u===void 0?void 0:u.host)!==null&&c!==void 0?c:"localhost";f.servername=T}i.socket&&(f.createConnection=(T,w)=>i.socket)}else f.createConnection=(T,w)=>i.socket?i.socket:j0e.connect(e);f=Object.assign(Object.assign(Object.assign({},f),e),{enableTrace:r["grpc-node.tls_enable_trace"]===1});let p=LR.connect(h+d,f);this.session=p;let v="Failed to connect";p.unref(),p.once("connect",()=>{p.removeAllListeners(),s(new OR(p,e,r,l)),this.session=null}),p.once("close",()=>{this.session=null,setImmediate(()=>{o(`${v} (${new Date().toISOString()})`)})}),p.once("error",T=>{v=T.message,this.trace("connection failed with error "+v)})})}connect(e,t,r){var i,s;if(this.isShutdown)return Promise.reject();let o=t._getConnectionOptions()||{};if("secureContext"in o){if(o.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let a=r["grpc.ssl_target_name_override"];o.checkServerIdentity=(u,c)=>(0,aH.checkServerIdentity)(a,c),o.servername=a}else if("grpc.http_connect_target"in r){let a=(0,uH.getDefaultAuthority)((i=(0,Zf.parseUri)(r["grpc.http_connect_target"]))!==null&&i!==void 0?i:{path:"localhost"}),u=(0,Zf.splitHostPort)(a);o.servername=(s=u?.host)!==null&&s!==void 0?s:a}r["grpc-node.tls_enable_trace"]&&(o.enableTrace=!0)}return(0,q0e.getProxiedConnection)(e,r,o).then(a=>this.createSession(e,t,r,a))}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};O_.Http2SubchannelConnector=PR});var lH=ee(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.getSubchannelPool=Jf.SubchannelPool=void 0;var tye=ZB(),nye=eH(),rye=To(),iye=xi(),sye=cH(),oye=1e4,_g=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let i=this.pool[t].filter(s=>!s.subchannel.unrefIfOneRef());i.length>0&&(e=!1),this.pool[t]=i}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},oye),(t=(e=this.cleanupTimer).unref)===null||t===void 0||t.call(e))}getOrCreateSubchannel(e,t,r,i){this.ensureCleanupTask();let s=(0,iye.uriToString)(e);if(s in this.pool){let a=this.pool[s];for(let u of a)if((0,rye.subchannelAddressEqual)(t,u.subchannelAddress)&&(0,tye.channelOptionsEqual)(r,u.channelArguments)&&i._equals(u.channelCredentials))return u.subchannel}let o=new nye.Subchannel(e,t,r,i,new sye.Http2SubchannelConnector(e));return s in this.pool||(this.pool[s]=[]),this.pool[s].push({subchannelAddress:t,channelArguments:r,channelCredentials:i,subchannel:o}),o.ref(),o}};Jf.SubchannelPool=_g;var aye=new _g;function uye(n){return n?aye:new _g}Jf.getSubchannelPool=uye});var UR=ee(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});eh.FilterStackFactory=eh.FilterStack=void 0;var P_=class{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMessage(t);return t}receiveMessage(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};eh.FilterStack=P_;var FR=class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new P_(this.factories.map(e=>e.createFilter()))}};eh.FilterStackFactory=FR});var BR=ee(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});L_.CompressionAlgorithms=void 0;var dH=function(n){return n[n.identity=0]="identity",n[n.deflate=1]="deflate",n[n.gzip=2]="gzip",n}(dH||(L_.CompressionAlgorithms=dH={}))});var qR=ee(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});F_.BaseFilter=void 0;var VR=class{sendMetadata(e){return P(this,null,function*(){return e})}receiveMetadata(e){return e}sendMessage(e){return P(this,null,function*(){return e})}receiveMessage(e){return P(this,null,function*(){return e})}receiveTrailers(e){return e}};F_.BaseFilter=VR});var pH=ee(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.CompressionFilterFactory=nh.CompressionFilter=void 0;var U_=Wt("zlib"),hH=BR(),B_=Lt(),cye=qR(),lye=An(),dye=n=>typeof n=="number"&&typeof hH.CompressionAlgorithms[n]=="string",th=class{writeMessage(e,t){return P(this,null,function*(){let r=e;t&&(r=yield this.compressMessage(r));let i=Buffer.allocUnsafe(r.length+5);return i.writeUInt8(t?1:0,0),i.writeUInt32BE(r.length,1),r.copy(i,5),i})}readMessage(e){return P(this,null,function*(){let t=e.readUInt8(0)===1,r=e.slice(5);return t&&(r=yield this.decompressMessage(r)),r})}},Gl=class extends th{compressMessage(e){return P(this,null,function*(){return e})}writeMessage(e,t){return P(this,null,function*(){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r})}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},jR=class extends th{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{U_.deflate(e,(i,s)=>{i?r(i):t(s)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],o=U_.createInflate();o.on("data",a=>{s.push(a),i+=a.byteLength,this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength&&(o.destroy(),r({code:B_.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{t(Buffer.concat(s))}),o.write(e),o.end()})}},HR=class extends th{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{U_.gzip(e,(i,s)=>{i?r(i):t(s)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],o=U_.createGunzip();o.on("data",a=>{s.push(a),i+=a.byteLength,this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength&&(o.destroy(),r({code:B_.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{t(Buffer.concat(s))}),o.write(e),o.end()})}},$R=class extends th{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function fH(n,e){switch(n){case"identity":return new Gl;case"deflate":return new jR(e);case"gzip":return new HR(e);default:return new $R(n)}}var V_=class extends cye.BaseFilter{constructor(e,t){var r,i;super(),this.sharedFilterConfig=t,this.sendCompression=new Gl,this.receiveCompression=new Gl,this.currentCompressionAlgorithm="identity";let s=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(r=e["grpc.max_receive_message_length"])!==null&&r!==void 0?r:B_.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,s!==void 0)if(dye(s)){let o=hH.CompressionAlgorithms[s],a=(i=t.serverSupportedEncodingHeader)===null||i===void 0?void 0:i.split(",");(!a||a.includes(o))&&(this.currentCompressionAlgorithm=o,this.sendCompression=fH(this.currentCompressionAlgorithm,-1))}else lye.log(B_.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${s}`)}sendMetadata(e){return P(this,null,function*(){let t=yield e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t})}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let i=t[0];typeof i=="string"&&(this.receiveCompression=fH(i,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new Gl,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}sendMessage(e){return P(this,null,function*(){var t;let r=yield e,i;return this.sendCompression instanceof Gl?i=!1:i=(((t=r.flags)!==null&&t!==void 0?t:0)&2)===0,{message:yield this.sendCompression.writeMessage(r.message,i),flags:r.flags}})}receiveMessage(e){return P(this,null,function*(){return this.receiveCompression.readMessage(yield e)})}};nh.CompressionFilter=V_;var zR=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new V_(this.options,this.sharedFilterConfig)}};nh.CompressionFilterFactory=zR});var q_=ee(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.deadlineToString=Mo.getRelativeTimeout=Mo.getDeadlineTimeoutString=Mo.minDeadline=void 0;function fye(...n){let e=1/0;for(let t of n){let r=t instanceof Date?t.getTime():t;r<e&&(e=r)}return e}Mo.minDeadline=fye;var hye=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function pye(n){let e=new Date().getTime();n instanceof Date&&(n=n.getTime());let t=Math.max(n-e,0);for(let[r,i]of hye){let s=t/i;if(s<1e8)return String(Math.ceil(s))+r}throw new Error("Deadline is too far in the future")}Mo.getDeadlineTimeoutString=pye;var mye=2147483647;function gye(n){let e=n instanceof Date?n.getTime():n,t=new Date().getTime(),r=e-t;return r<0?0:r>mye?1/0:r}Mo.getRelativeTimeout=gye;function yye(n){if(n instanceof Date)return n.toISOString();{let e=new Date(n);return Number.isNaN(e.getTime())?""+n:e.toISOString()}}Mo.deadlineToString=yye});var H_=ee(j_=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});j_.restrictControlPlaneStatusCode=void 0;var Oo=Lt(),vye=[Oo.Status.OK,Oo.Status.INVALID_ARGUMENT,Oo.Status.NOT_FOUND,Oo.Status.ALREADY_EXISTS,Oo.Status.FAILED_PRECONDITION,Oo.Status.ABORTED,Oo.Status.OUT_OF_RANGE,Oo.Status.DATA_LOSS];function bye(n,e){return vye.includes(n)?{code:Oo.Status.INTERNAL,details:`Invalid status from control plane: ${n} ${Oo.Status[n]} ${e}`}:{code:n,details:e}}j_.restrictControlPlaneStatusCode=bye});var gH=ee(G_=>{"use strict";Object.defineProperty(G_,"__esModule",{value:!0});G_.LoadBalancingCall=void 0;var mH=Qi(),$_=Lt(),_ye=q_(),z_=fi(),Eg=$u(),Eye=xi(),wye=An(),GR=H_(),Sye=Wt("http2"),Tye="load_balancing_call",WR=class{constructor(e,t,r,i,s,o,a){var u,c;this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let l=this.methodName.split("/"),d="";l.length>=2&&(d=l[1]);let f=(c=(u=(0,Eye.splitHostPort)(this.host))===null||u===void 0?void 0:u.host)!==null&&c!==void 0?c:"localhost";this.serviceUrl=`https://${f}/${d}`}trace(e){wye.trace($_.LogVerbosity.DEBUG,Tye,"["+this.callNumber+"] "+e)}outputStatus(e,t){var r,i;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let s=Object.assign(Object.assign({},e),{progress:t});(r=this.listener)===null||r===void 0||r.onReceiveStatus(s),(i=this.onCallEnded)===null||i===void 0||i.call(this,s.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),i=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+Eg.PickResultType[r.pickResultType]+" subchannel: "+i+" status: "+((e=r.status)===null||e===void 0?void 0:e.code)+" "+((t=r.status)===null||t===void 0?void 0:t.details)),r.pickResultType){case Eg.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(a=>{var u,c,l;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let d=this.metadata.clone();if(d.merge(a),d.get("authorization").length>1&&this.outputStatus({code:$_.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new z_.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==mH.ConnectivityState.READY){this.trace("Picked subchannel "+i+" has state "+mH.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&d.set("grpc-timeout",(0,_ye.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(d,this.host,this.methodName,{onReceiveMetadata:f=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(f)},onReceiveMessage:f=>{this.trace("Received message"),this.listener.onReceiveMessage(f)},onReceiveStatus:f=>{this.trace("Received status"),f.rstCode===Sye.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(f,"REFUSED"):this.outputStatus(f,"PROCESSED")}})}catch(f){this.trace("Failed to start call on picked subchannel "+i+" with error "+f.message),this.outputStatus({code:$_.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+f.message,metadata:new z_.Metadata},"NOT_STARTED");return}(c=(u=this.callConfig).onCommitted)===null||c===void 0||c.call(u),(l=r.onCallStarted)===null||l===void 0||l.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},a=>{let{code:u,details:c}=(0,GR.restrictControlPlaneStatusCode)(typeof a.code=="number"?a.code:$_.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);this.outputStatus({code:u,details:c,metadata:new z_.Metadata},"PROCESSED")});break;case Eg.PickResultType.DROP:let{code:s,details:o}=(0,GR.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:s,details:o,metadata:r.status.metadata},"DROP")});break;case Eg.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:a,details:u}=(0,GR.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:a,details:u,metadata:r.status.metadata},"PROCESSED")})}break;case Eg.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new z_.Metadata},"PROCESSED")}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};G_.LoadBalancingCall=WR});var vH=ee(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.ResolvingCall=void 0;var rh=Lt(),W_=q_(),yH=fi(),Cye=An(),Iye=H_(),Dye="resolving_call",KR=class{constructor(e,t,r,i,s,o){this.channel=e,this.method=t,this.filterStackFactory=i,this.credentials=s,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&rh.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(rh.Status.CANCELLED,"Cancelled by parent call")}),r.flags&rh.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,W_.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){Cye.trace(rh.LogVerbosity.DEBUG,Dye,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,W_.deadlineToString)(this.deadline));let e=(0,W_.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{this.cancelWithStatus(rh.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(r=>r(t)),process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(i=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,i.message),this.pendingHalfClose&&r.halfClose()},i=>{this.cancelWithStatus(i.code,i.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let t=e.config;if(t.status!==rh.Status.OK){let{code:r,details:i}=(0,Iye.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:r,details:i,metadata:new yH.Metadata});return}if(t.methodConfig.timeout){let r=new Date;r.setSeconds(r.getSeconds()+t.methodConfig.timeout.seconds),r.setMilliseconds(r.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,W_.minDeadline)(this.deadline,r),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(r=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(r,{onReceiveMetadata:i=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(i))},onReceiveMessage:i=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(i).then(s=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(s),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},s=>{this.cancelWithStatus(s.code,s.details)})},onReceiveStatus:i=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=i:this.outputStatus(i)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},r=>{this.outputStatus(r)})}reportResolverError(e){var t;!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new yH.Metadata})}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};K_.ResolvingCall=KR});var bH=ee(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.RetryingCall=ac.MessageBufferTracker=ac.RetryThrottler=void 0;var Q_=Lt(),xye=fi(),Aye=An(),Nye="retrying_call",YR=class{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};ac.RetryThrottler=YR;var ZR=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;let i=(r=this.allocatedPerCall.get(t))!==null&&r!==void 0?r:0;return this.limitPerCall-i<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(t,i+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let i=(r=this.allocatedPerCall.get(t))!==null&&r!==void 0?r:0;if(i<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${i}`);this.allocatedPerCall.set(t,i-e)}freeAll(e){var t;let r=(t=this.allocatedPerCall.get(e))!==null&&t!==void 0?t:0;if(this.totalAllocated<r)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}};ac.MessageBufferTracker=ZR;var QR="grpc-previous-rpc-attempts",XR=class{constructor(e,t,r,i,s,o,a,u,c){if(this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.bufferTracker=u,this.retryThrottler=c,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let l=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(l.initialBackoff.substring(0,l.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){Aye.trace(Q_.LogVerbosity.DEBUG,Nye,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;(t=this.listener)===null||t===void 0||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new xye.Metadata});for(let{call:r}of this.underlyingCalls)r.cancelWithStatus(e,t)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return(t=this.writeBuffer[e-this.writeBufferOffset])!==null&&t!==void 0?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let r=this.getBufferEntry(t);r.allocated&&this.bufferTracker.free(r.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if(this.state!=="COMMITTED"&&this.underlyingCalls[e].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&this.underlyingCalls[t].state!=="COMPLETED"&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(Q_.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,t=-1;for(let[r,i]of this.underlyingCalls.entries())i.state==="ACTIVE"&&i.nextMessageToSend>e&&(e=i.nextMessageToSend,t=r);t===-1?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(r=>r===t||r.toString().toLowerCase()===Q_.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,i=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,i),r}maybeRetryCall(e,t){if(this.state!=="RETRY"){t(!1);return}let r=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(r.maxAttempts,5)){t(!1);return}let i;if(e===null)i=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else i=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var s,o;if(this.state!=="RETRY"){t(!1);return}(!((o=(s=this.retryThrottler)===null||s===void 0?void 0:s.canRetryCall())!==null&&o!==void 0)||o)&&(t(!0),this.attempts+=1,this.startNewAttempt())},i)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)t?.state==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,r){var i,s,o;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((i=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&i!==void 0?i:[],e.code)){(s=this.retryThrottler)===null||s===void 0||s.addCallFailed();let a;if(r===null)a=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else a=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(t),this.reportStatus(e))},a)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((o=this.retryThrottler)===null||o===void 0||o.addCallFailed(),this.maybeRetryCall(r,a=>{a||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e));break}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(t.length===0)return null;try{return parseInt(t[0])}catch{return-1}}handleChildStatus(e,t){var r;if(this.underlyingCalls[t].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===Q_.Status.OK){(r=this.retryThrottler)===null||r===void 0||r.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let i=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(i.maxAttempts,5))return;let s=(e=i.hedgingDelay)!==null&&e!==void 0?e:"0s",o=Number(s.substring(0,s.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},o*1e3),(r=(t=this.hedgingTimer).unref)===null||r===void 0||r.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,i=this.initialMetadata.clone();r>0&&i.set(QR,`${r}`);let s=!1;e.start(i,{onReceiveMetadata:o=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),s=!0,r>0&&o.set(QR,`${r}`),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMetadata(o)},onReceiveMessage:o=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMessage(o)},onReceiveStatus:o=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!s&&r>0&&o.metadata.set(QR,`${r}`),this.handleChildStatus(o,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;let i=this.underlyingCalls[e],s=i.nextMessageToSend;(r=(t=this.getBufferEntry(s)).callback)===null||r===void 0||r.call(t),this.clearSentMessages(),i.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if(t.state!=="COMPLETED"&&this.getBufferEntry(t.nextMessageToSend)){let r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:i=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);let i={message:t,flags:e.flags},s=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:i,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated){(r=e.callback)===null||r===void 0||r.call(e);for(let[a,u]of this.underlyingCalls.entries())u.state==="ACTIVE"&&u.nextMessageToSend===s&&u.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(a)}},t)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let a=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,a.state==="ACTIVE"&&a.nextMessageToSend===s&&a.call.sendMessageWithContext({callback:u=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)e?.state==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let t of this.underlyingCalls)t?.state==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};ac.RetryingCall=XR});var Z_=ee(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.BaseSubchannelWrapper=void 0;var JR=class{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}};Y_.BaseSubchannelWrapper=JR});var wH=ee(eE=>{"use strict";Object.defineProperty(eE,"__esModule",{value:!0});eE.InternalChannel=void 0;var Rye=F1(),kye=YB(),Mye=lH(),_H=$u(),wg=Lt(),Oye=UR(),Pye=pH(),EH=wo(),ek=An(),Lye=DR(),X_=xi(),Po=Qi(),Sg=zl(),Fye=gH(),Uye=q_(),Bye=vH(),tk=RR(),Vye=H_(),nk=bH(),qye=Z_(),jye=2147483647,Hye=1e3,$ye=30*60*1e3,J_=new Map,zye=1<<24,Gye=1<<20,rk=class extends qye.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(r,i,s,o)=>{t.throttleKeepalive(o)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},ik=class{constructor(e,t,r){var i,s,o,a,u,c,l,d;if(this.credentials=t,this.options=r,this.connectivityState=Po.ConnectivityState.IDLE,this.currentPicker=new _H.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new Sg.ChannelzCallTracker,this.childrenTracker=new Sg.ChannelzChildrenTracker,typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof Rye.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.originalTarget=e;let f=(0,X_.parseUri)(e);if(f===null)throw new Error(`Could not parse target name "${e}"`);let h=(0,EH.mapUriDefaultScheme)(f);if(h===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},jye),(s=(i=this.callRefTimer).unref)===null||s===void 0||s.call(i),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new Sg.ChannelzTrace,this.channelzRef=(0,Sg.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,EH.getDefaultAuthority)(h);let p=(0,Lye.mapProxyName)(h,r);this.target=p.target,this.options=Object.assign({},this.options,p.extraOptions),this.subchannelPool=(0,Mye.getSubchannelPool)(((o=r["grpc.use_local_subchannel_pool"])!==null&&o!==void 0?o:0)===0),this.retryBufferTracker=new nk.MessageBufferTracker((a=r["grpc.retry_buffer_size"])!==null&&a!==void 0?a:zye,(u=r["grpc.per_rpc_retry_buffer_size"])!==null&&u!==void 0?u:Gye),this.keepaliveTime=(c=r["grpc.keepalive_time_ms"])!==null&&c!==void 0?c:-1,this.idleTimeoutMs=Math.max((l=r["grpc.client_idle_timeout_ms"])!==null&&l!==void 0?l:$ye,Hye);let v={createSubchannel:(w,C)=>{let D=this.subchannelPool.getOrCreateSubchannel(this.target,w,Object.assign({},this.options,C),this.credentials);D.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",D.getChannelzRef());let S=new rk(D,this);return this.wrappedSubchannels.add(S),S},updateState:(w,C)=>{this.currentPicker=C;let D=this.pickQueue.slice();this.pickQueue=[],D.length>0&&this.callRefTimerUnref();for(let S of D)S.doPick();this.updateState(w)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:w=>{this.channelzEnabled&&this.childrenTracker.refChild(w)},removeChannelzChild:w=>{this.channelzEnabled&&this.childrenTracker.unrefChild(w)}};this.resolvingLoadBalancer=new kye.ResolvingLoadBalancer(this.target,v,r,(w,C)=>{w.retryThrottling?J_.set(this.getTarget(),new nk.RetryThrottler(w.retryThrottling.maxTokens,w.retryThrottling.tokenRatio,J_.get(this.getTarget()))):J_.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=C,this.currentResolutionError=null,process.nextTick(()=>{let D=this.configSelectionQueue;this.configSelectionQueue=[],D.length>0&&this.callRefTimerUnref();for(let S of D)S.getConfig()})},w=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+w.code+' and details "'+w.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,Vye.restrictControlPlaneStatusCode)(w.code,w.details)),{metadata:w.metadata}));let C=this.configSelectionQueue;this.configSelectionQueue=[],C.length>0&&this.callRefTimerUnref();for(let D of C)D.reportResolverError(w)}),this.filterStackFactory=new Oye.FilterStackFactory([new Pye.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let T=new Error;(0,ek.trace)(wg.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((d=T.stack)===null||d===void 0?void 0:d.substring(T.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,ek.trace)(t??wg.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,X_.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,i;!((t=(e=this.callRefTimer).hasRef)===null||t===void 0)&&t.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(i=(r=this.callRefTimer).ref)===null||i===void 0||i.call(r))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(t=(e=this.callRefTimer).unref)===null||t===void 0||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(r=>r===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,ek.trace)(wg.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,X_.uriToString)(this.target)+" "+Po.ConnectivityState[this.connectivityState]+" -> "+Po.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Po.ConnectivityState[e]),this.connectivityState=e;let t=this.connectivityStateWatchers.slice();for(let r of t)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback());e!==Po.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let t of this.wrappedSubchannels)t.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,t)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(Po.ConnectivityState.IDLE),this.currentPicker=new _H.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let s=new Date().valueOf()-this.lastActivityTimestamp.valueOf();s>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-s)},e),(r=(t=this.idleTimer).unref)===null||r===void 0||r.call(t)}maybeStartIdleTimer(){this.connectivityState!==Po.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===wg.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,i,s){let o=(0,tk.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+t+'"'),new Fye.LoadBalancingCall(this,e,t,r,i,s,o)}createRetryingCall(e,t,r,i,s){let o=(0,tk.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+t+'"'),new nk.RetryingCall(this,e,t,r,i,s,o,this.retryBufferTracker,J_.get(this.getTarget()))}createInnerCall(e,t,r,i,s){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(e,t,r,i,s):this.createRetryingCall(e,t,r,i,s)}createResolvingCall(e,t,r,i,s){let o=(0,tk.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0,Uye.deadlineToString)(t));let a={deadline:t,flags:s??wg.Propagate.DEFAULTS,host:r??this.defaultAuthority,parentCall:i},u=new Bye.ResolvingCall(this,e,a,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),o);return this.onCallStart(),u.addStatusWatcher(c=>{this.onCallEnd(c)}),u}close(){this.resolvingLoadBalancer.destroy(),this.updateState(Po.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,Sg.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,X_.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===Po.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let i=null;if(t!==1/0){let o=t instanceof Date?t:new Date(t),a=new Date;if(t===-1/0||o<=a){process.nextTick(r,new Error("Deadline passed without connectivity state change"));return}i=setTimeout(()=>{this.removeConnectivityStateWatcher(s),r(new Error("Deadline passed without connectivity state change"))},o.getTime()-a.getTime())}let s={currentState:e,callback:r,timer:i};this.connectivityStateWatchers.push(s)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===Po.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,r,i,s)}};eE.InternalChannel=ik});var cN=ee(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.ChannelImplementation=void 0;var Wye=F1(),Kye=wH(),sk=class{constructor(e,t,r){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof Wye.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new Kye.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,i,s)}};tE.ChannelImplementation=sk});var RH=ee(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.Http2ServerCallStream=ns.ServerDuplexStreamImpl=ns.ServerWritableStreamImpl=ns.ServerReadableStreamImpl=ns.ServerUnaryCallImpl=void 0;var xH=Wt("events"),ih=Wt("http2"),uk=Wt("stream"),SH=Wt("zlib"),hn=Lt(),ck=fi(),Qye=AR(),AH=An(),Cg=R1(),NH="server_call";function Tg(n){AH.trace(hn.LogVerbosity.DEBUG,NH,n)}var Yye="grpc-accept-encoding",Zye="grpc-encoding",TH="grpc-message",CH="grpc-status",IH="grpc-timeout",Xye=/(\d{1,8})\s*([HMSmun])/,Jye={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},eve={[Yye]:"identity,deflate,gzip",[Zye]:"identity"},DH={[ih.constants.HTTP2_HEADER_STATUS]:ih.constants.HTTP_STATUS_OK,[ih.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},tve={waitForTrailers:!0},ok=class extends xH.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};ns.ServerUnaryCallImpl=ok;var nE=class extends uk.Readable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};ns.ServerReadableStreamImpl=nE;var Ig=class extends uk.Writable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=i,this.cancelled=!1,this.trailingMetadata=new ck.Metadata,this.call.setupSurfaceCall(this),this.on("error",s=>{this.call.sendError(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,r){try{let i=this.call.serializeMessage(e);if(!this.call.write(i)){this.call.once("drain",r);return}}catch(i){this.emit("error",{details:(0,Cg.getErrorMessage)(i),code:hn.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:hn.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}};ns.ServerWritableStreamImpl=Ig;var sh=class extends uk.Duplex{constructor(e,t,r,i,s){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=i,this.cancelled=!1,this.trailingMetadata=new ck.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,s),this.on("error",o=>{this.call.sendError(o),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}};ns.ServerDuplexStreamImpl=sh;sh.prototype._read=nE.prototype._read;sh.prototype._write=Ig.prototype._write;sh.prototype._final=Ig.prototype._final;var ak=class extends xH.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=hn.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=hn.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",i=>{}),this.stream.once("close",()=>{var i;Tg("Request to method "+((i=this.handler)===null||i===void 0?void 0:i.path)+" stream closed with rstCode "+this.stream.rstCode),this.statusSent||(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:hn.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,t){let r=e.subarray(5);if(t==="identity")return r;if(t==="deflate"||t==="gzip"){let i;return t==="deflate"?i=SH.createInflate():i=SH.createGunzip(),new Promise((s,o)=>{let a=0,u=[];i.on("data",c=>{u.push(c),a+=c.byteLength,this.maxReceiveMessageSize!==-1&&a>this.maxReceiveMessageSize&&(i.destroy(),o({code:hn.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),i.on("end",()=>{s(Buffer.concat(u))}),i.write(r),i.end()})}else return Promise.reject({code:hn.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},DH),eve),t);this.stream.respond(r,tve)}receiveMetadata(e){let t=ck.Metadata.fromHttp2Headers(e);AH.isTracerEnabled(NH)&&Tg("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));let r=t.get(IH);if(r.length>0){let i=r[0].toString().match(Xye);if(i===null){let a=new Error("Invalid deadline");return a.code=hn.Status.OUT_OF_RANGE,this.sendError(a),t}let s=+i[1]*Jye[i[2]]|0,o=new Date;this.deadline=o.setMilliseconds(o.getMilliseconds()+s),this.deadlineTimer=setTimeout(nve,s,this),t.remove(IH)}return t.remove(ih.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(ih.constants.HTTP2_HEADER_TE),t.remove(ih.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(e){return new Promise((t,r)=>{let{stream:i}=this,s=0,o=this,a=[],u=this.maxReceiveMessageSize;this.stream.on("data",c),this.stream.on("end",l),this.stream.on("error",l);function c(d){if(s+=d.byteLength,u!==-1&&s>u){i.removeListener("data",c),i.removeListener("end",l),i.removeListener("error",l),r({code:hn.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s} vs. ${u})`});return}a.push(d)}function l(d){if(i.removeListener("data",c),i.removeListener("end",l),i.removeListener("error",l),d!==void 0){r({code:hn.Status.INTERNAL,details:d.message});return}if(s===0){r({code:hn.Status.INTERNAL,details:"received empty unary message"});return}o.emit("receiveMessage");let f=Buffer.concat(a,s),p=f.readUInt8(0)===1?e:"identity",v=o.getDecompressedMessage(f,p);if(Buffer.isBuffer(v)){t(o.deserializeMessageWithInternalError(v));return}v.then(T=>t(o.deserializeMessageWithInternalError(T)),T=>r(T.code?T:{code:hn.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}})}deserializeMessageWithInternalError(e){return P(this,null,function*(){try{return this.deserializeMessage(e)}catch(t){throw{details:(0,Cg.getErrorMessage)(t),code:hn.Status.INTERNAL}}})}serializeMessage(e){let t=this.handler.serialize(e),r=t.byteLength,i=Buffer.allocUnsafe(r+5);return i.writeUInt8(0,0),i.writeUInt32BE(r,1),t.copy(i,5),i}deserializeMessage(e){return this.handler.deserialize(e)}sendUnaryMessage(e,t,r,i){return P(this,null,function*(){if(!this.checkCancelled()){if(r===void 0&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let s=this.serializeMessage(t);this.write(s),this.sendStatus({code:hn.Status.OK,details:"OK",metadata:r})}catch(s){this.sendError({details:(0,Cg.getErrorMessage)(s),code:hn.Status.INTERNAL})}}})}sendStatus(e){var t,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===hn.Status.OK),!this.checkCancelled())if(Tg("Request to method "+((t=this.handler)===null||t===void 0?void 0:t.path)+" ended with status code: "+hn.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var i;let s=Object.assign({[CH]:e.code,[TH]:encodeURI(e.details)},(i=e.metadata)===null||i===void 0?void 0:i.toHttp2Headers());this.stream.sendTrailers(s),this.statusSent=!0}),this.stream.end());else{let i=Object.assign(Object.assign({[CH]:e.code,[TH]:encodeURI(e.details)},DH),(r=e.metadata)===null||r===void 0?void 0:r.toHttp2Headers());this.stream.respond(i,{endStream:!0}),this.statusSent=!0}}sendError(e){let t={code:hn.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&e.metadata!==void 0?e.metadata:null};"code"in e&&typeof e.code=="number"&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&typeof e.details=="string"&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(this.maxSendMessageSize!==-1&&e.length>this.maxSendMessageSize){this.sendError({code:hn.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)}),this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){let r=new Qye.StreamDecoder(this.maxReceiveMessageSize),i=!1,s=!1,o=!1,a=()=>P(this,null,function*(){!o&&i&&!s&&(o=!0,yield this.pushOrBufferMessage(e,null))});this.stream.on("data",u=>P(this,null,function*(){let c;try{c=r.write(u)}catch(l){this.sendError({code:hn.Status.RESOURCE_EXHAUSTED,details:l.message});return}s=!0,this.stream.pause();for(let l of c){this.emit("receiveMessage");let f=l.readUInt8(0)===1?t:"identity",h;try{h=yield this.getDecompressedMessage(l,f)}catch(p){this.sendError(p);return}if(!h)return;yield this.pushOrBufferMessage(e,h)}s=!1,this.stream.resume(),yield a()})),this.stream.once("end",()=>P(this,null,function*(){i=!0,yield a()}))}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let t=this.messagesToPush.shift(),r=e.push(t);if(t===null||r===!1){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,t){return P(this,null,function*(){this.isPushPending?this.bufferedMessages.push(t):yield this.pushMessage(e,t)})}pushMessage(e,t){return P(this,null,function*(){if(t===null){Tg("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}Tg("Received message of length "+t.length),this.isPushPending=!0;try{let r=yield this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let i=(0,Cg.getErrorCode)(r);(i===null||i<hn.Status.OK||i>hn.Status.UNAUTHENTICATED)&&(i=hn.Status.INTERNAL),e.emit("error",{details:(0,Cg.getErrorMessage)(r),code:i})}this.isPushPending=!1,this.bufferedMessages.length>0&&(yield this.pushMessage(e,this.bufferedMessages.shift()))})}getPeer(){var e;let t=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return t?.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}};ns.Http2ServerCallStream=ak;function nve(n){let e=new Error("Deadline exceeded");e.code=hn.Status.DEADLINE_EXCEEDED,n.sendError(e),n.cancelled=!0,n.emit("cancelled","deadline")}});var fk=ee(rE=>{"use strict";Object.defineProperty(rE,"__esModule",{value:!0});rE.ServerCredentials=void 0;var kH=MA(),Dg=class{static createInsecure(){return new lk}static createSsl(e,t,r=!1){if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if(typeof r!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let i=[],s=[];for(let o=0;o<t.length;o++){let a=t[o];if(a===null||typeof a!="object")throw new TypeError(`keyCertPair[${o}] must be an object`);if(!Buffer.isBuffer(a.private_key))throw new TypeError(`keyCertPair[${o}].private_key must be a Buffer`);if(!Buffer.isBuffer(a.cert_chain))throw new TypeError(`keyCertPair[${o}].cert_chain must be a Buffer`);i.push(a.cert_chain),s.push(a.private_key)}return new dk({ca:e||(0,kH.getDefaultRootsData)()||void 0,cert:i,key:s,requestCert:r,ciphers:kH.CIPHER_SUITES})}};rE.ServerCredentials=Dg;var lk=class extends Dg{_isSecure(){return!1}_getSettings(){return null}},dk=class extends Dg{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}});var PH=ee(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});oE.Server=void 0;var uc=Wt("http2"),Oa=Lt(),Wl=RH(),rve=fk(),MH=wo(),iE=An(),Gs=To(),ive=xi(),mi=zl(),sE=~(1<<31),sve=~(1<<31),ove=2e4,{HTTP2_HEADER_PATH:OH}=uc.constants,ave="server";function uve(){}function hk(n){return{code:Oa.Status.UNIMPLEMENTED,details:`The server does not implement the method ${n}`}}function cve(n,e){let t=hk(e);switch(n){case"unary":return(r,i)=>{i(t,null)};case"clientStream":return(r,i)=>{i(t,null)};case"serverStream":return r=>{r.emit("error",t)};case"bidi":return r=>{r.emit("error",t)};default:throw new Error(`Invalid handlerType ${n}`)}}var pk=class{constructor(e){var t,r,i,s;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new mi.ChannelzTrace,this.callTracker=new mi.ChannelzCallTracker,this.listenerChildrenTracker=new mi.ChannelzChildrenTracker,this.sessionChildrenTracker=new mi.ChannelzChildrenTracker,this.options=e??{},this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,mi.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(t=this.options["grpc.max_connection_age_ms"])!==null&&t!==void 0?t:sE,this.maxConnectionAgeGraceMs=(r=this.options["grpc.max_connection_age_grace_ms"])!==null&&r!==void 0?r:sE,this.keepaliveTimeMs=(i=this.options["grpc.keepalive_time_ms"])!==null&&i!==void 0?i:sve,this.keepaliveTimeoutMs=(s=this.options["grpc.keepalive_timeout_ms"])!==null&&s!==void 0?s:ove,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,r,i;let s=this.sessions.get(e),o=e.socket,a=o.remoteAddress?(0,Gs.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,u=o.localAddress?(0,Gs.stringToSubchannelAddress)(o.localAddress,o.localPort):null,c;if(e.encrypted){let d=o,f=d.getCipher(),h=d.getCertificate(),p=d.getPeerCertificate();c={cipherSuiteStandardName:(t=f.standardName)!==null&&t!==void 0?t:null,cipherSuiteOtherName:f.standardName?null:f.name,localCertificate:h&&"raw"in h?h.raw:null,remoteCertificate:p&&"raw"in p?p.raw:null}}else c=null;return{remoteAddress:a,localAddress:u,security:c,remoteName:null,streamsStarted:s.streamTracker.callsStarted,streamsSucceeded:s.streamTracker.callsSucceeded,streamsFailed:s.streamTracker.callsFailed,messagesSent:s.messagesSent,messagesReceived:s.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:s.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:s.lastMessageSentTimestamp,lastMessageReceivedTimestamp:s.lastMessageReceivedTimestamp,localFlowControlWindow:(r=e.state.localWindowSize)!==null&&r!==void 0?r:null,remoteFlowControlWindow:(i=e.state.remoteWindowSize)!==null&&i!==void 0?i:null}}}trace(e){iE.trace(Oa.LogVerbosity.DEBUG,ave,"("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(e===null||typeof e!="object"||t===null||typeof t!="object")throw new Error("addService() requires two objects as arguments");let r=Object.keys(e);if(r.length===0)throw new Error("Cannot add an empty service to a server");r.forEach(i=>{let s=e[i],o;s.requestStream?s.responseStream?o="bidi":o="clientStream":s.responseStream?o="serverStream":o="unary";let a=t[i],u;if(a===void 0&&typeof s.originalName=="string"&&(a=t[s.originalName]),a!==void 0?u=a.bind(t):u=cve(o,i),this.register(s.path,u,s.responseSerialize,s.requestDeserialize,o)===!1)throw new Error(`Method handler for ${s.path} already provided.`)})}removeService(e){if(e===null||typeof e!="object")throw new Error("removeService() requires object as argument");Object.keys(e).forEach(r=>{let i=e[r];this.unregister(i.path)})}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(this.started===!0)throw new Error("server is already started");if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof e!="string")throw new TypeError("port must be a string");if(t===null||!(t instanceof rve.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof r!="function")throw new TypeError("callback must be a function");let i=(0,ive.parseUri)(e);if(i===null)throw new Error(`Could not parse port "${e}"`);let s=(0,MH.mapUriDefaultScheme)(i);if(s===null)throw new Error(`Could not get a default scheme for port "${e}"`);let o={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?o.maxSessionMemory=this.options["grpc-node.max_session_memory"]:o.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(o.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let a=(h,p)=>{process.nextTick(()=>r(h,p))},u=()=>{let h;if(t._isSecure()){let p=Object.assign(o,t._getSettings());p.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,h=uc.createSecureServer(p),h.on("secureConnection",v=>{v.on("error",T=>{this.trace("An incoming TLS connection closed with error: "+T.message)})})}else h=uc.createServer(o);return h.setTimeout(0,uve),this._setupHandlers(h),h},c=(h,p,v)=>h.length===0?Promise.resolve({port:p,count:v}):Promise.all(h.map(T=>{this.trace("Attempting to bind "+(0,Gs.subchannelAddressToString)(T));let w;(0,Gs.isTcpSubchannelAddress)(T)?w={host:T.host,port:p}:w=T;let C=u();return new Promise((D,S)=>{let x=V=>{this.trace("Failed to bind "+(0,Gs.subchannelAddressToString)(T)+" with error "+V.message),D(V)};C.once("error",x),C.listen(w,()=>{if(this.shutdown){C.close(),D(new Error("bindAsync failed because server is shutdown"));return}let V=C.address(),R;typeof V=="string"?R={path:V}:R={host:V.address,port:V.port};let A=(0,mi.registerChannelzSocket)((0,Gs.subchannelAddressToString)(R),()=>({localAddress:R,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(A),this.http2ServerList.push({server:C,channelzRef:A}),this.trace("Successfully bound "+(0,Gs.subchannelAddressToString)(R)),D("port"in R?R.port:p),C.removeListener("error",x)})})})).then(T=>{let w=0;for(let C of T)if(typeof C=="number"&&(w+=1,C!==p))throw new Error("Invalid state: multiple port numbers added from single address");return{port:p,count:w+v}}),l=h=>{if(h.length===0)return Promise.resolve({port:0,count:0});let p=h[0],v=u();return new Promise((T,w)=>{let C=D=>{this.trace("Failed to bind "+(0,Gs.subchannelAddressToString)(p)+" with error "+D.message),T(l(h.slice(1)))};v.once("error",C),v.listen(p,()=>{if(this.shutdown){v.close(),T({port:0,count:0});return}let D=v.address(),S={host:D.address,port:D.port},x=(0,mi.registerChannelzSocket)((0,Gs.subchannelAddressToString)(S),()=>({localAddress:S,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(x),this.http2ServerList.push({server:v,channelzRef:x}),this.trace("Successfully bound "+(0,Gs.subchannelAddressToString)(S)),T(c(h.slice(1),D.port,1)),v.removeListener("error",C)})})},d={onSuccessfulResolution:(h,p,v)=>{if(d.onSuccessfulResolution=()=>{},this.shutdown&&a(new Error("bindAsync failed because server is shutdown"),0),h.length===0){a(new Error(`No addresses resolved for port ${e}`),0);return}let T;(0,Gs.isTcpSubchannelAddress)(h[0])?h[0].port===0?T=l(h):T=c(h,h[0].port,0):T=c(h,1,0),T.then(w=>{if(w.count===0){let C=`No address added out of total ${h.length} resolved`;iE.log(Oa.LogVerbosity.ERROR,C),a(new Error(C),0)}else w.count<h.length&&iE.log(Oa.LogVerbosity.INFO,`WARNING Only ${w.count} addresses added out of total ${h.length} resolved`),a(null,w.port)},w=>{let C=`No address added out of total ${h.length} resolved`;iE.log(Oa.LogVerbosity.ERROR,C),a(new Error(C),0)})},onError:h=>{a(new Error(h.details),0)}};(0,MH.createResolver)(s,d,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:t}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,mi.unregisterChannelzRef)(t))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,t)=>{t.destroy(uc.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,mi.unregisterChannelzRef)(this.channelzRef)}register(e,t,r,i,s){return this.handlers.has(e)?!1:(this.handlers.set(e,{func:t,serialize:r,deserialize:i,type:s,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(this.http2ServerList.length===0||this.http2ServerList.every(({server:e})=>e.listening!==!0))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let t=s=>{this.channelzEnabled&&(0,mi.unregisterChannelzRef)(this.channelzRef),e(s)},r=0;function i(){r--,r===0&&t()}this.started=!1,this.shutdown=!0;for(let{server:s,channelzRef:o}of this.http2ServerList)s.listening&&(r++,s.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(o),(0,mi.unregisterChannelzRef)(o)),i()}));this.sessions.forEach((s,o)=>{o.closed||(r+=1,o.close(i))}),r===0&&t()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){let r=t[uc.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof r!="string"||!r.startsWith("application/grpc")?(e.respond({[uc.constants.HTTP2_HEADER_STATUS]:uc.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let t=this.handlers.get(e);return t===void 0?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){let i=new Wl.Http2ServerCallStream(t,null,this.options);e.code===void 0&&(e.code=Oa.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed()),i.sendError(e)}_channelzHandler(e,t){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),r?.streamTracker.addCallStarted(),!this._verifyContentType(e,t)){this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed();return}let i=t[OH],s=this._retrieveHandler(i);if(!s){this._respondWithError(hk(i),e,r);return}let o=new Wl.Http2ServerCallStream(e,s,this.options);o.once("callEnd",a=>{a===Oa.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(o.once("streamEnd",a=>{a?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),o.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),o.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(o,s,t)||(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed(),o.sendError({code:Oa.Status.INTERNAL,details:`Unknown handler type: ${s.type}`}))}_streamHandler(e,t){if(this._verifyContentType(e,t)!==!0)return;let r=t[OH],i=this._retrieveHandler(r);if(!i){this._respondWithError(hk(r),e,null);return}let s=new Wl.Http2ServerCallStream(e,i,this.options);this._runHandlerForCall(s,i,t)||s.sendError({code:Oa.Status.INTERNAL,details:`Unknown handler type: ${i.type}`})}_runHandlerForCall(e,t,r){var i;let s=e.receiveMetadata(r),o=(i=s.get("grpc-encoding")[0])!==null&&i!==void 0?i:"identity";s.remove("grpc-encoding");let{type:a}=t;if(a==="unary")lve(e,t,s,o);else if(a==="clientStream")dve(e,t,s,o);else if(a==="serverStream")fve(e,t,s,o);else if(a==="bidi")hve(e,t,s,o);else return!1;return!0}_setupHandlers(e){if(e===null)return;let t=e.address(),r="null";t&&(typeof t=="string"?r=t:r=t.address+":"+t.port),this.serverAddressString=r;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",s=>{var o,a,u,c,l;if(!this.started){s.destroy();return}let d=(0,mi.registerChannelzSocket)((o=s.socket.remoteAddress)!==null&&o!==void 0?o:"unknown",this.getChannelzSessionInfoGetter(s),this.channelzEnabled),f={ref:d,streamTracker:new mi.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(s,f);let h=s.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+h),this.sessionChildrenTracker.refChild(d));let p=null,v=null,T=!1;if(this.maxConnectionAgeMs!==sE){let C=this.maxConnectionAgeMs/10,D=Math.random()*C*2-C;p=(u=(a=setTimeout(()=>{var S,x;T=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+h);try{s.goaway(uc.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch{s.destroy();return}s.close(),this.maxConnectionAgeGraceMs!==sE&&(v=(x=(S=setTimeout(()=>{s.destroy()},this.maxConnectionAgeGraceMs)).unref)===null||x===void 0?void 0:x.call(S))},this.maxConnectionAgeMs+D)).unref)===null||u===void 0?void 0:u.call(a)}let w=(l=(c=setInterval(()=>{var C,D;let S=(D=(C=setTimeout(()=>{T=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+h),s.close()},this.keepaliveTimeoutMs)).unref)===null||D===void 0?void 0:D.call(C);try{s.ping((x,V,R)=>{clearTimeout(S)})}catch{s.destroy()}},this.keepaliveTimeMs)).unref)===null||l===void 0?void 0:l.call(c);s.on("close",()=>{this.channelzEnabled&&(T||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+h),this.sessionChildrenTracker.unrefChild(d),(0,mi.unregisterChannelzRef)(d)),p&&clearTimeout(p),v&&clearTimeout(v),w&&clearTimeout(w),this.sessions.delete(s)})})}};oE.Server=pk;function lve(n,e,t,r){return P(this,null,function*(){try{let i=yield n.receiveUnaryMessage(r);if(i===void 0||n.cancelled)return;let s=new Wl.ServerUnaryCallImpl(n,t,i);e.func(s,(o,a,u,c)=>{n.sendUnaryMessage(o,a,u,c)})}catch(i){n.sendError(i)}})}function dve(n,e,t,r){let i=new Wl.ServerReadableStreamImpl(n,t,e.deserialize,r);function s(o,a,u,c){i.destroy(),n.sendUnaryMessage(o,a,u,c)}n.cancelled||(i.on("error",s),e.func(i,s))}function fve(n,e,t,r){return P(this,null,function*(){try{let i=yield n.receiveUnaryMessage(r);if(i===void 0||n.cancelled)return;let s=new Wl.ServerWritableStreamImpl(n,t,e.serialize,i);e.func(s)}catch(i){n.sendError(i)}})}function hve(n,e,t,r){let i=new Wl.ServerDuplexStreamImpl(n,t,e.serialize,e.deserialize,r);n.cancelled||e.func(i)}});var LH=ee(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});aE.StatusBuilder=void 0;var mk=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};aE.StatusBuilder=mk});var gk=ee(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.isDuration=cc.durationToMs=cc.msToDuration=void 0;function pve(n){return{seconds:n/1e3|0,nanos:n%1e3*1e6|0}}cc.msToDuration=pve;function mve(n){return n.seconds*1e3+n.nanos/1e6|0}cc.durationToMs=mve;function gve(n){return typeof n.seconds=="number"&&typeof n.nanos=="number"}cc.isDuration=gve});var Tk=ee(lc=>{"use strict";var yk;Object.defineProperty(lc,"__esModule",{value:!0});lc.setup=lc.OutlierDetectionLoadBalancer=lc.OutlierDetectionLoadBalancingConfig=void 0;var cE=Qi(),UH=Lt(),Kl=gk(),BH=Ck(),VH=Vu(),yve=$1(),vve=$u(),FH=To(),bve=Z_(),_ve=An(),Eve="outlier_detection";function dr(n){_ve.trace(UH.LogVerbosity.DEBUG,Eve,n)}var Sk="outlier_detection",wve=((yk=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&yk!==void 0?yk:"true")==="true",Sve={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},Tve={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function oh(n,e,t,r){if(e in n&&typeof n[e]!==t){let i=r?`${r}.${e}`:e;throw new Error(`outlier detection config ${i} parse error: expected ${t}, got ${typeof n[e]}`)}}function vk(n,e,t){let r=t?`${t}.${e}`:e;if(e in n){if(!(0,Kl.isDuration)(n[e]))throw new Error(`outlier detection config ${r} parse error: expected Duration, got ${typeof n[e]}`);if(!(n[e].seconds>=0&&n[e].seconds<=315576e6&&n[e].nanos>=0&&n[e].nanos<=999999999))throw new Error(`outlier detection config ${r} parse error: values out of range for non-negative Duaration`)}}function uE(n,e,t){let r=t?`${t}.${e}`:e;if(oh(n,e,"number",t),e in n&&!(n[e]>=0&&n[e]<=100))throw new Error(`outlier detection config ${r} parse error: value out of range for percentage (0-100)`)}var xg=class n{constructor(e,t,r,i,s,o,a){if(this.childPolicy=a,a.length>0&&a[0].getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=t??3e4,this.maxEjectionTimeMs=r??3e5,this.maxEjectionPercent=i??10,this.successRateEjection=s?Object.assign(Object.assign({},Sve),s):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},Tve),o):null}getLoadBalancerName(){return Sk}toJsonObject(){return{interval:(0,Kl.msToDuration)(this.intervalMs),base_ejection_time:(0,Kl.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,Kl.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new n(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;if(vk(e,"interval"),vk(e,"base_ejection_time"),vk(e,"max_ejection_time"),uE(e,"max_ejection_percent"),"success_rate_ejection"in e){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");oh(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),uE(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),oh(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),oh(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");uE(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),uE(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),oh(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),oh(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new n(e.interval?(0,Kl.durationToMs)(e.interval):null,e.base_ejection_time?(0,Kl.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,Kl.durationToMs)(e.max_ejection_time):null,(t=e.max_ejection_percent)!==null&&t!==void 0?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(VH.validateLoadBalancingConfig))}};lc.OutlierDetectionLoadBalancingConfig=xg;var _k=class extends bve.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((r,i,s,o)=>{if(this.childSubchannelState=s,!this.ejected)for(let a of this.stateListeners)a(this,i,s,o)})}getConnectivityState(){return this.ejected?cE.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.ejected=!0;for(let e of this.stateListeners)e(this,this.childSubchannelState,cE.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){this.ejected=!1;for(let e of this.stateListeners)e(this,cE.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function bk(){return{success:0,failure:0}}var Ek=class{constructor(){this.activeBucket=bk(),this.inactiveBucket=bk()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=bk()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},wk=class{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType===vve.PickResultType.COMPLETE){let r=t.subchannel,i=r.getMapEntry();if(i){let s=t.onCallEnded;return this.countCalls&&(s=o=>{var a;o===UH.Status.OK?i.counter.addSuccess():i.counter.addFailure(),(a=t.onCallEnded)===null||a===void 0||a.call(t,o)}),Object.assign(Object.assign({},t),{subchannel:r.getWrappedSubchannel(),onCallEnded:s})}else return Object.assign(Object.assign({},t),{subchannel:r.getWrappedSubchannel()})}else return t}},lE=class{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new yve.ChildLoadBalancerHandler((0,BH.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{let i=e.createSubchannel(t,r),s=this.addressMap.get((0,FH.subchannelAddressToString)(t)),o=new _k(i,s);return s?.currentEjectionTimestamp!==null&&o.eject(),s?.subchannelWrappers.push(o),o},updateState:(t,r)=>{t===cE.ConnectivityState.READY?e.updateState(t,new wk(r,this.isCountingEnabled())):e.updateState(t,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let t of this.addressMap.values())t.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;dr("Running success rate check");let r=t.request_volume,i=0,s=[];for(let[d,f]of this.addressMap){let h=f.counter.getLastSuccesses(),p=f.counter.getLastFailures();dr("Stats for "+d+": successes="+h+" failures="+p+" targetRequestVolume="+r),h+p>=r&&(i+=1,s.push(h/(h+p)))}if(dr("Found "+i+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+s+"]"),i<t.minimum_hosts)return;let o=s.reduce((d,f)=>d+f)/s.length,a=0;for(let d of s){let f=d-o;a+=f*f}let u=a/s.length,c=Math.sqrt(u),l=o-c*(t.stdev_factor/1e3);dr("stdev="+c+" ejectionThreshold="+l);for(let[d,f]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let h=f.counter.getLastSuccesses(),p=f.counter.getLastFailures();if(h+p<r)continue;let v=h/(h+p);if(dr("Checking candidate "+d+" successRate="+v),v<l){let T=Math.random()*100;dr("Candidate "+d+" randomNumber="+T+" enforcement_percentage="+t.enforcement_percentage),T<t.enforcement_percentage&&(dr("Ejecting candidate "+d),this.eject(f,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;dr("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(let i of this.addressMap.values()){let s=i.counter.getLastSuccesses(),o=i.counter.getLastFailures();s+o>=t.request_volume&&(r+=1)}if(!(r<t.minimum_hosts))for(let[i,s]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=s.counter.getLastSuccesses(),a=s.counter.getLastFailures();if(dr("Candidate successes="+o+" failures="+a),o+a<t.request_volume)continue;if(a*100/(a+o)>t.threshold){let c=Math.random()*100;dr("Candidate "+i+" randomNumber="+c+" enforcement_percentage="+t.enforcement_percentage),c<t.enforcement_percentage&&(dr("Ejecting candidate "+i),this.eject(s,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let r of e.subchannelWrappers)r.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(r=(t=this.ejectionTimer).unref)===null||r===void 0||r.call(t)}runChecks(){let e=new Date;if(dr("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[t,r]of this.addressMap.entries())if(r.currentEjectionTimestamp===null)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let i=this.latestConfig.getBaseEjectionTimeMs(),s=this.latestConfig.getMaxEjectionTimeMs(),o=new Date(r.currentEjectionTimestamp.getTime());o.setMilliseconds(o.getMilliseconds()+Math.min(i*r.ejectionTimeMultiplier,Math.max(i,s))),o<new Date&&(dr("Unejecting "+t),this.uneject(r))}}}updateAddressList(e,t,r){if(!(t instanceof xg))return;let i=new Set;for(let o of e)i.add((0,FH.subchannelAddressToString)(o));for(let o of i)this.addressMap.has(o)||(dr("Adding map entry for "+o),this.addressMap.set(o,{counter:new Ek,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let o of this.addressMap.keys())i.has(o)||(dr("Removing map entry for "+o),this.addressMap.delete(o));let s=(0,VH.getFirstUsableConfig)(t.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,s,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){dr("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let o=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(o)}else dr("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{dr("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let o of this.addressMap.values())this.uneject(o),o.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return Sk}};lc.OutlierDetectionLoadBalancer=lE;function Cve(){wve&&(0,BH.registerLoadBalancerType)(Sk,lE,xg)}lc.setup=Cve});var Ck=ee(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.OutlierDetectionLoadBalancingConfig=Qe.BaseSubchannelWrapper=Qe.registerAdminService=Qe.FilterStackFactory=Qe.BaseFilter=Qe.PickResultType=Qe.QueuePicker=Qe.UnavailablePicker=Qe.ChildLoadBalancerHandler=Qe.subchannelAddressToString=Qe.validateLoadBalancingConfig=Qe.getFirstUsableConfig=Qe.registerLoadBalancerType=Qe.createChildChannelControlHelper=Qe.BackoffTimeout=Qe.durationToMs=Qe.uriToString=Qe.createResolver=Qe.registerResolver=Qe.log=Qe.trace=void 0;var qH=An();Object.defineProperty(Qe,"trace",{enumerable:!0,get:function(){return qH.trace}});Object.defineProperty(Qe,"log",{enumerable:!0,get:function(){return qH.log}});var jH=wo();Object.defineProperty(Qe,"registerResolver",{enumerable:!0,get:function(){return jH.registerResolver}});Object.defineProperty(Qe,"createResolver",{enumerable:!0,get:function(){return jH.createResolver}});var Ive=xi();Object.defineProperty(Qe,"uriToString",{enumerable:!0,get:function(){return Ive.uriToString}});var Dve=gk();Object.defineProperty(Qe,"durationToMs",{enumerable:!0,get:function(){return Dve.durationToMs}});var xve=Wm();Object.defineProperty(Qe,"BackoffTimeout",{enumerable:!0,get:function(){return xve.BackoffTimeout}});var dE=Vu();Object.defineProperty(Qe,"createChildChannelControlHelper",{enumerable:!0,get:function(){return dE.createChildChannelControlHelper}});Object.defineProperty(Qe,"registerLoadBalancerType",{enumerable:!0,get:function(){return dE.registerLoadBalancerType}});Object.defineProperty(Qe,"getFirstUsableConfig",{enumerable:!0,get:function(){return dE.getFirstUsableConfig}});Object.defineProperty(Qe,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return dE.validateLoadBalancingConfig}});var Ave=To();Object.defineProperty(Qe,"subchannelAddressToString",{enumerable:!0,get:function(){return Ave.subchannelAddressToString}});var Nve=$1();Object.defineProperty(Qe,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return Nve.ChildLoadBalancerHandler}});var Ik=$u();Object.defineProperty(Qe,"UnavailablePicker",{enumerable:!0,get:function(){return Ik.UnavailablePicker}});Object.defineProperty(Qe,"QueuePicker",{enumerable:!0,get:function(){return Ik.QueuePicker}});Object.defineProperty(Qe,"PickResultType",{enumerable:!0,get:function(){return Ik.PickResultType}});var Rve=qR();Object.defineProperty(Qe,"BaseFilter",{enumerable:!0,get:function(){return Rve.BaseFilter}});var kve=UR();Object.defineProperty(Qe,"FilterStackFactory",{enumerable:!0,get:function(){return kve.FilterStackFactory}});var Mve=G1();Object.defineProperty(Qe,"registerAdminService",{enumerable:!0,get:function(){return Mve.registerAdminService}});var Ove=Z_();Object.defineProperty(Qe,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return Ove.BaseSubchannelWrapper}});var Pve=Tk();Object.defineProperty(Qe,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return Pve.OutlierDetectionLoadBalancingConfig}})});var HH=ee(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0});fE.setup=void 0;var Lve=wo(),Dk=class{constructor(e,t,r){this.listener=t,this.addresses=[],this.hasReturnedResult=!1;let i;e.authority===""?i="/"+e.path:i=e.path,this.addresses=[{path:i}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}};function Fve(){(0,Lve.registerResolver)("unix",Dk)}fE.setup=Fve});var KH=ee(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0});mE.setup=void 0;var $H=Wt("net"),hE=Lt(),xk=fi(),zH=wo(),GH=xi(),Uve=An(),Bve="ip_resolver";function WH(n){Uve.trace(hE.LogVerbosity.DEBUG,Bve,n)}var Ak="ipv4",Nk="ipv6",Vve=443,pE=class{constructor(e,t,r){var i;this.listener=t,this.addresses=[],this.error=null,this.hasReturnedResult=!1,WH("Resolver constructed for target "+(0,GH.uriToString)(e));let s=[];if(!(e.scheme===Ak||e.scheme===Nk)){this.error={code:hE.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new xk.Metadata};return}let o=e.path.split(",");for(let a of o){let u=(0,GH.splitHostPort)(a);if(u===null){this.error={code:hE.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new xk.Metadata};return}if(e.scheme===Ak&&!(0,$H.isIPv4)(u.host)||e.scheme===Nk&&!(0,$H.isIPv6)(u.host)){this.error={code:hE.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new xk.Metadata};return}s.push({host:u.host,port:(i=u.port)!==null&&i!==void 0?i:Vve})}this.addresses=s,WH("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function qve(){(0,zH.registerResolver)(Ak,pE),(0,zH.registerResolver)(Nk,pE)}mE.setup=qve});var ZH=ee(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.setup=Lo.PickFirstLoadBalancer=Lo.shuffled=Lo.PickFirstLoadBalancingConfig=void 0;var QH=Vu(),Fr=Qi(),gE=$u(),jve=An(),Hve=Lt(),$ve="pick_first";function Rk(n){jve.trace(Hve.LogVerbosity.DEBUG,$ve,n)}var Ag="pick_first",zve=250,Ng=class n{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return Ag}toJsonObject(){return{[Ag]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new n(e.shuffleAddressList===!0)}};Lo.PickFirstLoadBalancingConfig=Ng;var kk=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:gE.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function YH(n){let e=n.slice();for(let t=e.length-1;t>1;t--){let r=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e}Lo.shuffled=YH;var yE=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=Fr.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(t,r,i,s,o)=>{this.onSubchannelStateUpdate(t,r,i,o)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(Fr.ConnectivityState.READY,new kk(this.currentPick)):this.children.length===0?this.updateState(Fr.ConnectivityState.IDLE,new gE.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(Fr.ConnectivityState.TRANSIENT_FAILURE,new gE.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Fr.ConnectivityState.CONNECTING,new gE.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,r,i){var s;if(!((s=this.currentPick)===null||s===void 0)&&s.realSubchannelEquals(e)){r!==Fr.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[o,a]of this.children.entries())if(e.realSubchannelEquals(a.subchannel)){r===Fr.ConnectivityState.READY&&this.pickSubchannel(a.subchannel),r===Fr.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0,i&&(this.lastError=i),this.maybeEnterStickyTransientFailureMode(),o===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(o+1)),a.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,r]of this.children.entries())if(t>=e){let i=r.subchannel.getConnectivityState();if(i===Fr.ConnectivityState.IDLE||i===Fr.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===Fr.ConnectivityState.IDLE&&(Rk("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var i;(i=this.children[e])===null||i===void 0||i.subchannel.startConnecting()})),this.connectionDelayTimeout=(r=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},zve)).unref)===null||r===void 0?void 0:r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(Rk("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.currentPick!==null&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){Rk(Fr.ConnectivityState[this.currentState]+" -> "+Fr.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(r=>({subchannel:this.channelControlHelper.createSubchannel(r,{}),hasReportedTransientFailure:!1}));for(let{subchannel:r}of t)r.ref(),this.channelControlHelper.addChannelzChild(r.getChannelzRef());this.resetSubchannelList(),this.children=t;for(let{subchannel:r}of this.children)if(r.addConnectivityStateListener(this.subchannelStateListener),r.getConnectivityState()===Fr.ConnectivityState.READY){this.pickSubchannel(r);return}for(let r of this.children)r.subchannel.getConnectivityState()===Fr.ConnectivityState.TRANSIENT_FAILURE&&(r.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){t instanceof Ng&&(t.getShuffleAddressList()&&(e=YH(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===Fr.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return Ag}};Lo.PickFirstLoadBalancer=yE;function Gve(){(0,QH.registerLoadBalancerType)(Ag,yE,Ng),(0,QH.registerDefaultLoadBalancerType)(Ag)}Lo.setup=Gve});var JH=ee(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.setup=ah.RoundRobinLoadBalancer=void 0;var Wve=Vu(),Ur=Qi(),vE=$u(),Kve=To(),Qve=An(),Yve=Lt(),Zve="round_robin";function XH(n){Qve.trace(Yve.LogVerbosity.DEBUG,Zve,n)}var bE="round_robin",Mk=class n{getLoadBalancerName(){return bE}constructor(){}toJsonObject(){return{[bE]:{}}}static createFromJson(e){return new n}},Ok=class{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){let t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:vE.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}},_E=class{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=Ur.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(t,r,i,s,o)=>{this.calculateAndUpdateState(),(i===Ur.ConnectivityState.TRANSIENT_FAILURE||i===Ur.ConnectivityState.IDLE)&&(o&&(this.lastError=o),this.channelControlHelper.requestReresolution(),t.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(Ur.ConnectivityState.READY)>0){let e=this.subchannels.filter(r=>r.getConnectivityState()===Ur.ConnectivityState.READY),t=0;this.currentReadyPicker!==null&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),t<0&&(t=0)),this.updateState(Ur.ConnectivityState.READY,new Ok(e,t))}else this.countSubchannelsWithState(Ur.ConnectivityState.CONNECTING)>0?this.updateState(Ur.ConnectivityState.CONNECTING,new vE.QueuePicker(this)):this.countSubchannelsWithState(Ur.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(Ur.ConnectivityState.TRANSIENT_FAILURE,new vE.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Ur.ConnectivityState.IDLE,new vE.QueuePicker(this))}updateState(e,t){XH(Ur.ConnectivityState[this.currentState]+" -> "+Ur.ConnectivityState[e]),e===Ur.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList(),XH("Connect to address list "+e.map(r=>(0,Kve.subchannelAddressToString)(r))),this.subchannels=e.map(r=>this.channelControlHelper.createSubchannel(r,{}));for(let r of this.subchannels){r.ref(),r.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(r.getChannelzRef());let i=r.getConnectivityState();(i===Ur.ConnectivityState.IDLE||i===Ur.ConnectivityState.TRANSIENT_FAILURE)&&r.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return bE}};ah.RoundRobinLoadBalancer=_E;function Xve(){(0,Wve.registerLoadBalancerType)(bE,_E,Mk)}ah.setup=Xve});var r$=ee(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.experimental=we.addAdminServicesToServer=we.getChannelzHandlers=we.getChannelzServiceDefinition=we.InterceptorConfigurationError=we.InterceptingCall=we.RequesterBuilder=we.ListenerBuilder=we.StatusBuilder=we.getClientChannel=we.ServerCredentials=we.Server=we.setLogVerbosity=we.setLogger=we.load=we.loadObject=we.CallCredentials=we.ChannelCredentials=we.waitForClientReady=we.closeClient=we.Channel=we.makeGenericClientConstructor=we.makeClientConstructor=we.loadPackageDefinition=we.Client=we.compressionAlgorithms=we.propagate=we.connectivityState=we.status=we.logVerbosity=we.Metadata=we.credentials=void 0;var EE=RA();Object.defineProperty(we,"CallCredentials",{enumerable:!0,get:function(){return EE.CallCredentials}});var Jve=cN();Object.defineProperty(we,"Channel",{enumerable:!0,get:function(){return Jve.ChannelImplementation}});var ebe=BR();Object.defineProperty(we,"compressionAlgorithms",{enumerable:!0,get:function(){return ebe.CompressionAlgorithms}});var tbe=Qi();Object.defineProperty(we,"connectivityState",{enumerable:!0,get:function(){return tbe.ConnectivityState}});var wE=F1();Object.defineProperty(we,"ChannelCredentials",{enumerable:!0,get:function(){return wE.ChannelCredentials}});var e$=uN();Object.defineProperty(we,"Client",{enumerable:!0,get:function(){return e$.Client}});var Pk=Lt();Object.defineProperty(we,"logVerbosity",{enumerable:!0,get:function(){return Pk.LogVerbosity}});Object.defineProperty(we,"status",{enumerable:!0,get:function(){return Pk.Status}});Object.defineProperty(we,"propagate",{enumerable:!0,get:function(){return Pk.Propagate}});var t$=An(),Lk=dN();Object.defineProperty(we,"loadPackageDefinition",{enumerable:!0,get:function(){return Lk.loadPackageDefinition}});Object.defineProperty(we,"makeClientConstructor",{enumerable:!0,get:function(){return Lk.makeClientConstructor}});Object.defineProperty(we,"makeGenericClientConstructor",{enumerable:!0,get:function(){return Lk.makeClientConstructor}});var nbe=fi();Object.defineProperty(we,"Metadata",{enumerable:!0,get:function(){return nbe.Metadata}});var rbe=PH();Object.defineProperty(we,"Server",{enumerable:!0,get:function(){return rbe.Server}});var ibe=fk();Object.defineProperty(we,"ServerCredentials",{enumerable:!0,get:function(){return ibe.ServerCredentials}});var sbe=LH();Object.defineProperty(we,"StatusBuilder",{enumerable:!0,get:function(){return sbe.StatusBuilder}});we.credentials={combineChannelCredentials:(n,...e)=>e.reduce((t,r)=>t.compose(r),n),combineCallCredentials:(n,...e)=>e.reduce((t,r)=>t.compose(r),n),createInsecure:wE.ChannelCredentials.createInsecure,createSsl:wE.ChannelCredentials.createSsl,createFromSecureContext:wE.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:EE.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:EE.CallCredentials.createFromGoogleCredential,createEmpty:EE.CallCredentials.createEmpty};var obe=n=>n.close();we.closeClient=obe;var abe=(n,e,t)=>n.waitForReady(e,t);we.waitForClientReady=abe;var ube=(n,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};we.loadObject=ube;var cbe=(n,e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};we.load=cbe;var lbe=n=>{t$.setLogger(n)};we.setLogger=lbe;var dbe=n=>{t$.setLoggerVerbosity(n)};we.setLogVerbosity=dbe;var fbe=n=>e$.Client.prototype.getChannel.call(n);we.getClientChannel=fbe;var SE=sN();Object.defineProperty(we,"ListenerBuilder",{enumerable:!0,get:function(){return SE.ListenerBuilder}});Object.defineProperty(we,"RequesterBuilder",{enumerable:!0,get:function(){return SE.RequesterBuilder}});Object.defineProperty(we,"InterceptingCall",{enumerable:!0,get:function(){return SE.InterceptingCall}});Object.defineProperty(we,"InterceptorConfigurationError",{enumerable:!0,get:function(){return SE.InterceptorConfigurationError}});var n$=zl();Object.defineProperty(we,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return n$.getChannelzServiceDefinition}});Object.defineProperty(we,"getChannelzHandlers",{enumerable:!0,get:function(){return n$.getChannelzHandlers}});var hbe=G1();Object.defineProperty(we,"addAdminServicesToServer",{enumerable:!0,get:function(){return hbe.addAdminServicesToServer}});var pbe=Ck();we.experimental=pbe;var mbe=IR(),gbe=HH(),ybe=KH(),vbe=ZH(),bbe=JH(),_be=Tk(),Ebe=zl();mbe.setup(),gbe.setup(),ybe.setup(),vbe.setup(),bbe.setup(),_be.setup(),Ebe.setup()});import Aue from"./angular-app-manifest.mjs";function NS(n,e){return Object.is(n,e)}var tr=null,z0=!1,RS=1,hs=Symbol("SIGNAL");function st(n){let e=tr;return tr=n,e}function kS(){return tr}var vd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ap(n){if(z0)throw new Error("");if(tr===null)return;tr.consumerOnSignalRead(n);let e=tr.nextProducerIndex++;if(Y0(tr),e<tr.producerNode.length&&tr.producerNode[e]!==n&&op(tr)){let t=tr.producerNode[e];Q0(t,tr.producerIndexOfThis[e])}tr.producerNode[e]!==n&&(tr.producerNode[e]=n,tr.producerIndexOfThis[e]=op(tr)?n6(n,tr,e):0),tr.producerLastReadVersion[e]=n.version}function t6(){RS++}function MS(n){if(!(op(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===RS)){if(!n.producerMustRecompute(n)&&!K0(n)){AS(n);return}n.producerRecomputeValue(n),AS(n)}}function OS(n){if(n.liveConsumerNode===void 0)return;let e=z0;z0=!0;try{for(let t of n.liveConsumerNode)t.dirty||YK(t)}finally{z0=e}}function PS(){return tr?.consumerAllowSignalWrites!==!1}function YK(n){n.dirty=!0,OS(n),n.consumerMarkedDirty?.(n)}function AS(n){n.dirty=!1,n.lastCleanEpoch=RS}function up(n){return n&&(n.nextProducerIndex=0),st(n)}function W0(n,e){if(st(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(op(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Q0(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function K0(n){Y0(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(MS(t),r!==t.version))return!0}return!1}function cp(n){if(Y0(n),op(n))for(let e=0;e<n.producerNode.length;e++)Q0(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function n6(n,e,t){if(r6(n),n.liveConsumerNode.length===0&&i6(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=n6(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Q0(n,e){if(r6(n),n.liveConsumerNode.length===1&&i6(n))for(let r=0;r<n.producerNode.length;r++)Q0(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Y0(i),i.producerIndexOfThis[r]=e}}function op(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Y0(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function r6(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function i6(n){return n.producerNode!==void 0}function LS(n,e){let t=Object.create(ZK);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(MS(t),ap(t),t.value===G0)throw t.error;return t.value};return r[hs]=t,r}var DS=Symbol("UNSET"),xS=Symbol("COMPUTING"),G0=Symbol("ERRORED"),ZK=me(Q({},vd),{value:DS,dirty:!0,error:null,equal:NS,kind:"computed",producerMustRecompute(n){return n.value===DS||n.value===xS},producerRecomputeValue(n){if(n.value===xS)throw new Error("Detected cycle in computations.");let e=n.value;n.value=xS;let t=up(n),r,i=!1;try{r=n.computation(),st(null),i=e!==DS&&e!==G0&&r!==G0&&n.equal(e,r)}catch(s){r=G0,n.error=s}finally{W0(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function XK(){throw new Error}var s6=XK;function o6(n){s6(n)}function FS(n){s6=n}var JK=null;function US(n,e){let t=Object.create(Z0);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(ap(t),t.value);return r[hs]=t,r}function lp(n,e){PS()||o6(n),n.equal(n.value,e)||(n.value=e,eQ(n))}function BS(n,e){PS()||o6(n),lp(n,e(n.value))}var Z0=me(Q({},vd),{equal:NS,value:void 0,kind:"signal"});function eQ(n){n.version++,t6(),OS(n),JK?.()}function VS(n){let e=st(null);try{return n()}finally{st(e)}}var qS;function dp(){return qS}function na(n){let e=qS;return qS=n,e}var X0=Symbol("NotFound");function Xe(n){return typeof n=="function"}function bd(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var J0=bd(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function kc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var In=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Xe(r))try{r()}catch(s){e=s instanceof J0?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{a6(s)}catch(o){e=e??[],o instanceof J0?e=[...e,...o.errors]:e.push(o)}}if(e)throw new J0(e)}}add(e){var t;if(e&&e!==this)if(this.closed)a6(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&kc(t,e)}remove(e){let{_finalizers:t}=this;t&&kc(t,e),e instanceof n&&e._removeParent(this)}};In.EMPTY=(()=>{let n=new In;return n.closed=!0,n})();var jS=In.EMPTY;function ey(n){return n instanceof In||n&&"closed"in n&&Xe(n.remove)&&Xe(n.add)&&Xe(n.unsubscribe)}function a6(n){Xe(n)?n():n.unsubscribe()}var ps={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _d={setTimeout(n,e,...t){let{delegate:r}=_d;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=_d;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ty(n){_d.setTimeout(()=>{let{onUnhandledError:e}=ps;if(e)e(n);else throw n})}function fp(){}var u6=HS("C",void 0,void 0);function c6(n){return HS("E",void 0,n)}function l6(n){return HS("N",n,void 0)}function HS(n,e,t){return{kind:n,value:e,error:t}}var Mc=null;function Ed(n){if(ps.useDeprecatedSynchronousErrorHandling){let e=!Mc;if(e&&(Mc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Mc;if(Mc=null,t)throw r}}else n()}function d6(n){ps.useDeprecatedSynchronousErrorHandling&&Mc&&(Mc.errorThrown=!0,Mc.error=n)}var Oc=class extends In{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ey(e)&&e.add(this)):this.destination=oQ}static create(e,t,r){return new tu(e,t,r)}next(e){this.isStopped?zS(l6(e),this):this._next(e)}error(e){this.isStopped?zS(c6(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zS(u6,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iQ=Function.prototype.bind;function $S(n,e){return iQ.call(n,e)}var GS=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ny(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ny(r)}else ny(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ny(t)}}},tu=class extends Oc{constructor(e,t,r){super();let i;if(Xe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ps.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$S(e.next,s),error:e.error&&$S(e.error,s),complete:e.complete&&$S(e.complete,s)}):i=e}this.destination=new GS(i)}};function ny(n){ps.useDeprecatedSynchronousErrorHandling?d6(n):ty(n)}function sQ(n){throw n}function zS(n,e){let{onStoppedNotification:t}=ps;t&&_d.setTimeout(()=>t(n,e))}var oQ={closed:!0,next:fp,error:sQ,complete:fp};var wd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bi(n){return n}function ry(...n){return WS(n)}function WS(n){return n.length===0?bi:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ot=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=uQ(t)?t:new tu(t,r,i);return Ed(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=f6(r),new r((i,s)=>{let o=new tu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[wd](){return this}pipe(...t){return WS(t)(this)}toPromise(t){return t=f6(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function f6(n){var e;return(e=n??ps.Promise)!==null&&e!==void 0?e:Promise}function aQ(n){return n&&Xe(n.next)&&Xe(n.error)&&Xe(n.complete)}function uQ(n){return n&&n instanceof Oc||aQ(n)&&ey(n)}function KS(n){return Xe(n?.lift)}function wt(n){return e=>{if(KS(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function bt(n,e,t,r,i){return new QS(n,e,t,r,i)}var QS=class extends Oc{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Sd(){return wt((n,e)=>{let t=null;n._refCount++;let r=bt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Td=class extends ot{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,KS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new In;let t=this.getSubject();e.add(this.source.subscribe(bt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=In.EMPTY)}return e}refCount(){return Sd()(this)}};var h6=bd(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var bn=(()=>{class n extends ot{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new iy(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new h6}next(t){Ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ed(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?jS:(this.currentObservers=null,s.push(t),new In(()=>{this.currentObservers=null,kc(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ot;return t.source=this,t}}return n.create=(e,t)=>new iy(e,t),n})(),iy=class extends bn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:jS}};var kn=class extends bn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var YS={now(){return(YS.delegate||Date).now()},delegate:void 0};var sy=class extends In{constructor(e,t){super()}schedule(e,t=0){return this}};var hp={setInterval(n,e,...t){let{delegate:r}=hp;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=hp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Cd=class extends sy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return hp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&hp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,kc(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Id=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Id.now=YS.now;var Dd=class extends Id{constructor(e,t=Id.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ZS=new Dd(Cd);var oy=class extends Cd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ay=class extends Dd{};var XS=new ay(oy);var Xr=new ot(n=>n.complete());function p6(n){return n&&Xe(n.schedule)}function m6(n){return n[n.length-1]}function uy(n){return Xe(m6(n))?n.pop():void 0}function nu(n){return p6(m6(n))?n.pop():void 0}function JS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function y6(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}function g6(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pc(n){return this instanceof Pc?(this.v=n,this):new Pc(n)}function v6(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(v){return new Promise(function(T,w){s.push([h,v,T,w])>1||u(h,v)})},p&&(i[h]=p(i[h])))}function u(h,p){try{c(r[h](p))}catch(v){f(s[0][3],v)}}function c(h){h.value instanceof Pc?Promise.resolve(h.value.v).then(l,d):f(s[0][2],h)}function l(h){u("next",h)}function d(h){u("throw",h)}function f(h,p){h(p),s.shift(),s.length&&u(s[0][0],s[0][1])}}function b6(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof g6=="function"?g6(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){o=n[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}var cy=n=>n&&typeof n.length=="number"&&typeof n!="function";function ly(n){return Xe(n?.then)}function dy(n){return Xe(n[wd])}function fy(n){return Symbol.asyncIterator&&Xe(n?.[Symbol.asyncIterator])}function hy(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cQ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var py=cQ();function my(n){return Xe(n?.[py])}function gy(n){return v6(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Pc(t.read());if(i)return yield Pc(void 0);yield yield Pc(r)}}finally{t.releaseLock()}})}function yy(n){return Xe(n?.getReader)}function Gn(n){if(n instanceof ot)return n;if(n!=null){if(dy(n))return lQ(n);if(cy(n))return dQ(n);if(ly(n))return fQ(n);if(fy(n))return _6(n);if(my(n))return hQ(n);if(yy(n))return pQ(n)}throw hy(n)}function lQ(n){return new ot(e=>{let t=n[wd]();if(Xe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dQ(n){return new ot(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function fQ(n){return new ot(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ty)})}function hQ(n){return new ot(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function _6(n){return new ot(e=>{mQ(n,e).catch(t=>e.error(t))})}function pQ(n){return _6(gy(n))}function mQ(n,e){var t,r,i,s;return y6(this,void 0,void 0,function*(){try{for(t=b6(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Jr(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function ru(n,e=0){return wt((t,r)=>{t.subscribe(bt(r,i=>Jr(r,n,()=>r.next(i),e),()=>Jr(r,n,()=>r.complete(),e),i=>Jr(r,n,()=>r.error(i),e)))})}function iu(n,e=0){return wt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function E6(n,e){return Gn(n).pipe(iu(e),ru(e))}function w6(n,e){return Gn(n).pipe(iu(e),ru(e))}function S6(n,e){return new ot(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function T6(n,e){return new ot(t=>{let r;return Jr(t,e,()=>{r=n[py](),Jr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>Xe(r?.return)&&r.return()})}function vy(n,e){if(!n)throw new Error("Iterable cannot be null");return new ot(t=>{Jr(t,e,()=>{let r=n[Symbol.asyncIterator]();Jr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function C6(n,e){return vy(gy(n),e)}function I6(n,e){if(n!=null){if(dy(n))return E6(n,e);if(cy(n))return S6(n,e);if(ly(n))return w6(n,e);if(fy(n))return vy(n,e);if(my(n))return T6(n,e);if(yy(n))return C6(n,e)}throw hy(n)}function Je(n,e){return e?I6(n,e):Gn(n)}function xe(...n){let e=nu(n);return Je(n,e)}function ms(n,e){let t=Xe(n)?n:()=>n,r=i=>i.error(t());return new ot(e?i=>e.schedule(r,0,i):r)}function eT(n){return!!n&&(n instanceof ot||Xe(n.lift)&&Xe(n.subscribe))}var gs=bd(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Lc(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let s=new tu({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new gs)}});n.subscribe(s)})}function Ve(n,e){return wt((t,r)=>{let i=0;t.subscribe(bt(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:gQ}=Array;function yQ(n,e){return gQ(e)?n(...e):n(e)}function by(n){return Ve(e=>yQ(n,e))}var{isArray:vQ}=Array,{getPrototypeOf:bQ,prototype:_Q,keys:EQ}=Object;function _y(n){if(n.length===1){let e=n[0];if(vQ(e))return{args:e,keys:null};if(wQ(e)){let t=EQ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function wQ(n){return n&&typeof n=="object"&&bQ(n)===_Q}function Ey(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Fc(...n){let e=nu(n),t=uy(n),{args:r,keys:i}=_y(n);if(r.length===0)return Je([],e);let s=new ot(SQ(r,e,i?o=>Ey(i,o):bi));return t?s.pipe(by(t)):s}function SQ(n,e,t=bi){return r=>{D6(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)D6(e,()=>{let c=Je(n[u],e),l=!1;c.subscribe(bt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function D6(n,e,t){n?Jr(t,n,e):e()}function x6(n,e,t,r,i,s,o,a){let u=[],c=0,l=0,d=!1,f=()=>{d&&!u.length&&!c&&e.complete()},h=v=>c<r?p(v):u.push(v),p=v=>{s&&e.next(v),c++;let T=!1;Gn(t(v,l++)).subscribe(bt(e,w=>{i?.(w),s?h(w):e.next(w)},()=>{T=!0},void 0,()=>{if(T)try{for(c--;u.length&&c<r;){let w=u.shift();o?Jr(e,o,()=>p(w)):p(w)}f()}catch(w){e.error(w)}}))};return n.subscribe(bt(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Mn(n,e,t=1/0){return Xe(e)?Mn((r,i)=>Ve((s,o)=>e(r,s,i,o))(Gn(n(r,i))),t):(typeof e=="number"&&(t=e),wt((r,i)=>x6(r,i,n,t)))}function su(n=1/0){return Mn(bi,n)}function A6(){return su(1)}function xd(...n){return A6()(Je(n,nu(n)))}function wy(n){return new ot(e=>{Gn(n()).subscribe(e)})}function tT(...n){let e=uy(n),{args:t,keys:r}=_y(n),i=new ot(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),u=o,c=o;for(let l=0;l<o;l++){let d=!1;Gn(t[l]).subscribe(bt(s,f=>{d||(d=!0,c--),a[l]=f},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?Ey(r,a):a),s.complete())}))}});return e?i.pipe(by(e)):i}function ei(n,e){return wt((t,r)=>{let i=0;t.subscribe(bt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function On(n){return wt((e,t)=>{let r=null,i=!1,s;r=e.subscribe(bt(t,void 0,void 0,o=>{s=Gn(n(o,On(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function N6(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(bt(o,l=>{let d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function ou(n,e){return Xe(e)?Mn(n,e,1):Mn(n,1)}function au(n){return wt((e,t)=>{let r=!1;e.subscribe(bt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ys(n){return n<=0?()=>Xr:wt((e,t)=>{let r=0;e.subscribe(bt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Sy(n=TQ){return wt((e,t)=>{let r=!1;e.subscribe(bt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function TQ(){return new gs}function pp(n){return wt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ra(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ei((i,s)=>n(i,s,r)):bi,ys(1),t?au(e):Sy(()=>new gs))}function Ad(n){return n<=0?()=>Xr:wt((e,t)=>{let r=[];e.subscribe(bt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function nT(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ei((i,s)=>n(i,s,r)):bi,Ad(1),t?au(e):Sy(()=>new gs))}function Ty(n,e){return wt(N6(n,e,arguments.length>=2,!0))}function Cy(...n){let e=nu(n);return wt((t,r)=>{(e?xd(n,t,e):xd(n,t)).subscribe(r)})}function Pn(n,e){return wt((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(bt(r,u=>{i?.unsubscribe();let c=0,l=s++;Gn(n(u,l)).subscribe(i=bt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function rT(n){return wt((e,t)=>{Gn(n).subscribe(bt(t,()=>t.complete(),fp)),!t.closed&&e.subscribe(t)})}function yr(n,e,t){let r=Xe(n)||e||t?{next:n,error:e,complete:t}:n;return r?wt((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(bt(s,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),s.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):bi}var iT={JSACTION:"jsaction"};var Ln={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},sMe=[Ln.MOUSEENTER,Ln.MOUSELEAVE,"pointerenter","pointerleave"],CQ=[Ln.CLICK,Ln.DBLCLICK,Ln.FOCUSIN,Ln.FOCUSOUT,Ln.KEYDOWN,Ln.KEYUP,Ln.KEYPRESS,Ln.MOUSEOVER,Ln.MOUSEOUT,Ln.SUBMIT,Ln.TOUCHSTART,Ln.TOUCHEND,Ln.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],R6=[Ln.FOCUS,Ln.BLUR,Ln.ERROR,Ln.LOAD,Ln.TOGGLE],k6=n=>R6.indexOf(n)>=0,IQ=CQ.concat(R6),M6=n=>IQ.indexOf(n)>=0;var oMe=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);var aMe=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent);var uMe=Ln.CLICK;var R8="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",be=class extends Error{code;constructor(e,t){super(k8(e,t)),this.code=e}};function DQ(n){return`NG0${Math.abs(n)}`}function k8(n,e){return`${DQ(n)}${e?": "+e:""}`}var M8=Symbol("InputSignalNode#UNSET"),xQ=me(Q({},Z0),{transformFn:void 0,applyValueToInputSignal(n,e){lp(n,e)}});function O8(n,e){let t=Object.create(xQ);t.value=n,t.transformFn=e?.transform;function r(){if(ap(t),t.value===M8){let i=null;throw new be(-950,i)}return t.value}return r[hs]=t,r}function Pp(n){return{toString:n}.toString()}var Iy="__parameters__";function AQ(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function P8(n,e,t){return Pp(()=>{let r=AQ(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,c,l){let d=u.hasOwnProperty(Iy)?u[Iy]:Object.defineProperty(u,Iy,{value:[]})[Iy];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var uu=globalThis;function Jt(n){for(let e in n)if(n[e]===Jt)return e;throw Error("Could not find renamed property on target object.")}function NQ(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ni(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ni).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function TT(n,e){return n?e?`${n} ${e}`:n:e||""}var RQ=Jt({__forward_ref__:Jt});function ua(n){return n.__forward_ref__=ua,n.toString=function(){return ni(this())},n}function Hr(n){return L8(n)?n():n}function L8(n){return typeof n=="function"&&n.hasOwnProperty(RQ)&&n.__forward_ref__===ua}function fe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ts(n){return{providers:n.providers||[],imports:n.imports||[]}}function pv(n){return O6(n,U8)||O6(n,B8)}function F8(n){return pv(n)!==null}function O6(n,e){return n.hasOwnProperty(e)?n[e]:null}function kQ(n){let e=n&&(n[U8]||n[B8]);return e||null}function P6(n){return n&&(n.hasOwnProperty(L6)||n.hasOwnProperty(MQ))?n[L6]:null}var U8=Jt({\u0275prov:Jt}),L6=Jt({\u0275inj:Jt}),B8=Jt({ngInjectableDef:Jt}),MQ=Jt({ngInjectorDef:Jt}),de=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=fe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function V8(n){return n&&!!n.\u0275providers}var OQ=Jt({\u0275cmp:Jt}),PQ=Jt({\u0275dir:Jt}),LQ=Jt({\u0275pipe:Jt}),FQ=Jt({\u0275mod:Jt}),Ly=Jt({\u0275fac:Jt}),yp=Jt({__NG_ELEMENT_ID__:Jt}),F6=Jt({__NG_ENV_ID__:Jt});function jc(n){return typeof n=="string"?n:n==null?"":String(n)}function UQ(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():jc(n)}function q8(n,e){throw new be(-200,n)}function IC(n,e){throw new be(-201,!1)}var dt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(dt||{}),CT;function j8(){return CT}function ti(n){let e=CT;return CT=n,e}function H8(n,e,t){let r=pv(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&dt.Optional)return null;if(e!==void 0)return e;IC(n,"Injector")}var BQ={},Vc=BQ,IT="__NG_DI_FLAG__",Fy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?X0:Vc,r)}},Uy="ngTempTokenPath",VQ="ngTokenPath",qQ=/\n/gm,jQ="\u0275",U6="__source";function HQ(n,e=dt.Default){if(dp()===void 0)throw new be(-203,!1);if(dp()===null)return H8(n,void 0,e);{let t=dp(),r;return t instanceof Fy?r=t.injector:r=t,r.get(n,e&dt.Optional?null:void 0,e)}}function Ae(n,e=dt.Default){return(j8()||HQ)(Hr(n),e)}function z(n,e=dt.Default){return Ae(n,mv(e))}function mv(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function DT(n){let e=[];for(let t=0;t<n.length;t++){let r=Hr(n[t]);if(Array.isArray(r)){if(r.length===0)throw new be(900,!1);let i,s=dt.Default;for(let o=0;o<r.length;o++){let a=r[o],u=$Q(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(Ae(i,s))}else e.push(Ae(r))}return e}function $8(n,e){return n[IT]=e,n.prototype[IT]=e,n}function $Q(n){return n[IT]}function zQ(n,e,t,r){let i=n[Uy];throw e[U6]&&i.unshift(e[U6]),n.message=GQ(`
`+n.message,i,t,r),n[VQ]=i,n[Uy]=null,n}function GQ(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==jQ?n.slice(2):n;let i=ni(e);if(Array.isArray(e))i=e.map(ni).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ni(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(qQ,`
  `)}`}var Kn=$8(P8("Optional"),8);var WQ=$8(P8("SkipSelf"),4);function Hc(n,e){let t=n.hasOwnProperty(Ly);return t?n[Ly]:null}function KQ(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function QQ(n){return n.flat(Number.POSITIVE_INFINITY)}function DC(n,e){n.forEach(t=>Array.isArray(t)?DC(t,e):e(t))}function z8(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function By(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function YQ(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function xC(n,e,t){let r=Lp(n,e);return r>=0?n[r|1]=t:(r=~r,YQ(n,r,e,t)),r}function sT(n,e){let t=Lp(n,e);if(t>=0)return n[t|1]}function Lp(n,e){return ZQ(n,e,1)}function ZQ(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var $c={},$r=[],bp=new de(""),G8=new de("",-1),W8=new de(""),Vy=class{get(e,t=Vc){if(t===Vc){let r=new Error(`NullInjectorError: No provider for ${ni(e)}!`);throw r.name="NullInjectorError",r}return t}};function K8(n,e){let t=n[FQ]||null;if(!t&&e===!0)throw new Error(`Type ${ni(n)} does not have '\u0275mod' property.`);return t}function fu(n){return n[OQ]||null}function XQ(n){return n[PQ]||null}function JQ(n){return n[LQ]||null}function xr(n){return{\u0275providers:n}}function eY(...n){return{\u0275providers:Q8(!0,n),\u0275fromNgModule:!0}}function Q8(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return DC(e,o=>{let a=o;xT(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Y8(i,s),t}function Y8(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];AC(i,s=>{e(s,r)})}}function xT(n,e,t,r){if(n=Hr(n),!n)return!1;let i=null,s=P6(n),o=!s&&fu(n);if(!s&&!o){let u=n.ngModule;if(s=P6(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of u)xT(c,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{DC(s.imports,l=>{xT(l,e,t,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&Y8(c,e)}if(!a){let c=Hc(i)||(()=>new i);e({provide:i,useFactory:c,deps:$r},i),e({provide:W8,useValue:i,multi:!0},i),e({provide:bp,useValue:()=>Ae(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let c=n;AC(u,l=>{e(l,c)})}}else return!1;return i!==n&&n.providers!==void 0}function AC(n,e){for(let t of n)V8(t)&&(t=t.\u0275providers),Array.isArray(t)?AC(t,e):e(t)}var tY=Jt({provide:String,useValue:Jt});function Z8(n){return n!==null&&typeof n=="object"&&tY in n}function nY(n){return!!(n&&n.useExisting)}function rY(n){return!!(n&&n.useFactory)}function Ld(n){return typeof n=="function"}function iY(n){return!!n.useClass}var gv=new de(""),Ny={},B6={},oT;function NC(){return oT===void 0&&(oT=new Vy),oT}var Dr=class{},_p=class extends Dr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,NT(e,o=>this.processProvider(o)),this.records.set(G8,Nd(void 0,this)),i.has("environment")&&this.records.set(Dr,Nd(void 0,this));let s=this.records.get(gv);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(W8,$r,dt.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?X0:Vc,r)}destroy(){gp(this),this._destroyed=!0;let e=st(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),st(e)}}onDestroy(e){return gp(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){gp(this);let t=na(this),r=ti(void 0),i;try{return e()}finally{na(t),ti(r)}}get(e,t=Vc,r=dt.Default){if(gp(this),e.hasOwnProperty(F6))return e[F6](this);r=mv(r);let i,s=na(this),o=ti(void 0);try{if(!(r&dt.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=cY(e)&&pv(e);c&&this.injectableDefInScope(c)?u=Nd(AT(e),Ny):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&dt.Self?NC():this.parent;return t=r&dt.Optional&&t===Vc?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Uy]=a[Uy]||[]).unshift(ni(e)),s)throw a;return zQ(a,e,"R3InjectorError",this.source)}else throw a}finally{ti(o),na(s)}}resolveInjectorInitializers(){let e=st(null),t=na(this),r=ti(void 0),i;try{let s=this.get(bp,$r,dt.Self);for(let o of s)o()}finally{na(t),ti(r),st(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ni(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Hr(e);let t=Ld(e)?e:Hr(e&&e.provide),r=oY(e);if(!Ld(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Nd(void 0,Ny,!0),i.factory=()=>DT(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=st(null);try{return t.value===B6?q8(ni(e)):t.value===Ny&&(t.value=B6,t.value=t.factory()),typeof t.value=="object"&&t.value&&uY(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{st(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Hr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function AT(n){let e=pv(n),t=e!==null?e.factory:Hc(n);if(t!==null)return t;if(n instanceof de)throw new be(204,!1);if(n instanceof Function)return sY(n);throw new be(204,!1)}function sY(n){if(n.length>0)throw new be(204,!1);let t=kQ(n);return t!==null?()=>t.factory(n):()=>new n}function oY(n){if(Z8(n))return Nd(void 0,n.useValue);{let e=X8(n);return Nd(e,Ny)}}function X8(n,e,t){let r;if(Ld(n)){let i=Hr(n);return Hc(i)||AT(i)}else if(Z8(n))r=()=>Hr(n.useValue);else if(rY(n))r=()=>n.useFactory(...DT(n.deps||[]));else if(nY(n))r=()=>Ae(Hr(n.useExisting));else{let i=Hr(n&&(n.useClass||n.provide));if(aY(n))r=()=>new i(...DT(n.deps));else return Hc(i)||AT(i)}return r}function gp(n){if(n.destroyed)throw new be(205,!1)}function Nd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function aY(n){return!!n.deps}function uY(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function cY(n){return typeof n=="function"||typeof n=="object"&&n instanceof de}function NT(n,e){for(let t of n)Array.isArray(t)?NT(t,e):t&&V8(t)?NT(t.\u0275providers,e):e(t)}function nr(n,e){let t;n instanceof _p?(gp(n),t=n):t=new Fy(n);let r,i=na(t),s=ti(void 0);try{return e()}finally{na(i),ti(s)}}function J8(){return j8()!==void 0||dp()!=null}function yv(n){if(!J8())throw new be(-203,!1)}function lY(n){let e=uu.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function dY(n){return typeof n=="function"}var br=0,Fe=1,We=2,_r=3,_s=4,Cs=5,Ep=6,wp=7,Wn=8,Fd=9,ia=10,Fn=11,Sp=12,V6=13,zd=14,Vi=15,zc=16,Rd=17,sa=18,vv=19,eP=20,cu=21,aT=22,Gc=23,Bi=24,Od=25,Yt=26,RC=1;var Wc=7,qy=8,Ud=9,vr=10;function lu(n){return Array.isArray(n)&&typeof n[RC]=="object"}function qi(n){return Array.isArray(n)&&n[RC]===!0}function tP(n){return(n.flags&4)!==0}function Jc(n){return n.componentOffset>-1}function kC(n){return(n.flags&1)===1}function oo(n){return!!n.template}function Bd(n){return(n[We]&512)!==0}function nP(n){return(n.type&16)===16}function fY(n){return(n[We]&32)===32}function Fp(n){return(n[We]&256)===256}var RT=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function rP(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Is=(()=>{let n=()=>iP;return n.ngInherit=!0,n})();function iP(n){return n.type.prototype.ngOnChanges&&(n.setInput=pY),hY}function hY(){let n=oP(this),e=n?.current;if(e){let t=n.previous;if(t===$c)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function pY(n,e,t,r,i){let s=this.declaredInputs[r],o=oP(n)||mY(n,{previous:$c,current:null}),a=o.current||(o.current={}),u=o.previous,c=u[s];a[s]=new RT(c&&c.currentValue,t,u===$c),rP(n,e,i,t)}var sP="__ngSimpleChanges__";function oP(n){return n[sP]||null}function mY(n,e){return n[sP]=e}var q6=null;var Qt=function(n,e=null,t){q6?.(n,e,t)},gY="svg",yY="math";function pn(n){for(;Array.isArray(n);)n=n[br];return n}function aP(n){for(;Array.isArray(n);){if(typeof n[RC]=="object")return n;n=n[br]}return null}function uP(n,e){return pn(e[n])}function co(n,e){return pn(e[n.index])}function MC(n,e){return n.data[e]}function OC(n,e){return n[e]}function ao(n,e){let t=e[n];return lu(t)?t:t[br]}function vY(n){return(n[We]&4)===4}function PC(n){return(n[We]&128)===128}function bY(n){return qi(n[_r])}function Vd(n,e){return e==null?null:n[e]}function cP(n){n[Rd]=0}function lP(n){n[We]&1024||(n[We]|=1024,PC(n)&&Gd(n))}function _Y(n,e){for(;n>0;)e=e[zd],n--;return e}function bv(n){return!!(n[We]&9216||n[Bi]?.dirty)}function kT(n){n[ia].changeDetectionScheduler?.notify(8),n[We]&64&&(n[We]|=1024),bv(n)&&Gd(n)}function Gd(n){n[ia].changeDetectionScheduler?.notify(0);let e=Kc(n);for(;e!==null&&!(e[We]&8192||(e[We]|=8192,!PC(e)));)e=Kc(e)}function dP(n,e){if(Fp(n))throw new be(911,!1);n[cu]===null&&(n[cu]=[]),n[cu].push(e)}function EY(n,e){if(n[cu]===null)return;let t=n[cu].indexOf(e);t!==-1&&n[cu].splice(t,1)}function Kc(n){let e=n[_r];return qi(e)?e[_r]:e}function LC(n){return n[wp]??=[]}function FC(n){return n.cleanup??=[]}function wY(n,e,t,r){let i=LC(e);i.push(t),n.firstCreatePass&&FC(n).push(r,i.length-1)}var at={lFrame:bP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var MT=!1;function SY(){return at.lFrame.elementDepthCount}function TY(){at.lFrame.elementDepthCount++}function CY(){at.lFrame.elementDepthCount--}function fP(){return at.bindingsEnabled}function IY(){return at.skipHydrationRootTNode!==null}function DY(n){return at.skipHydrationRootTNode===n}function xY(){at.skipHydrationRootTNode=null}function ut(){return at.lFrame.lView}function or(){return at.lFrame.tView}function ke(n){return at.lFrame.contextLView=n,n[Wn]}function Me(n){return at.lFrame.contextLView=null,n}function ri(){let n=hP();for(;n!==null&&n.type===64;)n=n.parent;return n}function hP(){return at.lFrame.currentTNode}function AY(){let n=at.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Up(n,e){let t=at.lFrame;t.currentTNode=n,t.isParent=e}function pP(){return at.lFrame.isParent}function NY(){at.lFrame.isParent=!1}function RY(){return at.lFrame.contextLView}function mP(){return MT}function jy(n){let e=MT;return MT=n,e}function Bp(){let n=at.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function kY(){return at.lFrame.bindingIndex}function MY(n){return at.lFrame.bindingIndex=n}function Vp(){return at.lFrame.bindingIndex++}function UC(n){let e=at.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function OY(){return at.lFrame.inI18n}function PY(n,e){let t=at.lFrame;t.bindingIndex=t.bindingRootIndex=n,OT(e)}function LY(){return at.lFrame.currentDirectiveIndex}function OT(n){at.lFrame.currentDirectiveIndex=n}function FY(n){let e=at.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function gP(){return at.lFrame.currentQueryIndex}function BC(n){at.lFrame.currentQueryIndex=n}function UY(n){let e=n[Fe];return e.type===2?e.declTNode:e.type===1?n[Cs]:null}function yP(n,e,t){if(t&dt.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&dt.Host);)if(i=UY(s),i===null||(s=s[zd],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=at.lFrame=vP();return r.currentTNode=e,r.lView=n,!0}function VC(n){let e=vP(),t=n[Fe];at.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function vP(){let n=at.lFrame,e=n===null?null:n.child;return e===null?bP(n):e}function bP(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function _P(){let n=at.lFrame;return at.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var EP=_P;function qC(){let n=_P();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function BY(n){return(at.lFrame.contextLView=_Y(n,at.lFrame.contextLView))[Wn]}function ca(){return at.lFrame.selectedIndex}function Qc(n){at.lFrame.selectedIndex=n}function jC(){let n=at.lFrame;return MC(n.tView,n.selectedIndex)}function VY(){return at.lFrame.currentNamespace}var wP=!0;function HC(){return wP}function $C(n){wP=n}function qY(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=iP(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function SP(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),l!=null&&(n.destroyHooks??=[]).push(t,l)}}function Ry(n,e,t){TP(n,e,3,t)}function ky(n,e,t,r){(n[We]&3)===t&&TP(n,e,t,r)}function uT(n,e){let t=n[We];(t&3)===e&&(t&=16383,t+=1,n[We]=t)}function TP(n,e,t,r){let i=r!==void 0?n[Rd]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Rd]+=65536),(a<s||s==-1)&&(jY(n,t,e,u),n[Rd]=(n[Rd]&4294901760)+u+2),u++}function j6(n,e){Qt(4,n,e);let t=st(null);try{e.call(n)}finally{st(t),Qt(5,n,e)}}function jY(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[We]>>14<n[Rd]>>16&&(n[We]&3)===e&&(n[We]+=16384,j6(a,s)):j6(a,s)}var Pd=-1,Yc=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function CP(n){return n!=null&&typeof n=="object"&&(n.insertBeforeIndex===null||typeof n.insertBeforeIndex=="number"||Array.isArray(n.insertBeforeIndex))}function HY(n){return!!(n.type&128)}function $Y(n){return(n.flags&8)!==0}function zY(n){return(n.flags&16)!==0}function GY(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];WY(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function IP(n){return n===3||n===4||n===6}function WY(n){return n.charCodeAt(0)===64}function Tp(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?H6(n,t,i,null,e[++r]):H6(n,t,i,null,null))}}return n}function H6(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function DP(n){return n!==Pd}function Hy(n){return n&32767}function KY(n){return n>>16}function $y(n,e){let t=KY(n),r=e;for(;t>0;)r=r[zd],t--;return r}var PT=!0;function zy(n){let e=PT;return PT=n,e}var QY=256,xP=QY-1,AP=5,YY=0,so={};function ZY(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(yp)&&(r=t[yp]),r==null&&(r=t[yp]=YY++);let i=r&xP,s=1<<i;e.data[n+(i>>AP)]|=s}function Gy(n,e){let t=NP(n,e);if(t!==-1)return t;let r=e[Fe];r.firstCreatePass&&(n.injectorIndex=e.length,cT(r.data,n),cT(e,null),cT(r.blueprint,null));let i=zC(n,e),s=n.injectorIndex;if(DP(i)){let o=Hy(i),a=$y(i,e),u=a[Fe].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function cT(n,e){n.push(0,0,0,0,0,0,0,0,e)}function NP(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function zC(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=PP(i),r===null)return Pd;if(t++,i=i[zd],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Pd}function LT(n,e,t){ZY(n,e,t)}function XY(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(IP(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function RP(n,e,t){if(t&dt.Optional||n!==void 0)return n;IC(e,"NodeInjector")}function kP(n,e,t,r){if(t&dt.Optional&&r===void 0&&(r=null),(t&(dt.Self|dt.Host))===0){let i=n[Fd],s=ti(void 0);try{return i?i.get(e,r,t&dt.Optional):H8(e,r,t&dt.Optional)}finally{ti(s)}}return RP(r,e,t)}function MP(n,e,t,r=dt.Default,i){if(n!==null){if(e[We]&2048&&!(r&dt.Self)){let o=nZ(n,e,t,r,so);if(o!==so)return o}let s=OP(n,e,t,r,so);if(s!==so)return s}return kP(e,t,r,i)}function OP(n,e,t,r,i){let s=eZ(t);if(typeof s=="function"){if(!yP(e,n,r))return r&dt.Host?RP(i,t,r):kP(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&dt.Optional))IC(t);else return o}finally{EP()}}else if(typeof s=="number"){let o=null,a=NP(n,e),u=Pd,c=r&dt.Host?e[Vi][Cs]:null;for((a===-1||r&dt.SkipSelf)&&(u=a===-1?zC(n,e):e[a+8],u===Pd||!z6(r,!1)?a=-1:(o=e[Fe],a=Hy(u),e=$y(u,e)));a!==-1;){let l=e[Fe];if($6(s,a,l.data)){let d=JY(a,e,t,o,r,c);if(d!==so)return d}u=e[a+8],u!==Pd&&z6(r,e[Fe].data[a+8]===c)&&$6(s,a,e)?(o=l,a=Hy(u),e=$y(u,e)):a=-1}}return i}function JY(n,e,t,r,i,s){let o=e[Fe],a=o.data[n+8],u=r==null?Jc(a)&&PT:r!=o&&(a.type&3)!==0,c=i&dt.Host&&s===a,l=My(a,o,t,u,c);return l!==null?Cp(e,o,l,a):so}function My(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,u=n.directiveStart,c=n.directiveEnd,l=s>>20,d=r?a:a+l,f=i?a+l:c;for(let h=d;h<f;h++){let p=o[h];if(h<u&&t===p||h>=u&&p.type===t)return h}if(i){let h=o[u];if(h&&oo(h)&&h.type===t)return u}return null}function Cp(n,e,t,r){let i=n[t],s=e.data;if(i instanceof Yc){let o=i;o.resolving&&q8(UQ(s[t]));let a=zy(o.canSeeViewProviders);o.resolving=!0;let u,c=o.injectImpl?ti(o.injectImpl):null,l=yP(n,r,dt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&qY(t,s[t],e)}finally{c!==null&&ti(c),zy(a),o.resolving=!1,EP()}}return i}function eZ(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(yp)?n[yp]:void 0;return typeof e=="number"?e>=0?e&xP:tZ:e}function $6(n,e,t){let r=1<<n;return!!(t[e+(n>>AP)]&r)}function z6(n,e){return!(n&dt.Self)&&!(n&dt.Host&&e)}var qc=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return MP(this._tNode,this._lView,e,mv(r),t)}};function tZ(){return new qc(ri(),ut())}function el(n){return Pp(()=>{let e=n.prototype.constructor,t=e[Ly]||FT(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Ly]||FT(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function FT(n){return L8(n)?()=>{let e=FT(Hr(n));return e&&e()}:Hc(n)}function nZ(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[We]&2048&&!Bd(o);){let a=OP(s,o,t,r|dt.Self,so);if(a!==so)return a;let u=s.parent;if(!u){let c=o[eP];if(c){let l=c.get(t,so,r);if(l!==so)return l}u=PP(o),o=o[zd]}s=u}return i}function PP(n){let e=n[Fe],t=e.type;return t===2?e.declTNode:t===1?n[Cs]:null}function GC(n){return XY(ri(),n)}function G6(n,e=null,t=null,r){let i=LP(n,e,t,r);return i.resolveInjectorInitializers(),i}function LP(n,e=null,t=null,r,i=new Set){let s=[t||$r,eY(n)];return r=r||(typeof n=="object"?void 0:ni(n)),new _p(s,e||NC(),r||null,i)}var Nt=class n{static THROW_IF_NOT_FOUND=Vc;static NULL=new Vy;static create(e,t){if(Array.isArray(e))return G6({name:""},t,e,"");{let r=e.name??"";return G6({name:r},e.parent,e.providers,r)}}static \u0275prov=fe({token:n,providedIn:"any",factory:()=>Ae(G8)});static __NG_ELEMENT_ID__=-1};var rZ=new de("");rZ.__NG_ELEMENT_ID__=n=>{let e=ri();if(e===null)throw new be(204,!1);if(e.type&2)return e.value;if(n&dt.Optional)return null;throw new be(204,!1)};var FP=!1,tl=(()=>{class n{static __NG_ELEMENT_ID__=iZ;static __NG_ENV_ID__=t=>t}return n})(),Wy=class extends tl{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return dP(this._lView,e),()=>EY(this._lView,e)}};function iZ(){return new Wy(ut())}var oa=class{},UP=new de("",{providedIn:"root",factory:()=>!1});var BP=new de(""),VP=new de(""),pu=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new kn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),_v=(()=>{class n{internalPendingTasks=z(pu);scheduler=z(oa);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return P(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),UT=class extends bn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,J8()&&(this.destroyRef=z(tl,{optional:!0})??void 0,this.pendingTasks=z(pu,{optional:!0})??void 0)}emit(e){let t=st(null);try{super.next(e)}finally{st(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof In&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Vt=UT;function Ip(...n){}function qP(n){let e,t;function r(){n=Ip;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function W6(n){return queueMicrotask(()=>n()),()=>{n=Ip}}var WC="isAngularZone",Ky=WC+"_ID",sZ=0,_t=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Vt(!1);onMicrotaskEmpty=new Vt(!1);onStable=new Vt(!1);onError=new Vt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=FP}=e;if(typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,uZ(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(WC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new be(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,oZ,Ip,Ip);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},oZ={};function KC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function aZ(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){qP(()=>{n.callbackScheduled=!1,BT(n),n.isCheckStableRunning=!0,KC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),BT(n)}function uZ(n){let e=()=>{aZ(n)},t=sZ++;n._inner=n._inner.fork({name:"angular",properties:{[WC]:!0,[Ky]:t,[Ky+t]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(cZ(u))return r.invokeTask(s,o,a,u);try{return K6(n),r.invokeTask(s,o,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Q6(n)}},onInvoke:(r,i,s,o,a,u,c)=>{try{return K6(n),r.invoke(s,o,a,u,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!lZ(u)&&e(),Q6(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,BT(n),KC(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function BT(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function K6(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Q6(n){n._nesting--,KC(n)}var Qy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Vt;onMicrotaskEmpty=new Vt;onStable=new Vt;onError=new Vt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function cZ(n){return jP(n,"__ignore_ng_zone__")}function lZ(n){return jP(n,"__scheduler_tick__")}function jP(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function dZ(n="zone.js",e){return n==="noop"?new Qy:n==="zone.js"?new _t(e):n}var uo=class{_console=console;handleError(e){this._console.error("ERROR",e)}},fZ=new de("",{providedIn:"root",factory:()=>{let n=z(_t),e=z(uo);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Y6(n,e){return O8(n,e)}function hZ(n){return O8(M8,n)}var HP=(Y6.required=hZ,Y6);function pZ(){return Wd(ri(),ut())}function Wd(n,e){return new Ar(co(n,e))}var Ar=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=pZ}return n})();function mZ(n){return n instanceof Ar?n.nativeElement:n}function _i(n,e){let t=US(n,e?.equal),r=t[hs];return t.set=i=>lp(r,i),t.update=i=>BS(r,i),t.asReadonly=gZ.bind(t),t}function gZ(){let n=this[hs];if(n.readonlyFn===void 0){let e=()=>this();e[hs]=n,n.readonlyFn=e}return n.readonlyFn}function yZ(){return this._results[Symbol.iterator]()}var VT=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new bn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=QQ(e);(this._changesDetected=!KQ(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=yZ},Yy="ngSkipHydration",vZ="ngskiphydration";function $P(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===vZ)return!0}return!1}function Dp(n){return(n.flags&128)===128}function Zy(n){if(Dp(n))return!0;let e=n.parent;for(;e;){if(Dp(n)||$P(e))return!0;e=e.parent}return!1}function bZ(n){return Dp(n)||$P(n)||Zy(n)}var zP=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(zP||{}),GP=new Map,_Z=0;function EZ(){return _Z++}function wZ(n){GP.set(n[vv],n)}function qT(n){GP.delete(n[vv])}var Z6="__ngContext__";function qp(n,e){lu(e)?(n[Z6]=e[vv],wZ(e)):n[Z6]=e}function WP(n){return QP(n[Sp])}function KP(n){return QP(n[_s])}function QP(n){for(;n!==null&&!qi(n);)n=n[_s];return n}var jT;function Ev(n){jT=n}function SZ(){if(jT!==void 0)return jT;if(typeof document<"u")return document;throw new be(210,!1)}var mu=new de("",{providedIn:"root",factory:()=>TZ}),TZ="ng",jp=new de(""),zr=new de("",{providedIn:"platform",factory:()=>"unknown"});var Hp=new de("",{providedIn:"root",factory:()=>SZ().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function CZ(){return new wv}var wv=(()=>{class n{static \u0275prov=fe({token:n,providedIn:"root",factory:CZ});store={};onSerializeCallbacks={};get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();var YP="h",ZP="b",IZ="f",DZ="n",X6="e",J6="t",e8="c",t8="x",lT="r",n8="i",r8="n",dT="d",i8="l",xZ="di",s8="s",AZ="p",NZ="t",XP=new de(""),JP=!1,RZ=new de("",{providedIn:"root",factory:()=>JP}),kZ=new de(""),MZ=new de(""),OZ=!1,PZ=new de("");var QC=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(QC||{}),Kd=new de(""),o8=new Set;function nl(n){o8.has(n)||(o8.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var YC=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=LZ}return n})();function LZ(){return new YC(ut(),ri())}var kd=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(kd||{}),e4=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),FZ=[kd.EarlyRead,kd.Write,kd.MixedReadWrite,kd.Read],UZ=(()=>{class n{ngZone=z(_t);scheduler=z(oa);errorHandler=z(uo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){z(Kd,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Qt(16),this.executing=!0;for(let r of FZ)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Qt(17)}register(t){let{view:r}=t;r!==void 0?((r[Od]??=[]).push(t),Gd(r),r[We]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(QC.AFTER_NEXT_RENDER,t):t()}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),HT=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Od];e&&(this.view[Od]=e.filter(t=>t!==this))}};function ZC(n,e){!e?.injector&&yv(ZC);let t=e?.injector??z(Nt);return qZ}function BZ(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function VZ(n,e,t,r){let i=e.get(e4);i.impl??=e.get(UZ);let s=e.get(Kd,null,{optional:!0}),o=t?.phase??kd.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(tl):null,u=e.get(YC,null,{optional:!0}),c=new HT(i.impl,BZ(n,o),u?.view,r,a,s?.snapshot(null));return i.impl.register(c),c}var qZ={destroy(){}};var a8=1;function XC(n){return n+1}function jZ(n,e){let t=n[Fe],r=XC(e.index);return n[r]}function t4(n,e){let t=XC(e.index);return n.data[t]}function HZ(n){return n!==null&&typeof n=="object"&&typeof n.primaryTmplIndex=="number"}function $Z(n,e){let t=null,r=XC(e.index);return Yt<r&&r<n.bindingStartIndex&&(t=t4(n,e)),!!t&&HZ(t)}var zZ=["click","keydown"],GZ=["mouseenter","mouseover","focusin"];var WZ="ngb";function n4(n,e,t=null){if(e.length===0||n.nodeType!==Node.ELEMENT_NODE)return;let r=n.getAttribute(iT.JSACTION),i=e.reduce((o,a)=>(r?.indexOf(a)??-1)===-1?o+a+":;":o,"");n.setAttribute(iT.JSACTION,`${r??""}${i}`);let s=t??"";s!==""&&i.length>0&&n.setAttribute(WZ,s)}var KZ="__nghData__",QZ=KZ,YZ="__nghDeferData__",ZZ=YZ,r4="ngh",i4="nghm",XZ=()=>null;function s4(n,e,t=!1){return XZ(n,e,t)}function JZ(n){let e=n._lView;return e[Fe].type===2?null:(Bd(e)&&(e=e[Yt]),e)}function eX(n){return n.get(PZ,!1,{optional:!0})}function o4(n,e){let t=e,r=n.corruptedTextNodes;t.textContent===""?r.set(t,"ngetn"):t.nextSibling?.nodeType===Node.TEXT_NODE&&r.set(t,"ngtns")}function tX(n){let e=[];return n!==null&&(n.has(4)&&e.push(...GZ),n.has(3)&&e.push(...zZ)),e}function a4(n,e){let t=n.contentQueries;if(t!==null){let r=st(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];BC(s),a.contentQueries(2,e[o],o)}}}finally{st(r)}}}function $T(n,e,t){BC(0);let r=st(null);try{e(n,t)}finally{st(r)}}function u4(n,e,t){if(tP(e)){let r=st(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let u=t[o];a.contentQueries(1,u,o)}}}finally{st(r)}}}var Es=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Es||{});var Dy;function nX(){if(Dy===void 0&&(Dy=null,uu.trustedTypes))try{Dy=uu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dy}function u8(n){return nX()?.createScriptURL(n)||n}var Xy=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${R8})`}};function $p(n){return n instanceof Xy?n.changingThisBreaksApplicationSecurity:n}function c4(n,e){let t=rX(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${R8})`)}return t===e}function rX(n){return n instanceof Xy&&n.getTypeName()||null}var iX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sX(n){return n=String(n),n.match(iX)?n:"unsafe:"+n}var JC=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(JC||{});function Dn(n){let e=d4();return e?e.sanitize(JC.URL,n)||"":c4(n,"URL")?$p(n):sX(jc(n))}function oX(n){let e=d4();if(e)return u8(e.sanitize(JC.RESOURCE_URL,n)||"");if(c4(n,"ResourceURL"))return u8($p(n));throw new be(904,!1)}function aX(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?oX:Dn}function l4(n,e,t){return aX(e,t)(n)}function d4(){let n=ut();return n&&n[ia].sanitizer}function f4(n){return n instanceof Function?n():n}function uX(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var h4="ng-template";function cX(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&uX(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(e2(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function e2(n){return n.type===4&&n.value!==h4}function lX(n,e,t){let r=n.type===4&&!t?h4:n.value;return e===r}function dX(n,e,t){let r=4,i=n.attrs,s=i!==null?pX(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!vs(r)&&!vs(u))return!1;if(o&&vs(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!lX(n,u,t)||u===""&&e.length===1){if(vs(r))return!1;o=!0}}else if(r&8){if(i===null||!cX(n,i,u,t)){if(vs(r))return!1;o=!0}}else{let c=e[++a],l=fX(u,i,e2(n),t);if(l===-1){if(vs(r))return!1;o=!0;continue}if(c!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&c!==d){if(vs(r))return!1;o=!0}}}}return vs(r)||o}function vs(n){return(n&1)===0}function fX(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return mX(e,n)}function hX(n,e,t=!1){for(let r=0;r<e.length;r++)if(dX(n,e[r],t))return!0;return!1}function pX(n){for(let e=0;e<n.length;e++){let t=n[e];if(IP(t))return e}return n.length}function mX(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function c8(n,e){return n?":not("+e.trim()+")":e}function gX(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!vs(o)&&(e+=c8(s,i),i=""),r=o,s=s||!vs(r);t++}return i!==""&&(e+=c8(s,i)),e}function yX(n){return n.map(gX).join(",")}function vX(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!vs(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var ii={};function bX(n,e){return n.createText(e)}function _X(n,e,t){n.setValue(e,t)}function p4(n,e,t){return n.createElement(e,t)}function Jy(n,e,t,r,i){n.insertBefore(e,t,r,i)}function m4(n,e,t){n.appendChild(e,t)}function l8(n,e,t,r,i){r!==null?Jy(n,e,t,r,i):m4(n,e,t)}function EX(n,e,t){n.removeChild(null,e,t)}function wX(n,e,t){n.setAttribute(e,"style",t)}function SX(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function g4(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&GY(n,e,r),i!==null&&SX(n,e,i),s!==null&&wX(n,e,s)}function t2(n,e,t,r,i,s,o,a,u,c,l){let d=Yt+r,f=d+i,h=TX(d,f),p=typeof c=="function"?c():c;return h[Fe]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}function TX(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ii);return t}function CX(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=t2(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function n2(n,e,t,r,i,s,o,a,u,c,l){let d=e.blueprint.slice();return d[br]=i,d[We]=r|4|128|8|64|1024,(c!==null||n&&n[We]&2048)&&(d[We]|=2048),cP(d),d[_r]=d[zd]=n,d[Wn]=t,d[ia]=o||n&&n[ia],d[Fn]=a||n&&n[Fn],d[Fd]=u||n&&n[Fd]||null,d[Cs]=s,d[vv]=EZ(),d[Ep]=l,d[eP]=c,d[Vi]=e.type==2?n[Vi]:d,d}function IX(n,e,t){let r=co(e,n),i=CX(t),s=n[ia].rendererFactory,o=r2(n,n2(n,i,null,y4(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function y4(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function v4(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function r2(n,e){return n[Sp]?n[V6][_s]=e:n[Sp]=e,n[V6]=e,e}function $(n=1){b4(or(),ut(),ca()+n,!1)}function b4(n,e,t,r){if(!r)if((e[We]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Ry(e,s,t)}else{let s=n.preOrderHooks;s!==null&&ky(e,s,0,t)}Qc(t)}var Sv=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Sv||{});function zT(n,e,t,r){let i=st(null);try{let[s,o,a]=n.inputs[t],u=null;(o&Sv.SignalBased)!==0&&(u=e[s][hs]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,s):rP(e,u,s,r)}finally{st(i)}}function _4(n,e,t,r,i){let s=ca(),o=r&2;try{Qc(-1),o&&e.length>Yt&&b4(n,e,Yt,!1),Qt(o?2:0,i),t(r,i)}finally{Qc(s),Qt(o?3:1,i)}}function i2(n,e,t){kX(n,e,t),(t.flags&64)===64&&MX(n,e,t)}function E4(n,e,t=co){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function DX(n,e,t,r){let s=r.get(RZ,JP)||t===Es.ShadowDom,o=n.selectRootElement(e,s);return xX(o),o}function xX(n){AX(n)}var AX=()=>null;function NX(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function w4(n,e,t,r,i,s,o,a){if(!a&&s2(e,n,t,r,i)){Jc(e)&&RX(t,e.index);return}if(e.type&3){let u=co(e,t);r=NX(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)}else e.type&12}function RX(n,e){let t=ao(e,n);t[We]&16||(t[We]|=64)}function kX(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Jc(t)&&IX(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Gy(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],u=Cp(e,n,o,t);if(qp(u,e),s!==null&&FX(e,o-r,u,a,t,s),oo(a)){let c=ao(t.index,e);c[Wn]=Cp(e,n,o,t)}}}function MX(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=LY();try{Qc(s);for(let a=r;a<i;a++){let u=n.data[a],c=e[a];OT(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&OX(u,c)}}finally{Qc(-1),OT(o)}}function OX(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function S4(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];hX(e,s.selectors,!1)&&(r??=[],oo(s)?r.unshift(s):r.push(s))}return r}function PX(n,e,t,r,i,s){let o=co(n,e);LX(e[Fn],o,s,n.value,t,r,i)}function LX(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?jc(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function FX(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let u=o[a],c=o[a+1];zT(r,t,u,c)}}function UX(n,e){let t=n[Fd],r=t?t.get(uo,null):null;r&&r.handleError(e)}function s2(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let u=0;u<o.length;u+=2){let c=o[u],l=o[u+1],d=e.data[c];zT(d,t[c],l,i),a=!0}if(s)for(let u of s){let c=t[u],l=e.data[u];zT(l,c,r,i),a=!0}return a}function BX(n,e){let t=ao(e,n),r=t[Fe];VX(r,t);let i=t[br];i!==null&&t[Ep]===null&&(t[Ep]=s4(i,t[Fd])),Qt(18),o2(r,t,t[Wn]),Qt(19,t[Wn])}function VX(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function o2(n,e,t){VC(e);try{let r=n.viewQuery;r!==null&&$T(1,r,t);let i=n.template;i!==null&&_4(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[sa]?.finishViewCreation(n),n.staticContentQueries&&a4(n,e),n.staticViewQueries&&$T(2,n.viewQuery,t);let s=n.components;s!==null&&qX(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[We]&=-5,qC()}}function qX(n,e){for(let t=0;t<e.length;t++)BX(n,e[t])}function Tv(n,e,t,r){let i=st(null);try{let s=e.tView,a=n[We]&4096?4096:16,u=n2(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];u[zc]=c;let l=n[sa];return l!==null&&(u[sa]=l.createEmbeddedView(s)),o2(s,u,t),u}finally{st(i)}}function xp(n,e){return!e||e.firstChild===null||Dp(n)}var jX;function a2(n,e){return jX(n,e)}var aa=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(aa||{});function u2(n){return(n.flags&32)===32}function Md(n,e,t,r,i){if(r!=null){let s,o=!1;qi(r)?s=r:lu(r)&&(o=!0,r=r[br]);let a=pn(r);n===0&&t!==null?i==null?m4(e,t,a):Jy(e,t,a,i||null,!0):n===1&&t!==null?Jy(e,t,a,i||null,!0):n===2?EX(e,a,o):n===3&&e.destroyNode(a),s!=null&&JX(e,n,s,t,i)}}function HX(n,e){T4(n,e),e[br]=null,e[Cs]=null}function $X(n,e,t,r,i,s){r[br]=i,r[Cs]=e,Iv(n,r,t,1,i,s)}function T4(n,e){e[ia].changeDetectionScheduler?.notify(9),Iv(n,e,e[Fn],2,null,null)}function zX(n){let e=n[Sp];if(!e)return fT(n[Fe],n);for(;e;){let t=null;if(lu(e))t=e[Sp];else{let r=e[vr];r&&(t=r)}if(!t){for(;e&&!e[_s]&&e!==n;)lu(e)&&fT(e[Fe],e),e=e[_r];e===null&&(e=n),lu(e)&&fT(e[Fe],e),t=e&&e[_s]}e=t}}function c2(n,e){let t=n[Ud],r=t.indexOf(e);t.splice(r,1)}function Cv(n,e){if(Fp(e))return;let t=e[Fn];t.destroyNode&&Iv(n,e,t,3,null,null),zX(e)}function fT(n,e){if(Fp(e))return;let t=st(null);try{e[We]&=-129,e[We]|=256,e[Bi]&&cp(e[Bi]),WX(n,e),GX(n,e),e[Fe].type===1&&e[Fn].destroy();let r=e[zc];if(r!==null&&qi(e[_r])){r!==e[_r]&&c2(r,e);let i=e[sa];i!==null&&i.detachView(n)}qT(e)}finally{st(t)}}function GX(n,e){let t=n.cleanup,r=e[wp];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[wp]=null);let i=e[cu];if(i!==null){e[cu]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Gc];if(s!==null){e[Gc]=null;for(let o of s)o.destroy()}}function WX(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Yc)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Qt(4,a,u);try{u.call(a)}finally{Qt(5,a,u)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function C4(n,e,t){return KX(n,e.parent,t)}function KX(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[br];if(Jc(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Es.None||i===Es.Emulated)return null}return co(r,t)}function QX(n,e,t){return ZX(n,e,t)}function YX(n,e,t){return n.type&40?co(n,t):null}var ZX=YX,d8;function l2(n,e,t,r){let i=C4(n,r,e),s=e[Fn],o=r.parent||e[Cs],a=QX(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)l8(s,i,t[u],a,!1);else l8(s,i,t,a,!1);d8!==void 0&&d8(s,r,e,t,i)}function Bc(n,e){if(e!==null){let t=e.type;if(t&3)return co(e,n);if(t&4)return GT(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Bc(n,r);{let i=n[e.index];return qi(i)?GT(-1,i):pn(i)}}else{if(t&128)return Bc(n,e.next);if(t&32)return a2(e,n)()||pn(n[e.index]);{let r=I4(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Kc(n[Vi]);return Bc(i,r)}else return Bc(n,e.next)}}}return null}function I4(n,e){if(e!==null){let r=n[Vi][Cs],i=e.projection;return r.projection[i]}return null}function GT(n,e){let t=vr+n+1;if(t<e.length){let r=e[t],i=r[Fe].firstChild;if(i!==null)return Bc(r,i)}return e[Wc]}function d2(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(o&&e===0&&(a&&qp(pn(a),r),t.flags|=2),!u2(t))if(u&8)d2(n,e,t.child,r,i,s,!1),Md(e,n,i,a,s);else if(u&32){let c=a2(t,r),l;for(;l=c();)Md(e,n,i,l,s);Md(e,n,i,a,s)}else u&16?XX(n,e,r,t,i,s):Md(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Iv(n,e,t,r,i,s){d2(t,r,n.firstChild,e,i,s,!1)}function XX(n,e,t,r,i,s){let o=t[Vi],u=o[Cs].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];Md(e,n,i,l,s)}else{let c=u,l=o[_r];Dp(r)&&(c.flags|=128),d2(n,e,c,l,i,s,!0)}}function JX(n,e,t,r,i){let s=t[Wc],o=pn(t);s!==o&&Md(e,n,r,s,i);for(let a=vr;a<t.length;a++){let u=t[a];Iv(u[Fe],u,n,e,r,s)}}function eJ(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:aa.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=aa.Important),n.setStyle(t,r,i,s))}}function Ap(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(pn(s)),qi(s)&&f2(s,r);let o=t.type;if(o&8)Ap(n,e,t.child,r);else if(o&32){let a=a2(t,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=I4(e,t);if(Array.isArray(a))r.push(...a);else{let u=Kc(e[Vi]);Ap(u[Fe],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function f2(n,e){for(let t=vr;t<n.length;t++){let r=n[t],i=r[Fe].firstChild;i!==null&&Ap(r[Fe],r,i,e)}n[Wc]!==n[br]&&e.push(n[Wc])}function D4(n){if(n[Od]!==null){for(let e of n[Od])e.impl.addSequence(e);n[Od].length=0}}var x4=[];function tJ(n){return n[Bi]??nJ(n)}function nJ(n){let e=x4.pop()??Object.create(iJ);return e.lView=n,e}function rJ(n){n.lView[Bi]!==n&&(n.lView=null,x4.push(n))}var iJ=me(Q({},vd),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Gd(n.lView)},consumerOnSignalRead(){this.lView[Bi]=this}});function sJ(n){let e=n[Bi]??Object.create(oJ);return e.lView=n,e}var oJ=me(Q({},vd),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Kc(n.lView);for(;e&&!A4(e[Fe]);)e=Kc(e);e&&lP(e)},consumerOnSignalRead(){this.lView[Bi]=this}});function A4(n){return n.type!==2}function N4(n){if(n[Gc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Gc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[We]&8192)}}var aJ=100;function R4(n,e=!0,t=0){let i=n[ia].rendererFactory,s=!1;s||i.begin?.();try{uJ(n,t)}catch(o){throw e&&UX(n,o),o}finally{s||i.end?.()}}function uJ(n,e){let t=mP();try{jy(!0),WT(n,e);let r=0;for(;bv(n);){if(r===aJ)throw new be(103,!1);r++,WT(n,1)}}finally{jy(t)}}function cJ(n,e,t,r){if(Fp(e))return;let i=e[We],s=!1,o=!1;VC(e);let a=!0,u=null,c=null;s||(A4(n)?(c=tJ(e),u=up(c)):kS()===null?(a=!1,c=sJ(e),u=up(c)):e[Bi]&&(cp(e[Bi]),e[Bi]=null));try{cP(e),MY(n.bindingStartIndex),t!==null&&_4(n,e,t,2,r);let l=(i&3)===3;if(!s)if(l){let h=n.preOrderCheckHooks;h!==null&&Ry(e,h,null)}else{let h=n.preOrderHooks;h!==null&&ky(e,h,0,null),uT(e,0)}if(o||lJ(e),N4(e),k4(e,0),n.contentQueries!==null&&a4(n,e),!s)if(l){let h=n.contentCheckHooks;h!==null&&Ry(e,h)}else{let h=n.contentHooks;h!==null&&ky(e,h,1),uT(e,1)}fJ(n,e);let d=n.components;d!==null&&O4(e,d,0);let f=n.viewQuery;if(f!==null&&$T(2,f,r),!s)if(l){let h=n.viewCheckHooks;h!==null&&Ry(e,h)}else{let h=n.viewHooks;h!==null&&ky(e,h,2),uT(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[aT]){for(let h of e[aT])h();e[aT]=null}s||(D4(e),e[We]&=-73)}catch(l){throw s||Gd(e),l}finally{c!==null&&(W0(c,u),a&&rJ(c)),qC()}}function k4(n,e){for(let t=WP(n);t!==null;t=KP(t))for(let r=vr;r<t.length;r++){let i=t[r];M4(i,e)}}function lJ(n){for(let e=WP(n);e!==null;e=KP(e)){if(!(e[We]&2))continue;let t=e[Ud];for(let r=0;r<t.length;r++){let i=t[r];lP(i)}}}function dJ(n,e,t){Qt(18);let r=ao(e,n);M4(r,t),Qt(19,r[Wn])}function M4(n,e){PC(n)&&WT(n,e)}function WT(n,e){let r=n[Fe],i=n[We],s=n[Bi],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&K0(s)),o||=!1,s&&(s.dirty=!1),n[We]&=-9217,o)cJ(r,n,r.template,n[Wn]);else if(i&8192){N4(n),k4(n,1);let a=r.components;a!==null&&O4(n,a,1),D4(n)}}function O4(n,e,t){for(let r=0;r<e.length;r++)dJ(n,e[r],t)}function fJ(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Qc(~i);else{let s=i,o=t[++r],a=t[++r];PY(o,s);let u=e[s];Qt(24,u),a(2,u),Qt(25,u)}}}finally{Qc(-1)}}function h2(n,e){let t=mP()?64:1088;for(n[ia].changeDetectionScheduler?.notify(e);n;){n[We]|=t;let r=Kc(n);if(Bd(n)&&!r)return n;n=r}return null}function P4(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function L4(n,e){let t=vr+e;if(t<n.length)return n[t]}function Dv(n,e,t,r=!0){let i=e[Fe];if(hJ(i,e,n,t),r){let o=GT(t,n),a=e[Fn],u=a.parentNode(n[Wc]);u!==null&&$X(i,n[Cs],a,e,u,o)}let s=e[Ep];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function F4(n,e){let t=Np(n,e);return t!==void 0&&Cv(t[Fe],t),t}function Np(n,e){if(n.length<=vr)return;let t=vr+e,r=n[t];if(r){let i=r[zc];i!==null&&i!==n&&c2(i,r),e>0&&(n[t-1][_s]=r[_s]);let s=By(n,vr+e);HX(r[Fe],r);let o=s[sa];o!==null&&o.detachView(s[Fe]),r[_r]=null,r[_s]=null,r[We]&=-129}return r}function hJ(n,e,t,r){let i=vr+r,s=t.length;r>0&&(t[i-1][_s]=e),r<s-vr?(e[_s]=t[i],z8(t,vr+r,e)):(t.push(e),e[_s]=null),e[_r]=t;let o=e[zc];o!==null&&t!==o&&U4(o,e);let a=e[sa];a!==null&&a.insertView(n),kT(e),e[We]|=128}function U4(n,e){let t=n[Ud],r=e[_r];if(lu(r))n[We]|=2;else{let i=r[_r][Vi];e[Vi]!==i&&(n[We]|=2)}t===null?n[Ud]=[e]:t.push(e)}var Rp=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Fe];return Ap(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Wn]}set context(e){this._lView[Wn]=e}get destroyed(){return Fp(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_r];if(qi(e)){let t=e[qy],r=t?t.indexOf(this):-1;r>-1&&(Np(e,r),By(t,r))}this._attachedToViewContainer=!1}Cv(this._lView[Fe],this._lView)}onDestroy(e){dP(this._lView,e)}markForCheck(){h2(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[We]&=-129}reattach(){kT(this._lView),this._lView[We]|=128}detectChanges(){this._lView[We]|=1024,R4(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Bd(this._lView),t=this._lView[zc];t!==null&&!e&&c2(t,this._lView),T4(this._lView[Fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=e;let t=Bd(this._lView),r=this._lView[zc];r!==null&&!t&&U4(r,this._lView),kT(this._lView)}};var Zc=(()=>{class n{static __NG_ELEMENT_ID__=gJ}return n})(),pJ=Zc,mJ=class extends pJ{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Tv(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Rp(i)}};function gJ(){return p2(ri(),ut())}function p2(n,e){return n.type&4?new mJ(e,n,Wd(n,e)):null}var KT="<-- AT THIS LOCATION";function yJ(n){switch(n){case 4:return"view container";case 2:return"element";case 8:return"ng-container";case 32:return"icu";case 64:return"i18n";case 16:return"projection";case 1:return"text";case 128:return"@let";default:return"<unknown>"}}function vJ(n,e){let t=`During serialization, Angular was unable to find an element in the DOM:

`,r=`${SJ(n,e,!1)}

`,i=CJ();throw new be(-502,t+r+i)}function bJ(n){let e="During serialization, Angular detected DOM nodes that were created outside of Angular context and provided as projectable nodes (likely via `ViewContainerRef.createComponent` or `createComponent` APIs). Hydration is not supported for such cases, consider refactoring the code to avoid this pattern or using `ngSkipHydration` on the host element of the component.\n\n",t=`${TJ(n)}

`,r=e+t+IJ();return new be(-503,r)}function _J(n){let e=[];if(n.attrs)for(let t=0;t<n.attrs.length;){let r=n.attrs[t++];if(typeof r=="number")break;let i=n.attrs[t++];e.push(`${r}="${ev(i)}"`)}return e.join(" ")}var EJ=new Set(["ngh","ng-version","ng-server-context"]);function wJ(n){let e=[];for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];EJ.has(r.name)||e.push(`${r.name}="${ev(r.value)}"`)}return e.join(" ")}function hT(n,e="\u2026"){switch(n.type){case 1:return`#text${n.value?`(${n.value})`:""}`;case 2:let r=_J(n),i=n.value.toLowerCase();return`<${i}${r?" "+r:""}>${e}</${i}>`;case 8:return"<!-- ng-container -->";case 4:return"<!-- container -->";default:return`#node(${yJ(n.type)})`}}function Oy(n,e="\u2026"){let t=n;switch(t.nodeType){case Node.ELEMENT_NODE:let r=t.tagName.toLowerCase(),i=wJ(t);return`<${r}${i?" "+i:""}>${e}</${r}>`;case Node.TEXT_NODE:let s=t.textContent?ev(t.textContent):"";return`#text${s?`(${s})`:""}`;case Node.COMMENT_NODE:return`<!-- ${ev(t.textContent??"")} -->`;default:return`#node(${t.nodeType})`}}function SJ(n,e,t){let r="  ",i="";e.prev?(i+=r+`\u2026
`,i+=r+hT(e.prev)+`
`):e.type&&e.type&12&&(i+=r+`\u2026
`),t?(i+=r+hT(e)+`
`,i+=r+`<!-- container -->  ${KT}
`):i+=r+hT(e)+`  ${KT}
`,i+=r+`\u2026
`;let s=e.type?C4(n[Fe],e,n):null;return s&&(i=Oy(s,`
`+i)),i}function TJ(n){let e="  ",t="",r=n;return r.previousSibling&&(t+=e+`\u2026
`,t+=e+Oy(r.previousSibling)+`
`),t+=e+Oy(r)+`  ${KT}
`,n.nextSibling&&(t+=e+`\u2026
`),n.parentNode&&(t=Oy(r.parentNode,`
`+t)),t}function CJ(n){return`To fix this problem:
  * check ${n?`the "${n}"`:"corresponding"} component for hydration-related issues
  * check to see if your template has valid HTML structure
  * or skip hydration by adding the \`ngSkipHydration\` attribute to its host node in a template

`}function IJ(){return`Note: attributes are only displayed to better represent the DOM but have no effect on hydration mismatches.

`}function DJ(n){return n.replace(/\s+/gm,"")}function ev(n,e=50){return n?(n=DJ(n),n.length>e?`${n.substring(0,e-1)}\u2026`:n):""}function m2(n,e,t,r,i){let s=n.data[e];if(s===null)s=xJ(n,e,t,r,i),OY()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=AY();s.injectorIndex=o===null?-1:o.injectorIndex}return Up(s,!0),s}function xJ(n,e,t,r,i){let s=hP(),o=pP(),a=o?s:s&&s.parent,u=n.data[e]=NJ(n,a,t,e,r,i);return AJ(n,u,s,o),u}function AJ(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function NJ(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return IY()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function RJ(n,e){let t=e[n.currentCaseLViewIndex];return t===null?t:t<0?~t:t}function B4(n,e,t){n.index=0;let r=RJ(e,t);r!==null?n.removes=e.remove[r]:n.removes=$r}function QT(n){if(n.index<n.removes.length){let e=n.removes[n.index++];if(e>0)return n.lView[e];{n.stack.push(n.index,n.removes);let t=~e,r=n.lView[Fe].data[t];return B4(n,r,n.lView),QT(n)}}else return n.stack.length===0?null:(n.removes=n.stack.pop(),n.index=n.stack.pop(),QT(n))}function kJ(n,e){let t={stack:[],index:-1,lView:e};return B4(t,n,e),QT.bind(null,t)}var QMe=new RegExp(`^(\\d+)*(${ZP}|${YP})*(.*)`);function MJ(n,e){let t=[n];for(let r of e){let i=t.length-1;if(i>0&&t[i-1]===r){let s=t[i]||1;t[i]=s+1}else t.push(r,"")}return t.join("")}function kp(n,e){return!(n.type&144)&&!!e[n.index]&&V4(pn(e[n.index]))}function V4(n){return!!n&&!n.isConnected}function YT(n,e){if(n===e)return[];if(n.parentElement==null||e.parentElement==null)return null;if(n.parentElement===e.parentElement)return OJ(n,e);{let t=e.parentElement,r=YT(n,t),i=YT(t.firstChild,e);return!r||!i?null:[...r,IZ,...i]}}function OJ(n,e){let t=[],r=null;for(r=n;r!=null&&r!==e;r=r.nextSibling)t.push(DZ);return r==null?null:t}function f8(n,e,t){let r=YT(n,e);return r===null?null:MJ(t,r)}function PJ(n,e,t){let r=n.parent,i,s,o;for(;r!==null&&(kp(r,e)||t?.has(r.index));)r=r.parent;r===null||!(r.type&3)?(i=o=YP,s=e[Vi][br]):(i=r.index,s=pn(e[i]),o=jc(i-Yt));let a=pn(e[n.index]);if(n.type&44){let c=Bc(e,n);c&&(a=c)}let u=f8(s,a,o);if(u===null&&s!==a){let c=s.ownerDocument.body;if(u=f8(c,a,ZP),u===null)throw vJ(e,n)}return u}var LJ=!1;function FJ(){return LJ}function UJ(n){return n=n??z(Nt),n.get(kZ,!1)}function BJ(n,e){let t=e.i18nChildren.get(n);return t===void 0&&(t=VJ(n),e.i18nChildren.set(n,t)),t}function VJ(n){let e=new Set;function t(r){switch(e.add(r.index),r.kind){case 1:case 2:{for(let i of r.children)t(i);break}case 3:{for(let i of r.cases)for(let s of i)t(s);break}}}for(let r=Yt;r<n.bindingStartIndex;r++){let i=n.data[r];if(!(!i||!i.ast))for(let s of i.ast)t(s)}return e.size===0?null:e}function qJ(n,e,t){if(!t.isI18nHydrationEnabled)return null;let r=n[Fe],i=r.data[e];if(!i||!i.ast)return null;let s=r.data[i.parentTNodeIndex];if(s&&bZ(s))return null;let o={caseQueue:[],disconnectedNodes:new Set,disjointNodes:new Set};return ZT(n,o,t,i.ast),o.caseQueue.length===0&&o.disconnectedNodes.size===0&&o.disjointNodes.size===0?null:o}function ZT(n,e,t,r){let i=null;for(let s of r){let o=HJ(n,e,t,s);o&&(jJ(i,o)&&e.disjointNodes.add(s.index-Yt),i=o)}return i}function jJ(n,e){return n&&n.nextSibling!==e}function HJ(n,e,t,r){let i=pn(n[r.index]);if(!i||V4(i))return e.disconnectedNodes.add(r.index-Yt),null;let s=i;switch(r.kind){case 0:{o4(t,s);break}case 1:case 2:{ZT(n,e,t,r.children);break}case 3:{let o=n[r.currentCaseLViewIndex];if(o!=null){let a=o<0?~o:o;e.caseQueue.push(a),ZT(n,e,t,r.cases[a])}break}}return $J(n,r)}function $J(n,e){let r=n[Fe].data[e.index];return CP(r)?Bc(n,r):e.kind===3?kJ(r,n)()??pn(n[e.index]):pn(n[e.index])??null}var zJ=()=>null;function Mp(n,e){return zJ(n,e)}var GJ=class{},q4=class{},XT=class{resolveComponentFactory(e){throw Error(`No component factory found for ${ni(e)}.`)}},xv=class{static NULL=new XT},qd=class{},si=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>WJ()}return n})();function WJ(){let n=ut(),e=ri(),t=ao(e.index,n);return(lu(t)?t:n)[Fn]}var KJ=(()=>{class n{static \u0275prov=fe({token:n,providedIn:"root",factory:()=>null})}return n})();var pT={},JT=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=mv(r);let i=this.injector.get(e,pT,r);return i!==pT||t===pT?i:this.parentInjector.get(e,t,r)}};function h8(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=TT(i,a);else if(s==2){let u=a,c=e[++o];r=TT(r,u+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Le(n,e=dt.Default){let t=ut();if(t===null)return Ae(n,e);let r=ri();return MP(r,t,Hr(n),e)}function j4(){let n="invalid";throw new Error(n)}function H4(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a,u=null,c=null,l=YJ(o);l===null?a=o:[a,u,c]=l,JJ(n,e,t,a,s,u,c)}s!==null&&r!==null&&QJ(t,r,s)}function QJ(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new be(-301,!1);r.push(e[i],s)}}function YJ(n){let e=null,t=!1;for(let o=0;o<n.length;o++){let a=n[o];if(o===0&&oo(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,s=null;for(let o of n)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,ZJ(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,s]):null}function ZJ(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function XJ(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function JJ(n,e,t,r,i,s,o){let a=r.length,u=!1;for(let f=0;f<a;f++){let h=r[f];!u&&oo(h)&&(u=!0,XJ(n,t,f)),LT(Gy(t,e),n,h.type)}see(t,n.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let c=!1,l=!1,d=v4(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(t.mergedAttrs=Tp(t.mergedAttrs,h.hostAttrs),tee(n,t,e,d,h),iee(d,h,i),o!==null&&o.has(h)){let[v,T]=o.get(h);t.directiveToIndex.set(h.type,[d,v+t.directiveStart,T+t.directiveStart])}else(s===null||!s.has(h))&&t.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),l=!0),d++}eee(n,t,s)}function eee(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))p8(0,e,i,r),p8(1,e,i,r),g8(e,r,!1);else{let s=t.get(i);m8(0,e,s,r),m8(1,e,s,r),g8(e,r,!0)}}}function p8(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),$4(e,s)}}function m8(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),$4(e,o)}}function $4(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function g8(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||e2(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let c=i[u];for(let l of c)if(l===e){o??=[],o.push(u,r[a+1]);break}}else if(t&&s.hasOwnProperty(u)){let c=s[u];for(let l=0;l<c.length;l+=2)if(c[l]===e){o??=[],o.push(c[l+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function tee(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Hc(i.type,!0)),o=new Yc(s,oo(i),Le);n.blueprint[r]=o,t[r]=o,nee(n,e,r,v4(n,t,i.hostVars,ii),i)}function nee(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;ree(o)!=a&&o.push(a),o.push(t,r,s)}}function ree(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function iee(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;oo(e)&&(t[""]=n)}}function see(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function z4(n,e,t,r,i,s,o,a){let u=e.consts,c=Vd(u,o),l=m2(e,n,2,r,c);return s&&H4(e,t,l,Vd(u,a),i),l.mergedAttrs=Tp(l.mergedAttrs,l.attrs),l.attrs!==null&&h8(l,l.attrs,!1),l.mergedAttrs!==null&&h8(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function G4(n,e){SP(n,e),tP(e)&&n.queries.elementEnd(e)}var tv=class extends xv{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=fu(e);return new jd(t,this.ngModule)}};function oee(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&Sv.SignalBased)!==0};return i&&(s.transform=i),s})}function aee(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function uee(n,e,t){let r=e instanceof Dr?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new JT(t,r):t}function cee(n){let e=n.get(qd,null);if(e===null)throw new be(407,!1);let t=n.get(KJ,null),r=n.get(oa,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function lee(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return p4(e,t,t==="svg"?gY:t==="math"?yY:null)}var jd=class extends q4{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=oee(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=aee(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=yX(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Qt(22);let s=st(null);try{let o=this.componentDef,a=r?["ng-version","19.2.8"]:vX(this.componentDef.selectors[0]),u=t2(0,null,null,1,0,null,null,null,null,[a],null),c=uee(o,i||this.ngModule,e),l=cee(c),d=l.rendererFactory.createRenderer(null,o),f=r?DX(d,r,o.encapsulation,c):lee(o,d),h=n2(null,u,null,512|y4(o),null,null,l,d,c,null,s4(f,c,!0));h[Yt]=f,VC(h);let p=null;try{let v=z4(Yt,u,h,"#host",()=>[this.componentDef],!0,0);f&&(g4(d,f,v),qp(f,h)),i2(u,h,v),u4(u,v,h),G4(u,v),t!==void 0&&dee(v,this.ngContentSelectors,t),p=ao(v.index,h),h[Wn]=p[Wn],o2(u,h,null)}catch(v){throw p!==null&&qT(p),qT(h),v}finally{Qt(23),qC()}return new eC(this.componentType,h)}finally{st(s)}}},eC=class extends GJ{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=MC(t[Fe],Yt),this.location=Wd(this._tNode,t),this.instance=ao(this._tNode.index,t)[Wn],this.hostView=this.changeDetectorRef=new Rp(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=s2(r,i[Fe],i,e,t);this.previousInputValues.set(e,t);let o=ao(r.index,i);h2(o,1)}get injector(){return new qc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function dee(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var gu=(()=>{class n{static __NG_ELEMENT_ID__=fee}return n})();function fee(){let n=ri();return K4(n,ut())}var hee=gu,W4=class extends hee{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Wd(this._hostTNode,this._hostLView)}get injector(){return new qc(this._hostTNode,this._hostLView)}get parentInjector(){let e=zC(this._hostTNode,this._hostLView);if(DP(e)){let t=$y(e,this._hostLView),r=Hy(e),i=t[Fe].data[r+8];return new qc(i,t)}else return new qc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=y8(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Mp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,xp(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!dY(e),a;if(o)a=t;else{let p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let u=o?e:new jd(fu(e)),c=r||this.parentInjector;if(!s&&u.ngModule==null){let v=(o?c:this.parentInjector).get(Dr,null);v&&(s=v)}let l=fu(u.componentType??{}),d=Mp(this._lContainer,l?.id??null),f=d?.firstChild??null,h=u.create(c,i,f,s);return this.insertImpl(h.hostView,a,xp(this._hostTNode,d)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(bY(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[_r],c=new W4(u,u[Cs],u[_r]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Dv(o,i,s,r),e.attachToViewContainerRef(),z8(mT(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=y8(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Np(this._lContainer,t);r&&(By(mT(this._lContainer),t),Cv(r[Fe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Np(this._lContainer,t);return r&&By(mT(this._lContainer),t)!=null?new Rp(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function y8(n){return n[qy]}function mT(n){return n[qy]||(n[qy]=[])}function K4(n,e){let t,r=e[n.index];return qi(r)?t=r:(t=P4(r,e,null,n),e[n.index]=t,r2(e,t)),mee(t,e,n,r),new W4(t,n,e)}function pee(n,e){let t=n[Fn],r=t.createComment(""),i=co(e,n),s=t.parentNode(i);return Jy(t,s,r,t.nextSibling(i),!1),r}var mee=vee,gee=()=>!1;function yee(n,e,t){return gee(n,e,t)}function vee(n,e,t,r){if(n[Wc])return;let i;t.type&8?i=pn(r):i=pee(e,t),n[Wc]=i}var tC=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},nC=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)g2(e,t).matches!==null&&this.queries[t].setDirty()}},nv=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Iee(e):this.predicate=e}},rC=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},iC=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,bee(t,s)),this.matchTNodeWithReadOption(e,t,My(t,e,s,!1,!1))}else r===Zc?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,My(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ar||i===gu||i===Zc&&t.type&4)this.addMatch(t.index,-2);else{let s=My(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function bee(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function _ee(n,e){return n.type&11?Wd(n,e):n.type&4?p2(n,e):null}function Eee(n,e,t,r){return t===-1?_ee(e,n):t===-2?wee(n,e,r):Cp(n,n[Fe],t,e)}function wee(n,e,t){if(t===Ar)return Wd(e,n);if(t===Zc)return p2(e,n);if(t===gu)return K4(e,n)}function Q4(n,e,t,r){let i=e[sa].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let c=o[u];if(c<0)a.push(null);else{let l=s[c];a.push(Eee(e,l,o[u+1],t.metadata.read))}}i.matches=a}return i.matches}function sC(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=Q4(n,e,i,t);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let c=s[a+1],l=e[-u];for(let d=vr;d<l.length;d++){let f=l[d];f[zc]===f[_r]&&sC(f[Fe],f,c,r)}if(l[Ud]!==null){let d=l[Ud];for(let f=0;f<d.length;f++){let h=d[f];sC(h[Fe],h,c,r)}}}}}return r}function See(n,e){return n[sa].queries[e].queryList}function Y4(n,e,t){let r=new VT((t&4)===4);return wY(n,e,r,r.destroy),(e[sa]??=new nC).queries.push(new tC(r))-1}function Tee(n,e,t){let r=or();return r.firstCreatePass&&(Z4(r,new nv(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),Y4(r,ut(),e)}function Cee(n,e,t,r){let i=or();if(i.firstCreatePass){let s=ri();Z4(i,new nv(e,t,r),s.index),Dee(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return Y4(i,ut(),t)}function Iee(n){return n.split(",").map(e=>e.trim())}function Z4(n,e,t){n.queries===null&&(n.queries=new rC),n.queries.track(new iC(e,t))}function Dee(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function g2(n,e){return n.queries.getByIndex(e)}function xee(n,e){let t=n[Fe],r=g2(t,e);return r.crossesNgTemplate?sC(t,n,e,[]):Q4(t,n,r,e)}function Aee(n){let e=[],t=new Map;function r(i){let s=t.get(i);if(!s){let o=n(i);t.set(i,s=o.then(Mee))}return s}return rv.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),o.push(r(d).then(h=>{a[c+f]=h,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let u=Promise.all(o).then(()=>Oee(s));e.push(u)}),Ree(),Promise.all(e).then(()=>{})}var rv=new Map,Nee=new Set;function Ree(){let n=rv;return rv=new Map,n}function kee(){return rv.size===0}function Mee(n){return typeof n=="string"?n:n.text()}function Oee(n){Nee.delete(n)}var Hd=class{},y2=class{};var iv=class extends Hd{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new tv(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=K8(e);this._bootstrapComponents=f4(s.bootstrap),this._r3Injector=LP(e,t,[{provide:Hd,useValue:this},{provide:xv,useValue:this.componentFactoryResolver},...r],ni(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sv=class extends y2{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new iv(this.moduleType,e,[])}};function Pee(n,e,t){return new iv(n,e,t,!1)}var ov=class extends Hd{injector;componentFactoryResolver=new tv(this);instance=null;constructor(e){super();let t=new _p([...e.providers,{provide:Hd,useValue:this},{provide:xv,useValue:this.componentFactoryResolver}],e.parent||NC(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zp(n,e,t=null){return new ov({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Lee=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Q8(!1,t.type),i=r.length>0?zp([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=fe({token:n,providedIn:"environment",factory:()=>new n(Ae(Dr))})}return n})();function Rt(n){return Pp(()=>{let e=X4(n),t=me(Q({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===zP.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Lee).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Es.Emulated,styles:n.styles||$r,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&nl("NgStandalone"),J4(t);let r=n.dependencies;return t.directiveDefs=v8(r,!1),t.pipeDefs=v8(r,!0),t.id=jee(t),t})}function Fee(n){return fu(n)||XQ(n)}function Uee(n){return n!==null}function Ds(n){return Pp(()=>({type:n.type,bootstrap:n.bootstrap||$r,declarations:n.declarations||$r,imports:n.imports||$r,exports:n.exports||$r,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Bee(n,e){if(n==null)return $c;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,u;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,u=i[3]||null):(s=i,o=i,a=Sv.None,u=null),t[s]=[r,a,u],e[s]=o}return t}function Vee(n){if(n==null)return $c;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function _n(n){return Pp(()=>{let e=X4(n);return J4(e),e})}function v2(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function X4(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||$c,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||$r,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bee(n.inputs,e),outputs:Vee(n.outputs),debugInfo:null}}function J4(n){n.features?.forEach(e=>e(n))}function v8(n,e){if(!n)return null;let t=e?JQ:Fee;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Uee)}var qee=new Map;function jee(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Hee(n){return Object.getPrototypeOf(n.prototype).constructor}function xs(n){let e=Hee(n.type),t=!0,r=[n];for(;e;){let i;if(oo(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new be(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=gT(n.inputs),o.declaredInputs=gT(n.declaredInputs),o.outputs=gT(n.outputs);let a=i.hostBindings;a&&Kee(n,a);let u=i.viewQuery,c=i.contentQueries;if(u&&Gee(n,u),c&&Wee(n,c),$ee(n,i),NQ(n.outputs,i.outputs),oo(i)&&i.data.animation){let l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===xs&&(t=!1)}}e=Object.getPrototypeOf(e)}zee(r)}function $ee(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function zee(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Tp(i.hostAttrs,t=Tp(t,i.hostAttrs))}}function gT(n){return n===$c?{}:n===$r?[]:n}function Gee(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Wee(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function Kee(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function eL(n){return Yee(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Qee(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Yee(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Av(n,e,t){return n[e]=t}function Zee(n,e){return n[e]}function ws(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function b2(n,e,t,r){let i=ws(n,e,t);return ws(n,e+1,r)||i}function Xee(n,e,t,r,i){let s=b2(n,e,t,r);return ws(n,e+2,i)||s}function Jee(n,e,t,r,i,s,o,a,u){let c=e.consts,l=m2(e,n,4,o||null,a||null);fP()&&H4(e,t,l,Vd(c,u),S4),l.mergedAttrs=Tp(l.mergedAttrs,l.attrs),SP(e,l);let d=l.tView=t2(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function oC(n,e,t,r,i,s,o,a,u,c){let l=t+Yt,d=e.firstCreatePass?Jee(l,e,n,r,i,s,o,a,u):e.data[l];Up(d,!1);let f=ete(e,n,d,t);HC()&&l2(e,n,f,d),qp(f,n);let h=P4(f,n,f,d);return n[l]=h,r2(n,h),yee(h,d,n),kC(d)&&i2(e,n,d),u!=null&&E4(n,d,c),d}function ye(n,e,t,r,i,s,o,a){let u=ut(),c=or(),l=Vd(c.consts,s);return oC(u,c,n,e,t,r,i,l,o,a),ye}var ete=tte;function tte(n,e,t,r){return $C(!0),e[Fn].createComment("")}var Qd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Nv=new de(""),tL=new de(""),_2=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(t,r,i){this._ngZone=t,this.registry=r,E2||(nte(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_t.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||n)(Ae(_t),Ae(nL),Ae(tL))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),nL=(()=>{class n{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return E2?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function nte(n){E2=n}var E2,rL=(()=>{class n{static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new aC})}return n})(),aC=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function yu(n){return!!n&&typeof n.then=="function"}function w2(n){return!!n&&typeof n.subscribe=="function"}var iL=new de("");function S2(n){return xr([{provide:iL,multi:!0,useValue:n}])}var sL=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=z(iL,{optional:!0})??[];injector=z(Nt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=nr(this.injector,i);if(yu(s))t.push(s);else if(w2(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rv=new de("");function oL(){FS(()=>{throw new be(600,!1)})}function rte(n){return n.isBoundToModule}var ite=10;function aL(n,e){return Array.isArray(e)?e.reduce(aL,n):Q(Q({},n),e)}var Ss=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=z(fZ);afterRenderManager=z(e4);zonelessEnabled=z(UP);rootEffectScheduler=z(rL);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new bn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=z(pu).hasPendingTasks.pipe(Ve(t=>!t));constructor(){z(Kd,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=z(Dr);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Nt.NULL){Qt(10);let s=t instanceof q4;if(!this._injector.get(sL).done){let h="";throw new be(405,h)}let a;s?a=t:a=this._injector.get(xv).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=rte(a)?void 0:this._injector.get(Hd),c=r||a.selector,l=a.create(i,[],c,u),d=l.location.nativeElement,f=l.injector.get(Nv,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Py(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),Qt(11,l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Qt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(QC.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new be(101,!1);let t=st(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,st(t),this.afterTick.next(),Qt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qd,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<ite;)Qt(14),this.synchronizeOnce(),Qt(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)ste(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>bv(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Py(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Rv,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Py(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new be(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Py(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ste(n,e,t,r){if(!t&&!bv(n))return;R4(n,e,t&&!r?0:1)}function kv(n,e,t,r){let i=ut(),s=Vp();if(ws(i,s,e)){let o=or(),a=jC();PX(a,i,n,e,t,r)}return kv}function uL(n,e,t,r){return ws(n,Vp(),t)?e+jc(t)+r:ii}function ote(n,e,t,r,i,s){let o=kY(),a=b2(n,o,t,i);return UC(2),a?e+jc(t)+r+jc(i)+s:ii}function xy(n,e){return n<<17|e<<2}function Xc(n){return n>>17&32767}function ate(n){return(n&2)==2}function ute(n,e){return n&131071|e<<17}function uC(n){return n|2}function $d(n){return(n&131068)>>2}function yT(n,e){return n&-131069|e<<2}function cte(n){return(n&1)===1}function cC(n){return n|1}function lte(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Xc(o),u=$d(o);n[r]=t;let c=!1,l;if(Array.isArray(t)){let d=t;l=d[1],(l===null||Lp(d,l)>0)&&(c=!0)}else l=t;if(i)if(u!==0){let f=Xc(n[a+1]);n[r+1]=xy(f,a),f!==0&&(n[f+1]=yT(n[f+1],r)),n[a+1]=ute(n[a+1],r)}else n[r+1]=xy(a,0),a!==0&&(n[a+1]=yT(n[a+1],r)),a=r;else n[r+1]=xy(u,0),a===0?a=r:n[u+1]=yT(n[u+1],r),u=r;c&&(n[r+1]=uC(n[r+1])),b8(n,l,r,!0),b8(n,l,r,!1),dte(e,l,n,r,s),o=xy(a,u),s?e.classBindings=o:e.styleBindings=o}function dte(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Lp(s,e)>=0&&(t[r+1]=cC(t[r+1]))}function b8(n,e,t,r){let i=n[t+1],s=e===null,o=r?Xc(i):$d(i),a=!1;for(;o!==0&&(a===!1||s);){let u=n[o],c=n[o+1];fte(u,e)&&(a=!0,n[o+1]=r?cC(c):uC(c)),o=r?Xc(c):$d(c)}a&&(n[t+1]=r?uC(i):cC(i))}function fte(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Lp(n,e)>=0:!1}var bs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hte(n){return n.substring(bs.key,bs.keyEnd)}function pte(n){return mte(n),cL(n,lL(n,0,bs.textEnd))}function cL(n,e){let t=bs.textEnd;return t===e?-1:(e=bs.keyEnd=gte(n,bs.key=e,t),lL(n,e,t))}function mte(n){bs.key=0,bs.keyEnd=0,bs.value=0,bs.valueEnd=0,bs.textEnd=n.length}function lL(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function gte(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Z(n,e,t){let r=ut(),i=Vp();if(ws(r,i,e)){let s=or(),o=jC();w4(s,o,r,n,e,r[Fn],t,!1)}return Z}function lC(n,e,t,r,i){s2(e,n,t,i?"class":"style",r)}function T2(n,e,t){return fL(n,e,t,!1),T2}function qt(n,e){return fL(n,e,null,!0),qt}function dL(n){vte(Tte,yte,n,!0)}function yte(n,e){for(let t=pte(e);t>=0;t=cL(e,t))xC(n,hte(e),!0)}function fL(n,e,t,r){let i=ut(),s=or(),o=UC(2);if(s.firstUpdatePass&&pL(s,n,o,r),e!==ii&&ws(i,o,e)){let a=s.data[ca()];mL(s,a,i,i[Fn],n,i[o+1]=Ite(e,t),r,o)}}function vte(n,e,t,r){let i=or(),s=UC(2);i.firstUpdatePass&&pL(i,null,s,r);let o=ut();if(t!==ii&&ws(o,s,t)){let a=i.data[ca()];if(gL(a,r)&&!hL(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(t=TT(u,t||"")),lC(i,a,o,t,r)}else Cte(i,a,o,o[Fn],o[s+1],o[s+1]=Ste(n,e,t),r,s)}}function hL(n,e){return e>=n.expandoStartIndex}function pL(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[ca()],o=hL(n,t);gL(s,r)&&e===null&&!o&&(e=!1),e=bte(i,s,e,r),lte(i,s,e,t,o,r)}}function bte(n,e,t,r){let i=FY(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=vT(null,n,e,t,r),t=Op(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=vT(i,n,e,t,r),s===null){let u=_te(n,e,r);u!==void 0&&Array.isArray(u)&&(u=vT(null,n,e,u[1],r),u=Op(u,e.attrs,r),Ete(n,e,r,u))}else s=wte(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function _te(n,e,t){let r=t?e.classBindings:e.styleBindings;if($d(r)!==0)return n[Xc(r)]}function Ete(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Xc(i)]=r}function wte(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Op(r,o,t)}return Op(r,e.attrs,t)}function vT(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Op(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Op(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),xC(n,o,t?!0:e[++s]))}return n===void 0?null:n}function Ste(n,e,t){if(t==null||t==="")return $r;let r=[],i=$p(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function Tte(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&xC(n,r,t)}function Cte(n,e,t,r,i,s,o,a){i===ii&&(i=$r);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let f=u<i.length?i[u+1]:void 0,h=c<s.length?s[c+1]:void 0,p=null,v;l===d?(u+=2,c+=2,f!==h&&(p=d,v=h)):d===null||l!==null&&l<d?(u+=2,p=l):(c+=2,p=d,v=h),p!==null&&mL(n,e,t,r,p,v,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}function mL(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let u=n.data,c=u[a+1],l=cte(c)?_8(u,e,t,i,$d(c),o):void 0;if(!av(l)){av(s)||ate(c)&&(s=_8(u,null,t,i,a,o));let d=uP(ca(),t);eJ(r,o,d,i,s)}}function _8(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=l===null,f=t[i+1];f===ii&&(f=d?$r:void 0);let h=d?sT(f,r):l===r?f:void 0;if(c&&!av(h)&&(h=sT(u,r)),av(h)&&(a=h,o))return a;let p=n[i+1];i=o?Xc(p):$d(p)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=sT(u,r))}return a}function av(n){return n!==void 0}function Ite(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ni($p(n)))),n}function gL(n,e){return(n.flags&(e?8:16))!==0}var dC=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function bT(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Dte(n,e,t){let r,i,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;s<=o&&s<=u;){let c=n.at(s),l=e[s],d=bT(s,c,s,l,t);if(d!==0){d<0&&n.updateValue(s,l),s++;continue}let f=n.at(o),h=e[u],p=bT(o,f,u,h,t);if(p!==0){p<0&&n.updateValue(o,h),o--,u--;continue}let v=t(s,c),T=t(o,f),w=t(s,l);if(Object.is(w,T)){let C=t(u,h);Object.is(C,v)?(n.swap(s,o),n.updateValue(o,h),u--,o--):n.move(o,s),n.updateValue(s,l),s++;continue}if(r??=new uv,i??=w8(n,s,o,t),fC(n,r,s,w))n.updateValue(s,l),s++,o++;else if(i.has(w))r.set(v,n.detach(s)),o--;else{let C=n.create(s,e[s]);n.attach(s,C),s++,o++}}for(;s<=u;)E8(n,r,t,s,e[s]),s++}else if(e!=null){let u=e[Symbol.iterator](),c=u.next();for(;!c.done&&s<=o;){let l=n.at(s),d=c.value,f=bT(s,l,s,d,t);if(f!==0)f<0&&n.updateValue(s,d),s++,c=u.next();else{r??=new uv,i??=w8(n,s,o,t);let h=t(s,d);if(fC(n,r,s,h))n.updateValue(s,d),s++,o++,c=u.next();else if(!i.has(h))n.attach(s,n.create(s,d)),s++,o++,c=u.next();else{let p=t(s,l);r.set(p,n.detach(s)),o--}}}for(;!c.done;)E8(n,r,t,n.length,c.value),c=u.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(u=>{n.destroy(u)})}function fC(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function E8(n,e,t,r,i){if(fC(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function w8(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var uv=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function xn(n,e){nl("NgControlFlow");let t=ut(),r=Vp(),i=t[r]!==ii?t[r]:-1,s=i!==-1?cv(t,Yt+i):void 0,o=0;if(ws(t,r,n)){let a=st(null);try{if(s!==void 0&&F4(s,o),n!==-1){let u=Yt+n,c=cv(t,u),l=gC(t[Fe],u),d=Mp(c,l.tView.ssrId),f=Tv(t,l,e,{dehydratedView:d});Dv(c,f,o,xp(l,d))}}finally{st(a)}}else if(s!==void 0){let a=L4(s,o);a!==void 0&&(a[Wn]=e)}}var hC=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-vr}};function rl(n,e){return e}var pC=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function la(n,e,t,r,i,s,o,a,u,c,l,d,f){nl("NgControlFlow");let h=ut(),p=or(),v=u!==void 0,T=ut(),w=a?o.bind(T[Vi][Wn]):o,C=new pC(v,w);T[Yt+n]=C,oC(h,p,n+1,e,t,r,i,Vd(p.consts,s)),v&&oC(h,p,n+2,u,c,l,d,Vd(p.consts,f))}var mC=class extends dC{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-vr}at(e){return this.getLView(e)[Wn].$implicit}attach(e,t){let r=t[Ep];this.needsIndexUpdate||=e!==this.length,Dv(this.lContainer,t,e,xp(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,xte(this.lContainer,e)}create(e,t){let r=Mp(this.lContainer,this.templateTNode.tView.ssrId),i=Tv(this.hostLView,this.templateTNode,new hC(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Cv(e[Fe],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Wn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Wn].$index=e}getLView(e){return Ate(this.lContainer,e)}};function da(n){let e=st(null),t=ca();try{let r=ut(),i=r[Fe],s=r[t],o=t+1,a=cv(r,o);if(s.liveCollection===void 0){let c=gC(i,o);s.liveCollection=new mC(a,r,c)}else s.liveCollection.reset();let u=s.liveCollection;if(Dte(u,n,s.trackByFn),u.updateIndexes(),s.hasEmptyBlock){let c=Vp(),l=u.length===0;if(ws(r,c,l)){let d=t+2,f=cv(r,d);if(l){let h=gC(i,d),p=Mp(f,h.tView.ssrId),v=Tv(r,h,void 0,{dehydratedView:p});Dv(f,v,0,xp(h,p))}else F4(f,0)}}}finally{st(e)}}function cv(n,e){return n[e]}function xte(n,e){return Np(n,e)}function Ate(n,e){return L4(n,e)}function gC(n,e){return MC(n,e)}function k(n,e,t,r){let i=ut(),s=or(),o=Yt+n,a=i[Fn],u=s.firstCreatePass?z4(o,s,i,e,S4,fP(),t,r):s.data[o],c=Nte(s,i,u,a,e,n);i[o]=c;let l=kC(u);return Up(u,!0),g4(a,c,u),!u2(u)&&HC()&&l2(s,i,c,u),(SY()===0||l)&&qp(c,i),TY(),l&&(i2(s,i,u),u4(s,u,i)),r!==null&&E4(i,u),k}function M(){let n=ri();pP()?NY():(n=n.parent,Up(n,!1));let e=n;DY(e)&&xY(),CY();let t=or();return t.firstCreatePass&&G4(t,e),e.classesWithoutHost!=null&&$Y(e)&&lC(t,e,ut(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zY(e)&&lC(t,e,ut(),e.stylesWithoutHost,!1),M}function Ne(n,e,t,r){return k(n,e,t,r),M(),Ne}var Nte=(n,e,t,r,i,s)=>($C(!0),p4(r,i,VY()));function tt(){return ut()}var Uc=void 0;function Rte(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var kte=["en",[["a","p"],["AM","PM"],Uc],[["AM","PM"],Uc,Uc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uc,"{1} 'at' {0}",Uc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Rte],_T={};function ji(n){let e=Mte(n),t=S8(e);if(t)return t;let r=e.split("-")[0];if(t=S8(r),t)return t;if(r==="en")return kte;throw new be(701,!1)}function S8(n){return n in _T||(_T[n]=uu.ng&&uu.ng.common&&uu.ng.common.locales&&uu.ng.common.locales[n]),_T[n]}var Un=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Un||{});function Mte(n){return n.toLowerCase().replace(/_/g,"-")}var lv="en-US";var Ote=lv;function Pte(n){typeof n=="string"&&(Ote=n.toLowerCase().replace(/_/g,"-"))}function T8(n,e,t){return function r(i){if(i===Function)return t;let s=Jc(n)?ao(n.index,e):e;h2(s,5);let o=e[Wn],a=C8(e,o,t,i),u=r.__ngNextListenerFn__;for(;u;)a=C8(e,o,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function C8(n,e,t,r){let i=st(null);try{return Qt(6,e,t),t(r)!==!1}catch(s){return Lte(n,s),!1}finally{Qt(7,e,t),st(i)}}function Lte(n,e){let t=n[Fd],r=t?t.get(uo,null):null;r&&r.handleError(e)}function I8(n,e,t,r,i,s){let o=e[t],a=e[Fe],c=a.data[t].outputs[r],l=o[c],d=a.firstCreatePass?FC(a):null,f=LC(e),h=l.subscribe(s),p=f.length;f.push(s,h),d&&d.push(i,n.index,p,-(p+1))}var Fte=(n,e,t)=>{};function he(n,e,t,r){let i=ut(),s=or(),o=ri();return Bte(s,i,i[Fn],o,n,e,r),he}function Ute(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[wp],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function Bte(n,e,t,r,i,s,o){let a=kC(r),c=n.firstCreatePass?FC(n):null,l=LC(e),d=!0;if(r.type&3||o){let f=co(r,e),h=o?o(f):f,p=l.length,v=o?w=>o(pn(w[r.index])):r.index,T=null;if(!o&&a&&(T=Ute(n,e,i,r.index)),T!==null){let w=T.__ngLastListenerFn__||T;w.__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,d=!1}else{s=T8(r,e,s),Fte(h,i,s);let w=t.listen(h,i,s);l.push(s,w),c&&c.push(i,v,p,p+1)}}else s=T8(r,e,s);if(d){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let v=h[p],T=h[p+1];I8(r,e,v,T,i,s)}if(f&&f.length)for(let p of f)I8(r,e,p,i,i,s)}}function ce(n=1){return BY(n)}function C2(n,e,t){return yL(n,"",e,"",t),C2}function yL(n,e,t,r,i){let s=ut(),o=uL(s,e,t,r);if(o!==ii){let a=or(),u=jC();w4(a,u,s,n,o,s[Fn],i,!1)}return yL}function vL(n,e,t,r){Cee(n,e,t,r)}function Gp(n,e,t){Tee(n,e,t)}function il(n){let e=ut(),t=or(),r=gP();BC(r+1);let i=g2(t,r);if(n.dirty&&vY(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=xee(e,r);n.reset(s,mZ),n.notifyOnChanges()}return!0}return!1}function sl(){return See(ut(),gP())}function Vte(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function bL(n){let e=RY();return OC(e,Yt+n)}function U(n,e=""){let t=ut(),r=or(),i=n+Yt,s=r.firstCreatePass?m2(r,i,1,e,null):r.data[i],o=qte(r,t,s,e,n);t[i]=o,HC()&&l2(r,t,o,s),Up(s,!1)}var qte=(n,e,t,r,i)=>($C(!0),bX(e[Fn],r));function St(n){return ct("",n,""),St}function ct(n,e,t){let r=ut(),i=uL(r,n,e,t);return i!==ii&&_L(r,ca(),i),ct}function I2(n,e,t,r,i){let s=ut(),o=ote(s,n,e,t,r,i);return o!==ii&&_L(s,ca(),o),I2}function _L(n,e,t){let r=uP(e,n);_X(n[Fn],r,t)}function jte(n,e,t){let r=or();if(r.firstCreatePass){let i=oo(n);yC(t,r.data,r.blueprint,i,!0),yC(e,r.data,r.blueprint,i,!1)}}function yC(n,e,t,r,i){if(n=Hr(n),Array.isArray(n))for(let s=0;s<n.length;s++)yC(n[s],e,t,r,i);else{let s=or(),o=ut(),a=ri(),u=Ld(n)?n:Hr(n.provide),c=X8(n),l=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ld(n)||!n.multi){let h=new Yc(c,i,Le),p=wT(u,e,i?l:l+f,d);p===-1?(LT(Gy(a,o),s,u),ET(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),o.push(h)):(t[p]=h,o[p]=h)}else{let h=wT(u,e,l+f,d),p=wT(u,e,l,l+f),v=h>=0&&t[h],T=p>=0&&t[p];if(i&&!T||!i&&!v){LT(Gy(a,o),s,u);let w=zte(i?$te:Hte,t.length,i,r,c);!i&&T&&(t[p].providerFactory=w),ET(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),o.push(w)}else{let w=EL(t[i?p:h],c,!i&&r);ET(s,n,h>-1?h:p,w)}!i&&r&&T&&t[p].componentProviders++}}}function ET(n,e,t,r){let i=Ld(e),s=iY(e);if(i||s){let u=(s?Hr(e.useClass):e).prototype.ngOnDestroy;if(u){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let l=c.indexOf(t);l===-1?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function EL(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function wT(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Hte(n,e,t,r){return vC(this.multi,[])}function $te(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Cp(t,t[Fe],this.providerFactory.index,r);s=a.slice(0,o),vC(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],vC(i,s);return s}function vC(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function zte(n,e,t,r,i){let s=new Yc(n,t,Le);return s.multi=[],s.index=e,s.componentProviders=0,EL(s,i,r&&!t),s}function ol(n,e=[]){return t=>{t.providersResolver=(r,i)=>jte(r,i?i(n):n,e)}}function D2(n,e,t){let r=Bp()+n,i=ut();return i[r]===ii?Av(i,r,t?e.call(t):e()):Zee(i,r)}function Yd(n,e,t,r){return SL(ut(),Bp(),n,e,t,r)}function wL(n,e,t,r,i,s){return Wte(ut(),Bp(),n,e,t,r,i,s)}function x2(n,e){let t=n[e];return t===ii?void 0:t}function SL(n,e,t,r,i,s){let o=e+t;return ws(n,o,i)?Av(n,o+1,s?r.call(s,i):r(i)):x2(n,o+1)}function Gte(n,e,t,r,i,s,o){let a=e+t;return b2(n,a,i,s)?Av(n,a+2,o?r.call(o,i,s):r(i,s)):x2(n,a+2)}function Wte(n,e,t,r,i,s,o,a){let u=e+t;return Xee(n,u,i,s,o)?Av(n,u+3,a?r.call(a,i,s,o):r(i,s,o)):x2(n,u+3)}function Nr(n,e){let t=or(),r,i=n+Yt;t.firstCreatePass?(r=Kte(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=Hc(r.type,!0)),o,a=ti(Le);try{let u=zy(!1),c=s();return zy(u),Vte(t,ut(),i,c),c}finally{ti(a)}}function Kte(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function lo(n,e,t){let r=n+Yt,i=ut(),s=OC(i,r);return TL(i,r)?SL(i,Bp(),e,s.transform,t,s):s.transform(t)}function al(n,e,t,r){let i=n+Yt,s=ut(),o=OC(s,i);return TL(s,i)?Gte(s,Bp(),e,o.transform,t,r,o):o.transform(t,r)}function TL(n,e){return n[Fe].data[e].pure}var Ay=null;function Qte(n){Ay!==null&&(n.defaultEncapsulation!==Ay.defaultEncapsulation||n.preserveWhitespaces!==Ay.preserveWhitespaces)||(Ay=n)}var Yte=[];var Zte=new WeakMap,Xte=new WeakMap;function Jte(){Zte=new WeakMap,Xte=new WeakMap,Yte.length=0,qee.clear()}var hu=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},CL=new hu("19.2.8"),bC=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Mv=(()=>{class n{compileModuleSync(t){return new sv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=K8(t),s=f4(i.declarations).reduce((o,a)=>{let u=fu(a);return u&&o.push(new jd(u)),o},[]);return new bC(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ene=new de("");function tne(n,e,t){let r=new sv(t);return Promise.resolve(r)}function D8(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var nne=(()=>{class n{zone=z(_t);changeDetectionScheduler=z(oa);applicationRef=z(Ss);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IL({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _t(me(Q({},DL()),{scheduleInRootZone:t})),[{provide:_t,useFactory:n},{provide:bp,multi:!0,useFactory:()=>{let r=z(nne,{optional:!0});return()=>r.initialize()}},{provide:bp,multi:!0,useFactory:()=>{let r=z(rne);return()=>{r.initialize()}}},e===!0?{provide:BP,useValue:!0}:[],{provide:VP,useValue:t??FP}]}function DL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var rne=(()=>{class n{subscription=new In;initialized=!1;zone=z(_t);pendingTasks=z(pu);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_t.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_t.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xL=(()=>{class n{appRef=z(Ss);taskService=z(pu);ngZone=z(_t);zonelessEnabled=z(UP);tracing=z(Kd,{optional:!0});disableScheduling=z(BP,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new In;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ky):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(z(VP,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Qy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?W6:qP;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ky+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,W6(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ine(){return typeof $localize<"u"&&$localize.locale||lv}var Zd=new de("",{providedIn:"root",factory:()=>z(Zd,dt.Optional|dt.SkipSelf)||ine()});var dv=new de(""),A2=new de("");function mp(n){return!n.moduleRef}function AL(n){let e=mp(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_t);return t.run(()=>{mp(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(uo,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),mp(n)){let s=()=>e.destroy(),o=n.platformInjector.get(dv);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(dv);o.add(s),n.moduleRef.onDestroy(()=>{Py(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return one(r,t,()=>{let s=e.get(sL);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Zd,lv);if(Pte(o||lv),!e.get(A2,!0))return mp(n)?e.get(Ss):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(mp(n)){let u=e.get(Ss);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return sne(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function sne(n,e){let t=n.injector.get(Ss);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new be(-403,!1);e.push(n)}function one(n,e,t){try{let r=t();return yu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var NL=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,s=()=>dZ(r?.ngZone,me(Q({},DL({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),o=r?.ignoreChangesOutsideZone,a=[IL({ngZoneFactory:s,ignoreChangesOutsideZone:o}),{provide:oa,useExisting:xL}],u=Pee(t.moduleType,this.injector,a);return AL({moduleRef:u,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=aL({},r);return tne(this.injector,i,t).then(s=>this.bootstrapModuleFactory(s,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(dv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||n)(Ae(Nt))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),du=null,Ov=new de("");function ane(n){if(du&&!du.get(Ov,!1))throw new be(400,!1);oL(),du=n;let e=n.get(NL);return ML(n),e}function Pv(n,e,t=[]){let r=`Platform: ${e}`,i=new de(r);return(s=[])=>{let o=kL();if(!o||o.injector.get(Ov,!1)){let a=[...t,...s,{provide:i,useValue:!0}];n?n(a):ane(RL(a,r))}return une(i)}}function RL(n=[],e){return Nt.create({name:e,providers:[{provide:gv,useValue:"platform"},{provide:dv,useValue:new Set([()=>du=null])},...n]})}function une(n){let e=kL();if(!e)throw new be(401,!1);return e}function kL(){return du?.get(NL)??null}function cne(n=[]){if(du)return du;let e=RL(n);return du=e,oL(),ML(e),e}function ML(n){let e=n.get(jp,null);nr(n,()=>{e?.forEach(t=>t())})}function N2(){return!1}var Hi=(()=>{class n{static __NG_ELEMENT_ID__=lne}return n})();function lne(n){return dne(ri(),ut(),(n&16)===16)}function dne(n,e,t){if(Jc(n)&&!t){let r=ao(n.index,e);return new Rp(r,r)}else if(n.type&175){let r=e[Vi];return new Rp(r,e)}return null}var _C=class{constructor(){}supports(e){return eL(e)}create(e){return new EC(e)}},fne=(n,e)=>e,EC=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||fne}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<x8(r,i,s)?t:r,a=x8(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,l=u-i;if(c!=l){for(let f=0;f<c;f++){let h=f<s.length?s[f]:s[f]=0,p=h+f;l<=p&&p<c&&(s[f]=h+1)}let d=o.previousIndex;s[d]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!eL(e))throw new be(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,Qee(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new wC(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new fv),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fv),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},wC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},SC=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},fv=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new SC,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function x8(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function A8(){return new R2([new _C])}var R2=(()=>{class n{factories;static \u0275prov=fe({token:n,providedIn:"root",factory:A8});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||A8()),deps:[[n,new WQ,new Kn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new be(901,!1)}}return n})();var k2=Pv(null,"core",[]);function OL(n){Qt(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=cne(r),s=[IL({}),{provide:oa,useExisting:xL},...t||[]],o=new ov({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return AL({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Qt(9)}}function hne(n,e,t){let r=new Map,i=e[wp],s=n.cleanup;if(!s||!i)return r;for(let o=0;o<s.length;){let a=s[o++],u=s[o++];if(typeof a!="string")continue;let c=a;if(!M6(c))continue;k6(c)?t.capture.add(c):t.regular.add(c);let l=pn(e[u]);o++;let d=s[o++];(typeof d=="boolean"||d>=0)&&(r.has(l)?r.get(l).push(c):r.set(l,[c]))}return r}var TC=class{views=[];indexByContent=new Map;add(e){let t=JSON.stringify(e);if(!this.indexByContent.has(t)){let r=this.views.length;return this.views.push(e),this.indexByContent.set(t,r),r}return this.indexByContent.get(t)}getAll(){return this.views}},pne=0;function PL(n){return n.ssrId||(n.ssrId=`t${pne++}`),n.ssrId}function LL(n,e,t){let r=[];return Ap(n,e,t,r),r.length}function mne(n){let e=[];return f2(n,e),e.length}function FL(n,e,t){let r=n[br];return r&&!r.hasAttribute(Yy)?hv(r,n,null,e):null}function UL(n,e,t){let r=aP(n[br]),i=FL(r,e);if(i===null)return;let s=pn(r[br]),o=n[_r],a=hv(s,o,null,e),u=r[Fn],c=`${i}|${a}`;u.setAttribute(s,r4,c)}function BL(n,e){let t=n.injector,r=UJ(t),i=eX(t),s=new TC,o=new Map,a=n._views,u=t.get(MZ,OZ),c={regular:new Set,capture:new Set},l=new Map;n.injector.get(mu);for(let h of a){let p=JZ(h);if(p!==null){let v={serializedViewCollection:s,corruptedTextNodes:o,isI18nHydrationEnabled:r,isIncrementalHydrationEnabled:i,i18nChildren:new Map,eventTypesToReplay:c,shouldReplayEvents:u,deferBlocks:l};qi(p)?UL(p,v):FL(p,v),_ne(o,e)}}let d=s.getAll(),f=t.get(wv);if(f.set(QZ,d),l.size>0){let h={};for(let[p,v]of l.entries())h[p]=v;f.set(ZZ,h)}return c}function gne(n,e,t,r,i){let s=[],o="";for(let a=vr;a<n.length;a++){let u=n[a],c,l,d;if(Bd(u)&&(u=u[Yt],qi(u))){l=mne(u)+1,UL(u,i);let h=aP(u[br]);d={[n8]:h[Fe].ssrId,[lT]:l}}if(!d){let h=u[Fe];h.type===1?(c=h.ssrId,l=1):(c=PL(h),l=LL(h,u,h.firstChild)),d={[n8]:c,[lT]:l};let p=!1;if($Z(t[Fe],e)){let v=jZ(t,e),T=t4(t[Fe],e);if(i.isIncrementalHydrationEnabled&&T.hydrateTriggers!==null){let w=`d${i.deferBlocks.size}`;T.hydrateTriggers.has(7)&&(p=!0);let C=[];f2(n,C);let D={[lT]:C.length,[s8]:v[a8]},S=yne(T.hydrateTriggers);S.length>0&&(D[NZ]=S),r!==null&&(D[AZ]=r),i.deferBlocks.set(w,D);let x=pn(n);x!==void 0?x.nodeType===Node.COMMENT_NODE&&N8(x,w):N8(x,w),p||wne(T,C,w,i),r=w,d[xZ]=w}d[s8]=v[a8]}p||Object.assign(d,VL(n[a],r,i))}let f=JSON.stringify(d);if(s.length>0&&f===o){let h=s[s.length-1];h[t8]??=1,h[t8]++}else o=f,s.push(d)}return s}function yne(n){let e=new Set([0,1,2,5]),t=[];for(let[r,i]of n)e.has(r)&&(i===null?t.push(r):t.push({trigger:r,delay:i.delay}));return t}function vp(n,e,t,r){let i=e.index-Yt;n[r8]??={},n[r8][i]??=PJ(e,t,r)}function ST(n,e){let t=typeof e=="number"?e:e.index-Yt;n[dT]??=[],n[dT].includes(t)||n[dT].push(t)}function VL(n,e=null,t){let r={},i=n[Fe],s=BJ(i,t),o=t.shouldReplayEvents?hne(i,n,t.eventTypesToReplay):null;for(let a=Yt;a<i.bindingStartIndex;a++){let u=i.data[a],c=a-Yt,l=qJ(n,a,t);if(l){r[i8]??={},r[i8][c]=l.caseQueue;for(let d of l.disconnectedNodes)ST(r,d);for(let d of l.disjointNodes){let f=i.data[d+Yt];vp(r,f,n,s)}continue}if(CP(u)&&!u2(u)){if(kp(u,n)&&Ene(u)){ST(r,u);continue}if(Array.isArray(u.projection)){for(let d of u.projection)if(d)if(!Array.isArray(d))!nP(d)&&!Zy(d)&&(kp(d,n)?ST(r,d):vp(r,d,n,s));else throw bJ(pn(n[a]))}if(vne(r,u,n,s),qi(n[a])){let d=u.tView;d!==null&&(r[J6]??={},r[J6][c]=PL(d));let f=n[a][br];if(Array.isArray(f)){let h=pn(f);h.hasAttribute(Yy)||hv(h,f,e,t)}r[e8]??={},r[e8][c]=gne(n[a],u,n,e,t)}else if(Array.isArray(n[a])&&!HY(u)){let d=pn(n[a][br]);d.hasAttribute(Yy)||hv(d,n[a],e,t)}else if(u.type&8)r[X6]??={},r[X6][c]=LL(i,n,u.child);else if(u.type&144){let d=u.next;for(;d!==null&&d.type&144;)d=d.next;d&&!Zy(d)&&vp(r,d,n,s)}else if(u.type&1){let d=pn(n[a]);o4(t,d)}if(o&&u.type&2){let d=pn(n[a]);o.has(d)&&n4(d,o.get(d),e)}}}return r}function vne(n,e,t,r){nP(e)||(e.projectionNext&&e.projectionNext!==e.next&&!Zy(e.projectionNext)&&vp(n,e.projectionNext,t,r),e.prev===null&&e.parent!==null&&kp(e.parent,t)&&!kp(e,t)&&vp(n,e,t,r))}function bne(n){let e=n[Wn];return e?.constructor?fu(e.constructor)?.encapsulation===Es.ShadowDom:!1}function hv(n,e,t,r){let i=e[Fn];if(fY(e)&&!FJ()||bne(e))return i.setAttribute(n,Yy,""),null;{let s=VL(e,t,r),o=r.serializedViewCollection.add(s);return i.setAttribute(n,r4,o.toString()),o}}function N8(n,e){n.textContent=`ngh=${e}`}function _ne(n,e){for(let[t,r]of n)t.after(e.createComment(r))}function Ene(n){let e=n;for(;e!=null;){if(Jc(e))return!0;e=e.parent}return!1}function wne(n,e,t,r){let i=tX(n.hydrateTriggers);for(let s of i)r.eventTypesToReplay.regular.add(s);if(i.length>0){let s=e.filter(o=>o.nodeType===Node.ELEMENT_NODE);for(let o of s)n4(o,i,t)}}function Xd(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var Sne="\u{1F170}\uFE0F",qL=!1;function $i(n){if(!qL)return;let{startLabel:e}=jL(n);performance.mark(e)}function zi(n){if(!qL)return;let{startLabel:e,labelName:t,endLabel:r}=jL(n);performance.mark(r),performance.measure(t,e,r),performance.clearMarks(e),performance.clearMarks(r)}function jL(n){let e=`${Sne}:${n}`;return{labelName:e,startLabel:`start:${e}`,endLabel:`end:${e}`}}function Gi(n){return VS(n)}function Jd(n,e){return LS(n,e?.equal)}var CC=class{[hs];constructor(e){this[hs]=e}destroy(){this[hs].destroy()}};function vu(n,e){!e?.injector&&yv(vu);let t=e?.injector??z(Nt),r=e?.manualCleanup!==!0?t.get(tl):null,i,s=t.get(YC,null,{optional:!0}),o=t.get(oa);return s!==null&&!e?.forceRoot?(i=Ine(s.view,o,n),r instanceof Wy&&r._lView===s.view&&(r=null)):i=Dne(n,t.get(rL),o),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new CC(i)}var HL=me(Q({},vd),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Ip,run(){if(this.dirty=!1,this.hasRun&&!K0(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=up(this),t=jy(!1);try{this.maybeCleanup(),this.fn(n)}finally{jy(t),W0(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),Tne=me(Q({},HL),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){cp(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),Cne=me(Q({},HL),{consumerMarkedDirty(){this.view[We]|=8192,Gd(this.view),this.notifier.notify(13)},destroy(){cp(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Gc]?.delete(this)}});function Ine(n,e,t){let r=Object.create(Cne);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[Gc]??=new Set,n[Gc].add(r),r.consumerMarkedDirty(r),r}function Dne(n,e,t){let r=Object.create(Tne);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}function $L(n){let e=fu(n);if(!e)return null;let t=new jd(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}function zL(...n){return n.reduce((e,t)=>Object.assign(e,t,{providers:[...e.providers,...t.providers]}),{providers:[]})}var GL=new de("",{providedIn:"platform",factory:()=>null}),WL=new de("",{providedIn:"platform",factory:()=>null}),KL=new de("",{providedIn:"platform",factory:()=>null});var ln=new de("");var ZL=null;function Rr(){return ZL}function Kp(n){ZL??=n}var Wp=class{},fo=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>z(XL),providedIn:"platform"})}return n})(),M2=new de(""),XL=(()=>{class n extends fo{_location;_history;_doc=z(ln);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rr().getBaseHref(this._doc)}onPopState(t){let r=Rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Lv(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function QL(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function As(n){return n&&n[0]!=="?"?`?${n}`:n}var Ns=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>z(Fv),providedIn:"root"})}return n})(),ef=new de(""),Fv=(()=>{class n extends Ns{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z(ln).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Lv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+As(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+As(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+As(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ae(fo),Ae(ef,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bu=(()=>{class n{_subject=new bn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Nne(QL(YL(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+As(r))}normalize(t){return n.stripTrailingSlash(Ane(this._basePath,YL(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+As(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+As(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=As;static joinWithSlash=Lv;static stripTrailingSlash=QL;static \u0275fac=function(r){return new(r||n)(Ae(Ns))};static \u0275prov=fe({token:n,factory:()=>xne(),providedIn:"root"})}return n})();function xne(){return new bu(Ae(Ns))}function Ane(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function YL(n){return n.replace(/\/index.html$/,"")}function Nne(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var V2=(()=>{class n extends Ns{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Lv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+As(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+As(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ae(fo),Ae(ef,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();var kr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(kr||{}),Zt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Zt||{}),oi=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(oi||{}),ha={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function r5(n){return ji(n)[Un.LocaleId]}function i5(n,e,t){let r=ji(n),i=[r[Un.DayPeriodsFormat],r[Un.DayPeriodsStandalone]],s=Wi(i,e);return Wi(s,t)}function s5(n,e,t){let r=ji(n),i=[r[Un.DaysFormat],r[Un.DaysStandalone]],s=Wi(i,e);return Wi(s,t)}function o5(n,e,t){let r=ji(n),i=[r[Un.MonthsFormat],r[Un.MonthsStandalone]],s=Wi(i,e);return Wi(s,t)}function a5(n,e){let r=ji(n)[Un.Eras];return Wi(r,e)}function Qp(n,e){let t=ji(n);return Wi(t[Un.DateFormat],e)}function Yp(n,e){let t=ji(n);return Wi(t[Un.TimeFormat],e)}function Zp(n,e){let r=ji(n)[Un.DateTimeFormat];return Wi(r,e)}function Xp(n,e){let t=ji(n),r=t[Un.NumberSymbols][e];if(typeof r>"u"){if(e===ha.CurrencyDecimal)return t[Un.NumberSymbols][ha.Decimal];if(e===ha.CurrencyGroup)return t[Un.NumberSymbols][ha.Group]}return r}function u5(n){if(!n[Un.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Un.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function c5(n){let e=ji(n);return u5(e),(e[Un.ExtraData][2]||[]).map(r=>typeof r=="string"?O2(r):[O2(r[0]),O2(r[1])])}function l5(n,e,t){let r=ji(n);u5(r);let i=[r[Un.ExtraData][0],r[Un.ExtraData][1]],s=Wi(i,e)||[];return Wi(s,t)||[]}function Wi(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function O2(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var Rne=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Uv={},kne=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function d5(n,e,t,r){let i=qne(n);e=fa(t,e)||e;let o=[],a;for(;e;)if(a=kne.exec(e),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;e=l}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=h5(r,u),i=Vne(i,r));let c="";return o.forEach(l=>{let d=Une(l);c+=d?d(i,t,u):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Hv(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function fa(n,e){let t=r5(n);if(Uv[t]??={},Uv[t][e])return Uv[t][e];let r="";switch(e){case"shortDate":r=Qp(n,oi.Short);break;case"mediumDate":r=Qp(n,oi.Medium);break;case"longDate":r=Qp(n,oi.Long);break;case"fullDate":r=Qp(n,oi.Full);break;case"shortTime":r=Yp(n,oi.Short);break;case"mediumTime":r=Yp(n,oi.Medium);break;case"longTime":r=Yp(n,oi.Long);break;case"fullTime":r=Yp(n,oi.Full);break;case"short":let i=fa(n,"shortTime"),s=fa(n,"shortDate");r=Bv(Zp(n,oi.Short),[i,s]);break;case"medium":let o=fa(n,"mediumTime"),a=fa(n,"mediumDate");r=Bv(Zp(n,oi.Medium),[o,a]);break;case"long":let u=fa(n,"longTime"),c=fa(n,"longDate");r=Bv(Zp(n,oi.Long),[u,c]);break;case"full":let l=fa(n,"fullTime"),d=fa(n,"fullDate");r=Bv(Zp(n,oi.Full),[l,d]);break}return r&&(Uv[t][e]=r),r}function Bv(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Rs(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Mne(n,e){return Rs(n,3).substring(0,e)}function Qn(n,e,t=0,r=!1,i=!1){return function(s,o){let a=One(n,s);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return Mne(a,e);let u=Xp(o,ha.MinusSign);return Rs(a,e,u,r,i)}}function One(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function on(n,e,t=kr.Format,r=!1){return function(i,s){return Pne(i,s,n,e,t,r)}}function Pne(n,e,t,r,i,s){switch(t){case 2:return o5(e,i,r)[n.getMonth()];case 1:return s5(e,i,r)[n.getDay()];case 0:let o=n.getHours(),a=n.getMinutes();if(s){let c=c5(e),l=l5(e,i,r),d=c.findIndex(f=>{if(Array.isArray(f)){let[h,p]=f,v=o>=h.hours&&a>=h.minutes,T=o<p.hours||o===p.hours&&a<p.minutes;if(h.hours<p.hours){if(v&&T)return!0}else if(v||T)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return i5(e,i,r)[o<12?0:1];case 3:return a5(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new Error(`unexpected translation type ${u}`)}}function Vv(n){return function(e,t,r){let i=-1*r,s=Xp(t,ha.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Rs(o,2,s)+Rs(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+Rs(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+Rs(o,2,s)+":"+Rs(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+Rs(o,2,s)+":"+Rs(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var Lne=0,jv=4;function Fne(n){let e=Hv(n,Lne,1).getDay();return Hv(n,0,1+(e<=jv?jv:jv+7)-e)}function f5(n){let e=n.getDay(),t=e===0?-3:jv-e;return Hv(n.getFullYear(),n.getMonth(),n.getDate()+t)}function P2(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=f5(t),o=Fne(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Rs(i,n,Xp(r,ha.MinusSign))}}function qv(n,e=!1){return function(t,r){let s=f5(t).getFullYear();return Rs(s,n,Xp(r,ha.MinusSign),e)}}var L2={};function Une(n){if(L2[n])return L2[n];let e;switch(n){case"G":case"GG":case"GGG":e=on(3,Zt.Abbreviated);break;case"GGGG":e=on(3,Zt.Wide);break;case"GGGGG":e=on(3,Zt.Narrow);break;case"y":e=Qn(0,1,0,!1,!0);break;case"yy":e=Qn(0,2,0,!0,!0);break;case"yyy":e=Qn(0,3,0,!1,!0);break;case"yyyy":e=Qn(0,4,0,!1,!0);break;case"Y":e=qv(1);break;case"YY":e=qv(2,!0);break;case"YYY":e=qv(3);break;case"YYYY":e=qv(4);break;case"M":case"L":e=Qn(1,1,1);break;case"MM":case"LL":e=Qn(1,2,1);break;case"MMM":e=on(2,Zt.Abbreviated);break;case"MMMM":e=on(2,Zt.Wide);break;case"MMMMM":e=on(2,Zt.Narrow);break;case"LLL":e=on(2,Zt.Abbreviated,kr.Standalone);break;case"LLLL":e=on(2,Zt.Wide,kr.Standalone);break;case"LLLLL":e=on(2,Zt.Narrow,kr.Standalone);break;case"w":e=P2(1);break;case"ww":e=P2(2);break;case"W":e=P2(1,!0);break;case"d":e=Qn(2,1);break;case"dd":e=Qn(2,2);break;case"c":case"cc":e=Qn(7,1);break;case"ccc":e=on(1,Zt.Abbreviated,kr.Standalone);break;case"cccc":e=on(1,Zt.Wide,kr.Standalone);break;case"ccccc":e=on(1,Zt.Narrow,kr.Standalone);break;case"cccccc":e=on(1,Zt.Short,kr.Standalone);break;case"E":case"EE":case"EEE":e=on(1,Zt.Abbreviated);break;case"EEEE":e=on(1,Zt.Wide);break;case"EEEEE":e=on(1,Zt.Narrow);break;case"EEEEEE":e=on(1,Zt.Short);break;case"a":case"aa":case"aaa":e=on(0,Zt.Abbreviated);break;case"aaaa":e=on(0,Zt.Wide);break;case"aaaaa":e=on(0,Zt.Narrow);break;case"b":case"bb":case"bbb":e=on(0,Zt.Abbreviated,kr.Standalone,!0);break;case"bbbb":e=on(0,Zt.Wide,kr.Standalone,!0);break;case"bbbbb":e=on(0,Zt.Narrow,kr.Standalone,!0);break;case"B":case"BB":case"BBB":e=on(0,Zt.Abbreviated,kr.Format,!0);break;case"BBBB":e=on(0,Zt.Wide,kr.Format,!0);break;case"BBBBB":e=on(0,Zt.Narrow,kr.Format,!0);break;case"h":e=Qn(3,1,-12);break;case"hh":e=Qn(3,2,-12);break;case"H":e=Qn(3,1);break;case"HH":e=Qn(3,2);break;case"m":e=Qn(4,1);break;case"mm":e=Qn(4,2);break;case"s":e=Qn(5,1);break;case"ss":e=Qn(5,2);break;case"S":e=Qn(6,1);break;case"SS":e=Qn(6,2);break;case"SSS":e=Qn(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Vv(0);break;case"ZZZZZ":e=Vv(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Vv(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Vv(2);break;default:return null}return L2[n]=e,e}function h5(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Bne(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function Vne(n,e,t){let i=n.getTimezoneOffset(),s=h5(e,i);return Bne(n,-1*(s-i))}function qne(n){if(JL(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(a=>+a);return Hv(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Rne))return jne(r)}let e=new Date(n);if(!JL(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function jne(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,u,c),e}function JL(n){return n instanceof Date&&!isNaN(n.valueOf())}var F2=/\s+/,e5=[],Jp=(()=>{class n{_ngEl;_renderer;initialClasses=e5;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(F2):e5}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(F2):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(F2).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Le(Ar),Le(si))};static \u0275dir=_n({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var $v=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ai=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new $v(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),t5(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);t5(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Le(gu),Le(Zc),Le(R2))};static \u0275dir=_n({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function t5(n,e){n.context.$implicit=e.item}var En=(()=>{class n{_viewContainer;_context=new zv;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){n5(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){n5(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Le(gu),Le(Zc))};static \u0275dir=_n({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),zv=class{$implicit=null;ngIf=null};function n5(n,e){if(n&&!n.createEmbeddedView)throw new be(2020,!1)}function p5(n,e){return new be(2100,!1)}var U2=class{createSubscription(e,t){return Gi(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Gi(()=>e.unsubscribe())}},B2=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},Hne=new B2,$ne=new U2,ul=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(yu(t))return Hne;if(w2(t))return $ne;throw p5(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Le(Hi,16))};static \u0275pipe=v2({name:"async",type:n,pure:!1})}return n})();var zne="mediumDate",m5=new de(""),g5=new de(""),cl=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??zne,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return d5(t,o,s||this.locale,a)}catch(o){throw p5(n,o.message)}}static \u0275fac=function(r){return new(r||n)(Le(Zd,16),Le(m5,24),Le(g5,24))};static \u0275pipe=v2({name:"date",type:n,pure:!0})}return n})();var jt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ds({type:n});static \u0275inj=Ts({})}return n})();function q2(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Gv="browser",Wv="server";function pa(n){return n===Gv}function Kv(n){return n===Wv}var ll=class{};var Qv=(()=>{class n{static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new em})}return n})();var em=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}};var dl=new de(""),z2=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new be(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Ae(dl),Ae(_t))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),_u=class{_doc;constructor(e){this._doc=e}manager},Yv="ng-app-id";function y5(n){for(let e of n)e.remove()}function v5(n,e){let t=e.createElement("style");return t.textContent=n,t}function Gne(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Yv}="${e}"],link[${Yv}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Yv),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function H2(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var G2=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Kv(s),Gne(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,v5);r?.forEach(i=>this.addUsage(i,this.external,H2))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(y5(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])y5(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,v5(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,H2(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Yv,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Ae(ln),Ae(mu),Ae(Hp,8),Ae(zr))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),j2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},W2=/%COMP%/g;var _5="%COMP%",Wne=`_nghost-${_5}`,Kne=`_ngcontent-${_5}`,Qne=!0,Yne=new de("",{providedIn:"root",factory:()=>Qne});function Zne(n){return Kne.replace(W2,n)}function Xne(n){return Wne.replace(W2,n)}function E5(n,e){return e.map(t=>t.replace(W2,n))}var K2=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,u,c=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.tracingService=l,this.platformIsServer=Kv(a),this.defaultRenderer=new tm(t,o,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Es.ShadowDom&&(r=me(Q({},r),{encapsulation:Es.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Zv?i.applyToHost(t):i instanceof nm&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Es.Emulated:s=new Zv(u,c,r,this.appId,l,o,a,d,f);break;case Es.ShadowDom:return new $2(u,c,t,r,o,a,this.nonce,d,f);default:s=new nm(u,c,r,l,o,a,d,f);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Ae(z2),Ae(G2),Ae(mu),Ae(Yne),Ae(ln),Ae(zr),Ae(_t),Ae(Hp),Ae(Kd,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),tm=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(j2[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(b5(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(b5(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new be(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=j2[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=j2[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(aa.DashCase|aa.Important)?e.style.setProperty(t,r,i&aa.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&aa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Rr().getGlobalEventTarget(this.doc,e),!e))throw new be(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function b5(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var $2=class extends tm{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,u,c){super(e,s,o,u,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=i.styles;l=E5(i.id,l);for(let f of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=H2(f,s);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nm=class extends tm{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,u,c){super(e,s,o,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?E5(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zv=class extends nm{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,u,c){let l=i+"-"+r.id;super(e,t,r,s,o,a,u,c,l),this.contentAttr=Zne(l),this.hostAttr=Xne(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var fl=class n extends Wp{supportsDOMEvents=!0;static makeCurrent(){Kp(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Jne();return t==null?null:ere(t)}resetBaseElement(){rm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return q2(document.cookie,e)}},rm=null;function Jne(){return rm=rm||document.querySelector("base"),rm?rm.getAttribute("href"):null}function ere(n){return new URL(n,document.baseURI).pathname}var tre=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),S5=(()=>{class n extends _u{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(Ae(ln))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),w5=["alt","control","meta","shift"],nre={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rre={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},T5=(()=>{class n extends _u{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rr().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),w5.forEach(c=>{let l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=nre[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),w5.forEach(o=>{if(o!==i){let a=rre[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Ae(ln))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function Q2(n,e){return OL(Q({rootComponent:n},ire(e)))}function ire(n){return{appProviders:[...cre,...n?.providers??[]],platformProviders:ure}}function sre(){fl.makeCurrent()}function ore(){return new uo}function are(){return Ev(document),document}var ure=[{provide:zr,useValue:Gv},{provide:jp,useValue:sre,multi:!0},{provide:ln,useFactory:are}];var cre=[{provide:gv,useValue:"root"},{provide:uo,useFactory:ore},{provide:dl,useClass:S5,multi:!0,deps:[ln]},{provide:dl,useClass:T5,multi:!0,deps:[ln]},K2,G2,z2,{provide:qd,useExisting:K2},{provide:ll,useClass:tre},[]];var lre="X-Request-URL",dre="text/plain",fre="application/json",e6e=`${fre}, ${dre}, */*`;var Y2=new de("");var t6e=RegExp(`^${lre}:`,"m");var C5=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Ae(ln))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nt="primary",gm=Symbol("RouteTitle"),tI=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ml(n){return new tI(n)}function M5(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function mre(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ho(n[t],e[t]))return!1;return!0}function ho(n,e){let t=n?nI(n):void 0,r=e?nI(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!O5(n[i],e[i]))return!1;return!0}function nI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function O5(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function P5(n){return n.length>0?n[n.length-1]:null}function Cu(n){return eT(n)?n:yu(n)?Je(Promise.resolve(n)):xe(n)}var gre={exact:F5,subset:U5},L5={exact:yre,subset:vre,ignored:()=>!0};function I5(n,e,t){return gre[t.paths](n.root,e.root,t.matrixParams)&&L5[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function yre(n,e){return ho(n,e)}function F5(n,e,t){if(!hl(n.segments,e.segments)||!eb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!F5(n.children[r],e.children[r],t))return!1;return!0}function vre(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>O5(n[t],e[t]))}function U5(n,e,t){return B5(n,e,e.segments,t)}function B5(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!hl(i,t)||e.hasChildren()||!eb(i,t,r))}else if(n.segments.length===t.length){if(!hl(n.segments,t)||!eb(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!U5(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!hl(n.segments,i)||!eb(n.segments,i,r)||!n.children[nt]?!1:B5(n.children[nt],e,s,r)}}function eb(n,e,t){return e.every((r,i)=>L5[t](n[i].parameters,r.parameters))}var mo=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Pt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ml(this.queryParams),this._queryParamMap}toString(){return Ere.serialize(this)}},Pt=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tb(this)}},Eu=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ml(this.parameters),this._parameterMap}toString(){return q5(this)}};function bre(n,e){return hl(n,e)&&n.every((t,r)=>ho(t.parameters,e[r].parameters))}function hl(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function _re(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===nt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==nt&&(t=t.concat(e(i,r)))}),t}var gl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>new wu,providedIn:"root"})}return n})(),wu=class{parse(e){let t=new iI(e);return new mo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${im(e.root,!0)}`,r=Tre(e.queryParams),i=typeof e.fragment=="string"?`#${wre(e.fragment)}`:"";return`${t}${r}${i}`}},Ere=new wu;function tb(n){return n.segments.map(e=>q5(e)).join("/")}function im(n,e){if(!n.hasChildren())return tb(n);if(e){let t=n.children[nt]?im(n.children[nt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==nt&&r.push(`${i}:${im(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=_re(n,(r,i)=>i===nt?[im(n.children[nt],!1)]:[`${i}:${im(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[nt]!=null?`${tb(n)}/${t[0]}`:`${tb(n)}/(${t.join("//")})`}}function V5(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xv(n){return V5(n).replace(/%3B/gi,";")}function wre(n){return encodeURI(n)}function rI(n){return V5(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nb(n){return decodeURIComponent(n)}function D5(n){return nb(n.replace(/\+/g,"%20"))}function q5(n){return`${rI(n.path)}${Sre(n.parameters)}`}function Sre(n){return Object.entries(n).map(([e,t])=>`;${rI(e)}=${rI(t)}`).join("")}function Tre(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Xv(t)}=${Xv(i)}`).join("&"):`${Xv(t)}=${Xv(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Cre=/^[^\/()?;#]+/;function Z2(n){let e=n.match(Cre);return e?e[0]:""}var Ire=/^[^\/()?;=#]+/;function Dre(n){let e=n.match(Ire);return e?e[0]:""}var xre=/^[^=?&#]+/;function Are(n){let e=n.match(xre);return e?e[0]:""}var Nre=/^[^&#]+/;function Rre(n){let e=n.match(Nre);return e?e[0]:""}var iI=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[nt]=new Pt(e,t)),r}parseSegment(){let e=Z2(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new be(4009,!1);return this.capture(e),new Eu(nb(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Dre(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Z2(this.remaining);i&&(r=i,this.capture(r))}e[nb(t)]=nb(r)}parseQueryParam(e){let t=Are(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Rre(this.remaining);o&&(r=o,this.capture(r))}let i=D5(t),s=D5(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Z2(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new be(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=nt);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[nt]:new Pt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new be(4011,!1)}};function j5(n){return n.segments.length>0?new Pt([],{[nt]:n}):n}function H5(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=H5(i);if(r===nt&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Pt(n.segments,e);return kre(t)}function kre(n){if(n.numberOfChildren===1&&n.children[nt]){let e=n.children[nt];return new Pt(n.segments.concat(e.segments),e.children)}return n}function Su(n){return n instanceof mo}function $5(n,e,t=null,r=null){let i=z5(n);return G5(i,e,t,r)}function z5(n){let e;function t(s){let o={};for(let u of s.children){let c=t(u);o[u.outlet]=c}let a=new Pt(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=j5(r);return e??i}function G5(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return X2(i,i,i,t,r);let s=Mre(e);if(s.toRoot())return X2(i,i,new Pt([],{}),t,r);let o=Ore(s,i,n),a=o.processChildren?om(o.segmentGroup,o.index,s.commands):K5(o.segmentGroup,o.index,s.commands);return X2(i,o.segmentGroup,a,t,r)}function ib(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function um(n){return typeof n=="object"&&n!=null&&n.outlets}function X2(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let o;n===e?o=t:o=W5(n,e,t);let a=j5(H5(o));return new mo(a,s,i)}function W5(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=W5(s,e,t)}),new Pt(n.segments,r)}var sb=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ib(r[0]))throw new be(4003,!1);let i=r.find(um);if(i&&i!==P5(r))throw new be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Mre(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new sb(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new sb(t,e,r)}var rf=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Ore(n,e,t){if(n.isAbsolute)return new rf(e,!0,0);if(!t)return new rf(e,!1,NaN);if(t.parent===null)return new rf(t,!0,0);let r=ib(n.commands[0])?0:1,i=t.segments.length-1+r;return Pre(t,i,n.numberOfDoubleDots)}function Pre(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new be(4005,!1);i=r.segments.length}return new rf(r,!1,i-s)}function Lre(n){return um(n[0])?n[0].outlets:{[nt]:n}}function K5(n,e,t){if(n??=new Pt([],{}),n.segments.length===0&&n.hasChildren())return om(n,e,t);let r=Fre(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Pt(n.segments.slice(0,r.pathIndex),{});return s.children[nt]=new Pt(n.segments.slice(r.pathIndex),n.children),om(s,0,i)}else return r.match&&i.length===0?new Pt(n.segments,{}):r.match&&!n.hasChildren()?sI(n,e,t):r.match?om(n,0,i):sI(n,e,t)}function om(n,e,t){if(t.length===0)return new Pt(n.segments,{});{let r=Lre(t),i={};if(Object.keys(r).some(s=>s!==nt)&&n.children[nt]&&n.numberOfChildren===1&&n.children[nt].segments.length===0){let s=om(n.children[nt],e,t);return new Pt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=K5(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Pt(n.segments,i)}}function Fre(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(um(a))break;let u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!A5(u,c,o))return s;r+=2}else{if(!A5(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function sI(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(um(s)){let u=Ure(s.outlets);return new Pt(r,u)}if(i===0&&ib(t[0])){let u=n.segments[e];r.push(new Eu(u.path,x5(t[0]))),i++;continue}let o=um(s)?s.outlets[nt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&ib(a)?(r.push(new Eu(o,x5(a))),i+=2):(r.push(new Eu(o,{})),i++)}return new Pt(r,{})}function Ure(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=sI(new Pt([],{}),0,r))}),e}function x5(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function A5(n,e,t){return n==t.path&&ho(e,t.parameters)}var rb="imperative",rr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(rr||{}),Si=class{id;url;constructor(e,t){this.id=e,this.url=t}},Tu=class extends Si{type=rr.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ti=class extends Si{urlAfterRedirects;type=rr.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ui=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ui||{}),of=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(of||{}),po=class extends Si{reason;code;type=rr.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},go=class extends Si{reason;code;type=rr.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},af=class extends Si{error;target;type=rr.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cm=class extends Si{urlAfterRedirects;state;type=rr.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ob=class extends Si{urlAfterRedirects;state;type=rr.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ab=class extends Si{urlAfterRedirects;state;shouldActivate;type=rr.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ub=class extends Si{urlAfterRedirects;state;type=rr.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cb=class extends Si{urlAfterRedirects;state;type=rr.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lb=class{route;type=rr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},db=class{route;type=rr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fb=class{snapshot;type=rr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hb=class{snapshot;type=rr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pb=class{snapshot;type=rr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mb=class{snapshot;type=rr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uf=class{routerEvent;position;anchor;type=rr.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},lm=class{},cf=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Bre(n,e){return n.providers&&!n._injector&&(n._injector=zp(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ks(n){return n.outlet||nt}function Vre(n,e){let t=n.filter(r=>ks(r)===e);return t.push(...n.filter(r=>ks(r)!==e)),t}function ym(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var gb=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ym(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new yl(this.rootInjector)}},yl=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new gb(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Ae(Dr))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yb=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=oI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=oI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=aI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return aI(e,this._root).map(t=>t.value)}};function oI(n,e){if(n===e.value)return e;for(let t of e.children){let r=oI(n,t);if(r)return r}return null}function aI(n,e){if(n===e.value)return[e];for(let t of e.children){let r=aI(n,t);if(r.length)return r.unshift(e),r}return[]}var wi=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function nf(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var dm=class extends yb{snapshot;constructor(e,t){super(e),this.snapshot=t,mI(this,e)}toString(){return this.snapshot.toString()}};function Q5(n){let e=qre(n),t=new kn([new Eu("",{})]),r=new kn({}),i=new kn({}),s=new kn({}),o=new kn(""),a=new ci(t,r,s,o,i,nt,n,e.root);return a.snapshot=e.root,new dm(new wi(a,[]),e)}function qre(n){let e={},t={},r={},i="",s=new pl([],e,r,i,t,nt,n,null,{});return new fm("",new wi(s,[]))}var ci=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ve(c=>c[gm]))??xe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ve(e=>ml(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ve(e=>ml(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vb(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Q(Q({},e.params),n.params),data:Q(Q({},e.data),n.data),resolve:Q(Q(Q(Q({},n.data),e.data),i?.data),n._resolvedData)}:r={params:Q({},n.params),data:Q({},n.data),resolve:Q(Q({},n.data),n._resolvedData??{})},i&&Z5(i)&&(r.resolve[gm]=i.title),r}var pl=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[gm]}constructor(e,t,r,i,s,o,a,u,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ml(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ml(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},fm=class extends yb{url;constructor(e,t){super(t),this.url=e,mI(this,t)}toString(){return Y5(this._root)}};function mI(n,e){e.value._routerState=n,e.children.forEach(t=>mI(n,t))}function Y5(n){let e=n.children.length>0?` { ${n.children.map(Y5).join(", ")} } `:"";return`${n.value}${e}`}function J2(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ho(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ho(e.params,t.params)||n.paramsSubject.next(t.params),mre(e.url,t.url)||n.urlSubject.next(t.url),ho(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function uI(n,e){let t=ho(n.params,e.params)&&bre(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||uI(n.parent,e.parent))}function Z5(n){return typeof n.title=="string"||n.title===null}var X5=new de(""),vm=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=nt;activateEvents=new Vt;deactivateEvents=new Vt;attachEvents=new Vt;detachEvents=new Vt;routerOutletData=HP(void 0);parentContexts=z(yl);location=z(gu);changeDetector=z(Hi);inputBinder=z(bm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new be(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new be(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new cI(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=_n({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Is]})}return n})(),cI=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ci?this.route:e===yl?this.childContexts:e===X5?this.outletData:this.parent.get(e,t)}},bm=new de(""),gI=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Fc([r.queryParams,r.params,r.data]).pipe(Pn(([s,o,a],u)=>(a=Q(Q(Q({},s),o),a),u===0?xe(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=$L(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function jre(n,e,t){let r=hm(n,e._root,t?t._root:void 0);return new dm(r,e)}function hm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Hre(n,e,t);return new wi(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>hm(n,a)),o}}let r=$re(e.value),i=e.children.map(s=>hm(n,s));return new wi(r,i)}}function Hre(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return hm(n,r,i);return hm(n,r)})}function $re(n){return new ci(new kn(n.url),new kn(n.params),new kn(n.queryParams),new kn(n.fragment),new kn(n.data),n.outlet,n.component,n)}var lf=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},J5="ngNavigationCancelingError";function bb(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Su(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eF(!1,ui.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function eF(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[J5]=!0,t.cancellationCode=e,t}function zre(n){return tF(n)&&Su(n.url)}function tF(n){return!!n&&n[J5]}var Gre=(n,e,t,r)=>Ve(i=>(new lI(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),lI=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),J2(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=nf(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=nf(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=nf(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=nf(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new mb(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hb(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(J2(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),J2(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},_b=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},sf=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Wre(n,e,t){let r=n._root,i=e?e._root:null;return sm(r,i,t,[r.value])}function Kre(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ff(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!F8(n)?n:e.get(n):r}function sm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=nf(e);return n.children.forEach(o=>{Qre(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>am(a,t.getContext(o),i)),i}function Qre(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Yre(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _b(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?sm(n,e,a?a.children:null,r,i):sm(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sf(a.outlet.component,o))}else o&&am(e,a,i),i.canActivateChecks.push(new _b(r)),s.component?sm(n,null,a?a.children:null,r,i):sm(n,null,t,r,i);return i}function Yre(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!hl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hl(n.url,e.url)||!ho(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uI(n,e)||!ho(n.queryParams,e.queryParams);case"paramsChange":default:return!uI(n,e)}}function am(n,e,t){let r=nf(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?am(o,e.children.getContext(s),t):am(o,null,t):am(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new sf(e.outlet.component,i)):t.canDeactivateChecks.push(new sf(null,i)):t.canDeactivateChecks.push(new sf(null,i))}function _m(n){return typeof n=="function"}function Zre(n){return typeof n=="boolean"}function Xre(n){return n&&_m(n.canLoad)}function Jre(n){return n&&_m(n.canActivate)}function eie(n){return n&&_m(n.canActivateChild)}function tie(n){return n&&_m(n.canDeactivate)}function nie(n){return n&&_m(n.canMatch)}function nF(n){return n instanceof gs||n?.name==="EmptyError"}var Jv=Symbol("INITIAL_VALUE");function df(){return Pn(n=>Fc(n.map(e=>e.pipe(ys(1),Cy(Jv)))).pipe(Ve(e=>{for(let t of e)if(t!==!0){if(t===Jv)return Jv;if(t===!1||rie(t))return t}return!0}),ei(e=>e!==Jv),ys(1)))}function rie(n){return Su(n)||n instanceof lf}function iie(n,e){return Mn(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?xe(me(Q({},t),{guardsResult:!0})):sie(o,r,i,n).pipe(Mn(a=>a&&Zre(a)?oie(r,s,n,e):xe(a)),Ve(a=>me(Q({},t),{guardsResult:a})))})}function sie(n,e,t,r){return Je(n).pipe(Mn(i=>die(i.component,i.route,t,e,r)),ra(i=>i!==!0,!0))}function oie(n,e,t,r){return Je(e).pipe(ou(i=>xd(uie(i.route.parent,r),aie(i.route,r),lie(n,i.path,t),cie(n,i.route,t))),ra(i=>i!==!0,!0))}function aie(n,e){return n!==null&&e&&e(new pb(n)),xe(!0)}function uie(n,e){return n!==null&&e&&e(new fb(n)),xe(!0)}function cie(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return xe(!0);let i=r.map(s=>wy(()=>{let o=ym(e)??t,a=ff(s,o),u=Jre(a)?a.canActivate(e,n):nr(o,()=>a(e,n));return Cu(u).pipe(ra())}));return xe(i).pipe(df())}function lie(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Kre(o)).filter(o=>o!==null).map(o=>wy(()=>{let a=o.guards.map(u=>{let c=ym(o.node)??t,l=ff(u,c),d=eie(l)?l.canActivateChild(r,n):nr(c,()=>l(r,n));return Cu(d).pipe(ra())});return xe(a).pipe(df())}));return xe(s).pipe(df())}function die(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return xe(!0);let o=s.map(a=>{let u=ym(e)??i,c=ff(a,u),l=tie(c)?c.canDeactivate(n,e,t,r):nr(u,()=>c(n,e,t,r));return Cu(l).pipe(ra())});return xe(o).pipe(df())}function fie(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return xe(!0);let s=i.map(o=>{let a=ff(o,n),u=Xre(a)?a.canLoad(e,t):nr(n,()=>a(e,t));return Cu(u)});return xe(s).pipe(df(),rF(r))}function rF(n){return ry(yr(e=>{if(typeof e!="boolean")throw bb(n,e)}),Ve(e=>e===!0))}function hie(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return xe(!0);let s=i.map(o=>{let a=ff(o,n),u=nie(a)?a.canMatch(e,t):nr(n,()=>a(e,t));return Cu(u)});return xe(s).pipe(df(),rF(r))}var pm=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},mm=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function tf(n){return ms(new pm(n))}function pie(n){return ms(new be(4e3,!1))}function mie(n){return ms(eF(!1,ui.GuardRejected))}var dI=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return xe(r);if(i.numberOfChildren>1||!i.children[nt])return pie(`${e.redirectTo}`);i=i.children[nt]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:u,fragment:c,routeConfig:l,url:d,outlet:f,params:h,data:p,title:v}=i,T=nr(s,()=>a({params:h,data:p,queryParams:u,fragment:c,routeConfig:l,url:d,outlet:f,title:v}));if(T instanceof mo)throw new mm(T);t=T}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new mm(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new mo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Pt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new be(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},fI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gie(n,e,t,r,i){let s=iF(n,e,t);return s.matched?(r=Bre(e,r),hie(r,e,t,i).pipe(Ve(o=>o===!0?s:Q({},fI)))):xe(s)}function iF(n,e,t){if(e.path==="**")return yie(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Q({},fI):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||M5)(t,n,e);if(!i)return Q({},fI);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?Q(Q({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function yie(n){return{matched:!0,parameters:n.length>0?P5(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function N5(n,e,t,r){return t.length>0&&_ie(n,t,r)?{segmentGroup:new Pt(e,bie(r,new Pt(t,n.children))),slicedSegments:[]}:t.length===0&&Eie(n,t,r)?{segmentGroup:new Pt(n.segments,vie(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Pt(n.segments,n.children),slicedSegments:t}}function vie(n,e,t,r){let i={};for(let s of t)if(wb(n,e,s)&&!r[ks(s)]){let o=new Pt([],{});i[ks(s)]=o}return Q(Q({},r),i)}function bie(n,e){let t={};t[nt]=e;for(let r of n)if(r.path===""&&ks(r)!==nt){let i=new Pt([],{});t[ks(r)]=i}return t}function _ie(n,e,t){return t.some(r=>wb(n,e,r)&&ks(r)!==nt)}function Eie(n,e,t){return t.some(r=>wb(n,e,r))}function wb(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function wie(n,e,t){return e.length===0&&!n.children[t]}var hI=class{};function Sie(n,e,t,r,i,s,o="emptyOnly"){return new pI(n,e,t,r,i,o,s).recognize()}var Tie=31,pI=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new dI(this.urlSerializer,this.urlTree)}noMatchError(e){return new be(4002,`'${e.segmentGroup}'`)}recognize(){let e=N5(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ve(({children:t,rootSnapshot:r})=>{let i=new wi(r,t),s=new fm("",i),o=$5(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new pl([],Object.freeze({}),Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),nt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,nt,t).pipe(Ve(r=>({children:r,rootSnapshot:t})),On(r=>{if(r instanceof mm)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof pm?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(Ve(o=>o instanceof wi?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Je(s).pipe(ou(o=>{let a=r.children[o],u=Vre(t,o);return this.processSegmentGroup(e,u,a,o,i)}),Ty((o,a)=>(o.push(...a),o)),au(null),nT(),Mn(o=>{if(o===null)return tf(r);let a=sF(o);return Cie(a),xe(a)}))}processSegment(e,t,r,i,s,o,a){return Je(t).pipe(ou(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,a).pipe(On(c=>{if(c instanceof pm)return xe(null);throw c}))),ra(u=>!!u),On(u=>{if(nF(u))return wie(r,i,s)?xe(new hI):tf(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,u){return ks(r)!==o&&(o===nt||!wb(i,s,r))?tf(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):tf(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:u,parameters:c,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=iF(t,i,s);if(!u)return tf(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Tie&&(this.allowRedirects=!1));let h=new pl(s,c,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,R5(i),ks(i),i.component??i._loadedComponent??null,i,k5(i)),p=vb(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let v=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Mn(T=>this.processSegment(e,r,t,T.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=gie(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Pn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Pn(({routes:c})=>{let l=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=u,p=new pl(f,d,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,R5(r),ks(r),r.component??r._loadedComponent??null,r,k5(r)),v=vb(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(v.params),p.data=Object.freeze(v.data);let{segmentGroup:T,slicedSegments:w}=N5(t,f,h,c);if(w.length===0&&T.hasChildren())return this.processChildren(l,c,T,p).pipe(Ve(D=>new wi(p,D)));if(c.length===0&&w.length===0)return xe(new wi(p,[]));let C=ks(r)===s;return this.processSegment(l,c,T,w,C?nt:s,!0,p).pipe(Ve(D=>new wi(p,D instanceof wi?[D]:[])))}))):tf(t)))}getChildConfig(e,t,r){return t.children?xe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?xe({routes:t._loadedRoutes,injector:t._loadedInjector}):fie(e,t,r,this.urlSerializer).pipe(Mn(i=>i?this.configLoader.loadChildren(e,t).pipe(yr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):mie(t))):xe({routes:[],injector:e})}};function Cie(n){n.sort((e,t)=>e.value.outlet===nt?-1:t.value.outlet===nt?1:e.value.outlet.localeCompare(t.value.outlet))}function Iie(n){let e=n.value.routeConfig;return e&&e.path===""}function sF(n){let e=[],t=new Set;for(let r of n){if(!Iie(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=sF(r.children);e.push(new wi(r.value,i))}return e.filter(r=>!t.has(r))}function R5(n){return n.data||{}}function k5(n){return n.resolve||{}}function Die(n,e,t,r,i,s){return Mn(o=>Sie(n,e,t,r,o.extractedUrl,i,s).pipe(Ve(({state:a,tree:u})=>me(Q({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function xie(n,e){return Mn(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return xe(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of oF(u))o.add(c);let a=0;return Je(o).pipe(ou(u=>s.has(u)?Aie(u,r,n,e):(u.data=vb(u,u.parent,n).resolve,xe(void 0))),yr(()=>a++),Ad(1),Mn(u=>a===o.size?xe(t):Xr))})}function oF(n){let e=n.children.map(t=>oF(t)).flat();return[n,...e]}function Aie(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Z5(i)&&(s[gm]=i.title),Nie(s,n,e,r).pipe(Ve(o=>(n._resolvedData=o,n.data=vb(n,n.parent,t).resolve,null)))}function Nie(n,e,t,r){let i=nI(n);if(i.length===0)return xe({});let s={};return Je(i).pipe(Mn(o=>Rie(n[o],e,t,r).pipe(ra(),yr(a=>{if(a instanceof lf)throw bb(new wu,a);s[o]=a}))),Ad(1),Ve(()=>s),On(o=>nF(o)?Xr:ms(o)))}function Rie(n,e,t,r){let i=ym(e)??r,s=ff(n,i),o=s.resolve?s.resolve(e,t):nr(i,()=>s(e,t));return Cu(o)}function eI(n){return Pn(e=>{let t=n(e);return t?Je(t).pipe(Ve(()=>e)):xe(e)})}var yI=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===nt);return r}getResolvedTitleForRoute(t){return t.data[gm]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>z(aF),providedIn:"root"})}return n})(),aF=(()=>{class n extends yI{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Ae(C5))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vl=new de("",{providedIn:"root",factory:()=>({})}),vI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ne(0,"router-outlet")},dependencies:[vm],encapsulation:2})}return n})();function bI(n){let e=n.children&&n.children.map(bI),t=e?me(Q({},n),{children:e}):Q({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nt&&(t.component=vI),t}var Iu=new de(""),Sb=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=z(Mv);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Cu(t.loadComponent()).pipe(Ve(uF),yr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),pp(()=>{this.componentLoaders.delete(t)})),i=new Td(r,()=>new bn).pipe(Sd());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return xe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Tb(r,this.compiler,t,this.onLoadEndListener).pipe(pp(()=>{this.childrenLoaders.delete(r)})),o=new Td(s,()=>new bn).pipe(Sd());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tb(n,e,t,r){return Cu(n.loadChildren()).pipe(Ve(uF),Mn(i=>i instanceof y2||Array.isArray(i)?xe(i):Je(e.compileModuleAsync(i))),Ve(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(Iu,[],{optional:!0,self:!0}).flat()),{routes:o.map(bI),injector:s}}))}function kie(n){return n&&typeof n=="object"&&"default"in n}function uF(n){return kie(n)?n.default:n}var Cb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>z(Mie),providedIn:"root"})}return n})(),Mie=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_I=new de(""),EI=new de("");function cF(n,e,t){let r=n.get(EI),i=n.get(ln);return n.get(_t).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),Oie(n))),{onViewTransitionCreated:u}=r;return u&&nr(n,()=>u({transition:a,from:e,to:t})),o})}function Oie(n){return new Promise(e=>{ZC({read:()=>setTimeout(e)},{injector:n})})}var wI=new de(""),Ib=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new bn;transitionAbortSubject=new bn;configLoader=z(Sb);environmentInjector=z(Dr);destroyRef=z(tl);urlSerializer=z(gl);rootContexts=z(yl);location=z(bu);inputBindingEnabled=z(bm,{optional:!0})!==null;titleStrategy=z(yI);options=z(vl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=z(Cb);createViewTransition=z(_I,{optional:!0});navigationErrorHandler=z(wI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>xe(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new lb(i)),r=i=>this.events.next(new db(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(me(Q({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new kn(null),this.transitions.pipe(ei(r=>r!==null),Pn(r=>{let i=!1,s=!1;return xe(r).pipe(Pn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ui.SupersededByNewNavigation),Xr;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?me(Q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let c="";return this.events.next(new go(o.id,this.urlSerializer.serialize(o.rawUrl),c,of.IgnoredSameUrlNavigation)),o.resolve(!1),Xr}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return xe(o).pipe(Pn(c=>(this.events.next(new Tu(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Xr:Promise.resolve(c))),Die(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),yr(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=me(Q({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new cm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:f,extras:h}=o,p=new Tu(c,this.urlSerializer.serialize(l),d,f);this.events.next(p);let v=Q5(this.rootComponentType).snapshot;return this.currentTransition=r=me(Q({},o),{targetSnapshot:v,urlAfterRedirects:l,extras:me(Q({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,xe(r)}else{let c="";return this.events.next(new go(o.id,this.urlSerializer.serialize(o.extractedUrl),c,of.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Xr}}),yr(o=>{let a=new ob(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ve(o=>(this.currentTransition=r=me(Q({},o),{guards:Wre(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),iie(this.environmentInjector,o=>this.events.next(o)),yr(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw bb(this.urlSerializer,o.guardsResult);let a=new ab(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),ei(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ui.GuardRejected),!1)),eI(o=>{if(o.guards.canActivateChecks.length!==0)return xe(o).pipe(yr(a=>{let u=new ub(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Pn(a=>{let u=!1;return xe(a).pipe(xie(this.paramsInheritanceStrategy,this.environmentInjector),yr({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",ui.NoDataFromResolver)}}))}),yr(a=>{let u=new cb(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),eI(o=>{let a=u=>{let c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(yr(l=>{u.component=l}),Ve(()=>{})));for(let l of u.children)c.push(...a(l));return c};return Fc(a(o.targetSnapshot.root)).pipe(au(null),ys(1))}),eI(()=>this.afterPreactivation()),Pn(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return u?Je(u).pipe(Ve(()=>r)):xe(r)}),Ve(o=>{let a=jre(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=me(Q({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),yr(()=>{this.events.next(new lm)}),Gre(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ys(1),yr({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ti(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),rT(this.transitionAbortSubject.pipe(yr(o=>{throw o}))),pp(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",ui.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),On(o=>{if(this.destroyed)return r.resolve(!1),Xr;if(s=!0,tF(o))this.events.next(new po(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),zre(o)?this.events.next(new cf(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new af(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let u=nr(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof lf){let{message:c,cancellationCode:l}=bb(this.urlSerializer,u);this.events.next(new po(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new cf(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Xr}))}))}cancelNavigationTransition(t,r,i){let s=new po(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pie(n){return n!==rb}var lF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>z(Lie),providedIn:"root"})}return n})(),Eb=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Lie=(()=>{class n extends Eb{static \u0275fac=(()=>{let t;return function(i){return(t||(t=el(n)))(i||n)}})();static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dF=(()=>{class n{urlSerializer=z(gl);options=z(vl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=z(bu);urlHandlingStrategy=z(Cb);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new mo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof mo?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Q5(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>z(Fie),providedIn:"root"})}return n})(),Fie=(()=>{class n extends dF{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Tu?this.updateStateMemento():t instanceof go?this.commitTransition(r):t instanceof cm?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof lm?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof po&&(t.code===ui.GuardRejected||t.code===ui.NoDataFromResolver)?this.restoreHistory(r):t instanceof af?this.restoreHistory(r,!0):t instanceof Ti&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,u=Q(Q({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=Q(Q({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=el(n)))(i||n)}})();static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Db(n,e){n.events.pipe(ei(t=>t instanceof Ti||t instanceof po||t instanceof af||t instanceof go),Ve(t=>t instanceof Ti||t instanceof go?0:(t instanceof po?t.code===ui.Redirect||t.code===ui.SupersededByNewNavigation:!1)?2:1),ei(t=>t!==2),ys(1)).subscribe(()=>{e()})}var Uie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ft=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=z(Qd);stateManager=z(dF);options=z(vl,{optional:!0})||{};pendingTasks=z(pu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=z(Ib);urlSerializer=z(gl);location=z(bu);urlHandlingStrategy=z(Cb);_events=new bn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=z(lF);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=z(Iu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!z(bm,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new In;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof po&&r.code!==ui.Redirect&&r.code!==ui.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ti)this.navigated=!0;else if(r instanceof cf){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=Q({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Pie(i.source)},o);this.scheduleNavigation(a,rb,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}qie(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rb,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=Q({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(bI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=Q(Q({},this.currentUrlTree.queryParams),s);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=z5(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return G5(d,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Su(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,rb,null,r)}navigate(t,r={skipLocationChange:!1}){return Vie(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=Q({},Uie):r===!1?i=Q({},Bie):i=r,Su(t))return I5(this.currentUrlTree,t,i);let s=this.parseUrl(t);return I5(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,f)=>{a=d,u=f});let l=this.pendingTasks.add();return Db(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vie(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new be(4008,!1)}function qie(n){return!(n instanceof lm)&&!(n instanceof cf)}var Mr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new bn;constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Su(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:l4(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Su(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Le(ft),Le(ci),GC("tabindex"),Le(si),Le(Ar),Le(Ns))};static \u0275dir=_n({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&he("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&kv("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Xd],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Xd],replaceUrl:[2,"replaceUrl","replaceUrl",Xd],routerLink:"routerLink"},features:[Is]})}return n})(),TI=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Vt;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Ti&&this.update()})}ngAfterContentInit(){xe(this.links.changes,xe(null)).pipe(su()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Je(t).pipe(su()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=jie(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Le(ft),Le(Ar),Le(si),Le(Hi),Le(Mr,8))};static \u0275dir=_n({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&vL(s,Mr,5),r&2){let o;il(o=sl())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Is]})}return n})();function jie(n){return!!n.paths}var Em=class{};var fF=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ei(t=>t instanceof Ti),ou(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=zp(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Je(i).pipe(su())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=xe(null);let s=i.pipe(Mn(o=>o===null?xe(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Je([s,o]).pipe(su())}else return s})}static \u0275fac=function(r){return new(r||n)(Ae(ft),Ae(Dr),Ae(Em),Ae(Sb))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hF=new de(""),Hie=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Tu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ti?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof go&&t.code===of.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof uf&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uf(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){j4()};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function CI(n,...e){return xr([{provide:Iu,multi:!0,useValue:n},[],{provide:ci,useFactory:pF,deps:[ft]},{provide:Rv,multi:!0,useFactory:mF},e.map(t=>t.\u0275providers)])}function pF(n){return n.routerState.root}function wm(n,e){return{\u0275kind:n,\u0275providers:e}}function mF(){let n=z(Nt);return e=>{let t=n.get(Ss);if(e!==t.components[0])return;let r=n.get(ft),i=n.get(gF);n.get(II)===1&&r.initialNavigation(),n.get(bF,null,dt.Optional)?.setUpPreloading(),n.get(hF,null,dt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gF=new de("",{factory:()=>new bn}),II=new de("",{providedIn:"root",factory:()=>1});function yF(){let n=[{provide:II,useValue:0},S2(()=>{let e=z(Nt);return e.get(M2,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(ft),s=e.get(gF);Db(i,()=>{r(!0)}),e.get(Ib).afterPreactivation=()=>(r(!0),s.closed?xe(void 0):s),i.initialNavigation()}))})];return wm(2,n)}function vF(){let n=[S2(()=>{z(ft).setUpLocationChangeListener()}),{provide:II,useValue:2}];return wm(3,n)}var bF=new de("");function _F(n){return wm(0,[{provide:bF,useExisting:fF},{provide:Em,useExisting:n}])}function EF(){return wm(8,[gI,{provide:bm,useExisting:gI}])}function wF(n){nl("NgRouterViewTransitions");let e=[{provide:_I,useValue:cF},{provide:EI,useValue:Q({skipNextTransition:!!n?.skipInitialTransition},n)}];return wm(9,e)}var SF=[bu,{provide:gl,useClass:wu},ft,yl,{provide:ci,useFactory:pF,deps:[ft]},Sb,[]],ir=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[SF,[],{provide:Iu,multi:!0,useValue:t},[],r?.errorHandler?{provide:wI,useValue:r.errorHandler}:[],{provide:vl,useValue:r||{}},r?.useHash?zie():Gie(),$ie(),r?.preloadingStrategy?_F(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Wie(r):[],r?.bindToComponentInputs?EF().\u0275providers:[],r?.enableViewTransitions?wF().\u0275providers:[],Kie()]}}static forChild(t){return{ngModule:n,providers:[{provide:Iu,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ds({type:n});static \u0275inj=Ts({})}return n})();function $ie(){return{provide:hF,useFactory:()=>{let n=z(Qv),e=z(_t),t=z(vl),r=z(Ib),i=z(gl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Hie(i,r,n,e,t)}}}function zie(){return{provide:Ns,useClass:V2}}function Gie(){return{provide:Ns,useClass:Fv}}function Wie(n){return[n.initialNavigation==="disabled"?vF().\u0275providers:[],n.initialNavigation==="enabledBlocking"?yF().\u0275providers:[]]}var SI=new de("");function Kie(){return[{provide:SI,useFactory:mF},{provide:Rv,multi:!0,useExisting:SI}]}var Qie=Object.getOwnPropertyNames,Ue=(n,e)=>function(){return e||(0,n[Qie(n)[0]])((e={exports:{}}).exports,e),e.exports},Sm=Ue({"external/npm/node_modules/domino/lib/Event.js"(n,e){e.exports=t,t.CAPTURING_PHASE=1,t.AT_TARGET=2,t.BUBBLING_PHASE=3;function t(r,i){if(this.type="",this.target=null,this.currentTarget=null,this.eventPhase=t.AT_TARGET,this.bubbles=!1,this.cancelable=!1,this.isTrusted=!1,this.defaultPrevented=!1,this.timeStamp=Date.now(),this._propagationStopped=!1,this._immediatePropagationStopped=!1,this._initialized=!0,this._dispatching=!1,r&&(this.type=r),i)for(var s in i)this[s]=i[s]}t.prototype=Object.create(Object.prototype,{constructor:{value:t},stopPropagation:{value:function(){this._propagationStopped=!0}},stopImmediatePropagation:{value:function(){this._propagationStopped=!0,this._immediatePropagationStopped=!0}},preventDefault:{value:function(){this.cancelable&&(this.defaultPrevented=!0)}},initEvent:{value:function(i,s,o){this._initialized=!0,!this._dispatching&&(this._propagationStopped=!1,this._immediatePropagationStopped=!1,this.defaultPrevented=!1,this.isTrusted=!1,this.target=null,this.type=i,this.bubbles=s,this.cancelable=o)}}})}}),IF=Ue({"external/npm/node_modules/domino/lib/UIEvent.js"(n,e){var t=Sm();e.exports=r;function r(){t.call(this),this.view=null,this.detail=0}r.prototype=Object.create(t.prototype,{constructor:{value:r},initUIEvent:{value:function(i,s,o,a,u){this.initEvent(i,s,o),this.view=a,this.detail=u}}})}}),DF=Ue({"external/npm/node_modules/domino/lib/MouseEvent.js"(n,e){var t=IF();e.exports=r;function r(){t.call(this),this.screenX=this.screenY=this.clientX=this.clientY=0,this.ctrlKey=this.altKey=this.shiftKey=this.metaKey=!1,this.button=0,this.buttons=1,this.relatedTarget=null}r.prototype=Object.create(t.prototype,{constructor:{value:r},initMouseEvent:{value:function(i,s,o,a,u,c,l,d,f,h,p,v,T,w,C){switch(this.initEvent(i,s,o,a,u),this.screenX=c,this.screenY=l,this.clientX=d,this.clientY=f,this.ctrlKey=h,this.altKey=p,this.shiftKey=v,this.metaKey=T,this.button=w,w){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2;break;default:this.buttons=0;break}this.relatedTarget=C}},getModifierState:{value:function(i){switch(i){case"Alt":return this.altKey;case"Control":return this.ctrlKey;case"Shift":return this.shiftKey;case"Meta":return this.metaKey;default:return!1}}}})}}),DI=Ue({"external/npm/node_modules/domino/lib/DOMException.js"(n,e){e.exports=_;var t=1,r=3,i=4,s=5,o=7,a=8,u=9,c=11,l=12,d=13,f=14,h=15,p=17,v=18,T=19,w=20,C=21,D=22,S=23,x=24,V=25,R=[null,"INDEX_SIZE_ERR",null,"HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR",null,"NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR",null,"TYPE_MISMATCH_ERR","SECURITY_ERR","NETWORK_ERR","ABORT_ERR","URL_MISMATCH_ERR","QUOTA_EXCEEDED_ERR","TIMEOUT_ERR","INVALID_NODE_TYPE_ERR","DATA_CLONE_ERR"],A=[null,"INDEX_SIZE_ERR (1): the index is not in the allowed range",null,"HIERARCHY_REQUEST_ERR (3): the operation would yield an incorrect nodes model","WRONG_DOCUMENT_ERR (4): the object is in the wrong Document, a call to importNode is required","INVALID_CHARACTER_ERR (5): the string contains invalid characters",null,"NO_MODIFICATION_ALLOWED_ERR (7): the object can not be modified","NOT_FOUND_ERR (8): the object can not be found here","NOT_SUPPORTED_ERR (9): this operation is not supported","INUSE_ATTRIBUTE_ERR (10): setAttributeNode called on owned Attribute","INVALID_STATE_ERR (11): the object is in an invalid state","SYNTAX_ERR (12): the string did not match the expected pattern","INVALID_MODIFICATION_ERR (13): the object can not be modified in this way","NAMESPACE_ERR (14): the operation is not allowed by Namespaces in XML","INVALID_ACCESS_ERR (15): the object does not support the operation or argument",null,"TYPE_MISMATCH_ERR (17): the type of the object does not match the expected type","SECURITY_ERR (18): the operation is insecure","NETWORK_ERR (19): a network error occurred","ABORT_ERR (20): the user aborted an operation","URL_MISMATCH_ERR (21): the given URL does not match another URL","QUOTA_EXCEEDED_ERR (22): the quota has been exceeded","TIMEOUT_ERR (23): a timeout occurred","INVALID_NODE_TYPE_ERR (24): the supplied node is invalid or has an invalid ancestor for this operation","DATA_CLONE_ERR (25): the object can not be cloned."],N={INDEX_SIZE_ERR:t,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:r,WRONG_DOCUMENT_ERR:i,INVALID_CHARACTER_ERR:s,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:o,NOT_FOUND_ERR:a,NOT_SUPPORTED_ERR:u,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:c,SYNTAX_ERR:l,INVALID_MODIFICATION_ERR:d,NAMESPACE_ERR:f,INVALID_ACCESS_ERR:h,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:p,SECURITY_ERR:v,NETWORK_ERR:T,ABORT_ERR:w,URL_MISMATCH_ERR:C,QUOTA_EXCEEDED_ERR:D,TIMEOUT_ERR:S,INVALID_NODE_TYPE_ERR:x,DATA_CLONE_ERR:V};function _(g){Error.call(this),Error.captureStackTrace(this,this.constructor),this.code=g,this.message=A[g],this.name=R[g]}_.prototype.__proto__=Error.prototype;for(L in N)I={value:N[L]},Object.defineProperty(_,L,I),Object.defineProperty(_.prototype,L,I);var I,L}}),xI=Ue({"external/npm/node_modules/domino/lib/config.js"(n){n.isApiWritable=!globalThis.__domino_frozen__}}),Bn=Ue({"external/npm/node_modules/domino/lib/utils.js"(n){var e=DI(),t=e,r=xI().isApiWritable;n.NAMESPACE={HTML:"http://www.w3.org/1999/xhtml",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink"},n.IndexSizeError=function(){throw new e(t.INDEX_SIZE_ERR)},n.HierarchyRequestError=function(){throw new e(t.HIERARCHY_REQUEST_ERR)},n.WrongDocumentError=function(){throw new e(t.WRONG_DOCUMENT_ERR)},n.InvalidCharacterError=function(){throw new e(t.INVALID_CHARACTER_ERR)},n.NoModificationAllowedError=function(){throw new e(t.NO_MODIFICATION_ALLOWED_ERR)},n.NotFoundError=function(){throw new e(t.NOT_FOUND_ERR)},n.NotSupportedError=function(){throw new e(t.NOT_SUPPORTED_ERR)},n.InvalidStateError=function(){throw new e(t.INVALID_STATE_ERR)},n.SyntaxError=function(){throw new e(t.SYNTAX_ERR)},n.InvalidModificationError=function(){throw new e(t.INVALID_MODIFICATION_ERR)},n.NamespaceError=function(){throw new e(t.NAMESPACE_ERR)},n.InvalidAccessError=function(){throw new e(t.INVALID_ACCESS_ERR)},n.TypeMismatchError=function(){throw new e(t.TYPE_MISMATCH_ERR)},n.SecurityError=function(){throw new e(t.SECURITY_ERR)},n.NetworkError=function(){throw new e(t.NETWORK_ERR)},n.AbortError=function(){throw new e(t.ABORT_ERR)},n.UrlMismatchError=function(){throw new e(t.URL_MISMATCH_ERR)},n.QuotaExceededError=function(){throw new e(t.QUOTA_EXCEEDED_ERR)},n.TimeoutError=function(){throw new e(t.TIMEOUT_ERR)},n.InvalidNodeTypeError=function(){throw new e(t.INVALID_NODE_TYPE_ERR)},n.DataCloneError=function(){throw new e(t.DATA_CLONE_ERR)},n.nyi=function(){throw new Error("NotYetImplemented")},n.shouldOverride=function(){throw new Error("Abstract function; should be overriding in subclass.")},n.assert=function(i,s){if(!i)throw new Error("Assertion failed: "+(s||"")+`
`+new Error().stack)},n.expose=function(i,s){for(var o in i)Object.defineProperty(s.prototype,o,{value:i[o],writable:r})},n.merge=function(i,s){for(var o in s)i[o]=s[o]},n.documentOrder=function(i,s){return 3-(i.compareDocumentPosition(s)&6)},n.toASCIILowerCase=function(i){return i.replace(/[A-Z]+/g,function(s){return s.toLowerCase()})},n.toASCIIUpperCase=function(i){return i.replace(/[a-z]+/g,function(s){return s.toUpperCase()})}}}),xF=Ue({"external/npm/node_modules/domino/lib/EventTarget.js"(n,e){var t=Sm(),r=DF(),i=Bn();e.exports=s;function s(){}s.prototype={addEventListener:function(a,u,c){if(u){c===void 0&&(c=!1),this._listeners||(this._listeners=Object.create(null)),this._listeners[a]||(this._listeners[a]=[]);for(var l=this._listeners[a],d=0,f=l.length;d<f;d++){var h=l[d];if(h.listener===u&&h.capture===c)return}var p={listener:u,capture:c};typeof u=="function"&&(p.f=u),l.push(p)}},removeEventListener:function(a,u,c){if(c===void 0&&(c=!1),this._listeners){var l=this._listeners[a];if(l)for(var d=0,f=l.length;d<f;d++){var h=l[d];if(h.listener===u&&h.capture===c){l.length===1?this._listeners[a]=void 0:l.splice(d,1);return}}}},dispatchEvent:function(a){return this._dispatchEvent(a,!1)},_dispatchEvent:function(a,u){typeof u!="boolean"&&(u=!1);function c(v,T){var w=T.type,C=T.eventPhase;if(T.currentTarget=v,C!==t.CAPTURING_PHASE&&v._handlers&&v._handlers[w]){var D=v._handlers[w],S;if(typeof D=="function")S=D.call(T.currentTarget,T);else{var x=D.handleEvent;if(typeof x!="function")throw new TypeError("handleEvent property of event handler object isnot a function.");S=x.call(D,T)}switch(T.type){case"mouseover":S===!0&&T.preventDefault();break;case"beforeunload":default:S===!1&&T.preventDefault();break}}var V=v._listeners&&v._listeners[w];if(V){V=V.slice();for(var R=0,A=V.length;R<A;R++){if(T._immediatePropagationStopped)return;var N=V[R];if(!(C===t.CAPTURING_PHASE&&!N.capture||C===t.BUBBLING_PHASE&&N.capture))if(N.f)N.f.call(T.currentTarget,T);else{var _=N.listener.handleEvent;if(typeof _!="function")throw new TypeError("handleEvent property of event listener object is not a function.");_.call(N.listener,T)}}}}(!a._initialized||a._dispatching)&&i.InvalidStateError(),a.isTrusted=u,a._dispatching=!0,a.target=this;for(var l=[],d=this.parentNode;d;d=d.parentNode)l.push(d);a.eventPhase=t.CAPTURING_PHASE;for(var f=l.length-1;f>=0&&(c(l[f],a),!a._propagationStopped);f--);if(a._propagationStopped||(a.eventPhase=t.AT_TARGET,c(this,a)),a.bubbles&&!a._propagationStopped){a.eventPhase=t.BUBBLING_PHASE;for(var h=0,p=l.length;h<p&&(c(l[h],a),!a._propagationStopped);h++);}if(a._dispatching=!1,a.eventPhase=t.AT_TARGET,a.currentTarget=null,u&&!a.defaultPrevented&&a instanceof r)switch(a.type){case"mousedown":this._armed={x:a.clientX,y:a.clientY,t:a.timeStamp};break;case"mouseout":case"mouseover":this._armed=null;break;case"mouseup":this._isClick(a)&&this._doClick(a),this._armed=null;break}return!a.defaultPrevented},_isClick:function(o){return this._armed!==null&&o.type==="mouseup"&&o.isTrusted&&o.button===0&&o.timeStamp-this._armed.t<1e3&&Math.abs(o.clientX-this._armed.x)<10&&Math.abs(o.clientY-this._armed.Y)<10},_doClick:function(o){if(!this._click_in_progress){this._click_in_progress=!0;for(var a=this;a&&!a._post_click_activation_steps;)a=a.parentNode;a&&a._pre_click_activation_steps&&a._pre_click_activation_steps();var u=this.ownerDocument.createEvent("MouseEvent");u.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,null);var c=this._dispatchEvent(u,!0);a&&(c?a._post_click_activation_steps&&a._post_click_activation_steps(u):a._cancelled_activation_steps&&a._cancelled_activation_steps())}},_setEventHandler:function(a,u){this._handlers||(this._handlers=Object.create(null)),this._handlers[a]=u},_getEventHandler:function(a){return this._handlers&&this._handlers[a]||null}}}}),AF=Ue({"external/npm/node_modules/domino/lib/LinkedList.js"(n,e){var t=Bn(),r=e.exports={valid:function(i){return t.assert(i,"list falsy"),t.assert(i._previousSibling,"previous falsy"),t.assert(i._nextSibling,"next falsy"),!0},insertBefore:function(i,s){t.assert(r.valid(i)&&r.valid(s));var o=i,a=i._previousSibling,u=s,c=s._previousSibling;o._previousSibling=c,a._nextSibling=u,c._nextSibling=o,u._previousSibling=a,t.assert(r.valid(i)&&r.valid(s))},replace:function(i,s){t.assert(r.valid(i)&&(s===null||r.valid(s))),s!==null&&r.insertBefore(s,i),r.remove(i),t.assert(r.valid(i)&&(s===null||r.valid(s)))},remove:function(i){t.assert(r.valid(i));var s=i._previousSibling;if(s!==i){var o=i._nextSibling;s._nextSibling=o,o._previousSibling=s,i._previousSibling=i._nextSibling=i,t.assert(r.valid(i))}}}}}),NF=Ue({"external/npm/node_modules/domino/lib/NodeUtils.js"(n,e){e.exports={serializeOne:T,\u0275escapeMatchingClosingTag:f,\u0275escapeClosingCommentTag:p,\u0275escapeProcessingInstructionContent:v};var t=Bn(),r=t.NAMESPACE,i={STYLE:!0,SCRIPT:!0,XMP:!0,IFRAME:!0,NOEMBED:!0,NOFRAMES:!0,PLAINTEXT:!0},s={area:!0,base:!0,basefont:!0,bgsound:!0,br:!0,col:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},o={},a=/[&<>\u00A0]/g,u=/[&"<>\u00A0]/g;function c(w){return a.test(w)?w.replace(a,C=>{switch(C){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case"\xA0":return"&nbsp;"}}):w}function l(w){return u.test(w)?w.replace(u,C=>{switch(C){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;";case"\xA0":return"&nbsp;"}}):w}function d(w){var C=w.namespaceURI;return C?C===r.XML?"xml:"+w.localName:C===r.XLINK?"xlink:"+w.localName:C===r.XMLNS?w.localName==="xmlns"?"xmlns":"xmlns:"+w.localName:w.name:w.localName}function f(w,C){let D="</"+C;if(!w.toLowerCase().includes(D))return w;let S=[...w],x=w.matchAll(new RegExp(D,"ig"));for(let V of x)S[V.index]="&lt;";return S.join("")}var h=/--!?>/;function p(w){return h.test(w)?w.replace(/(--\!?)>/g,"$1&gt;"):w}function v(w){return w.includes(">")?w.replaceAll(">","&gt;"):w}function T(w,C){var D="";switch(w.nodeType){case 1:var S=w.namespaceURI,x=S===r.HTML,V=x||S===r.SVG||S===r.MATHML?w.localName:w.tagName;D+="<"+V;for(var R=0,A=w._numattrs;R<A;R++){var N=w._attr(R);D+=" "+d(N),N.value!==void 0&&(D+='="'+l(N.value)+'"')}if(D+=">",!(x&&s[V])){var _=w.serialize();i[V.toUpperCase()]&&(_=f(_,V)),x&&o[V]&&_.charAt(0)===`
`&&(D+=`
`),D+=_,D+="</"+V+">"}break;case 3:case 4:var I;C.nodeType===1&&C.namespaceURI===r.HTML?I=C.tagName:I="",i[I]||I==="NOSCRIPT"&&C.ownerDocument._scripting_enabled?D+=w.data:D+=c(w.data);break;case 8:D+="<!--"+p(w.data)+"-->";break;case 7:let L=v(w.data);D+="<?"+w.target+" "+L+"?>";break;case 10:D+="<!DOCTYPE "+w.name,D+=">";break;default:t.InvalidStateError()}return D}}}),Or=Ue({"external/npm/node_modules/domino/lib/Node.js"(n,e){e.exports=o;var t=xF(),r=AF(),i=NF(),s=Bn();function o(){t.call(this),this.parentNode=null,this._nextSibling=this._previousSibling=this,this._index=void 0}var a=o.ELEMENT_NODE=1,u=o.ATTRIBUTE_NODE=2,c=o.TEXT_NODE=3,l=o.CDATA_SECTION_NODE=4,d=o.ENTITY_REFERENCE_NODE=5,f=o.ENTITY_NODE=6,h=o.PROCESSING_INSTRUCTION_NODE=7,p=o.COMMENT_NODE=8,v=o.DOCUMENT_NODE=9,T=o.DOCUMENT_TYPE_NODE=10,w=o.DOCUMENT_FRAGMENT_NODE=11,C=o.NOTATION_NODE=12,D=o.DOCUMENT_POSITION_DISCONNECTED=1,S=o.DOCUMENT_POSITION_PRECEDING=2,x=o.DOCUMENT_POSITION_FOLLOWING=4,V=o.DOCUMENT_POSITION_CONTAINS=8,R=o.DOCUMENT_POSITION_CONTAINED_BY=16,A=o.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;o.prototype=Object.create(t.prototype,{baseURI:{get:s.nyi},parentElement:{get:function(){return this.parentNode&&this.parentNode.nodeType===a?this.parentNode:null}},hasChildNodes:{value:s.shouldOverride},firstChild:{get:s.shouldOverride},lastChild:{get:s.shouldOverride},isConnected:{get:function(){let N=this;for(;N!=null;){if(N.nodeType===o.DOCUMENT_NODE)return!0;N=N.parentNode,N!=null&&N.nodeType===o.DOCUMENT_FRAGMENT_NODE&&(N=N.host)}return!1}},previousSibling:{get:function(){var N=this.parentNode;return!N||this===N.firstChild?null:this._previousSibling}},nextSibling:{get:function(){var N=this.parentNode,_=this._nextSibling;return!N||_===N.firstChild?null:_}},textContent:{get:function(){return null},set:function(N){}},innerText:{get:function(){return null},set:function(N){}},_countChildrenOfType:{value:function(N){for(var _=0,I=this.firstChild;I!==null;I=I.nextSibling)I.nodeType===N&&_++;return _}},_ensureInsertValid:{value:function(_,I,L){var g=this,m,y;if(!_.nodeType)throw new TypeError("not a node");switch(g.nodeType){case v:case w:case a:break;default:s.HierarchyRequestError()}switch(_.isAncestor(g)&&s.HierarchyRequestError(),(I!==null||!L)&&I.parentNode!==g&&s.NotFoundError(),_.nodeType){case w:case T:case a:case c:case h:case p:break;default:s.HierarchyRequestError()}if(g.nodeType===v)switch(_.nodeType){case c:s.HierarchyRequestError();break;case w:switch(_._countChildrenOfType(c)>0&&s.HierarchyRequestError(),_._countChildrenOfType(a)){case 0:break;case 1:if(I!==null)for(L&&I.nodeType===T&&s.HierarchyRequestError(),y=I.nextSibling;y!==null;y=y.nextSibling)y.nodeType===T&&s.HierarchyRequestError();m=g._countChildrenOfType(a),L?m>0&&s.HierarchyRequestError():(m>1||m===1&&I.nodeType!==a)&&s.HierarchyRequestError();break;default:s.HierarchyRequestError()}break;case a:if(I!==null)for(L&&I.nodeType===T&&s.HierarchyRequestError(),y=I.nextSibling;y!==null;y=y.nextSibling)y.nodeType===T&&s.HierarchyRequestError();m=g._countChildrenOfType(a),L?m>0&&s.HierarchyRequestError():(m>1||m===1&&I.nodeType!==a)&&s.HierarchyRequestError();break;case T:if(I===null)g._countChildrenOfType(a)&&s.HierarchyRequestError();else for(y=g.firstChild;y!==null&&y!==I;y=y.nextSibling)y.nodeType===a&&s.HierarchyRequestError();m=g._countChildrenOfType(T),L?m>0&&s.HierarchyRequestError():(m>1||m===1&&I.nodeType!==T)&&s.HierarchyRequestError();break}else _.nodeType===T&&s.HierarchyRequestError()}},insertBefore:{value:function(_,I){var L=this;L._ensureInsertValid(_,I,!0);var g=I;return g===_&&(g=_.nextSibling),L.doc.adoptNode(_),_._insertOrReplace(L,g,!1),_}},appendChild:{value:function(N){return this.insertBefore(N,null)}},_appendChild:{value:function(N){N._insertOrReplace(this,null,!1)}},removeChild:{value:function(_){var I=this;if(!_.nodeType)throw new TypeError("not a node");return _.parentNode!==I&&s.NotFoundError(),_.remove(),_}},replaceChild:{value:function(_,I){var L=this;return L._ensureInsertValid(_,I,!1),_.doc!==L.doc&&L.doc.adoptNode(_),_._insertOrReplace(L,I,!0),I}},contains:{value:function(_){return _===null?!1:this===_?!0:(this.compareDocumentPosition(_)&R)!==0}},compareDocumentPosition:{value:function(_){if(this===_)return 0;if(this.doc!==_.doc||this.rooted!==_.rooted)return D+A;for(var I=[],L=[],g=this;g!==null;g=g.parentNode)I.push(g);for(g=_;g!==null;g=g.parentNode)L.push(g);if(I.reverse(),L.reverse(),I[0]!==L[0])return D+A;g=Math.min(I.length,L.length);for(var m=1;m<g;m++)if(I[m]!==L[m])return I[m].index<L[m].index?x:S;return I.length<L.length?x+R:S+V}},isSameNode:{value:function(_){return this===_}},isEqualNode:{value:function(_){if(!_||_.nodeType!==this.nodeType||!this.isEqual(_))return!1;for(var I=this.firstChild,L=_.firstChild;I&&L;I=I.nextSibling,L=L.nextSibling)if(!I.isEqualNode(L))return!1;return I===null&&L===null}},cloneNode:{value:function(N){var _=this.clone();if(N)for(var I=this.firstChild;I!==null;I=I.nextSibling)_._appendChild(I.cloneNode(!0));return _}},lookupPrefix:{value:function(_){var I;if(_===""||_===null||_===void 0)return null;switch(this.nodeType){case a:return this._lookupNamespacePrefix(_,this);case v:return I=this.documentElement,I?I.lookupPrefix(_):null;case f:case C:case w:case T:return null;case u:return I=this.ownerElement,I?I.lookupPrefix(_):null;default:return I=this.parentElement,I?I.lookupPrefix(_):null}}},lookupNamespaceURI:{value:function(_){(_===""||_===void 0)&&(_=null);var I;switch(this.nodeType){case a:return s.shouldOverride();case v:return I=this.documentElement,I?I.lookupNamespaceURI(_):null;case f:case C:case T:case w:return null;case u:return I=this.ownerElement,I?I.lookupNamespaceURI(_):null;default:return I=this.parentElement,I?I.lookupNamespaceURI(_):null}}},isDefaultNamespace:{value:function(_){(_===""||_===void 0)&&(_=null);var I=this.lookupNamespaceURI(null);return I===_}},index:{get:function(){var N=this.parentNode;if(this===N.firstChild)return 0;var _=N.childNodes;if(this._index===void 0||_[this._index]!==this){for(var I=0;I<_.length;I++)_[I]._index=I;s.assert(_[this._index]===this)}return this._index}},isAncestor:{value:function(N){if(this.doc!==N.doc||this.rooted!==N.rooted)return!1;for(var _=N;_;_=_.parentNode)if(_===this)return!0;return!1}},ensureSameDoc:{value:function(N){N.ownerDocument===null?N.ownerDocument=this.doc:N.ownerDocument!==this.doc&&s.WrongDocumentError()}},removeChildren:{value:s.shouldOverride},_insertOrReplace:{value:function(_,I,L){var g=this,m,y;if(g.nodeType===w&&g.rooted&&s.HierarchyRequestError(),_._childNodes&&(m=I===null?_._childNodes.length:I.index,g.parentNode===_)){var O=g.index;O<m&&m--}L&&(I.rooted&&I.doc.mutateRemove(I),I.parentNode=null);var q=I;q===null&&(q=_.firstChild);var W=g.rooted&&_.rooted;if(g.nodeType===w){for(var ue=[0,L?1:0],ge,Be=g.firstChild;Be!==null;Be=ge)ge=Be.nextSibling,ue.push(Be),Be.parentNode=_;var B=ue.length;if(L?r.replace(q,B>2?ue[2]:null):B>2&&q!==null&&r.insertBefore(ue[2],q),_._childNodes)for(ue[0]=I===null?_._childNodes.length:I._index,_._childNodes.splice.apply(_._childNodes,ue),y=2;y<B;y++)ue[y]._index=ue[0]+(y-2);else _._firstChild===I&&(B>2?_._firstChild=ue[2]:L&&(_._firstChild=null));if(g._childNodes?g._childNodes.length=0:g._firstChild=null,_.rooted)for(_.modify(),y=2;y<B;y++)_.doc.mutateInsert(ue[y])}else{if(I===g)return;W?g._remove():g.parentNode&&g.remove(),g.parentNode=_,L?(r.replace(q,g),_._childNodes?(g._index=m,_._childNodes[m]=g):_._firstChild===I&&(_._firstChild=g)):(q!==null&&r.insertBefore(g,q),_._childNodes?(g._index=m,_._childNodes.splice(m,0,g)):_._firstChild===I&&(_._firstChild=g)),W?(_.modify(),_.doc.mutateMove(g)):_.rooted&&(_.modify(),_.doc.mutateInsert(g))}}},lastModTime:{get:function(){return this._lastModTime||(this._lastModTime=this.doc.modclock),this._lastModTime}},modify:{value:function(){if(this.doc.modclock)for(var N=++this.doc.modclock,_=this;_;_=_.parentElement)_._lastModTime&&(_._lastModTime=N)}},doc:{get:function(){return this.ownerDocument||this}},rooted:{get:function(){return!!this._nid}},normalize:{value:function(){for(var N,_=this.firstChild;_!==null;_=N)if(N=_.nextSibling,_.normalize&&_.normalize(),_.nodeType===o.TEXT_NODE){if(_.nodeValue===""){this.removeChild(_);continue}var I=_.previousSibling;I!==null&&I.nodeType===o.TEXT_NODE&&(I.appendData(_.nodeValue),this.removeChild(_))}}},serialize:{value:function(){if(this._innerHTML)return this._innerHTML;for(var N="",_=this.firstChild;_!==null;_=_.nextSibling)N+=i.serializeOne(_,this);return N}},outerHTML:{get:function(){return i.serializeOne(this,{nodeType:0})},set:s.nyi},ELEMENT_NODE:{value:a},ATTRIBUTE_NODE:{value:u},TEXT_NODE:{value:c},CDATA_SECTION_NODE:{value:l},ENTITY_REFERENCE_NODE:{value:d},ENTITY_NODE:{value:f},PROCESSING_INSTRUCTION_NODE:{value:h},COMMENT_NODE:{value:p},DOCUMENT_NODE:{value:v},DOCUMENT_TYPE_NODE:{value:T},DOCUMENT_FRAGMENT_NODE:{value:w},NOTATION_NODE:{value:C},DOCUMENT_POSITION_DISCONNECTED:{value:D},DOCUMENT_POSITION_PRECEDING:{value:S},DOCUMENT_POSITION_FOLLOWING:{value:x},DOCUMENT_POSITION_CONTAINS:{value:V},DOCUMENT_POSITION_CONTAINED_BY:{value:R},DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:{value:A}})}}),Yie=Ue({"external/npm/node_modules/domino/lib/NodeList.es6.js"(n,e){e.exports=class extends Array{constructor(r){if(super(r&&r.length||0),r)for(var i in r)this[i]=r[i]}item(r){return this[r]||null}}}}),Zie=Ue({"external/npm/node_modules/domino/lib/NodeList.es5.js"(n,e){function t(i){return this[i]||null}function r(i){return i||(i=[]),i.item=t,i}e.exports=r}}),pf=Ue({"external/npm/node_modules/domino/lib/NodeList.js"(n,e){var t;try{t=Yie()}catch{t=Zie()}e.exports=t}}),AI=Ue({"external/npm/node_modules/domino/lib/ContainerNode.js"(n,e){e.exports=i;var t=Or(),r=pf();function i(){t.call(this),this._firstChild=this._childNodes=null}i.prototype=Object.create(t.prototype,{hasChildNodes:{value:function(){return this._childNodes?this._childNodes.length>0:this._firstChild!==null}},childNodes:{get:function(){return this._ensureChildNodes(),this._childNodes}},firstChild:{get:function(){return this._childNodes?this._childNodes.length===0?null:this._childNodes[0]:this._firstChild}},lastChild:{get:function(){var s=this._childNodes,o;return s?s.length===0?null:s[s.length-1]:(o=this._firstChild,o===null?null:o._previousSibling)}},_ensureChildNodes:{value:function(){if(!this._childNodes){var s=this._firstChild,o=s,a=this._childNodes=new r;if(s)do a.push(o),o=o._nextSibling;while(o!==s);this._firstChild=null}}},removeChildren:{value:function(){for(var o=this.rooted?this.ownerDocument:null,a=this.firstChild,u;a!==null;)u=a,a=u.nextSibling,o&&o.mutateRemove(u),u.parentNode=null;this._childNodes?this._childNodes.length=0:this._firstChild=null,this.modify()}}})}}),NI=Ue({"external/npm/node_modules/domino/lib/xmlnames.js"(n){n.isValidName=v,n.isValidQName=T;var e=/^[_:A-Za-z][-.:\w]+$/,t=/^([_A-Za-z][-.\w]+|[_A-Za-z][-.\w]+:[_A-Za-z][-.\w]+)$/,r="_A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD",i="-._A-Za-z0-9\xB7\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0300-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD",s="["+r+"]["+i+"]*",o=r+":",a=i+":",u=new RegExp("^["+o+"]["+a+"]*$"),c=new RegExp("^("+s+"|"+s+":"+s+")$"),l=/[\uD800-\uDB7F\uDC00-\uDFFF]/,d=/[\uD800-\uDB7F\uDC00-\uDFFF]/g,f=/[\uD800-\uDB7F][\uDC00-\uDFFF]/g;r+="\uD800-\u{EFC00}-\uDFFF",i+="\uD800-\u{EFC00}-\uDFFF",s="["+r+"]["+i+"]*",o=r+":",a=i+":";var h=new RegExp("^["+o+"]["+a+"]*$"),p=new RegExp("^("+s+"|"+s+":"+s+")$");function v(w){if(e.test(w)||u.test(w))return!0;if(!l.test(w)||!h.test(w))return!1;var C=w.match(d),D=w.match(f);return D!==null&&2*D.length===C.length}function T(w){if(t.test(w)||c.test(w))return!0;if(!l.test(w)||!p.test(w))return!1;var C=w.match(d),D=w.match(f);return D!==null&&2*D.length===C.length}}}),RF=Ue({"external/npm/node_modules/domino/lib/attributes.js"(n){var e=Bn();n.property=function(r){if(Array.isArray(r.type)){var i=Object.create(null);r.type.forEach(function(a){i[a.value||a]=a.alias||a});var s=r.missing;s===void 0&&(s=null);var o=r.invalid;return o===void 0&&(o=s),{get:function(){var a=this._getattr(r.name);return a===null?s:(a=i[a.toLowerCase()],a!==void 0?a:o!==null?o:a)},set:function(a){this._setattr(r.name,a)}}}else{if(r.type===Boolean)return{get:function(){return this.hasAttribute(r.name)},set:function(a){a?this._setattr(r.name,""):this.removeAttribute(r.name)}};if(r.type===Number||r.type==="long"||r.type==="unsigned long"||r.type==="limited unsigned long with fallback")return t(r);if(!r.type||r.type===String)return{get:function(){return this._getattr(r.name)||""},set:function(a){r.treatNullAsEmptyString&&a===null&&(a=""),this._setattr(r.name,a)}};if(typeof r.type=="function")return r.type(r.name,r)}throw new Error("Invalid attribute definition")};function t(r){var i;typeof r.default=="function"?i=r.default:typeof r.default=="number"?i=function(){return r.default}:i=function(){e.assert(!1,typeof r.default)};var s=r.type==="unsigned long",o=r.type==="long",a=r.type==="limited unsigned long with fallback",u=r.min,c=r.max,l=r.setmin;return u===void 0&&(s&&(u=0),o&&(u=-2147483648),a&&(u=1)),c===void 0&&(s||o||a)&&(c=2147483647),{get:function(){var d=this._getattr(r.name),f=r.float?parseFloat(d):parseInt(d,10);if(d===null||!isFinite(f)||u!==void 0&&f<u||c!==void 0&&f>c)return i.call(this);if(s||o||a){if(!/^[ \t\n\f\r]*[-+]?[0-9]/.test(d))return i.call(this);f=f|0}return f},set:function(d){r.float||(d=Math.floor(d)),l!==void 0&&d<l&&e.IndexSizeError(r.name+" set to "+d),s?d=d<0||d>2147483647?i.call(this):d|0:a?d=d<1||d>2147483647?i.call(this):d|0:o&&(d=d<-2147483648||d>2147483647?i.call(this):d|0),this._setattr(r.name,String(d))}}}n.registerChangeHandler=function(r,i,s){var o=r.prototype;Object.prototype.hasOwnProperty.call(o,"_attributeChangeHandlers")||(o._attributeChangeHandlers=Object.create(o._attributeChangeHandlers||null)),o._attributeChangeHandlers[i]=s}}}),Xie=Ue({"external/npm/node_modules/domino/lib/FilteredElementList.js"(n,e){e.exports=r;var t=Or();function r(i,s){this.root=i,this.filter=s,this.lastModTime=i.lastModTime,this.done=!1,this.cache=[],this.traverse()}r.prototype=Object.create(Object.prototype,{length:{get:function(){return this.checkcache(),this.done||this.traverse(),this.cache.length}},item:{value:function(i){return this.checkcache(),!this.done&&i>=this.cache.length&&this.traverse(),this.cache[i]}},checkcache:{value:function(){if(this.lastModTime!==this.root.lastModTime){for(var i=this.cache.length-1;i>=0;i--)this[i]=void 0;this.cache.length=0,this.done=!1,this.lastModTime=this.root.lastModTime}}},traverse:{value:function(i){i!==void 0&&i++;for(var s;(s=this.next())!==null;)if(this[this.cache.length]=s,this.cache.push(s),i&&this.cache.length===i)return;this.done=!0}},next:{value:function(){var i=this.cache.length===0?this.root:this.cache[this.cache.length-1],s;for(i.nodeType===t.DOCUMENT_NODE?s=i.documentElement:s=i.nextElement(this.root);s;){if(this.filter(s))return s;s=s.nextElement(this.root)}return null}}})}}),kF=Ue({"external/npm/node_modules/domino/lib/DOMTokenList.js"(n,e){var t=Bn();e.exports=r;function r(u,c){this._getString=u,this._setString=c,this._length=0,this._lastStringValue="",this._update()}Object.defineProperties(r.prototype,{length:{get:function(){return this._length}},item:{value:function(u){var c=a(this);return u<0||u>=c.length?null:c[u]}},contains:{value:function(u){u=String(u);var c=a(this);return c.indexOf(u)>-1}},add:{value:function(){for(var u=a(this),c=0,l=arguments.length;c<l;c++){var d=s(arguments[c]);u.indexOf(d)<0&&u.push(d)}this._update(u)}},remove:{value:function(){for(var u=a(this),c=0,l=arguments.length;c<l;c++){var d=s(arguments[c]),f=u.indexOf(d);f>-1&&u.splice(f,1)}this._update(u)}},toggle:{value:function(c,l){return c=s(c),this.contains(c)?l===void 0||l===!1?(this.remove(c),!1):!0:l===void 0||l===!0?(this.add(c),!0):!1}},replace:{value:function(c,l){String(l)===""&&t.SyntaxError(),c=s(c),l=s(l);var d=a(this),f=d.indexOf(c);if(f<0)return!1;var h=d.indexOf(l);return h<0?d[f]=l:f<h?(d[f]=l,d.splice(h,1)):d.splice(f,1),this._update(d),!0}},toString:{value:function(){return this._getString()}},value:{get:function(){return this._getString()},set:function(u){this._setString(u),this._update()}},_update:{value:function(u){u?(i(this,u),this._setString(u.join(" ").trim())):i(this,a(this)),this._lastStringValue=this._getString()}}});function i(u,c){var l=u._length,d;for(u._length=c.length,d=0;d<c.length;d++)u[d]=c[d];for(;d<l;d++)u[d]=void 0}function s(u){return u=String(u),u===""&&t.SyntaxError(),/[ \t\r\n\f]/.test(u)&&t.InvalidCharacterError(),u}function o(u){for(var c=u._length,l=Array(c),d=0;d<c;d++)l[d]=u[d];return l}function a(u){var c=u._getString();if(c===u._lastStringValue)return o(u);var l=c.replace(/(^[ \t\r\n\f]+)|([ \t\r\n\f]+$)/g,"");if(l==="")return[];var d=Object.create(null);return l.split(/[ \t\r\n\f]+/g).filter(function(f){var h="$"+f;return d[h]?!1:(d[h]=!0,!0)})}}}),RI=Ue({"external/npm/node_modules/domino/lib/select.js"(n,e){var t=Object.create(null,{location:{get:function(){throw new Error("window.location is not supported.")}}}),r=function(g,m){return g.compareDocumentPosition(m)},i=function(g,m){return r(g,m)&2?1:-1},s=function(g){for(;(g=g.nextSibling)&&g.nodeType!==1;);return g},o=function(g){for(;(g=g.previousSibling)&&g.nodeType!==1;);return g},a=function(g){if(g=g.firstChild)for(;g.nodeType!==1&&(g=g.nextSibling););return g},u=function(g){if(g=g.lastChild)for(;g.nodeType!==1&&(g=g.previousSibling););return g},c=function(g){if(!g.parentNode)return!1;var m=g.parentNode.nodeType;return m===1||m===9},l=function(g){if(!g)return g;var m=g[0];return m==='"'||m==="'"?(g[g.length-1]===m?g=g.slice(1,-1):g=g.slice(1),g.replace(x.str_escape,function(y){var O=/^\\(?:([0-9A-Fa-f]+)|([\r\n\f]+))/.exec(y);if(!O)return y.slice(1);if(O[2])return"";var q=parseInt(O[1],16);return String.fromCodePoint?String.fromCodePoint(q):String.fromCharCode(q)})):x.ident.test(g)?d(g):g},d=function(g){return g.replace(x.escape,function(m){var y=/^\\([0-9A-Fa-f]+)/.exec(m);if(!y)return m[1];var O=parseInt(y[1],16);return String.fromCodePoint?String.fromCodePoint(O):String.fromCharCode(O)})},f=function(){return Array.prototype.indexOf?Array.prototype.indexOf:function(g,m){for(var y=this.length;y--;)if(this[y]===m)return y;return-1}}(),h=function(g,m){var y=x.inside.source.replace(/</g,g).replace(/>/g,m);return new RegExp(y)},p=function(g,m,y){return g=g.source,g=g.replace(m,y.source||y),new RegExp(g)},v=function(g,m){return g.replace(/^(?:\w+:\/\/|\/+)/,"").replace(/(?:\/+|\/*#.*?)$/,"").split("/",m).join("/")},T=function(g,m){var y=g.replace(/\s+/g,""),O;return y==="even"?y="2n+0":y==="odd"?y="2n+1":y.indexOf("n")===-1&&(y="0n"+y),O=/^([+-])?(\d+)?n([+-])?(\d+)?$/.exec(y),{group:O[1]==="-"?-(O[2]||1):+(O[2]||1),offset:O[4]?O[3]==="-"?-O[4]:+O[4]:0}},w=function(g,m,y){var O=T(g),q=O.group,W=O.offset,ue=y?u:a,ge=y?o:s;return function(Be){if(c(Be))for(var B=ue(Be.parentNode),j=0;B;){if(m(B,Be)&&j++,B===Be)return j-=W,q&&j?j%q===0&&j<0==q<0:!j;B=ge(B)}}},C={"*":function(){return function(){return!0}}(),type:function(g){return g=g.toLowerCase(),function(m){return m.nodeName.toLowerCase()===g}},attr:function(g,m,y,O){return m=D[m],function(q){var W;switch(g){case"for":W=q.htmlFor;break;case"class":W=q.className,W===""&&q.getAttribute("class")==null&&(W=null);break;case"href":case"src":W=q.getAttribute(g,2);break;case"title":W=q.getAttribute("title")||null;break;case"id":case"lang":case"dir":case"accessKey":case"hidden":case"tabIndex":case"style":if(q.getAttribute){W=q.getAttribute(g);break}default:if(q.hasAttribute&&!q.hasAttribute(g))break;W=q[g]!=null?q[g]:q.getAttribute&&q.getAttribute(g);break}if(W!=null)return W=W+"",O&&(W=W.toLowerCase(),y=y.toLowerCase()),m(W,y)}},":first-child":function(g){return!o(g)&&c(g)},":last-child":function(g){return!s(g)&&c(g)},":only-child":function(g){return!o(g)&&!s(g)&&c(g)},":nth-child":function(g,m){return w(g,function(){return!0},m)},":nth-last-child":function(g){return C[":nth-child"](g,!0)},":root":function(g){return g.ownerDocument.documentElement===g},":empty":function(g){return!g.firstChild},":not":function(g){var m=I(g);return function(y){return!m(y)}},":first-of-type":function(g){if(c(g)){for(var m=g.nodeName;g=o(g);)if(g.nodeName===m)return;return!0}},":last-of-type":function(g){if(c(g)){for(var m=g.nodeName;g=s(g);)if(g.nodeName===m)return;return!0}},":only-of-type":function(g){return C[":first-of-type"](g)&&C[":last-of-type"](g)},":nth-of-type":function(g,m){return w(g,function(y,O){return y.nodeName===O.nodeName},m)},":nth-last-of-type":function(g){return C[":nth-of-type"](g,!0)},":checked":function(g){return!!(g.checked||g.selected)},":indeterminate":function(g){return!C[":checked"](g)},":enabled":function(g){return!g.disabled&&g.type!=="hidden"},":disabled":function(g){return!!g.disabled},":target":function(g){return g.id===t.location.hash.substring(1)},":focus":function(g){return g===g.ownerDocument.activeElement},":is":function(g){return I(g)},":matches":function(g){return C[":is"](g)},":nth-match":function(g,m){var y=g.split(/\s*,\s*/),O=y.shift(),q=I(y.join(","));return w(O,q,m)},":nth-last-match":function(g){return C[":nth-match"](g,!0)},":links-here":function(g){return g+""==t.location+""},":lang":function(g){return function(m){for(;m;){if(m.lang)return m.lang.indexOf(g)===0;m=m.parentNode}}},":dir":function(g){return function(m){for(;m;){if(m.dir)return m.dir===g;m=m.parentNode}}},":scope":function(g,m){var y=m||g.ownerDocument;return y.nodeType===9?g===y.documentElement:g===y},":any-link":function(g){return typeof g.href=="string"},":local-link":function(g){if(g.nodeName)return g.href&&g.host===t.location.host;var m=+g+1;return function(y){if(y.href){var O=t.location+"",q=y+"";return v(O,m)===v(q,m)}}},":default":function(g){return!!g.defaultSelected},":valid":function(g){return g.willValidate||g.validity&&g.validity.valid},":invalid":function(g){return!C[":valid"](g)},":in-range":function(g){return g.value>g.min&&g.value<=g.max},":out-of-range":function(g){return!C[":in-range"](g)},":required":function(g){return!!g.required},":optional":function(g){return!g.required},":read-only":function(g){if(g.readOnly)return!0;var m=g.getAttribute("contenteditable"),y=g.contentEditable,O=g.nodeName.toLowerCase();return O=O!=="input"&&O!=="textarea",(O||g.disabled)&&m==null&&y!=="true"},":read-write":function(g){return!C[":read-only"](g)},":hover":function(){throw new Error(":hover is not supported.")},":active":function(){throw new Error(":active is not supported.")},":link":function(){throw new Error(":link is not supported.")},":visited":function(){throw new Error(":visited is not supported.")},":column":function(){throw new Error(":column is not supported.")},":nth-column":function(){throw new Error(":nth-column is not supported.")},":nth-last-column":function(){throw new Error(":nth-last-column is not supported.")},":current":function(){throw new Error(":current is not supported.")},":past":function(){throw new Error(":past is not supported.")},":future":function(){throw new Error(":future is not supported.")},":contains":function(g){return function(m){var y=m.innerText||m.textContent||m.value||"";return y.indexOf(g)!==-1}},":has":function(g){return function(m){return L(g,m).length>0}}},D={"-":function(){return!0},"=":function(g,m){return g===m},"*=":function(g,m){return g.indexOf(m)!==-1},"~=":function(g,m){var y,O,q,W;for(O=0;;O=y+1){if(y=g.indexOf(m,O),y===-1)return!1;if(q=g[y-1],W=g[y+m.length],(!q||q===" ")&&(!W||W===" "))return!0}},"|=":function(g,m){var y=g.indexOf(m),O;if(y===0)return O=g[y+m.length],O==="-"||!O},"^=":function(g,m){return g.indexOf(m)===0},"$=":function(g,m){var y=g.lastIndexOf(m);return y!==-1&&y+m.length===g.length},"!=":function(g,m){return g!==m}},S={" ":function(g){return function(m){for(;m=m.parentNode;)if(g(m))return m}},">":function(g){return function(m){if(m=m.parentNode)return g(m)&&m}},"+":function(g){return function(m){if(m=o(m))return g(m)&&m}},"~":function(g){return function(m){for(;m=o(m);)if(g(m))return m}},noop:function(g){return function(m){return g(m)&&m}},ref:function(g,m){var y;function O(q){for(var W=q.ownerDocument,ue=W.getElementsByTagName("*"),ge=ue.length;ge--;)if(y=ue[ge],O.test(q))return y=null,!0;y=null}return O.combinator=function(q){if(!(!y||!y.getAttribute)){var W=y.getAttribute(m)||"";if(W[0]==="#"&&(W=W.substring(1)),W===q.id&&g(y))return y}},O}},x={escape:/\\(?:[^0-9A-Fa-f\r\n]|[0-9A-Fa-f]{1,6}[\r\n\t ]?)/g,str_escape:/(escape)|\\(\n|\r\n?|\f)/g,nonascii:/[\u00A0-\uFFFF]/,cssid:/(?:(?!-?[0-9])(?:escape|nonascii|[-_a-zA-Z0-9])+)/,qname:/^ *(cssid|\*)/,simple:/^(?:([.#]cssid)|pseudo|attr)/,ref:/^ *\/(cssid)\/ */,combinator:/^(?: +([^ \w*.#\\]) +|( )+|([^ \w*.#\\]))(?! *$)/,attr:/^\[(cssid)(?:([^\w]?=)(inside))?\]/,pseudo:/^(:cssid)(?:\((inside)\))?/,inside:/(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|<[^"'>]*>|\\["'>]|[^"'>])*/,ident:/^(cssid)$/};x.cssid=p(x.cssid,"nonascii",x.nonascii),x.cssid=p(x.cssid,"escape",x.escape),x.qname=p(x.qname,"cssid",x.cssid),x.simple=p(x.simple,"cssid",x.cssid),x.ref=p(x.ref,"cssid",x.cssid),x.attr=p(x.attr,"cssid",x.cssid),x.pseudo=p(x.pseudo,"cssid",x.cssid),x.inside=p(x.inside,`[^"'>]*`,x.inside),x.attr=p(x.attr,"inside",h("\\[","\\]")),x.pseudo=p(x.pseudo,"inside",h("\\(","\\)")),x.simple=p(x.simple,"pseudo",x.pseudo),x.simple=p(x.simple,"attr",x.attr),x.ident=p(x.ident,"cssid",x.cssid),x.str_escape=p(x.str_escape,"escape",x.escape);var V=function(g){for(var m=g.replace(/^\s+|\s+$/g,""),y,O=[],q=[],W,ue,ge,Be,B;m;){if(ge=x.qname.exec(m))m=m.substring(ge[0].length),ue=d(ge[1]),q.push(R(ue,!0));else if(ge=x.simple.exec(m))m=m.substring(ge[0].length),ue="*",q.push(R(ue,!0)),q.push(R(ge));else throw new SyntaxError("Invalid selector.");for(;ge=x.simple.exec(m);)m=m.substring(ge[0].length),q.push(R(ge));if(m[0]==="!"&&(m=m.substring(1),W=_(),W.qname=ue,q.push(W.simple)),ge=x.ref.exec(m)){m=m.substring(ge[0].length),B=S.ref(A(q),d(ge[1])),O.push(B.combinator),q=[];continue}if(ge=x.combinator.exec(m)){if(m=m.substring(ge[0].length),Be=ge[1]||ge[2]||ge[3],Be===","){O.push(S.noop(A(q)));break}}else Be="noop";if(!S[Be])throw new SyntaxError("Bad combinator.");O.push(S[Be](A(q))),q=[]}return y=N(O),y.qname=ue,y.sel=m,W&&(W.lname=y.qname,W.test=y,W.qname=W.qname,W.sel=y.sel,y=W),B&&(B.test=y,B.qname=y.qname,B.sel=y.sel,y=B),y},R=function(g,m){if(m)return g==="*"?C["*"]:C.type(g);if(g[1])return g[1][0]==="."?C.attr("class","~=",d(g[1].substring(1)),!1):C.attr("id","=",d(g[1].substring(1)),!1);if(g[2])return g[3]?C[d(g[2])](l(g[3])):C[d(g[2])];if(g[4]){var y=g[6],O=/["'\s]\s*I$/i.test(y);return O&&(y=y.replace(/\s*I$/i,"")),C.attr(d(g[4]),g[5]||"-",l(y),O)}throw new SyntaxError("Unknown Selector.")},A=function(g){var m=g.length,y;return m<2?g[0]:function(O){if(O){for(y=0;y<m;y++)if(!g[y](O))return;return!0}}},N=function(g){return g.length<2?function(m){return!!g[0](m)}:function(m){for(var y=g.length;y--;)if(!(m=g[y](m)))return;return!0}},_=function(){var g;function m(y){for(var O=y.ownerDocument,q=O.getElementsByTagName(m.lname),W=q.length;W--;)if(m.test(q[W])&&g===y)return g=null,!0;g=null}return m.simple=function(y){return g=y,!0},m},I=function(g){for(var m=V(g),y=[m];m.sel;)m=V(m.sel),y.push(m);return y.length<2?m:function(O){for(var q=y.length,W=0;W<q;W++)if(y[W](O))return!0}},L=function(g,m){for(var y=[],O=V(g),q=m.getElementsByTagName(O.qname),W=0,ue;ue=q[W++];)O(ue)&&y.push(ue);if(O.sel){for(;O.sel;)for(O=V(O.sel),q=m.getElementsByTagName(O.qname),W=0;ue=q[W++];)O(ue)&&f.call(y,ue)===-1&&y.push(ue);y.sort(i)}return y};e.exports=n=function(g,m){var y,O;if(m.nodeType!==11&&g.indexOf(" ")===-1){if(g[0]==="#"&&m.rooted&&/^#[A-Z_][-A-Z0-9_]*$/i.test(g)&&m.doc._hasMultipleElementsWithId&&(y=g.substring(1),!m.doc._hasMultipleElementsWithId(y)))return O=m.doc.getElementById(y),O?[O]:[];if(g[0]==="."&&/^\.\w+$/.test(g))return m.getElementsByClassName(g.substring(1));if(/^\w+$/.test(g))return m.getElementsByTagName(g)}return L(g,m)},n.selectors=C,n.operators=D,n.combinators=S,n.matches=function(g,m){var y={sel:m};do if(y=V(y.sel),y(g))return!0;while(y.sel);return!1}}}),kI=Ue({"external/npm/node_modules/domino/lib/ChildNode.js"(n,e){var t=Or(),r=AF(),i=function(o,a){for(var u=o.createDocumentFragment(),c=0;c<a.length;c++){var l=a[c],d=l instanceof t;u.appendChild(d?l:o.createTextNode(String(l)))}return u},s={after:{value:function(){var a=Array.prototype.slice.call(arguments),u=this.parentNode,c=this.nextSibling;if(u!==null){for(;c&&a.some(function(d){return d===c});)c=c.nextSibling;var l=i(this.doc,a);u.insertBefore(l,c)}}},before:{value:function(){var a=Array.prototype.slice.call(arguments),u=this.parentNode,c=this.previousSibling;if(u!==null){for(;c&&a.some(function(f){return f===c});)c=c.previousSibling;var l=i(this.doc,a),d=c?c.nextSibling:u.firstChild;u.insertBefore(l,d)}}},remove:{value:function(){this.parentNode!==null&&(this.doc&&(this.doc._preremoveNodeIterators(this),this.rooted&&this.doc.mutateRemove(this)),this._remove(),this.parentNode=null)}},_remove:{value:function(){var a=this.parentNode;a!==null&&(a._childNodes?a._childNodes.splice(this.index,1):a._firstChild===this&&(this._nextSibling===this?a._firstChild=null:a._firstChild=this._nextSibling),r.remove(this),a.modify())}},replaceWith:{value:function(){var a=Array.prototype.slice.call(arguments),u=this.parentNode,c=this.nextSibling;if(u!==null){for(;c&&a.some(function(d){return d===c});)c=c.nextSibling;var l=i(this.doc,a);this.parentNode===u?u.replaceChild(l,this):u.insertBefore(l,c)}}}};e.exports=s}}),MF=Ue({"external/npm/node_modules/domino/lib/NonDocumentTypeChildNode.js"(n,e){var t=Or(),r={nextElementSibling:{get:function(){if(this.parentNode){for(var i=this.nextSibling;i!==null;i=i.nextSibling)if(i.nodeType===t.ELEMENT_NODE)return i}return null}},previousElementSibling:{get:function(){if(this.parentNode){for(var i=this.previousSibling;i!==null;i=i.previousSibling)if(i.nodeType===t.ELEMENT_NODE)return i}return null}}};e.exports=r}}),OF=Ue({"external/npm/node_modules/domino/lib/NamedNodeMap.js"(n,e){e.exports=r;var t=Bn();function r(i){this.element=i}Object.defineProperties(r.prototype,{length:{get:t.shouldOverride},item:{value:t.shouldOverride},getNamedItem:{value:function(s){return this.element.getAttributeNode(s)}},getNamedItemNS:{value:function(s,o){return this.element.getAttributeNodeNS(s,o)}},setNamedItem:{value:t.nyi},setNamedItemNS:{value:t.nyi},removeNamedItem:{value:function(s){var o=this.element.getAttributeNode(s);if(o)return this.element.removeAttribute(s),o;t.NotFoundError()}},removeNamedItemNS:{value:function(s,o){var a=this.element.getAttributeNodeNS(s,o);if(a)return this.element.removeAttributeNS(s,o),a;t.NotFoundError()}}})}}),Tm=Ue({"external/npm/node_modules/domino/lib/Element.js"(n,e){e.exports=C;var t=NI(),r=Bn(),i=r.NAMESPACE,s=RF(),o=Or(),a=pf(),u=NF(),c=Xie(),l=DI(),d=kF(),f=RI(),h=AI(),p=kI(),v=MF(),T=OF(),w=Object.create(null);function C(m,y,O,q){h.call(this),this.nodeType=o.ELEMENT_NODE,this.ownerDocument=m,this.localName=y,this.namespaceURI=O,this.prefix=q,this._tagName=void 0,this._attrsByQName=Object.create(null),this._attrsByLName=Object.create(null),this._attrKeys=[]}function D(m,y){if(m.nodeType===o.TEXT_NODE)y.push(m._data);else for(var O=0,q=m.childNodes.length;O<q;O++)D(m.childNodes[O],y)}C.prototype=Object.create(h.prototype,{isHTML:{get:function(){return this.namespaceURI===i.HTML&&this.ownerDocument.isHTML}},tagName:{get:function(){if(this._tagName===void 0){var y;if(this.prefix===null?y=this.localName:y=this.prefix+":"+this.localName,this.isHTML){var O=w[y];O||(w[y]=O=r.toASCIIUpperCase(y)),y=O}this._tagName=y}return this._tagName}},nodeName:{get:function(){return this.tagName}},nodeValue:{get:function(){return null},set:function(){}},textContent:{get:function(){var m=[];return D(this,m),m.join("")},set:function(m){this.removeChildren(),m!=null&&m!==""&&this._appendChild(this.ownerDocument.createTextNode(m))}},innerText:{get:function(){var m=[];return D(this,m),m.join("").replace(/[ \t\n\f\r]+/g," ").trim()},set:function(m){this.removeChildren(),m!=null&&m!==""&&this._appendChild(this.ownerDocument.createTextNode(m))}},innerHTML:{get:function(){return this.serialize()},set:r.nyi},outerHTML:{get:function(){return u.serializeOne(this,{nodeType:0})},set:function(m){var y=this.ownerDocument,O=this.parentNode;if(O!==null){O.nodeType===o.DOCUMENT_NODE&&r.NoModificationAllowedError(),O.nodeType===o.DOCUMENT_FRAGMENT_NODE&&(O=O.ownerDocument.createElement("body"));var q=y.implementation.mozHTMLParser(y._address,O);q.parse(m===null?"":String(m),!0),this.replaceWith(q._asDocumentFragment())}}},_insertAdjacent:{value:function(y,O){var q=!1;switch(y){case"beforebegin":q=!0;case"afterend":var W=this.parentNode;return W===null?null:W.insertBefore(O,q?this:this.nextSibling);case"afterbegin":q=!0;case"beforeend":return this.insertBefore(O,q?this.firstChild:null);default:return r.SyntaxError()}}},insertAdjacentElement:{value:function(y,O){if(O.nodeType!==o.ELEMENT_NODE)throw new TypeError("not an element");return y=r.toASCIILowerCase(String(y)),this._insertAdjacent(y,O)}},insertAdjacentText:{value:function(y,O){var q=this.ownerDocument.createTextNode(O);y=r.toASCIILowerCase(String(y)),this._insertAdjacent(y,q)}},insertAdjacentHTML:{value:function(y,O){y=r.toASCIILowerCase(String(y)),O=String(O);var q;switch(y){case"beforebegin":case"afterend":q=this.parentNode,(q===null||q.nodeType===o.DOCUMENT_NODE)&&r.NoModificationAllowedError();break;case"afterbegin":case"beforeend":q=this;break;default:r.SyntaxError()}(!(q instanceof C)||q.ownerDocument.isHTML&&q.localName==="html"&&q.namespaceURI===i.HTML)&&(q=q.ownerDocument.createElementNS(i.HTML,"body"));var W=this.ownerDocument.implementation.mozHTMLParser(this.ownerDocument._address,q);W.parse(O,!0),this._insertAdjacent(y,W._asDocumentFragment())}},children:{get:function(){return this._children||(this._children=new R(this)),this._children}},attributes:{get:function(){return this._attributes||(this._attributes=new x(this)),this._attributes}},firstElementChild:{get:function(){for(var m=this.firstChild;m!==null;m=m.nextSibling)if(m.nodeType===o.ELEMENT_NODE)return m;return null}},lastElementChild:{get:function(){for(var m=this.lastChild;m!==null;m=m.previousSibling)if(m.nodeType===o.ELEMENT_NODE)return m;return null}},childElementCount:{get:function(){return this.children.length}},nextElement:{value:function(m){m||(m=this.ownerDocument.documentElement);var y=this.firstElementChild;if(!y){if(this===m)return null;y=this.nextElementSibling}if(y)return y;for(var O=this.parentElement;O&&O!==m;O=O.parentElement)if(y=O.nextElementSibling,y)return y;return null}},getElementsByTagName:{value:function(y){var O;return y?(y==="*"?O=function(){return!0}:this.isHTML?O=N(y):O=A(y),new c(this,O)):new a}},getElementsByTagNameNS:{value:function(y,O){var q;return y==="*"&&O==="*"?q=function(){return!0}:y==="*"?q=A(O):O==="*"?q=_(y):q=I(y,O),new c(this,q)}},getElementsByClassName:{value:function(y){if(y=String(y).trim(),y===""){var O=new a;return O}return y=y.split(/[ \t\r\n\f]+/),new c(this,L(y))}},getElementsByName:{value:function(y){return new c(this,g(String(y)))}},clone:{value:function(){var y;this.namespaceURI!==i.HTML||this.prefix||!this.ownerDocument.isHTML?y=this.ownerDocument.createElementNS(this.namespaceURI,this.prefix!==null?this.prefix+":"+this.localName:this.localName):y=this.ownerDocument.createElement(this.localName);for(var O=0,q=this._attrKeys.length;O<q;O++){var W=this._attrKeys[O],ue=this._attrsByLName[W],ge=ue.cloneNode();ge._setOwnerElement(y),y._attrsByLName[W]=ge,y._addQName(ge)}return y._attrKeys=this._attrKeys.concat(),y}},isEqual:{value:function(y){if(this.localName!==y.localName||this.namespaceURI!==y.namespaceURI||this.prefix!==y.prefix||this._numattrs!==y._numattrs)return!1;for(var O=0,q=this._numattrs;O<q;O++){var W=this._attr(O);if(!y.hasAttributeNS(W.namespaceURI,W.localName)||y.getAttributeNS(W.namespaceURI,W.localName)!==W.value)return!1}return!0}},_lookupNamespacePrefix:{value:function(y,O){if(this.namespaceURI&&this.namespaceURI===y&&this.prefix!==null&&O.lookupNamespaceURI(this.prefix)===y)return this.prefix;for(var q=0,W=this._numattrs;q<W;q++){var ue=this._attr(q);if(ue.prefix==="xmlns"&&ue.value===y&&O.lookupNamespaceURI(ue.localName)===y)return ue.localName}var ge=this.parentElement;return ge?ge._lookupNamespacePrefix(y,O):null}},lookupNamespaceURI:{value:function(y){if((y===""||y===void 0)&&(y=null),this.namespaceURI!==null&&this.prefix===y)return this.namespaceURI;for(var O=0,q=this._numattrs;O<q;O++){var W=this._attr(O);if(W.namespaceURI===i.XMLNS&&(W.prefix==="xmlns"&&W.localName===y||y===null&&W.prefix===null&&W.localName==="xmlns"))return W.value||null}var ue=this.parentElement;return ue?ue.lookupNamespaceURI(y):null}},getAttribute:{value:function(y){var O=this.getAttributeNode(y);return O?O.value:null}},getAttributeNS:{value:function(y,O){var q=this.getAttributeNodeNS(y,O);return q?q.value:null}},getAttributeNode:{value:function(y){y=String(y),/[A-Z]/.test(y)&&this.isHTML&&(y=r.toASCIILowerCase(y));var O=this._attrsByQName[y];return O?(Array.isArray(O)&&(O=O[0]),O):null}},getAttributeNodeNS:{value:function(y,O){y=y==null?"":String(y),O=String(O);var q=this._attrsByLName[y+"|"+O];return q||null}},hasAttribute:{value:function(y){return y=String(y),/[A-Z]/.test(y)&&this.isHTML&&(y=r.toASCIILowerCase(y)),this._attrsByQName[y]!==void 0}},hasAttributeNS:{value:function(y,O){y=y==null?"":String(y),O=String(O);var q=y+"|"+O;return this._attrsByLName[q]!==void 0}},hasAttributes:{value:function(){return this._numattrs>0}},toggleAttribute:{value:function(y,O){y=String(y),t.isValidName(y)||r.InvalidCharacterError(),/[A-Z]/.test(y)&&this.isHTML&&(y=r.toASCIILowerCase(y));var q=this._attrsByQName[y];return q===void 0?O===void 0||O===!0?(this._setAttribute(y,""),!0):!1:O===void 0||O===!1?(this.removeAttribute(y),!1):!0}},_setAttribute:{value:function(y,O){var q=this._attrsByQName[y],W;q?Array.isArray(q)&&(q=q[0]):(q=this._newattr(y),W=!0),q.value=O,this._attributes&&(this._attributes[y]=q),W&&this._newattrhook&&this._newattrhook(y,O)}},setAttribute:{value:function(y,O){y=String(y),t.isValidName(y)||r.InvalidCharacterError(),/[A-Z]/.test(y)&&this.isHTML&&(y=r.toASCIILowerCase(y)),this._setAttribute(y,String(O))}},_setAttributeNS:{value:function(y,O,q){var W=O.indexOf(":"),ue,ge;W<0?(ue=null,ge=O):(ue=O.substring(0,W),ge=O.substring(W+1)),(y===""||y===void 0)&&(y=null);var Be=(y===null?"":y)+"|"+ge,B=this._attrsByLName[Be],j;B||(B=new S(this,ge,ue,y),j=!0,this._attrsByLName[Be]=B,this._attributes&&(this._attributes[this._attrKeys.length]=B),this._attrKeys.push(Be),this._addQName(B)),B.value=q,j&&this._newattrhook&&this._newattrhook(O,q)}},setAttributeNS:{value:function(y,O,q){y=y==null||y===""?null:String(y),O=String(O),t.isValidQName(O)||r.InvalidCharacterError();var W=O.indexOf(":"),ue=W<0?null:O.substring(0,W);(ue!==null&&y===null||ue==="xml"&&y!==i.XML||(O==="xmlns"||ue==="xmlns")&&y!==i.XMLNS||y===i.XMLNS&&!(O==="xmlns"||ue==="xmlns"))&&r.NamespaceError(),this._setAttributeNS(y,O,String(q))}},setAttributeNode:{value:function(y){if(y.ownerElement!==null&&y.ownerElement!==this)throw new l(l.INUSE_ATTRIBUTE_ERR);var O=null,q=this._attrsByQName[y.name];if(q){if(Array.isArray(q)||(q=[q]),q.some(function(W){return W===y}))return y;if(y.ownerElement!==null)throw new l(l.INUSE_ATTRIBUTE_ERR);q.forEach(function(W){this.removeAttributeNode(W)},this),O=q[0]}return this.setAttributeNodeNS(y),O}},setAttributeNodeNS:{value:function(y){if(y.ownerElement!==null)throw new l(l.INUSE_ATTRIBUTE_ERR);var O=y.namespaceURI,q=(O===null?"":O)+"|"+y.localName,W=this._attrsByLName[q];return W&&this.removeAttributeNode(W),y._setOwnerElement(this),this._attrsByLName[q]=y,this._attributes&&(this._attributes[this._attrKeys.length]=y),this._attrKeys.push(q),this._addQName(y),this._newattrhook&&this._newattrhook(y.name,y.value),W||null}},removeAttribute:{value:function(y){y=String(y),/[A-Z]/.test(y)&&this.isHTML&&(y=r.toASCIILowerCase(y));var O=this._attrsByQName[y];if(O){Array.isArray(O)?O.length>2?O=O.shift():(this._attrsByQName[y]=O[1],O=O[0]):this._attrsByQName[y]=void 0;var q=O.namespaceURI,W=(q===null?"":q)+"|"+O.localName;this._attrsByLName[W]=void 0;var ue=this._attrKeys.indexOf(W);this._attributes&&(Array.prototype.splice.call(this._attributes,ue,1),this._attributes[y]=void 0),this._attrKeys.splice(ue,1);var ge=O.onchange;O._setOwnerElement(null),ge&&ge.call(O,this,O.localName,O.value,null),this.rooted&&this.ownerDocument.mutateRemoveAttr(O)}}},removeAttributeNS:{value:function(y,O){y=y==null?"":String(y),O=String(O);var q=y+"|"+O,W=this._attrsByLName[q];if(W){this._attrsByLName[q]=void 0;var ue=this._attrKeys.indexOf(q);this._attributes&&Array.prototype.splice.call(this._attributes,ue,1),this._attrKeys.splice(ue,1),this._removeQName(W);var ge=W.onchange;W._setOwnerElement(null),ge&&ge.call(W,this,W.localName,W.value,null),this.rooted&&this.ownerDocument.mutateRemoveAttr(W)}}},removeAttributeNode:{value:function(y){var O=y.namespaceURI,q=(O===null?"":O)+"|"+y.localName;return this._attrsByLName[q]!==y&&r.NotFoundError(),this.removeAttributeNS(O,y.localName),y}},getAttributeNames:{value:function(){var y=this;return this._attrKeys.map(function(O){return y._attrsByLName[O].name})}},_getattr:{value:function(y){var O=this._attrsByQName[y];return O?O.value:null}},_setattr:{value:function(y,O){var q=this._attrsByQName[y],W;q||(q=this._newattr(y),W=!0),q.value=String(O),this._attributes&&(this._attributes[y]=q),W&&this._newattrhook&&this._newattrhook(y,O)}},_newattr:{value:function(y){var O=new S(this,y,null,null),q="|"+y;return this._attrsByQName[y]=O,this._attrsByLName[q]=O,this._attributes&&(this._attributes[this._attrKeys.length]=O),this._attrKeys.push(q),O}},_addQName:{value:function(m){var y=m.name,O=this._attrsByQName[y];O?Array.isArray(O)?O.push(m):this._attrsByQName[y]=[O,m]:this._attrsByQName[y]=m,this._attributes&&(this._attributes[y]=m)}},_removeQName:{value:function(m){var y=m.name,O=this._attrsByQName[y];if(Array.isArray(O)){var q=O.indexOf(m);r.assert(q!==-1),O.length===2?(this._attrsByQName[y]=O[1-q],this._attributes&&(this._attributes[y]=this._attrsByQName[y])):(O.splice(q,1),this._attributes&&this._attributes[y]===m&&(this._attributes[y]=O[0]))}else r.assert(O===m),this._attrsByQName[y]=void 0,this._attributes&&(this._attributes[y]=void 0)}},_numattrs:{get:function(){return this._attrKeys.length}},_attr:{value:function(m){return this._attrsByLName[this._attrKeys[m]]}},id:s.property({name:"id"}),className:s.property({name:"class"}),classList:{get:function(){var m=this;if(this._classList)return this._classList;var y=new d(function(){return m.className||""},function(O){m.className=O});return this._classList=y,y},set:function(m){this.className=m}},matches:{value:function(m){return f.matches(this,m)}},closest:{value:function(m){var y=this;do{if(y.matches&&y.matches(m))return y;y=y.parentElement||y.parentNode}while(y!==null&&y.nodeType===o.ELEMENT_NODE);return null}},querySelector:{value:function(m){return f(m,this)[0]}},querySelectorAll:{value:function(m){var y=f(m,this);return y.item?y:new a(y)}}}),Object.defineProperties(C.prototype,p),Object.defineProperties(C.prototype,v),s.registerChangeHandler(C,"id",function(m,y,O,q){m.rooted&&(O&&m.ownerDocument.delId(O,m),q&&m.ownerDocument.addId(q,m))}),s.registerChangeHandler(C,"class",function(m,y,O,q){m._classList&&m._classList._update()});function S(m,y,O,q,W){this.localName=y,this.prefix=O===null||O===""?null:""+O,this.namespaceURI=q===null||q===""?null:""+q,this.data=W,this._setOwnerElement(m)}S.prototype=Object.create(Object.prototype,{ownerElement:{get:function(){return this._ownerElement}},_setOwnerElement:{value:function(y){this._ownerElement=y,this.prefix===null&&this.namespaceURI===null&&y?this.onchange=y._attributeChangeHandlers[this.localName]:this.onchange=null}},name:{get:function(){return this.prefix?this.prefix+":"+this.localName:this.localName}},specified:{get:function(){return!0}},value:{get:function(){return this.data},set:function(m){var y=this.data;m=m===void 0?"":m+"",m!==y&&(this.data=m,this.ownerElement&&(this.onchange&&this.onchange(this.ownerElement,this.localName,y,m),this.ownerElement.rooted&&this.ownerElement.ownerDocument.mutateAttr(this,y)))}},cloneNode:{value:function(y){return new S(null,this.localName,this.prefix,this.namespaceURI,this.data)}},nodeType:{get:function(){return o.ATTRIBUTE_NODE}},nodeName:{get:function(){return this.name}},nodeValue:{get:function(){return this.value},set:function(m){this.value=m}},textContent:{get:function(){return this.value},set:function(m){m==null&&(m=""),this.value=m}},innerText:{get:function(){return this.value},set:function(m){m==null&&(m=""),this.value=m}}}),C._Attr=S;function x(m){T.call(this,m);for(var y in m._attrsByQName)this[y]=m._attrsByQName[y];for(var O=0;O<m._attrKeys.length;O++)this[O]=m._attrsByLName[m._attrKeys[O]]}x.prototype=Object.create(T.prototype,{length:{get:function(){return this.element._attrKeys.length},set:function(){}},item:{value:function(m){return m=m>>>0,m>=this.length?null:this.element._attrsByLName[this.element._attrKeys[m]]}}});var V;(V=globalThis.Symbol)!=null&&V.iterator&&(x.prototype[globalThis.Symbol.iterator]=function(){var m=0,y=this.length,O=this;return{next:function(){return m<y?{value:O.item(m++)}:{done:!0}}}});function R(m){this.element=m,this.updateCache()}R.prototype=Object.create(Object.prototype,{length:{get:function(){return this.updateCache(),this.childrenByNumber.length}},item:{value:function(y){return this.updateCache(),this.childrenByNumber[y]||null}},namedItem:{value:function(y){return this.updateCache(),this.childrenByName[y]||null}},namedItems:{get:function(){return this.updateCache(),this.childrenByName}},updateCache:{value:function(){var y=/^(a|applet|area|embed|form|frame|frameset|iframe|img|object)$/;if(this.lastModTime!==this.element.lastModTime){this.lastModTime=this.element.lastModTime;for(var O=this.childrenByNumber&&this.childrenByNumber.length||0,q=0;q<O;q++)this[q]=void 0;this.childrenByNumber=[],this.childrenByName=Object.create(null);for(var W=this.element.firstChild;W!==null;W=W.nextSibling)if(W.nodeType===o.ELEMENT_NODE){this[this.childrenByNumber.length]=W,this.childrenByNumber.push(W);var ue=W.getAttribute("id");ue&&!this.childrenByName[ue]&&(this.childrenByName[ue]=W);var ge=W.getAttribute("name");ge&&this.element.namespaceURI===i.HTML&&y.test(this.element.localName)&&!this.childrenByName[ge]&&(this.childrenByName[ue]=W)}}}}});function A(m){return function(y){return y.localName===m}}function N(m){var y=r.toASCIILowerCase(m);return y===m?A(m):function(O){return O.isHTML?O.localName===y:O.localName===m}}function _(m){return function(y){return y.namespaceURI===m}}function I(m,y){return function(O){return O.namespaceURI===m&&O.localName===y}}function L(m){return function(y){return m.every(function(O){return y.classList.contains(O)})}}function g(m){return function(y){return y.namespaceURI!==i.HTML?!1:y.getAttribute("name")===m}}}}),PF=Ue({"external/npm/node_modules/domino/lib/Leaf.js"(n,e){e.exports=a;var t=Or(),r=pf(),i=Bn(),s=i.HierarchyRequestError,o=i.NotFoundError;function a(){t.call(this)}a.prototype=Object.create(t.prototype,{hasChildNodes:{value:function(){return!1}},firstChild:{value:null},lastChild:{value:null},insertBefore:{value:function(u,c){if(!u.nodeType)throw new TypeError("not a node");s()}},replaceChild:{value:function(u,c){if(!u.nodeType)throw new TypeError("not a node");s()}},removeChild:{value:function(u){if(!u.nodeType)throw new TypeError("not a node");o()}},removeChildren:{value:function(){}},childNodes:{get:function(){return this._childNodes||(this._childNodes=new r),this._childNodes}}})}}),Ab=Ue({"external/npm/node_modules/domino/lib/CharacterData.js"(n,e){e.exports=o;var t=PF(),r=Bn(),i=kI(),s=MF();function o(){t.call(this)}o.prototype=Object.create(t.prototype,{substringData:{value:function(u,c){if(arguments.length<2)throw new TypeError("Not enough arguments");return u=u>>>0,c=c>>>0,(u>this.data.length||u<0||c<0)&&r.IndexSizeError(),this.data.substring(u,u+c)}},appendData:{value:function(u){if(arguments.length<1)throw new TypeError("Not enough arguments");this.data+=String(u)}},insertData:{value:function(u,c){return this.replaceData(u,0,c)}},deleteData:{value:function(u,c){return this.replaceData(u,c,"")}},replaceData:{value:function(u,c,l){var d=this.data,f=d.length;u=u>>>0,c=c>>>0,l=String(l),(u>f||u<0)&&r.IndexSizeError(),u+c>f&&(c=f-u);var h=d.substring(0,u),p=d.substring(u+c);this.data=h+l+p}},isEqual:{value:function(u){return this._data===u._data}},length:{get:function(){return this.data.length}}}),Object.defineProperties(o.prototype,i),Object.defineProperties(o.prototype,s)}}),LF=Ue({"external/npm/node_modules/domino/lib/Text.js"(n,e){e.exports=s;var t=Bn(),r=Or(),i=Ab();function s(a,u){i.call(this),this.nodeType=r.TEXT_NODE,this.ownerDocument=a,this._data=u,this._index=void 0}var o={get:function(){return this._data},set:function(a){a==null?a="":a=String(a),a!==this._data&&(this._data=a,this.rooted&&this.ownerDocument.mutateValue(this),this.parentNode&&this.parentNode._textchangehook&&this.parentNode._textchangehook(this))}};s.prototype=Object.create(i.prototype,{nodeName:{value:"#text"},nodeValue:o,textContent:o,innerText:o,data:{get:o.get,set:function(a){o.set.call(this,a===null?"":String(a))}},splitText:{value:function(u){(u>this._data.length||u<0)&&t.IndexSizeError();var c=this._data.substring(u),l=this.ownerDocument.createTextNode(c);this.data=this.data.substring(0,u);var d=this.parentNode;return d!==null&&d.insertBefore(l,this.nextSibling),l}},wholeText:{get:function(){for(var u=this.textContent,c=this.nextSibling;c&&c.nodeType===r.TEXT_NODE;c=c.nextSibling)u+=c.textContent;return u}},replaceWholeText:{value:t.nyi},clone:{value:function(){return new s(this.ownerDocument,this._data)}}})}}),FF=Ue({"external/npm/node_modules/domino/lib/Comment.js"(n,e){e.exports=i;var t=Or(),r=Ab();function i(o,a){r.call(this),this.nodeType=t.COMMENT_NODE,this.ownerDocument=o,this._data=a}var s={get:function(){return this._data},set:function(o){o==null?o="":o=String(o),this._data=o,this.rooted&&this.ownerDocument.mutateValue(this)}};i.prototype=Object.create(r.prototype,{nodeName:{value:"#comment"},nodeValue:s,textContent:s,innerText:s,data:{get:s.get,set:function(o){s.set.call(this,o===null?"":String(o))}},clone:{value:function(){return new i(this.ownerDocument,this._data)}}})}}),UF=Ue({"external/npm/node_modules/domino/lib/DocumentFragment.js"(n,e){e.exports=u;var t=Or(),r=pf(),i=AI(),s=Tm(),o=RI(),a=Bn();function u(c){i.call(this),this.nodeType=t.DOCUMENT_FRAGMENT_NODE,this.ownerDocument=c}u.prototype=Object.create(i.prototype,{nodeName:{value:"#document-fragment"},nodeValue:{get:function(){return null},set:function(){}},textContent:Object.getOwnPropertyDescriptor(s.prototype,"textContent"),innerText:Object.getOwnPropertyDescriptor(s.prototype,"innerText"),querySelector:{value:function(c){var l=this.querySelectorAll(c);return l.length?l[0]:null}},querySelectorAll:{value:function(c){var l=Object.create(this);l.isHTML=!0,l.getElementsByTagName=s.prototype.getElementsByTagName,l.nextElement=Object.getOwnPropertyDescriptor(s.prototype,"firstElementChild").get;var d=o(c,l);return d.item?d:new r(d)}},clone:{value:function(){return new u(this.ownerDocument)}},isEqual:{value:function(l){return!0}},innerHTML:{get:function(){return this.serialize()},set:a.nyi},outerHTML:{get:function(){return this.serialize()},set:a.nyi}})}}),BF=Ue({"external/npm/node_modules/domino/lib/ProcessingInstruction.js"(n,e){e.exports=i;var t=Or(),r=Ab();function i(o,a,u){r.call(this),this.nodeType=t.PROCESSING_INSTRUCTION_NODE,this.ownerDocument=o,this.target=a,this._data=u}var s={get:function(){return this._data},set:function(o){o==null?o="":o=String(o),this._data=o,this.rooted&&this.ownerDocument.mutateValue(this)}};i.prototype=Object.create(r.prototype,{nodeName:{get:function(){return this.target}},nodeValue:s,textContent:s,innerText:s,data:{get:s.get,set:function(o){s.set.call(this,o===null?"":String(o))}},clone:{value:function(){return new i(this.ownerDocument,this.target,this._data)}},isEqual:{value:function(a){return this.target===a.target&&this._data===a._data}}})}}),Nb=Ue({"external/npm/node_modules/domino/lib/NodeFilter.js"(n,e){var t={FILTER_ACCEPT:1,FILTER_REJECT:2,FILTER_SKIP:3,SHOW_ALL:4294967295,SHOW_ELEMENT:1,SHOW_ATTRIBUTE:2,SHOW_TEXT:4,SHOW_CDATA_SECTION:8,SHOW_ENTITY_REFERENCE:16,SHOW_ENTITY:32,SHOW_PROCESSING_INSTRUCTION:64,SHOW_COMMENT:128,SHOW_DOCUMENT:256,SHOW_DOCUMENT_TYPE:512,SHOW_DOCUMENT_FRAGMENT:1024,SHOW_NOTATION:2048};e.exports=t.constructor=t.prototype=t}}),VF=Ue({"external/npm/node_modules/domino/lib/NodeTraversal.js"(n,e){e.exports={nextSkippingChildren:t,nextAncestorSibling:r,next:i,previous:o,deepLastChild:s};function t(a,u){return a===u?null:a.nextSibling!==null?a.nextSibling:r(a,u)}function r(a,u){for(a=a.parentNode;a!==null;a=a.parentNode){if(a===u)return null;if(a.nextSibling!==null)return a.nextSibling}return null}function i(a,u){var c;return c=a.firstChild,c!==null?c:a===u?null:(c=a.nextSibling,c!==null?c:r(a,u))}function s(a){for(;a.lastChild;)a=a.lastChild;return a}function o(a,u){var c;return c=a.previousSibling,c!==null?s(c):(c=a.parentNode,c===u?null:c)}}}),Jie=Ue({"external/npm/node_modules/domino/lib/TreeWalker.js"(n,e){e.exports=l;var t=Or(),r=Nb(),i=VF(),s=Bn(),o={first:"firstChild",last:"lastChild",next:"firstChild",previous:"lastChild"},a={first:"nextSibling",last:"previousSibling",next:"nextSibling",previous:"previousSibling"};function u(d,f){var h,p,v,T,w;for(p=d._currentNode[o[f]];p!==null;){if(T=d._internalFilter(p),T===r.FILTER_ACCEPT)return d._currentNode=p,p;if(T===r.FILTER_SKIP&&(h=p[o[f]],h!==null)){p=h;continue}for(;p!==null;){if(w=p[a[f]],w!==null){p=w;break}if(v=p.parentNode,v===null||v===d.root||v===d._currentNode)return null;p=v}}return null}function c(d,f){var h,p,v;if(h=d._currentNode,h===d.root)return null;for(;;){for(v=h[a[f]];v!==null;){if(h=v,p=d._internalFilter(h),p===r.FILTER_ACCEPT)return d._currentNode=h,h;v=h[o[f]],(p===r.FILTER_REJECT||v===null)&&(v=h[a[f]])}if(h=h.parentNode,h===null||h===d.root||d._internalFilter(h)===r.FILTER_ACCEPT)return null}}function l(d,f,h){(!d||!d.nodeType)&&s.NotSupportedError(),this._root=d,this._whatToShow=Number(f)||0,this._filter=h||null,this._active=!1,this._currentNode=d}Object.defineProperties(l.prototype,{root:{get:function(){return this._root}},whatToShow:{get:function(){return this._whatToShow}},filter:{get:function(){return this._filter}},currentNode:{get:function(){return this._currentNode},set:function(f){if(!(f instanceof t))throw new TypeError("Not a Node");this._currentNode=f}},_internalFilter:{value:function(f){var h,p;if(this._active&&s.InvalidStateError(),!(1<<f.nodeType-1&this._whatToShow))return r.FILTER_SKIP;if(p=this._filter,p===null)h=r.FILTER_ACCEPT;else{this._active=!0;try{typeof p=="function"?h=p(f):h=p.acceptNode(f)}finally{this._active=!1}}return+h}},parentNode:{value:function(){for(var f=this._currentNode;f!==this.root;){if(f=f.parentNode,f===null)return null;if(this._internalFilter(f)===r.FILTER_ACCEPT)return this._currentNode=f,f}return null}},firstChild:{value:function(){return u(this,"first")}},lastChild:{value:function(){return u(this,"last")}},previousSibling:{value:function(){return c(this,"previous")}},nextSibling:{value:function(){return c(this,"next")}},previousNode:{value:function(){var f,h,p,v;for(f=this._currentNode;f!==this._root;){for(p=f.previousSibling;p;p=f.previousSibling)if(f=p,h=this._internalFilter(f),h!==r.FILTER_REJECT){for(v=f.lastChild;v&&(f=v,h=this._internalFilter(f),h!==r.FILTER_REJECT);v=f.lastChild);if(h===r.FILTER_ACCEPT)return this._currentNode=f,f}if(f===this.root||f.parentNode===null)return null;if(f=f.parentNode,this._internalFilter(f)===r.FILTER_ACCEPT)return this._currentNode=f,f}return null}},nextNode:{value:function(){var f,h,p,v;f=this._currentNode,h=r.FILTER_ACCEPT;e:for(;;){for(p=f.firstChild;p;p=f.firstChild){if(f=p,h=this._internalFilter(f),h===r.FILTER_ACCEPT)return this._currentNode=f,f;if(h===r.FILTER_REJECT)break}for(v=i.nextSkippingChildren(f,this.root);v;v=i.nextSkippingChildren(f,this.root)){if(f=v,h=this._internalFilter(f),h===r.FILTER_ACCEPT)return this._currentNode=f,f;if(h===r.FILTER_SKIP)continue e}return null}}},toString:{value:function(){return"[object TreeWalker]"}}})}}),ese=Ue({"external/npm/node_modules/domino/lib/NodeIterator.js"(n,e){e.exports=u;var t=Nb(),r=VF(),i=Bn();function s(c,l,d){return d?r.next(c,l):c===l?null:r.previous(c,null)}function o(c,l){for(;l;l=l.parentNode)if(c===l)return!0;return!1}function a(c,l){var d,f;for(d=c._referenceNode,f=c._pointerBeforeReferenceNode;;){if(f===l)f=!f;else if(d=s(d,c._root,l),d===null)return null;var h=c._internalFilter(d);if(h===t.FILTER_ACCEPT)break}return c._referenceNode=d,c._pointerBeforeReferenceNode=f,d}function u(c,l,d){(!c||!c.nodeType)&&i.NotSupportedError(),this._root=c,this._referenceNode=c,this._pointerBeforeReferenceNode=!0,this._whatToShow=Number(l)||0,this._filter=d||null,this._active=!1,c.doc._attachNodeIterator(this)}Object.defineProperties(u.prototype,{root:{get:function(){return this._root}},referenceNode:{get:function(){return this._referenceNode}},pointerBeforeReferenceNode:{get:function(){return this._pointerBeforeReferenceNode}},whatToShow:{get:function(){return this._whatToShow}},filter:{get:function(){return this._filter}},_internalFilter:{value:function(l){var d,f;if(this._active&&i.InvalidStateError(),!(1<<l.nodeType-1&this._whatToShow))return t.FILTER_SKIP;if(f=this._filter,f===null)d=t.FILTER_ACCEPT;else{this._active=!0;try{typeof f=="function"?d=f(l):d=f.acceptNode(l)}finally{this._active=!1}}return+d}},_preremove:{value:function(l){if(!o(l,this._root)&&o(l,this._referenceNode)){if(this._pointerBeforeReferenceNode){for(var d=l;d.lastChild;)d=d.lastChild;if(d=r.next(d,this.root),d){this._referenceNode=d;return}this._pointerBeforeReferenceNode=!1}if(l.previousSibling===null)this._referenceNode=l.parentNode;else{this._referenceNode=l.previousSibling;var f;for(f=this._referenceNode.lastChild;f;f=this._referenceNode.lastChild)this._referenceNode=f}}}},nextNode:{value:function(){return a(this,!0)}},previousNode:{value:function(){return a(this,!1)}},detach:{value:function(){}},toString:{value:function(){return"[object NodeIterator]"}}})}}),MI=Ue({"external/npm/node_modules/domino/lib/URL.js"(n,e){e.exports=t;function t(r){if(!r)return Object.create(t.prototype);this.url=r.replace(/^[ \t\n\r\f]+|[ \t\n\r\f]+$/g,"");var i=t.pattern.exec(this.url);if(i){if(i[2]&&(this.scheme=i[2]),i[4]){var s=i[4].match(t.userinfoPattern);if(s&&(this.username=s[1],this.password=s[3],i[4]=i[4].substring(s[0].length)),i[4].match(t.portPattern)){var o=i[4].lastIndexOf(":");this.host=i[4].substring(0,o),this.port=i[4].substring(o+1)}else this.host=i[4]}i[5]&&(this.path=i[5]),i[6]&&(this.query=i[7]),i[8]&&(this.fragment=i[9])}}t.pattern=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,t.userinfoPattern=/^([^@:]*)(:([^@]*))?@/,t.portPattern=/:\d+$/,t.authorityPattern=/^[^:\/?#]+:\/\//,t.hierarchyPattern=/^[^:\/?#]+:\//,t.percentEncode=function(i){var s=i.charCodeAt(0);if(s<256)return"%"+s.toString(16);throw Error("can't percent-encode codepoints > 255 yet")},t.prototype={constructor:t,isAbsolute:function(){return!!this.scheme},isAuthorityBased:function(){return t.authorityPattern.test(this.url)},isHierarchical:function(){return t.hierarchyPattern.test(this.url)},toString:function(){var r="";return this.scheme!==void 0&&(r+=this.scheme+":"),this.isAbsolute()&&(r+="//",(this.username||this.password)&&(r+=this.username||"",this.password&&(r+=":"+this.password),r+="@"),this.host&&(r+=this.host)),this.port!==void 0&&(r+=":"+this.port),this.path!==void 0&&(r+=this.path),this.query!==void 0&&(r+="?"+this.query),this.fragment!==void 0&&(r+="#"+this.fragment),r},resolve:function(r){var i=this,s=new t(r),o=new t;return s.scheme!==void 0?(o.scheme=s.scheme,o.username=s.username,o.password=s.password,o.host=s.host,o.port=s.port,o.path=u(s.path),o.query=s.query):(o.scheme=i.scheme,s.host!==void 0?(o.username=s.username,o.password=s.password,o.host=s.host,o.port=s.port,o.path=u(s.path),o.query=s.query):(o.username=i.username,o.password=i.password,o.host=i.host,o.port=i.port,s.path?(s.path.charAt(0)==="/"?o.path=u(s.path):(o.path=a(i.path,s.path),o.path=u(o.path)),o.query=s.query):(o.path=i.path,s.query!==void 0?o.query=s.query:o.query=i.query))),o.fragment=s.fragment,o.toString();function a(c,l){if(i.host!==void 0&&!i.path)return"/"+l;var d=c.lastIndexOf("/");return d===-1?l:c.substring(0,d+1)+l}function u(c){if(!c)return c;for(var l="";c.length>0;){if(c==="."||c===".."){c="";break}var d=c.substring(0,2),f=c.substring(0,3),h=c.substring(0,4);if(f==="../")c=c.substring(3);else if(d==="./")c=c.substring(2);else if(f==="/./")c="/"+c.substring(3);else if(d==="/."&&c.length===2)c="/";else if(h==="/../"||f==="/.."&&c.length===3)c="/"+c.substring(4),l=l.replace(/\/?[^\/]*$/,"");else{var p=c.match(/(\/?([^\/]*))/)[0];l+=p,c=c.substring(p.length)}}return l}}}}}),tse=Ue({"external/npm/node_modules/domino/lib/CustomEvent.js"(n,e){e.exports=r;var t=Sm();function r(i,s){t.call(this,i,s)}r.prototype=Object.create(t.prototype,{constructor:{value:r}})}}),qF=Ue({"external/npm/node_modules/domino/lib/events.js"(n,e){e.exports={Event:Sm(),UIEvent:IF(),MouseEvent:DF(),CustomEvent:tse()}}}),nse=Ue({"external/npm/node_modules/domino/lib/style_parser.js"(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hyphenate=n.parse=void 0;function e(r){let i=[],s=0,o=0,a=0,u=0,c=0,l=null;for(;s<r.length;)switch(r.charCodeAt(s++)){case 40:o++;break;case 41:o--;break;case 39:a===0?a=39:a===39&&r.charCodeAt(s-1)!==92&&(a=0);break;case 34:a===0?a=34:a===34&&r.charCodeAt(s-1)!==92&&(a=0);break;case 58:!l&&o===0&&a===0&&(l=t(r.substring(c,s-1).trim()),u=s);break;case 59:if(l&&u>0&&o===0&&a===0){let f=r.substring(u,s-1).trim();i.push(l,f),c=s,u=0,l=null}break}if(l&&u){let d=r.slice(u).trim();i.push(l,d)}return i}n.parse=e;function t(r){return r.replace(/[a-z][A-Z]/g,i=>i.charAt(0)+"-"+i.charAt(1)).toLowerCase()}n.hyphenate=t}}),OI=Ue({"external/npm/node_modules/domino/lib/CSSStyleDeclaration.js"(n,e){var{parse:t}=nse();e.exports=function(u){let c=new i(u),l={get:function(d,f){return f in d?d[f]:d.getPropertyValue(r(f))},has:function(d,f){return!0},set:function(d,f,h){return f in d?d[f]=h:d.setProperty(r(f),h??void 0),!0}};return new Proxy(c,l)};function r(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function i(u){this._element=u}var s="!important";function o(u){let c={property:{},priority:{}};if(!u)return c;let l=t(u);if(l.length<2)return c;for(let d=0;d<l.length;d+=2){let f=l[d],h=l[d+1];h.endsWith(s)&&(c.priority[f]="important",h=h.slice(0,-s.length).trim()),c.property[f]=h}return c}var a={};i.prototype=Object.create(Object.prototype,{_parsed:{get:function(){if(!this._parsedStyles||this.cssText!==this._lastParsedText){var u=this.cssText;this._parsedStyles=o(u),this._lastParsedText=u,delete this._names}return this._parsedStyles}},_serialize:{value:function(){var u=this._parsed,c="";for(var l in u.property)c&&(c+=" "),c+=l+": "+u.property[l],u.priority[l]&&(c+=" !"+u.priority[l]),c+=";";this.cssText=c,this._lastParsedText=c,delete this._names}},cssText:{get:function(){return this._element.getAttribute("style")},set:function(u){this._element.setAttribute("style",u)}},length:{get:function(){return this._names||(this._names=Object.getOwnPropertyNames(this._parsed.property)),this._names.length}},item:{value:function(u){return this._names||(this._names=Object.getOwnPropertyNames(this._parsed.property)),this._names[u]}},getPropertyValue:{value:function(u){return u=u.toLowerCase(),this._parsed.property[u]||""}},getPropertyPriority:{value:function(u){return u=u.toLowerCase(),this._parsed.priority[u]||""}},setProperty:{value:function(u,c,l){if(u=u.toLowerCase(),c==null&&(c=""),l==null&&(l=""),c!==a&&(c=""+c),c=c.trim(),c===""){this.removeProperty(u);return}if(!(l!==""&&l!==a&&!/^important$/i.test(l))){var d=this._parsed;if(c===a){if(!d.property[u])return;l!==""?d.priority[u]="important":delete d.priority[u]}else{if(c.includes(";")&&!c.includes("data:"))return;var f=o(u+":"+c);if(Object.getOwnPropertyNames(f.property).length===0||Object.getOwnPropertyNames(f.priority).length!==0)return;for(var h in f.property)d.property[h]=f.property[h],l!==a&&(l!==""?d.priority[h]="important":d.priority[h]&&delete d.priority[h])}this._serialize()}}},setPropertyValue:{value:function(u,c){return this.setProperty(u,c,a)}},setPropertyPriority:{value:function(u,c){return this.setProperty(u,a,c)}},removeProperty:{value:function(u){u=u.toLowerCase();var c=this._parsed;u in c.property&&(delete c.property[u],delete c.priority[u],this._serialize())}}})}}),jF=Ue({"external/npm/node_modules/domino/lib/URLUtils.js"(n,e){var t=MI();e.exports=r;function r(){}r.prototype=Object.create(Object.prototype,{_url:{get:function(){return new t(this.href)}},protocol:{get:function(){var i=this._url;return i&&i.scheme?i.scheme+":":":"},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&(i=i.replace(/:+$/,""),i=i.replace(/[^-+\.a-zA-Z0-9]/g,t.percentEncode),i.length>0&&(o.scheme=i,s=o.toString())),this.href=s}},host:{get:function(){var i=this._url;return i.isAbsolute()&&i.isAuthorityBased()?i.host+(i.port?":"+i.port:""):""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&o.isAuthorityBased()&&(i=i.replace(/[^-+\._~!$&'()*,;:=a-zA-Z0-9]/g,t.percentEncode),i.length>0&&(o.host=i,delete o.port,s=o.toString())),this.href=s}},hostname:{get:function(){var i=this._url;return i.isAbsolute()&&i.isAuthorityBased()?i.host:""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&o.isAuthorityBased()&&(i=i.replace(/^\/+/,""),i=i.replace(/[^-+\._~!$&'()*,;:=a-zA-Z0-9]/g,t.percentEncode),i.length>0&&(o.host=i,s=o.toString())),this.href=s}},port:{get:function(){var i=this._url;return i.isAbsolute()&&i.isAuthorityBased()&&i.port!==void 0?i.port:""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&o.isAuthorityBased()&&(i=""+i,i=i.replace(/[^0-9].*$/,""),i=i.replace(/^0+/,""),i.length===0&&(i="0"),parseInt(i,10)<=65535&&(o.port=i,s=o.toString())),this.href=s}},pathname:{get:function(){var i=this._url;return i.isAbsolute()&&i.isHierarchical()?i.path:""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&o.isHierarchical()&&(i.charAt(0)!=="/"&&(i="/"+i),i=i.replace(/[^-+\._~!$&'()*,;:=@\/a-zA-Z0-9]/g,t.percentEncode),o.path=i,s=o.toString()),this.href=s}},search:{get:function(){var i=this._url;return i.isAbsolute()&&i.isHierarchical()&&i.query!==void 0?"?"+i.query:""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&o.isHierarchical()&&(i.charAt(0)==="?"&&(i=i.substring(1)),i=i.replace(/[^-+\._~!$&'()*,;:=@\/?a-zA-Z0-9]/g,t.percentEncode),o.query=i,s=o.toString()),this.href=s}},hash:{get:function(){var i=this._url;return i==null||i.fragment==null||i.fragment===""?"":"#"+i.fragment},set:function(i){var s=this.href,o=new t(s);i.charAt(0)==="#"&&(i=i.substring(1)),i=i.replace(/[^-+\._~!$&'()*,;:=@\/?a-zA-Z0-9]/g,t.percentEncode),o.fragment=i,s=o.toString(),this.href=s}},username:{get:function(){var i=this._url;return i.username||""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&(i=i.replace(/[\x00-\x1F\x7F-\uFFFF "#<>?`\/@\\:]/g,t.percentEncode),o.username=i,s=o.toString()),this.href=s}},password:{get:function(){var i=this._url;return i.password||""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&(i===""?o.password=null:(i=i.replace(/[\x00-\x1F\x7F-\uFFFF "#<>?`\/@\\]/g,t.percentEncode),o.password=i),s=o.toString()),this.href=s}},origin:{get:function(){var i=this._url;if(i==null)return"";var s=function(o){var a=[i.scheme,i.host,+i.port||o];return a[0]+"://"+a[1]+(a[2]===o?"":":"+a[2])};switch(i.scheme){case"ftp":return s(21);case"gopher":return s(70);case"http":case"ws":return s(80);case"https":case"wss":return s(443);default:return i.scheme+"://"}}}}),r._inherit=function(i){Object.getOwnPropertyNames(r.prototype).forEach(function(s){if(!(s==="constructor"||s==="href")){var o=Object.getOwnPropertyDescriptor(r.prototype,s);Object.defineProperty(i,s,o)}})}}}),HF=Ue({"external/npm/node_modules/domino/lib/defineElement.js"(n,e){var t=RF(),r=xI().isApiWritable;e.exports=function(a,u,c,l){var d=a.ctor;if(d){var f=a.props||{};if(a.attributes)for(var h in a.attributes){var p=a.attributes[h];(typeof p!="object"||Array.isArray(p))&&(p={type:p}),p.name||(p.name=h.toLowerCase()),f[h]=t.property(p)}f.constructor={value:d,writable:r},d.prototype=Object.create((a.superclass||u).prototype,f),a.events&&o(d,a.events),c[a.name]=d}else d=u;return(a.tags||a.tag&&[a.tag]||[]).forEach(function(v){l[v]=d}),d};function i(a,u,c,l){this.body=a,this.document=u,this.form=c,this.element=l}i.prototype.build=function(){return()=>{}};function s(a,u,c,l){var d=a.ownerDocument||Object.create(null),f=a.form||Object.create(null);a[u]=new i(l,d,f,a).build()}function o(a,u){var c=a.prototype;u.forEach(function(l){Object.defineProperty(c,"on"+l,{get:function(){return this._getEventHandler(l)},set:function(d){this._setEventHandler(l,d)}}),t.registerChangeHandler(a,"on"+l,s)})}}}),PI=Ue({"external/npm/node_modules/domino/lib/htmlelts.js"(n){var e=Or(),t=Tm(),r=OI(),i=Bn(),s=jF(),o=HF(),a=n.elements={},u=Object.create(null);n.createElement=function(C,D,S){var x=u[D]||T;return new x(C,D,S)};function c(C){return o(C,v,a,u)}function l(C){return{get:function(){var D=this._getattr(C);if(D===null)return"";var S=this.doc._resolve(D);return S===null?D:S},set:function(D){this._setattr(C,D)}}}function d(C){return{get:function(){var D=this._getattr(C);return D===null?null:D.toLowerCase()==="use-credentials"?"use-credentials":"anonymous"},set:function(D){D==null?this.removeAttribute(C):this._setattr(C,D)}}}var f={type:["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],missing:""},h={A:!0,LINK:!0,BUTTON:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0,COMMAND:!0},p=function(C,D,S){v.call(this,C,D,S),this._form=null},v=n.HTMLElement=c({superclass:t,name:"HTMLElement",ctor:function(D,S,x){t.call(this,D,S,i.NAMESPACE.HTML,x)},props:{dangerouslySetInnerHTML:{set:function(C){this._innerHTML=C}},innerHTML:{get:function(){return this.serialize()},set:function(C){var D=this.ownerDocument.implementation.mozHTMLParser(this.ownerDocument._address,this);D.parse(C===null?"":String(C),!0);for(var S=this instanceof u.template?this.content:this;S.hasChildNodes();)S.removeChild(S.firstChild);S.appendChild(D._asDocumentFragment())}},style:{get:function(){return this._style||(this._style=new r(this)),this._style},set:function(C){C==null&&(C=""),this._setattr("style",String(C))}},blur:{value:function(){}},focus:{value:function(){}},forceSpellCheck:{value:function(){}},click:{value:function(){if(!this._click_in_progress){this._click_in_progress=!0;try{this._pre_click_activation_steps&&this._pre_click_activation_steps();var C=this.ownerDocument.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);var D=this.dispatchEvent(C);D?this._post_click_activation_steps&&this._post_click_activation_steps(C):this._cancelled_activation_steps&&this._cancelled_activation_steps()}finally{this._click_in_progress=!1}}}},submit:{value:i.nyi}},attributes:{title:String,lang:String,dir:{type:["ltr","rtl","auto"],missing:""},draggable:{type:["true","false"],treatNullAsEmptyString:!0},spellcheck:{type:["true","false"],missing:""},enterKeyHint:{type:["enter","done","go","next","previous","search","send"],missing:""},autoCapitalize:{type:["off","on","none","sentences","words","characters"],missing:""},autoFocus:Boolean,accessKey:String,nonce:String,hidden:Boolean,translate:{type:["no","yes"],missing:""},tabIndex:{type:"long",default:function(){return this.tagName in h||this.contentEditable?0:-1}}},events:["abort","canplay","canplaythrough","change","click","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","input","invalid","keydown","keypress","keyup","loadeddata","loadedmetadata","loadstart","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","pause","play","playing","progress","ratechange","readystatechange","reset","seeked","seeking","select","show","stalled","submit","suspend","timeupdate","volumechange","waiting","blur","error","focus","load","scroll"]}),T=c({name:"HTMLUnknownElement",ctor:function(D,S,x){v.call(this,D,S,x)}}),w={form:{get:function(){return this._form}}};c({tag:"a",name:"HTMLAnchorElement",ctor:function(D,S,x){v.call(this,D,S,x)},props:{_post_click_activation_steps:{value:function(C){this.href&&(this.ownerDocument.defaultView.location=this.href)}}},attributes:{href:l,ping:String,download:String,target:String,rel:String,media:String,hreflang:String,type:String,referrerPolicy:f,coords:String,charset:String,name:String,rev:String,shape:String}}),s._inherit(u.a.prototype),c({tag:"area",name:"HTMLAreaElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{alt:String,target:String,download:String,rel:String,media:String,href:l,hreflang:String,type:String,shape:String,coords:String,ping:String,referrerPolicy:f,noHref:Boolean}}),s._inherit(u.area.prototype),c({tag:"br",name:"HTMLBRElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{clear:String}}),c({tag:"base",name:"HTMLBaseElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{target:String}}),c({tag:"body",name:"HTMLBodyElement",ctor:function(D,S,x){v.call(this,D,S,x)},events:["afterprint","beforeprint","beforeunload","blur","error","focus","hashchange","load","message","offline","online","pagehide","pageshow","popstate","resize","scroll","storage","unload"],attributes:{text:{type:String,treatNullAsEmptyString:!0},link:{type:String,treatNullAsEmptyString:!0},vLink:{type:String,treatNullAsEmptyString:!0},aLink:{type:String,treatNullAsEmptyString:!0},bgColor:{type:String,treatNullAsEmptyString:!0},background:String}}),c({tag:"button",name:"HTMLButtonElement",ctor:function(D,S,x){p.call(this,D,S,x)},props:w,attributes:{name:String,value:String,disabled:Boolean,autofocus:Boolean,type:{type:["submit","reset","button","menu"],missing:"submit"},formTarget:String,formAction:l,formNoValidate:Boolean,formMethod:{type:["get","post","dialog"],invalid:"get",missing:""},formEnctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:""}}}),c({tag:"dl",name:"HTMLDListElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{compact:Boolean}}),c({tag:"data",name:"HTMLDataElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{value:String}}),c({tag:"datalist",name:"HTMLDataListElement",ctor:function(D,S,x){v.call(this,D,S,x)}}),c({tag:"details",name:"HTMLDetailsElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{open:Boolean}}),c({tag:"div",name:"HTMLDivElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{align:String}}),c({tag:"embed",name:"HTMLEmbedElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{src:l,type:String,width:String,height:String,align:String,name:String}}),c({tag:"fieldset",name:"HTMLFieldSetElement",ctor:function(D,S,x){p.call(this,D,S,x)},props:w,attributes:{disabled:Boolean,name:String}}),c({tag:"form",name:"HTMLFormElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{action:String,autocomplete:{type:["on","off"],missing:"on"},name:String,acceptCharset:{name:"accept-charset"},target:String,noValidate:Boolean,method:{type:["get","post","dialog"],invalid:"get",missing:"get"},enctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:"application/x-www-form-urlencoded"},encoding:{name:"enctype",type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:"application/x-www-form-urlencoded"}}}),c({tag:"hr",name:"HTMLHRElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{align:String,color:String,noShade:Boolean,size:String,width:String}}),c({tag:"head",name:"HTMLHeadElement",ctor:function(D,S,x){v.call(this,D,S,x)}}),c({tags:["h1","h2","h3","h4","h5","h6"],name:"HTMLHeadingElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{align:String}}),c({tag:"html",name:"HTMLHtmlElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{xmlns:l,version:String}}),c({tag:"iframe",name:"HTMLIFrameElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{src:l,srcdoc:String,name:String,width:String,height:String,seamless:Boolean,allow:Boolean,allowFullscreen:Boolean,allowUserMedia:Boolean,allowPaymentRequest:Boolean,referrerPolicy:f,loading:{type:["eager","lazy"],treatNullAsEmptyString:!0},align:String,scrolling:String,frameBorder:String,longDesc:l,marginHeight:{type:String,treatNullAsEmptyString:!0},marginWidth:{type:String,treatNullAsEmptyString:!0}}}),c({tag:"img",name:"HTMLImageElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{alt:String,src:l,srcset:String,crossOrigin:d,useMap:String,isMap:Boolean,sizes:String,height:{type:"unsigned long",default:0},width:{type:"unsigned long",default:0},referrerPolicy:f,loading:{type:["eager","lazy"],missing:""},name:String,lowsrc:l,align:String,hspace:{type:"unsigned long",default:0},vspace:{type:"unsigned long",default:0},longDesc:l,border:{type:String,treatNullAsEmptyString:!0}}}),c({tag:"input",name:"HTMLInputElement",ctor:function(D,S,x){p.call(this,D,S,x)},props:{form:w.form,_post_click_activation_steps:{value:function(C){if(this.type==="checkbox")this.checked=!this.checked;else if(this.type==="radio")for(var D=this.form.getElementsByName(this.name),S=D.length-1;S>=0;S--){var x=D[S];x.checked=x===this}}}},attributes:{name:String,disabled:Boolean,autofocus:Boolean,accept:String,alt:String,max:String,min:String,pattern:String,placeholder:String,step:String,dirName:String,defaultValue:{name:"value"},multiple:Boolean,required:Boolean,readOnly:Boolean,checked:Boolean,value:String,src:l,defaultChecked:{name:"checked",type:Boolean},size:{type:"unsigned long",default:20,min:1,setmin:1},width:{type:"unsigned long",min:0,setmin:0,default:0},height:{type:"unsigned long",min:0,setmin:0,default:0},minLength:{type:"unsigned long",min:0,setmin:0,default:-1},maxLength:{type:"unsigned long",min:0,setmin:0,default:-1},autocomplete:String,type:{type:["text","hidden","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"],missing:"text"},formTarget:String,formNoValidate:Boolean,formMethod:{type:["get","post"],invalid:"get",missing:""},formEnctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:""},inputMode:{type:["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"],missing:""},align:String,useMap:String}}),c({tag:"keygen",name:"HTMLKeygenElement",ctor:function(D,S,x){p.call(this,D,S,x)},props:w,attributes:{name:String,disabled:Boolean,autofocus:Boolean,challenge:String,keytype:{type:["rsa"],missing:""}}}),c({tag:"li",name:"HTMLLIElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{value:{type:"long",default:0},type:String}}),c({tag:"label",name:"HTMLLabelElement",ctor:function(D,S,x){p.call(this,D,S,x)},props:w,attributes:{htmlFor:{name:"for",type:String}}}),c({tag:"legend",name:"HTMLLegendElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{align:String}}),c({tag:"link",name:"HTMLLinkElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{href:l,rel:String,media:String,hreflang:String,type:String,crossOrigin:d,nonce:String,integrity:String,referrerPolicy:f,imageSizes:String,imageSrcset:String,charset:String,rev:String,target:String}}),c({tag:"map",name:"HTMLMapElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{name:String}}),c({tag:"menu",name:"HTMLMenuElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{type:{type:["context","popup","toolbar"],missing:"toolbar"},label:String,compact:Boolean}}),c({tag:"meta",name:"HTMLMetaElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{name:String,content:String,httpEquiv:{name:"http-equiv",type:String},scheme:String}}),c({tag:"meter",name:"HTMLMeterElement",ctor:function(D,S,x){p.call(this,D,S,x)},props:w}),c({tags:["ins","del"],name:"HTMLModElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{cite:l,dateTime:String}}),c({tag:"ol",name:"HTMLOListElement",ctor:function(D,S,x){v.call(this,D,S,x)},props:{_numitems:{get:function(){var C=0;return this.childNodes.forEach(function(D){D.nodeType===e.ELEMENT_NODE&&D.tagName==="LI"&&C++}),C}}},attributes:{type:String,reversed:Boolean,start:{type:"long",default:function(){return this.reversed?this._numitems:1}},compact:Boolean}}),c({tag:"object",name:"HTMLObjectElement",ctor:function(D,S,x){p.call(this,D,S,x)},props:w,attributes:{data:l,type:String,name:String,useMap:String,typeMustMatch:Boolean,width:String,height:String,align:String,archive:String,code:String,declare:Boolean,hspace:{type:"unsigned long",default:0},standby:String,vspace:{type:"unsigned long",default:0},codeBase:l,codeType:String,border:{type:String,treatNullAsEmptyString:!0}}}),c({tag:"optgroup",name:"HTMLOptGroupElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{disabled:Boolean,label:String}}),c({tag:"option",name:"HTMLOptionElement",ctor:function(D,S,x){v.call(this,D,S,x)},props:{form:{get:function(){for(var C=this.parentNode;C&&C.nodeType===e.ELEMENT_NODE;){if(C.localName==="select")return C.form;C=C.parentNode}}},value:{get:function(){return this._getattr("value")||this.text},set:function(C){this._setattr("value",C)}},text:{get:function(){return this.textContent.replace(/[ \t\n\f\r]+/g," ").trim()},set:function(C){this.textContent=C}}},attributes:{disabled:Boolean,defaultSelected:{name:"selected",type:Boolean},label:String}}),c({tag:"output",name:"HTMLOutputElement",ctor:function(D,S,x){p.call(this,D,S,x)},props:w,attributes:{name:String}}),c({tag:"p",name:"HTMLParagraphElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{align:String}}),c({tag:"param",name:"HTMLParamElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{name:String,value:String,type:String,valueType:String}}),c({tags:["pre","listing","xmp"],name:"HTMLPreElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{width:{type:"long",default:0}}}),c({tag:"progress",name:"HTMLProgressElement",ctor:function(D,S,x){p.call(this,D,S,x)},props:w,attributes:{max:{type:Number,float:!0,default:1,min:0}}}),c({tags:["q","blockquote"],name:"HTMLQuoteElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{cite:l}}),c({tag:"script",name:"HTMLScriptElement",ctor:function(D,S,x){v.call(this,D,S,x)},props:{text:{get:function(){for(var C="",D=0,S=this.childNodes.length;D<S;D++){var x=this.childNodes[D];x.nodeType===e.TEXT_NODE&&(C+=x._data)}return C},set:function(C){this.removeChildren(),C!==null&&C!==""&&this.appendChild(this.ownerDocument.createTextNode(C))}}},attributes:{src:l,type:String,charset:String,referrerPolicy:f,defer:Boolean,async:Boolean,nomodule:Boolean,crossOrigin:d,nonce:String,integrity:String}}),c({tag:"select",name:"HTMLSelectElement",ctor:function(D,S,x){p.call(this,D,S,x)},props:{form:w.form,options:{get:function(){return this.getElementsByTagName("option")}}},attributes:{autocomplete:String,name:String,disabled:Boolean,autofocus:Boolean,multiple:Boolean,required:Boolean,size:{type:"unsigned long",default:0}}}),c({tag:"span",name:"HTMLSpanElement",ctor:function(D,S,x){v.call(this,D,S,x)}}),c({tag:"style",name:"HTMLStyleElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{media:String,type:String,scoped:Boolean}}),c({tag:"caption",name:"HTMLTableCaptionElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{align:String}}),c({name:"HTMLTableCellElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{colSpan:{type:"unsigned long",default:1},rowSpan:{type:"unsigned long",default:1},scope:{type:["row","col","rowgroup","colgroup"],missing:""},abbr:String,align:String,axis:String,height:String,width:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},noWrap:Boolean,vAlign:String,bgColor:{type:String,treatNullAsEmptyString:!0}}}),c({tags:["col","colgroup"],name:"HTMLTableColElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{span:{type:"limited unsigned long with fallback",default:1,min:1},align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String,width:String}}),c({tag:"table",name:"HTMLTableElement",ctor:function(D,S,x){v.call(this,D,S,x)},props:{rows:{get:function(){return this.getElementsByTagName("tr")}}},attributes:{align:String,border:String,frame:String,rules:String,summary:String,width:String,bgColor:{type:String,treatNullAsEmptyString:!0},cellPadding:{type:String,treatNullAsEmptyString:!0},cellSpacing:{type:String,treatNullAsEmptyString:!0}}}),c({tag:"template",name:"HTMLTemplateElement",ctor:function(D,S,x){v.call(this,D,S,x),this._contentFragment=D._templateDoc.createDocumentFragment()},props:{content:{get:function(){return this._contentFragment}},serialize:{value:function(){return this.content.serialize()}}}}),c({tag:"tr",name:"HTMLTableRowElement",ctor:function(D,S,x){v.call(this,D,S,x)},props:{cells:{get:function(){return this.querySelectorAll("td,th")}}},attributes:{align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String,bgColor:{type:String,treatNullAsEmptyString:!0}}}),c({tags:["thead","tfoot","tbody"],name:"HTMLTableSectionElement",ctor:function(D,S,x){v.call(this,D,S,x)},props:{rows:{get:function(){return this.getElementsByTagName("tr")}}},attributes:{align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String}}),c({tag:"textarea",name:"HTMLTextAreaElement",ctor:function(D,S,x){p.call(this,D,S,x)},props:{form:w.form,type:{get:function(){return"textarea"}},defaultValue:{get:function(){return this.textContent},set:function(C){this.textContent=C}},value:{get:function(){return this.defaultValue},set:function(C){this.defaultValue=C}},textLength:{get:function(){return this.value.length}}},attributes:{autocomplete:String,name:String,disabled:Boolean,autofocus:Boolean,placeholder:String,wrap:String,dirName:String,required:Boolean,readOnly:Boolean,rows:{type:"limited unsigned long with fallback",default:2},cols:{type:"limited unsigned long with fallback",default:20},maxLength:{type:"unsigned long",min:0,setmin:0,default:-1},minLength:{type:"unsigned long",min:0,setmin:0,default:-1},inputMode:{type:["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"],missing:""}}}),c({tag:"time",name:"HTMLTimeElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{dateTime:String,pubDate:Boolean}}),c({tag:"title",name:"HTMLTitleElement",ctor:function(D,S,x){v.call(this,D,S,x)},props:{text:{get:function(){return this.textContent}}}}),c({tag:"ul",name:"HTMLUListElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{type:String,compact:Boolean}}),c({name:"HTMLMediaElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{src:l,crossOrigin:d,preload:{type:["metadata","none","auto",{value:"",alias:"auto"}],missing:"auto"},loop:Boolean,autoplay:Boolean,mediaGroup:String,controls:Boolean,defaultMuted:{name:"muted",type:Boolean}}}),c({name:"HTMLAudioElement",tag:"audio",superclass:a.HTMLMediaElement,ctor:function(D,S,x){a.HTMLMediaElement.call(this,D,S,x)}}),c({name:"HTMLVideoElement",tag:"video",superclass:a.HTMLMediaElement,ctor:function(D,S,x){a.HTMLMediaElement.call(this,D,S,x)},attributes:{poster:l,width:{type:"unsigned long",min:0,default:0},height:{type:"unsigned long",min:0,default:0}}}),c({tag:"td",name:"HTMLTableDataCellElement",superclass:a.HTMLTableCellElement,ctor:function(D,S,x){a.HTMLTableCellElement.call(this,D,S,x)}}),c({tag:"th",name:"HTMLTableHeaderCellElement",superclass:a.HTMLTableCellElement,ctor:function(D,S,x){a.HTMLTableCellElement.call(this,D,S,x)}}),c({tag:"frameset",name:"HTMLFrameSetElement",ctor:function(D,S,x){v.call(this,D,S,x)}}),c({tag:"frame",name:"HTMLFrameElement",ctor:function(D,S,x){v.call(this,D,S,x)}}),c({tag:"canvas",name:"HTMLCanvasElement",ctor:function(D,S,x){v.call(this,D,S,x)},props:{getContext:{value:i.nyi},probablySupportsContext:{value:i.nyi},setContext:{value:i.nyi},transferControlToProxy:{value:i.nyi},toDataURL:{value:i.nyi},toBlob:{value:i.nyi}},attributes:{width:{type:"unsigned long",default:300},height:{type:"unsigned long",default:150}}}),c({tag:"dialog",name:"HTMLDialogElement",ctor:function(D,S,x){v.call(this,D,S,x)},props:{show:{value:i.nyi},showModal:{value:i.nyi},close:{value:i.nyi}},attributes:{open:Boolean,returnValue:String}}),c({tag:"menuitem",name:"HTMLMenuItemElement",ctor:function(D,S,x){v.call(this,D,S,x)},props:{_label:{get:function(){var C=this._getattr("label");return C!==null&&C!==""?C:(C=this.textContent,C.replace(/[ \t\n\f\r]+/g," ").trim())}},label:{get:function(){var C=this._getattr("label");return C!==null?C:this._label},set:function(C){this._setattr("label",C)}}},attributes:{type:{type:["command","checkbox","radio"],missing:"command"},icon:l,disabled:Boolean,checked:Boolean,radiogroup:String,default:Boolean}}),c({tag:"source",name:"HTMLSourceElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{srcset:String,sizes:String,media:String,src:l,type:String,width:String,height:String}}),c({tag:"track",name:"HTMLTrackElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{src:l,srclang:String,label:String,default:Boolean,kind:{type:["subtitles","captions","descriptions","chapters","metadata"],missing:"subtitles",invalid:"metadata"}},props:{NONE:{get:function(){return 0}},LOADING:{get:function(){return 1}},LOADED:{get:function(){return 2}},ERROR:{get:function(){return 3}},readyState:{get:i.nyi},track:{get:i.nyi}}}),c({tag:"font",name:"HTMLFontElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{color:{type:String,treatNullAsEmptyString:!0},face:{type:String},size:{type:String}}}),c({tag:"dir",name:"HTMLDirectoryElement",ctor:function(D,S,x){v.call(this,D,S,x)},attributes:{compact:Boolean}}),c({tags:["abbr","address","article","aside","b","bdi","bdo","cite","content","code","dd","dfn","dt","em","figcaption","figure","footer","header","hgroup","i","kbd","main","mark","nav","noscript","rb","rp","rt","rtc","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr","acronym","basefont","big","center","nobr","noembed","noframes","plaintext","strike","tt"]})}}),$F=Ue({"external/npm/node_modules/domino/lib/svg.js"(n){var e=Tm(),t=HF(),r=Bn(),i=OI(),s=n.elements={},o=Object.create(null);n.createElement=function(c,l,d){var f=o[l]||u;return new f(c,l,d)};function a(c){return t(c,u,s,o)}var u=a({superclass:e,name:"SVGElement",ctor:function(l,d,f){e.call(this,l,d,r.NAMESPACE.SVG,f)},props:{style:{get:function(){return this._style||(this._style=new i(this)),this._style}}}});a({name:"SVGSVGElement",ctor:function(l,d,f){u.call(this,l,d,f)},tag:"svg",props:{createSVGRect:{value:function(){return n.createElement(this.ownerDocument,"rect",null)}}}}),a({tags:["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"]})}}),rse=Ue({"external/npm/node_modules/domino/lib/MutationConstants.js"(n,e){e.exports={VALUE:1,ATTR:2,REMOVE_ATTR:3,REMOVE:4,MOVE:5,INSERT:6}}}),LI=Ue({"external/npm/node_modules/domino/lib/Document.js"(n,e){e.exports=N;var t=Or(),r=pf(),i=AI(),s=Tm(),o=LF(),a=FF(),u=Sm(),c=UF(),l=BF(),d=Rb(),f=Jie(),h=ese(),p=Nb(),v=MI(),T=RI(),w=qF(),C=NI(),D=PI(),S=$F(),x=Bn(),V=rse(),R=x.NAMESPACE,A=xI().isApiWritable;function N(B,j){i.call(this),this.nodeType=t.DOCUMENT_NODE,this.isHTML=B,this._address=j||"about:blank",this.readyState="loading",this.implementation=new d(this),this.ownerDocument=null,this._contentType=B?"text/html":"application/xml",this.doctype=null,this.documentElement=null,this._templateDocCache=null,this._nodeIterators=null,this._nid=1,this._nextnid=2,this._nodes=[null,this],this.byId=Object.create(null),this.modclock=0}var _={event:"Event",customevent:"CustomEvent",uievent:"UIEvent",mouseevent:"MouseEvent"},I={events:"event",htmlevents:"event",mouseevents:"mouseevent",mutationevents:"mutationevent",uievents:"uievent"},L=function(B,j,le){return{get:function(){var Ce=B.call(this);return Ce?Ce[j]:le},set:function(Ce){var kt=B.call(this);kt&&(kt[j]=Ce)}}};function g(B,j){var le,Ce,kt;return B===""&&(B=null),C.isValidQName(j)||x.InvalidCharacterError(),le=null,Ce=j,kt=j.indexOf(":"),kt>=0&&(le=j.substring(0,kt),Ce=j.substring(kt+1)),le!==null&&B===null&&x.NamespaceError(),le==="xml"&&B!==R.XML&&x.NamespaceError(),(le==="xmlns"||j==="xmlns")&&B!==R.XMLNS&&x.NamespaceError(),B===R.XMLNS&&!(le==="xmlns"||j==="xmlns")&&x.NamespaceError(),{namespace:B,prefix:le,localName:Ce}}N.prototype=Object.create(i.prototype,{_setMutationHandler:{value:function(B){this.mutationHandler=B}},_dispatchRendererEvent:{value:function(B,j,le){var Ce=this._nodes[B];Ce&&Ce._dispatchEvent(new u(j,le),!0)}},nodeName:{value:"#document"},nodeValue:{get:function(){return null},set:function(){}},documentURI:{get:function(){return this._address},set:x.nyi},compatMode:{get:function(){return this._quirks?"BackCompat":"CSS1Compat"}},createTextNode:{value:function(B){return new o(this,String(B))}},createComment:{value:function(B){return new a(this,B)}},createDocumentFragment:{value:function(){return new c(this)}},createProcessingInstruction:{value:function(B,j){return(!C.isValidName(B)||j.indexOf("?>")!==-1)&&x.InvalidCharacterError(),new l(this,B,j)}},createAttribute:{value:function(B){return B=String(B),C.isValidName(B)||x.InvalidCharacterError(),this.isHTML&&(B=x.toASCIILowerCase(B)),new s._Attr(null,B,null,null,"")}},createAttributeNS:{value:function(B,j){B=B==null||B===""?null:String(B),j=String(j);var le=g(B,j);return new s._Attr(null,le.localName,le.prefix,le.namespace,"")}},createElement:{value:function(B){return B=String(B),C.isValidName(B)||x.InvalidCharacterError(),this.isHTML?(/[A-Z]/.test(B)&&(B=x.toASCIILowerCase(B)),D.createElement(this,B,null)):this.contentType==="application/xhtml+xml"?D.createElement(this,B,null):new s(this,B,null,null)},writable:A},createElementNS:{value:function(B,j){B=B==null||B===""?null:String(B),j=String(j);var le=g(B,j);return this._createElementNS(le.localName,le.namespace,le.prefix)},writable:A},_createElementNS:{value:function(B,j,le){return j===R.HTML?D.createElement(this,B,le):j===R.SVG?S.createElement(this,B,le):new s(this,B,j,le)}},createEvent:{value:function(j){j=j.toLowerCase();var le=I[j]||j,Ce=w[_[le]];if(Ce){var kt=new Ce;return kt._initialized=!1,kt}else x.NotSupportedError()}},createTreeWalker:{value:function(B,j,le){if(!B)throw new TypeError("root argument is required");if(!(B instanceof t))throw new TypeError("root not a node");return j=j===void 0?p.SHOW_ALL:+j,le=le===void 0?null:le,new f(B,j,le)}},createNodeIterator:{value:function(B,j,le){if(!B)throw new TypeError("root argument is required");if(!(B instanceof t))throw new TypeError("root not a node");return j=j===void 0?p.SHOW_ALL:+j,le=le===void 0?null:le,new h(B,j,le)}},_attachNodeIterator:{value:function(B){this._nodeIterators||(this._nodeIterators=[]),this._nodeIterators.push(B)}},_detachNodeIterator:{value:function(B){var j=this._nodeIterators.indexOf(B);this._nodeIterators.splice(j,1)}},_preremoveNodeIterators:{value:function(B){this._nodeIterators&&this._nodeIterators.forEach(function(j){j._preremove(B)})}},_updateDocTypeElement:{value:function(){this.doctype=this.documentElement=null;for(var j=this.firstChild;j!==null;j=j.nextSibling)j.nodeType===t.DOCUMENT_TYPE_NODE?this.doctype=j:j.nodeType===t.ELEMENT_NODE&&(this.documentElement=j)}},insertBefore:{value:function(j,le){return t.prototype.insertBefore.call(this,j,le),this._updateDocTypeElement(),j}},replaceChild:{value:function(j,le){return t.prototype.replaceChild.call(this,j,le),this._updateDocTypeElement(),le}},removeChild:{value:function(j){return t.prototype.removeChild.call(this,j),this._updateDocTypeElement(),j}},getElementById:{value:function(B){var j=this.byId[B];return j?j instanceof Be?j.getFirst():j:null}},_hasMultipleElementsWithId:{value:function(B){return this.byId[B]instanceof Be}},getElementsByName:{value:s.prototype.getElementsByName},getElementsByTagName:{value:s.prototype.getElementsByTagName},getElementsByTagNameNS:{value:s.prototype.getElementsByTagNameNS},getElementsByClassName:{value:s.prototype.getElementsByClassName},adoptNode:{value:function(j){return j.nodeType===t.DOCUMENT_NODE&&x.NotSupportedError(),j.nodeType===t.ATTRIBUTE_NODE||(j.parentNode&&j.parentNode.removeChild(j),j.ownerDocument!==this&&ge(j,this)),j}},importNode:{value:function(j,le){return this.adoptNode(j.cloneNode(le))},writable:A},origin:{get:function(){return null}},characterSet:{get:function(){return"UTF-8"}},contentType:{get:function(){return this._contentType}},URL:{get:function(){return this._address}},domain:{get:x.nyi,set:x.nyi},referrer:{get:x.nyi},cookie:{get:x.nyi,set:x.nyi},lastModified:{get:x.nyi},location:{get:function(){return this.defaultView?this.defaultView.location:null},set:x.nyi},_titleElement:{get:function(){return this.getElementsByTagName("title").item(0)||null}},title:{get:function(){var B=this._titleElement,j=B?B.textContent:"";return j.replace(/[ \t\n\r\f]+/g," ").replace(/(^ )|( $)/g,"")},set:function(B){var j=this._titleElement,le=this.head;!j&&!le||(j||(j=this.createElement("title"),le.appendChild(j)),j.textContent=B)}},dir:L(function(){var B=this.documentElement;if(B&&B.tagName==="HTML")return B},"dir",""),fgColor:L(function(){return this.body},"text",""),linkColor:L(function(){return this.body},"link",""),vlinkColor:L(function(){return this.body},"vLink",""),alinkColor:L(function(){return this.body},"aLink",""),bgColor:L(function(){return this.body},"bgColor",""),charset:{get:function(){return this.characterSet}},inputEncoding:{get:function(){return this.characterSet}},scrollingElement:{get:function(){return this._quirks?this.body:this.documentElement}},body:{get:function(){return y(this.documentElement,"body")},set:x.nyi},head:{get:function(){return y(this.documentElement,"head")}},images:{get:x.nyi},embeds:{get:x.nyi},plugins:{get:x.nyi},links:{get:x.nyi},forms:{get:x.nyi},scripts:{get:x.nyi},applets:{get:function(){return[]}},activeElement:{get:function(){return null}},innerHTML:{get:function(){return this.serialize()},set:x.nyi},outerHTML:{get:function(){return this.serialize()},set:x.nyi},write:{value:function(B){if(this.isHTML||x.InvalidStateError(),!!this._parser){var j=arguments.join("");this._parser.parse(j)}}},writeln:{value:function(j){this.write(Array.prototype.join.call(arguments,"")+`
`)}},open:{value:function(){this.documentElement=null}},close:{value:function(){this.readyState="interactive",this._dispatchEvent(new u("readystatechange"),!0),this._dispatchEvent(new u("DOMContentLoaded"),!0),this.readyState="complete",this._dispatchEvent(new u("readystatechange"),!0),this.defaultView&&this.defaultView._dispatchEvent(new u("load"),!0)}},clone:{value:function(){var j=new N(this.isHTML,this._address);return j._quirks=this._quirks,j._contentType=this._contentType,j}},cloneNode:{value:function(j){var le=t.prototype.cloneNode.call(this,!1);if(j)for(var Ce=this.firstChild;Ce!==null;Ce=Ce.nextSibling)le._appendChild(le.importNode(Ce,!0));return le._updateDocTypeElement(),le}},isEqual:{value:function(j){return!0}},mutateValue:{value:function(B){this.mutationHandler&&this.mutationHandler({type:V.VALUE,target:B,data:B.data})}},mutateAttr:{value:function(B,j){this.mutationHandler&&this.mutationHandler({type:V.ATTR,target:B.ownerElement,attr:B})}},mutateRemoveAttr:{value:function(B){this.mutationHandler&&this.mutationHandler({type:V.REMOVE_ATTR,target:B.ownerElement,attr:B})}},mutateRemove:{value:function(B){this.mutationHandler&&this.mutationHandler({type:V.REMOVE,target:B.parentNode,node:B}),ue(B)}},mutateInsert:{value:function(B){W(B),this.mutationHandler&&this.mutationHandler({type:V.INSERT,target:B.parentNode,node:B})}},mutateMove:{value:function(B){this.mutationHandler&&this.mutationHandler({type:V.MOVE,target:B})}},addId:{value:function(j,le){var Ce=this.byId[j];Ce?(Ce instanceof Be||(Ce=new Be(Ce),this.byId[j]=Ce),Ce.add(le)):this.byId[j]=le}},delId:{value:function(j,le){var Ce=this.byId[j];x.assert(Ce),Ce instanceof Be?(Ce.del(le),Ce.length===1&&(this.byId[j]=Ce.downgrade())):this.byId[j]=void 0}},_resolve:{value:function(B){return new v(this._documentBaseURL).resolve(B)}},_documentBaseURL:{get:function(){var B=this._address;B==="about:blank"&&(B="/");var j=this.querySelector("base[href]");return j?new v(B).resolve(j.getAttribute("href")):B}},_templateDoc:{get:function(){if(!this._templateDocCache){var B=new N(this.isHTML,this._address);this._templateDocCache=B._templateDocCache=B}return this._templateDocCache}},querySelector:{value:function(B){return T(B,this)[0]}},querySelectorAll:{value:function(B){var j=T(B,this);return j.item?j:new r(j)}}});var m=["abort","canplay","canplaythrough","change","click","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","input","invalid","keydown","keypress","keyup","loadeddata","loadedmetadata","loadstart","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","pause","play","playing","progress","ratechange","readystatechange","reset","seeked","seeking","select","show","stalled","submit","suspend","timeupdate","volumechange","waiting","blur","error","focus","load","scroll"];m.forEach(function(B){Object.defineProperty(N.prototype,"on"+B,{get:function(){return this._getEventHandler(B)},set:function(j){this._setEventHandler(B,j)}})});function y(B,j){if(B&&B.isHTML){for(var le=B.firstChild;le!==null;le=le.nextSibling)if(le.nodeType===t.ELEMENT_NODE&&le.localName===j&&le.namespaceURI===R.HTML)return le}return null}function O(B){if(B._nid=B.ownerDocument._nextnid++,B.ownerDocument._nodes[B._nid]=B,B.nodeType===t.ELEMENT_NODE){var j=B.getAttribute("id");j&&B.ownerDocument.addId(j,B),B._roothook&&B._roothook()}}function q(B){if(B.nodeType===t.ELEMENT_NODE){var j=B.getAttribute("id");j&&B.ownerDocument.delId(j,B)}B.ownerDocument._nodes[B._nid]=void 0,B._nid=void 0}function W(B){if(O(B),B.nodeType===t.ELEMENT_NODE)for(var j=B.firstChild;j!==null;j=j.nextSibling)W(j)}function ue(B){q(B);for(var j=B.firstChild;j!==null;j=j.nextSibling)ue(j)}function ge(B,j){B.ownerDocument=j,B._lastModTime=void 0,Object.prototype.hasOwnProperty.call(B,"_tagName")&&(B._tagName=void 0);for(var le=B.firstChild;le!==null;le=le.nextSibling)ge(le,j)}function Be(B){this.nodes=Object.create(null),this.nodes[B._nid]=B,this.length=1,this.firstNode=void 0}Be.prototype.add=function(B){this.nodes[B._nid]||(this.nodes[B._nid]=B,this.length++,this.firstNode=void 0)},Be.prototype.del=function(B){this.nodes[B._nid]&&(delete this.nodes[B._nid],this.length--,this.firstNode=void 0)},Be.prototype.getFirst=function(){if(!this.firstNode){var B;for(B in this.nodes)(this.firstNode===void 0||this.firstNode.compareDocumentPosition(this.nodes[B])&t.DOCUMENT_POSITION_PRECEDING)&&(this.firstNode=this.nodes[B])}return this.firstNode},Be.prototype.downgrade=function(){if(this.length===1){var B;for(B in this.nodes)return this.nodes[B]}return this}}}),FI=Ue({"external/npm/node_modules/domino/lib/DocumentType.js"(n,e){e.exports=s;var t=Or(),r=PF(),i=kI();function s(o,a,u,c){r.call(this),this.nodeType=t.DOCUMENT_TYPE_NODE,this.ownerDocument=o||null,this.name=a,this.publicId=u||"",this.systemId=c||""}s.prototype=Object.create(r.prototype,{nodeName:{get:function(){return this.name}},nodeValue:{get:function(){return null},set:function(){}},clone:{value:function(){return new s(this.ownerDocument,this.name,this.publicId,this.systemId)}},isEqual:{value:function(a){return this.name===a.name&&this.publicId===a.publicId&&this.systemId===a.systemId}}}),Object.defineProperties(s.prototype,i)}}),UI=Ue({"external/npm/node_modules/domino/lib/HTMLParser.js"(n,e){e.exports=Ct;var t=LI(),r=FI(),i=Or(),s=Bn().NAMESPACE,o=PI(),a=o.elements,u=Function.prototype.apply.bind(Array.prototype.push),c=-1,l=1,d=2,f=3,h=4,p=5,v=[],T=/^HTML$|^-\/\/W3O\/\/DTD W3 HTML Strict 3\.0\/\/EN\/\/$|^-\/W3C\/DTD HTML 4\.0 Transitional\/EN$|^\+\/\/Silmaril\/\/dtd html Pro v0r11 19970101\/\/|^-\/\/AdvaSoft Ltd\/\/DTD HTML 3\.0 asWedit \+ extensions\/\/|^-\/\/AS\/\/DTD HTML 3\.0 asWedit \+ extensions\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Level 1\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Level 2\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict Level 1\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict Level 2\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict\/\/|^-\/\/IETF\/\/DTD HTML 2\.0\/\/|^-\/\/IETF\/\/DTD HTML 2\.1E\/\/|^-\/\/IETF\/\/DTD HTML 3\.0\/\/|^-\/\/IETF\/\/DTD HTML 3\.2 Final\/\/|^-\/\/IETF\/\/DTD HTML 3\.2\/\/|^-\/\/IETF\/\/DTD HTML 3\/\/|^-\/\/IETF\/\/DTD HTML Level 0\/\/|^-\/\/IETF\/\/DTD HTML Level 1\/\/|^-\/\/IETF\/\/DTD HTML Level 2\/\/|^-\/\/IETF\/\/DTD HTML Level 3\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 0\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 1\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 2\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 3\/\/|^-\/\/IETF\/\/DTD HTML Strict\/\/|^-\/\/IETF\/\/DTD HTML\/\/|^-\/\/Metrius\/\/DTD Metrius Presentational\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 HTML Strict\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 HTML\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 Tables\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 HTML Strict\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 HTML\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 Tables\/\/|^-\/\/Netscape Comm\. Corp\.\/\/DTD HTML\/\/|^-\/\/Netscape Comm\. Corp\.\/\/DTD Strict HTML\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML 2\.0\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML Extended 1\.0\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML Extended Relaxed 1\.0\/\/|^-\/\/SoftQuad Software\/\/DTD HoTMetaL PRO 6\.0::19990601::extensions to HTML 4\.0\/\/|^-\/\/SoftQuad\/\/DTD HoTMetaL PRO 4\.0::19971010::extensions to HTML 4\.0\/\/|^-\/\/Spyglass\/\/DTD HTML 2\.0 Extended\/\/|^-\/\/SQ\/\/DTD HTML 2\.0 HoTMetaL \+ extensions\/\/|^-\/\/Sun Microsystems Corp\.\/\/DTD HotJava HTML\/\/|^-\/\/Sun Microsystems Corp\.\/\/DTD HotJava Strict HTML\/\/|^-\/\/W3C\/\/DTD HTML 3 1995-03-24\/\/|^-\/\/W3C\/\/DTD HTML 3\.2 Draft\/\/|^-\/\/W3C\/\/DTD HTML 3\.2 Final\/\/|^-\/\/W3C\/\/DTD HTML 3\.2\/\/|^-\/\/W3C\/\/DTD HTML 3\.2S Draft\/\/|^-\/\/W3C\/\/DTD HTML 4\.0 Frameset\/\/|^-\/\/W3C\/\/DTD HTML 4\.0 Transitional\/\/|^-\/\/W3C\/\/DTD HTML Experimental 19960712\/\/|^-\/\/W3C\/\/DTD HTML Experimental 970421\/\/|^-\/\/W3C\/\/DTD W3 HTML\/\/|^-\/\/W3O\/\/DTD W3 HTML 3\.0\/\/|^-\/\/WebTechs\/\/DTD Mozilla HTML 2\.0\/\/|^-\/\/WebTechs\/\/DTD Mozilla HTML\/\//i,w="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",C=/^-\/\/W3C\/\/DTD HTML 4\.01 Frameset\/\/|^-\/\/W3C\/\/DTD HTML 4\.01 Transitional\/\//i,D=/^-\/\/W3C\/\/DTD XHTML 1\.0 Frameset\/\/|^-\/\/W3C\/\/DTD XHTML 1\.0 Transitional\/\//i,S=Object.create(null);S[s.HTML]={__proto__:null,address:!0,applet:!0,area:!0,article:!0,aside:!0,base:!0,basefont:!0,bgsound:!0,blockquote:!0,body:!0,br:!0,button:!0,caption:!0,center:!0,col:!0,colgroup:!0,dd:!0,details:!0,dir:!0,div:!0,dl:!0,dt:!0,embed:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,frame:!0,frameset:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,head:!0,header:!0,hgroup:!0,hr:!0,html:!0,iframe:!0,img:!0,input:!0,li:!0,link:!0,listing:!0,main:!0,marquee:!0,menu:!0,meta:!0,nav:!0,noembed:!0,noframes:!0,noscript:!0,object:!0,ol:!0,p:!0,param:!0,plaintext:!0,pre:!0,script:!0,section:!0,select:!0,source:!0,style:!0,summary:!0,table:!0,tbody:!0,td:!0,template:!0,textarea:!0,tfoot:!0,th:!0,thead:!0,title:!0,tr:!0,track:!0,ul:!0,wbr:!0,xmp:!0},S[s.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0},S[s.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0};var x=Object.create(null);x[s.HTML]={__proto__:null,address:!0,div:!0,p:!0};var V=Object.create(null);V[s.HTML]={__proto__:null,dd:!0,dt:!0};var R=Object.create(null);R[s.HTML]={__proto__:null,table:!0,thead:!0,tbody:!0,tfoot:!0,tr:!0};var A=Object.create(null);A[s.HTML]={__proto__:null,dd:!0,dt:!0,li:!0,menuitem:!0,optgroup:!0,option:!0,p:!0,rb:!0,rp:!0,rt:!0,rtc:!0};var N=Object.create(null);N[s.HTML]={__proto__:null,caption:!0,colgroup:!0,dd:!0,dt:!0,li:!0,optgroup:!0,option:!0,p:!0,rb:!0,rp:!0,rt:!0,rtc:!0,tbody:!0,td:!0,tfoot:!0,th:!0,thead:!0,tr:!0};var _=Object.create(null);_[s.HTML]={__proto__:null,table:!0,template:!0,html:!0};var I=Object.create(null);I[s.HTML]={__proto__:null,tbody:!0,tfoot:!0,thead:!0,template:!0,html:!0};var L=Object.create(null);L[s.HTML]={__proto__:null,tr:!0,template:!0,html:!0};var g=Object.create(null);g[s.HTML]={__proto__:null,button:!0,fieldset:!0,input:!0,keygen:!0,object:!0,output:!0,select:!0,textarea:!0,img:!0};var m=Object.create(null);m[s.HTML]={__proto__:null,applet:!0,caption:!0,html:!0,table:!0,td:!0,th:!0,marquee:!0,object:!0,template:!0},m[s.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0},m[s.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0};var y=Object.create(m);y[s.HTML]=Object.create(m[s.HTML]),y[s.HTML].ol=!0,y[s.HTML].ul=!0;var O=Object.create(m);O[s.HTML]=Object.create(m[s.HTML]),O[s.HTML].button=!0;var q=Object.create(null);q[s.HTML]={__proto__:null,html:!0,table:!0,template:!0};var W=Object.create(null);W[s.HTML]={__proto__:null,optgroup:!0,option:!0};var ue=Object.create(null);ue[s.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0};var ge=Object.create(null);ge[s.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0};var Be={__proto__:null,"xlink:actuate":s.XLINK,"xlink:arcrole":s.XLINK,"xlink:href":s.XLINK,"xlink:role":s.XLINK,"xlink:show":s.XLINK,"xlink:title":s.XLINK,"xlink:type":s.XLINK,"xml:base":s.XML,"xml:lang":s.XML,"xml:space":s.XML,xmlns:s.XMLNS,"xmlns:xlink":s.XMLNS},B={__proto__:null,attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},j={__proto__:null,altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},le={__proto__:null,0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},Ce={__proto__:null,AElig:198,"AElig;":198,AMP:38,"AMP;":38,Aacute:193,"Aacute;":193,"Abreve;":258,Acirc:194,"Acirc;":194,"Acy;":1040,"Afr;":[55349,56580],Agrave:192,"Agrave;":192,"Alpha;":913,"Amacr;":256,"And;":10835,"Aogon;":260,"Aopf;":[55349,56632],"ApplyFunction;":8289,Aring:197,"Aring;":197,"Ascr;":[55349,56476],"Assign;":8788,Atilde:195,"Atilde;":195,Auml:196,"Auml;":196,"Backslash;":8726,"Barv;":10983,"Barwed;":8966,"Bcy;":1041,"Because;":8757,"Bernoullis;":8492,"Beta;":914,"Bfr;":[55349,56581],"Bopf;":[55349,56633],"Breve;":728,"Bscr;":8492,"Bumpeq;":8782,"CHcy;":1063,COPY:169,"COPY;":169,"Cacute;":262,"Cap;":8914,"CapitalDifferentialD;":8517,"Cayleys;":8493,"Ccaron;":268,Ccedil:199,"Ccedil;":199,"Ccirc;":264,"Cconint;":8752,"Cdot;":266,"Cedilla;":184,"CenterDot;":183,"Cfr;":8493,"Chi;":935,"CircleDot;":8857,"CircleMinus;":8854,"CirclePlus;":8853,"CircleTimes;":8855,"ClockwiseContourIntegral;":8754,"CloseCurlyDoubleQuote;":8221,"CloseCurlyQuote;":8217,"Colon;":8759,"Colone;":10868,"Congruent;":8801,"Conint;":8751,"ContourIntegral;":8750,"Copf;":8450,"Coproduct;":8720,"CounterClockwiseContourIntegral;":8755,"Cross;":10799,"Cscr;":[55349,56478],"Cup;":8915,"CupCap;":8781,"DD;":8517,"DDotrahd;":10513,"DJcy;":1026,"DScy;":1029,"DZcy;":1039,"Dagger;":8225,"Darr;":8609,"Dashv;":10980,"Dcaron;":270,"Dcy;":1044,"Del;":8711,"Delta;":916,"Dfr;":[55349,56583],"DiacriticalAcute;":180,"DiacriticalDot;":729,"DiacriticalDoubleAcute;":733,"DiacriticalGrave;":96,"DiacriticalTilde;":732,"Diamond;":8900,"DifferentialD;":8518,"Dopf;":[55349,56635],"Dot;":168,"DotDot;":8412,"DotEqual;":8784,"DoubleContourIntegral;":8751,"DoubleDot;":168,"DoubleDownArrow;":8659,"DoubleLeftArrow;":8656,"DoubleLeftRightArrow;":8660,"DoubleLeftTee;":10980,"DoubleLongLeftArrow;":10232,"DoubleLongLeftRightArrow;":10234,"DoubleLongRightArrow;":10233,"DoubleRightArrow;":8658,"DoubleRightTee;":8872,"DoubleUpArrow;":8657,"DoubleUpDownArrow;":8661,"DoubleVerticalBar;":8741,"DownArrow;":8595,"DownArrowBar;":10515,"DownArrowUpArrow;":8693,"DownBreve;":785,"DownLeftRightVector;":10576,"DownLeftTeeVector;":10590,"DownLeftVector;":8637,"DownLeftVectorBar;":10582,"DownRightTeeVector;":10591,"DownRightVector;":8641,"DownRightVectorBar;":10583,"DownTee;":8868,"DownTeeArrow;":8615,"Downarrow;":8659,"Dscr;":[55349,56479],"Dstrok;":272,"ENG;":330,ETH:208,"ETH;":208,Eacute:201,"Eacute;":201,"Ecaron;":282,Ecirc:202,"Ecirc;":202,"Ecy;":1069,"Edot;":278,"Efr;":[55349,56584],Egrave:200,"Egrave;":200,"Element;":8712,"Emacr;":274,"EmptySmallSquare;":9723,"EmptyVerySmallSquare;":9643,"Eogon;":280,"Eopf;":[55349,56636],"Epsilon;":917,"Equal;":10869,"EqualTilde;":8770,"Equilibrium;":8652,"Escr;":8496,"Esim;":10867,"Eta;":919,Euml:203,"Euml;":203,"Exists;":8707,"ExponentialE;":8519,"Fcy;":1060,"Ffr;":[55349,56585],"FilledSmallSquare;":9724,"FilledVerySmallSquare;":9642,"Fopf;":[55349,56637],"ForAll;":8704,"Fouriertrf;":8497,"Fscr;":8497,"GJcy;":1027,GT:62,"GT;":62,"Gamma;":915,"Gammad;":988,"Gbreve;":286,"Gcedil;":290,"Gcirc;":284,"Gcy;":1043,"Gdot;":288,"Gfr;":[55349,56586],"Gg;":8921,"Gopf;":[55349,56638],"GreaterEqual;":8805,"GreaterEqualLess;":8923,"GreaterFullEqual;":8807,"GreaterGreater;":10914,"GreaterLess;":8823,"GreaterSlantEqual;":10878,"GreaterTilde;":8819,"Gscr;":[55349,56482],"Gt;":8811,"HARDcy;":1066,"Hacek;":711,"Hat;":94,"Hcirc;":292,"Hfr;":8460,"HilbertSpace;":8459,"Hopf;":8461,"HorizontalLine;":9472,"Hscr;":8459,"Hstrok;":294,"HumpDownHump;":8782,"HumpEqual;":8783,"IEcy;":1045,"IJlig;":306,"IOcy;":1025,Iacute:205,"Iacute;":205,Icirc:206,"Icirc;":206,"Icy;":1048,"Idot;":304,"Ifr;":8465,Igrave:204,"Igrave;":204,"Im;":8465,"Imacr;":298,"ImaginaryI;":8520,"Implies;":8658,"Int;":8748,"Integral;":8747,"Intersection;":8898,"InvisibleComma;":8291,"InvisibleTimes;":8290,"Iogon;":302,"Iopf;":[55349,56640],"Iota;":921,"Iscr;":8464,"Itilde;":296,"Iukcy;":1030,Iuml:207,"Iuml;":207,"Jcirc;":308,"Jcy;":1049,"Jfr;":[55349,56589],"Jopf;":[55349,56641],"Jscr;":[55349,56485],"Jsercy;":1032,"Jukcy;":1028,"KHcy;":1061,"KJcy;":1036,"Kappa;":922,"Kcedil;":310,"Kcy;":1050,"Kfr;":[55349,56590],"Kopf;":[55349,56642],"Kscr;":[55349,56486],"LJcy;":1033,LT:60,"LT;":60,"Lacute;":313,"Lambda;":923,"Lang;":10218,"Laplacetrf;":8466,"Larr;":8606,"Lcaron;":317,"Lcedil;":315,"Lcy;":1051,"LeftAngleBracket;":10216,"LeftArrow;":8592,"LeftArrowBar;":8676,"LeftArrowRightArrow;":8646,"LeftCeiling;":8968,"LeftDoubleBracket;":10214,"LeftDownTeeVector;":10593,"LeftDownVector;":8643,"LeftDownVectorBar;":10585,"LeftFloor;":8970,"LeftRightArrow;":8596,"LeftRightVector;":10574,"LeftTee;":8867,"LeftTeeArrow;":8612,"LeftTeeVector;":10586,"LeftTriangle;":8882,"LeftTriangleBar;":10703,"LeftTriangleEqual;":8884,"LeftUpDownVector;":10577,"LeftUpTeeVector;":10592,"LeftUpVector;":8639,"LeftUpVectorBar;":10584,"LeftVector;":8636,"LeftVectorBar;":10578,"Leftarrow;":8656,"Leftrightarrow;":8660,"LessEqualGreater;":8922,"LessFullEqual;":8806,"LessGreater;":8822,"LessLess;":10913,"LessSlantEqual;":10877,"LessTilde;":8818,"Lfr;":[55349,56591],"Ll;":8920,"Lleftarrow;":8666,"Lmidot;":319,"LongLeftArrow;":10229,"LongLeftRightArrow;":10231,"LongRightArrow;":10230,"Longleftarrow;":10232,"Longleftrightarrow;":10234,"Longrightarrow;":10233,"Lopf;":[55349,56643],"LowerLeftArrow;":8601,"LowerRightArrow;":8600,"Lscr;":8466,"Lsh;":8624,"Lstrok;":321,"Lt;":8810,"Map;":10501,"Mcy;":1052,"MediumSpace;":8287,"Mellintrf;":8499,"Mfr;":[55349,56592],"MinusPlus;":8723,"Mopf;":[55349,56644],"Mscr;":8499,"Mu;":924,"NJcy;":1034,"Nacute;":323,"Ncaron;":327,"Ncedil;":325,"Ncy;":1053,"NegativeMediumSpace;":8203,"NegativeThickSpace;":8203,"NegativeThinSpace;":8203,"NegativeVeryThinSpace;":8203,"NestedGreaterGreater;":8811,"NestedLessLess;":8810,"NewLine;":10,"Nfr;":[55349,56593],"NoBreak;":8288,"NonBreakingSpace;":160,"Nopf;":8469,"Not;":10988,"NotCongruent;":8802,"NotCupCap;":8813,"NotDoubleVerticalBar;":8742,"NotElement;":8713,"NotEqual;":8800,"NotEqualTilde;":[8770,824],"NotExists;":8708,"NotGreater;":8815,"NotGreaterEqual;":8817,"NotGreaterFullEqual;":[8807,824],"NotGreaterGreater;":[8811,824],"NotGreaterLess;":8825,"NotGreaterSlantEqual;":[10878,824],"NotGreaterTilde;":8821,"NotHumpDownHump;":[8782,824],"NotHumpEqual;":[8783,824],"NotLeftTriangle;":8938,"NotLeftTriangleBar;":[10703,824],"NotLeftTriangleEqual;":8940,"NotLess;":8814,"NotLessEqual;":8816,"NotLessGreater;":8824,"NotLessLess;":[8810,824],"NotLessSlantEqual;":[10877,824],"NotLessTilde;":8820,"NotNestedGreaterGreater;":[10914,824],"NotNestedLessLess;":[10913,824],"NotPrecedes;":8832,"NotPrecedesEqual;":[10927,824],"NotPrecedesSlantEqual;":8928,"NotReverseElement;":8716,"NotRightTriangle;":8939,"NotRightTriangleBar;":[10704,824],"NotRightTriangleEqual;":8941,"NotSquareSubset;":[8847,824],"NotSquareSubsetEqual;":8930,"NotSquareSuperset;":[8848,824],"NotSquareSupersetEqual;":8931,"NotSubset;":[8834,8402],"NotSubsetEqual;":8840,"NotSucceeds;":8833,"NotSucceedsEqual;":[10928,824],"NotSucceedsSlantEqual;":8929,"NotSucceedsTilde;":[8831,824],"NotSuperset;":[8835,8402],"NotSupersetEqual;":8841,"NotTilde;":8769,"NotTildeEqual;":8772,"NotTildeFullEqual;":8775,"NotTildeTilde;":8777,"NotVerticalBar;":8740,"Nscr;":[55349,56489],Ntilde:209,"Ntilde;":209,"Nu;":925,"OElig;":338,Oacute:211,"Oacute;":211,Ocirc:212,"Ocirc;":212,"Ocy;":1054,"Odblac;":336,"Ofr;":[55349,56594],Ograve:210,"Ograve;":210,"Omacr;":332,"Omega;":937,"Omicron;":927,"Oopf;":[55349,56646],"OpenCurlyDoubleQuote;":8220,"OpenCurlyQuote;":8216,"Or;":10836,"Oscr;":[55349,56490],Oslash:216,"Oslash;":216,Otilde:213,"Otilde;":213,"Otimes;":10807,Ouml:214,"Ouml;":214,"OverBar;":8254,"OverBrace;":9182,"OverBracket;":9140,"OverParenthesis;":9180,"PartialD;":8706,"Pcy;":1055,"Pfr;":[55349,56595],"Phi;":934,"Pi;":928,"PlusMinus;":177,"Poincareplane;":8460,"Popf;":8473,"Pr;":10939,"Precedes;":8826,"PrecedesEqual;":10927,"PrecedesSlantEqual;":8828,"PrecedesTilde;":8830,"Prime;":8243,"Product;":8719,"Proportion;":8759,"Proportional;":8733,"Pscr;":[55349,56491],"Psi;":936,QUOT:34,"QUOT;":34,"Qfr;":[55349,56596],"Qopf;":8474,"Qscr;":[55349,56492],"RBarr;":10512,REG:174,"REG;":174,"Racute;":340,"Rang;":10219,"Rarr;":8608,"Rarrtl;":10518,"Rcaron;":344,"Rcedil;":342,"Rcy;":1056,"Re;":8476,"ReverseElement;":8715,"ReverseEquilibrium;":8651,"ReverseUpEquilibrium;":10607,"Rfr;":8476,"Rho;":929,"RightAngleBracket;":10217,"RightArrow;":8594,"RightArrowBar;":8677,"RightArrowLeftArrow;":8644,"RightCeiling;":8969,"RightDoubleBracket;":10215,"RightDownTeeVector;":10589,"RightDownVector;":8642,"RightDownVectorBar;":10581,"RightFloor;":8971,"RightTee;":8866,"RightTeeArrow;":8614,"RightTeeVector;":10587,"RightTriangle;":8883,"RightTriangleBar;":10704,"RightTriangleEqual;":8885,"RightUpDownVector;":10575,"RightUpTeeVector;":10588,"RightUpVector;":8638,"RightUpVectorBar;":10580,"RightVector;":8640,"RightVectorBar;":10579,"Rightarrow;":8658,"Ropf;":8477,"RoundImplies;":10608,"Rrightarrow;":8667,"Rscr;":8475,"Rsh;":8625,"RuleDelayed;":10740,"SHCHcy;":1065,"SHcy;":1064,"SOFTcy;":1068,"Sacute;":346,"Sc;":10940,"Scaron;":352,"Scedil;":350,"Scirc;":348,"Scy;":1057,"Sfr;":[55349,56598],"ShortDownArrow;":8595,"ShortLeftArrow;":8592,"ShortRightArrow;":8594,"ShortUpArrow;":8593,"Sigma;":931,"SmallCircle;":8728,"Sopf;":[55349,56650],"Sqrt;":8730,"Square;":9633,"SquareIntersection;":8851,"SquareSubset;":8847,"SquareSubsetEqual;":8849,"SquareSuperset;":8848,"SquareSupersetEqual;":8850,"SquareUnion;":8852,"Sscr;":[55349,56494],"Star;":8902,"Sub;":8912,"Subset;":8912,"SubsetEqual;":8838,"Succeeds;":8827,"SucceedsEqual;":10928,"SucceedsSlantEqual;":8829,"SucceedsTilde;":8831,"SuchThat;":8715,"Sum;":8721,"Sup;":8913,"Superset;":8835,"SupersetEqual;":8839,"Supset;":8913,THORN:222,"THORN;":222,"TRADE;":8482,"TSHcy;":1035,"TScy;":1062,"Tab;":9,"Tau;":932,"Tcaron;":356,"Tcedil;":354,"Tcy;":1058,"Tfr;":[55349,56599],"Therefore;":8756,"Theta;":920,"ThickSpace;":[8287,8202],"ThinSpace;":8201,"Tilde;":8764,"TildeEqual;":8771,"TildeFullEqual;":8773,"TildeTilde;":8776,"Topf;":[55349,56651],"TripleDot;":8411,"Tscr;":[55349,56495],"Tstrok;":358,Uacute:218,"Uacute;":218,"Uarr;":8607,"Uarrocir;":10569,"Ubrcy;":1038,"Ubreve;":364,Ucirc:219,"Ucirc;":219,"Ucy;":1059,"Udblac;":368,"Ufr;":[55349,56600],Ugrave:217,"Ugrave;":217,"Umacr;":362,"UnderBar;":95,"UnderBrace;":9183,"UnderBracket;":9141,"UnderParenthesis;":9181,"Union;":8899,"UnionPlus;":8846,"Uogon;":370,"Uopf;":[55349,56652],"UpArrow;":8593,"UpArrowBar;":10514,"UpArrowDownArrow;":8645,"UpDownArrow;":8597,"UpEquilibrium;":10606,"UpTee;":8869,"UpTeeArrow;":8613,"Uparrow;":8657,"Updownarrow;":8661,"UpperLeftArrow;":8598,"UpperRightArrow;":8599,"Upsi;":978,"Upsilon;":933,"Uring;":366,"Uscr;":[55349,56496],"Utilde;":360,Uuml:220,"Uuml;":220,"VDash;":8875,"Vbar;":10987,"Vcy;":1042,"Vdash;":8873,"Vdashl;":10982,"Vee;":8897,"Verbar;":8214,"Vert;":8214,"VerticalBar;":8739,"VerticalLine;":124,"VerticalSeparator;":10072,"VerticalTilde;":8768,"VeryThinSpace;":8202,"Vfr;":[55349,56601],"Vopf;":[55349,56653],"Vscr;":[55349,56497],"Vvdash;":8874,"Wcirc;":372,"Wedge;":8896,"Wfr;":[55349,56602],"Wopf;":[55349,56654],"Wscr;":[55349,56498],"Xfr;":[55349,56603],"Xi;":926,"Xopf;":[55349,56655],"Xscr;":[55349,56499],"YAcy;":1071,"YIcy;":1031,"YUcy;":1070,Yacute:221,"Yacute;":221,"Ycirc;":374,"Ycy;":1067,"Yfr;":[55349,56604],"Yopf;":[55349,56656],"Yscr;":[55349,56500],"Yuml;":376,"ZHcy;":1046,"Zacute;":377,"Zcaron;":381,"Zcy;":1047,"Zdot;":379,"ZeroWidthSpace;":8203,"Zeta;":918,"Zfr;":8488,"Zopf;":8484,"Zscr;":[55349,56501],aacute:225,"aacute;":225,"abreve;":259,"ac;":8766,"acE;":[8766,819],"acd;":8767,acirc:226,"acirc;":226,acute:180,"acute;":180,"acy;":1072,aelig:230,"aelig;":230,"af;":8289,"afr;":[55349,56606],agrave:224,"agrave;":224,"alefsym;":8501,"aleph;":8501,"alpha;":945,"amacr;":257,"amalg;":10815,amp:38,"amp;":38,"and;":8743,"andand;":10837,"andd;":10844,"andslope;":10840,"andv;":10842,"ang;":8736,"ange;":10660,"angle;":8736,"angmsd;":8737,"angmsdaa;":10664,"angmsdab;":10665,"angmsdac;":10666,"angmsdad;":10667,"angmsdae;":10668,"angmsdaf;":10669,"angmsdag;":10670,"angmsdah;":10671,"angrt;":8735,"angrtvb;":8894,"angrtvbd;":10653,"angsph;":8738,"angst;":197,"angzarr;":9084,"aogon;":261,"aopf;":[55349,56658],"ap;":8776,"apE;":10864,"apacir;":10863,"ape;":8778,"apid;":8779,"apos;":39,"approx;":8776,"approxeq;":8778,aring:229,"aring;":229,"ascr;":[55349,56502],"ast;":42,"asymp;":8776,"asympeq;":8781,atilde:227,"atilde;":227,auml:228,"auml;":228,"awconint;":8755,"awint;":10769,"bNot;":10989,"backcong;":8780,"backepsilon;":1014,"backprime;":8245,"backsim;":8765,"backsimeq;":8909,"barvee;":8893,"barwed;":8965,"barwedge;":8965,"bbrk;":9141,"bbrktbrk;":9142,"bcong;":8780,"bcy;":1073,"bdquo;":8222,"becaus;":8757,"because;":8757,"bemptyv;":10672,"bepsi;":1014,"bernou;":8492,"beta;":946,"beth;":8502,"between;":8812,"bfr;":[55349,56607],"bigcap;":8898,"bigcirc;":9711,"bigcup;":8899,"bigodot;":10752,"bigoplus;":10753,"bigotimes;":10754,"bigsqcup;":10758,"bigstar;":9733,"bigtriangledown;":9661,"bigtriangleup;":9651,"biguplus;":10756,"bigvee;":8897,"bigwedge;":8896,"bkarow;":10509,"blacklozenge;":10731,"blacksquare;":9642,"blacktriangle;":9652,"blacktriangledown;":9662,"blacktriangleleft;":9666,"blacktriangleright;":9656,"blank;":9251,"blk12;":9618,"blk14;":9617,"blk34;":9619,"block;":9608,"bne;":[61,8421],"bnequiv;":[8801,8421],"bnot;":8976,"bopf;":[55349,56659],"bot;":8869,"bottom;":8869,"bowtie;":8904,"boxDL;":9559,"boxDR;":9556,"boxDl;":9558,"boxDr;":9555,"boxH;":9552,"boxHD;":9574,"boxHU;":9577,"boxHd;":9572,"boxHu;":9575,"boxUL;":9565,"boxUR;":9562,"boxUl;":9564,"boxUr;":9561,"boxV;":9553,"boxVH;":9580,"boxVL;":9571,"boxVR;":9568,"boxVh;":9579,"boxVl;":9570,"boxVr;":9567,"boxbox;":10697,"boxdL;":9557,"boxdR;":9554,"boxdl;":9488,"boxdr;":9484,"boxh;":9472,"boxhD;":9573,"boxhU;":9576,"boxhd;":9516,"boxhu;":9524,"boxminus;":8863,"boxplus;":8862,"boxtimes;":8864,"boxuL;":9563,"boxuR;":9560,"boxul;":9496,"boxur;":9492,"boxv;":9474,"boxvH;":9578,"boxvL;":9569,"boxvR;":9566,"boxvh;":9532,"boxvl;":9508,"boxvr;":9500,"bprime;":8245,"breve;":728,brvbar:166,"brvbar;":166,"bscr;":[55349,56503],"bsemi;":8271,"bsim;":8765,"bsime;":8909,"bsol;":92,"bsolb;":10693,"bsolhsub;":10184,"bull;":8226,"bullet;":8226,"bump;":8782,"bumpE;":10926,"bumpe;":8783,"bumpeq;":8783,"cacute;":263,"cap;":8745,"capand;":10820,"capbrcup;":10825,"capcap;":10827,"capcup;":10823,"capdot;":10816,"caps;":[8745,65024],"caret;":8257,"caron;":711,"ccaps;":10829,"ccaron;":269,ccedil:231,"ccedil;":231,"ccirc;":265,"ccups;":10828,"ccupssm;":10832,"cdot;":267,cedil:184,"cedil;":184,"cemptyv;":10674,cent:162,"cent;":162,"centerdot;":183,"cfr;":[55349,56608],"chcy;":1095,"check;":10003,"checkmark;":10003,"chi;":967,"cir;":9675,"cirE;":10691,"circ;":710,"circeq;":8791,"circlearrowleft;":8634,"circlearrowright;":8635,"circledR;":174,"circledS;":9416,"circledast;":8859,"circledcirc;":8858,"circleddash;":8861,"cire;":8791,"cirfnint;":10768,"cirmid;":10991,"cirscir;":10690,"clubs;":9827,"clubsuit;":9827,"colon;":58,"colone;":8788,"coloneq;":8788,"comma;":44,"commat;":64,"comp;":8705,"compfn;":8728,"complement;":8705,"complexes;":8450,"cong;":8773,"congdot;":10861,"conint;":8750,"copf;":[55349,56660],"coprod;":8720,copy:169,"copy;":169,"copysr;":8471,"crarr;":8629,"cross;":10007,"cscr;":[55349,56504],"csub;":10959,"csube;":10961,"csup;":10960,"csupe;":10962,"ctdot;":8943,"cudarrl;":10552,"cudarrr;":10549,"cuepr;":8926,"cuesc;":8927,"cularr;":8630,"cularrp;":10557,"cup;":8746,"cupbrcap;":10824,"cupcap;":10822,"cupcup;":10826,"cupdot;":8845,"cupor;":10821,"cups;":[8746,65024],"curarr;":8631,"curarrm;":10556,"curlyeqprec;":8926,"curlyeqsucc;":8927,"curlyvee;":8910,"curlywedge;":8911,curren:164,"curren;":164,"curvearrowleft;":8630,"curvearrowright;":8631,"cuvee;":8910,"cuwed;":8911,"cwconint;":8754,"cwint;":8753,"cylcty;":9005,"dArr;":8659,"dHar;":10597,"dagger;":8224,"daleth;":8504,"darr;":8595,"dash;":8208,"dashv;":8867,"dbkarow;":10511,"dblac;":733,"dcaron;":271,"dcy;":1076,"dd;":8518,"ddagger;":8225,"ddarr;":8650,"ddotseq;":10871,deg:176,"deg;":176,"delta;":948,"demptyv;":10673,"dfisht;":10623,"dfr;":[55349,56609],"dharl;":8643,"dharr;":8642,"diam;":8900,"diamond;":8900,"diamondsuit;":9830,"diams;":9830,"die;":168,"digamma;":989,"disin;":8946,"div;":247,divide:247,"divide;":247,"divideontimes;":8903,"divonx;":8903,"djcy;":1106,"dlcorn;":8990,"dlcrop;":8973,"dollar;":36,"dopf;":[55349,56661],"dot;":729,"doteq;":8784,"doteqdot;":8785,"dotminus;":8760,"dotplus;":8724,"dotsquare;":8865,"doublebarwedge;":8966,"downarrow;":8595,"downdownarrows;":8650,"downharpoonleft;":8643,"downharpoonright;":8642,"drbkarow;":10512,"drcorn;":8991,"drcrop;":8972,"dscr;":[55349,56505],"dscy;":1109,"dsol;":10742,"dstrok;":273,"dtdot;":8945,"dtri;":9663,"dtrif;":9662,"duarr;":8693,"duhar;":10607,"dwangle;":10662,"dzcy;":1119,"dzigrarr;":10239,"eDDot;":10871,"eDot;":8785,eacute:233,"eacute;":233,"easter;":10862,"ecaron;":283,"ecir;":8790,ecirc:234,"ecirc;":234,"ecolon;":8789,"ecy;":1101,"edot;":279,"ee;":8519,"efDot;":8786,"efr;":[55349,56610],"eg;":10906,egrave:232,"egrave;":232,"egs;":10902,"egsdot;":10904,"el;":10905,"elinters;":9191,"ell;":8467,"els;":10901,"elsdot;":10903,"emacr;":275,"empty;":8709,"emptyset;":8709,"emptyv;":8709,"emsp13;":8196,"emsp14;":8197,"emsp;":8195,"eng;":331,"ensp;":8194,"eogon;":281,"eopf;":[55349,56662],"epar;":8917,"eparsl;":10723,"eplus;":10865,"epsi;":949,"epsilon;":949,"epsiv;":1013,"eqcirc;":8790,"eqcolon;":8789,"eqsim;":8770,"eqslantgtr;":10902,"eqslantless;":10901,"equals;":61,"equest;":8799,"equiv;":8801,"equivDD;":10872,"eqvparsl;":10725,"erDot;":8787,"erarr;":10609,"escr;":8495,"esdot;":8784,"esim;":8770,"eta;":951,eth:240,"eth;":240,euml:235,"euml;":235,"euro;":8364,"excl;":33,"exist;":8707,"expectation;":8496,"exponentiale;":8519,"fallingdotseq;":8786,"fcy;":1092,"female;":9792,"ffilig;":64259,"fflig;":64256,"ffllig;":64260,"ffr;":[55349,56611],"filig;":64257,"fjlig;":[102,106],"flat;":9837,"fllig;":64258,"fltns;":9649,"fnof;":402,"fopf;":[55349,56663],"forall;":8704,"fork;":8916,"forkv;":10969,"fpartint;":10765,frac12:189,"frac12;":189,"frac13;":8531,frac14:188,"frac14;":188,"frac15;":8533,"frac16;":8537,"frac18;":8539,"frac23;":8532,"frac25;":8534,frac34:190,"frac34;":190,"frac35;":8535,"frac38;":8540,"frac45;":8536,"frac56;":8538,"frac58;":8541,"frac78;":8542,"frasl;":8260,"frown;":8994,"fscr;":[55349,56507],"gE;":8807,"gEl;":10892,"gacute;":501,"gamma;":947,"gammad;":989,"gap;":10886,"gbreve;":287,"gcirc;":285,"gcy;":1075,"gdot;":289,"ge;":8805,"gel;":8923,"geq;":8805,"geqq;":8807,"geqslant;":10878,"ges;":10878,"gescc;":10921,"gesdot;":10880,"gesdoto;":10882,"gesdotol;":10884,"gesl;":[8923,65024],"gesles;":10900,"gfr;":[55349,56612],"gg;":8811,"ggg;":8921,"gimel;":8503,"gjcy;":1107,"gl;":8823,"glE;":10898,"gla;":10917,"glj;":10916,"gnE;":8809,"gnap;":10890,"gnapprox;":10890,"gne;":10888,"gneq;":10888,"gneqq;":8809,"gnsim;":8935,"gopf;":[55349,56664],"grave;":96,"gscr;":8458,"gsim;":8819,"gsime;":10894,"gsiml;":10896,gt:62,"gt;":62,"gtcc;":10919,"gtcir;":10874,"gtdot;":8919,"gtlPar;":10645,"gtquest;":10876,"gtrapprox;":10886,"gtrarr;":10616,"gtrdot;":8919,"gtreqless;":8923,"gtreqqless;":10892,"gtrless;":8823,"gtrsim;":8819,"gvertneqq;":[8809,65024],"gvnE;":[8809,65024],"hArr;":8660,"hairsp;":8202,"half;":189,"hamilt;":8459,"hardcy;":1098,"harr;":8596,"harrcir;":10568,"harrw;":8621,"hbar;":8463,"hcirc;":293,"hearts;":9829,"heartsuit;":9829,"hellip;":8230,"hercon;":8889,"hfr;":[55349,56613],"hksearow;":10533,"hkswarow;":10534,"hoarr;":8703,"homtht;":8763,"hookleftarrow;":8617,"hookrightarrow;":8618,"hopf;":[55349,56665],"horbar;":8213,"hscr;":[55349,56509],"hslash;":8463,"hstrok;":295,"hybull;":8259,"hyphen;":8208,iacute:237,"iacute;":237,"ic;":8291,icirc:238,"icirc;":238,"icy;":1080,"iecy;":1077,iexcl:161,"iexcl;":161,"iff;":8660,"ifr;":[55349,56614],igrave:236,"igrave;":236,"ii;":8520,"iiiint;":10764,"iiint;":8749,"iinfin;":10716,"iiota;":8489,"ijlig;":307,"imacr;":299,"image;":8465,"imagline;":8464,"imagpart;":8465,"imath;":305,"imof;":8887,"imped;":437,"in;":8712,"incare;":8453,"infin;":8734,"infintie;":10717,"inodot;":305,"int;":8747,"intcal;":8890,"integers;":8484,"intercal;":8890,"intlarhk;":10775,"intprod;":10812,"iocy;":1105,"iogon;":303,"iopf;":[55349,56666],"iota;":953,"iprod;":10812,iquest:191,"iquest;":191,"iscr;":[55349,56510],"isin;":8712,"isinE;":8953,"isindot;":8949,"isins;":8948,"isinsv;":8947,"isinv;":8712,"it;":8290,"itilde;":297,"iukcy;":1110,iuml:239,"iuml;":239,"jcirc;":309,"jcy;":1081,"jfr;":[55349,56615],"jmath;":567,"jopf;":[55349,56667],"jscr;":[55349,56511],"jsercy;":1112,"jukcy;":1108,"kappa;":954,"kappav;":1008,"kcedil;":311,"kcy;":1082,"kfr;":[55349,56616],"kgreen;":312,"khcy;":1093,"kjcy;":1116,"kopf;":[55349,56668],"kscr;":[55349,56512],"lAarr;":8666,"lArr;":8656,"lAtail;":10523,"lBarr;":10510,"lE;":8806,"lEg;":10891,"lHar;":10594,"lacute;":314,"laemptyv;":10676,"lagran;":8466,"lambda;":955,"lang;":10216,"langd;":10641,"langle;":10216,"lap;":10885,laquo:171,"laquo;":171,"larr;":8592,"larrb;":8676,"larrbfs;":10527,"larrfs;":10525,"larrhk;":8617,"larrlp;":8619,"larrpl;":10553,"larrsim;":10611,"larrtl;":8610,"lat;":10923,"latail;":10521,"late;":10925,"lates;":[10925,65024],"lbarr;":10508,"lbbrk;":10098,"lbrace;":123,"lbrack;":91,"lbrke;":10635,"lbrksld;":10639,"lbrkslu;":10637,"lcaron;":318,"lcedil;":316,"lceil;":8968,"lcub;":123,"lcy;":1083,"ldca;":10550,"ldquo;":8220,"ldquor;":8222,"ldrdhar;":10599,"ldrushar;":10571,"ldsh;":8626,"le;":8804,"leftarrow;":8592,"leftarrowtail;":8610,"leftharpoondown;":8637,"leftharpoonup;":8636,"leftleftarrows;":8647,"leftrightarrow;":8596,"leftrightarrows;":8646,"leftrightharpoons;":8651,"leftrightsquigarrow;":8621,"leftthreetimes;":8907,"leg;":8922,"leq;":8804,"leqq;":8806,"leqslant;":10877,"les;":10877,"lescc;":10920,"lesdot;":10879,"lesdoto;":10881,"lesdotor;":10883,"lesg;":[8922,65024],"lesges;":10899,"lessapprox;":10885,"lessdot;":8918,"lesseqgtr;":8922,"lesseqqgtr;":10891,"lessgtr;":8822,"lesssim;":8818,"lfisht;":10620,"lfloor;":8970,"lfr;":[55349,56617],"lg;":8822,"lgE;":10897,"lhard;":8637,"lharu;":8636,"lharul;":10602,"lhblk;":9604,"ljcy;":1113,"ll;":8810,"llarr;":8647,"llcorner;":8990,"llhard;":10603,"lltri;":9722,"lmidot;":320,"lmoust;":9136,"lmoustache;":9136,"lnE;":8808,"lnap;":10889,"lnapprox;":10889,"lne;":10887,"lneq;":10887,"lneqq;":8808,"lnsim;":8934,"loang;":10220,"loarr;":8701,"lobrk;":10214,"longleftarrow;":10229,"longleftrightarrow;":10231,"longmapsto;":10236,"longrightarrow;":10230,"looparrowleft;":8619,"looparrowright;":8620,"lopar;":10629,"lopf;":[55349,56669],"loplus;":10797,"lotimes;":10804,"lowast;":8727,"lowbar;":95,"loz;":9674,"lozenge;":9674,"lozf;":10731,"lpar;":40,"lparlt;":10643,"lrarr;":8646,"lrcorner;":8991,"lrhar;":8651,"lrhard;":10605,"lrm;":8206,"lrtri;":8895,"lsaquo;":8249,"lscr;":[55349,56513],"lsh;":8624,"lsim;":8818,"lsime;":10893,"lsimg;":10895,"lsqb;":91,"lsquo;":8216,"lsquor;":8218,"lstrok;":322,lt:60,"lt;":60,"ltcc;":10918,"ltcir;":10873,"ltdot;":8918,"lthree;":8907,"ltimes;":8905,"ltlarr;":10614,"ltquest;":10875,"ltrPar;":10646,"ltri;":9667,"ltrie;":8884,"ltrif;":9666,"lurdshar;":10570,"luruhar;":10598,"lvertneqq;":[8808,65024],"lvnE;":[8808,65024],"mDDot;":8762,macr:175,"macr;":175,"male;":9794,"malt;":10016,"maltese;":10016,"map;":8614,"mapsto;":8614,"mapstodown;":8615,"mapstoleft;":8612,"mapstoup;":8613,"marker;":9646,"mcomma;":10793,"mcy;":1084,"mdash;":8212,"measuredangle;":8737,"mfr;":[55349,56618],"mho;":8487,micro:181,"micro;":181,"mid;":8739,"midast;":42,"midcir;":10992,middot:183,"middot;":183,"minus;":8722,"minusb;":8863,"minusd;":8760,"minusdu;":10794,"mlcp;":10971,"mldr;":8230,"mnplus;":8723,"models;":8871,"mopf;":[55349,56670],"mp;":8723,"mscr;":[55349,56514],"mstpos;":8766,"mu;":956,"multimap;":8888,"mumap;":8888,"nGg;":[8921,824],"nGt;":[8811,8402],"nGtv;":[8811,824],"nLeftarrow;":8653,"nLeftrightarrow;":8654,"nLl;":[8920,824],"nLt;":[8810,8402],"nLtv;":[8810,824],"nRightarrow;":8655,"nVDash;":8879,"nVdash;":8878,"nabla;":8711,"nacute;":324,"nang;":[8736,8402],"nap;":8777,"napE;":[10864,824],"napid;":[8779,824],"napos;":329,"napprox;":8777,"natur;":9838,"natural;":9838,"naturals;":8469,nbsp:160,"nbsp;":160,"nbump;":[8782,824],"nbumpe;":[8783,824],"ncap;":10819,"ncaron;":328,"ncedil;":326,"ncong;":8775,"ncongdot;":[10861,824],"ncup;":10818,"ncy;":1085,"ndash;":8211,"ne;":8800,"neArr;":8663,"nearhk;":10532,"nearr;":8599,"nearrow;":8599,"nedot;":[8784,824],"nequiv;":8802,"nesear;":10536,"nesim;":[8770,824],"nexist;":8708,"nexists;":8708,"nfr;":[55349,56619],"ngE;":[8807,824],"nge;":8817,"ngeq;":8817,"ngeqq;":[8807,824],"ngeqslant;":[10878,824],"nges;":[10878,824],"ngsim;":8821,"ngt;":8815,"ngtr;":8815,"nhArr;":8654,"nharr;":8622,"nhpar;":10994,"ni;":8715,"nis;":8956,"nisd;":8954,"niv;":8715,"njcy;":1114,"nlArr;":8653,"nlE;":[8806,824],"nlarr;":8602,"nldr;":8229,"nle;":8816,"nleftarrow;":8602,"nleftrightarrow;":8622,"nleq;":8816,"nleqq;":[8806,824],"nleqslant;":[10877,824],"nles;":[10877,824],"nless;":8814,"nlsim;":8820,"nlt;":8814,"nltri;":8938,"nltrie;":8940,"nmid;":8740,"nopf;":[55349,56671],not:172,"not;":172,"notin;":8713,"notinE;":[8953,824],"notindot;":[8949,824],"notinva;":8713,"notinvb;":8951,"notinvc;":8950,"notni;":8716,"notniva;":8716,"notnivb;":8958,"notnivc;":8957,"npar;":8742,"nparallel;":8742,"nparsl;":[11005,8421],"npart;":[8706,824],"npolint;":10772,"npr;":8832,"nprcue;":8928,"npre;":[10927,824],"nprec;":8832,"npreceq;":[10927,824],"nrArr;":8655,"nrarr;":8603,"nrarrc;":[10547,824],"nrarrw;":[8605,824],"nrightarrow;":8603,"nrtri;":8939,"nrtrie;":8941,"nsc;":8833,"nsccue;":8929,"nsce;":[10928,824],"nscr;":[55349,56515],"nshortmid;":8740,"nshortparallel;":8742,"nsim;":8769,"nsime;":8772,"nsimeq;":8772,"nsmid;":8740,"nspar;":8742,"nsqsube;":8930,"nsqsupe;":8931,"nsub;":8836,"nsubE;":[10949,824],"nsube;":8840,"nsubset;":[8834,8402],"nsubseteq;":8840,"nsubseteqq;":[10949,824],"nsucc;":8833,"nsucceq;":[10928,824],"nsup;":8837,"nsupE;":[10950,824],"nsupe;":8841,"nsupset;":[8835,8402],"nsupseteq;":8841,"nsupseteqq;":[10950,824],"ntgl;":8825,ntilde:241,"ntilde;":241,"ntlg;":8824,"ntriangleleft;":8938,"ntrianglelefteq;":8940,"ntriangleright;":8939,"ntrianglerighteq;":8941,"nu;":957,"num;":35,"numero;":8470,"numsp;":8199,"nvDash;":8877,"nvHarr;":10500,"nvap;":[8781,8402],"nvdash;":8876,"nvge;":[8805,8402],"nvgt;":[62,8402],"nvinfin;":10718,"nvlArr;":10498,"nvle;":[8804,8402],"nvlt;":[60,8402],"nvltrie;":[8884,8402],"nvrArr;":10499,"nvrtrie;":[8885,8402],"nvsim;":[8764,8402],"nwArr;":8662,"nwarhk;":10531,"nwarr;":8598,"nwarrow;":8598,"nwnear;":10535,"oS;":9416,oacute:243,"oacute;":243,"oast;":8859,"ocir;":8858,ocirc:244,"ocirc;":244,"ocy;":1086,"odash;":8861,"odblac;":337,"odiv;":10808,"odot;":8857,"odsold;":10684,"oelig;":339,"ofcir;":10687,"ofr;":[55349,56620],"ogon;":731,ograve:242,"ograve;":242,"ogt;":10689,"ohbar;":10677,"ohm;":937,"oint;":8750,"olarr;":8634,"olcir;":10686,"olcross;":10683,"oline;":8254,"olt;":10688,"omacr;":333,"omega;":969,"omicron;":959,"omid;":10678,"ominus;":8854,"oopf;":[55349,56672],"opar;":10679,"operp;":10681,"oplus;":8853,"or;":8744,"orarr;":8635,"ord;":10845,"order;":8500,"orderof;":8500,ordf:170,"ordf;":170,ordm:186,"ordm;":186,"origof;":8886,"oror;":10838,"orslope;":10839,"orv;":10843,"oscr;":8500,oslash:248,"oslash;":248,"osol;":8856,otilde:245,"otilde;":245,"otimes;":8855,"otimesas;":10806,ouml:246,"ouml;":246,"ovbar;":9021,"par;":8741,para:182,"para;":182,"parallel;":8741,"parsim;":10995,"parsl;":11005,"part;":8706,"pcy;":1087,"percnt;":37,"period;":46,"permil;":8240,"perp;":8869,"pertenk;":8241,"pfr;":[55349,56621],"phi;":966,"phiv;":981,"phmmat;":8499,"phone;":9742,"pi;":960,"pitchfork;":8916,"piv;":982,"planck;":8463,"planckh;":8462,"plankv;":8463,"plus;":43,"plusacir;":10787,"plusb;":8862,"pluscir;":10786,"plusdo;":8724,"plusdu;":10789,"pluse;":10866,plusmn:177,"plusmn;":177,"plussim;":10790,"plustwo;":10791,"pm;":177,"pointint;":10773,"popf;":[55349,56673],pound:163,"pound;":163,"pr;":8826,"prE;":10931,"prap;":10935,"prcue;":8828,"pre;":10927,"prec;":8826,"precapprox;":10935,"preccurlyeq;":8828,"preceq;":10927,"precnapprox;":10937,"precneqq;":10933,"precnsim;":8936,"precsim;":8830,"prime;":8242,"primes;":8473,"prnE;":10933,"prnap;":10937,"prnsim;":8936,"prod;":8719,"profalar;":9006,"profline;":8978,"profsurf;":8979,"prop;":8733,"propto;":8733,"prsim;":8830,"prurel;":8880,"pscr;":[55349,56517],"psi;":968,"puncsp;":8200,"qfr;":[55349,56622],"qint;":10764,"qopf;":[55349,56674],"qprime;":8279,"qscr;":[55349,56518],"quaternions;":8461,"quatint;":10774,"quest;":63,"questeq;":8799,quot:34,"quot;":34,"rAarr;":8667,"rArr;":8658,"rAtail;":10524,"rBarr;":10511,"rHar;":10596,"race;":[8765,817],"racute;":341,"radic;":8730,"raemptyv;":10675,"rang;":10217,"rangd;":10642,"range;":10661,"rangle;":10217,raquo:187,"raquo;":187,"rarr;":8594,"rarrap;":10613,"rarrb;":8677,"rarrbfs;":10528,"rarrc;":10547,"rarrfs;":10526,"rarrhk;":8618,"rarrlp;":8620,"rarrpl;":10565,"rarrsim;":10612,"rarrtl;":8611,"rarrw;":8605,"ratail;":10522,"ratio;":8758,"rationals;":8474,"rbarr;":10509,"rbbrk;":10099,"rbrace;":125,"rbrack;":93,"rbrke;":10636,"rbrksld;":10638,"rbrkslu;":10640,"rcaron;":345,"rcedil;":343,"rceil;":8969,"rcub;":125,"rcy;":1088,"rdca;":10551,"rdldhar;":10601,"rdquo;":8221,"rdquor;":8221,"rdsh;":8627,"real;":8476,"realine;":8475,"realpart;":8476,"reals;":8477,"rect;":9645,reg:174,"reg;":174,"rfisht;":10621,"rfloor;":8971,"rfr;":[55349,56623],"rhard;":8641,"rharu;":8640,"rharul;":10604,"rho;":961,"rhov;":1009,"rightarrow;":8594,"rightarrowtail;":8611,"rightharpoondown;":8641,"rightharpoonup;":8640,"rightleftarrows;":8644,"rightleftharpoons;":8652,"rightrightarrows;":8649,"rightsquigarrow;":8605,"rightthreetimes;":8908,"ring;":730,"risingdotseq;":8787,"rlarr;":8644,"rlhar;":8652,"rlm;":8207,"rmoust;":9137,"rmoustache;":9137,"rnmid;":10990,"roang;":10221,"roarr;":8702,"robrk;":10215,"ropar;":10630,"ropf;":[55349,56675],"roplus;":10798,"rotimes;":10805,"rpar;":41,"rpargt;":10644,"rppolint;":10770,"rrarr;":8649,"rsaquo;":8250,"rscr;":[55349,56519],"rsh;":8625,"rsqb;":93,"rsquo;":8217,"rsquor;":8217,"rthree;":8908,"rtimes;":8906,"rtri;":9657,"rtrie;":8885,"rtrif;":9656,"rtriltri;":10702,"ruluhar;":10600,"rx;":8478,"sacute;":347,"sbquo;":8218,"sc;":8827,"scE;":10932,"scap;":10936,"scaron;":353,"sccue;":8829,"sce;":10928,"scedil;":351,"scirc;":349,"scnE;":10934,"scnap;":10938,"scnsim;":8937,"scpolint;":10771,"scsim;":8831,"scy;":1089,"sdot;":8901,"sdotb;":8865,"sdote;":10854,"seArr;":8664,"searhk;":10533,"searr;":8600,"searrow;":8600,sect:167,"sect;":167,"semi;":59,"seswar;":10537,"setminus;":8726,"setmn;":8726,"sext;":10038,"sfr;":[55349,56624],"sfrown;":8994,"sharp;":9839,"shchcy;":1097,"shcy;":1096,"shortmid;":8739,"shortparallel;":8741,shy:173,"shy;":173,"sigma;":963,"sigmaf;":962,"sigmav;":962,"sim;":8764,"simdot;":10858,"sime;":8771,"simeq;":8771,"simg;":10910,"simgE;":10912,"siml;":10909,"simlE;":10911,"simne;":8774,"simplus;":10788,"simrarr;":10610,"slarr;":8592,"smallsetminus;":8726,"smashp;":10803,"smeparsl;":10724,"smid;":8739,"smile;":8995,"smt;":10922,"smte;":10924,"smtes;":[10924,65024],"softcy;":1100,"sol;":47,"solb;":10692,"solbar;":9023,"sopf;":[55349,56676],"spades;":9824,"spadesuit;":9824,"spar;":8741,"sqcap;":8851,"sqcaps;":[8851,65024],"sqcup;":8852,"sqcups;":[8852,65024],"sqsub;":8847,"sqsube;":8849,"sqsubset;":8847,"sqsubseteq;":8849,"sqsup;":8848,"sqsupe;":8850,"sqsupset;":8848,"sqsupseteq;":8850,"squ;":9633,"square;":9633,"squarf;":9642,"squf;":9642,"srarr;":8594,"sscr;":[55349,56520],"ssetmn;":8726,"ssmile;":8995,"sstarf;":8902,"star;":9734,"starf;":9733,"straightepsilon;":1013,"straightphi;":981,"strns;":175,"sub;":8834,"subE;":10949,"subdot;":10941,"sube;":8838,"subedot;":10947,"submult;":10945,"subnE;":10955,"subne;":8842,"subplus;":10943,"subrarr;":10617,"subset;":8834,"subseteq;":8838,"subseteqq;":10949,"subsetneq;":8842,"subsetneqq;":10955,"subsim;":10951,"subsub;":10965,"subsup;":10963,"succ;":8827,"succapprox;":10936,"succcurlyeq;":8829,"succeq;":10928,"succnapprox;":10938,"succneqq;":10934,"succnsim;":8937,"succsim;":8831,"sum;":8721,"sung;":9834,sup1:185,"sup1;":185,sup2:178,"sup2;":178,sup3:179,"sup3;":179,"sup;":8835,"supE;":10950,"supdot;":10942,"supdsub;":10968,"supe;":8839,"supedot;":10948,"suphsol;":10185,"suphsub;":10967,"suplarr;":10619,"supmult;":10946,"supnE;":10956,"supne;":8843,"supplus;":10944,"supset;":8835,"supseteq;":8839,"supseteqq;":10950,"supsetneq;":8843,"supsetneqq;":10956,"supsim;":10952,"supsub;":10964,"supsup;":10966,"swArr;":8665,"swarhk;":10534,"swarr;":8601,"swarrow;":8601,"swnwar;":10538,szlig:223,"szlig;":223,"target;":8982,"tau;":964,"tbrk;":9140,"tcaron;":357,"tcedil;":355,"tcy;":1090,"tdot;":8411,"telrec;":8981,"tfr;":[55349,56625],"there4;":8756,"therefore;":8756,"theta;":952,"thetasym;":977,"thetav;":977,"thickapprox;":8776,"thicksim;":8764,"thinsp;":8201,"thkap;":8776,"thksim;":8764,thorn:254,"thorn;":254,"tilde;":732,times:215,"times;":215,"timesb;":8864,"timesbar;":10801,"timesd;":10800,"tint;":8749,"toea;":10536,"top;":8868,"topbot;":9014,"topcir;":10993,"topf;":[55349,56677],"topfork;":10970,"tosa;":10537,"tprime;":8244,"trade;":8482,"triangle;":9653,"triangledown;":9663,"triangleleft;":9667,"trianglelefteq;":8884,"triangleq;":8796,"triangleright;":9657,"trianglerighteq;":8885,"tridot;":9708,"trie;":8796,"triminus;":10810,"triplus;":10809,"trisb;":10701,"tritime;":10811,"trpezium;":9186,"tscr;":[55349,56521],"tscy;":1094,"tshcy;":1115,"tstrok;":359,"twixt;":8812,"twoheadleftarrow;":8606,"twoheadrightarrow;":8608,"uArr;":8657,"uHar;":10595,uacute:250,"uacute;":250,"uarr;":8593,"ubrcy;":1118,"ubreve;":365,ucirc:251,"ucirc;":251,"ucy;":1091,"udarr;":8645,"udblac;":369,"udhar;":10606,"ufisht;":10622,"ufr;":[55349,56626],ugrave:249,"ugrave;":249,"uharl;":8639,"uharr;":8638,"uhblk;":9600,"ulcorn;":8988,"ulcorner;":8988,"ulcrop;":8975,"ultri;":9720,"umacr;":363,uml:168,"uml;":168,"uogon;":371,"uopf;":[55349,56678],"uparrow;":8593,"updownarrow;":8597,"upharpoonleft;":8639,"upharpoonright;":8638,"uplus;":8846,"upsi;":965,"upsih;":978,"upsilon;":965,"upuparrows;":8648,"urcorn;":8989,"urcorner;":8989,"urcrop;":8974,"uring;":367,"urtri;":9721,"uscr;":[55349,56522],"utdot;":8944,"utilde;":361,"utri;":9653,"utrif;":9652,"uuarr;":8648,uuml:252,"uuml;":252,"uwangle;":10663,"vArr;":8661,"vBar;":10984,"vBarv;":10985,"vDash;":8872,"vangrt;":10652,"varepsilon;":1013,"varkappa;":1008,"varnothing;":8709,"varphi;":981,"varpi;":982,"varpropto;":8733,"varr;":8597,"varrho;":1009,"varsigma;":962,"varsubsetneq;":[8842,65024],"varsubsetneqq;":[10955,65024],"varsupsetneq;":[8843,65024],"varsupsetneqq;":[10956,65024],"vartheta;":977,"vartriangleleft;":8882,"vartriangleright;":8883,"vcy;":1074,"vdash;":8866,"vee;":8744,"veebar;":8891,"veeeq;":8794,"vellip;":8942,"verbar;":124,"vert;":124,"vfr;":[55349,56627],"vltri;":8882,"vnsub;":[8834,8402],"vnsup;":[8835,8402],"vopf;":[55349,56679],"vprop;":8733,"vrtri;":8883,"vscr;":[55349,56523],"vsubnE;":[10955,65024],"vsubne;":[8842,65024],"vsupnE;":[10956,65024],"vsupne;":[8843,65024],"vzigzag;":10650,"wcirc;":373,"wedbar;":10847,"wedge;":8743,"wedgeq;":8793,"weierp;":8472,"wfr;":[55349,56628],"wopf;":[55349,56680],"wp;":8472,"wr;":8768,"wreath;":8768,"wscr;":[55349,56524],"xcap;":8898,"xcirc;":9711,"xcup;":8899,"xdtri;":9661,"xfr;":[55349,56629],"xhArr;":10234,"xharr;":10231,"xi;":958,"xlArr;":10232,"xlarr;":10229,"xmap;":10236,"xnis;":8955,"xodot;":10752,"xopf;":[55349,56681],"xoplus;":10753,"xotime;":10754,"xrArr;":10233,"xrarr;":10230,"xscr;":[55349,56525],"xsqcup;":10758,"xuplus;":10756,"xutri;":9651,"xvee;":8897,"xwedge;":8896,yacute:253,"yacute;":253,"yacy;":1103,"ycirc;":375,"ycy;":1099,yen:165,"yen;":165,"yfr;":[55349,56630],"yicy;":1111,"yopf;":[55349,56682],"yscr;":[55349,56526],"yucy;":1102,yuml:255,"yuml;":255,"zacute;":378,"zcaron;":382,"zcy;":1079,"zdot;":380,"zeetrf;":8488,"zeta;":950,"zfr;":[55349,56631],"zhcy;":1078,"zigrarr;":8669,"zopf;":[55349,56683],"zscr;":[55349,56527],"zwj;":8205,"zwnj;":8204},kt=/(A(?:Elig;?|MP;?|acute;?|breve;|c(?:irc;?|y;)|fr;|grave;?|lpha;|macr;|nd;|o(?:gon;|pf;)|pplyFunction;|ring;?|s(?:cr;|sign;)|tilde;?|uml;?)|B(?:a(?:ckslash;|r(?:v;|wed;))|cy;|e(?:cause;|rnoullis;|ta;)|fr;|opf;|reve;|scr;|umpeq;)|C(?:Hcy;|OPY;?|a(?:cute;|p(?:;|italDifferentialD;)|yleys;)|c(?:aron;|edil;?|irc;|onint;)|dot;|e(?:dilla;|nterDot;)|fr;|hi;|ircle(?:Dot;|Minus;|Plus;|Times;)|lo(?:ckwiseContourIntegral;|seCurly(?:DoubleQuote;|Quote;))|o(?:lon(?:;|e;)|n(?:gruent;|int;|tourIntegral;)|p(?:f;|roduct;)|unterClockwiseContourIntegral;)|ross;|scr;|up(?:;|Cap;))|D(?:D(?:;|otrahd;)|Jcy;|Scy;|Zcy;|a(?:gger;|rr;|shv;)|c(?:aron;|y;)|el(?:;|ta;)|fr;|i(?:a(?:critical(?:Acute;|Do(?:t;|ubleAcute;)|Grave;|Tilde;)|mond;)|fferentialD;)|o(?:pf;|t(?:;|Dot;|Equal;)|uble(?:ContourIntegral;|Do(?:t;|wnArrow;)|L(?:eft(?:Arrow;|RightArrow;|Tee;)|ong(?:Left(?:Arrow;|RightArrow;)|RightArrow;))|Right(?:Arrow;|Tee;)|Up(?:Arrow;|DownArrow;)|VerticalBar;)|wn(?:Arrow(?:;|Bar;|UpArrow;)|Breve;|Left(?:RightVector;|TeeVector;|Vector(?:;|Bar;))|Right(?:TeeVector;|Vector(?:;|Bar;))|Tee(?:;|Arrow;)|arrow;))|s(?:cr;|trok;))|E(?:NG;|TH;?|acute;?|c(?:aron;|irc;?|y;)|dot;|fr;|grave;?|lement;|m(?:acr;|pty(?:SmallSquare;|VerySmallSquare;))|o(?:gon;|pf;)|psilon;|qu(?:al(?:;|Tilde;)|ilibrium;)|s(?:cr;|im;)|ta;|uml;?|x(?:ists;|ponentialE;))|F(?:cy;|fr;|illed(?:SmallSquare;|VerySmallSquare;)|o(?:pf;|rAll;|uriertrf;)|scr;)|G(?:Jcy;|T;?|amma(?:;|d;)|breve;|c(?:edil;|irc;|y;)|dot;|fr;|g;|opf;|reater(?:Equal(?:;|Less;)|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;)|scr;|t;)|H(?:ARDcy;|a(?:cek;|t;)|circ;|fr;|ilbertSpace;|o(?:pf;|rizontalLine;)|s(?:cr;|trok;)|ump(?:DownHump;|Equal;))|I(?:Ecy;|Jlig;|Ocy;|acute;?|c(?:irc;?|y;)|dot;|fr;|grave;?|m(?:;|a(?:cr;|ginaryI;)|plies;)|n(?:t(?:;|e(?:gral;|rsection;))|visible(?:Comma;|Times;))|o(?:gon;|pf;|ta;)|scr;|tilde;|u(?:kcy;|ml;?))|J(?:c(?:irc;|y;)|fr;|opf;|s(?:cr;|ercy;)|ukcy;)|K(?:Hcy;|Jcy;|appa;|c(?:edil;|y;)|fr;|opf;|scr;)|L(?:Jcy;|T;?|a(?:cute;|mbda;|ng;|placetrf;|rr;)|c(?:aron;|edil;|y;)|e(?:ft(?:A(?:ngleBracket;|rrow(?:;|Bar;|RightArrow;))|Ceiling;|Do(?:ubleBracket;|wn(?:TeeVector;|Vector(?:;|Bar;)))|Floor;|Right(?:Arrow;|Vector;)|T(?:ee(?:;|Arrow;|Vector;)|riangle(?:;|Bar;|Equal;))|Up(?:DownVector;|TeeVector;|Vector(?:;|Bar;))|Vector(?:;|Bar;)|arrow;|rightarrow;)|ss(?:EqualGreater;|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;))|fr;|l(?:;|eftarrow;)|midot;|o(?:ng(?:Left(?:Arrow;|RightArrow;)|RightArrow;|left(?:arrow;|rightarrow;)|rightarrow;)|pf;|wer(?:LeftArrow;|RightArrow;))|s(?:cr;|h;|trok;)|t;)|M(?:ap;|cy;|e(?:diumSpace;|llintrf;)|fr;|inusPlus;|opf;|scr;|u;)|N(?:Jcy;|acute;|c(?:aron;|edil;|y;)|e(?:gative(?:MediumSpace;|Thi(?:ckSpace;|nSpace;)|VeryThinSpace;)|sted(?:GreaterGreater;|LessLess;)|wLine;)|fr;|o(?:Break;|nBreakingSpace;|pf;|t(?:;|C(?:ongruent;|upCap;)|DoubleVerticalBar;|E(?:lement;|qual(?:;|Tilde;)|xists;)|Greater(?:;|Equal;|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;)|Hump(?:DownHump;|Equal;)|Le(?:ftTriangle(?:;|Bar;|Equal;)|ss(?:;|Equal;|Greater;|Less;|SlantEqual;|Tilde;))|Nested(?:GreaterGreater;|LessLess;)|Precedes(?:;|Equal;|SlantEqual;)|R(?:everseElement;|ightTriangle(?:;|Bar;|Equal;))|S(?:quareSu(?:bset(?:;|Equal;)|perset(?:;|Equal;))|u(?:bset(?:;|Equal;)|cceeds(?:;|Equal;|SlantEqual;|Tilde;)|perset(?:;|Equal;)))|Tilde(?:;|Equal;|FullEqual;|Tilde;)|VerticalBar;))|scr;|tilde;?|u;)|O(?:Elig;|acute;?|c(?:irc;?|y;)|dblac;|fr;|grave;?|m(?:acr;|ega;|icron;)|opf;|penCurly(?:DoubleQuote;|Quote;)|r;|s(?:cr;|lash;?)|ti(?:lde;?|mes;)|uml;?|ver(?:B(?:ar;|rac(?:e;|ket;))|Parenthesis;))|P(?:artialD;|cy;|fr;|hi;|i;|lusMinus;|o(?:incareplane;|pf;)|r(?:;|ecedes(?:;|Equal;|SlantEqual;|Tilde;)|ime;|o(?:duct;|portion(?:;|al;)))|s(?:cr;|i;))|Q(?:UOT;?|fr;|opf;|scr;)|R(?:Barr;|EG;?|a(?:cute;|ng;|rr(?:;|tl;))|c(?:aron;|edil;|y;)|e(?:;|verse(?:E(?:lement;|quilibrium;)|UpEquilibrium;))|fr;|ho;|ight(?:A(?:ngleBracket;|rrow(?:;|Bar;|LeftArrow;))|Ceiling;|Do(?:ubleBracket;|wn(?:TeeVector;|Vector(?:;|Bar;)))|Floor;|T(?:ee(?:;|Arrow;|Vector;)|riangle(?:;|Bar;|Equal;))|Up(?:DownVector;|TeeVector;|Vector(?:;|Bar;))|Vector(?:;|Bar;)|arrow;)|o(?:pf;|undImplies;)|rightarrow;|s(?:cr;|h;)|uleDelayed;)|S(?:H(?:CHcy;|cy;)|OFTcy;|acute;|c(?:;|aron;|edil;|irc;|y;)|fr;|hort(?:DownArrow;|LeftArrow;|RightArrow;|UpArrow;)|igma;|mallCircle;|opf;|q(?:rt;|uare(?:;|Intersection;|Su(?:bset(?:;|Equal;)|perset(?:;|Equal;))|Union;))|scr;|tar;|u(?:b(?:;|set(?:;|Equal;))|c(?:ceeds(?:;|Equal;|SlantEqual;|Tilde;)|hThat;)|m;|p(?:;|erset(?:;|Equal;)|set;)))|T(?:HORN;?|RADE;|S(?:Hcy;|cy;)|a(?:b;|u;)|c(?:aron;|edil;|y;)|fr;|h(?:e(?:refore;|ta;)|i(?:ckSpace;|nSpace;))|ilde(?:;|Equal;|FullEqual;|Tilde;)|opf;|ripleDot;|s(?:cr;|trok;))|U(?:a(?:cute;?|rr(?:;|ocir;))|br(?:cy;|eve;)|c(?:irc;?|y;)|dblac;|fr;|grave;?|macr;|n(?:der(?:B(?:ar;|rac(?:e;|ket;))|Parenthesis;)|ion(?:;|Plus;))|o(?:gon;|pf;)|p(?:Arrow(?:;|Bar;|DownArrow;)|DownArrow;|Equilibrium;|Tee(?:;|Arrow;)|arrow;|downarrow;|per(?:LeftArrow;|RightArrow;)|si(?:;|lon;))|ring;|scr;|tilde;|uml;?)|V(?:Dash;|bar;|cy;|dash(?:;|l;)|e(?:e;|r(?:bar;|t(?:;|ical(?:Bar;|Line;|Separator;|Tilde;))|yThinSpace;))|fr;|opf;|scr;|vdash;)|W(?:circ;|edge;|fr;|opf;|scr;)|X(?:fr;|i;|opf;|scr;)|Y(?:Acy;|Icy;|Ucy;|acute;?|c(?:irc;|y;)|fr;|opf;|scr;|uml;)|Z(?:Hcy;|acute;|c(?:aron;|y;)|dot;|e(?:roWidthSpace;|ta;)|fr;|opf;|scr;)|a(?:acute;?|breve;|c(?:;|E;|d;|irc;?|ute;?|y;)|elig;?|f(?:;|r;)|grave;?|l(?:e(?:fsym;|ph;)|pha;)|m(?:a(?:cr;|lg;)|p;?)|n(?:d(?:;|and;|d;|slope;|v;)|g(?:;|e;|le;|msd(?:;|a(?:a;|b;|c;|d;|e;|f;|g;|h;))|rt(?:;|vb(?:;|d;))|s(?:ph;|t;)|zarr;))|o(?:gon;|pf;)|p(?:;|E;|acir;|e;|id;|os;|prox(?:;|eq;))|ring;?|s(?:cr;|t;|ymp(?:;|eq;))|tilde;?|uml;?|w(?:conint;|int;))|b(?:Not;|a(?:ck(?:cong;|epsilon;|prime;|sim(?:;|eq;))|r(?:vee;|wed(?:;|ge;)))|brk(?:;|tbrk;)|c(?:ong;|y;)|dquo;|e(?:caus(?:;|e;)|mptyv;|psi;|rnou;|t(?:a;|h;|ween;))|fr;|ig(?:c(?:ap;|irc;|up;)|o(?:dot;|plus;|times;)|s(?:qcup;|tar;)|triangle(?:down;|up;)|uplus;|vee;|wedge;)|karow;|l(?:a(?:ck(?:lozenge;|square;|triangle(?:;|down;|left;|right;))|nk;)|k(?:1(?:2;|4;)|34;)|ock;)|n(?:e(?:;|quiv;)|ot;)|o(?:pf;|t(?:;|tom;)|wtie;|x(?:D(?:L;|R;|l;|r;)|H(?:;|D;|U;|d;|u;)|U(?:L;|R;|l;|r;)|V(?:;|H;|L;|R;|h;|l;|r;)|box;|d(?:L;|R;|l;|r;)|h(?:;|D;|U;|d;|u;)|minus;|plus;|times;|u(?:L;|R;|l;|r;)|v(?:;|H;|L;|R;|h;|l;|r;)))|prime;|r(?:eve;|vbar;?)|s(?:cr;|emi;|im(?:;|e;)|ol(?:;|b;|hsub;))|u(?:ll(?:;|et;)|mp(?:;|E;|e(?:;|q;))))|c(?:a(?:cute;|p(?:;|and;|brcup;|c(?:ap;|up;)|dot;|s;)|r(?:et;|on;))|c(?:a(?:ps;|ron;)|edil;?|irc;|ups(?:;|sm;))|dot;|e(?:dil;?|mptyv;|nt(?:;|erdot;|))|fr;|h(?:cy;|eck(?:;|mark;)|i;)|ir(?:;|E;|c(?:;|eq;|le(?:arrow(?:left;|right;)|d(?:R;|S;|ast;|circ;|dash;)))|e;|fnint;|mid;|scir;)|lubs(?:;|uit;)|o(?:lon(?:;|e(?:;|q;))|m(?:ma(?:;|t;)|p(?:;|fn;|le(?:ment;|xes;)))|n(?:g(?:;|dot;)|int;)|p(?:f;|rod;|y(?:;|sr;|)))|r(?:arr;|oss;)|s(?:cr;|u(?:b(?:;|e;)|p(?:;|e;)))|tdot;|u(?:darr(?:l;|r;)|e(?:pr;|sc;)|larr(?:;|p;)|p(?:;|brcap;|c(?:ap;|up;)|dot;|or;|s;)|r(?:arr(?:;|m;)|ly(?:eq(?:prec;|succ;)|vee;|wedge;)|ren;?|vearrow(?:left;|right;))|vee;|wed;)|w(?:conint;|int;)|ylcty;)|d(?:Arr;|Har;|a(?:gger;|leth;|rr;|sh(?:;|v;))|b(?:karow;|lac;)|c(?:aron;|y;)|d(?:;|a(?:gger;|rr;)|otseq;)|e(?:g;?|lta;|mptyv;)|f(?:isht;|r;)|har(?:l;|r;)|i(?:am(?:;|ond(?:;|suit;)|s;)|e;|gamma;|sin;|v(?:;|ide(?:;|ontimes;|)|onx;))|jcy;|lc(?:orn;|rop;)|o(?:llar;|pf;|t(?:;|eq(?:;|dot;)|minus;|plus;|square;)|ublebarwedge;|wn(?:arrow;|downarrows;|harpoon(?:left;|right;)))|r(?:bkarow;|c(?:orn;|rop;))|s(?:c(?:r;|y;)|ol;|trok;)|t(?:dot;|ri(?:;|f;))|u(?:arr;|har;)|wangle;|z(?:cy;|igrarr;))|e(?:D(?:Dot;|ot;)|a(?:cute;?|ster;)|c(?:aron;|ir(?:;|c;?)|olon;|y;)|dot;|e;|f(?:Dot;|r;)|g(?:;|rave;?|s(?:;|dot;))|l(?:;|inters;|l;|s(?:;|dot;))|m(?:acr;|pty(?:;|set;|v;)|sp(?:1(?:3;|4;)|;))|n(?:g;|sp;)|o(?:gon;|pf;)|p(?:ar(?:;|sl;)|lus;|si(?:;|lon;|v;))|q(?:c(?:irc;|olon;)|s(?:im;|lant(?:gtr;|less;))|u(?:als;|est;|iv(?:;|DD;))|vparsl;)|r(?:Dot;|arr;)|s(?:cr;|dot;|im;)|t(?:a;|h;?)|u(?:ml;?|ro;)|x(?:cl;|ist;|p(?:ectation;|onentiale;)))|f(?:allingdotseq;|cy;|emale;|f(?:ilig;|l(?:ig;|lig;)|r;)|ilig;|jlig;|l(?:at;|lig;|tns;)|nof;|o(?:pf;|r(?:all;|k(?:;|v;)))|partint;|r(?:a(?:c(?:1(?:2;?|3;|4;?|5;|6;|8;)|2(?:3;|5;)|3(?:4;?|5;|8;)|45;|5(?:6;|8;)|78;)|sl;)|own;)|scr;)|g(?:E(?:;|l;)|a(?:cute;|mma(?:;|d;)|p;)|breve;|c(?:irc;|y;)|dot;|e(?:;|l;|q(?:;|q;|slant;)|s(?:;|cc;|dot(?:;|o(?:;|l;))|l(?:;|es;)))|fr;|g(?:;|g;)|imel;|jcy;|l(?:;|E;|a;|j;)|n(?:E;|ap(?:;|prox;)|e(?:;|q(?:;|q;))|sim;)|opf;|rave;|s(?:cr;|im(?:;|e;|l;))|t(?:;|c(?:c;|ir;)|dot;|lPar;|quest;|r(?:a(?:pprox;|rr;)|dot;|eq(?:less;|qless;)|less;|sim;)|)|v(?:ertneqq;|nE;))|h(?:Arr;|a(?:irsp;|lf;|milt;|r(?:dcy;|r(?:;|cir;|w;)))|bar;|circ;|e(?:arts(?:;|uit;)|llip;|rcon;)|fr;|ks(?:earow;|warow;)|o(?:arr;|mtht;|ok(?:leftarrow;|rightarrow;)|pf;|rbar;)|s(?:cr;|lash;|trok;)|y(?:bull;|phen;))|i(?:acute;?|c(?:;|irc;?|y;)|e(?:cy;|xcl;?)|f(?:f;|r;)|grave;?|i(?:;|i(?:int;|nt;)|nfin;|ota;)|jlig;|m(?:a(?:cr;|g(?:e;|line;|part;)|th;)|of;|ped;)|n(?:;|care;|fin(?:;|tie;)|odot;|t(?:;|cal;|e(?:gers;|rcal;)|larhk;|prod;))|o(?:cy;|gon;|pf;|ta;)|prod;|quest;?|s(?:cr;|in(?:;|E;|dot;|s(?:;|v;)|v;))|t(?:;|ilde;)|u(?:kcy;|ml;?))|j(?:c(?:irc;|y;)|fr;|math;|opf;|s(?:cr;|ercy;)|ukcy;)|k(?:appa(?:;|v;)|c(?:edil;|y;)|fr;|green;|hcy;|jcy;|opf;|scr;)|l(?:A(?:arr;|rr;|tail;)|Barr;|E(?:;|g;)|Har;|a(?:cute;|emptyv;|gran;|mbda;|ng(?:;|d;|le;)|p;|quo;?|rr(?:;|b(?:;|fs;)|fs;|hk;|lp;|pl;|sim;|tl;)|t(?:;|ail;|e(?:;|s;)))|b(?:arr;|brk;|r(?:ac(?:e;|k;)|k(?:e;|sl(?:d;|u;))))|c(?:aron;|e(?:dil;|il;)|ub;|y;)|d(?:ca;|quo(?:;|r;)|r(?:dhar;|ushar;)|sh;)|e(?:;|ft(?:arrow(?:;|tail;)|harpoon(?:down;|up;)|leftarrows;|right(?:arrow(?:;|s;)|harpoons;|squigarrow;)|threetimes;)|g;|q(?:;|q;|slant;)|s(?:;|cc;|dot(?:;|o(?:;|r;))|g(?:;|es;)|s(?:approx;|dot;|eq(?:gtr;|qgtr;)|gtr;|sim;)))|f(?:isht;|loor;|r;)|g(?:;|E;)|h(?:ar(?:d;|u(?:;|l;))|blk;)|jcy;|l(?:;|arr;|corner;|hard;|tri;)|m(?:idot;|oust(?:;|ache;))|n(?:E;|ap(?:;|prox;)|e(?:;|q(?:;|q;))|sim;)|o(?:a(?:ng;|rr;)|brk;|ng(?:left(?:arrow;|rightarrow;)|mapsto;|rightarrow;)|oparrow(?:left;|right;)|p(?:ar;|f;|lus;)|times;|w(?:ast;|bar;)|z(?:;|enge;|f;))|par(?:;|lt;)|r(?:arr;|corner;|har(?:;|d;)|m;|tri;)|s(?:aquo;|cr;|h;|im(?:;|e;|g;)|q(?:b;|uo(?:;|r;))|trok;)|t(?:;|c(?:c;|ir;)|dot;|hree;|imes;|larr;|quest;|r(?:Par;|i(?:;|e;|f;))|)|ur(?:dshar;|uhar;)|v(?:ertneqq;|nE;))|m(?:DDot;|a(?:cr;?|l(?:e;|t(?:;|ese;))|p(?:;|sto(?:;|down;|left;|up;))|rker;)|c(?:omma;|y;)|dash;|easuredangle;|fr;|ho;|i(?:cro;?|d(?:;|ast;|cir;|dot;?)|nus(?:;|b;|d(?:;|u;)))|l(?:cp;|dr;)|nplus;|o(?:dels;|pf;)|p;|s(?:cr;|tpos;)|u(?:;|ltimap;|map;))|n(?:G(?:g;|t(?:;|v;))|L(?:eft(?:arrow;|rightarrow;)|l;|t(?:;|v;))|Rightarrow;|V(?:Dash;|dash;)|a(?:bla;|cute;|ng;|p(?:;|E;|id;|os;|prox;)|tur(?:;|al(?:;|s;)))|b(?:sp;?|ump(?:;|e;))|c(?:a(?:p;|ron;)|edil;|ong(?:;|dot;)|up;|y;)|dash;|e(?:;|Arr;|ar(?:hk;|r(?:;|ow;))|dot;|quiv;|s(?:ear;|im;)|xist(?:;|s;))|fr;|g(?:E;|e(?:;|q(?:;|q;|slant;)|s;)|sim;|t(?:;|r;))|h(?:Arr;|arr;|par;)|i(?:;|s(?:;|d;)|v;)|jcy;|l(?:Arr;|E;|arr;|dr;|e(?:;|ft(?:arrow;|rightarrow;)|q(?:;|q;|slant;)|s(?:;|s;))|sim;|t(?:;|ri(?:;|e;)))|mid;|o(?:pf;|t(?:;|in(?:;|E;|dot;|v(?:a;|b;|c;))|ni(?:;|v(?:a;|b;|c;))|))|p(?:ar(?:;|allel;|sl;|t;)|olint;|r(?:;|cue;|e(?:;|c(?:;|eq;))))|r(?:Arr;|arr(?:;|c;|w;)|ightarrow;|tri(?:;|e;))|s(?:c(?:;|cue;|e;|r;)|hort(?:mid;|parallel;)|im(?:;|e(?:;|q;))|mid;|par;|qsu(?:be;|pe;)|u(?:b(?:;|E;|e;|set(?:;|eq(?:;|q;)))|cc(?:;|eq;)|p(?:;|E;|e;|set(?:;|eq(?:;|q;)))))|t(?:gl;|ilde;?|lg;|riangle(?:left(?:;|eq;)|right(?:;|eq;)))|u(?:;|m(?:;|ero;|sp;))|v(?:Dash;|Harr;|ap;|dash;|g(?:e;|t;)|infin;|l(?:Arr;|e;|t(?:;|rie;))|r(?:Arr;|trie;)|sim;)|w(?:Arr;|ar(?:hk;|r(?:;|ow;))|near;))|o(?:S;|a(?:cute;?|st;)|c(?:ir(?:;|c;?)|y;)|d(?:ash;|blac;|iv;|ot;|sold;)|elig;|f(?:cir;|r;)|g(?:on;|rave;?|t;)|h(?:bar;|m;)|int;|l(?:arr;|c(?:ir;|ross;)|ine;|t;)|m(?:acr;|ega;|i(?:cron;|d;|nus;))|opf;|p(?:ar;|erp;|lus;)|r(?:;|arr;|d(?:;|er(?:;|of;)|f;?|m;?)|igof;|or;|slope;|v;)|s(?:cr;|lash;?|ol;)|ti(?:lde;?|mes(?:;|as;))|uml;?|vbar;)|p(?:ar(?:;|a(?:;|llel;|)|s(?:im;|l;)|t;)|cy;|er(?:cnt;|iod;|mil;|p;|tenk;)|fr;|h(?:i(?:;|v;)|mmat;|one;)|i(?:;|tchfork;|v;)|l(?:an(?:ck(?:;|h;)|kv;)|us(?:;|acir;|b;|cir;|d(?:o;|u;)|e;|mn;?|sim;|two;))|m;|o(?:intint;|pf;|und;?)|r(?:;|E;|ap;|cue;|e(?:;|c(?:;|approx;|curlyeq;|eq;|n(?:approx;|eqq;|sim;)|sim;))|ime(?:;|s;)|n(?:E;|ap;|sim;)|o(?:d;|f(?:alar;|line;|surf;)|p(?:;|to;))|sim;|urel;)|s(?:cr;|i;)|uncsp;)|q(?:fr;|int;|opf;|prime;|scr;|u(?:at(?:ernions;|int;)|est(?:;|eq;)|ot;?))|r(?:A(?:arr;|rr;|tail;)|Barr;|Har;|a(?:c(?:e;|ute;)|dic;|emptyv;|ng(?:;|d;|e;|le;)|quo;?|rr(?:;|ap;|b(?:;|fs;)|c;|fs;|hk;|lp;|pl;|sim;|tl;|w;)|t(?:ail;|io(?:;|nals;)))|b(?:arr;|brk;|r(?:ac(?:e;|k;)|k(?:e;|sl(?:d;|u;))))|c(?:aron;|e(?:dil;|il;)|ub;|y;)|d(?:ca;|ldhar;|quo(?:;|r;)|sh;)|e(?:al(?:;|ine;|part;|s;)|ct;|g;?)|f(?:isht;|loor;|r;)|h(?:ar(?:d;|u(?:;|l;))|o(?:;|v;))|i(?:ght(?:arrow(?:;|tail;)|harpoon(?:down;|up;)|left(?:arrows;|harpoons;)|rightarrows;|squigarrow;|threetimes;)|ng;|singdotseq;)|l(?:arr;|har;|m;)|moust(?:;|ache;)|nmid;|o(?:a(?:ng;|rr;)|brk;|p(?:ar;|f;|lus;)|times;)|p(?:ar(?:;|gt;)|polint;)|rarr;|s(?:aquo;|cr;|h;|q(?:b;|uo(?:;|r;)))|t(?:hree;|imes;|ri(?:;|e;|f;|ltri;))|uluhar;|x;)|s(?:acute;|bquo;|c(?:;|E;|a(?:p;|ron;)|cue;|e(?:;|dil;)|irc;|n(?:E;|ap;|sim;)|polint;|sim;|y;)|dot(?:;|b;|e;)|e(?:Arr;|ar(?:hk;|r(?:;|ow;))|ct;?|mi;|swar;|tm(?:inus;|n;)|xt;)|fr(?:;|own;)|h(?:arp;|c(?:hcy;|y;)|ort(?:mid;|parallel;)|y;?)|i(?:gma(?:;|f;|v;)|m(?:;|dot;|e(?:;|q;)|g(?:;|E;)|l(?:;|E;)|ne;|plus;|rarr;))|larr;|m(?:a(?:llsetminus;|shp;)|eparsl;|i(?:d;|le;)|t(?:;|e(?:;|s;)))|o(?:ftcy;|l(?:;|b(?:;|ar;))|pf;)|pa(?:des(?:;|uit;)|r;)|q(?:c(?:ap(?:;|s;)|up(?:;|s;))|su(?:b(?:;|e;|set(?:;|eq;))|p(?:;|e;|set(?:;|eq;)))|u(?:;|ar(?:e;|f;)|f;))|rarr;|s(?:cr;|etmn;|mile;|tarf;)|t(?:ar(?:;|f;)|r(?:aight(?:epsilon;|phi;)|ns;))|u(?:b(?:;|E;|dot;|e(?:;|dot;)|mult;|n(?:E;|e;)|plus;|rarr;|s(?:et(?:;|eq(?:;|q;)|neq(?:;|q;))|im;|u(?:b;|p;)))|cc(?:;|approx;|curlyeq;|eq;|n(?:approx;|eqq;|sim;)|sim;)|m;|ng;|p(?:1;?|2;?|3;?|;|E;|d(?:ot;|sub;)|e(?:;|dot;)|hs(?:ol;|ub;)|larr;|mult;|n(?:E;|e;)|plus;|s(?:et(?:;|eq(?:;|q;)|neq(?:;|q;))|im;|u(?:b;|p;))))|w(?:Arr;|ar(?:hk;|r(?:;|ow;))|nwar;)|zlig;?)|t(?:a(?:rget;|u;)|brk;|c(?:aron;|edil;|y;)|dot;|elrec;|fr;|h(?:e(?:re(?:4;|fore;)|ta(?:;|sym;|v;))|i(?:ck(?:approx;|sim;)|nsp;)|k(?:ap;|sim;)|orn;?)|i(?:lde;|mes(?:;|b(?:;|ar;)|d;|)|nt;)|o(?:ea;|p(?:;|bot;|cir;|f(?:;|ork;))|sa;)|prime;|r(?:ade;|i(?:angle(?:;|down;|left(?:;|eq;)|q;|right(?:;|eq;))|dot;|e;|minus;|plus;|sb;|time;)|pezium;)|s(?:c(?:r;|y;)|hcy;|trok;)|w(?:ixt;|ohead(?:leftarrow;|rightarrow;)))|u(?:Arr;|Har;|a(?:cute;?|rr;)|br(?:cy;|eve;)|c(?:irc;?|y;)|d(?:arr;|blac;|har;)|f(?:isht;|r;)|grave;?|h(?:ar(?:l;|r;)|blk;)|l(?:c(?:orn(?:;|er;)|rop;)|tri;)|m(?:acr;|l;?)|o(?:gon;|pf;)|p(?:arrow;|downarrow;|harpoon(?:left;|right;)|lus;|si(?:;|h;|lon;)|uparrows;)|r(?:c(?:orn(?:;|er;)|rop;)|ing;|tri;)|scr;|t(?:dot;|ilde;|ri(?:;|f;))|u(?:arr;|ml;?)|wangle;)|v(?:Arr;|Bar(?:;|v;)|Dash;|a(?:ngrt;|r(?:epsilon;|kappa;|nothing;|p(?:hi;|i;|ropto;)|r(?:;|ho;)|s(?:igma;|u(?:bsetneq(?:;|q;)|psetneq(?:;|q;)))|t(?:heta;|riangle(?:left;|right;))))|cy;|dash;|e(?:e(?:;|bar;|eq;)|llip;|r(?:bar;|t;))|fr;|ltri;|nsu(?:b;|p;)|opf;|prop;|rtri;|s(?:cr;|u(?:bn(?:E;|e;)|pn(?:E;|e;)))|zigzag;)|w(?:circ;|e(?:d(?:bar;|ge(?:;|q;))|ierp;)|fr;|opf;|p;|r(?:;|eath;)|scr;)|x(?:c(?:ap;|irc;|up;)|dtri;|fr;|h(?:Arr;|arr;)|i;|l(?:Arr;|arr;)|map;|nis;|o(?:dot;|p(?:f;|lus;)|time;)|r(?:Arr;|arr;)|s(?:cr;|qcup;)|u(?:plus;|tri;)|vee;|wedge;)|y(?:ac(?:ute;?|y;)|c(?:irc;|y;)|en;?|fr;|icy;|opf;|scr;|u(?:cy;|ml;?))|z(?:acute;|c(?:aron;|y;)|dot;|e(?:etrf;|ta;)|fr;|hcy;|igrarr;|opf;|scr;|w(?:j;|nj;)))|[\s\S]/g,qr=/[^\r"&\u0000]+/g,Gh=/[^\r'&\u0000]+/g,Wh=/[^\r\t\n\f &>\u0000]+/g,Kh=/[^\r\t\n\f \/>A-Z\u0000]+/g,rn=/[^\r\t\n\f \/=>A-Z\u0000]+/g,J=/[^\]\r\u0000\uffff]*/g,X=/[^&<\r\u0000\uffff]*/g,se=/[^<\r\u0000\uffff]*/g,Se=/[^\r\u0000\uffff]*/g,Ee=/(?:(\/)?([a-z]+)>)|[\s\S]/g,Ze=/(?:([-a-z]+)[ \t\n\f]*=[ \t\n\f]*('[^'&\r\u0000]*'|"[^"&\r\u0000]*"|[^\t\n\r\f "&'\u0000>][^&> \t\n\r\f\u0000]*[ \t\n\f]))|[\s\S]/g,Gt=/[^\x09\x0A\x0C\x0D\x20]/,$n=/[^\x09\x0A\x0C\x0D\x20]/g,mr=/[^\x00\x09\x0A\x0C\x0D\x20]/,Pi=/^[\x09\x0A\x0C\x0D\x20]+/,Qh=/\x00/g;function zn(te){var ie=16384;if(te.length<ie)return String.fromCharCode.apply(String,te);for(var Pe="",Te=0;Te<te.length;Te+=ie)Pe+=String.fromCharCode.apply(String,te.slice(Te,Te+ie));return Pe}function GW(te){for(var ie=[],Pe=0;Pe<te.length;Pe++)ie[Pe]=te.charCodeAt(Pe);return ie}function Ft(te,ie){if(typeof ie=="string")return te.namespaceURI===s.HTML&&te.localName===ie;var Pe=ie[te.namespaceURI];return Pe&&Pe[te.localName]}function AO(te){return Ft(te,ue)}function NO(te){if(Ft(te,ge))return!0;if(te.namespaceURI===s.MATHML&&te.localName==="annotation-xml"){var ie=te.getAttribute("encoding");if(ie&&(ie=ie.toLowerCase()),ie==="text/html"||ie==="application/xhtml+xml")return!0}return!1}function WW(te){return te in j?j[te]:te}function RO(te){for(var ie=0,Pe=te.length;ie<Pe;ie++)te[ie][0]in B&&(te[ie][0]=B[te[ie][0]])}function kO(te){for(var ie=0,Pe=te.length;ie<Pe;ie++)if(te[ie][0]==="definitionurl"){te[ie][0]="definitionURL";break}}function oS(te){for(var ie=0,Pe=te.length;ie<Pe;ie++)te[ie][0]in Be&&te[ie].push(Be[te[ie][0]])}function MO(te,ie){for(var Pe=0,Te=te.length;Pe<Te;Pe++){var cn=te[Pe][0],Ie=te[Pe][1];ie.hasAttribute(cn)||ie._setAttribute(cn,Ie)}}Ct.ElementStack=function(){this.elements=[],this.top=null},Ct.ElementStack.prototype.push=function(te){this.elements.push(te),this.top=te},Ct.ElementStack.prototype.pop=function(te){this.elements.pop(),this.top=this.elements[this.elements.length-1]},Ct.ElementStack.prototype.popTag=function(te){for(var ie=this.elements.length-1;ie>0;ie--){var Pe=this.elements[ie];if(Ft(Pe,te))break}this.elements.length=ie,this.top=this.elements[ie-1]},Ct.ElementStack.prototype.popElementType=function(te){for(var ie=this.elements.length-1;ie>0&&!(this.elements[ie]instanceof te);ie--);this.elements.length=ie,this.top=this.elements[ie-1]},Ct.ElementStack.prototype.popElement=function(te){for(var ie=this.elements.length-1;ie>0&&this.elements[ie]!==te;ie--);this.elements.length=ie,this.top=this.elements[ie-1]},Ct.ElementStack.prototype.removeElement=function(te){if(this.top===te)this.pop();else{var ie=this.elements.lastIndexOf(te);ie!==-1&&this.elements.splice(ie,1)}},Ct.ElementStack.prototype.clearToContext=function(te){for(var ie=this.elements.length-1;ie>0&&!Ft(this.elements[ie],te);ie--);this.elements.length=ie+1,this.top=this.elements[ie]},Ct.ElementStack.prototype.contains=function(te){return this.inSpecificScope(te,Object.create(null))},Ct.ElementStack.prototype.inSpecificScope=function(te,ie){for(var Pe=this.elements.length-1;Pe>=0;Pe--){var Te=this.elements[Pe];if(Ft(Te,te))return!0;if(Ft(Te,ie))return!1}return!1},Ct.ElementStack.prototype.elementInSpecificScope=function(te,ie){for(var Pe=this.elements.length-1;Pe>=0;Pe--){var Te=this.elements[Pe];if(Te===te)return!0;if(Ft(Te,ie))return!1}return!1},Ct.ElementStack.prototype.elementTypeInSpecificScope=function(te,ie){for(var Pe=this.elements.length-1;Pe>=0;Pe--){var Te=this.elements[Pe];if(Te instanceof te)return!0;if(Ft(Te,ie))return!1}return!1},Ct.ElementStack.prototype.inScope=function(te){return this.inSpecificScope(te,m)},Ct.ElementStack.prototype.elementInScope=function(te){return this.elementInSpecificScope(te,m)},Ct.ElementStack.prototype.elementTypeInScope=function(te){return this.elementTypeInSpecificScope(te,m)},Ct.ElementStack.prototype.inButtonScope=function(te){return this.inSpecificScope(te,O)},Ct.ElementStack.prototype.inListItemScope=function(te){return this.inSpecificScope(te,y)},Ct.ElementStack.prototype.inTableScope=function(te){return this.inSpecificScope(te,q)},Ct.ElementStack.prototype.inSelectScope=function(te){for(var ie=this.elements.length-1;ie>=0;ie--){var Pe=this.elements[ie];if(Pe.namespaceURI!==s.HTML)return!1;var Te=Pe.localName;if(Te===te)return!0;if(Te!=="optgroup"&&Te!=="option")return!1}return!1},Ct.ElementStack.prototype.generateImpliedEndTags=function(te,ie){for(var Pe=ie?N:A,Te=this.elements.length-1;Te>=0;Te--){var cn=this.elements[Te];if(te&&Ft(cn,te)||!Ft(this.elements[Te],Pe))break}this.elements.length=Te+1,this.top=this.elements[Te]},Ct.ActiveFormattingElements=function(){this.list=[],this.attrs=[]},Ct.ActiveFormattingElements.prototype.MARKER={localName:"|"},Ct.ActiveFormattingElements.prototype.insertMarker=function(){this.list.push(this.MARKER),this.attrs.push(this.MARKER)},Ct.ActiveFormattingElements.prototype.push=function(te,ie){for(var Pe=0,Te=this.list.length-1;Te>=0&&this.list[Te]!==this.MARKER;Te--)if(Ec(te,this.list[Te],this.attrs[Te])&&(Pe++,Pe===3)){this.list.splice(Te,1),this.attrs.splice(Te,1);break}this.list.push(te);for(var cn=[],Ie=0;Ie<ie.length;Ie++)cn[Ie]=ie[Ie];this.attrs.push(cn);function Ec(Va,wc,Ko){if(Va.localName!==wc.localName||Va._numattrs!==Ko.length)return!1;for(var Yr=0,_0=Ko.length;Yr<_0;Yr++){var Sc=Ko[Yr][0],G=Ko[Yr][1];if(!Va.hasAttribute(Sc)||Va.getAttribute(Sc)!==G)return!1}return!0}},Ct.ActiveFormattingElements.prototype.clearToMarker=function(){for(var te=this.list.length-1;te>=0&&this.list[te]!==this.MARKER;te--);te<0&&(te=0),this.list.length=te,this.attrs.length=te},Ct.ActiveFormattingElements.prototype.findElementByTag=function(te){for(var ie=this.list.length-1;ie>=0;ie--){var Pe=this.list[ie];if(Pe===this.MARKER)break;if(Pe.localName===te)return Pe}return null},Ct.ActiveFormattingElements.prototype.indexOf=function(te){return this.list.lastIndexOf(te)},Ct.ActiveFormattingElements.prototype.remove=function(te){var ie=this.list.lastIndexOf(te);ie!==-1&&(this.list.splice(ie,1),this.attrs.splice(ie,1))},Ct.ActiveFormattingElements.prototype.replace=function(te,ie,Pe){var Te=this.list.lastIndexOf(te);Te!==-1&&(this.list[Te]=ie,this.attrs[Te]=Pe)},Ct.ActiveFormattingElements.prototype.insertAfter=function(te,ie){var Pe=this.list.lastIndexOf(te);Pe!==-1&&(this.list.splice(Pe,0,ie),this.attrs.splice(Pe,0,ie))};function Ct(te,ie,Pe){var Te=null,cn=0,Ie=0,Ec=!1,Va=!1,wc=0,Ko=[],Yr="",_0=!0,Sc=0,G=gt,qa,Sn,Ut="",E0="",Bt=[],vi="",Zr="",sn=[],ja=[],Ha=[],$a=[],ds=[],w0=!1,ne=$K,Qo=null,Yo=[],H=new Ct.ElementStack,pt=new Ct.ActiveFormattingElements,Tc=ie!==void 0,S0=null,Zo=null,T0=!0;ie&&(T0=ie.ownerDocument._scripting_enabled),Pe&&Pe.scripting_enabled===!1&&(T0=!1);var Tn=!0,aS=!1,C0,uS,pe=[],za=!1,Cc=!1,I0={document:function(){return At},_asDocumentFragment:function(){for(var b=At.createDocumentFragment(),E=At.firstChild;E.hasChildNodes();)b.appendChild(E.firstChild);return b},pause:function(){Sc++},resume:function(){Sc--,this.parse("")},parse:function(b,E,F){var K;return Sc>0?(Yr+=b,!0):(wc===0?(Yr&&(b=Yr+b,Yr=""),E&&(b+="\uFFFF",Ec=!0),Te=b,cn=b.length,Ie=0,_0&&(_0=!1,Te.charCodeAt(0)===65279&&(Ie=1)),wc++,K=PO(F),Yr=Te.substring(Ie,cn),wc--):(wc++,Ko.push(Te,cn,Ie),Te=b,cn=b.length,Ie=0,PO(),K=!1,Yr=Te.substring(Ie,cn),Ie=Ko.pop(),cn=Ko.pop(),Te=Ko.pop(),Yr&&(Te=Yr+Te.substring(Ie),cn=Te.length,Ie=0,Yr=""),wc--),K)}},At=new t(!0,te);if(At._parser=I0,At._scripting_enabled=T0,ie){if(ie.ownerDocument._quirks&&(At._quirks=!0),ie.ownerDocument._limitedQuirks&&(At._limitedQuirks=!0),ie.namespaceURI===s.HTML)switch(ie.localName){case"title":case"textarea":G=Qa;break;case"style":case"xmp":case"iframe":case"noembed":case"noframes":case"script":case"plaintext":G=hS;break}var OO=At.createElement("html");At._appendChild(OO),H.push(OO),ie instanceof a.HTMLTemplateElement&&Yo.push(SS),tp();for(var Yh=ie;Yh!==null;Yh=Yh.parentElement)if(Yh instanceof a.HTMLFormElement){Zo=Yh;break}}function PO(b){for(var E,F,K,Y;Ie<cn;){if(Sc>0||b&&b())return!0;switch(typeof G.lookahead){case"undefined":if(E=Te.charCodeAt(Ie++),Va&&(Va=!1,E===10)){Ie++;continue}switch(E){case 13:Ie<cn?Te.charCodeAt(Ie)===10&&Ie++:Va=!0,G(10);break;case 65535:if(Ec&&Ie===cn){G(c);break}default:G(E);break}break;case"number":E=Te.charCodeAt(Ie);var ve=G.lookahead,He=!0;if(ve<0&&(He=!1,ve=-ve),ve<cn-Ie)F=He?Te.substring(Ie,Ie+ve):null,Y=!1;else if(Ec)F=He?Te.substring(Ie,cn):null,Y=!0,E===65535&&Ie===cn-1&&(E=c);else return!0;G(E,F,Y);break;case"string":E=Te.charCodeAt(Ie),K=G.lookahead;var yt=Te.indexOf(K,Ie);if(yt!==-1)F=Te.substring(Ie,yt+K.length),Y=!1;else{if(!Ec)return!0;F=Te.substring(Ie,cn),E===65535&&Ie===cn-1&&(E=c),Y=!0}G(E,F,Y);break}}return!1}function Ga(b,E){for(var F=0;F<ds.length;F++)if(ds[F][0]===b)return;E!==void 0?ds.push([b,E]):ds.push([b])}function KW(){Ze.lastIndex=Ie-1;var b=Ze.exec(Te);if(!b)throw new Error("should never happen");var E=b[1];if(!E)return!1;var F=b[2],K=F.length;switch(F[0]){case'"':case"'":F=F.substring(1,K-1),Ie+=b[0].length-1,G=yS;break;default:G=io,Ie+=b[0].length-1,F=F.substring(0,K-1);break}for(var Y=0;Y<ds.length;Y++)if(ds[Y][0]===E)return!0;return ds.push([E,F]),!0}function QW(){w0=!1,Ut="",ds.length=0}function Zh(){w0=!0,Ut="",ds.length=0}function Xo(){Bt.length=0}function cS(){vi=""}function lS(){Zr=""}function LO(){sn.length=0}function md(){ja.length=0,Ha=null,$a=null}function D0(){Ha=[]}function Wa(){$a=[]}function Mt(){aS=!0}function YW(){return H.top&&H.top.namespaceURI!=="http://www.w3.org/1999/xhtml"}function Li(b){return E0===b}function gd(){if(pe.length>0){var b=zn(pe);if(pe.length=0,Cc&&(Cc=!1,b[0]===`
`&&(b=b.substring(1)),b.length===0))return;Rn(l,b),za=!1}Cc=!1}function Xh(b){b.lastIndex=Ie-1;var E=b.exec(Te);if(E&&E.index===Ie-1)return E=E[0],Ie+=E.length-1,Ec&&Ie===cn&&(E=E.slice(0,-1),Ie--),E;throw new Error("should never happen")}function Jh(b){b.lastIndex=Ie-1;var E=b.exec(Te)[0];return E?(ZW(E),Ie+=E.length-1,!0):!1}function ZW(b){pe.length>0&&gd(),!(Cc&&(Cc=!1,b[0]===`
`&&(b=b.substring(1)),b.length===0))&&Rn(l,b)}function Jo(){if(w0)Rn(f,Ut);else{var b=Ut;Ut="",E0=b,Rn(d,b,ds)}}function XW(){if(Ie===cn)return!1;Ee.lastIndex=Ie;var b=Ee.exec(Te);if(!b)throw new Error("should never happen");var E=b[2];if(!E)return!1;var F=b[1];return F?(Ie+=E.length+2,Rn(f,E)):(Ie+=E.length+1,E0=E,Rn(d,E,v)),!0}function JW(){w0?Rn(f,Ut,null,!0):Rn(d,Ut,ds,!0)}function Ot(){Rn(p,zn(ja),Ha?zn(Ha):void 0,$a?zn($a):void 0)}function rt(){gd(),ne(c),At.modclock=1}var Rn=I0.insertToken=function(E,F,K,Y){gd();var ve=H.top;!ve||ve.namespaceURI===s.HTML?ne(E,F,K,Y):E!==d&&E!==l?XO(E,F,K,Y):AO(ve)&&(E===l||E===d&&F!=="mglyph"&&F!=="malignmark")||E===d&&F==="svg"&&ve.namespaceURI===s.MATHML&&ve.localName==="annotation-xml"||NO(ve)?(uS=!0,ne(E,F,K,Y),uS=!1):XO(E,F,K,Y)};function to(b){var E=H.top;Ka&&Ft(E,R)?A0(function(F){return F.createComment(b)}):(E instanceof a.HTMLTemplateElement&&(E=E.content),E._appendChild(E.ownerDocument.createComment(b)))}function no(b){var E=H.top;if(Ka&&Ft(E,R))A0(function(K){return K.createTextNode(b)});else{E instanceof a.HTMLTemplateElement&&(E=E.content);var F=E.lastChild;F&&F.nodeType===i.TEXT_NODE?F.appendData(b):E._appendChild(E.ownerDocument.createTextNode(b))}}function ep(b,E,F){var K=o.createElement(b,E,null);if(F)for(var Y=0,ve=F.length;Y<ve;Y++)K._setAttribute(F[Y][0],F[Y][1]);return K}var Ka=!1;function Ke(b,E){var F=x0(function(K){return ep(K,b,E)});return Ft(F,g)&&(F._form=Zo),F}function x0(b){var E;return Ka&&Ft(H.top,R)?E=A0(b):H.top instanceof a.HTMLTemplateElement?(E=b(H.top.content.ownerDocument),H.top.content._appendChild(E)):(E=b(H.top.ownerDocument),H.top._appendChild(E)),H.push(E),E}function dS(b,E,F){return x0(function(K){var Y=K._createElementNS(b,F,null);if(E)for(var ve=0,He=E.length;ve<He;ve++){var yt=E[ve];yt.length===2?Y._setAttribute(yt[0],yt[1]):Y._setAttributeNS(yt[2],yt[0],yt[1])}return Y})}function FO(b){for(var E=H.elements.length-1;E>=0;E--)if(H.elements[E]instanceof b)return E;return-1}function A0(b){var E,F,K=-1,Y=-1,ve;if(K=FO(a.HTMLTableElement),Y=FO(a.HTMLTemplateElement),Y>=0&&(K<0||Y>K)?E=H.elements[Y]:K>=0&&(E=H.elements[K].parentNode,E?F=H.elements[K]:E=H.elements[K-1]),E||(E=H.elements[0]),E instanceof a.HTMLTemplateElement&&(E=E.content),ve=b(E.ownerDocument),ve.nodeType===i.TEXT_NODE){var He;if(F?He=F.previousSibling:He=E.lastChild,He&&He.nodeType===i.TEXT_NODE)return He.appendData(ve.data),ve}return F?E.insertBefore(ve,F):E._appendChild(ve),ve}function tp(){for(var b=!1,E=H.elements.length-1;E>=0;E--){var F=H.elements[E];if(E===0&&(b=!0,Tc&&(F=ie)),F.namespaceURI===s.HTML){var K=F.localName;switch(K){case"select":for(var Y=E;Y>0;){var ve=H.elements[--Y];if(ve instanceof a.HTMLTemplateElement)break;if(ve instanceof a.HTMLTableElement){ne=H0;return}}ne=ea;return;case"tr":ne=ip;return;case"tbody":case"tfoot":case"thead":ne=Ac;return;case"caption":ne=wS;return;case"colgroup":ne=j0;return;case"table":ne=Fi;return;case"template":ne=Yo[Yo.length-1];return;case"body":ne=je;return;case"frameset":ne=TS;return;case"html":S0===null?ne=V0:ne=ES;return;default:if(!b){if(K==="head"){ne=Cn;return}if(K==="td"||K==="th"){ne=yd;return}}}}if(b){ne=je;return}}}function N0(b,E){Ke(b,E),G=np,Qo=ne,ne=q0}function eK(b,E){Ke(b,E),G=Qa,Qo=ne,ne=q0}function fS(b,E){return{elt:ep(b,pt.list[E].localName,pt.attrs[E]),attrs:pt.attrs[E]}}function jr(){if(pt.list.length!==0){var b=pt.list[pt.list.length-1];if(b!==pt.MARKER&&H.elements.lastIndexOf(b)===-1){for(var E=pt.list.length-2;E>=0&&(b=pt.list[E],!(b===pt.MARKER||H.elements.lastIndexOf(b)!==-1));E--);for(E=E+1;E<pt.list.length;E++){var F=x0(function(K){return fS(K,E).elt});pt.list[E]=F}}}}var R0={localName:"BM"};function tK(b){if(Ft(H.top,b)&&pt.indexOf(H.top)===-1)return H.pop(),!0;for(var E=0;E<8;){E++;var F=pt.findElementByTag(b);if(!F)return!1;var K=H.elements.lastIndexOf(F);if(K===-1)return pt.remove(F),!0;if(!H.elementInScope(F))return!0;for(var Y=null,ve,He=K+1;He<H.elements.length;He++)if(Ft(H.elements[He],S)){Y=H.elements[He],ve=He;break}if(Y){var yt=H.elements[K-1];pt.insertAfter(F,R0);for(var vn=Y,gr=Y,Ui=ve,fs,Nc=0;Nc++,vn=H.elements[--Ui],vn!==F;){if(fs=pt.indexOf(vn),Nc>3&&fs!==-1&&(pt.remove(vn),fs=-1),fs===-1){H.removeElement(vn);continue}var eu=fS(yt.ownerDocument,fs);pt.replace(vn,eu.elt,eu.attrs),H.elements[Ui]=eu.elt,vn=eu.elt,gr===Y&&(pt.remove(R0),pt.insertAfter(eu.elt,R0)),vn._appendChild(gr),gr=vn}Ka&&Ft(yt,R)?A0(function(){return gr}):yt instanceof a.HTMLTemplateElement?yt.content._appendChild(gr):yt._appendChild(gr);for(var sp=fS(Y.ownerDocument,pt.indexOf(F));Y.hasChildNodes();)sp.elt._appendChild(Y.firstChild);Y._appendChild(sp.elt),pt.remove(F),pt.replace(R0,sp.elt,sp.attrs),H.removeElement(F);var QK=H.elements.lastIndexOf(Y);H.elements.splice(QK+1,0,sp.elt)}else return H.popElement(F),pt.remove(F),!0}return!0}function nK(){H.pop(),ne=Qo}function Ic(){delete At._parser,H.elements.length=0,At.defaultView&&At.defaultView.dispatchEvent(new a.Event("load",{}))}function Re(b,E){G=E,Ie--}function gt(b){switch(b){case 38:qa=gt,G=rp;break;case 60:if(XW())break;G=rK;break;case 0:pe.push(b),za=!0;break;case-1:rt();break;default:Jh(X)||pe.push(b);break}}function Qa(b){switch(b){case 38:qa=Qa,G=rp;break;case 60:G=sK;break;case 0:pe.push(65533),za=!0;break;case-1:rt();break;default:pe.push(b);break}}function np(b){switch(b){case 60:G=uK;break;case 0:pe.push(65533);break;case-1:rt();break;default:Jh(se)||pe.push(b);break}}function Ya(b){switch(b){case 60:G=dK;break;case 0:pe.push(65533);break;case-1:rt();break;default:Jh(se)||pe.push(b);break}}function hS(b){switch(b){case 0:pe.push(65533);break;case-1:rt();break;default:Jh(Se)||pe.push(b);break}}function rK(b){switch(b){case 33:G=qO;break;case 47:G=iK;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:QW(),Re(b,UO);break;case 63:Re(b,P0);break;default:pe.push(60),Re(b,gt);break}}function iK(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Zh(),Re(b,UO);break;case 62:G=gt;break;case-1:pe.push(60),pe.push(47),rt();break;default:Re(b,P0);break}}function UO(b){switch(b){case 9:case 10:case 12:case 32:G=io;break;case 47:G=Xa;break;case 62:G=gt,Jo();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ut+=String.fromCharCode(b+32);break;case 0:Ut+="\uFFFD";break;case-1:rt();break;default:Ut+=Xh(Kh);break}}function sK(b){b===47?(Xo(),G=oK):(pe.push(60),Re(b,Qa))}function oK(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Zh(),Re(b,aK);break;default:pe.push(60),pe.push(47),Re(b,Qa);break}}function aK(b){switch(b){case 9:case 10:case 12:case 32:if(Li(Ut)){G=io;return}break;case 47:if(Li(Ut)){G=Xa;return}break;case 62:if(Li(Ut)){G=gt,Jo();return}break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ut+=String.fromCharCode(b+32),Bt.push(b);return;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Ut+=String.fromCharCode(b),Bt.push(b);return}pe.push(60),pe.push(47),u(pe,Bt),Re(b,Qa)}function uK(b){b===47?(Xo(),G=cK):(pe.push(60),Re(b,np))}function cK(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Zh(),Re(b,lK);break;default:pe.push(60),pe.push(47),Re(b,np);break}}function lK(b){switch(b){case 9:case 10:case 12:case 32:if(Li(Ut)){G=io;return}break;case 47:if(Li(Ut)){G=Xa;return}break;case 62:if(Li(Ut)){G=gt,Jo();return}break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ut+=String.fromCharCode(b+32),Bt.push(b);return;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Ut+=String.fromCharCode(b),Bt.push(b);return}pe.push(60),pe.push(47),u(pe,Bt),Re(b,np)}function dK(b){switch(b){case 47:Xo(),G=fK;break;case 33:G=pK,pe.push(60),pe.push(33);break;default:pe.push(60),Re(b,Ya);break}}function fK(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Zh(),Re(b,hK);break;default:pe.push(60),pe.push(47),Re(b,Ya);break}}function hK(b){switch(b){case 9:case 10:case 12:case 32:if(Li(Ut)){G=io;return}break;case 47:if(Li(Ut)){G=Xa;return}break;case 62:if(Li(Ut)){G=gt,Jo();return}break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ut+=String.fromCharCode(b+32),Bt.push(b);return;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Ut+=String.fromCharCode(b),Bt.push(b);return}pe.push(60),pe.push(47),u(pe,Bt),Re(b,Ya)}function pK(b){b===45?(G=mK,pe.push(45)):Re(b,Ya)}function mK(b){b===45?(G=BO,pe.push(45)):Re(b,Ya)}function ro(b){switch(b){case 45:G=gK,pe.push(45);break;case 60:G=pS;break;case 0:pe.push(65533);break;case-1:rt();break;default:pe.push(b);break}}function gK(b){switch(b){case 45:G=BO,pe.push(45);break;case 60:G=pS;break;case 0:G=ro,pe.push(65533);break;case-1:rt();break;default:G=ro,pe.push(b);break}}function BO(b){switch(b){case 45:pe.push(45);break;case 60:G=pS;break;case 62:G=Ya,pe.push(62);break;case 0:G=ro,pe.push(65533);break;case-1:rt();break;default:G=ro,pe.push(b);break}}function pS(b){switch(b){case 47:Xo(),G=yK;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Xo(),pe.push(60),Re(b,bK);break;default:pe.push(60),Re(b,ro);break}}function yK(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Zh(),Re(b,vK);break;default:pe.push(60),pe.push(47),Re(b,ro);break}}function vK(b){switch(b){case 9:case 10:case 12:case 32:if(Li(Ut)){G=io;return}break;case 47:if(Li(Ut)){G=Xa;return}break;case 62:if(Li(Ut)){G=gt,Jo();return}break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ut+=String.fromCharCode(b+32),Bt.push(b);return;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Ut+=String.fromCharCode(b),Bt.push(b);return}pe.push(60),pe.push(47),u(pe,Bt),Re(b,ro)}function bK(b){switch(b){case 9:case 10:case 12:case 32:case 47:case 62:zn(Bt)==="script"?G=Za:G=ro,pe.push(b);break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Bt.push(b+32),pe.push(b);break;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Bt.push(b),pe.push(b);break;default:Re(b,ro);break}}function Za(b){switch(b){case 45:G=_K,pe.push(45);break;case 60:G=mS,pe.push(60);break;case 0:pe.push(65533);break;case-1:rt();break;default:pe.push(b);break}}function _K(b){switch(b){case 45:G=EK,pe.push(45);break;case 60:G=mS,pe.push(60);break;case 0:G=Za,pe.push(65533);break;case-1:rt();break;default:G=Za,pe.push(b);break}}function EK(b){switch(b){case 45:pe.push(45);break;case 60:G=mS,pe.push(60);break;case 62:G=Ya,pe.push(62);break;case 0:G=Za,pe.push(65533);break;case-1:rt();break;default:G=Za,pe.push(b);break}}function mS(b){b===47?(Xo(),G=wK,pe.push(47)):Re(b,Za)}function wK(b){switch(b){case 9:case 10:case 12:case 32:case 47:case 62:zn(Bt)==="script"?G=ro:G=Za,pe.push(b);break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Bt.push(b+32),pe.push(b);break;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Bt.push(b),pe.push(b);break;default:Re(b,Za);break}}function io(b){switch(b){case 9:case 10:case 12:case 32:break;case 47:G=Xa;break;case 62:G=gt,Jo();break;case-1:rt();break;case 61:cS(),vi+=String.fromCharCode(b),G=gS;break;default:if(KW())break;cS(),Re(b,gS);break}}function gS(b){switch(b){case 9:case 10:case 12:case 32:case 47:case 62:case-1:Re(b,SK);break;case 61:G=VO;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:vi+=String.fromCharCode(b+32);break;case 0:vi+="\uFFFD";break;case 34:case 39:case 60:default:vi+=Xh(rn);break}}function SK(b){switch(b){case 9:case 10:case 12:case 32:break;case 47:Ga(vi),G=Xa;break;case 61:G=VO;break;case 62:G=gt,Ga(vi),Jo();break;case-1:Ga(vi),rt();break;default:Ga(vi),cS(),Re(b,gS);break}}function VO(b){switch(b){case 9:case 10:case 12:case 32:break;case 34:lS(),G=k0;break;case 39:lS(),G=M0;break;case 62:default:lS(),Re(b,O0);break}}function k0(b){switch(b){case 34:Ga(vi,Zr),G=yS;break;case 38:qa=k0,G=rp;break;case 0:Zr+="\uFFFD";break;case-1:rt();break;case 10:Zr+=String.fromCharCode(b);break;default:Zr+=Xh(qr);break}}function M0(b){switch(b){case 39:Ga(vi,Zr),G=yS;break;case 38:qa=M0,G=rp;break;case 0:Zr+="\uFFFD";break;case-1:rt();break;case 10:Zr+=String.fromCharCode(b);break;default:Zr+=Xh(Gh);break}}function O0(b){switch(b){case 9:case 10:case 12:case 32:Ga(vi,Zr),G=io;break;case 38:qa=O0,G=rp;break;case 62:Ga(vi,Zr),G=gt,Jo();break;case 0:Zr+="\uFFFD";break;case-1:Ie--,G=gt;break;case 34:case 39:case 60:case 61:case 96:default:Zr+=Xh(Wh);break}}function yS(b){switch(b){case 9:case 10:case 12:case 32:G=io;break;case 47:G=Xa;break;case 62:G=gt,Jo();break;case-1:rt();break;default:Re(b,io);break}}function Xa(b){switch(b){case 62:G=gt,JW();break;case-1:rt();break;default:Re(b,io);break}}function P0(b,E,F){var K=E.length;F?Ie+=K-1:Ie+=K;var Y=E.substring(0,K-1);Y=Y.replace(/\u0000/g,"\uFFFD"),Y=Y.replace(/\u000D\u000A/g,`
`),Y=Y.replace(/\u000D/g,`
`),Rn(h,Y),G=gt}P0.lookahead=">";function qO(b,E,F){if(E[0]==="-"&&E[1]==="-"){Ie+=2,LO(),G=TK;return}E.toUpperCase()==="DOCTYPE"?(Ie+=7,G=RK):E==="[CDATA["&&YW()?(Ie+=7,G=_S):G=P0}qO.lookahead=7;function TK(b){switch(LO(),b){case 45:G=CK;break;case 62:G=gt,Rn(h,zn(sn));break;default:Re(b,Dc);break}}function CK(b){switch(b){case 45:G=L0;break;case 62:G=gt,Rn(h,zn(sn));break;case-1:Rn(h,zn(sn)),rt();break;default:sn.push(45),Re(b,Dc);break}}function Dc(b){switch(b){case 60:sn.push(b),G=IK;break;case 45:G=vS;break;case 0:sn.push(65533);break;case-1:Rn(h,zn(sn)),rt();break;default:sn.push(b);break}}function IK(b){switch(b){case 33:sn.push(b),G=DK;break;case 60:sn.push(b);break;default:Re(b,Dc);break}}function DK(b){switch(b){case 45:G=xK;break;default:Re(b,Dc);break}}function xK(b){switch(b){case 45:G=AK;break;default:Re(b,vS);break}}function AK(b){switch(b){case 62:case-1:Re(b,L0);break;default:Re(b,L0);break}}function vS(b){switch(b){case 45:G=L0;break;case-1:Rn(h,zn(sn)),rt();break;default:sn.push(45),Re(b,Dc);break}}function L0(b){switch(b){case 62:G=gt,Rn(h,zn(sn));break;case 33:G=NK;break;case 45:sn.push(45);break;case-1:Rn(h,zn(sn)),rt();break;default:sn.push(45),sn.push(45),Re(b,Dc);break}}function NK(b){switch(b){case 45:sn.push(45),sn.push(45),sn.push(33),G=vS;break;case 62:G=gt,Rn(h,zn(sn));break;case-1:Rn(h,zn(sn)),rt();break;default:sn.push(45),sn.push(45),sn.push(33),Re(b,Dc);break}}function RK(b){switch(b){case 9:case 10:case 12:case 32:G=jO;break;case-1:md(),Mt(),Ot(),rt();break;default:Re(b,jO);break}}function jO(b){switch(b){case 9:case 10:case 12:case 32:break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:md(),ja.push(b+32),G=bS;break;case 0:md(),ja.push(65533),G=bS;break;case 62:md(),Mt(),G=gt,Ot();break;case-1:md(),Mt(),Ot(),rt();break;default:md(),ja.push(b),G=bS;break}}function bS(b){switch(b){case 9:case 10:case 12:case 32:G=HO;break;case 62:G=gt,Ot();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:ja.push(b+32);break;case 0:ja.push(65533);break;case-1:Mt(),Ot(),rt();break;default:ja.push(b);break}}function HO(b,E,F){switch(b){case 9:case 10:case 12:case 32:Ie+=1;break;case 62:G=gt,Ie+=1,Ot();break;case-1:Mt(),Ot(),rt();break;default:E=E.toUpperCase(),E==="PUBLIC"?(Ie+=6,G=kK):E==="SYSTEM"?(Ie+=6,G=PK):(Mt(),G=Ja);break}}HO.lookahead=6;function kK(b){switch(b){case 9:case 10:case 12:case 32:G=MK;break;case 34:D0(),G=$O;break;case 39:D0(),G=zO;break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=Ja;break}}function MK(b){switch(b){case 9:case 10:case 12:case 32:break;case 34:D0(),G=$O;break;case 39:D0(),G=zO;break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=Ja;break}}function $O(b){switch(b){case 34:G=GO;break;case 0:Ha.push(65533);break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Ha.push(b);break}}function zO(b){switch(b){case 39:G=GO;break;case 0:Ha.push(65533);break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Ha.push(b);break}}function GO(b){switch(b){case 9:case 10:case 12:case 32:G=OK;break;case 62:G=gt,Ot();break;case 34:Wa(),G=F0;break;case 39:Wa(),G=U0;break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=Ja;break}}function OK(b){switch(b){case 9:case 10:case 12:case 32:break;case 62:G=gt,Ot();break;case 34:Wa(),G=F0;break;case 39:Wa(),G=U0;break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=Ja;break}}function PK(b){switch(b){case 9:case 10:case 12:case 32:G=LK;break;case 34:Wa(),G=F0;break;case 39:Wa(),G=U0;break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=Ja;break}}function LK(b){switch(b){case 9:case 10:case 12:case 32:break;case 34:Wa(),G=F0;break;case 39:Wa(),G=U0;break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=Ja;break}}function F0(b){switch(b){case 34:G=WO;break;case 0:$a.push(65533);break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:$a.push(b);break}}function U0(b){switch(b){case 39:G=WO;break;case 0:$a.push(65533);break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:$a.push(b);break}}function WO(b){switch(b){case 9:case 10:case 12:case 32:break;case 62:G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:G=Ja;break}}function Ja(b){switch(b){case 62:G=gt,Ot();break;case-1:Ot(),rt();break}}function _S(b){switch(b){case 93:G=FK;break;case-1:rt();break;case 0:za=!0;default:Jh(J)||pe.push(b);break}}function FK(b){switch(b){case 93:G=UK;break;default:pe.push(93),Re(b,_S);break}}function UK(b){switch(b){case 93:pe.push(93);break;case 62:gd(),G=gt;break;default:pe.push(93),pe.push(93),Re(b,_S);break}}function rp(b){switch(Xo(),Bt.push(38),b){case 9:case 10:case 12:case 32:case 60:case 38:case-1:Re(b,xc);break;case 35:Bt.push(b),G=BK;break;default:Re(b,KO);break}}function KO(b){kt.lastIndex=Ie;var E=kt.exec(Te);if(!E)throw new Error("should never happen");var F=E[1];if(!F){G=xc;return}switch(Ie+=F.length,u(Bt,GW(F)),qa){case k0:case M0:case O0:if(F[F.length-1]!==";"&&/[=A-Za-z0-9]/.test(Te[Ie])){G=xc;return}break}Xo();var K=Ce[F];typeof K=="number"?Bt.push(K):u(Bt,K),G=xc}KO.lookahead=-32;function BK(b){switch(Sn=0,b){case 120:case 88:Bt.push(b),G=VK;break;default:Re(b,qK);break}}function VK(b){switch(b){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 66:case 67:case 68:case 69:case 70:case 97:case 98:case 99:case 100:case 101:case 102:Re(b,jK);break;default:Re(b,xc);break}}function qK(b){switch(b){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:Re(b,HK);break;default:Re(b,xc);break}}function jK(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:Sn*=16,Sn+=b-55;break;case 97:case 98:case 99:case 100:case 101:case 102:Sn*=16,Sn+=b-87;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:Sn*=16,Sn+=b-48;break;case 59:G=B0;break;default:Re(b,B0);break}}function HK(b){switch(b){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:Sn*=10,Sn+=b-48;break;case 59:G=B0;break;default:Re(b,B0);break}}function B0(b){Sn in le?Sn=le[Sn]:(Sn>1114111||Sn>=55296&&Sn<57344)&&(Sn=65533),Xo(),Sn<=65535?Bt.push(Sn):(Sn=Sn-65536,Bt.push(55296+(Sn>>10)),Bt.push(56320+(Sn&1023))),Re(b,xc)}function xc(b){switch(qa){case k0:case M0:case O0:Zr+=zn(Bt);break;default:u(pe,Bt);break}Re(b,qa)}function $K(b,E,F,K){switch(b){case 1:if(E=E.replace(Pi,""),E.length===0)return;break;case 4:At._appendChild(At.createComment(E));return;case 5:var Y=E,ve=F,He=K;At.appendChild(new r(At,Y,ve,He)),aS||Y.toLowerCase()!=="html"||T.test(ve)||He&&He.toLowerCase()===w||He===void 0&&C.test(ve)?At._quirks=!0:(D.test(ve)||He!==void 0&&C.test(ve))&&(At._limitedQuirks=!0),ne=QO;return}At._quirks=!0,ne=QO,ne(b,E,F,K)}function QO(b,E,F,K){var Y;switch(b){case 1:if(E=E.replace(Pi,""),E.length===0)return;break;case 5:return;case 4:At._appendChild(At.createComment(E));return;case 2:if(E==="html"){Y=ep(At,E,F),H.push(Y),At.appendChild(Y),ne=V0;return}break;case 3:switch(E){case"html":case"head":case"body":case"br":break;default:return}}Y=ep(At,"html",null),H.push(Y),At.appendChild(Y),ne=V0,ne(b,E,F,K)}function V0(b,E,F,K){switch(b){case 1:if(E=E.replace(Pi,""),E.length===0)return;break;case 5:return;case 4:to(E);return;case 2:switch(E){case"html":je(b,E,F,K);return;case"head":var Y=Ke(E,F);S0=Y,ne=Cn;return}break;case 3:switch(E){case"html":case"head":case"body":case"br":break;default:return}}V0(d,"head",null),ne(b,E,F,K)}function Cn(b,E,F,K){switch(b){case 1:var Y=E.match(Pi);if(Y&&(no(Y[0]),E=E.substring(Y[0].length)),E.length===0)return;break;case 4:to(E);return;case 5:return;case 2:switch(E){case"html":je(b,E,F,K);return;case"meta":case"base":case"basefont":case"bgsound":case"link":Ke(E,F),H.pop();return;case"title":eK(E,F);return;case"noscript":if(!T0){Ke(E,F),ne=YO;return}case"noframes":case"style":N0(E,F);return;case"script":x0(function(ve){var He=ep(ve,E,F);return He._parser_inserted=!0,He._force_async=!1,Tc&&(He._already_started=!0),gd(),He}),G=Ya,Qo=ne,ne=q0;return;case"template":Ke(E,F),pt.insertMarker(),Tn=!1,ne=SS,Yo.push(ne);return;case"head":return}break;case 3:switch(E){case"head":H.pop(),ne=ES;return;case"body":case"html":case"br":break;case"template":if(!H.contains("template"))return;H.generateImpliedEndTags(null,"thorough"),H.popTag("template"),pt.clearToMarker(),Yo.pop(),tp();return;default:return}break}Cn(f,"head",null),ne(b,E,F,K)}function YO(b,E,F,K){switch(b){case 5:return;case 4:Cn(b,E);return;case 1:var Y=E.match(Pi);if(Y&&(Cn(b,Y[0]),E=E.substring(Y[0].length)),E.length===0)return;break;case 2:switch(E){case"html":je(b,E,F,K);return;case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"style":Cn(b,E,F);return;case"head":case"noscript":return}break;case 3:switch(E){case"noscript":H.pop(),ne=Cn;return;case"br":break;default:return}break}YO(f,"noscript",null),ne(b,E,F,K)}function ES(b,E,F,K){switch(b){case 1:var Y=E.match(Pi);if(Y&&(no(Y[0]),E=E.substring(Y[0].length)),E.length===0)return;break;case 4:to(E);return;case 5:return;case 2:switch(E){case"html":je(b,E,F,K);return;case"body":Ke(E,F),Tn=!1,ne=je;return;case"frameset":Ke(E,F),ne=TS;return;case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":H.push(S0),Cn(d,E,F),H.removeElement(S0);return;case"head":return}break;case 3:switch(E){case"template":return Cn(b,E,F,K);case"body":case"html":case"br":break;default:return}break}ES(d,"body",null),Tn=!0,ne(b,E,F,K)}function je(b,E,F,K){var Y,ve,He,yt;switch(b){case 1:if(za&&(E=E.replace(Qh,""),E.length===0))return;Tn&&Gt.test(E)&&(Tn=!1),jr(),no(E);return;case 5:return;case 4:to(E);return;case-1:if(Yo.length)return SS(b);Ic();return;case 2:switch(E){case"html":if(H.contains("template"))return;MO(F,H.elements[0]);return;case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":Cn(d,E,F);return;case"body":if(Y=H.elements[1],!Y||!(Y instanceof a.HTMLBodyElement)||H.contains("template"))return;Tn=!1,MO(F,Y);return;case"frameset":if(!Tn||(Y=H.elements[1],!Y||!(Y instanceof a.HTMLBodyElement)))return;for(Y.parentNode&&Y.parentNode.removeChild(Y);!(H.top instanceof a.HTMLHtmlElement);)H.pop();Ke(E,F),ne=TS;return;case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"nav":case"ol":case"p":case"section":case"summary":case"ul":H.inButtonScope("p")&&je(f,"p"),Ke(E,F);return;case"menu":H.inButtonScope("p")&&je(f,"p"),Ft(H.top,"menuitem")&&H.pop(),Ke(E,F);return;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":H.inButtonScope("p")&&je(f,"p"),H.top instanceof a.HTMLHeadingElement&&H.pop(),Ke(E,F);return;case"pre":case"listing":H.inButtonScope("p")&&je(f,"p"),Ke(E,F),Cc=!0,Tn=!1;return;case"form":if(Zo&&!H.contains("template"))return;H.inButtonScope("p")&&je(f,"p"),yt=Ke(E,F),H.contains("template")||(Zo=yt);return;case"li":for(Tn=!1,ve=H.elements.length-1;ve>=0;ve--){if(He=H.elements[ve],He instanceof a.HTMLLIElement){je(f,"li");break}if(Ft(He,S)&&!Ft(He,x))break}H.inButtonScope("p")&&je(f,"p"),Ke(E,F);return;case"dd":case"dt":for(Tn=!1,ve=H.elements.length-1;ve>=0;ve--){if(He=H.elements[ve],Ft(He,V)){je(f,He.localName);break}if(Ft(He,S)&&!Ft(He,x))break}H.inButtonScope("p")&&je(f,"p"),Ke(E,F);return;case"plaintext":H.inButtonScope("p")&&je(f,"p"),Ke(E,F),G=hS;return;case"button":H.inScope("button")?(je(f,"button"),ne(b,E,F,K)):(jr(),Ke(E,F),Tn=!1);return;case"a":var vn=pt.findElementByTag("a");vn&&(je(f,E),pt.remove(vn),H.removeElement(vn));case"b":case"big":case"code":case"em":case"font":case"i":case"s":case"small":case"strike":case"strong":case"tt":case"u":jr(),pt.push(Ke(E,F),F);return;case"nobr":jr(),H.inScope(E)&&(je(f,E),jr()),pt.push(Ke(E,F),F);return;case"applet":case"marquee":case"object":jr(),Ke(E,F),pt.insertMarker(),Tn=!1;return;case"table":!At._quirks&&H.inButtonScope("p")&&je(f,"p"),Ke(E,F),Tn=!1,ne=Fi;return;case"area":case"br":case"embed":case"img":case"keygen":case"wbr":jr(),Ke(E,F),H.pop(),Tn=!1;return;case"input":jr(),yt=Ke(E,F),H.pop();var gr=yt.getAttribute("type");(!gr||gr.toLowerCase()!=="hidden")&&(Tn=!1);return;case"param":case"source":case"track":Ke(E,F),H.pop();return;case"hr":H.inButtonScope("p")&&je(f,"p"),Ft(H.top,"menuitem")&&H.pop(),Ke(E,F),H.pop(),Tn=!1;return;case"image":je(d,"img",F,K);return;case"textarea":Ke(E,F),Cc=!0,Tn=!1,G=Qa,Qo=ne,ne=q0;return;case"xmp":H.inButtonScope("p")&&je(f,"p"),jr(),Tn=!1,N0(E,F);return;case"iframe":Tn=!1,N0(E,F);return;case"noembed":N0(E,F);return;case"select":jr(),Ke(E,F),Tn=!1,ne===Fi||ne===wS||ne===Ac||ne===ip||ne===yd?ne=H0:ne=ea;return;case"optgroup":case"option":H.top instanceof a.HTMLOptionElement&&je(f,"option"),jr(),Ke(E,F);return;case"menuitem":Ft(H.top,"menuitem")&&H.pop(),jr(),Ke(E,F);return;case"rb":case"rtc":H.inScope("ruby")&&H.generateImpliedEndTags(),Ke(E,F);return;case"rp":case"rt":H.inScope("ruby")&&H.generateImpliedEndTags("rtc"),Ke(E,F);return;case"math":jr(),kO(F),oS(F),dS(E,F,s.MATHML),K&&H.pop();return;case"svg":jr(),RO(F),oS(F),dS(E,F,s.SVG),K&&H.pop();return;case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return}jr(),Ke(E,F);return;case 3:switch(E){case"template":Cn(f,E,F);return;case"body":if(!H.inScope("body"))return;ne=ZO;return;case"html":if(!H.inScope("body"))return;ne=ZO,ne(b,E,F);return;case"address":case"article":case"aside":case"blockquote":case"button":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"listing":case"main":case"menu":case"nav":case"ol":case"pre":case"section":case"summary":case"ul":if(!H.inScope(E))return;H.generateImpliedEndTags(),H.popTag(E);return;case"form":if(H.contains("template")){if(!H.inScope("form"))return;H.generateImpliedEndTags(),H.popTag("form")}else{var Ui=Zo;if(Zo=null,!Ui||!H.elementInScope(Ui))return;H.generateImpliedEndTags(),H.removeElement(Ui)}return;case"p":H.inButtonScope(E)?(H.generateImpliedEndTags(E),H.popTag(E)):(je(d,E,null),ne(b,E,F,K));return;case"li":if(!H.inListItemScope(E))return;H.generateImpliedEndTags(E),H.popTag(E);return;case"dd":case"dt":if(!H.inScope(E))return;H.generateImpliedEndTags(E),H.popTag(E);return;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":if(!H.elementTypeInScope(a.HTMLHeadingElement))return;H.generateImpliedEndTags(),H.popElementType(a.HTMLHeadingElement);return;case"sarcasm":break;case"a":case"b":case"big":case"code":case"em":case"font":case"i":case"nobr":case"s":case"small":case"strike":case"strong":case"tt":case"u":var fs=tK(E);if(fs)return;break;case"applet":case"marquee":case"object":if(!H.inScope(E))return;H.generateImpliedEndTags(),H.popTag(E),pt.clearToMarker();return;case"br":je(d,E,null);return}for(ve=H.elements.length-1;ve>=0;ve--)if(He=H.elements[ve],Ft(He,E)){H.generateImpliedEndTags(E),H.popElement(He);break}else if(Ft(He,S))return;return}}function q0(b,E,F,K){switch(b){case 1:no(E);return;case-1:H.top instanceof a.HTMLScriptElement&&(H.top._already_started=!0),H.pop(),ne=Qo,ne(b);return;case 3:E==="script"?nK():(H.pop(),ne=Qo);return;default:return}}function Fi(b,E,F,K){function Y(He){for(var yt=0,vn=He.length;yt<vn;yt++)if(He[yt][0]==="type")return He[yt][1].toLowerCase();return null}switch(b){case 1:if(uS){je(b,E,F,K);return}else if(Ft(H.top,R)){C0=[],Qo=ne,ne=zK,ne(b,E,F,K);return}break;case 4:to(E);return;case 5:return;case 2:switch(E){case"caption":H.clearToContext(_),pt.insertMarker(),Ke(E,F),ne=wS;return;case"colgroup":H.clearToContext(_),Ke(E,F),ne=j0;return;case"col":Fi(d,"colgroup",null),ne(b,E,F,K);return;case"tbody":case"tfoot":case"thead":H.clearToContext(_),Ke(E,F),ne=Ac;return;case"td":case"th":case"tr":Fi(d,"tbody",null),ne(b,E,F,K);return;case"table":if(!H.inTableScope(E))return;Fi(f,E),ne(b,E,F,K);return;case"style":case"script":case"template":Cn(b,E,F,K);return;case"input":var ve=Y(F);if(ve!=="hidden")break;Ke(E,F),H.pop();return;case"form":if(Zo||H.contains("template"))return;Zo=Ke(E,F),H.popElement(Zo);return}break;case 3:switch(E){case"table":if(!H.inTableScope(E))return;H.popTag(E),tp();return;case"body":case"caption":case"col":case"colgroup":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return;case"template":Cn(b,E,F,K);return}break;case-1:je(b,E,F,K);return}Ka=!0,je(b,E,F,K),Ka=!1}function zK(b,E,F,K){if(b===l){if(za&&(E=E.replace(Qh,""),E.length===0))return;C0.push(E)}else{var Y=C0.join("");C0.length=0,Gt.test(Y)?(Ka=!0,je(l,Y),Ka=!1):no(Y),ne=Qo,ne(b,E,F,K)}}function wS(b,E,F,K){function Y(){return H.inTableScope("caption")?(H.generateImpliedEndTags(),H.popTag("caption"),pt.clearToMarker(),ne=Fi,!0):!1}switch(b){case 2:switch(E){case"caption":case"col":case"colgroup":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":Y()&&ne(b,E,F,K);return}break;case 3:switch(E){case"caption":Y();return;case"table":Y()&&ne(b,E,F,K);return;case"body":case"col":case"colgroup":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return}break}je(b,E,F,K)}function j0(b,E,F,K){switch(b){case 1:var Y=E.match(Pi);if(Y&&(no(Y[0]),E=E.substring(Y[0].length)),E.length===0)return;break;case 4:to(E);return;case 5:return;case 2:switch(E){case"html":je(b,E,F,K);return;case"col":Ke(E,F),H.pop();return;case"template":Cn(b,E,F,K);return}break;case 3:switch(E){case"colgroup":if(!Ft(H.top,"colgroup"))return;H.pop(),ne=Fi;return;case"col":return;case"template":Cn(b,E,F,K);return}break;case-1:je(b,E,F,K);return}Ft(H.top,"colgroup")&&(j0(f,"colgroup"),ne(b,E,F,K))}function Ac(b,E,F,K){function Y(){!H.inTableScope("tbody")&&!H.inTableScope("thead")&&!H.inTableScope("tfoot")||(H.clearToContext(I),Ac(f,H.top.localName,null),ne(b,E,F,K))}switch(b){case 2:switch(E){case"tr":H.clearToContext(I),Ke(E,F),ne=ip;return;case"th":case"td":Ac(d,"tr",null),ne(b,E,F,K);return;case"caption":case"col":case"colgroup":case"tbody":case"tfoot":case"thead":Y();return}break;case 3:switch(E){case"table":Y();return;case"tbody":case"tfoot":case"thead":H.inTableScope(E)&&(H.clearToContext(I),H.pop(),ne=Fi);return;case"body":case"caption":case"col":case"colgroup":case"html":case"td":case"th":case"tr":return}break}Fi(b,E,F,K)}function ip(b,E,F,K){function Y(){return H.inTableScope("tr")?(H.clearToContext(L),H.pop(),ne=Ac,!0):!1}switch(b){case 2:switch(E){case"th":case"td":H.clearToContext(L),Ke(E,F),ne=yd,pt.insertMarker();return;case"caption":case"col":case"colgroup":case"tbody":case"tfoot":case"thead":case"tr":Y()&&ne(b,E,F,K);return}break;case 3:switch(E){case"tr":Y();return;case"table":Y()&&ne(b,E,F,K);return;case"tbody":case"tfoot":case"thead":H.inTableScope(E)&&Y()&&ne(b,E,F,K);return;case"body":case"caption":case"col":case"colgroup":case"html":case"td":case"th":return}break}Fi(b,E,F,K)}function yd(b,E,F,K){switch(b){case 2:switch(E){case"caption":case"col":case"colgroup":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":H.inTableScope("td")?(yd(f,"td"),ne(b,E,F,K)):H.inTableScope("th")&&(yd(f,"th"),ne(b,E,F,K));return}break;case 3:switch(E){case"td":case"th":if(!H.inTableScope(E))return;H.generateImpliedEndTags(),H.popTag(E),pt.clearToMarker(),ne=ip;return;case"body":case"caption":case"col":case"colgroup":case"html":return;case"table":case"tbody":case"tfoot":case"thead":case"tr":if(!H.inTableScope(E))return;yd(f,H.inTableScope("td")?"td":"th"),ne(b,E,F,K);return}break}je(b,E,F,K)}function ea(b,E,F,K){switch(b){case 1:if(za&&(E=E.replace(Qh,""),E.length===0))return;no(E);return;case 4:to(E);return;case 5:return;case-1:je(b,E,F,K);return;case 2:switch(E){case"html":je(b,E,F,K);return;case"option":H.top instanceof a.HTMLOptionElement&&ea(f,E),Ke(E,F);return;case"optgroup":H.top instanceof a.HTMLOptionElement&&ea(f,"option"),H.top instanceof a.HTMLOptGroupElement&&ea(f,E),Ke(E,F);return;case"select":ea(f,E);return;case"input":case"keygen":case"textarea":if(!H.inSelectScope("select"))return;ea(f,"select"),ne(b,E,F,K);return;case"script":case"template":Cn(b,E,F,K);return}break;case 3:switch(E){case"optgroup":H.top instanceof a.HTMLOptionElement&&H.elements[H.elements.length-2]instanceof a.HTMLOptGroupElement&&ea(f,"option"),H.top instanceof a.HTMLOptGroupElement&&H.pop();return;case"option":H.top instanceof a.HTMLOptionElement&&H.pop();return;case"select":if(!H.inSelectScope(E))return;H.popTag(E),tp();return;case"template":Cn(b,E,F,K);return}break}}function H0(b,E,F,K){switch(E){case"caption":case"table":case"tbody":case"tfoot":case"thead":case"tr":case"td":case"th":switch(b){case 2:H0(f,"select"),ne(b,E,F,K);return;case 3:H.inTableScope(E)&&(H0(f,"select"),ne(b,E,F,K));return}}ea(b,E,F,K)}function SS(b,E,F,K){function Y(ve){ne=ve,Yo[Yo.length-1]=ne,ne(b,E,F,K)}switch(b){case 1:case 4:case 5:je(b,E,F,K);return;case-1:H.contains("template")?(H.popTag("template"),pt.clearToMarker(),Yo.pop(),tp(),ne(b,E,F,K)):Ic();return;case 2:switch(E){case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":Cn(b,E,F,K);return;case"caption":case"colgroup":case"tbody":case"tfoot":case"thead":Y(Fi);return;case"col":Y(j0);return;case"tr":Y(Ac);return;case"td":case"th":Y(ip);return}Y(je);return;case 3:switch(E){case"template":Cn(b,E,F,K);return;default:return}}}function ZO(b,E,F,K){switch(b){case 1:if(Gt.test(E))break;je(b,E);return;case 4:H.elements[0]._appendChild(At.createComment(E));return;case 5:return;case-1:Ic();return;case 2:if(E==="html"){je(b,E,F,K);return}break;case 3:if(E==="html"){if(Tc)return;ne=WK;return}break}ne=je,ne(b,E,F,K)}function TS(b,E,F,K){switch(b){case 1:E=E.replace($n,""),E.length>0&&no(E);return;case 4:to(E);return;case 5:return;case-1:Ic();return;case 2:switch(E){case"html":je(b,E,F,K);return;case"frameset":Ke(E,F);return;case"frame":Ke(E,F),H.pop();return;case"noframes":Cn(b,E,F,K);return}break;case 3:if(E==="frameset"){if(Tc&&H.top instanceof a.HTMLHtmlElement)return;H.pop(),!Tc&&!(H.top instanceof a.HTMLFrameSetElement)&&(ne=GK);return}break}}function GK(b,E,F,K){switch(b){case 1:E=E.replace($n,""),E.length>0&&no(E);return;case 4:to(E);return;case 5:return;case-1:Ic();return;case 2:switch(E){case"html":je(b,E,F,K);return;case"noframes":Cn(b,E,F,K);return}break;case 3:if(E==="html"){ne=KK;return}break}}function WK(b,E,F,K){switch(b){case 1:if(Gt.test(E))break;je(b,E,F,K);return;case 4:At._appendChild(At.createComment(E));return;case 5:je(b,E,F,K);return;case-1:Ic();return;case 2:if(E==="html"){je(b,E,F,K);return}break}ne=je,ne(b,E,F,K)}function KK(b,E,F,K){switch(b){case 1:E=E.replace($n,""),E.length>0&&je(b,E,F,K);return;case 4:At._appendChild(At.createComment(E));return;case 5:je(b,E,F,K);return;case-1:Ic();return;case 2:switch(E){case"html":je(b,E,F,K);return;case"noframes":Cn(b,E,F,K);return}break}}function XO(b,E,F,K){function Y(vn){for(var gr=0,Ui=vn.length;gr<Ui;gr++)switch(vn[gr][0]){case"color":case"face":case"size":return!0}return!1}var ve;switch(b){case 1:Tn&&mr.test(E)&&(Tn=!1),za&&(E=E.replace(Qh,"\uFFFD")),no(E);return;case 4:to(E);return;case 5:return;case 2:switch(E){case"font":if(!Y(F))break;case"b":case"big":case"blockquote":case"body":case"br":case"center":case"code":case"dd":case"div":case"dl":case"dt":case"em":case"embed":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"head":case"hr":case"i":case"img":case"li":case"listing":case"menu":case"meta":case"nobr":case"ol":case"p":case"pre":case"ruby":case"s":case"small":case"span":case"strong":case"strike":case"sub":case"sup":case"table":case"tt":case"u":case"ul":case"var":if(Tc)break;do H.pop(),ve=H.top;while(ve.namespaceURI!==s.HTML&&!AO(ve)&&!NO(ve));Rn(b,E,F,K);return}ve=H.elements.length===1&&Tc?ie:H.top,ve.namespaceURI===s.MATHML?kO(F):ve.namespaceURI===s.SVG&&(E=WW(E),RO(F)),oS(F),dS(E,F,ve.namespaceURI),K&&H.pop();return;case 3:if(ve=H.top,E==="script"&&ve.namespaceURI===s.SVG&&ve.localName==="script")H.pop();else for(var He=H.elements.length-1,yt=H.elements[He];;){if(yt.localName.toLowerCase()===E){H.popElement(yt);break}if(yt=H.elements[--He],yt.namespaceURI===s.HTML){ne(b,E,F,K);break}}return}}return I0.testTokenizer=function(b,E,F,K){var Y=[];switch(E){case"PCDATA state":G=gt;break;case"RCDATA state":G=Qa;break;case"RAWTEXT state":G=np;break;case"PLAINTEXT state":G=hS;break}if(F&&(E0=F),Rn=function(He,yt,vn,gr){switch(gd(),He){case 1:Y.length>0&&Y[Y.length-1][0]==="Character"?Y[Y.length-1][1]+=yt:Y.push(["Character",yt]);break;case 4:Y.push(["Comment",yt]);break;case 5:Y.push(["DOCTYPE",yt,vn===void 0?null:vn,gr===void 0?null:gr,!aS]);break;case 2:for(var Ui=Object.create(null),fs=0;fs<vn.length;fs++){var Nc=vn[fs];Nc.length===1?Ui[Nc[0]]="":Ui[Nc[0]]=Nc[1]}var eu=["StartTag",yt,Ui];gr&&eu.push(!0),Y.push(eu);break;case 3:Y.push(["EndTag",yt]);break}},!K)this.parse(b,!0);else{for(var ve=0;ve<b.length;ve++)this.parse(b[ve]);this.parse("",!0)}return Y},I0}}}),Rb=Ue({"external/npm/node_modules/domino/lib/DOMImplementation.js"(n,e){e.exports=a;var t=LI(),r=FI(),i=UI(),s=Bn(),o=NI();function a(c){this.contextObject=c}var u={xml:{"":!0,"1.0":!0,"2.0":!0},core:{"":!0,"2.0":!0},html:{"":!0,"1.0":!0,"2.0":!0},xhtml:{"":!0,"1.0":!0,"2.0":!0}};a.prototype={hasFeature:function(l,d){var f=u[(l||"").toLowerCase()];return f&&f[d||""]||!1},createDocumentType:function(l,d,f){return o.isValidQName(l)||s.InvalidCharacterError(),new r(this.contextObject,l,d,f)},createDocument:function(l,d,f){var h=new t(!1,null),p;return d?p=h.createElementNS(l,d):p=null,f&&h.appendChild(f),p&&h.appendChild(p),l===s.NAMESPACE.HTML?h._contentType="application/xhtml+xml":l===s.NAMESPACE.SVG?h._contentType="image/svg+xml":h._contentType="application/xml",h},createHTMLDocument:function(l){var d=new t(!0,null);d.appendChild(new r(d,"html"));var f=d.createElement("html");d.appendChild(f);var h=d.createElement("head");if(f.appendChild(h),l!==void 0){var p=d.createElement("title");h.appendChild(p),p.appendChild(d.createTextNode(l))}return f.appendChild(d.createElement("body")),d.modclock=1,d},mozSetOutputMutationHandler:function(c,l){c.mutationHandler=l},mozGetInputMutationHandler:function(c){s.nyi()},mozHTMLParser:i}}}),ise=Ue({"external/npm/node_modules/domino/lib/Location.js"(n,e){var t=MI(),r=jF();e.exports=i;function i(s,o){this._window=s,this._href=o}i.prototype=Object.create(r.prototype,{constructor:{value:i},href:{get:function(){return this._href},set:function(s){this.assign(s)}},assign:{value:function(s){var o=new t(this._href),a=o.resolve(s);this._href=a}},replace:{value:function(s){this.assign(s)}},reload:{value:function(){this.assign(this.href)}},toString:{value:function(){return this.href}}})}}),sse=Ue({"external/npm/node_modules/domino/lib/NavigatorID.js"(n,e){var t=Object.create(null,{appCodeName:{value:"Mozilla"},appName:{value:"Netscape"},appVersion:{value:"4.0"},platform:{value:""},product:{value:"Gecko"},productSub:{value:"20100101"},userAgent:{value:""},vendor:{value:""},vendorSub:{value:""},taintEnabled:{value:function(){return!1}}});e.exports=t}}),ose=Ue({"external/npm/node_modules/domino/lib/WindowTimers.js"(n,e){var t={setTimeout,clearTimeout,setInterval,clearInterval};e.exports=t}}),zF=Ue({"external/npm/node_modules/domino/lib/impl.js"(n,e){var t=Bn();n=e.exports={CSSStyleDeclaration:OI(),CharacterData:Ab(),Comment:FF(),DOMException:DI(),DOMImplementation:Rb(),DOMTokenList:kF(),Document:LI(),DocumentFragment:UF(),DocumentType:FI(),Element:Tm(),HTMLParser:UI(),NamedNodeMap:OF(),Node:Or(),NodeList:pf(),NodeFilter:Nb(),ProcessingInstruction:BF(),Text:LF(),Window:GF()},t.merge(n,qF()),t.merge(n,PI().elements),t.merge(n,$F().elements)}}),GF=Ue({"external/npm/node_modules/domino/lib/Window.js"(n,e){var t=Rb(),r=xF(),i=ise(),s=Bn();e.exports=o;function o(a){this.document=a||new t(null).createHTMLDocument(""),this.document._scripting_enabled=!0,this.document.defaultView=this,this.location=new i(this,this.document._address||"about:blank")}o.prototype=Object.create(r.prototype,{console:{value:console},history:{value:{back:s.nyi,forward:s.nyi,go:s.nyi}},navigator:{value:sse()},window:{get:function(){return this}},self:{get:function(){return this}},frames:{get:function(){return this}},parent:{get:function(){return this}},top:{get:function(){return this}},length:{value:0},frameElement:{value:null},opener:{value:null},onload:{get:function(){return this._getEventHandler("load")},set:function(a){this._setEventHandler("load",a)}},getComputedStyle:{value:function(u){return u.style}}}),s.expose(ose(),o),s.expose(zF(),o)}}),ase=Ue({"external/npm/node_modules/domino/lib/index.js"(n){var e=Rb(),t=UI();GF();var r=zF();n.createDOMImplementation=function(){return new e(null)},n.createDocument=function(i,s){if(i||s){var o=new t;return o.parse(i||"",!0),o.document()}return new e(null).createHTMLDocument("")},n.createIncrementalHTMLParser=function(){var i=new t;return{write:function(s){s.length>0&&i.parse(s,!1,function(){return!0})},end:function(s){i.parse(s||"",!0,function(){return!0})},process:function(s){return i.parse("",!1,s)},document:function(){return i.document()}}},n.createWindow=function(i,s){var o=n.createDocument(i);return s!==void 0&&(o._address=s),new r.Window(o)},n.impl=r}}),xb=ase();function use(){Object.assign(globalThis,xb.impl),globalThis.KeyboardEvent=xb.impl.Event}function WF(n,e="/"){return xb.createWindow(n,e).document}function cse(n){return n.serialize()}var lse=(()=>{class n extends fl{static makeCurrent(){use(),Kp(new n)}supportsDOMEvents=!1;static defaultDoc;createHtmlDocument(){return WF("<html><head><title>fakeTitle</title></head><body></body></html>")}getDefaultDocument(){return n.defaultDoc||(n.defaultDoc=xb.createDocument()),n.defaultDoc}isElementNode(t){return t?t.nodeType===n.defaultDoc.ELEMENT_NODE:!1}isShadowRoot(t){return t.shadowRoot==t}getGlobalEventTarget(t,r){return r==="window"?t.defaultView:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){return t.documentElement.querySelector("base")?.getAttribute("href")||""}dispatchEvent(t,r){t.dispatchEvent(r);let s=(t.ownerDocument||t).defaultView;s&&s.dispatchEvent(r)}getUserAgent(){return"Fake user agent"}getCookie(t){throw new Error("getCookie has not been implemented")}}return n})(),bl=new de("Server.INITIAL_CONFIG"),BI=new de("Server.RENDER_MODULE_HOOK"),dse=new de("ENABLE_DOM_EMULATION"),VI=(()=>{class n{_doc;_enableDomEmulation=qI(z(Nt));constructor(t){this._doc=t}renderToString(){let t="renderToString";$i(t);let r=this._enableDomEmulation?cse(this._doc):this._doc.documentElement.outerHTML;return zi(t),r}getDocument(){return this._doc}static \u0275fac=function(r){return new(r||n)(Ae(ln))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function qI(n){return n.get(dse,!0)}var fse=(()=>{class n{xhrImpl;\u0275loadImpl(){return P(this,null,function*(){if(!this.xhrImpl){let{default:t}=yield import("./chunk-FE3ZEMPP.mjs");this.xhrImpl=t}})}build(){let t=this.xhrImpl;if(!t)throw new Error("Unexpected state in ServerXhr: XHR implementation is not loaded.");return new t.XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function hse(n,e){let t=z(fo),{href:r,protocol:i,hostname:s,port:o}=t;if(!i.startsWith("http"))return e(n);let a=`${i}//${s}`;o&&(a+=`:${o}`);let u=t.getBaseHrefFromDOM()||r,c=new URL(u,a),l=new URL(n.url,c).toString();return e(n.clone({url:l}))}var pse=[{provide:ll,useClass:fse},{provide:Y2,useValue:hse,multi:!0}],TF="resolve:";function CF(n){let{hostname:e,protocol:t,port:r,pathname:i,search:s,hash:o}=new URL(n,TF+"//");return{hostname:e,protocol:t===TF?"":t,port:r,pathname:i,search:s,hash:o}}var mse=(()=>{class n{_doc;href="/";hostname="/";protocol="/";port="/";pathname="/";search="";hash="";_hashUpdate=new bn;constructor(t,r){this._doc=t;let i=r;if(i&&i.url){let s=CF(i.url);this.protocol=s.protocol,this.hostname=s.hostname,this.port=s.port,this.pathname=s.pathname,this.search=s.search,this.hash=s.hash,this.href=t.location.href}}getBaseHrefFromDOM(){return Rr().getBaseHref(this._doc)}onPopState(t){return()=>{}}onHashChange(t){let r=this._hashUpdate.subscribe(t);return()=>r.unsubscribe()}get url(){return`${this.pathname}${this.search}${this.hash}`}setHash(t,r){if(this.hash===t)return;this.hash=t;let i=this.url;queueMicrotask(()=>this._hashUpdate.next({type:"hashchange",state:null,oldUrl:r,newUrl:i}))}replaceState(t,r,i){let s=this.url,o=CF(i);this.pathname=o.pathname,this.search=o.search,this.setHash(o.hash,s)}pushState(t,r,i){this.replaceState(t,r,i)}forward(){throw new Error("Not implemented")}back(){throw new Error("Not implemented")}getState(){}static \u0275fac=function(r){return new(r||n)(Ae(ln),Ae(bl,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),gse=(()=>{class n extends _u{doc;constructor(t){super(t),this.doc=t}supports(t){return!0}addEventListener(t,r,i,s){return Rr().onAndCancel(t,r,i,s)}static \u0275fac=function(r){return new(r||n)(Ae(ln))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();var yse=[{provide:BI,useFactory:vse,multi:!0}];function jI(n,e,t){let r=n.createElement("script");return r.textContent=e,t&&r.setAttribute("nonce",t),r}function vse(){let n=z(ln),e=z(mu),t=z(wv),r=z(Nt);return()=>{let i="serializeTransferStateFactory";$i(i);let s=t.toJson();if(t.isEmpty)return;let o=jI(n,s,null);o.id=e+"-state",o.setAttribute("type","application/json"),n.body.appendChild(o),zi(i)}}var bse=[{provide:ln,useFactory:wse,deps:[Nt]},{provide:zr,useValue:Wv},{provide:jp,useFactory:_se,multi:!0,deps:[Nt]},{provide:fo,useClass:mse,deps:[ln,[Kn,bl]]},{provide:VI,deps:[ln]},{provide:Ov,useValue:!0}];function _se(n){let e=qI(n);return()=>{e?lse.makeCurrent():fl.makeCurrent()}}var Ese=[{provide:dl,multi:!0,useClass:gse}],KF=[yse,Ese,pse,{provide:_2,useValue:null},{provide:Nv,useValue:null},{provide:Qv,useClass:em}];function wse(n){let e=n.get(bl,null),t=qI(n),r;return e&&e.document?r=typeof e.document=="string"?t?WF(e.document,e.url):window.document:e.document:r=Rr().createHtmlDocument(),Ev(r),r}function kb(n){let e=Pv(k2,"server",bse)(n);return e.onDestroy(()=>{globalThis.ngServerMode=void 0}),e}function YF(){return xr([...KF])}var Sse="ng-event-dispatch-contract";function ZF(n){let e=n.platformProviders??[],t="createServerPlatform";$i(t);let r=kb([{provide:bl,useValue:{document:n.document,url:n.url}},e]);return zi(t),r}function XF(n){return n.getElementById(Sse)}function QF(n){XF(n)?.remove()}function Tse(n,e){let t="prepareForHydration";$i(t);let r=e.injector,i=n.getDocument();if(!r.get(XP,!1)){QF(i);return}Cse(i);let s=BL(e,i);s.regular.size||s.capture.size?Dse(r.get(mu),i,s,r.get(Hp,null)):QF(i),zi(t)}function Cse(n){let e=n.createComment(i4);n.body.firstChild?n.body.insertBefore(e,n.body.firstChild):n.body.append(e)}function Ise(n){let e=n.injector,t=xse(e.get(HI,t9));n.components.forEach(r=>{let i=r.injector.get(si),s=r.location.nativeElement;s&&i.setAttribute(s,"ng-server-context",t)})}function Dse(n,e,t,r){let i="insertEventRecordScript";$i(i);let{regular:s,capture:o}=t,a=XF(e);if(a){let u=`window.__jsaction_bootstrap(document.body,"${n}",${JSON.stringify(Array.from(s))},${JSON.stringify(Array.from(o))});`,c=jI(e,u,r);a.after(c)}zi(i)}function JF(n,e){return P(this,null,function*(){let t=n.injector.get(VI);Tse(t,e),Ise(e);let i=e.injector.get(BI,null);if(i){let s=[];for(let o of i)try{let a=o();a&&s.push(a)}catch(a){console.warn("Ignoring BEFORE_APP_SERIALIZED Exception: ",a)}if(s.length)for(let o of yield Promise.allSettled(s))o.status==="rejected"&&console.warn("Ignoring BEFORE_APP_SERIALIZED Exception: ",o.reason)}return t.renderToString()})}function e9(n){return new Promise(e=>{setTimeout(()=>{n.destroy(),e()},0)})}var t9="other",HI=new de("SERVER_CONTEXT");function xse(n){let e=n.replace(/[^a-zA-Z0-9\-]/g,"");return e.length>0?e:t9}function n9(n,e){return P(this,null,function*(){let{document:t,url:r,extraProviders:i}=e,s=ZF({document:t,url:r,platformProviders:i});try{let a=(yield s.bootstrapModule(n)).injector.get(Ss),u="whenStable";return $i(u),yield a.whenStable(),zi(u),yield JF(s,a)}finally{yield e9(s)}})}function r9(n,e){return P(this,null,function*(){let t="renderApplication",r="bootstrap",i="_render";$i(t);let s=ZF(e);try{$i(r);let o=yield n();zi(r),$i(i);let a="whenStable";$i(a),yield o.whenStable(),zi(a);let u=yield JF(s,o);return zi(i),u}finally{yield e9(s),zi(t)}})}function Ase(n){throw new Error(`[unenv] ${n} is not implemented yet!`)}function Nse(n){return Object.assign(()=>{throw Ase(n)},{__unenv__:!0})}var Rse=Nse("fs.readFile");function kse(n){let e=function(...t){let r=t.pop();n().catch(i=>r(i)).then(i=>r(void 0,i))};return e.__promisify__=n,e.native=e,e}var Mse=kse(Rse),Ose=/^[A-Za-z]:\//;function xu(n=""){return n&&n.replace(/\\/g,"/").replace(Ose,e=>e.toUpperCase())}var Pse=/^[/\\]{2}/,Lse=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,o7=/^[A-Za-z]:$/,i9=/^\/([A-Za-z]:)?$/,a7="/",u7=":",BD=function(n){if(n.length===0)return".";n=xu(n);let e=n.match(Pse),t=wl(n),r=n[n.length-1]==="/";return n=Qb(n,!t),n.length===0?t?"/":r?"./":".":(r&&(n+="/"),o7.test(n)&&(n+="/"),e?t?`//${n}`:`//./${n}`:t&&!wl(n)?`/${n}`:n)},c7=function(...n){if(n.length===0)return".";let e;for(let t of n)t&&t.length>0&&(e===void 0?e=t:e+=`/${t}`);return e===void 0?".":BD(e.replace(/\/\/+/g,"/"))};function Fse(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}var xm=function(...n){n=n.map(r=>xu(r));let e="",t=!1;for(let r=n.length-1;r>=-1&&!t;r--){let i=r>=0?n[r]:Fse();!i||i.length===0||(e=`${i}/${e}`,t=wl(i))}return e=Qb(e,!t),t&&!wl(e)?`/${e}`:e.length>0?e:"."};function Qb(n,e){let t="",r=0,i=-1,s=0,o=null;for(let a=0;a<=n.length;++a){if(a<n.length)o=n[a];else{if(o==="/")break;o="/"}if(o==="/"){if(!(i===a-1||s===1))if(s===2){if(t.length<2||r!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){let u=t.lastIndexOf("/");u===-1?(t="",r=0):(t=t.slice(0,u),r=t.length-1-t.lastIndexOf("/")),i=a,s=0;continue}else if(t.length>0){t="",r=0,i=a,s=0;continue}}e&&(t+=t.length>0?"/..":"..",r=2)}else t.length>0?t+=`/${n.slice(i+1,a)}`:t=n.slice(i+1,a),r=a-i-1;i=a,s=0}else o==="."&&s!==-1?++s:s=-1}return t}var wl=function(n){return Lse.test(n)},l7=function(n){return xu(n)},Use=/.(\.[^./]+)$/,VD=function(n){let e=Use.exec(xu(n));return e&&e[1]||""},d7=function(n,e){let t=xm(n).replace(i9,"$1").split("/"),r=xm(e).replace(i9,"$1").split("/");if(r[0][1]===":"&&t[0][1]===":"&&t[0]!==r[0])return r.join("/");let i=[...t];for(let s of i){if(r[0]!==s)break;t.shift(),r.shift()}return[...t.map(()=>".."),...r].join("/")},qD=function(n){let e=xu(n).replace(/\/$/,"").split("/").slice(0,-1);return e.length===1&&o7.test(e[0])&&(e[0]+="/"),e.join("/")||(wl(n)?"/":".")},f7=function(n){let e=[n.root,n.dir,n.base??n.name+n.ext].filter(Boolean);return xu(n.root?xm(...e):e.join("/"))},jD=function(n,e){let t=xu(n).split("/").pop();return e&&t.endsWith(e)?t.slice(0,-e.length):t},h7=function(n){let e=xu(n).split("/").shift()||"/",t=jD(n),r=VD(t);return{root:e,dir:qD(n),base:t,ext:r,name:t.slice(0,t.length-r.length)}},Bse={__proto__:null,basename:jD,delimiter:u7,dirname:qD,extname:VD,format:f7,isAbsolute:wl,join:c7,normalize:BD,normalizeString:Qb,parse:h7,relative:d7,resolve:xm,sep:a7,toNamespacedPath:l7},Vse=Object.freeze({__proto__:null,basename:jD,default:Bse,delimiter:u7,dirname:qD,extname:VD,format:f7,isAbsolute:wl,join:c7,normalize:BD,normalizeString:Qb,parse:h7,relative:d7,resolve:xm,sep:a7,toNamespacedPath:l7}),yf=me(Q({},Vse),{platform:"posix",posix:void 0,win32:void 0});yf.posix=yf;yf.win32=yf;function Yb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function qse(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Mb={exports:{}},s9;function p7(){if(s9)return Mb.exports;s9=1;var n=String,e=function(){return{isColorSupported:!1,reset:n,bold:n,dim:n,italic:n,underline:n,inverse:n,hidden:n,strikethrough:n,black:n,red:n,green:n,yellow:n,blue:n,magenta:n,cyan:n,white:n,gray:n,bgBlack:n,bgRed:n,bgGreen:n,bgYellow:n,bgBlue:n,bgMagenta:n,bgCyan:n,bgWhite:n,blackBright:n,redBright:n,greenBright:n,yellowBright:n,blueBright:n,magentaBright:n,cyanBright:n,whiteBright:n,bgBlackBright:n,bgRedBright:n,bgGreenBright:n,bgYellowBright:n,bgBlueBright:n,bgMagentaBright:n,bgCyanBright:n,bgWhiteBright:n}};return Mb.exports=e(),Mb.exports.createColors=e,Mb.exports}var jse={},Hse=Object.freeze({__proto__:null,default:jse}),Os=qse(Hse),$I,o9;function HD(){if(o9)return $I;o9=1;let n=p7(),e=Os;class t extends Error{constructor(i,s,o,a,u,c){super(i),this.name="CssSyntaxError",this.reason=i,u&&(this.file=u),a&&(this.source=a),c&&(this.plugin=c),typeof s<"u"&&typeof o<"u"&&(typeof s=="number"?(this.line=s,this.column=o):(this.line=s.line,this.column=s.column,this.endLine=o.line,this.endColumn=o.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,t)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(i){if(!this.source)return"";let s=this.source;i==null&&(i=n.isColorSupported);let o=h=>h,a=h=>h,u=h=>h;if(i){let{bold:h,gray:p,red:v}=n.createColors(!0);a=T=>h(v(T)),o=T=>p(T),e&&(u=T=>e(T))}let c=s.split(/\r?\n/),l=Math.max(this.line-3,0),d=Math.min(this.line+2,c.length),f=String(d).length;return c.slice(l,d).map((h,p)=>{let v=l+1+p,T=" "+(" "+v).slice(-f)+" | ";if(v===this.line){if(h.length>160){let C=20,D=Math.max(0,this.column-C),S=Math.max(this.column+C,this.endColumn+C),x=h.slice(D,S),V=o(T.replace(/\d/g," "))+h.slice(0,Math.min(this.column-1,C-1)).replace(/[^\t]/g," ");return a(">")+o(T)+u(x)+`
 `+V+a("^")}let w=o(T.replace(/\d/g," "))+h.slice(0,this.column-1).replace(/[^\t]/g," ");return a(">")+o(T)+u(h)+`
 `+w+a("^")}return" "+o(T)+u(h)}).join(`
`)}toString(){let i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i}}return $I=t,t.default=t,$I}var zI,a9;function m7(){if(a9)return zI;a9=1;let n={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function e(r){return r[0].toUpperCase()+r.slice(1)}class t{constructor(i){this.builder=i}atrule(i,s){let o="@"+i.name,a=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName<"u"?o+=i.raws.afterName:a&&(o+=" "),i.nodes)this.block(i,o+a);else{let u=(i.raws.between||"")+(s?";":"");this.builder(o+a+u,i)}}beforeAfter(i,s){let o;i.type==="decl"?o=this.raw(i,null,"beforeDecl"):i.type==="comment"?o=this.raw(i,null,"beforeComment"):s==="before"?o=this.raw(i,null,"beforeRule"):o=this.raw(i,null,"beforeClose");let a=i.parent,u=0;for(;a&&a.type!=="root";)u+=1,a=a.parent;if(o.includes(`
`)){let c=this.raw(i,null,"indent");if(c.length)for(let l=0;l<u;l++)o+=c}return o}block(i,s){let o=this.raw(i,"between","beforeOpen");this.builder(s+o+"{",i,"start");let a;i.nodes&&i.nodes.length?(this.body(i),a=this.raw(i,"after")):a=this.raw(i,"after","emptyBody"),a&&this.builder(a),this.builder("}",i,"end")}body(i){let s=i.nodes.length-1;for(;s>0&&i.nodes[s].type==="comment";)s-=1;let o=this.raw(i,"semicolon");for(let a=0;a<i.nodes.length;a++){let u=i.nodes[a],c=this.raw(u,"before");c&&this.builder(c),this.stringify(u,s!==a||o)}}comment(i){let s=this.raw(i,"left","commentLeft"),o=this.raw(i,"right","commentRight");this.builder("/*"+s+i.text+o+"*/",i)}decl(i,s){let o=this.raw(i,"between","colon"),a=i.prop+o+this.rawValue(i,"value");i.important&&(a+=i.raws.important||" !important"),s&&(a+=";"),this.builder(a,i)}document(i){this.body(i)}raw(i,s,o){let a;if(o||(o=s),s&&(a=i.raws[s],typeof a<"u"))return a;let u=i.parent;if(o==="before"&&(!u||u.type==="root"&&u.first===i||u&&u.type==="document"))return"";if(!u)return n[o];let c=i.root();if(c.rawCache||(c.rawCache={}),typeof c.rawCache[o]<"u")return c.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(i,o);{let l="raw"+e(o);this[l]?a=this[l](c,i):c.walk(d=>{if(a=d.raws[s],typeof a<"u")return!1})}return typeof a>"u"&&(a=n[o]),c.rawCache[o]=a,a}rawBeforeClose(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return s=o.raws.after,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s}rawBeforeComment(i,s){let o;return i.walkComments(a=>{if(typeof a.raws.before<"u")return o=a.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(s,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeDecl(i,s){let o;return i.walkDecls(a=>{if(typeof a.raws.before<"u")return o=a.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(s,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeOpen(i){let s;return i.walk(o=>{if(o.type!=="decl"&&(s=o.raws.between,typeof s<"u"))return!1}),s}rawBeforeRule(i){let s;return i.walk(o=>{if(o.nodes&&(o.parent!==i||i.first!==o)&&typeof o.raws.before<"u")return s=o.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s}rawColon(i){let s;return i.walkDecls(o=>{if(typeof o.raws.between<"u")return s=o.raws.between.replace(/[^\s:]/g,""),!1}),s}rawEmptyBody(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length===0&&(s=o.raws.after,typeof s<"u"))return!1}),s}rawIndent(i){if(i.raws.indent)return i.raws.indent;let s;return i.walk(o=>{let a=o.parent;if(a&&a!==i&&a.parent&&a.parent===i&&typeof o.raws.before<"u"){let u=o.raws.before.split(`
`);return s=u[u.length-1],s=s.replace(/\S/g,""),!1}}),s}rawSemicolon(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(s=o.raws.semicolon,typeof s<"u"))return!1}),s}rawValue(i,s){let o=i[s],a=i.raws[s];return a&&a.value===o?a.raw:o}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}stringify(i,s){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,s)}}return zI=t,t.default=t,zI}var GI,u9;function Zb(){if(u9)return GI;u9=1;let n=m7();function e(t,r){new n(r).stringify(t)}return GI=e,e.default=e,GI}var Ob={},c9;function $D(){return c9||(c9=1,Ob.isClean=Symbol("isClean"),Ob.my=Symbol("my")),Ob}var WI,l9;function Xb(){if(l9)return WI;l9=1;let n=HD(),e=m7(),t=Zb(),{isClean:r,my:i}=$D();function s(u,c){let l=new u.constructor;for(let d in u){if(!Object.prototype.hasOwnProperty.call(u,d)||d==="proxyCache")continue;let f=u[d],h=typeof f;d==="parent"&&h==="object"?c&&(l[d]=c):d==="source"?l[d]=f:Array.isArray(f)?l[d]=f.map(p=>s(p,l)):(h==="object"&&f!==null&&(f=s(f)),l[d]=f)}return l}function o(u,c){if(c&&typeof c.offset<"u")return c.offset;let l=1,d=1,f=0;for(let h=0;h<u.length;h++){if(d===c.line&&l===c.column){f=h;break}u[h]===`
`?(l=1,d+=1):l+=1}return f}class a{constructor(c={}){this.raws={},this[r]=!1,this[i]=!0;for(let l in c)if(l==="nodes"){this.nodes=[];for(let d of c[l])typeof d.clone=="function"?this.append(d.clone()):this.append(d)}else this[l]=c[l]}addToError(c){if(c.postcssNode=this,c.stack&&this.source&&/\n\s{4}at /.test(c.stack)){let l=this.source;c.stack=c.stack.replace(/\n\s{4}at /,`$&${l.input.from}:${l.start.line}:${l.start.column}$&`)}return c}after(c){return this.parent.insertAfter(this,c),this}assign(c={}){for(let l in c)this[l]=c[l];return this}before(c){return this.parent.insertBefore(this,c),this}cleanRaws(c){delete this.raws.before,delete this.raws.after,c||delete this.raws.between}clone(c={}){let l=s(this);for(let d in c)l[d]=c[d];return l}cloneAfter(c={}){let l=this.clone(c);return this.parent.insertAfter(this,l),l}cloneBefore(c={}){let l=this.clone(c);return this.parent.insertBefore(this,l),l}error(c,l={}){if(this.source){let{end:d,start:f}=this.rangeBy(l);return this.source.input.error(c,{column:f.column,line:f.line},{column:d.column,line:d.line},l)}return new n(c)}getProxyProcessor(){return{get(c,l){return l==="proxyOf"?c:l==="root"?()=>c.root().toProxy():c[l]},set(c,l,d){return c[l]===d||(c[l]=d,(l==="prop"||l==="value"||l==="name"||l==="params"||l==="important"||l==="text")&&c.markDirty()),!0}}}markClean(){this[r]=!0}markDirty(){if(this[r]){this[r]=!1;let c=this;for(;c=c.parent;)c[r]=!1}}next(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c+1]}positionBy(c){let l=this.source.start;if(c.index)l=this.positionInside(c.index);else if(c.word){let d="document"in this.source.input?this.source.input.document:this.source.input.css,h=d.slice(o(d,this.source.start),o(d,this.source.end)).indexOf(c.word);h!==-1&&(l=this.positionInside(h))}return l}positionInside(c){let l=this.source.start.column,d=this.source.start.line,f="document"in this.source.input?this.source.input.document:this.source.input.css,h=o(f,this.source.start),p=h+c;for(let v=h;v<p;v++)f[v]===`
`?(l=1,d+=1):l+=1;return{column:l,line:d}}prev(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c-1]}rangeBy(c){let l={column:this.source.start.column,line:this.source.start.line},d=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:l.column+1,line:l.line};if(c.word){let f="document"in this.source.input?this.source.input.document:this.source.input.css,p=f.slice(o(f,this.source.start),o(f,this.source.end)).indexOf(c.word);p!==-1&&(l=this.positionInside(p),d=this.positionInside(p+c.word.length))}else c.start?l={column:c.start.column,line:c.start.line}:c.index&&(l=this.positionInside(c.index)),c.end?d={column:c.end.column,line:c.end.line}:typeof c.endIndex=="number"?d=this.positionInside(c.endIndex):c.index&&(d=this.positionInside(c.index+1));return(d.line<l.line||d.line===l.line&&d.column<=l.column)&&(d={column:l.column+1,line:l.line}),{end:d,start:l}}raw(c,l){return new e().raw(this,c,l)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...c){if(this.parent){let l=this,d=!1;for(let f of c)f===this?d=!0:d?(this.parent.insertAfter(l,f),l=f):this.parent.insertBefore(l,f);d||this.remove()}return this}root(){let c=this;for(;c.parent&&c.parent.type!=="document";)c=c.parent;return c}toJSON(c,l){let d={},f=l==null;l=l||new Map;let h=0;for(let p in this){if(!Object.prototype.hasOwnProperty.call(this,p)||p==="parent"||p==="proxyCache")continue;let v=this[p];if(Array.isArray(v))d[p]=v.map(T=>typeof T=="object"&&T.toJSON?T.toJSON(null,l):T);else if(typeof v=="object"&&v.toJSON)d[p]=v.toJSON(null,l);else if(p==="source"){let T=l.get(v.input);T==null&&(T=h,l.set(v.input,h),h++),d[p]={end:v.end,inputId:T,start:v.start}}else d[p]=v}return f&&(d.inputs=[...l.keys()].map(p=>p.toJSON())),d}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(c=t){c.stringify&&(c=c.stringify);let l="";return c(this,d=>{l+=d}),l}warn(c,l,d){let f={node:this};for(let h in d)f[h]=d[h];return c.warn(l,f)}get proxyOf(){return this}}return WI=a,a.default=a,WI}var KI,d9;function Jb(){if(d9)return KI;d9=1;let n=Xb();class e extends n{constructor(r){super(r),this.type="comment"}}return KI=e,e.default=e,KI}var QI,f9;function e1(){if(f9)return QI;f9=1;let n=Xb();class e extends n{constructor(r){r&&typeof r.value<"u"&&typeof r.value!="string"&&(r=me(Q({},r),{value:String(r.value)})),super(r),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}return QI=e,e.default=e,QI}var YI,h9;function Il(){if(h9)return YI;h9=1;let n=Jb(),e=e1(),t=Xb(),{isClean:r,my:i}=$D(),s,o,a,u;function c(f){return f.map(h=>(h.nodes&&(h.nodes=c(h.nodes)),delete h.source,h))}function l(f){if(f[r]=!1,f.proxyOf.nodes)for(let h of f.proxyOf.nodes)l(h)}let d=(()=>{class f extends t{append(...p){for(let v of p){let T=this.normalize(v,this.last);for(let w of T)this.proxyOf.nodes.push(w)}return this.markDirty(),this}cleanRaws(p){if(super.cleanRaws(p),this.nodes)for(let v of this.nodes)v.cleanRaws(p)}each(p){if(!this.proxyOf.nodes)return;let v=this.getIterator(),T,w;for(;this.indexes[v]<this.proxyOf.nodes.length&&(T=this.indexes[v],w=p(this.proxyOf.nodes[T],T),w!==!1);)this.indexes[v]+=1;return delete this.indexes[v],w}every(p){return this.nodes.every(p)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let p=this.lastEach;return this.indexes[p]=0,p}getProxyProcessor(){return{get(p,v){return v==="proxyOf"?p:p[v]?v==="each"||typeof v=="string"&&v.startsWith("walk")?(...T)=>p[v](...T.map(w=>typeof w=="function"?(C,D)=>w(C.toProxy(),D):w)):v==="every"||v==="some"?T=>p[v]((w,...C)=>T(w.toProxy(),...C)):v==="root"?()=>p.root().toProxy():v==="nodes"?p.nodes.map(T=>T.toProxy()):v==="first"||v==="last"?p[v].toProxy():p[v]:p[v]},set(p,v,T){return p[v]===T||(p[v]=T,(v==="name"||v==="params"||v==="selector")&&p.markDirty()),!0}}}index(p){return typeof p=="number"?p:(p.proxyOf&&(p=p.proxyOf),this.proxyOf.nodes.indexOf(p))}insertAfter(p,v){let T=this.index(p),w=this.normalize(v,this.proxyOf.nodes[T]).reverse();T=this.index(p);for(let D of w)this.proxyOf.nodes.splice(T+1,0,D);let C;for(let D in this.indexes)C=this.indexes[D],T<C&&(this.indexes[D]=C+w.length);return this.markDirty(),this}insertBefore(p,v){let T=this.index(p),w=T===0?"prepend":!1,C=this.normalize(v,this.proxyOf.nodes[T],w).reverse();T=this.index(p);for(let S of C)this.proxyOf.nodes.splice(T,0,S);let D;for(let S in this.indexes)D=this.indexes[S],T<=D&&(this.indexes[S]=D+C.length);return this.markDirty(),this}normalize(p,v){if(typeof p=="string")p=c(o(p).nodes);else if(typeof p>"u")p=[];else if(Array.isArray(p)){p=p.slice(0);for(let w of p)w.parent&&w.parent.removeChild(w,"ignore")}else if(p.type==="root"&&this.type!=="document"){p=p.nodes.slice(0);for(let w of p)w.parent&&w.parent.removeChild(w,"ignore")}else if(p.type)p=[p];else if(p.prop){if(typeof p.value>"u")throw new Error("Value field is missed in node creation");typeof p.value!="string"&&(p.value=String(p.value)),p=[new e(p)]}else if(p.selector||p.selectors)p=[new u(p)];else if(p.name)p=[new s(p)];else if(p.text)p=[new n(p)];else throw new Error("Unknown node type in node creation");return p.map(w=>(w[i]||f.rebuild(w),w=w.proxyOf,w.parent&&w.parent.removeChild(w),w[r]&&l(w),w.raws||(w.raws={}),typeof w.raws.before>"u"&&v&&typeof v.raws.before<"u"&&(w.raws.before=v.raws.before.replace(/\S/g,"")),w.parent=this.proxyOf,w))}prepend(...p){p=p.reverse();for(let v of p){let T=this.normalize(v,this.first,"prepend").reverse();for(let w of T)this.proxyOf.nodes.unshift(w);for(let w in this.indexes)this.indexes[w]=this.indexes[w]+T.length}return this.markDirty(),this}push(p){return p.parent=this,this.proxyOf.nodes.push(p),this}removeAll(){for(let p of this.proxyOf.nodes)p.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(p){p=this.index(p),this.proxyOf.nodes[p].parent=void 0,this.proxyOf.nodes.splice(p,1);let v;for(let T in this.indexes)v=this.indexes[T],v>=p&&(this.indexes[T]=v-1);return this.markDirty(),this}replaceValues(p,v,T){return T||(T=v,v={}),this.walkDecls(w=>{v.props&&!v.props.includes(w.prop)||v.fast&&!w.value.includes(v.fast)||(w.value=w.value.replace(p,T))}),this.markDirty(),this}some(p){return this.nodes.some(p)}walk(p){return this.each((v,T)=>{let w;try{w=p(v,T)}catch(C){throw v.addToError(C)}return w!==!1&&v.walk&&(w=v.walk(p)),w})}walkAtRules(p,v){return v?p instanceof RegExp?this.walk((T,w)=>{if(T.type==="atrule"&&p.test(T.name))return v(T,w)}):this.walk((T,w)=>{if(T.type==="atrule"&&T.name===p)return v(T,w)}):(v=p,this.walk((T,w)=>{if(T.type==="atrule")return v(T,w)}))}walkComments(p){return this.walk((v,T)=>{if(v.type==="comment")return p(v,T)})}walkDecls(p,v){return v?p instanceof RegExp?this.walk((T,w)=>{if(T.type==="decl"&&p.test(T.prop))return v(T,w)}):this.walk((T,w)=>{if(T.type==="decl"&&T.prop===p)return v(T,w)}):(v=p,this.walk((T,w)=>{if(T.type==="decl")return v(T,w)}))}walkRules(p,v){return v?p instanceof RegExp?this.walk((T,w)=>{if(T.type==="rule"&&p.test(T.selector))return v(T,w)}):this.walk((T,w)=>{if(T.type==="rule"&&T.selector===p)return v(T,w)}):(v=p,this.walk((T,w)=>{if(T.type==="rule")return v(T,w)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}return f.registerParse=h=>{o=h},f.registerRule=h=>{u=h},f.registerAtRule=h=>{s=h},f.registerRoot=h=>{a=h},f})();return YI=d,d.default=d,d.rebuild=f=>{f.type==="atrule"?Object.setPrototypeOf(f,s.prototype):f.type==="rule"?Object.setPrototypeOf(f,u.prototype):f.type==="decl"?Object.setPrototypeOf(f,e.prototype):f.type==="comment"?Object.setPrototypeOf(f,n.prototype):f.type==="root"&&Object.setPrototypeOf(f,a.prototype),f[i]=!0,f.nodes&&f.nodes.forEach(h=>{d.rebuild(h)})},YI}var ZI,p9;function zD(){if(p9)return ZI;p9=1;let n=Il();class e extends n{constructor(r){super(r),this.type="atrule"}append(...r){return this.proxyOf.nodes||(this.nodes=[]),super.append(...r)}prepend(...r){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...r)}}return ZI=e,e.default=e,n.registerAtRule(e),ZI}var XI,m9;function GD(){if(m9)return XI;m9=1;let n=Il(),e,t,r=(()=>{class i extends n{constructor(o){super(Q({type:"document"},o)),this.nodes||(this.nodes=[])}toResult(o={}){return new e(new t,this,o).stringify()}}return i.registerLazyResult=s=>{e=s},i.registerProcessor=s=>{t=s},i})();return XI=r,r.default=r,XI}var JI,g9;function $se(){if(g9)return JI;g9=1;let n="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return JI={nanoid:(r=21)=>{let i="",s=r|0;for(;s--;)i+=n[Math.random()*64|0];return i},customAlphabet:(r,i=21)=>(s=i)=>{let o="",a=s|0;for(;a--;)o+=r[Math.random()*r.length|0];return o}},JI}var eD,y9;function g7(){if(y9)return eD;y9=1;let{existsSync:n,readFileSync:e}=Os,{dirname:t,join:r}=Os,{SourceMapConsumer:i,SourceMapGenerator:s}=Os;function o(u){return Buffer?Buffer.from(u,"base64").toString():window.atob(u)}class a{constructor(c,l){if(l.map===!1)return;this.loadAnnotation(c),this.inline=this.startWith(this.annotation,"data:");let d=l.map?l.map.prev:void 0,f=this.loadMap(l.from,d);!this.mapFile&&l.from&&(this.mapFile=l.from),this.mapFile&&(this.root=t(this.mapFile)),f&&(this.text=f)}consumer(){return this.consumerCache||(this.consumerCache=new i(this.text)),this.consumerCache}decodeInline(c){let l=/^data:application\/json;charset=utf-?8;base64,/,d=/^data:application\/json;base64,/,f=/^data:application\/json;charset=utf-?8,/,h=/^data:application\/json,/,p=c.match(f)||c.match(h);if(p)return decodeURIComponent(c.substr(p[0].length));let v=c.match(l)||c.match(d);if(v)return o(c.substr(v[0].length));let T=c.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+T)}getAnnotationURL(c){return c.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(c){return typeof c!="object"?!1:typeof c.mappings=="string"||typeof c._mappings=="string"||Array.isArray(c.sections)}loadAnnotation(c){let l=c.match(/\/\*\s*# sourceMappingURL=/g);if(!l)return;let d=c.lastIndexOf(l.pop()),f=c.indexOf("*/",d);d>-1&&f>-1&&(this.annotation=this.getAnnotationURL(c.substring(d,f)))}loadFile(c){if(this.root=t(c),n(c))return this.mapFile=c,e(c,"utf-8").toString().trim()}loadMap(c,l){if(l===!1)return!1;if(l){if(typeof l=="string")return l;if(typeof l=="function"){let d=l(c);if(d){let f=this.loadFile(d);if(!f)throw new Error("Unable to load previous source map: "+d.toString());return f}}else{if(l instanceof i)return s.fromSourceMap(l).toString();if(l instanceof s)return l.toString();if(this.isMap(l))return JSON.stringify(l);throw new Error("Unsupported previous source map format: "+l.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let d=this.annotation;return c&&(d=r(t(c),d)),this.loadFile(d)}}}startWith(c,l){return c?c.substr(0,l.length)===l:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return eD=a,a.default=a,eD}var tD,v9;function t1(){if(v9)return tD;v9=1;let{nanoid:n}=$se(),{isAbsolute:e,resolve:t}=Os,{SourceMapConsumer:r,SourceMapGenerator:i}=Os,{fileURLToPath:s,pathToFileURL:o}=Os,a=HD(),u=g7(),c=Os,l=Symbol("fromOffsetCache"),d=!!(r&&i),f=!!(t&&e);class h{constructor(v,T={}){if(v===null||typeof v>"u"||typeof v=="object"&&!v.toString)throw new Error(`PostCSS received ${v} instead of CSS string`);if(this.css=v.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,T.document&&(this.document=T.document.toString()),T.from&&(!f||/^\w+:\/\//.test(T.from)||e(T.from)?this.file=T.from:this.file=t(T.from)),f&&d){let w=new u(this.css,T);if(w.text){this.map=w;let C=w.consumer().file;!this.file&&C&&(this.file=this.mapResolve(C))}}this.file||(this.id="<input css "+n(6)+">"),this.map&&(this.map.file=this.from)}error(v,T,w,C={}){let D,S,x;if(T&&typeof T=="object"){let R=T,A=w;if(typeof R.offset=="number"){let N=this.fromOffset(R.offset);T=N.line,w=N.col}else T=R.line,w=R.column;if(typeof A.offset=="number"){let N=this.fromOffset(A.offset);S=N.line,D=N.col}else S=A.line,D=A.column}else if(!w){let R=this.fromOffset(T);T=R.line,w=R.col}let V=this.origin(T,w,S,D);return V?x=new a(v,V.endLine===void 0?V.line:{column:V.column,line:V.line},V.endLine===void 0?V.column:{column:V.endColumn,line:V.endLine},V.source,V.file,C.plugin):x=new a(v,S===void 0?T:{column:w,line:T},S===void 0?w:{column:D,line:S},this.css,this.file,C.plugin),x.input={column:w,endColumn:D,endLine:S,line:T,source:this.css},this.file&&(o&&(x.input.url=o(this.file).toString()),x.input.file=this.file),x}fromOffset(v){let T,w;if(this[l])w=this[l];else{let D=this.css.split(`
`);w=new Array(D.length);let S=0;for(let x=0,V=D.length;x<V;x++)w[x]=S,S+=D[x].length+1;this[l]=w}T=w[w.length-1];let C=0;if(v>=T)C=w.length-1;else{let D=w.length-2,S;for(;C<D;)if(S=C+(D-C>>1),v<w[S])D=S-1;else if(v>=w[S+1])C=S+1;else{C=S;break}}return{col:v-w[C]+1,line:C+1}}mapResolve(v){return/^\w+:\/\//.test(v)?v:t(this.map.consumer().sourceRoot||this.map.root||".",v)}origin(v,T,w,C){if(!this.map)return!1;let D=this.map.consumer(),S=D.originalPositionFor({column:T,line:v});if(!S.source)return!1;let x;typeof w=="number"&&(x=D.originalPositionFor({column:C,line:w}));let V;e(S.source)?V=o(S.source):V=new URL(S.source,this.map.consumer().sourceRoot||o(this.map.mapFile));let R={column:S.column,endColumn:x&&x.column,endLine:x&&x.line,line:S.line,url:V.toString()};if(V.protocol==="file:")if(s)R.file=s(V);else throw new Error("file: protocol is not available in this PostCSS build");let A=D.sourceContentFor(S.source);return A&&(R.source=A),R}toJSON(){let v={};for(let T of["hasBOM","css","file","id"])this[T]!=null&&(v[T]=this[T]);return this.map&&(v.map=Q({},this.map),v.map.consumerCache&&(v.map.consumerCache=void 0)),v}get from(){return this.file||this.id}}return tD=h,h.default=h,c&&c.registerInput&&c.registerInput(h),tD}var nD,b9;function km(){if(b9)return nD;b9=1;let n=Il(),e,t,r=(()=>{class i extends n{constructor(o){super(o),this.type="root",this.nodes||(this.nodes=[])}normalize(o,a,u){let c=super.normalize(o);if(a){if(u==="prepend")this.nodes.length>1?a.raws.before=this.nodes[1].raws.before:delete a.raws.before;else if(this.first!==a)for(let l of c)l.raws.before=a.raws.before}return c}removeChild(o,a){let u=this.index(o);return!a&&u===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[u].raws.before),super.removeChild(o)}toResult(o={}){return new e(new t,this,o).stringify()}}return i.registerLazyResult=s=>{e=s},i.registerProcessor=s=>{t=s},i})();return nD=r,r.default=r,n.registerRoot(r),nD}var rD,_9;function y7(){if(_9)return rD;_9=1;let n={comma(e){return n.split(e,[","],!0)},space(e){let t=[" ",`
`,"	"];return n.split(e,t)},split(e,t,r){let i=[],s="",o=!1,a=0,u=!1,c="",l=!1;for(let d of e)l?l=!1:d==="\\"?l=!0:u?d===c&&(u=!1):d==='"'||d==="'"?(u=!0,c=d):d==="("?a+=1:d===")"?a>0&&(a-=1):a===0&&t.includes(d)&&(o=!0),o?(s!==""&&i.push(s.trim()),s="",o=!1):s+=d;return(r||s!=="")&&i.push(s.trim()),i}};return rD=n,n.default=n,rD}var iD,E9;function WD(){if(E9)return iD;E9=1;let n=Il(),e=y7();class t extends n{constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return e.comma(this.selector)}set selectors(i){let s=this.selector?this.selector.match(/,\s*/):null,o=s?s[0]:","+this.raw("between","beforeOpen");this.selector=i.join(o)}}return iD=t,t.default=t,n.registerRule(t),iD}var sD,w9;function zse(){if(w9)return sD;w9=1;let n=zD(),e=Jb(),t=e1(),r=t1(),i=g7(),s=km(),o=WD();function a(u,c){if(Array.isArray(u))return u.map(p=>a(p));let f=u,{inputs:l}=f,d=ta(f,["inputs"]);if(l){c=[];for(let p of l){let v=me(Q({},p),{__proto__:r.prototype});v.map&&(v.map=me(Q({},v.map),{__proto__:i.prototype})),c.push(v)}}if(d.nodes&&(d.nodes=u.nodes.map(p=>a(p,c))),d.source){let h=d.source,{inputId:p}=h,v=ta(h,["inputId"]);d.source=v,p!=null&&(d.source.input=c[p])}if(d.type==="root")return new s(d);if(d.type==="decl")return new t(d);if(d.type==="rule")return new o(d);if(d.type==="comment")return new e(d);if(d.type==="atrule")return new n(d);throw new Error("Unknown node type: "+u.type)}return sD=a,a.default=a,sD}var oD,S9;function v7(){if(S9)return oD;S9=1;let{dirname:n,relative:e,resolve:t,sep:r}=Os,{SourceMapConsumer:i,SourceMapGenerator:s}=Os,{pathToFileURL:o}=Os,a=t1(),u=!!(i&&s),c=!!(n&&t&&e&&r);class l{constructor(f,h,p,v){this.stringify=f,this.mapOpts=p.map||{},this.root=h,this.opts=p,this.css=v,this.originalCSS=v,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let f;this.isInline()?f="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?f=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?f=this.mapOpts.annotation(this.opts.to,this.root):f=this.outputFile()+".map";let h=`
`;this.css.includes(`\r
`)&&(h=`\r
`),this.css+=h+"/*# sourceMappingURL="+f+" */"}applyPrevMaps(){for(let f of this.previous()){let h=this.toUrl(this.path(f.file)),p=f.root||n(f.file),v;this.mapOpts.sourcesContent===!1?(v=new i(f.text),v.sourcesContent&&(v.sourcesContent=null)):v=f.consumer(),this.map.applySourceMap(v,h,this.toUrl(this.path(p)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let f;for(let h=this.root.nodes.length-1;h>=0;h--)f=this.root.nodes[h],f.type==="comment"&&f.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(h)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),c&&u&&this.isMap())return this.generateMap();{let f="";return this.stringify(this.root,h=>{f+=h}),[f]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let f=this.previous()[0].consumer();f.file=this.outputFile(),this.map=s.fromSourceMap(f,{ignoreInvalidMapping:!0})}else this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0});let f=1,h=1,p="<no source>",v={generated:{column:0,line:0},original:{column:0,line:0},source:""},T,w;this.stringify(this.root,(C,D,S)=>{if(this.css+=C,D&&S!=="end"&&(v.generated.line=f,v.generated.column=h-1,D.source&&D.source.start?(v.source=this.sourcePath(D),v.original.line=D.source.start.line,v.original.column=D.source.start.column-1,this.map.addMapping(v)):(v.source=p,v.original.line=1,v.original.column=0,this.map.addMapping(v))),w=C.match(/\n/g),w?(f+=w.length,T=C.lastIndexOf(`
`),h=C.length-T):h+=C.length,D&&S!=="start"){let x=D.parent||{raws:{}};(!(D.type==="decl"||D.type==="atrule"&&!D.nodes)||D!==x.last||x.raws.semicolon)&&(D.source&&D.source.end?(v.source=this.sourcePath(D),v.original.line=D.source.end.line,v.original.column=D.source.end.column-1,v.generated.line=f,v.generated.column=h-2,this.map.addMapping(v)):(v.source=p,v.original.line=1,v.original.column=0,v.generated.line=f,v.generated.column=h-1,this.map.addMapping(v)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(f=>f.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let f=this.mapOpts.annotation;return typeof f<"u"&&f!==!0?!1:this.previous().length?this.previous().some(h=>h.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(f=>f.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(f){if(this.mapOpts.absolute||f.charCodeAt(0)===60||/^\w+:\/\//.test(f))return f;let h=this.memoizedPaths.get(f);if(h)return h;let p=this.opts.to?n(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(p=n(t(p,this.mapOpts.annotation)));let v=e(p,f);return this.memoizedPaths.set(f,v),v}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(f=>{if(f.source&&f.source.input.map){let h=f.source.input.map;this.previousMaps.includes(h)||this.previousMaps.push(h)}});else{let f=new a(this.originalCSS,this.opts);f.map&&this.previousMaps.push(f.map)}return this.previousMaps}setSourcesContent(){let f={};if(this.root)this.root.walk(h=>{if(h.source){let p=h.source.input.from;if(p&&!f[p]){f[p]=!0;let v=this.usesFileUrls?this.toFileUrl(p):this.toUrl(this.path(p));this.map.setSourceContent(v,h.source.input.css)}}});else if(this.css){let h=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(h,this.css)}}sourcePath(f){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(f.source.input.from):this.toUrl(this.path(f.source.input.from))}toBase64(f){return Buffer?Buffer.from(f).toString("base64"):window.btoa(unescape(encodeURIComponent(f)))}toFileUrl(f){let h=this.memoizedFileURLs.get(f);if(h)return h;if(o){let p=o(f).toString();return this.memoizedFileURLs.set(f,p),p}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(f){let h=this.memoizedURLs.get(f);if(h)return h;r==="\\"&&(f=f.replace(/\\/g,"/"));let p=encodeURI(f).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(f,p),p}}return oD=l,oD}var aD,T9;function Gse(){if(T9)return aD;T9=1;let n=39,e=34,t=92,r=47,i=10,s=32,o=12,a=9,u=13,c=91,l=93,d=40,f=41,h=123,p=125,v=59,T=42,w=58,C=64,D=/[\t\n\f\r "#'()/;[\\\]{}]/g,S=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,x=/.[\r\n"'(/\\]/,V=/[\da-f]/i;return aD=function(A,N={}){let _=A.css.valueOf(),I=N.ignoreErrors,L,g,m,y,O,q,W,ue,ge,Be,B=_.length,j=0,le=[],Ce=[];function kt(){return j}function qr(rn){throw A.error("Unclosed "+rn,j)}function Gh(){return Ce.length===0&&j>=B}function Wh(rn){if(Ce.length)return Ce.pop();if(j>=B)return;let J=rn?rn.ignoreUnclosed:!1;switch(L=_.charCodeAt(j),L){case i:case s:case a:case u:case o:{y=j;do y+=1,L=_.charCodeAt(y);while(L===s||L===i||L===a||L===u||L===o);q=["space",_.slice(j,y)],j=y-1;break}case c:case l:case h:case p:case w:case v:case f:{let X=String.fromCharCode(L);q=[X,X,j];break}case d:{if(Be=le.length?le.pop()[1]:"",ge=_.charCodeAt(j+1),Be==="url"&&ge!==n&&ge!==e&&ge!==s&&ge!==i&&ge!==a&&ge!==o&&ge!==u){y=j;do{if(W=!1,y=_.indexOf(")",y+1),y===-1)if(I||J){y=j;break}else qr("bracket");for(ue=y;_.charCodeAt(ue-1)===t;)ue-=1,W=!W}while(W);q=["brackets",_.slice(j,y+1),j,y],j=y}else y=_.indexOf(")",j+1),g=_.slice(j,y+1),y===-1||x.test(g)?q=["(","(",j]:(q=["brackets",g,j,y],j=y);break}case n:case e:{O=L===n?"'":'"',y=j;do{if(W=!1,y=_.indexOf(O,y+1),y===-1)if(I||J){y=j+1;break}else qr("string");for(ue=y;_.charCodeAt(ue-1)===t;)ue-=1,W=!W}while(W);q=["string",_.slice(j,y+1),j,y],j=y;break}case C:{D.lastIndex=j+1,D.test(_),D.lastIndex===0?y=_.length-1:y=D.lastIndex-2,q=["at-word",_.slice(j,y+1),j,y],j=y;break}case t:{for(y=j,m=!0;_.charCodeAt(y+1)===t;)y+=1,m=!m;if(L=_.charCodeAt(y+1),m&&L!==r&&L!==s&&L!==i&&L!==a&&L!==u&&L!==o&&(y+=1,V.test(_.charAt(y)))){for(;V.test(_.charAt(y+1));)y+=1;_.charCodeAt(y+1)===s&&(y+=1)}q=["word",_.slice(j,y+1),j,y],j=y;break}default:{L===r&&_.charCodeAt(j+1)===T?(y=_.indexOf("*/",j+2)+1,y===0&&(I||J?y=_.length:qr("comment")),q=["comment",_.slice(j,y+1),j,y],j=y):(S.lastIndex=j+1,S.test(_),S.lastIndex===0?y=_.length-1:y=S.lastIndex-2,q=["word",_.slice(j,y+1),j,y],le.push(q),j=y);break}}return j++,q}function Kh(rn){Ce.push(rn)}return{back:Kh,endOfFile:Gh,nextToken:Wh,position:kt}},aD}var uD,C9;function Wse(){if(C9)return uD;C9=1;let n=zD(),e=Jb(),t=e1(),r=km(),i=WD(),s=Gse(),o={empty:!0,space:!0};function a(c){for(let l=c.length-1;l>=0;l--){let d=c[l],f=d[3]||d[2];if(f)return f}}class u{constructor(l){this.input=l,this.root=new r,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:l,start:{column:1,line:1,offset:0}}}atrule(l){let d=new n;d.name=l[1].slice(1),d.name===""&&this.unnamedAtrule(d,l),this.init(d,l[2]);let f,h,p,v=!1,T=!1,w=[],C=[];for(;!this.tokenizer.endOfFile();){if(l=this.tokenizer.nextToken(),f=l[0],f==="("||f==="["?C.push(f==="("?")":"]"):f==="{"&&C.length>0?C.push("}"):f===C[C.length-1]&&C.pop(),C.length===0)if(f===";"){d.source.end=this.getPosition(l[2]),d.source.end.offset++,this.semicolon=!0;break}else if(f==="{"){T=!0;break}else if(f==="}"){if(w.length>0){for(p=w.length-1,h=w[p];h&&h[0]==="space";)h=w[--p];h&&(d.source.end=this.getPosition(h[3]||h[2]),d.source.end.offset++)}this.end(l);break}else w.push(l);else w.push(l);if(this.tokenizer.endOfFile()){v=!0;break}}d.raws.between=this.spacesAndCommentsFromEnd(w),w.length?(d.raws.afterName=this.spacesAndCommentsFromStart(w),this.raw(d,"params",w),v&&(l=w[w.length-1],d.source.end=this.getPosition(l[3]||l[2]),d.source.end.offset++,this.spaces=d.raws.between,d.raws.between="")):(d.raws.afterName="",d.params=""),T&&(d.nodes=[],this.current=d)}checkMissedSemicolon(l){let d=this.colon(l);if(d===!1)return;let f=0,h;for(let p=d-1;p>=0&&(h=l[p],!(h[0]!=="space"&&(f+=1,f===2)));p--);throw this.input.error("Missed semicolon",h[0]==="word"?h[3]+1:h[2])}colon(l){let d=0,f,h,p;for(let[v,T]of l.entries()){if(h=T,p=h[0],p==="("&&(d+=1),p===")"&&(d-=1),d===0&&p===":")if(!f)this.doubleColon(h);else{if(f[0]==="word"&&f[1]==="progid")continue;return v}f=h}return!1}comment(l){let d=new e;this.init(d,l[2]),d.source.end=this.getPosition(l[3]||l[2]),d.source.end.offset++;let f=l[1].slice(2,-2);if(/^\s*$/.test(f))d.text="",d.raws.left=f,d.raws.right="";else{let h=f.match(/^(\s*)([^]*\S)(\s*)$/);d.text=h[2],d.raws.left=h[1],d.raws.right=h[3]}}createTokenizer(){this.tokenizer=s(this.input)}decl(l,d){let f=new t;this.init(f,l[0][2]);let h=l[l.length-1];for(h[0]===";"&&(this.semicolon=!0,l.pop()),f.source.end=this.getPosition(h[3]||h[2]||a(l)),f.source.end.offset++;l[0][0]!=="word";)l.length===1&&this.unknownWord(l),f.raws.before+=l.shift()[1];for(f.source.start=this.getPosition(l[0][2]),f.prop="";l.length;){let C=l[0][0];if(C===":"||C==="space"||C==="comment")break;f.prop+=l.shift()[1]}f.raws.between="";let p;for(;l.length;)if(p=l.shift(),p[0]===":"){f.raws.between+=p[1];break}else p[0]==="word"&&/\w/.test(p[1])&&this.unknownWord([p]),f.raws.between+=p[1];(f.prop[0]==="_"||f.prop[0]==="*")&&(f.raws.before+=f.prop[0],f.prop=f.prop.slice(1));let v=[],T;for(;l.length&&(T=l[0][0],!(T!=="space"&&T!=="comment"));)v.push(l.shift());this.precheckMissedSemicolon(l);for(let C=l.length-1;C>=0;C--){if(p=l[C],p[1].toLowerCase()==="!important"){f.important=!0;let D=this.stringFrom(l,C);D=this.spacesFromEnd(l)+D,D!==" !important"&&(f.raws.important=D);break}else if(p[1].toLowerCase()==="important"){let D=l.slice(0),S="";for(let x=C;x>0;x--){let V=D[x][0];if(S.trim().startsWith("!")&&V!=="space")break;S=D.pop()[1]+S}S.trim().startsWith("!")&&(f.important=!0,f.raws.important=S,l=D)}if(p[0]!=="space"&&p[0]!=="comment")break}l.some(C=>C[0]!=="space"&&C[0]!=="comment")&&(f.raws.between+=v.map(C=>C[1]).join(""),v=[]),this.raw(f,"value",v.concat(l),d),f.value.includes(":")&&!d&&this.checkMissedSemicolon(l)}doubleColon(l){throw this.input.error("Double colon",{offset:l[2]},{offset:l[2]+l[1].length})}emptyRule(l){let d=new i;this.init(d,l[2]),d.selector="",d.raws.between="",this.current=d}end(l){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(l[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(l)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(l){if(this.spaces+=l[1],this.current.nodes){let d=this.current.nodes[this.current.nodes.length-1];d&&d.type==="rule"&&!d.raws.ownSemicolon&&(d.raws.ownSemicolon=this.spaces,this.spaces="",d.source.end=this.getPosition(l[2]),d.source.end.offset+=d.raws.ownSemicolon.length)}}getPosition(l){let d=this.input.fromOffset(l);return{column:d.col,line:d.line,offset:l}}init(l,d){this.current.push(l),l.source={input:this.input,start:this.getPosition(d)},l.raws.before=this.spaces,this.spaces="",l.type!=="comment"&&(this.semicolon=!1)}other(l){let d=!1,f=null,h=!1,p=null,v=[],T=l[1].startsWith("--"),w=[],C=l;for(;C;){if(f=C[0],w.push(C),f==="("||f==="[")p||(p=C),v.push(f==="("?")":"]");else if(T&&h&&f==="{")p||(p=C),v.push("}");else if(v.length===0)if(f===";")if(h){this.decl(w,T);return}else break;else if(f==="{"){this.rule(w);return}else if(f==="}"){this.tokenizer.back(w.pop()),d=!0;break}else f===":"&&(h=!0);else f===v[v.length-1]&&(v.pop(),v.length===0&&(p=null));C=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(d=!0),v.length>0&&this.unclosedBracket(p),d&&h){if(!T)for(;w.length&&(C=w[w.length-1][0],!(C!=="space"&&C!=="comment"));)this.tokenizer.back(w.pop());this.decl(w,T)}else this.unknownWord(w)}parse(){let l;for(;!this.tokenizer.endOfFile();)switch(l=this.tokenizer.nextToken(),l[0]){case"space":this.spaces+=l[1];break;case";":this.freeSemicolon(l);break;case"}":this.end(l);break;case"comment":this.comment(l);break;case"at-word":this.atrule(l);break;case"{":this.emptyRule(l);break;default:this.other(l);break}this.endFile()}precheckMissedSemicolon(){}raw(l,d,f,h){let p,v,T=f.length,w="",C=!0,D,S;for(let x=0;x<T;x+=1)p=f[x],v=p[0],v==="space"&&x===T-1&&!h?C=!1:v==="comment"?(S=f[x-1]?f[x-1][0]:"empty",D=f[x+1]?f[x+1][0]:"empty",!o[S]&&!o[D]?w.slice(-1)===","?C=!1:w+=p[1]:C=!1):w+=p[1];if(!C){let x=f.reduce((V,R)=>V+R[1],"");l.raws[d]={raw:x,value:w}}l[d]=w}rule(l){l.pop();let d=new i;this.init(d,l[0][2]),d.raws.between=this.spacesAndCommentsFromEnd(l),this.raw(d,"selector",l),this.current=d}spacesAndCommentsFromEnd(l){let d,f="";for(;l.length&&(d=l[l.length-1][0],!(d!=="space"&&d!=="comment"));)f=l.pop()[1]+f;return f}spacesAndCommentsFromStart(l){let d,f="";for(;l.length&&(d=l[0][0],!(d!=="space"&&d!=="comment"));)f+=l.shift()[1];return f}spacesFromEnd(l){let d,f="";for(;l.length&&(d=l[l.length-1][0],d==="space");)f=l.pop()[1]+f;return f}stringFrom(l,d){let f="";for(let h=d;h<l.length;h++)f+=l[h][1];return l.splice(d,l.length-d),f}unclosedBlock(){let l=this.current.source.start;throw this.input.error("Unclosed block",l.line,l.column)}unclosedBracket(l){throw this.input.error("Unclosed bracket",{offset:l[2]},{offset:l[2]+1})}unexpectedClose(l){throw this.input.error("Unexpected }",{offset:l[2]},{offset:l[2]+1})}unknownWord(l){throw this.input.error("Unknown word",{offset:l[0][2]},{offset:l[0][2]+l[0][1].length})}unnamedAtrule(l,d){throw this.input.error("At-rule without name",{offset:d[2]},{offset:d[2]+d[1].length})}}return uD=u,uD}var cD,I9;function KD(){if(I9)return cD;I9=1;let n=Il(),e=t1(),t=Wse();function r(i,s){let o=new e(i,s),a=new t(o);try{a.parse()}catch(u){throw process.env.NODE_ENV!=="production"&&u.name==="CssSyntaxError"&&s&&s.from&&(/\.scss$/i.test(s.from)?u.message+=`
You tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser`:/\.sass/i.test(s.from)?u.message+=`
You tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser`:/\.less$/i.test(s.from)&&(u.message+=`
You tried to parse Less with the standard CSS parser; try again with the postcss-less parser`)),u}return a.root}return cD=r,r.default=r,n.registerParse(r),cD}var lD,D9;function b7(){if(D9)return lD;D9=1;class n{constructor(t,r={}){if(this.type="warning",this.text=t,r.node&&r.node.source){let i=r.node.rangeBy(r);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in r)this[i]=r[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return lD=n,n.default=n,lD}var dD,x9;function QD(){if(x9)return dD;x9=1;let n=b7();class e{constructor(r,i,s){this.processor=r,this.messages=[],this.root=i,this.opts=s,this.css=void 0,this.map=void 0}toString(){return this.css}warn(r,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let s=new n(r,i);return this.messages.push(s),s}warnings(){return this.messages.filter(r=>r.type==="warning")}get content(){return this.css}}return dD=e,e.default=e,dD}var fD,A9;function _7(){if(A9)return fD;A9=1;let n={};return fD=function(t){n[t]||(n[t]=!0,typeof console<"u"&&console.warn&&console.warn(t))},fD}var hD,N9;function E7(){if(N9)return hD;N9=1;let n=Il(),e=GD(),t=v7(),r=KD(),i=QD(),s=km(),o=Zb(),{isClean:a,my:u}=$D(),c=_7(),l={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},d={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},f={Once:!0,postcssPlugin:!0,prepare:!0},h=0;function p(S){return typeof S=="object"&&typeof S.then=="function"}function v(S){let x=!1,V=l[S.type];return S.type==="decl"?x=S.prop.toLowerCase():S.type==="atrule"&&(x=S.name.toLowerCase()),x&&S.append?[V,V+"-"+x,h,V+"Exit",V+"Exit-"+x]:x?[V,V+"-"+x,V+"Exit",V+"Exit-"+x]:S.append?[V,h,V+"Exit"]:[V,V+"Exit"]}function T(S){let x;return S.type==="document"?x=["Document",h,"DocumentExit"]:S.type==="root"?x=["Root",h,"RootExit"]:x=v(S),{eventIndex:0,events:x,iterator:0,node:S,visitorIndex:0,visitors:[]}}function w(S){return S[a]=!1,S.nodes&&S.nodes.forEach(x=>w(x)),S}let C={},D=(()=>{class S{constructor(V,R,A){this.stringified=!1,this.processed=!1;let N;if(typeof R=="object"&&R!==null&&(R.type==="root"||R.type==="document"))N=w(R);else if(R instanceof S||R instanceof i)N=w(R.root),R.map&&(typeof A.map>"u"&&(A.map={}),A.map.inline||(A.map.inline=!1),A.map.prev=R.map);else{let _=r;A.syntax&&(_=A.syntax.parse),A.parser&&(_=A.parser),_.parse&&(_=_.parse);try{N=_(R,A)}catch(I){this.processed=!0,this.error=I}N&&!N[u]&&n.rebuild(N)}this.result=new i(V,N,A),this.helpers=me(Q({},C),{postcss:C,result:this.result}),this.plugins=this.processor.plugins.map(_=>typeof _=="object"&&_.prepare?Q(Q({},_),_.prepare(this.result)):_)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(V){return this.async().catch(V)}finally(V){return this.async().then(V,V)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(V,R){let A=this.result.lastPlugin;try{if(R&&R.addToError(V),this.error=V,V.name==="CssSyntaxError"&&!V.plugin)V.plugin=A.postcssPlugin,V.setMessage();else if(A.postcssVersion&&process.env.NODE_ENV!=="production"){let N=A.postcssPlugin,_=A.postcssVersion,I=this.result.processor.version,L=_.split("."),g=I.split(".");(L[0]!==g[0]||parseInt(L[1])>parseInt(g[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+I+", but "+N+" uses "+_+". Perhaps this is the source of the error below.")}}catch(N){console&&console.error&&console.error(N)}return V}prepareVisitors(){this.listeners={};let V=(R,A,N)=>{this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push([R,N])};for(let R of this.plugins)if(typeof R=="object")for(let A in R){if(!d[A]&&/^[A-Z]/.test(A))throw new Error(`Unknown event ${A} in ${R.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!f[A])if(typeof R[A]=="object")for(let N in R[A])N==="*"?V(R,A,R[A][N]):V(R,A+"-"+N.toLowerCase(),R[A][N]);else typeof R[A]=="function"&&V(R,A,R[A])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){return P(this,null,function*(){this.plugin=0;for(let V=0;V<this.plugins.length;V++){let R=this.plugins[V],A=this.runOnRoot(R);if(p(A))try{yield A}catch(N){throw this.handleError(N)}}if(this.prepareVisitors(),this.hasListener){let V=this.result.root;for(;!V[a];){V[a]=!0;let R=[T(V)];for(;R.length>0;){let A=this.visitTick(R);if(p(A))try{yield A}catch(N){let _=R[R.length-1].node;throw this.handleError(N,_)}}}if(this.listeners.OnceExit)for(let[R,A]of this.listeners.OnceExit){this.result.lastPlugin=R;try{if(V.type==="document"){let N=V.nodes.map(_=>A(_,this.helpers));yield Promise.all(N)}else yield A(V,this.helpers)}catch(N){throw this.handleError(N)}}}return this.processed=!0,this.stringify()})}runOnRoot(V){this.result.lastPlugin=V;try{if(typeof V=="object"&&V.Once){if(this.result.root.type==="document"){let R=this.result.root.nodes.map(A=>V.Once(A,this.helpers));return p(R[0])?Promise.all(R):R}return V.Once(this.result.root,this.helpers)}else if(typeof V=="function")return V(this.result.root,this.result)}catch(R){throw this.handleError(R)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let V=this.result.opts,R=o;V.syntax&&(R=V.syntax.stringify),V.stringifier&&(R=V.stringifier),R.stringify&&(R=R.stringify);let N=new t(R,this.result.root,this.result.opts).generate();return this.result.css=N[0],this.result.map=N[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let V of this.plugins){let R=this.runOnRoot(V);if(p(R))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let V=this.result.root;for(;!V[a];)V[a]=!0,this.walkSync(V);if(this.listeners.OnceExit)if(V.type==="document")for(let R of V.nodes)this.visitSync(this.listeners.OnceExit,R);else this.visitSync(this.listeners.OnceExit,V)}return this.result}then(V,R){return process.env.NODE_ENV!=="production"&&("from"in this.opts||c("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(V,R)}toString(){return this.css}visitSync(V,R){for(let[A,N]of V){this.result.lastPlugin=A;let _;try{_=N(R,this.helpers)}catch(I){throw this.handleError(I,R.proxyOf)}if(R.type!=="root"&&R.type!=="document"&&!R.parent)return!0;if(p(_))throw this.getAsyncError()}}visitTick(V){let R=V[V.length-1],{node:A,visitors:N}=R;if(A.type!=="root"&&A.type!=="document"&&!A.parent){V.pop();return}if(N.length>0&&R.visitorIndex<N.length){let[I,L]=N[R.visitorIndex];R.visitorIndex+=1,R.visitorIndex===N.length&&(R.visitors=[],R.visitorIndex=0),this.result.lastPlugin=I;try{return L(A.toProxy(),this.helpers)}catch(g){throw this.handleError(g,A)}}if(R.iterator!==0){let I=R.iterator,L;for(;L=A.nodes[A.indexes[I]];)if(A.indexes[I]+=1,!L[a]){L[a]=!0,V.push(T(L));return}R.iterator=0,delete A.indexes[I]}let _=R.events;for(;R.eventIndex<_.length;){let I=_[R.eventIndex];if(R.eventIndex+=1,I===h){A.nodes&&A.nodes.length&&(A[a]=!0,R.iterator=A.getIterator());return}else if(this.listeners[I]){R.visitors=this.listeners[I];return}}V.pop()}walkSync(V){V[a]=!0;let R=v(V);for(let A of R)if(A===h)V.nodes&&V.each(N=>{N[a]||this.walkSync(N)});else{let N=this.listeners[A];if(N&&this.visitSync(N,V.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}return S.registerPostcss=x=>{C=x},S})();return hD=D,D.default=D,s.registerLazyResult(D),e.registerLazyResult(D),hD}var pD,R9;function Kse(){if(R9)return pD;R9=1;let n=v7(),e=KD(),t=QD(),r=Zb(),i=_7();class s{constructor(a,u,c){u=u.toString(),this.stringified=!1,this._processor=a,this._css=u,this._opts=c,this._map=void 0;let l,d=r;this.result=new t(this._processor,l,this._opts),this.result.css=u;let f=this;Object.defineProperty(this.result,"root",{get(){return f.root}});let h=new n(d,l,this._opts,u);if(h.isMap()){let[p,v]=h.generate();p&&(this.result.css=p),v&&(this.result.map=v)}else h.clearAnnotation(),this.result.css=h.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(a){return this.async().catch(a)}finally(a){return this.async().then(a,a)}sync(){if(this.error)throw this.error;return this.result}then(a,u){return process.env.NODE_ENV!=="production"&&("from"in this._opts||i("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(a,u)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let a,u=e;try{a=u(this._css,this._opts)}catch(c){this.error=c}if(this.error)throw this.error;return this._root=a,a}get[Symbol.toStringTag](){return"NoWorkResult"}}return pD=s,s.default=s,pD}var mD,k9;function Qse(){if(k9)return mD;k9=1;let n=GD(),e=E7(),t=Kse(),r=km();class i{constructor(o=[]){this.version="8.5.2",this.plugins=this.normalize(o)}normalize(o){let a=[];for(let u of o)if(u.postcss===!0?u=u():u.postcss&&(u=u.postcss),typeof u=="object"&&Array.isArray(u.plugins))a=a.concat(u.plugins);else if(typeof u=="object"&&u.postcssPlugin)a.push(u);else if(typeof u=="function")a.push(u);else if(typeof u=="object"&&(u.parse||u.stringify)){if(process.env.NODE_ENV!=="production")throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.")}else throw new Error(u+" is not a PostCSS plugin");return a}process(o,a={}){return!this.plugins.length&&!a.parser&&!a.stringifier&&!a.syntax?new t(this,o,a):new e(this,o,a)}use(o){return this.plugins=this.plugins.concat(this.normalize([o])),this}}return mD=i,i.default=i,r.registerProcessor(i),n.registerProcessor(i),mD}var gD,M9;function Yse(){if(M9)return gD;M9=1;let n=zD(),e=Jb(),t=Il(),r=HD(),i=e1(),s=GD(),o=zse(),a=t1(),u=E7(),c=y7(),l=Xb(),d=KD(),f=Qse(),h=QD(),p=km(),v=WD(),T=Zb(),w=b7();function C(...D){return D.length===1&&Array.isArray(D[0])&&(D=D[0]),new f(D)}return C.plugin=function(S,x){let V=!1;function R(...N){console&&console.warn&&!V&&(V=!0,console.warn(S+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(S+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let _=x(...N);return _.postcssPlugin=S,_.postcssVersion=new f().version,_}let A;return Object.defineProperty(R,"postcss",{get(){return A||(A=R()),A}}),R.process=function(N,_,I){return C([R(I)]).process(N,_)},R},C.stringify=T,C.parse=d,C.fromJSON=o,C.list=c,C.comment=D=>new e(D),C.atRule=D=>new n(D),C.decl=D=>new i(D),C.rule=D=>new v(D),C.root=D=>new p(D),C.document=D=>new s(D),C.CssSyntaxError=r,C.Declaration=i,C.Container=t,C.Processor=f,C.Document=s,C.Comment=e,C.Warning=w,C.AtRule=n,C.Result=h,C.Input=a,C.Rule=v,C.Root=p,C.Node=l,u.registerPostcss(C),gD=C,C.default=C,gD}var Zse=Yse(),mn=Yb(Zse),Xse=mn.stringify;mn.fromJSON;mn.plugin;var Jse=mn.parse;mn.list;mn.document;mn.comment;mn.atRule;mn.rule;mn.decl;mn.root;mn.CssSyntaxError;mn.Declaration;mn.Container;mn.Processor;mn.Document;mn.Comment;mn.Warning;mn.AtRule;mn.Result;mn.Input;mn.Rule;mn.Root;mn.Node;var Pb={},Lb={},Fb={},O9;function w7(){if(O9)return Fb;O9=1,Object.defineProperty(Fb,"__esModule",{value:!0});function n(e){this.after=e.after,this.before=e.before,this.type=e.type,this.value=e.value,this.sourceIndex=e.sourceIndex}return Fb.default=n,Fb}var P9;function S7(){if(P9)return Lb;P9=1,Object.defineProperty(Lb,"__esModule",{value:!0});var n=w7(),e=t(n);function t(i){return i&&i.__esModule?i:{default:i}}function r(i){var s=this;this.constructor(i),this.nodes=i.nodes,this.after===void 0&&(this.after=this.nodes.length>0?this.nodes[this.nodes.length-1].after:""),this.before===void 0&&(this.before=this.nodes.length>0?this.nodes[0].before:""),this.sourceIndex===void 0&&(this.sourceIndex=this.before.length),this.nodes.forEach(function(o){o.parent=s})}return r.prototype=Object.create(e.default.prototype),r.constructor=e.default,r.prototype.walk=function(s,o){for(var a=typeof s=="string"||s instanceof RegExp,u=a?o:s,c=typeof s=="string"?new RegExp(s):s,l=0;l<this.nodes.length;l++){var d=this.nodes[l],f=a?c.test(d.type):!0;if(f&&u&&u(d,l,this.nodes)===!1||d.nodes&&d.walk(s,o)===!1)return!1}return!0},r.prototype.each=function(){for(var s=arguments.length<=0||arguments[0]===void 0?function(){}:arguments[0],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(s(a,o,this.nodes)===!1)return!1}return!0},Lb.default=r,Lb}var mf={},L9;function eoe(){if(L9)return mf;L9=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.parseMediaFeature=s,mf.parseMediaQuery=o,mf.parseMediaList=a;var n=w7(),e=i(n),t=S7(),r=i(t);function i(u){return u&&u.__esModule?u:{default:u}}function s(u){var c=arguments.length<=1||arguments[1]===void 0?0:arguments[1],l=[{mode:"normal",character:null}],d=[],f=0,h="",p=null,v=null,T=c,w=u;u[0]==="("&&u[u.length-1]===")"&&(w=u.substring(1,u.length-1),T++);for(var C=0;C<w.length;C++){var D=w[C];if((D==="'"||D==='"')&&(l[f].isCalculationEnabled===!0?(l.push({mode:"string",isCalculationEnabled:!1,character:D}),f++):l[f].mode==="string"&&l[f].character===D&&w[C-1]!=="\\"&&(l.pop(),f--)),D==="{"?(l.push({mode:"interpolation",isCalculationEnabled:!0}),f++):D==="}"&&(l.pop(),f--),l[f].mode==="normal"&&D===":"){var S=w.substring(C+1);v={type:"value",before:/^(\s*)/.exec(S)[1],after:/(\s*)$/.exec(S)[1],value:S.trim()},v.sourceIndex=v.before.length+C+1+T,p={type:"colon",sourceIndex:C+T,after:v.before,value:":"};break}h+=D}return h={type:"media-feature",before:/^(\s*)/.exec(h)[1],after:/(\s*)$/.exec(h)[1],value:h.trim()},h.sourceIndex=h.before.length+T,d.push(h),p!==null&&(p.before=h.after,d.push(p)),v!==null&&d.push(v),d}function o(u){var c=arguments.length<=1||arguments[1]===void 0?0:arguments[1],l=[],d=0,f=!1,h=void 0;function p(){return{before:"",after:"",value:""}}h=p();for(var v=0;v<u.length;v++){var T=u[v];f?(h.value+=T,(T==="{"||T==="(")&&d++,(T===")"||T==="}")&&d--):T.search(/\s/)!==-1?h.before+=T:(T==="("&&(h.type="media-feature-expression",d++),h.value=T,h.sourceIndex=c+v,f=!0),f&&d===0&&(T===")"||v===u.length-1||u[v+1].search(/\s/)!==-1)&&(["not","only","and"].indexOf(h.value)!==-1&&(h.type="keyword"),h.type==="media-feature-expression"&&(h.nodes=s(h.value,h.sourceIndex)),l.push(Array.isArray(h.nodes)?new r.default(h):new e.default(h)),h=p(),f=!1)}for(var w=0;w<l.length;w++)if(h=l[w],w>0&&(l[w-1].after=h.before),h.type===void 0){if(w>0){if(l[w-1].type==="media-feature-expression"){h.type="keyword";continue}if(l[w-1].value==="not"||l[w-1].value==="only"){h.type="media-type";continue}if(l[w-1].value==="and"){h.type="media-feature-expression";continue}l[w-1].type==="media-type"&&(l[w+1]?h.type=l[w+1].type==="media-feature-expression"?"keyword":"media-feature-expression":h.type="media-feature-expression")}if(w===0){if(!l[w+1]){h.type="media-type";continue}if(l[w+1]&&(l[w+1].type==="media-feature-expression"||l[w+1].type==="keyword")){h.type="media-type";continue}if(l[w+2]){if(l[w+2].type==="media-feature-expression"){h.type="media-type",l[w+1].type="keyword";continue}if(l[w+2].type==="keyword"){h.type="keyword",l[w+1].type="media-type";continue}}if(l[w+3]&&l[w+3].type==="media-feature-expression"){h.type="keyword",l[w+1].type="media-type",l[w+2].type="keyword";continue}}}return l}function a(u){var c=[],l=0,d=0,f=/^(\s*)url\s*\(/.exec(u);if(f!==null){for(var h=f[0].length,p=1;p>0;){var v=u[h];v==="("&&p++,v===")"&&p--,h++}c.unshift(new e.default({type:"url",value:u.substring(0,h).trim(),sourceIndex:f[1].length,before:f[1],after:/^(\s*)/.exec(u.substring(h))[1]})),l=h}for(var T=l;T<u.length;T++){var w=u[T];if(w==="("&&d++,w===")"&&d--,d===0&&w===","){var C=u.substring(l,T),D=/^(\s*)/.exec(C)[1];c.push(new r.default({type:"media-query",value:C.trim(),sourceIndex:l+D.length,nodes:o(C,l),before:D,after:/(\s*)$/.exec(C)[1]})),l=T+1}}var S=u.substring(l),x=/^(\s*)/.exec(S)[1];return c.push(new r.default({type:"media-query",value:S.trim(),sourceIndex:l+x.length,nodes:o(S,l),before:x,after:/(\s*)$/.exec(S)[1]})),c}return mf}var F9;function toe(){if(F9)return Pb;F9=1,Object.defineProperty(Pb,"__esModule",{value:!0}),Pb.default=i;var n=S7(),e=r(n),t=eoe();function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return new e.default({nodes:(0,t.parseMediaList)(s),type:"media-query-list",value:s.trim()})}return Pb}var noe=toe(),yD=Yb(noe),Ht=function(n){return n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype",n}(Ht||{});function roe(n){return n.type===Ht.Tag||n.type===Ht.Script||n.type===Ht.Style}var ioe=Ht.Root,soe=Ht.Text,ooe=Ht.Directive,aoe=Ht.Comment,uoe=Ht.Script,coe=Ht.Style,loe=Ht.Tag,doe=Ht.CDATA,foe=Ht.Doctype,qb=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return C7(this,e)}},Am=class extends qb{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}},Sl=class extends Am{constructor(){super(...arguments),this.type=Ht.Text}get nodeType(){return 3}},jb=class extends Am{constructor(){super(...arguments),this.type=Ht.Comment}get nodeType(){return 8}},Hb=class extends Am{constructor(e,t){super(t),this.name=e,this.type=Ht.Directive}get nodeType(){return 1}},Nm=class extends qb{constructor(e){super(),this.children=e}get firstChild(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}},$b=class extends Nm{constructor(){super(...arguments),this.type=Ht.CDATA}get nodeType(){return 4}},Rm=class extends Nm{constructor(){super(...arguments),this.type=Ht.Root}get nodeType(){return 9}},vf=class extends Nm{constructor(e,t,r=[],i=e==="script"?Ht.Script:e==="style"?Ht.Style:Ht.Tag){super(r),this.name=e,this.attribs=t,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var t,r;return{name:e,value:this.attribs[e],namespace:(t=this["x-attribsNamespace"])===null||t===void 0?void 0:t[e],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[e]}})}};function Ci(n){return roe(n)}function n1(n){return n.type===Ht.CDATA}function Tl(n){return n.type===Ht.Text}function YD(n){return n.type===Ht.Comment}function hoe(n){return n.type===Ht.Directive}function T7(n){return n.type===Ht.Root}function Ps(n){return Object.prototype.hasOwnProperty.call(n,"children")}function C7(n,e=!1){let t;if(Tl(n))t=new Sl(n.data);else if(YD(n))t=new jb(n.data);else if(Ci(n)){let r=e?vD(n.children):[],i=new vf(n.name,Q({},n.attribs),r);r.forEach(s=>s.parent=i),n.namespace!=null&&(i.namespace=n.namespace),n["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Q({},n["x-attribsNamespace"])),n["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Q({},n["x-attribsPrefix"])),t=i}else if(n1(n)){let r=e?vD(n.children):[],i=new $b(r);r.forEach(s=>s.parent=i),t=i}else if(T7(n)){let r=e?vD(n.children):[],i=new Rm(r);r.forEach(s=>s.parent=i),n["x-mode"]&&(i["x-mode"]=n["x-mode"]),t=i}else if(hoe(n)){let r=new Hb(n.name,n.data);n["x-name"]!=null&&(r["x-name"]=n["x-name"],r["x-publicId"]=n["x-publicId"],r["x-systemId"]=n["x-systemId"]),t=r}else throw new Error(`Not implemented yet: ${n.type}`);return t.startIndex=n.startIndex,t.endIndex=n.endIndex,n.sourceCodeLocation!=null&&(t.sourceCodeLocation=n.sourceCodeLocation),t}function vD(n){let e=n.map(t=>C7(t,!0));for(let t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}var U9={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},xD=class{constructor(e,t,r){this.dom=[],this.root=new Rm(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=U9),typeof e=="object"&&(t=e,e=void 0),this.callback=e??null,this.options=t??U9,this.elementCB=r??null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new Rm(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;let e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,t){let r=this.options.xmlMode?Ht.Tag:void 0,i=new vf(e,t,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(e){let{lastNode:t}=this;if(t&&t.type===Ht.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{let r=new Sl(e);this.addNode(r),this.lastNode=r}}oncomment(e){if(this.lastNode&&this.lastNode.type===Ht.Comment){this.lastNode.data+=e;return}let t=new jb(e);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){let e=new Sl(""),t=new $b([e]);this.addNode(t),e.parent=t,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,t){let r=new Hb(e,t);this.addNode(r)}handleCallback(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e}addNode(e){let t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),r&&(e.prev=r,r.next=e),e.parent=t,this.lastNode=null}};var bD;var T8e=(bD=String.fromCodePoint)!==null&&bD!==void 0?bD:function(n){let e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};var B9=/["&'<>$\x80-\uFFFF]/g,poe=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),moe=String.prototype.codePointAt!=null?(n,e)=>n.codePointAt(e):(n,e)=>(n.charCodeAt(e)&64512)===55296?(n.charCodeAt(e)-55296)*1024+n.charCodeAt(e+1)-56320+65536:n.charCodeAt(e);function I7(n){let e="",t=0,r;for(;(r=B9.exec(n))!==null;){let i=r.index,s=n.charCodeAt(i),o=poe.get(s);o!==void 0?(e+=n.substring(t,i)+o,t=i+1):(e+=`${n.substring(t,i)}&#x${moe(n,i).toString(16)};`,t=B9.lastIndex+=+((s&64512)===55296))}return e+n.substr(t)}function D7(n,e){return function(r){let i,s=0,o="";for(;i=n.exec(r);)s!==i.index&&(o+=r.substring(s,i.index)),o+=e.get(i[0].charCodeAt(0)),s=i.index+1;return o+r.substring(s)}}var goe=D7(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),yoe=D7(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var voe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(n=>[n.toLowerCase(),n])),boe=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(n=>[n.toLowerCase(),n])),_oe=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Eoe(n){return n.replace(/"/g,"&quot;")}function woe(n,e){var t;if(!n)return;let r=((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)===!1?Eoe:e.xmlMode||e.encodeEntities!=="utf8"?I7:goe;return Object.keys(n).map(i=>{var s,o;let a=(s=n[i])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(i=(o=boe.get(i))!==null&&o!==void 0?o:i),!e.emptyAttrs&&!e.xmlMode&&a===""?i:`${i}="${r(a)}"`}).join(" ")}var V9=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function r1(n,e={}){let t="length"in n?n:[n],r="";for(let i=0;i<t.length;i++)r+=Soe(t[i],e);return r}function Soe(n,e){switch(n.type){case ioe:return r1(n.children,e);case foe:case ooe:return Doe(n);case aoe:return Noe(n);case doe:return Aoe(n);case uoe:case coe:case loe:return Ioe(n,e);case soe:return xoe(n,e)}}var Toe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Coe=new Set(["svg","math"]);function Ioe(n,e){var t;e.xmlMode==="foreign"&&(n.name=(t=voe.get(n.name))!==null&&t!==void 0?t:n.name,n.parent&&Toe.has(n.parent.name)&&(e=me(Q({},e),{xmlMode:!1}))),!e.xmlMode&&Coe.has(n.name)&&(e=me(Q({},e),{xmlMode:"foreign"}));let r=`<${n.name}`,i=woe(n.attribs,e);return i&&(r+=` ${i}`),n.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&V9.has(n.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",n.children.length>0&&(r+=r1(n.children,e)),(e.xmlMode||!V9.has(n.name))&&(r+=`</${n.name}>`)),r}function Doe(n){return`<${n.data}>`}function xoe(n,e){var t;let r=n.data||"";return((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)!==!1&&!(!e.xmlMode&&n.parent&&_oe.has(n.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?I7(r):yoe(r)),r}function Aoe(n){return`<![CDATA[${n.children[0].data}]]>`}function Noe(n){return`<!--${n.data}-->`}function x7(n,e){return r1(n,e)}function Roe(n,e){return Ps(n)?n.children.map(t=>x7(t,e)).join(""):""}function Dm(n){return Array.isArray(n)?n.map(Dm).join(""):Ci(n)?n.name==="br"?`
`:Dm(n.children):n1(n)?Dm(n.children):Tl(n)?n.data:""}function zb(n){return Array.isArray(n)?n.map(zb).join(""):Ps(n)&&!YD(n)?zb(n.children):Tl(n)?n.data:""}function AD(n){return Array.isArray(n)?n.map(AD).join(""):Ps(n)&&(n.type===Ht.Tag||n1(n))?AD(n.children):Tl(n)?n.data:""}function A7(n){return Ps(n)?n.children:[]}function N7(n){return n.parent||null}function koe(n){let e=N7(n);if(e!=null)return A7(e);let t=[n],{prev:r,next:i}=n;for(;r!=null;)t.unshift(r),{prev:r}=r;for(;i!=null;)t.push(i),{next:i}=i;return t}function Moe(n,e){var t;return(t=n.attribs)===null||t===void 0?void 0:t[e]}function Ooe(n,e){return n.attribs!=null&&Object.prototype.hasOwnProperty.call(n.attribs,e)&&n.attribs[e]!=null}function Poe(n){return n.name}function Loe(n){let{next:e}=n;for(;e!==null&&!Ci(e);)({next:e}=e);return e}function Foe(n){let{prev:e}=n;for(;e!==null&&!Ci(e);)({prev:e}=e);return e}function Cl(n){if(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.parent){let e=n.parent.children,t=e.lastIndexOf(n);t>=0&&e.splice(t,1)}n.next=null,n.prev=null,n.parent=null}function Uoe(n,e){let t=e.prev=n.prev;t&&(t.next=e);let r=e.next=n.next;r&&(r.prev=e);let i=e.parent=n.parent;if(i){let s=i.children;s[s.lastIndexOf(n)]=e,n.parent=null}}function ND(n,e){if(Cl(e),e.next=null,e.parent=n,n.children.push(e)>1){let t=n.children[n.children.length-2];t.next=e,e.prev=t}else e.prev=null}function Boe(n,e){Cl(e);let{parent:t}=n,r=n.next;if(e.next=r,e.prev=n,n.next=e,e.parent=t,r){if(r.prev=e,t){let i=t.children;i.splice(i.lastIndexOf(r),0,e)}}else t&&t.children.push(e)}function Voe(n,e){if(Cl(e),e.parent=n,e.prev=null,n.children.unshift(e)!==1){let t=n.children[1];t.prev=e,e.next=t}else e.next=null}function R7(n,e){Cl(e);let{parent:t}=n;if(t){let r=t.children;r.splice(r.indexOf(n),0,e)}n.prev&&(n.prev.next=e),e.parent=t,e.prev=n.prev,e.next=n,n.prev=e}function Mm(n,e,t=!0,r=1/0){return k7(n,Array.isArray(e)?e:[e],t,r)}function k7(n,e,t,r){let i=[],s=[Array.isArray(e)?e:[e]],o=[0];for(;;){if(o[0]>=s[0].length){if(o.length===1)return i;s.shift(),o.shift();continue}let a=s[0][o[0]++];if(n(a)&&(i.push(a),--r<=0))return i;t&&Ps(a)&&a.children.length>0&&(o.unshift(0),s.unshift(a.children))}}function qoe(n,e){return e.find(n)}function ZD(n,e,t=!0){let r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){let s=r[i];if(Ci(s)&&n(s))return s;if(t&&Ps(s)&&s.children.length>0){let o=ZD(n,s.children,!0);if(o)return o}}return null}function M7(n,e){return(Array.isArray(e)?e:[e]).some(t=>Ci(t)&&n(t)||Ps(t)&&M7(n,t.children))}function joe(n,e){let t=[],r=[Array.isArray(e)?e:[e]],i=[0];for(;;){if(i[0]>=r[0].length){if(r.length===1)return t;r.shift(),i.shift();continue}let s=r[0][i[0]++];Ci(s)&&n(s)&&t.push(s),Ps(s)&&s.children.length>0&&(i.unshift(0),r.unshift(s.children))}}var Gb={tag_name(n){return typeof n=="function"?e=>Ci(e)&&n(e.name):n==="*"?Ci:e=>Ci(e)&&e.name===n},tag_type(n){return typeof n=="function"?e=>n(e.type):e=>e.type===n},tag_contains(n){return typeof n=="function"?e=>Tl(e)&&n(e.data):e=>Tl(e)&&e.data===n}};function XD(n,e){return typeof e=="function"?t=>Ci(t)&&e(t.attribs[n]):t=>Ci(t)&&t.attribs[n]===e}function Hoe(n,e){return t=>n(t)||e(t)}function O7(n){let e=Object.keys(n).map(t=>{let r=n[t];return Object.prototype.hasOwnProperty.call(Gb,t)?Gb[t](r):XD(t,r)});return e.length===0?null:e.reduce(Hoe)}function $oe(n,e){let t=O7(n);return t?t(e):!0}function zoe(n,e,t,r=1/0){let i=O7(n);return i?Mm(i,e,t,r):[]}function Goe(n,e,t=!0){return Array.isArray(e)||(e=[e]),ZD(XD("id",n),e,t)}function bf(n,e,t=!0,r=1/0){return Mm(Gb.tag_name(n),e,t,r)}function Woe(n,e,t=!0,r=1/0){return Mm(XD("class",n),e,t,r)}function Koe(n,e,t=!0,r=1/0){return Mm(Gb.tag_type(n),e,t,r)}function Qoe(n){let e=n.length;for(;--e>=0;){let t=n[e];if(e>0&&n.lastIndexOf(t,e-1)>=0){n.splice(e,1);continue}for(let r=t.parent;r;r=r.parent)if(n.includes(r)){n.splice(e,1);break}}return n}var Ms=function(n){return n[n.DISCONNECTED=1]="DISCONNECTED",n[n.PRECEDING=2]="PRECEDING",n[n.FOLLOWING=4]="FOLLOWING",n[n.CONTAINS=8]="CONTAINS",n[n.CONTAINED_BY=16]="CONTAINED_BY",n}(Ms||{});function P7(n,e){let t=[],r=[];if(n===e)return 0;let i=Ps(n)?n:n.parent;for(;i;)t.unshift(i),i=i.parent;for(i=Ps(e)?e:e.parent;i;)r.unshift(i),i=i.parent;let s=Math.min(t.length,r.length),o=0;for(;o<s&&t[o]===r[o];)o++;if(o===0)return Ms.DISCONNECTED;let a=t[o-1],u=a.children,c=t[o],l=r[o];return u.indexOf(c)>u.indexOf(l)?a===e?Ms.FOLLOWING|Ms.CONTAINED_BY:Ms.FOLLOWING:a===n?Ms.PRECEDING|Ms.CONTAINS:Ms.PRECEDING}function Yoe(n){return n=n.filter((e,t,r)=>!r.includes(e,t+1)),n.sort((e,t)=>{let r=P7(e,t);return r&Ms.PRECEDING?-1:r&Ms.FOLLOWING?1:0}),n}function Zoe(n){let e=Wb(nae,n);return e?e.name==="feed"?Xoe(e):Joe(e):null}function Xoe(n){var e;let t=n.children,r={type:"atom",items:bf("entry",t).map(o=>{var a;let{children:u}=o,c={media:L7(u)};li(c,"id","id",u),li(c,"title","title",u);let l=(a=Wb("link",u))===null||a===void 0?void 0:a.attribs.href;l&&(c.link=l);let d=Du("summary",u)||Du("content",u);d&&(c.description=d);let f=Du("updated",u);return f&&(c.pubDate=new Date(f)),c})};li(r,"id","id",t),li(r,"title","title",t);let i=(e=Wb("link",t))===null||e===void 0?void 0:e.attribs.href;i&&(r.link=i),li(r,"description","subtitle",t);let s=Du("updated",t);return s&&(r.updated=new Date(s)),li(r,"author","email",t,!0),r}function Joe(n){var e,t;let r=(t=(e=Wb("channel",n.children))===null||e===void 0?void 0:e.children)!==null&&t!==void 0?t:[],i={type:n.name.substr(0,3),id:"",items:bf("item",n.children).map(o=>{let{children:a}=o,u={media:L7(a)};li(u,"id","guid",a),li(u,"title","title",a),li(u,"link","link",a),li(u,"description","description",a);let c=Du("pubDate",a)||Du("dc:date",a);return c&&(u.pubDate=new Date(c)),u})};li(i,"title","title",r),li(i,"link","link",r),li(i,"description","description",r);let s=Du("lastBuildDate",r);return s&&(i.updated=new Date(s)),li(i,"author","managingEditor",r,!0),i}var eae=["url","type","lang"],tae=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function L7(n){return bf("media:content",n).map(e=>{let{attribs:t}=e,r={medium:t.medium,isDefault:!!t.isDefault};for(let i of eae)t[i]&&(r[i]=t[i]);for(let i of tae)t[i]&&(r[i]=parseInt(t[i],10));return t.expression&&(r.expression=t.expression),r})}function Wb(n,e){return bf(n,e,!0,1)[0]}function Du(n,e,t=!1){return zb(bf(n,e,t,1)).trim()}function li(n,e,t,r,i=!1){let s=Du(t,r,i);s&&(n[e]=s)}function nae(n){return n==="rss"||n==="feed"||n==="rdf:RDF"}var F7=Object.freeze({__proto__:null,get DocumentPosition(){return Ms},append:Boe,appendChild:ND,compareDocumentPosition:P7,existsOne:M7,filter:Mm,find:k7,findAll:joe,findOne:ZD,findOneChild:qoe,getAttributeValue:Moe,getChildren:A7,getElementById:Goe,getElements:zoe,getElementsByClassName:Woe,getElementsByTagName:bf,getElementsByTagType:Koe,getFeed:Zoe,getInnerHTML:Roe,getName:Poe,getOuterHTML:x7,getParent:N7,getSiblings:koe,getText:Dm,hasAttrib:Ooe,hasChildren:Ps,innerText:AD,isCDATA:n1,isComment:YD,isDocument:T7,isTag:Ci,isText:Tl,nextElementSibling:Loe,prepend:R7,prependChild:Voe,prevElementSibling:Foe,removeElement:Cl,removeSubsets:Qoe,replaceElement:Uoe,testElement:$oe,textContent:zb,uniqueSort:Yoe}),_D,q9;function rae(){return q9||(q9=1,_D={trueFunc:function(){return!0},falseFunc:function(){return!1}}),_D}var iae=rae(),lt=Yb(iae),Ge=function(n){return n.Attribute="attribute",n.Pseudo="pseudo",n.PseudoElement="pseudo-element",n.Tag="tag",n.Universal="universal",n.Adjacent="adjacent",n.Child="child",n.Descendant="descendant",n.Parent="parent",n.Sibling="sibling",n.ColumnCombinator="column-combinator",n}(Ge||{}),ar=function(n){return n.Any="any",n.Element="element",n.End="end",n.Equals="equals",n.Exists="exists",n.Hyphen="hyphen",n.Not="not",n.Start="start",n}(ar||{}),j9=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,sae=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,oae=new Map([[126,ar.Element],[94,ar.Start],[36,ar.End],[42,ar.Any],[33,ar.Not],[124,ar.Hyphen]]),aae=new Set(["has","not","matches","is","where","host","host-context"]);function uae(n){switch(n.type){case Ge.Adjacent:case Ge.Child:case Ge.Descendant:case Ge.Parent:case Ge.Sibling:case Ge.ColumnCombinator:return!0;default:return!1}}var cae=new Set(["contains","icontains"]);function lae(n,e,t){let r=parseInt(e,16)-65536;return r!==r||t?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function Cm(n){return n.replace(sae,lae)}function ED(n){return n===39||n===34}function H9(n){return n===32||n===9||n===10||n===12||n===13}function JD(n){let e=[],t=U7(e,`${n}`,0);if(t<n.length)throw new Error(`Unmatched selector: ${n.slice(t)}`);return e}function U7(n,e,t){let r=[];function i(f){let h=e.slice(t+f).match(j9);if(!h)throw new Error(`Expected name, found ${e.slice(t)}`);let[p]=h;return t+=f+p.length,Cm(p)}function s(f){for(t+=f;t<e.length&&H9(e.charCodeAt(t));)t++}function o(){t+=1;let f=t,h=1;for(;h>0&&t<e.length;t++)e.charCodeAt(t)===40&&!a(t)?h++:e.charCodeAt(t)===41&&!a(t)&&h--;if(h)throw new Error("Parenthesis not matched");return Cm(e.slice(f,t-1))}function a(f){let h=0;for(;e.charCodeAt(--f)===92;)h++;return(h&1)===1}function u(){if(r.length>0&&uae(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function c(f){if(r.length>0&&r[r.length-1].type===Ge.Descendant){r[r.length-1].type=f;return}u(),r.push({type:f})}function l(f,h){r.push({type:Ge.Attribute,name:f,action:h,value:i(1),namespace:null,ignoreCase:"quirks"})}function d(){if(r.length&&r[r.length-1].type===Ge.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");n.push(r)}if(s(0),e.length===t)return t;e:for(;t<e.length;){let f=e.charCodeAt(t);switch(f){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==Ge.Descendant)&&(u(),r.push({type:Ge.Descendant})),s(1);break}case 62:{c(Ge.Child),s(1);break}case 60:{c(Ge.Parent),s(1);break}case 126:{c(Ge.Sibling),s(1);break}case 43:{c(Ge.Adjacent),s(1);break}case 46:{l("class",ar.Element);break}case 35:{l("id",ar.Equals);break}case 91:{s(1);let h,p=null;e.charCodeAt(t)===124?h=i(1):e.startsWith("*|",t)?(p="*",h=i(2)):(h=i(0),e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==61&&(p=h,h=i(1))),s(0);let v=ar.Exists,T=oae.get(e.charCodeAt(t));if(T){if(v=T,e.charCodeAt(t+1)!==61)throw new Error("Expected `=`");s(2)}else e.charCodeAt(t)===61&&(v=ar.Equals,s(1));let w="",C=null;if(v!=="exists"){if(ED(e.charCodeAt(t))){let x=e.charCodeAt(t),V=t+1;for(;V<e.length&&(e.charCodeAt(V)!==x||a(V));)V+=1;if(e.charCodeAt(V)!==x)throw new Error("Attribute value didn't end");w=Cm(e.slice(t+1,V)),t=V+1}else{let x=t;for(;t<e.length&&(!H9(e.charCodeAt(t))&&e.charCodeAt(t)!==93||a(t));)t+=1;w=Cm(e.slice(x,t))}s(0);let S=e.charCodeAt(t)|32;S===115?(C=!1,s(1)):S===105&&(C=!0,s(1))}if(e.charCodeAt(t)!==93)throw new Error("Attribute selector didn't terminate");t+=1;let D={type:Ge.Attribute,name:h,action:v,value:w,namespace:p,ignoreCase:C};r.push(D);break}case 58:{if(e.charCodeAt(t+1)===58){r.push({type:Ge.PseudoElement,name:i(2).toLowerCase(),data:e.charCodeAt(t)===40?o():null});continue}let h=i(1).toLowerCase(),p=null;if(e.charCodeAt(t)===40)if(aae.has(h)){if(ED(e.charCodeAt(t+1)))throw new Error(`Pseudo-selector ${h} cannot be quoted`);if(p=[],t=U7(p,e,t+1),e.charCodeAt(t)!==41)throw new Error(`Missing closing parenthesis in :${h} (${e})`);t+=1}else{if(p=o(),cae.has(h)){let v=p.charCodeAt(0);v===p.charCodeAt(p.length-1)&&ED(v)&&(p=p.slice(1,-1))}p=Cm(p)}r.push({type:Ge.Pseudo,name:h,data:p});break}case 44:{d(),r=[],s(1);break}default:{if(e.startsWith("/*",t)){let v=e.indexOf("*/",t+2);if(v<0)throw new Error("Comment was not terminated");t=v+2,r.length===0&&s(0);break}let h=null,p;if(f===42)t+=1,p="*";else if(f===124){if(p="",e.charCodeAt(t+1)===124){c(Ge.ColumnCombinator),s(2);break}}else if(j9.test(e.slice(t)))p=i(0);else break e;e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==124&&(h=p,e.charCodeAt(t+1)===42?(p="*",t+=2):p=i(1)),r.push(p==="*"?{type:Ge.Universal,namespace:h}:{type:Ge.Tag,name:p,namespace:h})}}}return d(),t}var dae=["\\",'"'],C8e=[...dae,"(",")"],B7=new Map([[Ge.Universal,50],[Ge.Tag,30],[Ge.Attribute,1],[Ge.Pseudo,0]]);function ex(n){return!B7.has(n.type)}var fae=new Map([[ar.Exists,10],[ar.Equals,8],[ar.Not,7],[ar.Start,6],[ar.End,6],[ar.Any,5]]);function hae(n){let e=n.map(V7);for(let t=1;t<n.length;t++){let r=e[t];if(!(r<0))for(let i=t-1;i>=0&&r<e[i];i--){let s=n[i+1];n[i+1]=n[i],n[i]=s,e[i+1]=e[i],e[i]=r}}}function V7(n){var e,t;let r=(e=B7.get(n.type))!==null&&e!==void 0?e:-1;return n.type===Ge.Attribute?(r=(t=fae.get(n.action))!==null&&t!==void 0?t:4,n.action===ar.Equals&&n.name==="id"&&(r=9),n.ignoreCase&&(r>>=1)):n.type===Ge.Pseudo&&(n.data?n.name==="has"||n.name==="contains"?r=0:Array.isArray(n.data)?(r=Math.min(...n.data.map(i=>Math.min(...i.map(V7)))),r<0&&(r=0)):r=2:r=3),r}var pae=/[-[\]{}()*+?.,\\^$|#\s]/g;function $9(n){return n.replace(pae,"\\$&")}var mae=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function _l(n,e){return typeof n.ignoreCase=="boolean"?n.ignoreCase:n.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&mae.has(n.name)}var gae={equals(n,e,t){let{adapter:r}=t,{name:i}=e,{value:s}=e;return _l(e,t)?(s=s.toLowerCase(),o=>{let a=r.getAttributeValue(o,i);return a!=null&&a.length===s.length&&a.toLowerCase()===s&&n(o)}):o=>r.getAttributeValue(o,i)===s&&n(o)},hyphen(n,e,t){let{adapter:r}=t,{name:i}=e,{value:s}=e,o=s.length;return _l(e,t)?(s=s.toLowerCase(),function(u){let c=r.getAttributeValue(u,i);return c!=null&&(c.length===o||c.charAt(o)==="-")&&c.substr(0,o).toLowerCase()===s&&n(u)}):function(u){let c=r.getAttributeValue(u,i);return c!=null&&(c.length===o||c.charAt(o)==="-")&&c.substr(0,o)===s&&n(u)}},element(n,e,t){let{adapter:r}=t,{name:i,value:s}=e;if(/\s/.test(s))return lt.falseFunc;let o=new RegExp(`(?:^|\\s)${$9(s)}(?:$|\\s)`,_l(e,t)?"i":"");return function(u){let c=r.getAttributeValue(u,i);return c!=null&&c.length>=s.length&&o.test(c)&&n(u)}},exists(n,{name:e},{adapter:t}){return r=>t.hasAttrib(r,e)&&n(r)},start(n,e,t){let{adapter:r}=t,{name:i}=e,{value:s}=e,o=s.length;return o===0?lt.falseFunc:_l(e,t)?(s=s.toLowerCase(),a=>{let u=r.getAttributeValue(a,i);return u!=null&&u.length>=o&&u.substr(0,o).toLowerCase()===s&&n(a)}):a=>{var u;return!!(!((u=r.getAttributeValue(a,i))===null||u===void 0)&&u.startsWith(s))&&n(a)}},end(n,e,t){let{adapter:r}=t,{name:i}=e,{value:s}=e,o=-s.length;return o===0?lt.falseFunc:_l(e,t)?(s=s.toLowerCase(),a=>{var u;return((u=r.getAttributeValue(a,i))===null||u===void 0?void 0:u.substr(o).toLowerCase())===s&&n(a)}):a=>{var u;return!!(!((u=r.getAttributeValue(a,i))===null||u===void 0)&&u.endsWith(s))&&n(a)}},any(n,e,t){let{adapter:r}=t,{name:i,value:s}=e;if(s==="")return lt.falseFunc;if(_l(e,t)){let o=new RegExp($9(s),"i");return function(u){let c=r.getAttributeValue(u,i);return c!=null&&c.length>=s.length&&o.test(c)&&n(u)}}return o=>{var a;return!!(!((a=r.getAttributeValue(o,i))===null||a===void 0)&&a.includes(s))&&n(o)}},not(n,e,t){let{adapter:r}=t,{name:i}=e,{value:s}=e;return s===""?o=>!!r.getAttributeValue(o,i)&&n(o):_l(e,t)?(s=s.toLowerCase(),o=>{let a=r.getAttributeValue(o,i);return(a==null||a.length!==s.length||a.toLowerCase()!==s)&&n(o)}):o=>r.getAttributeValue(o,i)!==s&&n(o)}},yae=new Set([9,10,12,13,32]),z9=48,vae=57;function bae(n){if(n=n.trim().toLowerCase(),n==="even")return[2,0];if(n==="odd")return[2,1];let e=0,t=0,r=s(),i=o();if(e<n.length&&n.charAt(e)==="n"&&(e++,t=r*(i??1),a(),e<n.length?(r=s(),a(),i=o()):r=i=0),i===null||e<n.length)throw new Error(`n-th rule couldn't be parsed ('${n}')`);return[t,r*i];function s(){return n.charAt(e)==="-"?(e++,-1):(n.charAt(e)==="+"&&e++,1)}function o(){let u=e,c=0;for(;e<n.length&&n.charCodeAt(e)>=z9&&n.charCodeAt(e)<=vae;)c=c*10+(n.charCodeAt(e)-z9),e++;return e===u?null:c}function a(){for(;e<n.length&&yae.has(n.charCodeAt(e));)e++}}function _ae(n){let e=n[0],t=n[1]-1;if(t<0&&e<=0)return lt.falseFunc;if(e===-1)return s=>s<=t;if(e===0)return s=>s===t;if(e===1)return t<0?lt.trueFunc:s=>s>=t;let r=Math.abs(e),i=(t%r+r)%r;return e>1?s=>s>=t&&s%r===i:s=>s<=t&&s%r===i}function Ub(n){return _ae(bae(n))}function Bb(n,e){return t=>{let r=e.getParent(t);return r!=null&&e.isTag(r)&&n(t)}}var RD={contains(n,e,{adapter:t}){return function(i){return n(i)&&t.getText(i).includes(e)}},icontains(n,e,{adapter:t}){let r=e.toLowerCase();return function(s){return n(s)&&t.getText(s).toLowerCase().includes(r)}},"nth-child"(n,e,{adapter:t,equals:r}){let i=Ub(e);return i===lt.falseFunc?lt.falseFunc:i===lt.trueFunc?Bb(n,t):function(o){let a=t.getSiblings(o),u=0;for(let c=0;c<a.length&&!r(o,a[c]);c++)t.isTag(a[c])&&u++;return i(u)&&n(o)}},"nth-last-child"(n,e,{adapter:t,equals:r}){let i=Ub(e);return i===lt.falseFunc?lt.falseFunc:i===lt.trueFunc?Bb(n,t):function(o){let a=t.getSiblings(o),u=0;for(let c=a.length-1;c>=0&&!r(o,a[c]);c--)t.isTag(a[c])&&u++;return i(u)&&n(o)}},"nth-of-type"(n,e,{adapter:t,equals:r}){let i=Ub(e);return i===lt.falseFunc?lt.falseFunc:i===lt.trueFunc?Bb(n,t):function(o){let a=t.getSiblings(o),u=0;for(let c=0;c<a.length;c++){let l=a[c];if(r(o,l))break;t.isTag(l)&&t.getName(l)===t.getName(o)&&u++}return i(u)&&n(o)}},"nth-last-of-type"(n,e,{adapter:t,equals:r}){let i=Ub(e);return i===lt.falseFunc?lt.falseFunc:i===lt.trueFunc?Bb(n,t):function(o){let a=t.getSiblings(o),u=0;for(let c=a.length-1;c>=0;c--){let l=a[c];if(r(o,l))break;t.isTag(l)&&t.getName(l)===t.getName(o)&&u++}return i(u)&&n(o)}},root(n,e,{adapter:t}){return r=>{let i=t.getParent(r);return(i==null||!t.isTag(i))&&n(r)}},scope(n,e,t,r){let{equals:i}=t;return!r||r.length===0?RD.root(n,e,t):r.length===1?s=>i(r[0],s)&&n(s):s=>r.includes(s)&&n(s)},hover:wD("isHovered"),visited:wD("isVisited"),active:wD("isActive")};function wD(n){return function(t,r,{adapter:i}){let s=i[n];return typeof s!="function"?lt.falseFunc:function(a){return s(a)&&t(a)}}}var G9={empty(n,{adapter:e}){return!e.getChildren(n).some(t=>e.isTag(t)||e.getText(t)!=="")},"first-child"(n,{adapter:e,equals:t}){if(e.prevElementSibling)return e.prevElementSibling(n)==null;let r=e.getSiblings(n).find(i=>e.isTag(i));return r!=null&&t(n,r)},"last-child"(n,{adapter:e,equals:t}){let r=e.getSiblings(n);for(let i=r.length-1;i>=0;i--){if(t(n,r[i]))return!0;if(e.isTag(r[i]))break}return!1},"first-of-type"(n,{adapter:e,equals:t}){let r=e.getSiblings(n),i=e.getName(n);for(let s=0;s<r.length;s++){let o=r[s];if(t(n,o))return!0;if(e.isTag(o)&&e.getName(o)===i)break}return!1},"last-of-type"(n,{adapter:e,equals:t}){let r=e.getSiblings(n),i=e.getName(n);for(let s=r.length-1;s>=0;s--){let o=r[s];if(t(n,o))return!0;if(e.isTag(o)&&e.getName(o)===i)break}return!1},"only-of-type"(n,{adapter:e,equals:t}){let r=e.getName(n);return e.getSiblings(n).every(i=>t(n,i)||!e.isTag(i)||e.getName(i)!==r)},"only-child"(n,{adapter:e,equals:t}){return e.getSiblings(n).every(r=>t(n,r)||!e.isTag(r))}};function W9(n,e,t,r){if(t===null){if(n.length>r)throw new Error(`Pseudo-class :${e} requires an argument`)}else if(n.length===r)throw new Error(`Pseudo-class :${e} doesn't have any arguments`)}var Eae={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},q7={};function wae(n,e){return n===lt.falseFunc?lt.falseFunc:t=>e.isTag(t)&&n(t)}function j7(n,e){let t=e.getSiblings(n);if(t.length<=1)return[];let r=t.indexOf(n);return r<0||r===t.length-1?[]:t.slice(r+1).filter(e.isTag)}function kD(n){return{xmlMode:!!n.xmlMode,lowerCaseAttributeNames:!!n.lowerCaseAttributeNames,lowerCaseTags:!!n.lowerCaseTags,quirksMode:!!n.quirksMode,cacheResults:!!n.cacheResults,pseudos:n.pseudos,adapter:n.adapter,equals:n.equals}}var SD=(n,e,t,r,i)=>{let s=i(e,kD(t),r);return s===lt.trueFunc?n:s===lt.falseFunc?lt.falseFunc:o=>s(o)&&n(o)},TD={is:SD,matches:SD,where:SD,not(n,e,t,r,i){let s=i(e,kD(t),r);return s===lt.falseFunc?n:s===lt.trueFunc?lt.falseFunc:o=>!s(o)&&n(o)},has(n,e,t,r,i){let{adapter:s}=t,o=kD(t);o.relativeSelector=!0;let a=e.some(l=>l.some(ex))?[q7]:void 0,u=i(e,o,a);if(u===lt.falseFunc)return lt.falseFunc;let c=wae(u,s);if(a&&u!==lt.trueFunc){let{shouldTestNextSiblings:l=!1}=u;return d=>{if(!n(d))return!1;a[0]=d;let f=s.getChildren(d),h=l?[...f,...j7(d,s)]:f;return s.existsOne(c,h)}}return l=>n(l)&&s.existsOne(c,s.getChildren(l))}};function Sae(n,e,t,r,i){var s;let{name:o,data:a}=e;if(Array.isArray(a)){if(!(o in TD))throw new Error(`Unknown pseudo-class :${o}(${a})`);return TD[o](n,a,t,r,i)}let u=(s=t.pseudos)===null||s===void 0?void 0:s[o],c=typeof u=="string"?u:Eae[o];if(typeof c=="string"){if(a!=null)throw new Error(`Pseudo ${o} doesn't have any arguments`);let l=JD(c);return TD.is(n,l,t,r,i)}if(typeof u=="function")return W9(u,o,a,1),l=>u(l,a)&&n(l);if(o in RD)return RD[o](n,a,t,r);if(o in G9){let l=G9[o];return W9(l,o,a,2),d=>l(d,t,a)&&n(d)}throw new Error(`Unknown pseudo-class :${o}`)}function CD(n,e){let t=e.getParent(n);return t&&e.isTag(t)?t:null}function Tae(n,e,t,r,i){let{adapter:s,equals:o}=t;switch(e.type){case Ge.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Ge.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Ge.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!t.xmlMode||t.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),gae[e.action](n,e,t)}case Ge.Pseudo:return Sae(n,e,t,r,i);case Ge.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:a}=e;return(!t.xmlMode||t.lowerCaseTags)&&(a=a.toLowerCase()),function(c){return s.getName(c)===a&&n(c)}}case Ge.Descendant:{if(t.cacheResults===!1||typeof WeakSet>"u")return function(c){let l=c;for(;l=CD(l,s);)if(n(l))return!0;return!1};let a=new WeakSet;return function(c){let l=c;for(;l=CD(l,s);)if(!a.has(l)){if(s.isTag(l)&&n(l))return!0;a.add(l)}return!1}}case"_flexibleDescendant":return function(u){let c=u;do if(n(c))return!0;while(c=CD(c,s));return!1};case Ge.Parent:return function(u){return s.getChildren(u).some(c=>s.isTag(c)&&n(c))};case Ge.Child:return function(u){let c=s.getParent(u);return c!=null&&s.isTag(c)&&n(c)};case Ge.Sibling:return function(u){let c=s.getSiblings(u);for(let l=0;l<c.length;l++){let d=c[l];if(o(u,d))break;if(s.isTag(d)&&n(d))return!0}return!1};case Ge.Adjacent:return s.prevElementSibling?function(u){let c=s.prevElementSibling(u);return c!=null&&n(c)}:function(u){let c=s.getSiblings(u),l;for(let d=0;d<c.length;d++){let f=c[d];if(o(u,f))break;s.isTag(f)&&(l=f)}return!!l&&n(l)};case Ge.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return n}}}function Cae(n,e,t){let r=typeof n=="string"?JD(n):n;return $7(r,e,t)}function H7(n){return n.type===Ge.Pseudo&&(n.name==="scope"||Array.isArray(n.data)&&n.data.some(e=>e.some(H7)))}var Iae={type:Ge.Descendant},Dae={type:"_flexibleDescendant"},xae={type:Ge.Pseudo,name:"scope",data:null};function Aae(n,{adapter:e},t){let r=!!t?.every(i=>{let s=e.isTag(i)&&e.getParent(i);return i===q7||s&&e.isTag(s)});for(let i of n){if(!(i.length>0&&ex(i[0])&&i[0].type!==Ge.Descendant))if(r&&!i.some(H7))i.unshift(Iae);else continue;i.unshift(xae)}}function $7(n,e,t){var r;n.forEach(hae),t=(r=e.context)!==null&&r!==void 0?r:t;let i=Array.isArray(t),s=t&&(Array.isArray(t)?t:[t]);if(e.relativeSelector!==!1)Aae(n,e,s);else if(n.some(u=>u.length>0&&ex(u[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let o=!1,a=n.map(u=>{if(u.length>=2){let[c,l]=u;c.type!==Ge.Pseudo||c.name!=="scope"||(i&&l.type===Ge.Descendant?u[1]=Dae:(l.type===Ge.Adjacent||l.type===Ge.Sibling)&&(o=!0))}return Nae(u,e,s)}).reduce(Rae,lt.falseFunc);return a.shouldTestNextSiblings=o,a}function Nae(n,e,t){var r;return n.reduce((i,s)=>i===lt.falseFunc?lt.falseFunc:Tae(i,s,e,t,$7),(r=e.rootFunc)!==null&&r!==void 0?r:lt.trueFunc)}function Rae(n,e){return e===lt.falseFunc||n===lt.trueFunc?n:n===lt.falseFunc||e===lt.trueFunc?e:function(r){return n(r)||e(r)}}var z7=(n,e)=>n===e,kae={adapter:F7,equals:z7};function Mae(n){var e,t,r,i;let s=n??kae;return(e=s.adapter)!==null&&e!==void 0||(s.adapter=F7),(t=s.equals)!==null&&t!==void 0||(s.equals=(i=(r=s.adapter)===null||r===void 0?void 0:r.equals)!==null&&i!==void 0?i:z7),s}function G7(n){return function(t,r,i){let s=Mae(i);typeof t!="function"&&(t=Cae(t,s,r));let o=Oae(r,s.adapter,t.shouldTestNextSiblings);return n(t,o,s)}}function Oae(n,e,t=!1){return t&&(n=Pae(n,e)),Array.isArray(n)?e.removeSubsets(n):e.getChildren(n)}function Pae(n,e){let t=Array.isArray(n)?n.slice(0):[n],r=t.length;for(let i=0;i<r;i++){let s=j7(t[i],e);t.push(...s)}return t}var W7=G7((n,e,t)=>n===lt.falseFunc||!e||e.length===0?[]:t.adapter.findAll(n,e)),tx=G7((n,e,t)=>n===lt.falseFunc||!e||e.length===0?null:t.adapter.findOne(n,e)),Lae=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(n=>n.charCodeAt(0))),Fae=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(n=>n.charCodeAt(0))),ID,Uae=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),K9=(ID=String.fromCodePoint)!==null&&ID!==void 0?ID:function(n){let e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function Bae(n){var e;return n>=55296&&n<=57343||n>1114111?65533:(e=Uae.get(n))!==null&&e!==void 0?e:n}var wr=function(n){return n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z",n}(wr||{}),Vae=32,El=function(n){return n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE",n}(El||{});function MD(n){return n>=wr.ZERO&&n<=wr.NINE}function qae(n){return n>=wr.UPPER_A&&n<=wr.UPPER_F||n>=wr.LOWER_A&&n<=wr.LOWER_F}function jae(n){return n>=wr.UPPER_A&&n<=wr.UPPER_Z||n>=wr.LOWER_A&&n<=wr.LOWER_Z||MD(n)}function Hae(n){return n===wr.EQUALS||jae(n)}var Er=function(n){return n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity",n}(Er||{}),ga=function(n){return n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute",n}(ga||{}),OD=class{constructor(e,t,r){this.decodeTree=e,this.emitCodePoint=t,this.errors=r,this.state=Er.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ga.Strict}startEntity(e){this.decodeMode=e,this.state=Er.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Er.EntityStart:return e.charCodeAt(t)===wr.NUM?(this.state=Er.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Er.NamedEntity,this.stateNamedEntity(e,t));case Er.NumericStart:return this.stateNumericStart(e,t);case Er.NumericDecimal:return this.stateNumericDecimal(e,t);case Er.NumericHex:return this.stateNumericHex(e,t);case Er.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|Vae)===wr.LOWER_X?(this.state=Er.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Er.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,r,i){if(t!==r){let s=r-t;this.result=this.result*Math.pow(i,s)+Number.parseInt(e.substr(t,s),i),this.consumed+=s}}stateNumericHex(e,t){let r=t;for(;t<e.length;){let i=e.charCodeAt(t);if(MD(i)||qae(i))t+=1;else return this.addToNumericResult(e,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,t,16),-1}stateNumericDecimal(e,t){let r=t;for(;t<e.length;){let i=e.charCodeAt(t);if(MD(i))t+=1;else return this.addToNumericResult(e,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,t,10),-1}emitNumericEntity(e,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===wr.SEMI)this.consumed+=1;else if(this.decodeMode===ga.Strict)return 0;return this.emitCodePoint(Bae(this.result),this.consumed),this.errors&&(e!==wr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){let{decodeTree:r}=this,i=r[this.treeIndex],s=(i&El.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){let o=e.charCodeAt(t);if(this.treeIndex=$ae(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===ga.Attribute&&(s===0||Hae(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&El.VALUE_LENGTH)>>14,s!==0){if(o===wr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==ga.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;let{result:t,decodeTree:r}=this,i=(r[t]&El.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,r){let{decodeTree:i}=this;return this.emitCodePoint(t===1?i[e]&~El.VALUE_LENGTH:i[e+1],r),t===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case Er.NamedEntity:return this.result!==0&&(this.decodeMode!==ga.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Er.NumericDecimal:return this.emitNumericEntity(0,2);case Er.NumericHex:return this.emitNumericEntity(0,3);case Er.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Er.EntityStart:return 0}}};function $ae(n,e,t,r){let i=(e&El.BRANCH_LENGTH)>>7,s=e&El.JUMP_TABLE;if(i===0)return s!==0&&r===s?t:-1;if(s){let u=r-s;return u<0||u>=i?-1:n[t+u]-1}let o=t,a=o+i-1;for(;o<=a;){let u=o+a>>>1,c=n[u];if(c<r)o=u+1;else if(c>r)a=u-1;else return n[u+i]}return-1}var $e=function(n){return n[n.Tab=9]="Tab",n[n.NewLine=10]="NewLine",n[n.FormFeed=12]="FormFeed",n[n.CarriageReturn=13]="CarriageReturn",n[n.Space=32]="Space",n[n.ExclamationMark=33]="ExclamationMark",n[n.Number=35]="Number",n[n.Amp=38]="Amp",n[n.SingleQuote=39]="SingleQuote",n[n.DoubleQuote=34]="DoubleQuote",n[n.Dash=45]="Dash",n[n.Slash=47]="Slash",n[n.Zero=48]="Zero",n[n.Nine=57]="Nine",n[n.Semi=59]="Semi",n[n.Lt=60]="Lt",n[n.Eq=61]="Eq",n[n.Gt=62]="Gt",n[n.Questionmark=63]="Questionmark",n[n.UpperA=65]="UpperA",n[n.LowerA=97]="LowerA",n[n.UpperF=70]="UpperF",n[n.LowerF=102]="LowerF",n[n.UpperZ=90]="UpperZ",n[n.LowerZ=122]="LowerZ",n[n.LowerX=120]="LowerX",n[n.OpeningSquareBracket=91]="OpeningSquareBracket",n}($e||{}),ae=function(n){return n[n.Text=1]="Text",n[n.BeforeTagName=2]="BeforeTagName",n[n.InTagName=3]="InTagName",n[n.InSelfClosingTag=4]="InSelfClosingTag",n[n.BeforeClosingTagName=5]="BeforeClosingTagName",n[n.InClosingTagName=6]="InClosingTagName",n[n.AfterClosingTagName=7]="AfterClosingTagName",n[n.BeforeAttributeName=8]="BeforeAttributeName",n[n.InAttributeName=9]="InAttributeName",n[n.AfterAttributeName=10]="AfterAttributeName",n[n.BeforeAttributeValue=11]="BeforeAttributeValue",n[n.InAttributeValueDq=12]="InAttributeValueDq",n[n.InAttributeValueSq=13]="InAttributeValueSq",n[n.InAttributeValueNq=14]="InAttributeValueNq",n[n.BeforeDeclaration=15]="BeforeDeclaration",n[n.InDeclaration=16]="InDeclaration",n[n.InProcessingInstruction=17]="InProcessingInstruction",n[n.BeforeComment=18]="BeforeComment",n[n.CDATASequence=19]="CDATASequence",n[n.InSpecialComment=20]="InSpecialComment",n[n.InCommentLike=21]="InCommentLike",n[n.BeforeSpecialS=22]="BeforeSpecialS",n[n.BeforeSpecialT=23]="BeforeSpecialT",n[n.SpecialStartSequence=24]="SpecialStartSequence",n[n.InSpecialTag=25]="InSpecialTag",n[n.InEntity=26]="InEntity",n}(ae||{});function ma(n){return n===$e.Space||n===$e.NewLine||n===$e.Tab||n===$e.FormFeed||n===$e.CarriageReturn}function Vb(n){return n===$e.Slash||n===$e.Gt||ma(n)}function zae(n){return n>=$e.LowerA&&n<=$e.LowerZ||n>=$e.UpperA&&n<=$e.UpperZ}var ya=function(n){return n[n.NoValue=0]="NoValue",n[n.Unquoted=1]="Unquoted",n[n.Single=2]="Single",n[n.Double=3]="Double",n}(ya||{}),Yn={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])},PD=class{constructor({xmlMode:e=!1,decodeEntities:t=!0},r){this.cbs=r,this.state=ae.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=ae.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=e,this.decodeEntities=t,this.entityDecoder=new OD(e?Fae:Lae,(i,s)=>this.emitCodePoint(i,s))}reset(){this.state=ae.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=ae.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(e){e===$e.Lt||!this.decodeEntities&&this.fastForwardTo($e.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=ae.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===$e.Amp&&this.startEntity()}stateSpecialStartSequence(e){let t=this.sequenceIndex===this.currentSequence.length;if(!(t?Vb(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=ae.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===$e.Gt||ma(e)){let t=this.index-this.currentSequence.length;if(this.sectionStart<t){let r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Yn.TitleEnd?this.decodeEntities&&e===$e.Amp&&this.startEntity():this.fastForwardTo($e.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===$e.Lt)}stateCDATASequence(e){e===Yn.Cdata[this.sequenceIndex]?++this.sequenceIndex===Yn.Cdata.length&&(this.state=ae.InCommentLike,this.currentSequence=Yn.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=ae.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Yn.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=ae.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!Vb(e):zae(e)}startSpecial(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=ae.SpecialStartSequence}stateBeforeTagName(e){if(e===$e.ExclamationMark)this.state=ae.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===$e.Questionmark)this.state=ae.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){let t=e|32;this.sectionStart=this.index,this.xmlMode?this.state=ae.InTagName:t===Yn.ScriptEnd[2]?this.state=ae.BeforeSpecialS:t===Yn.TitleEnd[2]||t===Yn.XmpEnd[2]?this.state=ae.BeforeSpecialT:this.state=ae.InTagName}else e===$e.Slash?this.state=ae.BeforeClosingTagName:(this.state=ae.Text,this.stateText(e))}stateInTagName(e){Vb(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=ae.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){ma(e)||(e===$e.Gt?this.state=ae.Text:(this.state=this.isTagStartChar(e)?ae.InClosingTagName:ae.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===$e.Gt||ma(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=ae.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===$e.Gt||this.fastForwardTo($e.Gt))&&(this.state=ae.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===$e.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=ae.InSpecialTag,this.sequenceIndex=0):this.state=ae.Text,this.sectionStart=this.index+1):e===$e.Slash?this.state=ae.InSelfClosingTag:ma(e)||(this.state=ae.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===$e.Gt?(this.cbs.onselfclosingtag(this.index),this.state=ae.Text,this.sectionStart=this.index+1,this.isSpecial=!1):ma(e)||(this.state=ae.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===$e.Eq||Vb(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=ae.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===$e.Eq?this.state=ae.BeforeAttributeValue:e===$e.Slash||e===$e.Gt?(this.cbs.onattribend(ya.NoValue,this.sectionStart),this.sectionStart=-1,this.state=ae.BeforeAttributeName,this.stateBeforeAttributeName(e)):ma(e)||(this.cbs.onattribend(ya.NoValue,this.sectionStart),this.state=ae.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===$e.DoubleQuote?(this.state=ae.InAttributeValueDq,this.sectionStart=this.index+1):e===$e.SingleQuote?(this.state=ae.InAttributeValueSq,this.sectionStart=this.index+1):ma(e)||(this.sectionStart=this.index,this.state=ae.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===$e.DoubleQuote?ya.Double:ya.Single,this.index+1),this.state=ae.BeforeAttributeName):this.decodeEntities&&e===$e.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,$e.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,$e.SingleQuote)}stateInAttributeValueNoQuotes(e){ma(e)||e===$e.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(ya.Unquoted,this.index),this.state=ae.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===$e.Amp&&this.startEntity()}stateBeforeDeclaration(e){e===$e.OpeningSquareBracket?(this.state=ae.CDATASequence,this.sequenceIndex=0):this.state=e===$e.Dash?ae.BeforeComment:ae.InDeclaration}stateInDeclaration(e){(e===$e.Gt||this.fastForwardTo($e.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=ae.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===$e.Gt||this.fastForwardTo($e.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=ae.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===$e.Dash?(this.state=ae.InCommentLike,this.currentSequence=Yn.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=ae.InDeclaration}stateInSpecialComment(e){(e===$e.Gt||this.fastForwardTo($e.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=ae.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){let t=e|32;t===Yn.ScriptEnd[3]?this.startSpecial(Yn.ScriptEnd,4):t===Yn.StyleEnd[3]?this.startSpecial(Yn.StyleEnd,4):(this.state=ae.InTagName,this.stateInTagName(e))}stateBeforeSpecialT(e){switch(e|32){case Yn.TitleEnd[3]:{this.startSpecial(Yn.TitleEnd,4);break}case Yn.TextareaEnd[3]:{this.startSpecial(Yn.TextareaEnd,4);break}case Yn.XmpEnd[3]:{this.startSpecial(Yn.XmpEnd,4);break}default:this.state=ae.InTagName,this.stateInTagName(e)}}startEntity(){this.baseState=this.state,this.state=ae.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?ga.Strict:this.baseState===ae.Text||this.baseState===ae.InSpecialTag?ga.Legacy:ga.Attribute)}stateInEntity(){let e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,e===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===ae.Text||this.state===ae.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===ae.InAttributeValueDq||this.state===ae.InAttributeValueSq||this.state===ae.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){let e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case ae.Text:{this.stateText(e);break}case ae.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case ae.InSpecialTag:{this.stateInSpecialTag(e);break}case ae.CDATASequence:{this.stateCDATASequence(e);break}case ae.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case ae.InAttributeName:{this.stateInAttributeName(e);break}case ae.InCommentLike:{this.stateInCommentLike(e);break}case ae.InSpecialComment:{this.stateInSpecialComment(e);break}case ae.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case ae.InTagName:{this.stateInTagName(e);break}case ae.InClosingTagName:{this.stateInClosingTagName(e);break}case ae.BeforeTagName:{this.stateBeforeTagName(e);break}case ae.AfterAttributeName:{this.stateAfterAttributeName(e);break}case ae.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case ae.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case ae.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case ae.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case ae.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case ae.BeforeSpecialT:{this.stateBeforeSpecialT(e);break}case ae.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case ae.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case ae.InDeclaration:{this.stateInDeclaration(e);break}case ae.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case ae.BeforeComment:{this.stateBeforeComment(e);break}case ae.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case ae.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===ae.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){let e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===ae.InCommentLike?this.currentSequence===Yn.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===ae.InTagName||this.state===ae.BeforeAttributeName||this.state===ae.BeforeAttributeValue||this.state===ae.AfterAttributeName||this.state===ae.InAttributeName||this.state===ae.InAttributeValueSq||this.state===ae.InAttributeValueDq||this.state===ae.InAttributeValueNq||this.state===ae.InClosingTagName||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,t){this.baseState!==ae.Text&&this.baseState!==ae.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))}},gf=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Xt=new Set(["p"]),Q9=new Set(["thead","tbody"]),Y9=new Set(["dd","dt"]),Z9=new Set(["rt","rp"]),Gae=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Xt],["h1",Xt],["h2",Xt],["h3",Xt],["h4",Xt],["h5",Xt],["h6",Xt],["select",gf],["input",gf],["output",gf],["button",gf],["datalist",gf],["textarea",gf],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Y9],["dt",Y9],["address",Xt],["article",Xt],["aside",Xt],["blockquote",Xt],["details",Xt],["div",Xt],["dl",Xt],["fieldset",Xt],["figcaption",Xt],["figure",Xt],["footer",Xt],["form",Xt],["header",Xt],["hr",Xt],["main",Xt],["nav",Xt],["ol",Xt],["pre",Xt],["section",Xt],["table",Xt],["ul",Xt],["rt",Z9],["rp",Z9],["tbody",Q9],["tfoot",Q9]]),Wae=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),X9=new Set(["math","svg"]),J9=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Kae=/\s|\//,LD=class{constructor(e,t={}){var r,i,s,o,a,u;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(s=t.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((o=t.Tokenizer)!==null&&o!==void 0?o:PD)(this.options,this),this.foreignContext=[!this.htmlMode],(u=(a=this.cbs).onparserinit)===null||u===void 0||u.call(a,this)}ontext(e,t){var r,i;let s=this.getSlice(e,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,s),this.startIndex=t}ontextentity(e,t){var r,i;this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,K9(e)),this.startIndex=t}isVoidElement(e){return this.htmlMode&&Wae.has(e)}onopentagname(e,t){this.endIndex=t;let r=this.getSlice(e,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(e){var t,r,i,s;this.openTagStart=this.startIndex,this.tagname=e;let o=this.htmlMode&&Gae.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[0]);){let a=this.stack.shift();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,a,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(X9.has(e)?this.foreignContext.unshift(!0):J9.has(e)&&this.foreignContext.unshift(!1))),(s=(i=this.cbs).onopentagname)===null||s===void 0||s.call(i,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,t){var r,i,s,o,a,u,c,l;this.endIndex=t;let d=this.getSlice(e,t);if(this.lowerCaseTagNames&&(d=d.toLowerCase()),this.htmlMode&&(X9.has(d)||J9.has(d))&&this.foreignContext.shift(),this.isVoidElement(d))this.htmlMode&&d==="br"&&((o=(s=this.cbs).onopentagname)===null||o===void 0||o.call(s,"br"),(u=(a=this.cbs).onopentag)===null||u===void 0||u.call(a,"br",{},!0),(l=(c=this.cbs).onclosetag)===null||l===void 0||l.call(c,"br",!1));else{let f=this.stack.indexOf(d);if(f!==-1)for(let h=0;h<=f;h++){let p=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,p,h!==f)}else this.htmlMode&&d==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var t,r;let i=this.tagname;this.endOpenTag(e),this.stack[0]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!e),this.stack.shift())}onattribname(e,t){this.startIndex=e;let r=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(e,t){this.attribvalue+=this.getSlice(e,t)}onattribentity(e){this.attribvalue+=K9(e)}onattribend(e,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,e===ya.Double?'"':e===ya.Single?"'":e===ya.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){let t=e.search(Kae),r=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(e,t){this.endIndex=t;let r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){let i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=t+1}onprocessinginstruction(e,t){this.endIndex=t;let r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){let i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=t+1}oncomment(e,t,r){var i,s,o,a;this.endIndex=t,(s=(i=this.cbs).oncomment)===null||s===void 0||s.call(i,this.getSlice(e,t-r)),(a=(o=this.cbs).oncommentend)===null||a===void 0||a.call(o),this.startIndex=t+1}oncdata(e,t,r){var i,s,o,a,u,c,l,d,f,h;this.endIndex=t;let p=this.getSlice(e,t-r);!this.htmlMode||this.options.recognizeCDATA?((s=(i=this.cbs).oncdatastart)===null||s===void 0||s.call(i),(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,p),(c=(u=this.cbs).oncdataend)===null||c===void 0||c.call(u)):((d=(l=this.cbs).oncomment)===null||d===void 0||d.call(l,`[CDATA[${p}]]`),(h=(f=this.cbs).oncommentend)===null||h===void 0||h.call(f)),this.startIndex=t+1}onend(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(t=(e=this.cbs).onend)===null||t===void 0||t.call(e)}reset(){var e,t,r,i;(t=(e=this.cbs).onreset)===null||t===void 0||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}};function Qae(n,e){let t=new xD(void 0,e);return new LD(t,e).end(n),t.root}var Yae=p7(),Im=Yb(Yae);function e7(n){return Jse(n)}function t7(n,e){let t=[];return Xse(n,(r,i,s)=>{if(!(i?.type==="decl"&&i.value.includes("</style>"))){if(!e.compress){t.push(r);return}if(i?.type!=="comment"){if(i?.type==="decl"){let o=i.prop+i.raws.between;t.push(r.replace(o,o.trim()));return}if(s==="start"){i?.type==="rule"&&i.selectors?i.selectors.length===1?t.push(i.selectors[0]??"","{"):t.push(i.selectors.join(","),"{"):t.push(r.trim());return}if(s==="end"&&r==="}"&&i?.raws?.semicolon){let o=t.length-2;o>=0&&t[o]&&(t[o]=t[o].slice(0,-1))}t.push(r.trim())}}}),t.join("")}function Zae(n){return e=>{let t="selectors"in e?e.selectors:void 0;n(e)===!1&&(e.$$remove=!0),"selectors"in e&&(e.$$markedSelectors=e.selectors,e.selectors=t),e._other&&(e._other.$$markedSelectors=e._other.selectors)}}function K7(n){n.$$markedSelectors&&(n.selectors=n.$$markedSelectors),n._other&&K7(n._other)}function nx(n,e){"nodes"in n&&(n.nodes=n.nodes?.filter(t=>(Y7(t)&&nx(t,e),t._other=void 0,t.filterSelectors=X7,e(t)!==!1)))}function Q7(n,e,t){if(!e)return nx(n,t);[n.nodes,e.nodes]=Z7(n.nodes,e.nodes,(r,i,s,o)=>{let a=o?.[i];return Y7(r)&&Q7(r,a,t),r._other=a,r.filterSelectors=X7,t(r)!==!1})}function Y7(n){return"nodes"in n&&!!n.nodes?.length&&(!("name"in n)||n.name!=="keyframes"&&n.name!=="-webkit-keyframes")&&n.nodes.some(e=>e.type==="rule"||e.type==="atrule")}function Z7(n,e,t){let r=[],i=[];for(let s=0;s<n.length;s++){let o=n[s];t(o,s,n,e)?r.push(o):i.push(o)}return[r,i]}function X7(n){if(this._other){let[e,t]=Z7(this.selectors,this._other.selectors,n);this.selectors=e,this._other.selectors=t}else this.selectors=this.selectors.filter(n)}var Xae=new Set(["all","print","screen","speech"]),Jae=new Set(["and","not",","]),eue=new Set(["width","aspect-ratio","color","color-index","grid","height","monochrome","orientation","resolution","scan"].flatMap(n=>[n,`min-${n}`,`max-${n}`]));function tue(n){let{type:e,value:t}=n;if(e==="media-type")return Xae.has(t);if(e==="keyword")return Jae.has(t);if(e==="media-feature")return eue.has(t)}function nue(n){let t=("default"in yD?yD.default:yD)(n),r=new Set(["media-type","keyword","media-feature"]),i=[t];for(;i.length>0;){let s=i.pop();if(r.has(s.type)&&!tue(s))return!1;s.nodes&&i.push(...s.nodes)}return!0}var FD=null,UD=null;function rue(n){FD=new Set,UD=new Set;let e=[n];for(;e.length;){let t=e.shift();if(t.hasAttribute?.("class")&&t.getAttribute("class").trim().split(" ").forEach(i=>{FD.add(i)}),t.hasAttribute?.("id")){let r=t.getAttribute("id").trim();UD.add(r)}"children"in t&&e.push(...t.children.filter(r=>r.type==="tag"))}}function iue(n){let e=Qae(n,{decodeEntities:!1});aue(e),oue(vf.prototype);let t=e.querySelector("[data-beasties-container]");return t||(e.documentElement?.setAttribute("data-beasties-container",""),t=e.documentElement||e),e.beastiesContainer=t,rue(t),e}function sue(n){return r1(n,{decodeEntities:!1})}var n7=!1;function oue(n){n7||(n7=!0,Object.defineProperties(n,{nodeName:{get(){return this.tagName.toUpperCase()}},id:{get(){return this.getAttribute("id")},set(e){this.setAttribute("id",e)}},className:{get(){return this.getAttribute("class")},set(e){this.setAttribute("class",e)}},insertBefore:{value(e,t){return t?(R7(t,e),e):this.appendChild(e)}},appendChild:{value(e){return ND(this,e),e}},removeChild:{value(e){Cl(e)}},remove:{value(){Cl(this)}},textContent:{get(){return Dm(this)},set(e){this.children=[],ND(this,new Sl(e))}},setAttribute:{value(e,t){this.attribs==null&&(this.attribs={}),t==null&&(t=""),this.attribs[e]=t}},removeAttribute:{value(e){this.attribs!=null&&delete this.attribs[e]}},getAttribute:{value(e){return this.attribs!=null&&this.attribs[e]}},hasAttribute:{value(e){return this.attribs!=null&&this.attribs[e]!=null}},getAttributeNode:{value(e){let t=this.getAttribute(e);if(t!=null)return{specified:!0,value:t}}},exists:{value(e){return J7(e,this)}},querySelector:{value(e){return tx(e,this)}},querySelectorAll:{value(e){return W7(e,this)}}}))}function aue(n){Object.defineProperties(n,{nodeType:{get(){return 9}},contentType:{get(){return"text/html"}},nodeName:{get(){return"#document"}},documentElement:{get(){return this.children.find(e=>"tagName"in e&&String(e.tagName).toLowerCase()==="html")}},head:{get(){return this.querySelector("head")}},body:{get(){return this.querySelector("body")}},createElement:{value(e){return new vf(e,{})}},createTextNode:{value(e){return new Sl(e)}},exists:{value(e){return J7(e,this)}},querySelector:{value(e){return tx(e,this)}},querySelectorAll:{value(e){return e===":root"?this:W7(e,this)}}})}var r7=new Map;function J7(n,e){let t=r7.get(n);if(t===void 0&&(t=uue(n),r7.set(n,t)),t)for(let r of t){if(r.name==="class")return FD.has(r.value);if(r.name==="id")return UD.has(r.value)}return!!tx(n,e)}function uue(n){let e=JD(n),t=[];for(let r=0;r<e.length;r++){let i=e[r];if(i?.length!==1)continue;let s=i[0];s?.type==="attribute"&&(s.name==="class"||s.name==="id")&&t.push(s)}return t.length>0?t:null}var i7=["trace","debug","info","warn","error","silent"],s7={trace(n){console.trace(n)},debug(n){console.debug(n)},warn(n){console.warn(Im.yellow(n))},error(n){console.error(Im.bold(Im.red(n)))},info(n){console.info(Im.bold(Im.blue(n)))},silent(){}};function cue(n){let e=i7.indexOf(n);return i7.reduce((t,r,i)=>(i>=e?t[r]=s7[r]:t[r]=s7.silent,t),{})}function lue(n,e){return!yf.relative(n,e).startsWith("..")}var due=/(?<!\\)::?[a-z-]+(?:\(.+\))?/gi,fue=/>\s*(?=>|$)/g,hue=/\(\s*,|,\s*\)/g,Kb=class{#e=new Map;options;logger;fs;constructor(e={}){this.options=Object.assign({logLevel:"info",path:"",publicPath:"",reduceInlineStyles:!0,pruneSource:!1,additionalStylesheets:[],allowRules:[]},e),this.logger=this.options.logger||cue(this.options.logLevel)}readFile(e){let t=this.fs;return new Promise((r,i)=>{let s=(o,a)=>{o?i(o):r(a.toString())};t&&t.readFile?t.readFile(e,s):Mse(e,"utf-8",s)})}process(e){return P(this,null,function*(){let t=Date.now(),r=iue(e);if(this.options.additionalStylesheets.length>0&&(yield this.embedAdditionalStylesheet(r)),this.options.external!==!1){let a=[...r.querySelectorAll('link[rel="stylesheet"]')];yield Promise.all(a.map(u=>this.embedLinkedStylesheet(u,r)))}let i=this.getAffectedStyleTags(r);for(let a of i)this.processStyle(a,r);this.options.mergeStylesheets!==!1&&i.length!==0&&this.mergeStylesheets(r);let s=sue(r),o=Date.now();return this.logger.info?.(`Time ${o-t}ms`),s})}getAffectedStyleTags(e){let t=[...e.querySelectorAll("style")];return this.options.reduceInlineStyles===!1?t.filter(r=>r.$$external):t}mergeStylesheets(e){let t=this.getAffectedStyleTags(e);if(t.length===0){this.logger.warn?.("Merging inline stylesheets into a single <style> tag skipped, no inline stylesheets to merge");return}let r=t[0],i=r.textContent;for(let s=1;s<t.length;s++){let o=t[s];i+=o.textContent,o.remove()}r.textContent=i}getCssAsset(e,t){return P(this,null,function*(){let r=this.options.path,i=this.options.publicPath,s=e.replace(/^\//,""),o=`${(i||"").replace(/(^\/|\/$)/g,"")}/`;if(s.startsWith(o)&&(s=s.substring(o.length).replace(/^\//,"")),/^https?:\/\//.test(s)||e.startsWith("//"))return;let a=yf.resolve(r,s);if(!lue(r,a))return;let u;try{u=yield this.readFile(a)}catch{this.logger.warn?.(`Unable to locate stylesheet: ${a}`)}return u})}checkInlineThreshold(e,t,r){if(this.options.inlineThreshold&&r.length<this.options.inlineThreshold){let i=t.$$name;return t.$$reduce=!1,this.logger.info?.(`\x1B[32mInlined all of ${i} (${r.length} was below the threshold of ${this.options.inlineThreshold})\x1B[39m`),e.remove(),!0}return!1}embedAdditionalStylesheet(e){return P(this,null,function*(){let t=[],r=yield Promise.all(this.options.additionalStylesheets.map(i=>{if(t.includes(i))return[];t.push(i);let s=e.createElement("style");return s.$$external=!0,this.getCssAsset(i,s).then(o=>[o,s])}));for(let[i,s]of r)i&&(s.textContent=i,e.head.appendChild(s))})}embedLinkedStylesheet(e,t){return P(this,null,function*(){let r=e.getAttribute("href");if(!r?.endsWith(".css"))return;let i=t.createElement("style");i.$$external=!0;let s=yield this.getCssAsset(r,i);if(!s||(i.textContent=s,i.$$name=r,i.$$links=[e],e.parentNode?.insertBefore(i,e),this.checkInlineThreshold(e,i,s)))return;let o=e.getAttribute("media");o&&!nue(o)&&(o=void 0);let a=this.options.preload,u="function $loadcss(u,m,l){(l=document.createElement('link')).rel='stylesheet';l.href=u;document.head.appendChild(l)}";if(a==="js-lazy"&&(u=u.replace("l.href","l.media='print';l.onload=function(){l.media=m};l.href")),a===!1)return;let l=!1,d=!1,f=e.cloneNode(!1);if(a==="body")t.body.appendChild(e);else if(a==="js"||a==="js-lazy"){let h=t.createElement("script");h.setAttribute("data-href",r),h.setAttribute("data-media",o||"all");let p=`${u}$loadcss(document.currentScript.dataset.href,document.currentScript.dataset.media)`;h.textContent=p,e.parentNode.insertBefore(h,e.nextSibling),i.$$links.push(h),u="",l=!0,d=!0}else if(a==="media")e.setAttribute("media","print"),e.setAttribute("onload",`this.media='${o||"all"}'`),l=!0;else if(a==="swap-high")e.setAttribute("rel","alternate stylesheet preload"),e.setAttribute("title","styles"),e.setAttribute("onload","this.title='';this.rel='stylesheet'"),l=!0;else if(a==="swap-low")e.setAttribute("rel","alternate stylesheet"),e.setAttribute("title","styles"),e.setAttribute("onload","this.title='';this.rel='stylesheet'"),l=!0;else if(a==="swap")e.setAttribute("onload","this.rel='stylesheet'"),d=!0,l=!0;else{let h=e.cloneNode(!1);h.removeAttribute("id"),t.body.appendChild(h),i.$$links.push(h),d=!0}if(this.options.noscriptFallback!==!1&&l&&!r.includes("</noscript>")){let h=t.createElement("noscript");f.removeAttribute("id"),h.appendChild(f),e.parentNode.insertBefore(h,e.nextSibling),i.$$links.push(h)}d&&(e.setAttribute("rel","preload"),e.setAttribute("as","style"))})}pruneSource(e,t,r){let i=this.options.minimumExternalSize,s=e.$$name,o=i&&r.length<i;if(o&&this.logger.info?.(`\x1B[32mInlined all of ${s} (non-critical external stylesheet would have been ${r.length}b, which was below the threshold of ${i})\x1B[39m`),(o||!r)&&(e.textContent=t,e.$$links))for(let a of e.$$links)a.parentNode?.removeChild(a);return!!o}processStyle(e,t){if(e.$$reduce===!1)return;let r=e.$$name?e.$$name.replace(/^\//,""):"inline CSS",i=this.options,s=t.beastiesContainer,o=i.keyframes??"critical";o===!0&&(o="all"),o===!1&&(o="none");let a=e.textContent,u=a;if(!a)return;let c=e7(a),l=i.pruneSource?e7(a):null,d="",f=[],h=new Set,p=!1,v=!1,T=!1,w=!1,C=i.fonts===!0||i.preloadFonts===!0,D=i.fonts!==!1&&i.inlineFonts===!0;nx(c,Zae(A=>{if(A.type==="comment"){let _=A.text.match(/^(?<!! )beasties:(.*)/),I=_&&_[1];if(I)switch(I){case"include":p=!0;break;case"exclude":T=!0;break;case"include start":v=!0;break;case"include end":v=!1;break;case"exclude start":w=!0;break;case"exclude end":w=!1;break}}if(A.type==="rule"){if(p)return p=!1,!0;if(T)return T=!1,!1;if(v)return!0;if(w||(A.filterSelectors?.(_=>{if(i.allowRules.some(L=>L instanceof RegExp?L.test(_):L===_)||_===":root"||_==="html"||_==="body"||_[0]===":"&&/^::?(?:before|after)$/.test(_))return!0;if(_=this.normalizeCssSelector(_),!_)return!1;try{return s.exists(_)}catch(L){return f.push(`${_} -> ${L.message||L.toString()}`),!1}}),!A.selector))return!1;if(A.nodes){for(let _ of A.nodes)if("prop"in _&&(D&&/\bfont(?:-family)?\b/i.test(_.prop)&&(d+=` ${_.value}`),_.prop==="animation"||_.prop==="animation-name"))for(let I of _.value.split(/\s+/)){let L=I.trim();L&&h.add(L)}}}return A.type==="atrule"&&(A.name==="font-face"||A.name==="layer")?void 0:("nodes"in A&&A.nodes?.some(_=>!_.$$remove))??!0})),f.length!==0&&this.logger.warn?.(`${f.length} rules skipped due to selector errors:
  ${f.join(`
  `)}`);let S=new Set;if(Q7(c,l,A=>{if(A.$$remove===!0)return!1;if("selectors"in A&&K7(A),A.type==="atrule"&&A.name==="keyframes")return o==="none"?!1:o==="all"?!0:h.has(A.params);if(A.type==="atrule"&&A.name==="font-face"){let N,_;if(A.nodes){for(let I of A.nodes)"prop"in I&&(I.prop==="src"?_=(I.value.match(/url\s*\(\s*(['"]?)(.+?)\1\s*\)/)||[])[2]:I.prop==="font-family"&&(N=I.value));if(_&&C&&!S.has(_)){S.add(_);let I=t.createElement("link");I.setAttribute("rel","preload"),I.setAttribute("as","font"),I.setAttribute("crossorigin","anonymous"),I.setAttribute("href",_.trim()),t.head.appendChild(I)}}if(!D||!N||!_||!d.includes(N))return!1}}),a=t7(c,{compress:this.options.compress!==!1}),a.trim().length===0){e.parentNode&&e.remove();return}let x="",V=!1;if(i.pruneSource){let A=t7(l,{compress:this.options.compress!==!1});V=this.pruneSource(e,u,A),V&&(x=`, reducing non-inlined size ${A.length/u.length*100|0}% to ${DD(A.length)}`)}V||(e.textContent=a);let R=a.length/u.length*100|0;this.logger.info?.(`\x1B[32mInlined ${DD(a.length)} (${R}% of original ${DD(u.length)}) of ${r}${x}.\x1B[39m`)}normalizeCssSelector(e){let t=this.#e.get(e);return t!==void 0||(t=e.replace(due,"").replace(hue,r=>r.includes("(")?"(":")").replace(fue,"> *").trim(),this.#e.set(e,t)),t}};function DD(n){if(n<=0)return"0 bytes";let e=["bytes","kB","MB","GB"],t=Math.floor(Math.log(n)/Math.log(1024)),r=n/1024**t,i=t===0?0:2;return`${r.toFixed(i)} ${e[t]}`}var i1=class{manifest;constructor(e){this.manifest=e}getServerAsset(e){let t=this.manifest.assets[e];if(!t)throw new Error(`Server asset '${e}' does not exist.`);return t}hasServerAsset(e){return!!this.manifest.assets[e]}getIndexServerHtml(){return this.getServerAsset("index.server.html")}},pue=new Set(["Angular is running in development mode."]),s1=class extends Qd{log(e){pue.has(e)||super.log(e)}},rx;function aU(n){rx=n}function uU(){if(!rx)throw new Error("Angular app manifest is not set. Please ensure you are using the '@angular/build:application' builder to build your server application.");return rx}function Dl(n){return n.length>1&&n[0]==="/"?n.slice(1):n}function cU(n){return n[0]==="/"?n:`/${n}`}function mue(n){return n[n.length-1]==="/"?n:`${n}/`}function xl(...n){let e=[];for(let t of n){if(t==="")continue;let r=t;t[0]==="/"&&(r=r.slice(1)),t[t.length-1]==="/"&&(r=r.slice(0,-1)),r!==""&&e.push(r)}return cU(e.join("/"))}function lU(n){if(n.pathname.endsWith("/index.html")){let e=new URL(n);return e.pathname=e.pathname.slice(0,-11),e}return n}function gue(n,e){if(n[0]!=="/")throw new Error(`Invalid toPath: The string must start with a '/'. Received: '${n}'`);if(e[0]!=="/")throw new Error(`Invalid fromPath: The string must start with a '/'. Received: '${e}'`);if(!n.includes("/*"))return n;let t=e.split("/"),r=n.split("/"),i=r.map((s,o)=>r[o]==="*"?t[o]:s);return xl(...i)}function yue(n,e,t,r,i){let s=[{provide:HI,useValue:i},{provide:Qd,useFactory:()=>new s1},...r],o=lU(t).toString();return dU(e)?n9(e,{url:o,document:n,extraProviders:s}):r9(e,{url:o,document:n,platformProviders:s})}function dU(n){return"\u0275mod"in n}function fU(n,e,t){return new Promise((r,i)=>{let s=()=>{i(new DOMException(`${t} was aborted.
${e.reason}`,"AbortError"))};if(e.aborted){s();return}e.addEventListener("abort",s,{once:!0}),n.then(r).catch(i).finally(()=>{e.removeEventListener("abort",s)})})}var vue="ng-app-shell",hU=function(n){return n[n.AppShell=0]="AppShell",n}(hU||{}),dn=function(n){return n[n.Server=0]="Server",n[n.Client=1]="Client",n[n.Prerender=2]="Prerender",n}(dn||{}),ix=function(n){return n[n.Server=0]="Server",n[n.Client=1]="Client",n[n.None=2]="None",n}(ix||{}),pU=new de("SERVER_ROUTES_CONFIG");function mU(n,...e){let t={routes:n};e.some(s=>s.\u0275kind===hU.AppShell)&&(t.appShellRoute=vue);let i=[{provide:pU,useValue:t}];for(let s of e)i.push(...s.\u0275providers);return xr(i)}var Om=class n{root=this.createEmptyRouteTreeNode();insert(e,t){let r=this.root,i=this.getPathSegments(e),s=[];for(let o of i){let a=o[0]===":"?"*":o,u=r.children.get(a);u||(u=this.createEmptyRouteTreeNode(),r.children.set(a,u)),r=u,s.push(a)}r.metadata=me(Q({},t),{route:cU(s.join("/"))})}match(e){let t=this.getPathSegments(e);return this.traverseBySegments(t)?.metadata}toObject(){return Array.from(this.traverse())}static fromObject(e){let t=new n;for(let r of e){let i=r,{route:s}=i,o=ta(i,["route"]);t.insert(s,o)}return t}*traverse(e=this.root){e.metadata&&(yield e.metadata);for(let t of e.children.values())yield*Rc(this.traverse(t))}getPathSegments(e){return e.split("/").filter(Boolean)}traverseBySegments(e,t=this.root,r=0){if(r>=e.length)return t.metadata?t:t.children.get("**");if(!t.children.size)return;let i=e[r],s=t.children.get(i);if(s){let a=this.traverseBySegments(e,s,r+1);if(a)return a}let o=t.children.get("*");if(o){let a=this.traverseBySegments(e,o,r+1);if(a)return a}return t.children.get("**")}createEmptyRouteTreeNode(){return{children:new Map}}},eU=10,tU=/\/(\*\*)$/,sx=/(?<!\\):([^/]+)/g,nU=new Set([301,302,303,307,308]);function rU(n){return $0(this,null,function*(){try{let{metadata:e,currentRoutePath:t,route:r,compiler:i,parentInjector:s,serverConfigRouteTree:o,entryPointToBrowserMapping:a,invokeGetPrerenderParams:u,includePrerenderFallbackRoutes:c}=n,{redirectTo:l,loadChildren:d,loadComponent:f,children:h,\u0275entryName:p}=r;if(p&&f&&iU(p,a,e,!0),e.renderMode===dn.Prerender?yield*Rc(bue(o,typeof l=="string"?l:void 0,e,s,u,c)):typeof l=="string"?e.status&&!nU.has(e.status)?yield{error:`The '${e.status}' status code is not a valid redirect response code. Please use one of the following redirect response codes: ${[...nU.values()].join(", ")}.`}:yield me(Q({},e),{redirectTo:ax(e.route,l)}):yield e,h?.length&&(yield*Rc(ox(me(Q({},n),{routes:h,parentRoute:t,parentPreloads:e.preload})))),d){p&&iU(p,a,e,!1);let v=yield new IS(Tb(r,i,s).toPromise());if(v){let{routes:T,injector:w=s}=v;yield*Rc(ox(me(Q({},n),{routes:T,parentInjector:w,parentRoute:t,parentPreloads:e.preload})))}}}catch(e){yield{error:`Error in handleRoute for '${n.currentRoutePath}': ${e.message}`}}})}function ox(n){return $0(this,null,function*(){let{routes:e,parentPreloads:t,parentRoute:r,serverConfigRouteTree:i}=n;for(let s of e){let{matcher:o,path:a=o?"**":""}=s,u=xl(r,a);if(o&&i){let l=!1;for(let d of i.traverse())if(d.route.startsWith(u)){if(l=!0,d.presentInClientRouter=!0,d.renderMode===dn.Prerender){yield{error:`The route '${Dl(u)}' is set for prerendering but has a defined matcher. Routes with matchers cannot use prerendering. Please specify a different 'renderMode'.`};continue}yield*Rc(rU(me(Q({},n),{currentRoutePath:u,route:s,metadata:me(Q({},d),{preload:t,route:d.route,presentInClientRouter:void 0})})))}l||(yield{error:`The route '${Dl(u)}' has a defined matcher but does not match any route in the server routing configuration. Please ensure this route is added to the server routing configuration.`});continue}let c;if(i){if(c=i.match(u),!c){yield{error:`The '${Dl(u)}' route does not match any route defined in the server routing configuration. Please ensure this route is added to the server routing configuration.`};continue}c.presentInClientRouter=!0}yield*Rc(rU(me(Q({},n),{metadata:me(Q({renderMode:dn.Prerender},c),{preload:t,route:a===""?mue(u):u,presentInClientRouter:void 0}),currentRoutePath:u,route:s})))}})}function iU(n,e,t,r){let i=t.preload??[];if(!e||i.length>=eU)return;let s=e[n];if(!s?.length)return;let o=new Set(i);for(let{dynamicImport:a,path:u}of s)if(!(a&&!r)&&(o.add(u),o.size===eU))break;t.preload=Array.from(o)}function bue(n,e,t,r,i,s){return $0(this,null,function*(){if(t.renderMode!==dn.Prerender)throw new Error("'handleSSGRoute' was called for a route which rendering mode is not prerender.");let d=t,{route:o,fallback:a}=d,u=ta(d,["route","fallback"]),c="getPrerenderParams"in u?u.getPrerenderParams:void 0;"getPrerenderParams"in u&&delete u.getPrerenderParams,e!==void 0&&(u.redirectTo=ax(o,e));let l=tU.test(o);if(l&&!c||!l&&!sx.test(o)){yield me(Q({},u),{route:o});return}if(i){if(!c){yield{error:`The '${Dl(o)}' route uses prerendering and includes parameters, but 'getPrerenderParams' is missing. Please define 'getPrerenderParams' function for this route in your server routing configuration or specify a different 'renderMode'.`};return}if(n){let h=l?o:xl(o,"**"),p=n.match(h);p&&p.renderMode===dn.Prerender&&!("getPrerenderParams"in p)&&n.insert(h,me(Q({},p),{presentInClientRouter:!0,getPrerenderParams:c}))}let f=yield new IS(nr(r,()=>c()));try{for(let h of f){let p=_ue(h,o),v=o.replace(sx,p).replace(tU,p);yield me(Q({},u),{route:v,redirectTo:e===void 0?void 0:ax(v,e)})}}catch(h){yield{error:`${h.message}`};return}}s&&(a!==ix.None||!i)&&(yield me(Q({},u),{route:o,renderMode:a===ix.Client?dn.Client:dn.Server}))})}function _ue(n,e){return t=>{let r=t.slice(1),i=n[r];if(typeof i!="string")throw new Error(`The 'getPrerenderParams' function defined for the '${Dl(e)}' route returned a non-string value for parameter '${r}'. Please make sure the 'getPrerenderParams' function returns values for all parameters specified in this route.`);return r==="**"?`/${i}`:i}}function ax(n,e){if(e[0]==="/")return e;let t=n.replace(sx,"*").split("/");return t.pop(),xl(...t,e)}function Eue({routes:n,appShellRoute:e}){let t=[...n];e!==void 0&&t.unshift({path:e,renderMode:dn.Prerender});let r=new Om,i=[];for(let s of t){let o=s,{path:a}=o,u=ta(o,["path"]);if(a[0]==="/"){i.push(`Invalid '${a}' route configuration: the path cannot start with a slash.`);continue}if("getPrerenderParams"in u&&(a.includes("/*/")||a.endsWith("/*"))){i.push(`Invalid '${a}' route configuration: 'getPrerenderParams' cannot be used with a '*' route.`);continue}r.insert(a,u)}return{serverConfigRouteTree:r,errors:i}}function wue(n,e,t,r=!1,i=!0,s=void 0){return P(this,null,function*(){let{protocol:o,host:a}=t,u=kb([{provide:bl,useValue:{document:e,url:`${o}//${a}/`}},{provide:Qd,useFactory:()=>new s1},{provide:A2,useValue:!1}]);try{let h;dU(n)?h=(yield u.bootstrapModule(n)).injector.get(Ss):h=yield n();let p=h.injector,v=p.get(ft);v.navigationTransitions.afterPreactivation()?.next?.(),yield h.whenStable();let T=[],w=p.get(ef,null,{optional:!0})??p.get(fo).getBaseHrefFromDOM(),{pathname:C}=new URL(w,"http://localhost"),D=p.get(Mv),S=p.get(pU,null,{optional:!0}),x;if(S){let R=Eue(S);x=R.serverConfigRouteTree,T.push(...R.errors)}if(T.length)return{baseHref:C,routes:[],errors:T};let V=[];if(v.config.length){let R=ox({routes:v.config,compiler:D,parentInjector:p,parentRoute:"",serverConfigRouteTree:x,invokeGetPrerenderParams:r,includePrerenderFallbackRoutes:i,entryPointToBrowserMapping:s}),A=new Set;try{for(var c=e6(R),l,d,f;l=!(d=yield c.next()).done;l=!1){let N=d.value;if("error"in N){T.push(N.error);continue}let _=N.route;A.has(_)||(V.push(N),A.add(_))}}catch{f=[d]}finally{try{l&&(d=c.return)&&(yield d.call(c))}finally{if(f)throw f[0]}}if(yield new Promise(N=>setTimeout(N,0)),x)for(let{route:N,presentInClientRouter:_}of x.traverse())_||N.endsWith("/**")||T.push(`The '${Dl(N)}' server route does not match any routes defined in the Angular routing configuration (typically provided as a part of the 'provideRouter' call). Please make sure that the mentioned server route is present in the Angular routing configuration.`)}else{let R=x?.match("")??{route:"",renderMode:dn.Prerender};V.push(me(Q({},R),{route:""}))}return{baseHref:C,routes:V,errors:T,appShellRoute:S?.appShellRoute}}finally{u.destroy()}})}function gU(n){let{url:e,manifest:t=uU(),invokeGetPrerenderParams:r=!1,includePrerenderFallbackRoutes:i=!0,signal:s}=n;function o(){return P(this,null,function*(){let a=new Om,u=yield new i1(t).getIndexServerHtml().text(),c=yield t.bootstrap(),{baseHref:l,appShellRoute:d,routes:f,errors:h}=yield wue(c,u,e,r,i,t.entryPointToBrowserMapping);for(let p of f){let v=p,{route:T}=v,w=ta(v,["route"]);w.redirectTo!==void 0&&(w.redirectTo=xl(l,w.redirectTo));for(let[D,S]of Object.entries(w))S===void 0&&delete w[D];let C=xl(l,T);a.insert(C,w)}return{appShellRoute:d,routeTree:a,errors:h}})}return s?fU(o(),s,"Routes extraction"):o()}var ux=class{store=new Map;run(e,t){return P(this,null,function*(){let r=this.store.get(e);switch(e){case"html:transform:pre":{if(!r)return t.html;let i=Q({},t);for(let s of r)i.html=yield s(i);return i.html}default:throw new Error(`Running hook "${e}" is not supported.`)}})}on(e,t){let r=this.store.get(e);r?r.push(t):this.store.set(e,[t])}has(e){return!!this.store.get(e)?.length}},cx=class n{routeTree;constructor(e){this.routeTree=e}static#e;static from(e,t){if(e.routes){let r=Om.fromObject(e.routes);return Promise.resolve(new n(r))}return n.#e??=gU({url:t,manifest:e}).then(({routeTree:r,errors:i})=>{if(i.length>0)throw new Error(`Error(s) occurred while extracting routes:
`+i.map(s=>`- ${s}`).join(`
`));return new n(r)}).finally(()=>{n.#e=void 0}),n.#e}match(e){let{pathname:t}=lU(e);return this.routeTree.match(decodeURIComponent(t))}};function Sue(n){return P(this,null,function*(){let e=new TextEncoder().encode(n),t=yield crypto.subtle.digest("SHA-256",e),r=[];for(let i of new Uint8Array(t))r.push(i.toString(16).padStart(2,"0"));return r.join("")})}var sU=/^this\.media=["'](.*)["'];?$/,yU="ngCspMedia",oU=`(() => {
  const CSP_MEDIA_ATTR = '${yU}';
  const documentElement = document.documentElement;

  // Listener for load events on link tags.
  const listener = (e) => {
    const target = e.target;
    if (
      !target ||
      target.tagName !== 'LINK' ||
      !target.hasAttribute(CSP_MEDIA_ATTR)
    ) {
      return;
    }

    target.media = target.getAttribute(CSP_MEDIA_ATTR);
    target.removeAttribute(CSP_MEDIA_ATTR);

    if (!document.head.querySelector(\`link[\${CSP_MEDIA_ATTR}]\`)) {
      documentElement.removeEventListener('load', listener);
    }
  };

  documentElement.addEventListener('load', listener, true);
})();`,lx=class extends Kb{},dx=class n extends lx{readFile;outputPath;addedCspScriptsDocuments=new WeakSet;documentNonces=new WeakMap;constructor(e,t){super({logger:{warn:r=>console.warn(r),error:r=>console.error(r),info:()=>{}},logLevel:"warn",path:t,publicPath:void 0,compress:!1,pruneSource:!1,reduceInlineStyles:!1,mergeStylesheets:!1,preload:"media",noscriptFallback:!0,inlineFonts:!0}),this.readFile=e,this.outputPath=t}embedLinkedStylesheet(e,t){return P(this,null,function*(){if(e.getAttribute("media")==="print"&&e.next?.name==="noscript"){let s=e.getAttribute("onload")?.match(sU);s&&(e.removeAttribute("onload"),e.setAttribute("media",s[1]),e?.next?.remove())}let r=yield CS(n.prototype,this,"embedLinkedStylesheet").call(this,e,t),i=this.findCspNonce(t);if(i){let s=e.getAttribute("onload")?.match(sU);s&&(e.removeAttribute("onload"),e.setAttribute(yU,s[1]),this.conditionallyInsertCspLoadingScript(t,i,e)),t.head.children.forEach(o=>{o.tagName==="style"&&!o.hasAttribute("nonce")&&o.setAttribute("nonce",i)})}return r})}findCspNonce(e){if(this.documentNonces.has(e))return this.documentNonces.get(e);let t=e.querySelector("[ngCspNonce], [ngcspnonce]"),r=t?.getAttribute("ngCspNonce")||t?.getAttribute("ngcspnonce")||null;return this.documentNonces.set(e,r),r}conditionallyInsertCspLoadingScript(e,t,r){if(this.addedCspScriptsDocuments.has(e))return;if(e.head.textContent.includes(oU)){this.addedCspScriptsDocuments.add(e);return}let i=e.createElement("script");i.setAttribute("nonce",t),i.textContent=oU,e.head.insertBefore(i,r),this.addedCspScriptsDocuments.add(e)}},fx=class{capacity;cache=new Map;head;tail;constructor(e){this.capacity=e}get(e){let t=this.cache.get(e);if(t)return this.moveToHead(t),t.value}put(e,t){let r=this.cache.get(e);if(r){r.value=t,this.moveToHead(r);return}let i={key:e,value:t,prev:void 0,next:void 0};if(this.cache.set(e,i),this.addToHead(i),this.cache.size>this.capacity){let s=this.removeTail();s&&this.cache.delete(s.key)}}addToHead(e){e.next=this.head,e.prev=void 0,this.head&&(this.head.prev=e),this.head=e,this.tail||(this.tail=e)}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}moveToHead(e){this.removeNode(e),this.addToHead(e)}removeTail(){let e=this.tail;return e&&this.removeNode(e),e}},Tue=50,Cue={[dn.Prerender]:"ssg",[dn.Server]:"ssr",[dn.Client]:""},hx=class{options;allowStaticRouteRender;hooks;constructor(e={}){this.options=e,this.allowStaticRouteRender=this.options.allowStaticRouteRender??!1,this.hooks=e.hooks??new ux}manifest=uU();assets=new i1(this.manifest);router;inlineCriticalCssProcessor;boostrap;criticalCssLRUCache=new fx(Tue);handle(e,t){return P(this,null,function*(){let r=new URL(e.url);this.router??=yield cx.from(this.manifest,r);let i=this.router.match(r);if(!i)return null;let{redirectTo:s,status:o,renderMode:a}=i;if(s!==void 0)return new Response(null,{status:o??302,headers:{Location:gue(s,r.pathname)}});if(a===dn.Prerender){let u=yield this.handleServe(e,i);if(u)return u}return fU(this.handleRendering(e,i,t),e.signal,`Request for: ${e.url}`)})}handleServe(e,t){return P(this,null,function*(){let{headers:r,renderMode:i}=t;if(i!==dn.Prerender)return null;let{method:s}=e;if(s!=="GET"&&s!=="HEAD")return null;let o=this.buildServerAssetPathFromRequest(e),{manifest:{locale:a},assets:u}=this;if(!u.hasServerAsset(o))return null;let{text:c,hash:l,size:d}=u.getServerAsset(o),f=`"${l}"`;return e.headers.get("if-none-match")===f?new Response(void 0,{status:304,statusText:"Not Modified"}):new Response(yield c(),{headers:Q(Q({"Content-Length":d.toString(),ETag:f,"Content-Type":"text/html;charset=UTF-8"},a!==void 0?{"Content-Language":a}:{}),r)})})}handleRendering(e,t,r){return P(this,null,function*(){let{renderMode:i,headers:s,status:o,preload:a}=t;if(!this.allowStaticRouteRender&&i===dn.Prerender)return null;let u=new URL(e.url),c=[],{manifest:{bootstrap:l,inlineCriticalCss:d,locale:f},assets:h}=this,p={status:o,headers:new Headers(Q(Q({"Content-Type":"text/html;charset=UTF-8"},f!==void 0?{"Content-Language":f}:{}),s))};if(i===dn.Server)c.push({provide:GL,useValue:e},{provide:KL,useValue:r},{provide:WL,useValue:p});else if(i===dn.Client){let T=yield this.assets.getServerAsset("index.csr.html").text();return T=yield this.runTransformsOnHtml(T,u,a),new Response(T,p)}f!==void 0&&c.push({provide:Zd,useValue:f}),this.boostrap??=yield l();let v=yield h.getIndexServerHtml().text();if(v=yield this.runTransformsOnHtml(v,u,a),v=yield yue(v,this.boostrap,u,c,Cue[i]),d)if(this.inlineCriticalCssProcessor??=new dx(T=>{let w=T.split("/").pop()??T;return this.assets.getServerAsset(w).text()}),i===dn.Server&&typeof crypto>"u"&&console.error("The global 'crypto' module is unavailable. If you are running on Node.js, please ensure you are using version 20 or later, which includes built-in support for the Web Crypto module."),i===dn.Server&&typeof crypto<"u"){let T=yield Sue(v),w=this.criticalCssLRUCache.get(T);w===void 0&&(w=yield this.inlineCriticalCssProcessor.process(v),this.criticalCssLRUCache.put(T,w)),v=w}else v=yield this.inlineCriticalCssProcessor.process(v);return new Response(v,p)})}buildServerAssetPathFromRequest(e){let{pathname:t}=new URL(e.url);t.endsWith("/index.html")||(t=xl(t,"index.html"));let{baseHref:r}=this.manifest;return r.length>1&&t.startsWith(r)&&(t=t.slice(r.length)),Dl(t)}runTransformsOnHtml(e,t,r){return P(this,null,function*(){return this.hooks.has("html:transform:pre")&&(e=yield this.hooks.run("html:transform:pre",{html:e,url:t})),r?.length&&(e=xue(e,r)),e})}},vU;function Iue(n){return vU??=new hx(n)}function Due(){vU=void 0}function xue(n,e){let t=n.lastIndexOf("</body>");return t===-1?n:[n.slice(0,t),...e.map(r=>`<link rel="modulepreload" href="${r}">`),n.slice(t)].join(`
`)}aU(Aue);var bU=()=>{};var Nue={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var EU=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Rue=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},o1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,h=c&63;u||(h=64,o||(f=64)),r.push(t[l],t[d],t[f],t[h])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(EU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Rue(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let c=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new mx;let f=s<<2|a>>4;if(r.push(f),c!==64){let h=a<<4&240|c>>2;if(r.push(h),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},mx=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},kue=function(n){let e=EU(n);return o1.encodeByteArray(e,!0)},Pm=function(n){return kue(n).replace(/\./g,"")},a1=function(n){try{return o1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Mue=()=>yx().__FIREBASE_DEFAULTS__,Oue=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Pue=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&a1(n[1]);return e&&JSON.parse(e)},vx=()=>{try{return bU()||Mue()||Oue()||Pue()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bx=n=>{var e,t;return(t=(e=vx())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},u1=n=>{let e=bx(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},_x=()=>{var n;return(n=vx())===null||n===void 0?void 0:n.config};var Al=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function c1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pm(JSON.stringify(t)),Pm(JSON.stringify(o)),""].join(".")}function Ii(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ii())}function Lue(){var n;let e=(n=vx())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TU(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IU(){return!Lue()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lm(){try{return typeof indexedDB=="object"}catch{return!1}}function DU(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var Fue="FirebaseError",Gr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Fue,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ls.prototype.create)}},Ls=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Uue(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gr(i,a,r)}};function Uue(n,e){return n.replace(Bue,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Bue=/\{\$([^}]+)}/g;function yo(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(_U(s)&&_U(o)){if(!yo(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function _U(n){return n!==null&&typeof n=="object"}function Ex(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _f(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ef(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xU(n,e){let t=new gx(n,e);return t.subscribe.bind(t)}var gx=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Vue(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=px),i.error===void 0&&(i.error=px),i.complete===void 0&&(i.complete=px);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Vue(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function px(){}var V8e=4*60*60*1e3;function en(n){return n&&n._delegate?n._delegate:n}Nue.NODE_CLIENT=!0;var Sr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Nl="[DEFAULT]";var wx=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Al;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jue(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return P(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:que(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function que(n){return n===Nl?void 0:n}function jue(n){return n.instantiationMode==="EAGER"}var l1=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new wx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Hue=[],vt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(vt||{}),$ue={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},zue=vt.INFO,Gue={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},Wue=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Gue[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},vo=class{constructor(e){this.name=e,this._logLevel=zue,this._logHandler=Wue,this._userLogHandler=null,Hue.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$ue[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}};var Kue=(n,e)=>e.some(t=>n instanceof t),AU,NU;function Que(){return AU||(AU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yue(){return NU||(NU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var RU=new WeakMap,Tx=new WeakMap,kU=new WeakMap,Sx=new WeakMap,Ix=new WeakMap;function Zue(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(bo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&RU.set(t,n)}).catch(()=>{}),Ix.set(e,n),e}function Xue(n){if(Tx.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Tx.set(n,e)}var Cx={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tx.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kU.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function MU(n){Cx=n(Cx)}function Jue(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(d1(this),e,...t);return kU.set(r,e.sort?e.sort():[e]),bo(r)}:Yue().includes(n)?function(...e){return n.apply(d1(this),e),bo(RU.get(this))}:function(...e){return bo(n.apply(d1(this),e))}}function ece(n){return typeof n=="function"?Jue(n):(n instanceof IDBTransaction&&Xue(n),Kue(n,Que())?new Proxy(n,Cx):n)}function bo(n){if(n instanceof IDBRequest)return Zue(n);if(Sx.has(n))return Sx.get(n);let e=ece(n);return e!==n&&(Sx.set(n,e),Ix.set(e,n)),e}var d1=n=>Ix.get(n);function PU(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=bo(o);return r&&o.addEventListener("upgradeneeded",u=>{r(bo(o.result),u.oldVersion,u.newVersion,bo(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var tce=["get","getKey","getAll","getAllKeys","count"],nce=["put","add","delete","clear"],Dx=new Map;function OU(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Dx.get(e))return Dx.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=nce.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tce.includes(t)))return;let s=function(o,...a){return P(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),i&&u.done]))[0]})};return Dx.set(e,s),s}MU(n=>me(Q({},n),{get:(e,t,r)=>OU(e,t)||n.get(e,t,r),has:(e,t)=>!!OU(e,t)||n.has(e,t)}));var Ax=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rce(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function rce(n){let e=n.getComponent();return e?.type==="VERSION"}var Nx="@firebase/app",LU="0.11.5";var va=new vo("@firebase/app"),ice="@firebase/app-compat",sce="@firebase/analytics-compat",oce="@firebase/analytics",ace="@firebase/app-check-compat",uce="@firebase/app-check",cce="@firebase/auth",lce="@firebase/auth-compat",dce="@firebase/database",fce="@firebase/data-connect",hce="@firebase/database-compat",pce="@firebase/functions",mce="@firebase/functions-compat",gce="@firebase/installations",yce="@firebase/installations-compat",vce="@firebase/messaging",bce="@firebase/messaging-compat",_ce="@firebase/performance",Ece="@firebase/performance-compat",wce="@firebase/remote-config",Sce="@firebase/remote-config-compat",Tce="@firebase/storage",Cce="@firebase/storage-compat",Ice="@firebase/firestore",Dce="@firebase/vertexai",xce="@firebase/firestore-compat",Ace="firebase",Nce="11.6.1";var Rx="[DEFAULT]",Rce={[Nx]:"fire-core",[ice]:"fire-core-compat",[oce]:"fire-analytics",[sce]:"fire-analytics-compat",[uce]:"fire-app-check",[ace]:"fire-app-check-compat",[cce]:"fire-auth",[lce]:"fire-auth-compat",[dce]:"fire-rtdb",[fce]:"fire-data-connect",[hce]:"fire-rtdb-compat",[pce]:"fire-fn",[mce]:"fire-fn-compat",[gce]:"fire-iid",[yce]:"fire-iid-compat",[vce]:"fire-fcm",[bce]:"fire-fcm-compat",[_ce]:"fire-perf",[Ece]:"fire-perf-compat",[wce]:"fire-rc",[Sce]:"fire-rc-compat",[Tce]:"fire-gcs",[Cce]:"fire-gcs-compat",[Ice]:"fire-fst",[xce]:"fire-fst-compat",[Dce]:"fire-vertex","fire-js":"fire-js",[Ace]:"fire-js-all"};var Fm=new Map,kce=new Map,kx=new Map;function FU(n,e){try{n.container.addComponent(e)}catch(t){va.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Di(n){let e=n.name;if(kx.has(e))return va.debug(`There were multiple attempts to register component ${e}.`),!1;kx.set(e,n);for(let t of Fm.values())FU(t,n);for(let t of kce.values())FU(t,n);return!0}function Nu(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function di(n){return n==null?!1:n.settings!==void 0}var Mce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Au=new Ls("app","Firebase",Mce);var Mx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Au.create("app-deleted",{appName:this._name})}};var Ru=Nce;function Lx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Rx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Au.create("bad-app-name",{appName:String(i)});if(t||(t=_x()),!t)throw Au.create("no-options");let s=Fm.get(i);if(s){if(yo(t,s.options)&&yo(r,s.config))return s;throw Au.create("duplicate-app",{appName:i})}let o=new l1(i);for(let u of kx.values())o.addComponent(u);let a=new Mx(t,r,o);return Fm.set(i,a),a}function ba(n=Rx){let e=Fm.get(n);if(!e&&n===Rx&&_x())return Lx();if(!e)throw Au.create("no-app",{appName:n});return e}function f1(){return Array.from(Fm.values())}function an(n,e,t){var r;let i=(r=Rce[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),va.warn(a.join(" "));return}Di(new Sr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Oce="firebase-heartbeat-database",Pce=1,Um="firebase-heartbeat-store",xx=null;function qU(){return xx||(xx=PU(Oce,Pce,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Um)}catch(t){console.warn(t)}}}}).catch(n=>{throw Au.create("idb-open",{originalErrorMessage:n.message})})),xx}function Lce(n){return P(this,null,function*(){try{let t=(yield qU()).transaction(Um),r=yield t.objectStore(Um).get(jU(n));return yield t.done,r}catch(e){if(e instanceof Gr)va.warn(e.message);else{let t=Au.create("idb-get",{originalErrorMessage:e?.message});va.warn(t.message)}}})}function UU(n,e){return P(this,null,function*(){try{let r=(yield qU()).transaction(Um,"readwrite");yield r.objectStore(Um).put(e,jU(n)),yield r.done}catch(t){if(t instanceof Gr)va.warn(t.message);else{let r=Au.create("idb-set",{originalErrorMessage:t?.message});va.warn(r.message)}}})}function jU(n){return`${n.name}!${n.options.appId}`}var Fce=1024,Uce=30,Ox=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Px(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return P(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BU();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Uce){let o=Vce(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){va.warn(r)}})}getHeartbeatsHeader(){return P(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=BU(),{heartbeatsToSend:r,unsentEntries:i}=Bce(this._heartbeatsCache.heartbeats),s=Pm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return va.warn(t),""}})}};function BU(){return new Date().toISOString().substring(0,10)}function Bce(n,e=Fce){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),VU(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),VU(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Px=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(this,null,function*(){return Lm()?DU().then(()=>!0).catch(()=>!1):!1})}read(){return P(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Lce(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return UU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function VU(n){return Pm(JSON.stringify({version:2,heartbeats:n})).length}function Vce(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function qce(n){Di(new Sr("platform-logger",e=>new Ax(e),"PRIVATE")),Di(new Sr("heartbeat",e=>new Ox(e),"PRIVATE")),an(Nx,LU,n),an(Nx,LU,"esm2017"),an("fire-js","")}qce("");var jce="firebase",Hce="11.6.1";an(jce,Hce,"app");function Fx(n){n===void 0&&(yv(Fx),n=z(Nt));let e=n.get(_v);return t=>new ot(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:u=>{r.next(u),o()},complete:()=>{r.complete(),o()},error:u=>{r.error(u),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var _o=new hu("ANGULARFIRE2_VERSION");function kl(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ku=(n,e)=>{let t=e?[e]:f1(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},wf=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(wf||{}),HU=N2()&&typeof Zone<"u"?wf.WARN:wf.SILENT;var h1=class{zone;delegate;constructor(e,t=XS){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Eo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=z(_t);this.outsideAngular=t.runOutsideAngular(()=>new h1(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new h1(typeof Zone>"u"?void 0:Zone.current,ZS))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$U=!1;function $ce(n,e){!$U&&(HU>wf.SILENT||N2())&&($U=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),HU>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function zce(n){let e=z(_t,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Rl(n){let e=z(_t,{optional:!0});return e?e.run(()=>n()):n()}var Gce=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),nr(t,()=>Rl(()=>n.apply(void 0,r)))),fn=(n,e,t)=>(t||=e?wf.WARN:wf.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=z(Eo),o=z(_v),a=z(Dr)}catch{return $ce(n,t),n.apply(this,i)}for(let c=0;c<arguments.length;c++)typeof i[c]=="function"&&(e&&(r||=Rl(()=>o.add())),i[c]=Gce(i[c],r,a));let u=zce(()=>n.apply(this,i));return e?u instanceof ot?u.pipe(iu(s.outsideAngular),ru(s.insideAngular),Fx(a)):u instanceof Promise?Rl(()=>new Promise((c,l)=>{o.run(()=>u).then(d=>nr(a,()=>Rl(()=>c(d))),d=>nr(a,()=>Rl(()=>l(d))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Rl(()=>u):u instanceof ot?u.pipe(iu(s.outsideAngular),ru(s.insideAngular)):Rl(()=>u)});var Fs=class{constructor(e){return e}},_a=class{constructor(){return f1()}};function Wce(n){return n&&n.length===1?n[0]:new Fs(ba())}var Ux=new de("angularfire2._apps"),Kce={provide:Fs,useFactory:Wce,deps:[[new Kn,Ux]]},Qce={provide:_a,deps:[[new Kn,Ux]]};function Yce(n){return(e,t)=>{let r=t.get(zr);an("angularfire",_o.full,"core"),an("angularfire",_o.full,"app"),an("angular",CL.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Fs(i)}}function zU(n,...e){return xr([Kce,Qce,{provide:Ux,useFactory:Yce(n),multi:!0,deps:[_t,Nt,Eo,...e]}])}var GU=fn(Lx,!0);var Zce=new Map,Xce={activated:!1,tokenObservers:[]},Jce={initialized:!1,enabled:!1};function Us(n){return Zce.get(n)||Object.assign({},Xce)}function YU(){return Jce}var ele="https://content-firebaseappcheck.googleapis.com/v1";var tle="exchangeDebugToken",WU={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},$Pe=24*60*60*1e3;var qx=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return P(this,null,function*(){this.stop();try{this.pending=new Al,this.pending.promise.catch(t=>{}),yield nle(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Al,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function nle(n){return new Promise(e=>{setTimeout(e,n)})}var rle={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Mu=new Ls("appCheck","AppCheck",rle);function ZU(n){if(!Us(n).activated)throw Mu.create("use-before-activation",{appName:n.name})}function XU(r,i){return P(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let h=yield o.getHeartbeatsHeader();h&&(s["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:s},u;try{u=yield fetch(n,a)}catch(h){throw Mu.create("fetch-network-error",{originalErrorMessage:h?.message})}if(u.status!==200)throw Mu.create("fetch-status-error",{httpStatus:u.status});let c;try{c=yield u.json()}catch(h){throw Mu.create("fetch-parse-error",{originalErrorMessage:h?.message})}let l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Mu.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(l[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function JU(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${ele}/projects/${t}/apps/${r}:${tle}?key=${i}`,body:{debug_token:e}}}var ile="firebase-app-check-database",sle=1,jx="firebase-app-check-store";var p1=null;function ole(){return p1||(p1=new Promise((n,e)=>{try{let t=indexedDB.open(ile,sle);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Mu.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(jx,{keyPath:"compositeKey"})}}}catch(t){e(Mu.create("storage-open",{originalErrorMessage:t?.message}))}}),p1)}function ale(n,e){return ule(cle(n),e)}function ule(n,e){return P(this,null,function*(){let r=(yield ole()).transaction(jx,"readwrite"),s=r.objectStore(jx).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Mu.create("storage-set",{originalErrorMessage:(c=u.target.error)===null||c===void 0?void 0:c.message}))}})})}function cle(n){return`${n.options.appId}-${n.name}`}var Bm=new vo("@firebase/app-check");function Bx(n,e){return Lm()?ale(n,e).catch(t=>{Bm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function eB(){return YU().enabled}function tB(){return P(this,null,function*(){let n=YU();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var lle={error:"UNKNOWN_ERROR"};function dle(n){return o1.encodeString(JSON.stringify(n),!1)}function Hx(n,e=!1,t=!1){return P(this,null,function*(){let r=n.app;ZU(r);let i=Us(r),s=i.token,o;if(s&&!Vm(s)&&(i.token=void 0,s=void 0),!s){let c=yield i.cachedTokenPromise;c&&(Vm(c)?s=c:yield Bx(r,void 0))}if(!e&&s&&Vm(s))return{token:s.token};let a=!1;if(eB())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=XU(JU(r,yield tB()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let c=yield i.exchangeTokenPromise;return yield Bx(r,c),i.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Bm.warn(c.message):t&&Bm.error(c),Vx(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield Us(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Bm.warn(c.message):t&&Bm.error(c),o=c}let u;return s?o?Vm(s)?u={token:s.token,internalError:o}:u=Vx(o):(u={token:s.token},i.token=s,yield Bx(r,s)):u=Vx(o),a&&mle(r,u),u})}function fle(n){return P(this,null,function*(){let e=n.app;ZU(e);let{provider:t}=Us(e);if(eB()){let r=yield tB(),{token:i}=yield XU(JU(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function hle(n,e,t,r){let{app:i}=n,s=Us(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Vm(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),KU(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>KU(n))}function nB(n,e){let t=Us(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function KU(n){let{app:e}=n,t=Us(e),r=t.tokenRefresher;r||(r=ple(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ple(n){let{app:e}=n;return new qx(()=>P(this,null,function*(){let t=Us(e),r;if(t.token?r=yield Hx(n,!0):r=yield Hx(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Us(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},WU.RETRIAL_MIN_WAIT,WU.RETRIAL_MAX_WAIT)}function mle(n,e){let t=Us(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Vm(n){return n.expireTimeMillis-Date.now()>0}function Vx(n){return{token:dle(lle),error:n}}var $x=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Us(this.app);for(let t of e)nB(this.app,t.next);return Promise.resolve()}};function gle(n,e){return new $x(n,e)}function yle(n){return{getToken:e=>Hx(n,e),getLimitedUseToken:()=>fle(n),addTokenListener:e=>hle(n,"INTERNAL",e),removeTokenListener:e=>nB(n.app,e)}}var vle="@firebase/app-check",ble="0.8.13";var _le="app-check",QU="app-check-internal";function Ele(){Di(new Sr(_le,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return gle(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(QU).initialize()})),Di(new Sr(QU,n=>{let e=n.getProvider("app-check").getImmediate();return yle(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),an(vle,ble)}Ele();var wle="app-check";var Ou=class{constructor(){return ku(wle)}};var Sle=["localhost","0.0.0.0","127.0.0.1"],r4e=typeof window<"u"&&Sle.includes(window.location.hostname);function fB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hB=fB,pB=new Ls("auth","Firebase",fB());var y1=new vo("@firebase/auth");function Tle(n,...e){y1.logLevel<=vt.WARN&&y1.warn(`Auth (${Ru}): ${n}`,...e)}function g1(n,...e){y1.logLevel<=vt.ERROR&&y1.error(`Auth (${Ru}): ${n}`,...e)}function Sf(n,...e){throw oA(n,...e)}function sA(n,...e){return oA(n,...e)}function mB(n,e,t){let r=Object.assign(Object.assign({},hB()),{[e]:t});return new Ls("auth","Firebase",r).create(e,{appName:n.name})}function Ol(n){return mB(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oA(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pB.create(n,...e)}function it(n,e,...t){if(!n)throw oA(e,...t)}function Ea(n){let e="INTERNAL ASSERTION FAILED: "+n;throw g1(e),new Error(e)}function v1(n,e){n||Ea(e)}function Cle(){return rB()==="http:"||rB()==="https:"}function rB(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Ile(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cle()||TU()||"connection"in navigator)?navigator.onLine:!0}function Dle(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Wx=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,v1(t>e,"Short delay should be less than long delay!"),this.isMobile=wU()||CU()}get(){return Ile()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function xle(n,e){v1(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var $m=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Ale={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Nle=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rle=new Wx(3e4,6e4);function Fu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function wa(s,o,a,u){return P(this,arguments,function*(n,e,t,r,i={}){return gB(n,i,()=>P(this,null,function*(){let c={},l={};r&&(e==="GET"?l=r:c={body:JSON.stringify(r)});let d=Ex(Object.assign({key:n.config.apiKey},l)).slice(1),f=yield n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);let h=Object.assign({method:e,headers:f},c);return SU()||(h.referrerPolicy="no-referrer"),$m.fetch()(yield yB(n,n.config.apiHost,t,d),h)}))})}function gB(n,e,t){return P(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Ale),e);try{let i=new Kx(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw m1(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw m1(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw m1(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw m1(n,"user-disabled",o);let l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mB(n,l,c);Sf(n,l)}}catch(i){if(i instanceof Gr)throw i;Sf(n,"network-request-failed",{message:String(i)})}})}function A1(s,o,a,u){return P(this,arguments,function*(n,e,t,r,i={}){let c=yield wa(n,e,t,r,i);return"mfaPendingCredential"in c&&Sf(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function yB(n,e,t,r){return P(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?xle(n.config,i):`${n.config.apiScheme}://${i}`;return Nle.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function kle(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Kx=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(sA(this.auth,"network-request-failed")),Rle.get())})}};function m1(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=sA(n,e,r);return i.customData._tokenResponse=t,i}function iB(n){return n!==void 0&&n.enterprise!==void 0}var Qx=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kle(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Mle(n,e){return P(this,null,function*(){return wa(n,"GET","/v2/recaptchaConfig",Fu(n,e))})}function Ole(n,e){return P(this,null,function*(){return wa(n,"POST","/v1/accounts:delete",e)})}function b1(n,e){return P(this,null,function*(){return wa(n,"POST","/v1/accounts:lookup",e)})}function jm(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function aA(n,e=!1){return P(this,null,function*(){let t=en(n),r=yield t.getIdToken(e),i=vB(r);it(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:jm(zx(i.auth_time)),issuedAtTime:jm(zx(i.iat)),expirationTime:jm(zx(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function zx(n){return Number(n)*1e3}function vB(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return g1("JWT malformed, contained fewer than 3 sections"),null;try{let i=a1(t);return i?JSON.parse(i):(g1("Failed to decode base64 JWT payload"),null)}catch(i){return g1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sB(n){let e=vB(n);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function _1(n,e,t=!1){return P(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Gr&&Ple(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Ple({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Yx=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>P(this,null,function*(){yield this.iteration()}),t)}iteration(){return P(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zm=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jm(this.lastLoginAt),this.creationTime=jm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function E1(n){return P(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield _1(n,b1(t,{idToken:r}));it(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bB(s.providerUserInfo):[],a=Lle(n.providerData,o),u=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!a?.length,l=u?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zm(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)})}function uA(n){return P(this,null,function*(){let e=en(n);yield E1(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Lle(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bB(n){return n.map(e=>{var{providerId:t}=e,r=JS(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Fle(n,e){return P(this,null,function*(){let t=yield gB(n,{},()=>P(this,null,function*(){let r=Ex({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield yB(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$m.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Ule(n,e){return P(this,null,function*(){return wa(n,"POST","/v2/accounts:revokeToken",Fu(n,e))})}var Hm=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){it(e.length!==0,"internal-error");let t=sB(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return P(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(it(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return P(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Fle(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(it(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(it(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(it(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ea("not implemented")}};function Pu(n,e){it(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Lu=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=JS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zm(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return P(this,null,function*(){let t=yield _1(this,this.stsTokenManager.getToken(this.auth,e));return it(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return aA(this,e)}reload(){return uA(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return P(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield E1(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return P(this,null,function*(){if(di(this.auth.app))return Promise.reject(Ol(this.auth));let e=yield this.getIdToken();return yield _1(this,Ole(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;let d=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(i=t.email)!==null&&i!==void 0?i:void 0,h=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,T=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,w=(c=t.createdAt)!==null&&c!==void 0?c:void 0,C=(l=t.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:D,emailVerified:S,isAnonymous:x,providerData:V,stsTokenManager:R}=t;it(D&&R,e,"internal-error");let A=Hm.fromJSON(this.name,R);it(typeof D=="string",e,"internal-error"),Pu(d,e.name),Pu(f,e.name),it(typeof S=="boolean",e,"internal-error"),it(typeof x=="boolean",e,"internal-error"),Pu(h,e.name),Pu(p,e.name),Pu(v,e.name),Pu(T,e.name),Pu(w,e.name),Pu(C,e.name);let N=new n({uid:D,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:A,createdAt:w,lastLoginAt:C});return V&&Array.isArray(V)&&(N.providerData=V.map(_=>Object.assign({},_))),T&&(N._redirectEventId=T),N}static _fromIdTokenResponse(e,t,r=!1){return P(this,null,function*(){let i=new Hm;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield E1(s),s})}static _fromGetAccountInfoResponse(e,t,r){return P(this,null,function*(){let i=t.users[0];it(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?bB(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Hm;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,c),u})}};var oB=new Map;function Ml(n){v1(n instanceof Function,"Expected a class definition");let e=oB.get(n);return e?(v1(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,oB.set(n,e),e)}var Ble=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return P(this,null,function*(){return!0})}_set(t,r){return P(this,null,function*(){this.storage[t]=r})}_get(t){return P(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return P(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Zx=Ble;function Gx(n,e,t){return`firebase:${n}:${e}:${t}`}var w1=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Gx(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gx("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return P(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield b1(this.auth,{idToken:e}).catch(()=>{});return t?Lu._fromGetAccountInfoResponse(this.auth,t,e):null}return Lu._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return P(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return P(this,null,function*(){if(!t.length)return new n(Ml(Zx),e,r);let i=(yield Promise.all(t.map(c=>P(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Ml(Zx),o=Gx(r,e.config.apiKey,e.name),a=null;for(let c of t)try{let l=yield c._get(o);if(l){let d;if(typeof l=="string"){let f=yield b1(e,{idToken:l}).catch(()=>{});if(!f)break;d=yield Lu._fromGetAccountInfoResponse(e,f,l)}else d=Lu._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}let u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(c=>P(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new n(s,e,r))})}};function aB(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hle(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vle(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zle(e))return"Blackberry";if(Gle(e))return"Webos";if(qle(e))return"Safari";if((e.includes("chrome/")||jle(e))&&!e.includes("edge/"))return"Chrome";if($le(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Vle(n=Ii()){return/firefox\//i.test(n)}function qle(n=Ii()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jle(n=Ii()){return/crios\//i.test(n)}function Hle(n=Ii()){return/iemobile/i.test(n)}function $le(n=Ii()){return/android/i.test(n)}function zle(n=Ii()){return/blackberry/i.test(n)}function Gle(n=Ii()){return/webos/i.test(n)}function _B(n,e=[]){let t;switch(n){case"Browser":t=aB(Ii());break;case"Worker":t=`${aB(Ii())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ru}/${r}`}var Xx=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return P(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Wle(t){return P(this,arguments,function*(n,e={}){return wa(n,"GET","/v2/passwordPolicy",Fu(n,e))})}var Kle=6,Jx=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Kle,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var S1=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T1(this),this.idTokenSubscription=new T1(this),this.beforeStateQueue=new Xx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ml(t)),this._initializationPromise=this.queue(()=>P(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield w1.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return P(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return P(this,null,function*(){try{let t=yield b1(this,{idToken:e}),r=yield Lu._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return P(this,null,function*(){var t;if(di(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return P(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return P(this,null,function*(){try{yield E1(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Dle()}_delete(){return P(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return P(this,null,function*(){if(di(this.app))return Promise.reject(Ol(this));let t=e?en(e):null;return t&&it(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return P(this,null,function*(){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>P(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return P(this,null,function*(){return di(this.app)?Promise.reject(Ol(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return di(this.app)?Promise.reject(Ol(this)):this.queue(()=>P(this,null,function*(){yield this.assertedPersistence.setPersistence(Ml(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return P(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return P(this,null,function*(){let e=yield Wle(this),t=new Jx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ls("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return P(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Ule(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return P(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return P(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ml(e)||this._popupRedirectResolver;it(t,this,"argument-error"),this.redirectPersistenceManager=yield w1.create(this,[Ml(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return P(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>P(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return P(this,null,function*(){if(e===this.currentUser)return this.queue(()=>P(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return P(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_B(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return P(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return P(this,null,function*(){var e;if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Tle(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Pl(n){return en(n)}var T1=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xU(t=>this.observer=t)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var EB={loadJS(){return P(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qle(n){return EB.loadJS(n)}function Yle(){return EB.recaptchaEnterpriseScript}var eA=class{constructor(){this.enterprise=new tA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},tA=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Zle="recaptcha-enterprise",wB="NO_RECAPTCHA",nA=class{constructor(e){this.type=Zle,this.auth=Pl(e)}verify(e="verify",t=!1){return P(this,null,function*(){function r(s){return P(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>P(this,null,function*(){Mle(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new Qx(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;iB(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(wB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eA().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&iB(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Yle();u.length!==0&&(u+=a),Qle(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function qm(n,e,t,r=!1,i=!1){return P(this,null,function*(){let s=new nA(n),o;if(i)o=wB;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function C1(n,e,t,r,i){return P(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield qm(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>P(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield qm(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield qm(n,e,t);return r(n,a).catch(u=>P(this,null,function*(){var c;if(((c=n._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let l=yield qm(n,e,t,!1,!0);return r(n,l)}return Promise.reject(u)}))}else{let a=yield qm(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function cA(n,e){let t=Nu(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(yo(s,e??{}))return i;Sf(i,"already-initialized")}return t.initialize({options:e})}function Xle(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ml);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function lA(n,e,t){let r=Pl(n);it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=SB(e),{host:o,port:a}=Jle(e),u=a===null?"":`:${a}`,c={url:`${s}//${o}${u}/`},l=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){it(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),it(yo(c,r.config.emulator)&&yo(l,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,i||ede()}function SB(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Jle(n){let e=SB(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:uB(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:uB(o)}}}function uB(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function ede(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var I1=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ea("not implemented")}_getIdTokenResponse(e){return Ea("not implemented")}_linkToIdToken(e,t){return Ea("not implemented")}_getReauthenticationResolver(e){return Ea("not implemented")}};function tde(n,e){return P(this,null,function*(){return wa(n,"POST","/v1/accounts:signUp",e)})}function nde(n,e){return P(this,null,function*(){return A1(n,"POST","/v1/accounts:signInWithPassword",Fu(n,e))})}function rde(n,e){return P(this,null,function*(){return wa(n,"POST","/v1/accounts:sendOobCode",Fu(n,e))})}function ide(n,e){return P(this,null,function*(){return rde(n,e)})}function sde(n,e){return P(this,null,function*(){return A1(n,"POST","/v1/accounts:signInWithEmailLink",Fu(n,e))})}function ode(n,e){return P(this,null,function*(){return A1(n,"POST","/v1/accounts:signInWithEmailLink",Fu(n,e))})}var Gm=class n extends I1{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return P(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C1(e,t,"signInWithPassword",nde,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return sde(e,{email:this._email,oobCode:this._password});default:Sf(e,"internal-error")}})}_linkToIdToken(e,t){return P(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C1(e,r,"signUpPassword",tde,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ode(e,{idToken:t,email:this._email,oobCode:this._password});default:Sf(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ade(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ude(n){let e=_f(Ef(n)).link,t=e?_f(Ef(e)).deep_link_id:null,r=_f(Ef(n)).deep_link_id;return(r?_f(Ef(r)).link:null)||r||t||e||n}var D1=class n{constructor(e){var t,r,i,s,o,a;let u=_f(Ef(e)),c=(t=u.apiKey)!==null&&t!==void 0?t:null,l=(r=u.oobCode)!==null&&r!==void 0?r:null,d=ade((i=u.mode)!==null&&i!==void 0?i:null);it(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=ude(e);try{return new n(t)}catch{return null}}};var TB=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Gm._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=D1.parseLink(r);return it(i,"argument-error"),Gm._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})();function cde(n,e){return P(this,null,function*(){return A1(n,"POST","/v1/accounts:signUp",Fu(n,e))})}var x1=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return P(this,null,function*(){let s=yield Lu._fromIdTokenResponse(e,r,i),o=cB(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return P(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=cB(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function cB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var rA=class n extends Gr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function lde(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rA._fromErrorAndOperation(n,s,e,r):s})}function dde(n,e,t=!1){return P(this,null,function*(){if(di(n.app))return Promise.reject(Ol(n));let r="signIn",i=yield lde(n,r,e),s=yield x1._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function dA(n,e){return P(this,null,function*(){return dde(Pl(n),e)})}function fde(n,e,t){var r;it(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),it(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),it(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(it(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(it(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function CB(n){return P(this,null,function*(){let e=Pl(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function fA(n,e,t){return P(this,null,function*(){let r=Pl(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&fde(r,i,t),yield C1(r,i,"getOobCode",ide,"EMAIL_PASSWORD_PROVIDER")})}function hA(n,e,t){return P(this,null,function*(){if(di(n.app))return Promise.reject(Ol(n));let r=Pl(n),o=yield C1(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cde,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&CB(n),u}),a=yield x1._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function pA(n,e,t){return di(n.app)?Promise.reject(Ol(n)):dA(en(n),TB.credential(e,t)).catch(r=>P(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&CB(n),r}))}function hde(n,e){return P(this,null,function*(){return wa(n,"POST","/v1/accounts:update",e)})}function mA(r,i){return P(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let s=en(n),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=yield _1(s,hde(s.auth,a));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;let c=s.providerData.find(({providerId:l})=>l==="password");c&&(c.displayName=s.displayName,c.photoURL=s.photoURL),yield s._updateTokensIfNecessary(u)})}function gA(n,e,t,r){return en(n).onAuthStateChanged(e,t,r)}function yA(n){return en(n).signOut()}var lB="@firebase/auth",dB="1.10.1";var iA=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return P(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pde(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mde(n){Di(new Sr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;it(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_B(n)},c=new S1(r,i,s,u);return Xle(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Di(new Sr("auth-internal",e=>{let t=Pl(e.getProvider("auth").getImmediate());return(r=>new iA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),an(lB,dB,pde(n)),an(lB,dB,"esm2017")}$m.initialize(fetch,Headers,Response);function N1(n=ba()){let e=Nu(n,"auth");if(e.isInitialized())return e.getImmediate();let t=cA(n),r=bx("auth");return r&&lA(t,`http://${r}`),t}mde("Node");var f4e=sA("operation-not-supported-in-this-environment");S1.prototype.setPersistence=()=>P(void 0,null,function*(){});var IB="auth",Sa=class{constructor(e){return e}},Ll=class{constructor(){return ku(IB)}};var vA=new de("angularfire2.auth-instances");function rfe(n,e){let t=kl(IB,n,e);return t&&new Sa(t)}function ife(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Sa(r)}}var sfe={provide:Ll,deps:[[new Kn,vA]]},ofe={provide:Sa,useFactory:rfe,deps:[[new Kn,vA],Fs]};function DB(n,...e){return an("angularfire",_o.full,"auth"),xr([ofe,sfe,{provide:vA,useFactory:ife(n),multi:!0,deps:[_t,Nt,Eo,_a,[new Kn,Ou],...e]}])}var xB=fn(hA,!0,2);var AB=fn(gA,!0);var NB=fn(fA,!0,2);var RB=fn(pA,!0,2);var kB=fn(yA,!0,2);var MB=fn(mA,!0,2);import{inspect as wbe,TextEncoder as Sbe,TextDecoder as yFe}from"util";import{randomBytes as Tbe}from"crypto";var OB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PB={};var Ta,bA;(function(){var n;function e(R,A){function N(){}N.prototype=A.prototype,R.D=A.prototype,R.prototype=new N,R.prototype.constructor=R,R.C=function(_,I,L){for(var g=Array(arguments.length-2),m=2;m<arguments.length;m++)g[m-2]=arguments[m];return A.prototype[I].apply(_,g)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,A,N){N||(N=0);var _=Array(16);if(typeof A=="string")for(var I=0;16>I;++I)_[I]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(I=0;16>I;++I)_[I]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=R.g[0],N=R.g[1],I=R.g[2];var L=R.g[3],g=A+(L^N&(I^L))+_[0]+3614090360&4294967295;A=N+(g<<7&4294967295|g>>>25),g=L+(I^A&(N^I))+_[1]+3905402710&4294967295,L=A+(g<<12&4294967295|g>>>20),g=I+(N^L&(A^N))+_[2]+606105819&4294967295,I=L+(g<<17&4294967295|g>>>15),g=N+(A^I&(L^A))+_[3]+3250441966&4294967295,N=I+(g<<22&4294967295|g>>>10),g=A+(L^N&(I^L))+_[4]+4118548399&4294967295,A=N+(g<<7&4294967295|g>>>25),g=L+(I^A&(N^I))+_[5]+1200080426&4294967295,L=A+(g<<12&4294967295|g>>>20),g=I+(N^L&(A^N))+_[6]+2821735955&4294967295,I=L+(g<<17&4294967295|g>>>15),g=N+(A^I&(L^A))+_[7]+4249261313&4294967295,N=I+(g<<22&4294967295|g>>>10),g=A+(L^N&(I^L))+_[8]+1770035416&4294967295,A=N+(g<<7&4294967295|g>>>25),g=L+(I^A&(N^I))+_[9]+2336552879&4294967295,L=A+(g<<12&4294967295|g>>>20),g=I+(N^L&(A^N))+_[10]+4294925233&4294967295,I=L+(g<<17&4294967295|g>>>15),g=N+(A^I&(L^A))+_[11]+2304563134&4294967295,N=I+(g<<22&4294967295|g>>>10),g=A+(L^N&(I^L))+_[12]+1804603682&4294967295,A=N+(g<<7&4294967295|g>>>25),g=L+(I^A&(N^I))+_[13]+4254626195&4294967295,L=A+(g<<12&4294967295|g>>>20),g=I+(N^L&(A^N))+_[14]+2792965006&4294967295,I=L+(g<<17&4294967295|g>>>15),g=N+(A^I&(L^A))+_[15]+1236535329&4294967295,N=I+(g<<22&4294967295|g>>>10),g=A+(I^L&(N^I))+_[1]+4129170786&4294967295,A=N+(g<<5&4294967295|g>>>27),g=L+(N^I&(A^N))+_[6]+3225465664&4294967295,L=A+(g<<9&4294967295|g>>>23),g=I+(A^N&(L^A))+_[11]+643717713&4294967295,I=L+(g<<14&4294967295|g>>>18),g=N+(L^A&(I^L))+_[0]+3921069994&4294967295,N=I+(g<<20&4294967295|g>>>12),g=A+(I^L&(N^I))+_[5]+3593408605&4294967295,A=N+(g<<5&4294967295|g>>>27),g=L+(N^I&(A^N))+_[10]+38016083&4294967295,L=A+(g<<9&4294967295|g>>>23),g=I+(A^N&(L^A))+_[15]+3634488961&4294967295,I=L+(g<<14&4294967295|g>>>18),g=N+(L^A&(I^L))+_[4]+3889429448&4294967295,N=I+(g<<20&4294967295|g>>>12),g=A+(I^L&(N^I))+_[9]+568446438&4294967295,A=N+(g<<5&4294967295|g>>>27),g=L+(N^I&(A^N))+_[14]+3275163606&4294967295,L=A+(g<<9&4294967295|g>>>23),g=I+(A^N&(L^A))+_[3]+4107603335&4294967295,I=L+(g<<14&4294967295|g>>>18),g=N+(L^A&(I^L))+_[8]+1163531501&4294967295,N=I+(g<<20&4294967295|g>>>12),g=A+(I^L&(N^I))+_[13]+2850285829&4294967295,A=N+(g<<5&4294967295|g>>>27),g=L+(N^I&(A^N))+_[2]+4243563512&4294967295,L=A+(g<<9&4294967295|g>>>23),g=I+(A^N&(L^A))+_[7]+1735328473&4294967295,I=L+(g<<14&4294967295|g>>>18),g=N+(L^A&(I^L))+_[12]+2368359562&4294967295,N=I+(g<<20&4294967295|g>>>12),g=A+(N^I^L)+_[5]+4294588738&4294967295,A=N+(g<<4&4294967295|g>>>28),g=L+(A^N^I)+_[8]+2272392833&4294967295,L=A+(g<<11&4294967295|g>>>21),g=I+(L^A^N)+_[11]+1839030562&4294967295,I=L+(g<<16&4294967295|g>>>16),g=N+(I^L^A)+_[14]+4259657740&4294967295,N=I+(g<<23&4294967295|g>>>9),g=A+(N^I^L)+_[1]+2763975236&4294967295,A=N+(g<<4&4294967295|g>>>28),g=L+(A^N^I)+_[4]+1272893353&4294967295,L=A+(g<<11&4294967295|g>>>21),g=I+(L^A^N)+_[7]+4139469664&4294967295,I=L+(g<<16&4294967295|g>>>16),g=N+(I^L^A)+_[10]+3200236656&4294967295,N=I+(g<<23&4294967295|g>>>9),g=A+(N^I^L)+_[13]+681279174&4294967295,A=N+(g<<4&4294967295|g>>>28),g=L+(A^N^I)+_[0]+3936430074&4294967295,L=A+(g<<11&4294967295|g>>>21),g=I+(L^A^N)+_[3]+3572445317&4294967295,I=L+(g<<16&4294967295|g>>>16),g=N+(I^L^A)+_[6]+76029189&4294967295,N=I+(g<<23&4294967295|g>>>9),g=A+(N^I^L)+_[9]+3654602809&4294967295,A=N+(g<<4&4294967295|g>>>28),g=L+(A^N^I)+_[12]+3873151461&4294967295,L=A+(g<<11&4294967295|g>>>21),g=I+(L^A^N)+_[15]+530742520&4294967295,I=L+(g<<16&4294967295|g>>>16),g=N+(I^L^A)+_[2]+3299628645&4294967295,N=I+(g<<23&4294967295|g>>>9),g=A+(I^(N|~L))+_[0]+4096336452&4294967295,A=N+(g<<6&4294967295|g>>>26),g=L+(N^(A|~I))+_[7]+1126891415&4294967295,L=A+(g<<10&4294967295|g>>>22),g=I+(A^(L|~N))+_[14]+2878612391&4294967295,I=L+(g<<15&4294967295|g>>>17),g=N+(L^(I|~A))+_[5]+4237533241&4294967295,N=I+(g<<21&4294967295|g>>>11),g=A+(I^(N|~L))+_[12]+1700485571&4294967295,A=N+(g<<6&4294967295|g>>>26),g=L+(N^(A|~I))+_[3]+2399980690&4294967295,L=A+(g<<10&4294967295|g>>>22),g=I+(A^(L|~N))+_[10]+4293915773&4294967295,I=L+(g<<15&4294967295|g>>>17),g=N+(L^(I|~A))+_[1]+2240044497&4294967295,N=I+(g<<21&4294967295|g>>>11),g=A+(I^(N|~L))+_[8]+1873313359&4294967295,A=N+(g<<6&4294967295|g>>>26),g=L+(N^(A|~I))+_[15]+4264355552&4294967295,L=A+(g<<10&4294967295|g>>>22),g=I+(A^(L|~N))+_[6]+2734768916&4294967295,I=L+(g<<15&4294967295|g>>>17),g=N+(L^(I|~A))+_[13]+1309151649&4294967295,N=I+(g<<21&4294967295|g>>>11),g=A+(I^(N|~L))+_[4]+4149444226&4294967295,A=N+(g<<6&4294967295|g>>>26),g=L+(N^(A|~I))+_[11]+3174756917&4294967295,L=A+(g<<10&4294967295|g>>>22),g=I+(A^(L|~N))+_[2]+718787259&4294967295,I=L+(g<<15&4294967295|g>>>17),g=N+(L^(I|~A))+_[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(I+(g<<21&4294967295|g>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var N=A-this.blockSize,_=this.B,I=this.h,L=0;L<A;){if(I==0)for(;L<=N;)i(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<A;)if(_[I++]=R.charCodeAt(L++),I==this.blockSize){i(this,_),I=0;break}}else for(;L<A;)if(_[I++]=R[L++],I==this.blockSize){i(this,_),I=0;break}}this.h=I,this.o+=A},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var N=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=N&255,N/=256;for(this.u(R),R=Array(16),A=N=0;4>A;++A)for(var _=0;32>_;_+=8)R[N++]=this.g[A]>>>_&255;return R};function s(R,A){var N=a;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=A(R)}function o(R,A){this.h=A;for(var N=[],_=!0,I=R.length-1;0<=I;I--){var L=R[I]|0;_&&L==A||(N[I]=L,_=!1)}this.g=N}var a={};function u(R){return-128<=R&&128>R?s(R,function(A){return new o([A|0],0>A?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return d;if(0>R)return T(c(-R));for(var A=[],N=1,_=0;R>=N;_++)A[_]=R/N|0,N*=4294967296;return new o(A,0)}function l(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return T(l(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=c(Math.pow(A,8)),_=d,I=0;I<R.length;I+=8){var L=Math.min(8,R.length-I),g=parseInt(R.substring(I,I+L),A);8>L?(L=c(Math.pow(A,L)),_=_.j(L).add(c(g))):(_=_.j(N),_=_.add(c(g)))}return _}var d=u(0),f=u(1),h=u(16777216);n=o.prototype,n.m=function(){if(v(this))return-T(this).m();for(var R=0,A=1,N=0;N<this.g.length;N++){var _=this.i(N);R+=(0<=_?_:4294967296+_)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(p(this))return"0";if(v(this))return"-"+T(this).toString(R);for(var A=c(Math.pow(R,6)),N=this,_="";;){var I=S(N,A).g;N=w(N,I.j(A));var L=((0<N.g.length?N.g[0]:N.h)>>>0).toString(R);if(N=I,p(N))return L+_;for(;6>L.length;)L="0"+L;_=L+_}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function p(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function v(R){return R.h==-1}n.l=function(R){return R=w(this,R),v(R)?-1:p(R)?0:1};function T(R){for(var A=R.g.length,N=[],_=0;_<A;_++)N[_]=~R.g[_];return new o(N,~R.h).add(f)}n.abs=function(){return v(this)?T(this):this},n.add=function(R){for(var A=Math.max(this.g.length,R.g.length),N=[],_=0,I=0;I<=A;I++){var L=_+(this.i(I)&65535)+(R.i(I)&65535),g=(L>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);_=g>>>16,L&=65535,g&=65535,N[I]=g<<16|L}return new o(N,N[N.length-1]&-2147483648?-1:0)};function w(R,A){return R.add(T(A))}n.j=function(R){if(p(this)||p(R))return d;if(v(this))return v(R)?T(this).j(T(R)):T(T(this).j(R));if(v(R))return T(this.j(T(R)));if(0>this.l(h)&&0>R.l(h))return c(this.m()*R.m());for(var A=this.g.length+R.g.length,N=[],_=0;_<2*A;_++)N[_]=0;for(_=0;_<this.g.length;_++)for(var I=0;I<R.g.length;I++){var L=this.i(_)>>>16,g=this.i(_)&65535,m=R.i(I)>>>16,y=R.i(I)&65535;N[2*_+2*I]+=g*y,C(N,2*_+2*I),N[2*_+2*I+1]+=L*y,C(N,2*_+2*I+1),N[2*_+2*I+1]+=g*m,C(N,2*_+2*I+1),N[2*_+2*I+2]+=L*m,C(N,2*_+2*I+2)}for(_=0;_<A;_++)N[_]=N[2*_+1]<<16|N[2*_];for(_=A;_<2*A;_++)N[_]=0;return new o(N,0)};function C(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function D(R,A){this.g=R,this.h=A}function S(R,A){if(p(A))throw Error("division by zero");if(p(R))return new D(d,d);if(v(R))return A=S(T(R),A),new D(T(A.g),T(A.h));if(v(A))return A=S(R,T(A)),new D(T(A.g),A.h);if(30<R.g.length){if(v(R)||v(A))throw Error("slowDivide_ only works with positive integers.");for(var N=f,_=A;0>=_.l(R);)N=x(N),_=x(_);var I=V(N,1),L=V(_,1);for(_=V(_,2),N=V(N,2);!p(_);){var g=L.add(_);0>=g.l(R)&&(I=I.add(N),L=g),_=V(_,1),N=V(N,1)}return A=w(R,I.j(A)),new D(I,A)}for(I=d;0<=R.l(A);){for(N=Math.max(1,Math.floor(R.m()/A.m())),_=Math.ceil(Math.log(N)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),L=c(N),g=L.j(A);v(g)||0<g.l(R);)N-=_,L=c(N),g=L.j(A);p(L)&&(L=f),I=I.add(L),R=w(R,g)}return new D(I,R)}n.A=function(R){return S(this,R).h},n.and=function(R){for(var A=Math.max(this.g.length,R.g.length),N=[],_=0;_<A;_++)N[_]=this.i(_)&R.i(_);return new o(N,this.h&R.h)},n.or=function(R){for(var A=Math.max(this.g.length,R.g.length),N=[],_=0;_<A;_++)N[_]=this.i(_)|R.i(_);return new o(N,this.h|R.h)},n.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),N=[],_=0;_<A;_++)N[_]=this.i(_)^R.i(_);return new o(N,this.h^R.h)};function x(R){for(var A=R.g.length+1,N=[],_=0;_<A;_++)N[_]=R.i(_)<<1|R.i(_-1)>>>31;return new o(N,R.h)}function V(R,A){var N=A>>5;A%=32;for(var _=R.g.length-N,I=[],L=0;L<_;L++)I[L]=0<A?R.i(L+N)>>>A|R.i(L+N+1)<<32-A:R.i(L+N);return new o(I,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bA=PB.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=l,Ta=PB.Integer=o}).apply(typeof OB<"u"?OB:typeof self<"u"?self:typeof window<"u"?window:{});var Zl=JO(r$(),1),z$=JO(hR(),1);var i$="@firebase/firestore",s$="4.7.11";var pr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pr.UNAUTHENTICATED=new pr(null);pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid");pr.FIRST_PARTY=new pr("first-party-uid");pr.MOCK_USER=new pr("mock-user");var Cbe="11.6.1";var Dh=Cbe;function Ibe(n){Dh=n}function Dbe(n){return wbe(n,{depth:100})}var Xl=new vo("@firebase/firestore");function uh(){return Xl.logLevel}function De(n,...e){if(Xl.logLevel<=vt.DEBUG){let t=e.map(S3);Xl.debug(`Firestore (${Dh}): ${n}`,...t)}}function Ks(n,...e){if(Xl.logLevel<=vt.ERROR){let t=e.map(S3);Xl.error(`Firestore (${Dh}): ${n}`,...t)}}function hh(n,...e){if(Xl.logLevel<=vt.WARN){let t=e.map(S3);Xl.warn(`Firestore (${Dh}): ${n}`,...t)}}function S3(n){if(typeof n=="string")return n;try{return Dbe(n)}catch{return n}}function ze(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,G$(n,r,t)}function G$(n,e,t){let r=`FIRESTORE (${Dh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{let i=JSON.stringify(t);r+=" CONTEXT: "+i}catch{r+=" CONTEXT: "+t}throw Ks(r),new Error(r)}function $t(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||G$(e,i,r)}function Ye(n,e){return n}var re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_e=class extends Gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ss=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var NE=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},$k=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pr.UNAUTHENTICATED))}shutdown(){}},zk=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Gk=class{constructor(e){this.authProvider=e,this.currentUser=pr.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(e,t){$t(this.tokenListener===void 0,42304);let r=this.tokenCounter,i=u=>this.tokenCounter!==r?(r=this.tokenCounter,t(u)):Promise.resolve(),s=new ss;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),s.resolve(),s=new ss,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>P(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.tokenListener&&(this.auth.addAuthTokenListener(this.tokenListener),o())};this.authProvider.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.authProvider.getImmediate({optional:!0});u?a(u):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ss)}},0),o()}getToken(){let e=this.tokenCounter,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.tokenCounter!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{tokenData:r}),new NE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.tokenListener&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=void 0}getUser(){let e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{currentUid:e}),new pr(e)}},Wk=class{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let e=this.getAuthToken();return e&&this._headers.set("Authorization",e),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}},Kk=class{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r}getToken(){return Promise.resolve(new Wk(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,t){e.enqueueRetryable(()=>t(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},RE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Qk=class{constructor(e,t){this.appCheckProvider=t,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null,this.serverAppAppCheckToken=null,di(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken)}start(e,t){$t(this.tokenListener===void 0,3512);let r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.latestAppCheckToken;return this.latestAppCheckToken=s.token,De("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.tokenListener=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.tokenListener&&this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.appCheckProvider.getImmediate({optional:!0});s?i(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.serverAppAppCheckToken)return Promise.resolve(new RE(this.serverAppAppCheckToken));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($t(typeof t.token=="string",44558,{tokenResult:t}),this.latestAppCheckToken=t.token,new RE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.tokenListener&&this.appCheck.removeTokenListener(this.tokenListener),this.tokenListener=void 0}};function xbe(n){if(!n)return new $k;switch(n.type){case"firstParty":return new Kk(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}function Abe(n){return Tbe(n)}function W$(){return new Sbe}var kE=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="",i=20;for(;r.length<i;){let s=Abe(40);for(let o=0;o<s.length;++o)r.length<i&&s[o]<t&&(r+=e.charAt(s[o]%e.length))}return r}};function ht(n,e){return n<e?-1:n>e?1:0}function T3(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ht(r,i);{let s=W$(),o=s.encode(o$(n,t)),a=s.encode(o$(e,t)),u=Nbe(o,a);return u!==0?u:ht(r,i)}}t+=r>65535?2:1}return ht(n.length,e.length)}function o$(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Nbe(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ht(n[t],e[t]);return ht(n.length,e.length)}function Jl(n,e,t){return n.length!==e.length?!1:n.every((r,i)=>t(r,e[i]))}var a$=-62135596800,u$=1e6,jn=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-t*1e3)*u$);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<a$)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return this.seconds*1e3+this.nanoseconds/u$}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-a$,t=String(e).padStart(12,"0"),r=String(this.nanoseconds).padStart(9,"0");return t+"."+r}};var et=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new jn(0,0))}static max(){return new n(new jn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return this.timestamp.seconds*1e6+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var c$="__name__",ME=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ze(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ze(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return ht(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):T3(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}},wn=class n extends ME{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Rbe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mi=class n extends ME{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Rbe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c$}static keyField(){return new n([c$])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(!(u==="\\"||u==="."||u==="`"))throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a==="."&&!o?(s(),i++):(r+=a,i++)}if(s(),o)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var qe=class n{constructor(e){this.path=e}static fromPath(e){return new n(wn.fromString(e))}static fromName(e){return new n(wn.fromString(e).popFirst(5))}static empty(){return new n(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2===0}static fromSegments(e){return new n(new wn(e.slice()))}};var Pg=-1;function kbe(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new jn(t+1,0):new jn(t,r));return new ed(i,qe.empty(),e)}function Mbe(n){return new ed(n.readTime,n.key,Pg)}var ed=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(et.min(),qe.empty(),Pg)}static max(){return new n(et.max(),qe.empty(),Pg)}};function Obe(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0||(t=qe.comparator(n.documentKey,e.documentKey),t!==0)?t:ht(n.largestBatchId,e.largestBatchId)}var Pbe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yk=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function xh(n){return P(this,null,function*(){if(n.code===re.FAILED_PRECONDITION&&n.message===Pbe)De("LocalStore","Unexpectedly lost primary lease");else throw n})}var oe=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function Lbe(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ah(n){return n.name==="IndexedDbTransactionError"}var EFe=15*1e3,wFe=60*1e3;var C3=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.setPreviousValue(i),this.writeNewSequenceNumber=i=>r.writeSequenceNumber(i))}setPreviousValue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t}}n.INVALID=-1;return n})(),DE="",Fbe="",Ube="",Bbe="";function Vbe(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=l$(e)),e=qbe(n.get(t),e);return l$(e)}function qbe(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+=DE+Ube;break;case DE:t+=DE+Bbe;break;default:t+=s}}return t}function l$(n){return n+DE+Fbe}var jbe="remoteDocuments";var K$="owner";var Q$="mutationQueues";var Y$="mutations";var Z$="documentMutations",Hbe="remoteDocumentsV14";var X$="remoteDocumentGlobal";var J$="targets";var ez="targetDocuments";var tz="targetGlobal",nz="collectionParents";var rz="clientMetadata";var iz="bundles";var sz="namedQueries";var $be="indexConfiguration";var zbe="indexState";var Gbe="indexEntries";var oz="documentOverlays";var Wbe="globals";var Kbe=[Q$,Y$,Z$,jbe,J$,K$,tz,ez],Qbe=Kbe,Ybe=[...Qbe,rz],Zbe=[...Ybe,X$],Xbe=[...Zbe,nz],Jbe=[...Xbe,iz,sz],SFe=[...Jbe,oz],e1e=[Q$,Y$,Z$,Hbe,J$,K$,tz,ez,rz,X$,nz,iz,sz,oz],t1e=e1e,n1e=[...t1e,$be,zbe,Gbe];var TFe=[...n1e,Wbe];function d$(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function az(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Nn=class n{constructor(e,t){this.comparator=e,this.root=t||kg.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kg.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kg.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}},dh=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)this.isReverse?e=e.left:e=e.right;else if(s===0){this.nodeStack.push(e);break}else this.nodeStack.push(e),this.isReverse?e=e.right:e=e.left}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},kg=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this,o=i(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return!t.left.isRed()&&!t.left.left.isRed()&&(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let i,s=this;if(r(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed()&&!s.left.left.isRed()&&(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),!s.right.isEmpty()&&!s.right.isRed()&&!s.right.left.isRed()&&(s=s.moveRedRight()),r(t,s.key)===0){if(s.right.isEmpty())return n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw ze(27949);return t+(this.isRed()?0:1)}}return n.EMPTY=null,n.RED=!0,n.BLACK=!1,n})(),Zk=class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new kg(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};kg.EMPTY=new Zk;var hr=class n{constructor(e){this.comparator=e,this.data=new Nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(t!==void 0?r=this.data.getIteratorFrom(t):r=this.data.getIterator();r.hasNext();){let i=r.getNext();if(!e(i.key))return}}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},OE=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var rs=class n{constructor(e){this.fields=e,e.sort(Mi.comparator)}static empty(){return new n([])}unionWith(e){let t=new hr(Mi.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};function r1e(n){return Buffer.from(n,"base64").toString("binary")}function i1e(n){return Buffer.from(n,"binary").toString("base64")}var Vr=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=r1e(e);return new n(t)}static fromUint8Array(e){let t=s1e(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return i1e(this.binaryString)}toUint8Array(){return o1e(this.binaryString)}approximateByteSize(){return this.binaryString.length*2}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Vr.EMPTY_BYTE_STRING=new Vr("");function s1e(n){let e="";for(let t=0;t<n.length;++t)e+=String.fromCharCode(n[t]);return e}function o1e(n){let e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}var a1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pa(n){if($t(!!n,39018),typeof n=="string"){let e=0,t=a1e.exec(n);if($t(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}else{let e=yn(n.seconds),t=yn(n.nanos);return{seconds:e,nanos:t}}}function yn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function La(n){return typeof n=="string"?Vr.fromBase64String(n):Vr.fromUint8Array(n)}var uz="server_timestamp",cz="__type__",lz="__previous_value__",dz="__local_write_time__";function I3(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[cz])===null||t===void 0?void 0:t.stringValue)===uz}function u1e(n,e){let t={fields:{[cz]:{stringValue:uz},[dz]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return e&&I3(e)&&(e=lw(e)),e&&(t.fields[lz]=e),{mapValue:t}}function lw(n){let e=n.mapValue.fields[lz];return I3(e)?lw(e):e}function Lg(n){let e=Pa(n.mapValue.fields[dz].timestampValue);return new jn(e.seconds,e.nanos)}var Xk=class{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}},Jk="(default)",PE=class n{constructor(e,t){this.projectId=e,this.database=t||Jk}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Jk}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function c1e(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new PE(n.options.projectId,e)}var D3=-1;function dw(n){return n==null}function Fg(n){return n===0&&1/n===-1/0}function l1e(n){return typeof n=="number"&&Number.isInteger(n)&&!Fg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var x3="__type__",fz="__max__",TE={mapValue:{fields:{__type__:{stringValue:fz}}}},A3="__vector__",mh="value";function fc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?I3(n)?4:mz(n)?9007199254740991:pz(n)?10:11:ze(28295,{value:n})}function Ws(n,e){if(n===e)return!0;let t=fc(n),r=fc(e);if(t!==r)return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lg(n).isEqual(Lg(e));case 3:return d1e(n,e);case 5:return n.stringValue===e.stringValue;case 6:return h1e(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return f1e(n,e);case 2:return p1e(n,e);case 9:return Jl(n.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return m1e(n,e);case 9007199254740991:return!0;default:return ze(52216,{left:n})}}function d1e(n,e){if(typeof n.timestampValue=="string"&&typeof e.timestampValue=="string"&&n.timestampValue.length===e.timestampValue.length)return n.timestampValue===e.timestampValue;let t=Pa(n.timestampValue),r=Pa(e.timestampValue);return t.seconds===r.seconds&&t.nanos===r.nanos}function f1e(n,e){return yn(n.geoPointValue.latitude)===yn(e.geoPointValue.latitude)&&yn(n.geoPointValue.longitude)===yn(e.geoPointValue.longitude)}function h1e(n,e){return La(n.bytesValue).isEqual(La(e.bytesValue))}function p1e(n,e){if("integerValue"in n&&"integerValue"in e)return yn(n.integerValue)===yn(e.integerValue);if("doubleValue"in n&&"doubleValue"in e){let t=yn(n.doubleValue),r=yn(e.doubleValue);return t===r?Fg(t)===Fg(r):isNaN(t)&&isNaN(r)}return!1}function m1e(n,e){let t=n.mapValue.fields||{},r=e.mapValue.fields||{};if(d$(t)!==d$(r))return!1;for(let i in t)if(t.hasOwnProperty(i)&&(r[i]===void 0||!Ws(t[i],r[i])))return!1;return!0}function Ug(n,e){return(n.values||[]).find(t=>Ws(t,e))!==void 0}function gh(n,e){if(n===e)return 0;let t=fc(n),r=fc(e);if(t!==r)return ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ht(n.booleanValue,e.booleanValue);case 2:return g1e(n,e);case 3:return f$(n.timestampValue,e.timestampValue);case 4:return f$(Lg(n),Lg(e));case 5:return T3(n.stringValue,e.stringValue);case 6:return b1e(n.bytesValue,e.bytesValue);case 7:return y1e(n.referenceValue,e.referenceValue);case 8:return v1e(n.geoPointValue,e.geoPointValue);case 9:return hz(n.arrayValue,e.arrayValue);case 10:return _1e(n.mapValue,e.mapValue);case 11:return E1e(n.mapValue,e.mapValue);default:throw ze(23264,{leftType:t})}}function g1e(n,e){let t=yn(n.integerValue||n.doubleValue),r=yn(e.integerValue||e.doubleValue);return t<r?-1:t>r?1:t===r?0:isNaN(t)?isNaN(r)?0:-1:1}function f$(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ht(n,e);let t=Pa(n),r=Pa(e),i=ht(t.seconds,r.seconds);return i!==0?i:ht(t.nanos,r.nanos)}function y1e(n,e){let t=n.split("/"),r=e.split("/");for(let i=0;i<t.length&&i<r.length;i++){let s=ht(t[i],r[i]);if(s!==0)return s}return ht(t.length,r.length)}function v1e(n,e){let t=ht(yn(n.latitude),yn(e.latitude));return t!==0?t:ht(yn(n.longitude),yn(e.longitude))}function b1e(n,e){let t=La(n),r=La(e);return t.compareTo(r)}function hz(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=gh(t[i],r[i]);if(s)return s}return ht(t.length,r.length)}function _1e(n,e){var t,r,i,s;let o=n.fields||{},a=e.fields||{},u=(t=o[mh])===null||t===void 0?void 0:t.arrayValue,c=(r=a[mh])===null||r===void 0?void 0:r.arrayValue,l=ht(((i=u?.values)===null||i===void 0?void 0:i.length)||0,((s=c?.values)===null||s===void 0?void 0:s.length)||0);return l!==0?l:hz(u,c)}function E1e(n,e){if(n===TE.mapValue&&e===TE.mapValue)return 0;if(n===TE.mapValue)return 1;if(e===TE.mapValue)return-1;let t=n.fields||{},r=Object.keys(t),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){let a=T3(r[o],s[o]);if(a!==0)return a;let u=gh(t[r[o]],i[s[o]]);if(u!==0)return u}return ht(r.length,s.length)}function yh(n){return N3(n)}function N3(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?S1e(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?w1e(n.bytesValue):"referenceValue"in n?C1e(n.referenceValue):"geoPointValue"in n?T1e(n.geoPointValue):"arrayValue"in n?D1e(n.arrayValue):"mapValue"in n?I1e(n.mapValue):ze(61005,{value:n})}function w1e(n){return La(n).toBase64()}function S1e(n){let e=Pa(n);return`time(${e.seconds},${e.nanos})`}function T1e(n){return`geo(${n.latitude},${n.longitude})`}function C1e(n){return qe.fromName(n).toString()}function I1e(n){let e=Object.keys(n.fields||{}).sort(),t="{",r=!0;for(let i of e)r?r=!1:t+=",",t+=`${i}:${N3(n.fields[i])}`;return t+"}"}function D1e(n){let e="[",t=!0;for(let r of n.values||[])t?t=!1:e+=",",e+=N3(r);return e+"]"}function fw(n){switch(fc(n)){case 0:return 4;case 1:return 4;case 2:return 8;case 3:return 16;case 4:let e=lw(n);return e?16+fw(e):16;case 5:return n.stringValue.length*2;case 6:return La(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 8:return 16;case 9:return A1e(n.arrayValue);case 10:case 11:return x1e(n.mapValue);default:throw ze(13486,{value:n})}}function x1e(n){let e=0;return gc(n.fields,(t,r)=>{e+=t.length+fw(r)}),e}function A1e(n){return(n.values||[]).reduce((e,t)=>e+fw(t),0)}function h$(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function eM(n){return!!n&&"integerValue"in n}function N1e(n){return!!n&&"doubleValue"in n}function R1e(n){return eM(n)||N1e(n)}function R3(n){return!!n&&"arrayValue"in n}function p$(n){return!!n&&"nullValue"in n}function m$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xE(n){return!!n&&"mapValue"in n}function pz(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[x3])===null||t===void 0?void 0:t.stringValue)===A3}function Mg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return gc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mg(r)),e}else if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mg(n.arrayValue.values[t]);return e}else return Object.assign({},n)}function mz(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fz}var CFe={mapValue:{fields:{[x3]:{stringValue:A3},[mh]:{arrayValue:{}}}}};var ki=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!xE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){let r=this.getFieldsMap(e.popLast());r[e.lastSegment()]=Mg(t)}setAll(e){let t=Mi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Mg(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());xE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];(!xE(i)||!i.mapValue.fields)&&(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){gc(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Mg(this.value))}};function gz(n){let e=[];return gc(n.fields,(t,r)=>{let i=new Mi([t]);if(xE(r)){let o=gz(r.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)}),new rs(e)}var Qs=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,et.min(),et.min(),et.min(),ki.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,et.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,et.min(),et.min(),ki.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,et.min(),et.min(),ki.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(et.min())&&(this.documentType===2||this.documentType===0)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};function k1e(n,e,t){let r=e.data.field(n),i=t.data.field(n);return r!==null&&i!==null?gh(r,i):ze(42886)}var vh=class{constructor(e,t){this.position=e,this.inclusive=t}};function yz(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField())r=qe.comparator(qe.fromName(o.referenceValue),t.key);else{let a=t.data.field(s.field);r=gh(o,a)}if(s.dir==="desc"&&(r=r*-1),r!==0)break}return r}function M1e(n,e,t){let r=yz(n,e,t);return n.inclusive?r>=0:r>0}function O1e(n,e,t){let r=yz(n,e,t);return n.inclusive?r<=0:r<0}function g$(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++){let r=n.position[t],i=e.position[t];if(!Ws(r,i))return!1}return!0}var td=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function P1e(n){return n.field.canonicalString()+n.dir}function L1e(n){return`${n.field.canonicalString()} (${n.dir})`}function F1e(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var LE=class{},Jn=class n extends LE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nM(e,t,r):t==="array-contains"?new sM(e,r):t==="in"?new oM(e,r):t==="not-in"?new aM(e,r):t==="array-contains-any"?new uM(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rM(e,r):new iM(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gh(t,this.value)):t!==null&&fc(this.value)===fc(t)&&this.matchesComparison(gh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ys=class n extends LE{constructor(e,t){super(),this.filters=e,this.op=t,this.memoizedFlattenedFilters=null}static create(e,t){return new n(e,t)}matches(e){return vz(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.memoizedFlattenedFilters!==null?this.memoizedFlattenedFilters:(this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[]),this.memoizedFlattenedFilters)}getFilters(){return Object.assign([],this.filters)}};function vz(n){return n.op==="and"}function bz(n){return U1e(n)&&vz(n)}function U1e(n){for(let e of n.filters)if(e instanceof Ys)return!1;return!0}function tM(n){if(n instanceof Jn)return n.field.canonicalString()+n.op.toString()+yh(n.value);if(bz(n))return n.filters.map(e=>tM(e)).join(",");{let e=n.filters.map(t=>tM(t)).join(",");return`${n.op}(${e})`}}function _z(n,e){if(n instanceof Jn)return B1e(n,e);if(n instanceof Ys)return V1e(n,e);ze(19439)}function B1e(n,e){return e instanceof Jn&&n.op===e.op&&n.field.isEqual(e.field)&&Ws(n.value,e.value)}function V1e(n,e){return e instanceof Ys&&n.op===e.op&&n.filters.length===e.filters.length?n.filters.reduce((r,i,s)=>r&&_z(i,e.filters[s]),!0):!1}function Ez(n){return n instanceof Jn?j1e(n):n instanceof Ys?q1e(n):"Filter"}function q1e(n){return n.op.toString()+" {"+n.getFilters().map(Ez).join(" ,")+"}"}function j1e(n){return`${n.field.canonicalString()} ${n.op} ${yh(n.value)}`}var nM=class extends Jn{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){let t=qe.comparator(e.key,this.key);return this.matchesComparison(t)}},rM=class extends Jn{constructor(e,t){super(e,"in",t),this.keys=wz("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},iM=class extends Jn{constructor(e,t){super(e,"not-in",t),this.keys=wz("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function wz(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}var sM=class extends Jn{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return R3(t)&&Ug(t.arrayValue,this.value)}},oM=class extends Jn{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ug(this.value.arrayValue,t)}},aM=class extends Jn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ug(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ug(this.value.arrayValue,t)}},uM=class extends Jn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!R3(t)||!t.arrayValue.values?!1:t.arrayValue.values.some(r=>Ug(this.value.arrayValue,r))}};var cM=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null}};function y$(n,e=null,t=[],r=[],i=null,s=null,o=null){return new cM(n,e,t,r,i,s,o)}function k3(n){let e=Ye(n);if(e.memoizedCanonicalId===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>P1e(r)).join(","),dw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>yh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>yh(r)).join(",")),e.memoizedCanonicalId=t}return e.memoizedCanonicalId}function H1e(n){let e=n.path.canonicalString();return n.collectionGroup!==null&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>Ez(t)).join(", ")}]`),dw(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>L1e(t)).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>yh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>yh(t)).join(",")),`Target(${e})`}function M3(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!F1e(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_z(n.filters[t],e.filters[t]))return!1;return n.collectionGroup!==e.collectionGroup||!n.path.isEqual(e.path)||!g$(n.startAt,e.startAt)?!1:g$(n.endAt,e.endAt)}function lM(n){return qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var hc=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}};function $1e(n,e,t,r,i,s,o,a){return new hc(n,e,t,r,i,s,o,a)}function hw(n){return new hc(n)}function z1e(n,e){return new hc(e,null,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function v$(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function G1e(n){let e=new hr(Mi.comparator);return n.filters.forEach(t=>{t.getFlattenedFilters().forEach(i=>{i.isInequality()&&(e=e.add(i.field))})}),e}function W1e(n){return qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Sz(n){return n.collectionGroup!==null}function Bg(n){let e=Ye(n);if(e.memoizedNormalizedOrderBy===null){e.memoizedNormalizedOrderBy=[];let t=new Set;for(let s of e.explicitOrderBy)e.memoizedNormalizedOrderBy.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";G1e(e).forEach(s=>{!t.has(s.canonicalString())&&!s.isKeyField()&&e.memoizedNormalizedOrderBy.push(new td(s,r))}),t.has(Mi.keyField().canonicalString())||e.memoizedNormalizedOrderBy.push(new td(Mi.keyField(),r))}return e.memoizedNormalizedOrderBy}function Fo(n){let e=Ye(n);return e.memoizedTarget||(e.memoizedTarget=K1e(e,Bg(n))),e.memoizedTarget}function K1e(n,e){if(n.limitType==="F")return y$(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new td(i.field,s)});let t=n.endAt?new vh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new vh(n.startAt.position,n.startAt.inclusive):null;return y$(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function O3(n,e){let t=n.filters.concat([e]);return new hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Q1e(n,e){let t=n.explicitOrderBy.concat([e]);return new hc(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function dM(n,e,t){return new hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pw(n,e){return M3(Fo(n),Fo(e))&&n.limitType===e.limitType}function Tz(n){return`${k3(Fo(n))}|lt:${n.limitType}`}function ch(n){return`Query(target=${H1e(Fo(n))}; limitType=${n.limitType})`}function mw(n,e){return e.isFoundDocument()&&Y1e(n,e)&&Z1e(n,e)&&X1e(n,e)&&J1e(n,e)}function Y1e(n,e){let t=e.key.path;return n.collectionGroup!==null?e.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(t):qe.isDocumentKey(n.path)?n.path.isEqual(t):n.path.isImmediateParentOf(t)}function Z1e(n,e){for(let t of Bg(n))if(!t.field.isKeyField()&&e.data.field(t.field)===null)return!1;return!0}function X1e(n,e){for(let t of n.filters)if(!t.matches(e))return!1;return!0}function J1e(n,e){return!(n.startAt&&!O1e(n.startAt,Bg(n),e)||n.endAt&&!M1e(n.endAt,Bg(n),e))}function e_e(n){return n.collectionGroup||(n.path.length%2===1?n.path.lastSegment():n.path.get(n.path.length-2))}function Cz(n){return(e,t)=>{let r=!1;for(let i of Bg(n)){let s=t_e(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function t_e(n,e,t){let r=n.field.isKeyField()?qe.comparator(e.key,t.key):k1e(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:n.dir})}}var Fa=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0){this.inner[r]=[[e,t]],this.innerSize++;return}for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e)){i[s]=[e,t];return}i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gc(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return az(this.inner)}size(){return this.innerSize}};var n_e=new Nn(qe.comparator);function Ua(){return n_e}var Iz=new Nn(qe.comparator);function Rg(...n){let e=Iz;for(let t of n)e=e.insert(t.key,t);return e}function r_e(){return Vg()}function Dz(n){let e=Iz;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ql(){return Vg()}function xz(){return Vg()}function Vg(){return new Fa(n=>n.toString(),(n,e)=>n.isEqual(e))}var i_e=new Nn(qe.comparator);function s_e(){return i_e}var o_e=new hr(qe.comparator);function Et(...n){let e=o_e;for(let t of n)e=e.add(t);return e}var a_e=new hr(ht);function u_e(){return a_e}function P3(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fg(e)?"-0":e}}function Az(n){return{integerValue:""+n}}function c_e(n,e){return l1e(e)?Az(e):P3(n,e)}var bh=class{constructor(){this._=void 0}};function l_e(n,e,t){return n instanceof _h?u1e(t,e):n instanceof nd?Rz(n,e):n instanceof rd?kz(n,e):h_e(n,e)}function d_e(n,e,t){return n instanceof nd?Rz(n,e):n instanceof rd?kz(n,e):t}function Nz(n,e){return n instanceof Eh?R1e(e)?e:{integerValue:0}:null}function f_e(n,e){return n instanceof nd&&e instanceof nd||n instanceof rd&&e instanceof rd?Jl(n.elements,e.elements,Ws):n instanceof Eh&&e instanceof Eh?Ws(n.operand,e.operand):n instanceof _h&&e instanceof _h}var _h=class extends bh{},nd=class extends bh{constructor(e){super(),this.elements=e}};function Rz(n,e){let t=Mz(e);for(let r of n.elements)t.some(i=>Ws(i,r))||t.push(r);return{arrayValue:{values:t}}}var rd=class extends bh{constructor(e){super(),this.elements=e}};function kz(n,e){let t=Mz(e);for(let r of n.elements)t=t.filter(i=>!Ws(i,r));return{arrayValue:{values:t}}}var Eh=class extends bh{constructor(e,t){super(),this.serializer=e,this.operand=t}};function h_e(n,e){let t=Nz(n,e),r=b$(t)+b$(n.operand);return eM(t)&&eM(n.operand)?Az(r):P3(n.serializer,r)}function b$(n){return yn(n.integerValue||n.doubleValue)}function Mz(n){return R3(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function p_e(n,e){return n.field.isEqual(e.field)&&f_e(n.transform,e.transform)}function m_e(n,e){return n===void 0&&e===void 0?!0:n&&e?Jl(n,e,(t,r)=>p_e(t,r)):!1}var fM=class{constructor(e,t){this.version=e,this.transformResults=t}},Uo=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function gw(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists!==void 0?n.exists===e.isFoundDocument():!0}var wh=class{};function Oz(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qg(n.key,Uo.none()):new id(n.key,n.data,Uo.none());{let t=n.data,r=ki.empty(),i=new hr(Mi.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vo(n.key,r,new rs(i.toArray()),Uo.none())}}function g_e(n,e,t){n instanceof id?v_e(n,e,t):n instanceof Vo?__e(n,e,t):w_e(n,e,t)}function Og(n,e,t,r){return n instanceof id?b_e(n,e,t,r):n instanceof Vo?E_e(n,e,t,r):S_e(n,e,t)}function y_e(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=Nz(r.transform,i||null);s!=null&&(t===null&&(t=ki.empty()),t.set(r.field,s))}return t||null}function _$(n,e){return n.type!==e.type||!n.key.isEqual(e.key)||!n.precondition.isEqual(e.precondition)||!m_e(n.fieldTransforms,e.fieldTransforms)?!1:n.type===0?n.value.isEqual(e.value):n.type===1?n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask):!0}var id=class extends wh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}};function v_e(n,e,t){let r=n.value.clone(),i=Lz(n.fieldTransforms,e,t.transformResults);r.setAll(i),e.convertToFoundDocument(t.version,r).setHasCommittedMutations()}function b_e(n,e,t,r){if(!gw(n.precondition,e))return t;let i=n.value.clone(),s=Fz(n.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}var Vo=class extends wh{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function __e(n,e,t){if(!gw(n.precondition,e)){e.convertToUnknownDocument(t.version);return}let r=Lz(n.fieldTransforms,e,t.transformResults),i=e.data;i.setAll(Pz(n)),i.setAll(r),e.convertToFoundDocument(t.version,i).setHasCommittedMutations()}function E_e(n,e,t,r){if(!gw(n.precondition,e))return t;let i=Fz(n.fieldTransforms,r,e),s=e.data;return s.setAll(Pz(n)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),t===null?null:t.unionWith(n.fieldMask.fields).unionWith(n.fieldTransforms.map(o=>o.field))}function Pz(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Lz(n,e,t){let r=new Map;$t(n.length===t.length,32656,{serverTransformResultCount:t.length,fieldTransformCount:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,d_e(o,a,t[i]))}return r}function Fz(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,l_e(s,o,e))}return r}var qg=class extends wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};function w_e(n,e,t){e.convertToNoDocument(t.version).setHasCommittedMutations()}function S_e(n,e,t){return gw(n.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):t}var hM=class extends wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var pM=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];if(s.key.isEqual(e.key)){let o=r[i];g_e(s,e,o)}}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Og(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Og(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=xz();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let u=Oz(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Et())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,(t,r)=>_$(t,r))&&Jl(this.baseMutations,e.baseMutations,(t,r)=>_$(t,r))}},mM=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$t(e.mutations.length===r.length,58842,{mutationsSent:e.mutations.length,resultsReceived:r.length});let i=s_e(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var gM=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var yM=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var fr=function(n){return n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n}(fr||{});function T_e(n){switch(n){case re.OK:return ze(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return ze(15467,{code:n})}}function C_e(n){return T_e(n)&&n!==re.ABORTED}function AE(n){if(n===void 0)return Ks("GRPC error has no .code"),re.UNKNOWN;switch(n){case fr.OK:return re.OK;case fr.CANCELLED:return re.CANCELLED;case fr.UNKNOWN:return re.UNKNOWN;case fr.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case fr.INTERNAL:return re.INTERNAL;case fr.UNAVAILABLE:return re.UNAVAILABLE;case fr.UNAUTHENTICATED:return re.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case fr.NOT_FOUND:return re.NOT_FOUND;case fr.ALREADY_EXISTS:return re.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return re.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case fr.ABORTED:return re.ABORTED;case fr.OUT_OF_RANGE:return re.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return re.UNIMPLEMENTED;case fr.DATA_LOSS:return re.DATA_LOSS;default:return ze(39323,{code:n})}}var vM=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Fk=null;var I_e=new Ta([4294967295,4294967295],0);function E$(n){let e=W$().encode(n),t=new bA;return t.update(e),new Uint8Array(t.digest())}function w$(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0),o=new Ta([t,r],0),a=new Ta([i,s],0);return[o,a]}var bM=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yl(`Invalid padding: ${t}`);if(r<0)throw new Yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${t}`);this.bitCount=e.length*8-t,this.bitCountInInteger=Ta.fromNumber(this.bitCount)}getBitIndex(e,t,r){let i=e.add(t.multiply(Ta.fromNumber(r)));return i.compare(I_e)===1&&(i=new Ta([i.getBits(0),i.getBits(1)],0)),i.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){let t=this.bitmap[Math.floor(e/8)],r=e%8;return(t&1<<r)!==0}mightContain(e){if(this.bitCount===0)return!1;let t=E$(e),[r,i]=w$(t);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);if(!this.isBitSet(o))return!1}return!0}static create(e,t,r){let i=e%8===0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.bitCount===0)return;let t=E$(e),[r,i]=w$(t);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);this.setBit(o)}}setBit(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Yl=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var FE=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,jg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(et.min(),i,new Nn(ht),Ua(),Et())}},jg=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Et(),Et(),Et())}};var ph=class{constructor(e,t,r,i){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=r,this.newDoc=i}},UE=class{constructor(e,t){this.targetId=e,this.existenceFilter=t}},BE=class{constructor(e,t,r=Vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},VE=class{constructor(){this.pendingResponses=0,this.documentChanges=S$(),this._resumeToken=Vr.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return this.pendingResponses!==0}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){e.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=e)}toTargetChange(){let e=Et(),t=Et(),r=Et();return this.documentChanges.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ze(38017,{changeType:s})}}),new jg(this._resumeToken,this._current,e,t,r)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=S$()}addDocumentChange(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)}removeDocumentChange(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,$t(this.pendingResponses>=0,3241,{pendingResponses:this.pendingResponses})}markCurrent(){this._hasPendingChanges=!0,this._current=!0}},D_e="WatchChangeAggregator",_M=class{constructor(e){this.metadataProvider=e,this.targetStates=new Map,this.pendingDocumentUpdates=Ua(),this.pendingDocumentUpdatesByTarget=CE(),this.pendingDocumentTargetMapping=CE(),this.pendingTargetResets=new Nn(ht)}handleDocumentChange(e){for(let t of e.updatedTargetIds)e.newDoc&&e.newDoc.isFoundDocument()?this.addDocumentToTarget(t,e.newDoc):this.removeDocumentFromTarget(t,e.key,e.newDoc);for(let t of e.removedTargetIds)this.removeDocumentFromTarget(t,e.key,e.newDoc)}handleTargetChange(e){this.forEachTarget(e,t=>{let r=this.ensureTargetState(t);switch(e.state){case 0:this.isActiveTarget(t)&&r.updateResumeToken(e.resumeToken);break;case 1:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case 2:r.recordTargetResponse(),r.isPending||this.removeTarget(t);break;case 3:this.isActiveTarget(t)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case 4:this.isActiveTarget(t)&&(this.resetTarget(t),r.updateResumeToken(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.targetStates.forEach((r,i)=>{this.isActiveTarget(i)&&t(i)})}handleExistenceFilter(e){let t=e.targetId,r=e.existenceFilter.count,i=this.targetDataForActiveTarget(t);if(i){let s=i.target;if(lM(s))if(r===0){let o=new qe(s.path);this.removeDocumentFromTarget(t,o,Qs.newNoDocument(o,et.min()))}else $t(r===1,20013,{expectedCount:r});else{let o=this.getCurrentDocumentCountForTarget(t);if(o!==r){let a=this.parseBloomFilter(e),u=a?this.applyBloomFilter(a,e,o):1;if(u!==0){this.resetTarget(t);let c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(t,c)}Fk?.notifyOnExistenceFilterMismatch(x_e(o,e.existenceFilter,this.metadataProvider.getDatabaseId(),a,u))}}}}parseBloomFilter(e){let t=e.existenceFilter.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o;try{o=La(r).toUint8Array()}catch(u){if(u instanceof vM)return hh("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}let a;try{a=new bM(o,i,s)}catch(u){return u instanceof Yl?hh("BloomFilter error: ",u):hh("Applying bloom filter failed: ",u),null}return a.bitCount===0?null:a}applyBloomFilter(e,t,r){let i=t.existenceFilter.count,s=this.filterRemovedDocuments(e,t.targetId);return i===r-s?0:2}filterRemovedDocuments(e,t){let r=this.metadataProvider.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.metadataProvider.getDatabaseId(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.removeDocumentFromTarget(t,s,null),i++)}),i}createRemoteEvent(e){let t=new Map;this.targetStates.forEach((s,o)=>{let a=this.targetDataForActiveTarget(o);if(a){if(s.current&&lM(a.target)){let u=new qe(a.target.path);!this.ensureDocumentUpdateByTarget(u).has(o)&&!this.targetContainsDocument(o,u)&&this.removeDocumentFromTarget(o,u,Qs.newNoDocument(u,e))}s.hasPendingChanges&&(t.set(o,s.toTargetChange()),s.clearPendingChanges())}});let r=Et();this.pendingDocumentTargetMapping.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let c=this.targetDataForActiveTarget(u);return c&&c.purpose!=="TargetPurposeLimboResolution"?(a=!1,!1):!0}),a&&(r=r.add(s))}),this.pendingDocumentUpdates.forEach((s,o)=>o.setReadTime(e));let i=new FE(e,t,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Ua(),this.pendingDocumentUpdatesByTarget=CE(),this.pendingDocumentTargetMapping=CE(),this.pendingTargetResets=new Nn(ht),i}addDocumentToTarget(e,t){if(!this.isActiveTarget(e))return;let r=this.targetContainsDocument(e,t.key)?2:0;this.ensureTargetState(e).addDocumentChange(t.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(t.key,this.ensureDocumentUpdateByTarget(t.key).add(e)),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}removeDocumentFromTarget(e,t,r){if(!this.isActiveTarget(e))return;let i=this.ensureTargetState(e);this.targetContainsDocument(e,t)?i.addDocumentChange(t,1):i.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).add(e)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,r))}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){let r=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}recordPendingTargetRequest(e){this.ensureTargetState(e).recordPendingTargetRequest()}ensureTargetState(e){let t=this.targetStates.get(e);return t||(t=new VE,this.targetStates.set(e,t)),t}ensureDocumentTargetMapping(e){let t=this.pendingDocumentTargetMapping.get(e);return t||(t=new hr(ht),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t}ensureDocumentUpdateByTarget(e){let t=this.pendingDocumentUpdatesByTarget.get(e);return t||(t=new hr(ht),this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(e,t)),t}isActiveTarget(e){let t=this.targetDataForActiveTarget(e)!==null;return t||De(D_e,"Detected inactive target",e),t}targetDataForActiveTarget(e){let t=this.targetStates.get(e);return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new VE),this.metadataProvider.getRemoteKeysForTarget(e).forEach(r=>{this.removeDocumentFromTarget(e,r,null)})}targetContainsDocument(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)}};function CE(){return new Nn(qe.comparator)}function S$(){return new Nn(qe.comparator)}function x_e(n,e,t,r,i){var s,o,a,u,c,l;let d={localCacheCount:n,existenceFilterCount:e.count,databaseId:t.database,projectId:t.projectId},f=e.unchangedNames;return f&&(d.bloomFilter={applied:i===0,hashCount:(s=f?.hashCount)!==null&&s!==void 0?s:0,bitmapLength:(u=(a=(o=f?.bits)===null||o===void 0?void 0:o.bitmap)===null||a===void 0?void 0:a.length)!==null&&u!==void 0?u:0,padding:(l=(c=f?.bits)===null||c===void 0?void 0:c.padding)!==null&&l!==void 0?l:0,mightContain:h=>{var p;return(p=r?.mightContain(h))!==null&&p!==void 0?p:!1}}),d}var A_e=(()=>{let n={};return n.asc="ASCENDING",n.desc="DESCENDING",n})(),N_e=(()=>{let n={};return n["<"]="LESS_THAN",n["<="]="LESS_THAN_OR_EQUAL",n[">"]="GREATER_THAN",n[">="]="GREATER_THAN_OR_EQUAL",n["=="]="EQUAL",n["!="]="NOT_EQUAL",n["array-contains"]="ARRAY_CONTAINS",n.in="IN",n["not-in"]="NOT_IN",n["array-contains-any"]="ARRAY_CONTAINS_ANY",n})(),R_e=(()=>{let n={};return n.and="AND",n.or="OR",n})();var EM=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function k_e(n){let e=n.code===void 0?re.UNKNOWN:AE(n.code);return new _e(e,n.message||"")}function wM(n,e){return n.useProto3Json||dw(e)?e:{value:e}}function M_e(n){let e;return typeof n=="object"?e=n.value:e=n,dw(e)?null:e}function qE(n,e){if(n.useProto3Json){let r=new Date(e.seconds*1e3).toISOString().replace(/\.\d*/,"").replace("Z",""),i=("000000000"+e.nanoseconds).slice(-9);return`${r}.${i}Z`}else return{seconds:""+e.seconds,nanos:e.nanoseconds}}function O_e(n){let e=Pa(n);return new jn(e.seconds,e.nanos)}function Uz(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function P_e(n,e){return n.useProto3Json?($t(e===void 0||typeof e=="string",58123),Vr.fromBase64String(e||"")):($t(e===void 0||e instanceof Buffer||e instanceof Uint8Array,16193),Vr.fromUint8Array(e||new Uint8Array))}function L_e(n,e){return qE(n,e.toTimestamp())}function Bo(n){return $t(!!n,49232),et.fromTimestamp(O_e(n))}function L3(n,e){return SM(n,e).canonicalString()}function SM(n,e){let t=U_e(n).child("documents");return e===void 0?t:t.child(e)}function Bz(n){let e=wn.fromString(n);return $t($z(e),10190,{key:e.toString()}),e}function TM(n,e){return L3(n.databaseId,e.path)}function Uk(n,e){let t=Bz(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(qz(t))}function Vz(n,e){return L3(n.databaseId,e)}function F_e(n){let e=Bz(n);return e.length===4?wn.emptyPath():qz(e)}function CM(n){return new wn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U_e(n){return new wn(["projects",n.projectId,"databases",n.database])}function qz(n){return $t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function T$(n,e,t){return{name:TM(n,e),fields:t.value.mapValue.fields}}function B_e(n,e){let t;if("targetChange"in e){e.targetChange;let r=V_e(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=P_e(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&k_e(o);t=new BE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Uk(n,r.document.name),s=Bo(r.document.updateTime),o=r.document.createTime?Bo(r.document.createTime):et.min(),a=new ki({mapValue:{fields:r.document.fields}}),u=Qs.newFoundDocument(i,s,o,a),c=r.targetIds||[],l=r.removedTargetIds||[];t=new ph(c,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Uk(n,r.document),s=r.readTime?Bo(r.readTime):et.min(),o=Qs.newNoDocument(i,s),a=r.removedTargetIds||[];t=new ph([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Uk(n,r.document),s=r.removedTargetIds||[];t=new ph([],s,i,null)}else if("filter"in e){e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new yM(i,s),a=r.targetId;t=new UE(a,o)}else return ze(11601,{change:e});return t}function V_e(n){return n==="NO_CHANGE"?0:n==="ADD"?1:n==="REMOVE"?2:n==="CURRENT"?3:n==="RESET"?4:ze(39313,{state:n})}function q_e(n){if(!("targetChange"in n))return et.min();let e=n.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?et.min():Bo(e.readTime)}function j_e(n,e){let t;if(e instanceof id)t={update:T$(n,e.key,e.value)};else if(e instanceof qg)t={delete:TM(n,e.key)};else if(e instanceof Vo)t={update:T$(n,e.key,e.data),updateMask:_Ee(e.fieldMask)};else if(e instanceof hM)t={verify:TM(n,e.key)};else return ze(16599,{mutationType:e.type});return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>G_e(n,r))),e.precondition.isNone||(t.currentDocument=H_e(n,e.precondition)),t}function H_e(n,e){return e.updateTime!==void 0?{updateTime:L_e(n,e.updateTime)}:e.exists!==void 0?{exists:e.exists}:ze(27497)}function $_e(n,e){let t=n.updateTime?Bo(n.updateTime):Bo(e);return t.isEqual(et.min())&&(t=Bo(e)),new fM(t,n.transformResults||[])}function z_e(n,e){return n&&n.length>0?($t(e!==void 0,14353),n.map(t=>$_e(t,e))):[]}function G_e(n,e){let t=e.transform;if(t instanceof _h)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof nd)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof rd)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof Eh)return{fieldPath:e.field.canonicalString(),increment:t.operand};throw ze(20930,{transform:e.transform})}function W_e(n,e){return{documents:[Vz(n,e.path)]}}function K_e(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Vz(n,i);let s=J_e(e.filters);s&&(t.structuredQuery.where=s);let o=tEe(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=wM(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=rEe(e.startAt)),e.endAt&&(t.structuredQuery.endAt=iEe(e.endAt)),{queryTarget:t,parent:i}}function Q_e(n){let e=F_e(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){$t(r===1,65062);let l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=eEe(t.where));let o=[];t.orderBy&&(o=nEe(t.orderBy));let a=null;t.limit&&(a=M_e(t.limit));let u=null;t.startAt&&(u=sEe(t.startAt));let c=null;return t.endAt&&(c=oEe(t.endAt)),$1e(e,i,o,s,a,"F",u,c)}function Y_e(n,e){let t=Z_e(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Z_e(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:n})}}function X_e(n,e){let t,r=e.target;if(lM(r)?t={documents:W_e(n,r)}:t={query:K_e(n,r).queryTarget},t.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){t.resumeToken=Uz(n,e.resumeToken);let i=wM(n,e.expectedCount);i!==null&&(t.expectedCount=i)}else if(e.snapshotVersion.compareTo(et.min())>0){t.readTime=qE(n,e.snapshotVersion.toTimestamp());let i=wM(n,e.expectedCount);i!==null&&(t.expectedCount=i)}return t}function J_e(n){if(n.length!==0)return Hz(Ys.create(n,"and"))}function eEe(n){let e=jz(n);return e instanceof Ys&&bz(e)?e.getFilters():[e]}function jz(n){return n.unaryFilter!==void 0?yEe(n):n.fieldFilter!==void 0?vEe(n):n.compositeFilter!==void 0?bEe(n):ze(30097,{filter:n})}function tEe(n){if(n.length!==0)return n.map(e=>hEe(e))}function nEe(n){return n.map(e=>pEe(e))}function rEe(n){return{before:n.inclusive,values:n.position}}function iEe(n){return{before:!n.inclusive,values:n.position}}function sEe(n){let e=!!n.before,t=n.values||[];return new vh(t,e)}function oEe(n){let e=!n.before,t=n.values||[];return new vh(t,e)}function aEe(n){return A_e[n]}function uEe(n){switch(n){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function cEe(n){return N_e[n]}function lEe(n){return R_e[n]}function dEe(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}function fEe(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}function lh(n){return{fieldPath:n.canonicalString()}}function fh(n){return Mi.fromServerFormat(n.fieldPath)}function hEe(n){return{field:lh(n.field),direction:aEe(n.dir)}}function pEe(n){return new td(fh(n.field),uEe(n.direction))}function Hz(n){return n instanceof Jn?gEe(n):n instanceof Ys?mEe(n):ze(54877,{filter:n})}function mEe(n){let e=n.getFilters().map(t=>Hz(t));return e.length===1?e[0]:{compositeFilter:{op:lEe(n.op),filters:e}}}function gEe(n){if(n.op==="=="){if(m$(n.value))return{unaryFilter:{field:lh(n.field),op:"IS_NAN"}};if(p$(n.value))return{unaryFilter:{field:lh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m$(n.value))return{unaryFilter:{field:lh(n.field),op:"IS_NOT_NAN"}};if(p$(n.value))return{unaryFilter:{field:lh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lh(n.field),op:cEe(n.op),value:n.value}}}function yEe(n){switch(n.unaryFilter.op){case"IS_NAN":let e=fh(n.unaryFilter.field);return Jn.create(e,"==",{doubleValue:NaN});case"IS_NULL":let t=fh(n.unaryFilter.field);return Jn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=fh(n.unaryFilter.field);return Jn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=fh(n.unaryFilter.field);return Jn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}function vEe(n){return Jn.create(fh(n.fieldFilter.field),dEe(n.fieldFilter.op),n.fieldFilter.value)}function bEe(n){return Ys.create(n.compositeFilter.filters.map(e=>jz(e)),fEe(n.compositeFilter.op))}function _Ee(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $z(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Hg=class n{constructor(e,t,r,i,s=et.min(),o=et.min(),a=Vr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var IM=class{constructor(e){this.remoteSerializer=e}};function EEe(n){let e=Q_e({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dM(e,e.limit,"L"):e}function wEe(n){return{name:n.name,query:EEe(n.bundledQuery),readTime:Bo(n.readTime)}}function SEe(n){return{id:n.id,version:n.version,createTime:Bo(n.createTime)}}var TEe=5,CEe=10,IEe=13,Bk=15,DEe=20,xEe=25,AEe=30,NEe=37,REe=45,kEe=50,MEe=53,OEe=55,PEe=60,LEe=2,jE=class{constructor(){}writeIndexValue(e,t){this.writeIndexValueAux(e,t),t.writeInfinity()}writeIndexValueAux(e,t){if("nullValue"in e)this.writeValueTypeLabel(t,TEe);else if("booleanValue"in e)this.writeValueTypeLabel(t,CEe),t.writeNumber(e.booleanValue?1:0);else if("integerValue"in e)this.writeValueTypeLabel(t,Bk),t.writeNumber(yn(e.integerValue));else if("doubleValue"in e){let r=yn(e.doubleValue);isNaN(r)?this.writeValueTypeLabel(t,IEe):(this.writeValueTypeLabel(t,Bk),Fg(r)?t.writeNumber(0):t.writeNumber(r))}else if("timestampValue"in e){let r=e.timestampValue;this.writeValueTypeLabel(t,DEe),typeof r=="string"&&(r=Pa(r)),t.writeString(`${r.seconds||""}`),t.writeNumber(r.nanos||0)}else if("stringValue"in e)this.writeIndexString(e.stringValue,t),this.writeTruncationMarker(t);else if("bytesValue"in e)this.writeValueTypeLabel(t,AEe),t.writeBytes(La(e.bytesValue)),this.writeTruncationMarker(t);else if("referenceValue"in e)this.writeIndexEntityRef(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.writeValueTypeLabel(t,REe),t.writeNumber(r.latitude||0),t.writeNumber(r.longitude||0)}else"mapValue"in e?mz(e)?this.writeValueTypeLabel(t,Number.MAX_SAFE_INTEGER):pz(e)?this.writeIndexVector(e.mapValue,t):(this.writeIndexMap(e.mapValue,t),this.writeTruncationMarker(t)):"arrayValue"in e?(this.writeIndexArray(e.arrayValue,t),this.writeTruncationMarker(t)):ze(19022,{indexValue:e})}writeIndexString(e,t){this.writeValueTypeLabel(t,xEe),this.writeUnlabeledIndexString(e,t)}writeUnlabeledIndexString(e,t){t.writeString(e)}writeIndexMap(e,t){let r=e.fields||{};this.writeValueTypeLabel(t,OEe);for(let i of Object.keys(r))this.writeIndexString(i,t),this.writeIndexValueAux(r[i],t)}writeIndexVector(e,t){var r,i;let s=e.fields||{};this.writeValueTypeLabel(t,MEe);let o=mh,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.writeValueTypeLabel(t,Bk),t.writeNumber(yn(a)),this.writeIndexString(o,t),this.writeIndexValueAux(s[o],t)}writeIndexArray(e,t){let r=e.values||[];this.writeValueTypeLabel(t,kEe);for(let i of r)this.writeIndexValueAux(i,t)}writeIndexEntityRef(e,t){this.writeValueTypeLabel(t,NEe),qe.fromName(e).path.forEach(i=>{this.writeValueTypeLabel(t,PEe),this.writeUnlabeledIndexString(i,t)})}writeValueTypeLabel(e,t){e.writeNumber(t)}writeTruncationMarker(e){e.writeNumber(LEe)}};jE.INSTANCE=new jE;var DM=class{constructor(){this.collectionParentIndex=new xM}addToCollectionParentIndex(e,t){return this.collectionParentIndex.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.collectionParentIndex.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(ed.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(ed.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}},xM=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new hr(wn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hr(wn.comparator)).toArray()}};var IFe=new Uint8Array(0);var Vk=2,$g=class n{constructor(e){this.lastId=e}next(){return this.lastId+=Vk,this.lastId}static forTargetCache(){return new n(2-Vk)}static forSyncEngine(){return new n(1-Vk)}};var C$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yw=-1,zz=40*1024*1024,is=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};is.DEFAULT_COLLECTION_PERCENTILE=10;is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3;is.DEFAULT=new is(zz,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);is.DISABLED=new is(yw,0,0);var I$="LruGarbageCollector",D$=1*1024*1024,FEe=1*60*1e3,UEe=5*60*1e3;function x$([n,e],[t,r]){let i=ht(n,t);return i===0?ht(e,r):i}var AM=class{constructor(e){this.maxElements=e,this.buffer=new hr(x$),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(e){let t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();x$(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},NM=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==yw&&this.scheduleGC(FEe)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return this.gcTask!==null}scheduleGC(e){De(I$,`Garbage collection scheduled in ${e}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>P(this,null,function*(){this.gcTask=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ah(t)?De(I$,"Ignoring IndexedDB error during garbage collection: ",t):yield xh(t)}yield this.scheduleGC(UEe)}))}},RM=class{constructor(e,t){this.delegate=e,this.params=t}calculateTargetCount(e,t){return this.delegate.getSequenceNumberCount(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(C3.INVALID);let r=new AM(t);return this.delegate.forEachTarget(e,i=>r.addElement(i.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(e,i=>r.addElement(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.delegate.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.delegate.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===yw?(De("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(C$)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C$):this.runGarbageCollection(e,t))}getCacheSize(e){return this.delegate.getCacheSize(e)}runGarbageCollection(e,t){let r,i,s,o,a,u,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(s=d,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>{if(c=Date.now(),uh()<=vt.DEBUG){let f=`LRU Garbage Collection
	Counted targets in ${o-l}ms
	Determined least recently used ${i} in ${a-o}ms
	Removed ${s} targets in ${u-a}ms
	Removed ${d} documents in ${c-u}ms
Total Duration: ${c-l}ms`;De("LruGarbageCollector",f)}return oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})})}};function BEe(n,e){return new RM(n,e)}var kM=class{constructor(){this.changes=new Fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var MM=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var OM=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Og(r.mutation,i,rs.empty(),jn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Et()){let i=Ql();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Rg();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Ql();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Et()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ua(),o=Vg(),a=r_e();return t.forEach((u,c)=>{let l=r.get(c.key);i.has(c.key)&&(l===void 0||l.mutation instanceof Vo)?s=s.insert(c.key,c):l!==void 0?(o.set(c.key,l.mutation.getFieldMask()),Og(l.mutation,c,l.mutation.getFieldMask(),jn.now())):o.set(c.key,rs.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new MM(l,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Vg(),i=new Nn((o,a)=>o-a),s=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(u=>{let c=t.get(u);if(c===null)return;let l=r.get(u)||rs.empty();l=a.applyToLocalView(c,l),r.set(u,l);let d=(i.get(a.batchId)||Et()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),c=u.key,l=u.value,d=xz();l.forEach(f=>{if(!s.has(f)){let h=Oz(t.get(f),r.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return W1e(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sz(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):oe.resolve(Ql()),a=Pg,u=s;return o.next(c=>oe.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?oe.resolve():this.remoteDocumentCache.getEntry(e,l).next(f=>{u=u.insert(l,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Et())).next(l=>({batchId:a,changes:Dz(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let i=Rg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Rg();return this.indexManager.getCollectionParents(e,s).next(a=>oe.forEach(a,u=>{let c=z1e(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,c)=>{let l=c.getKey();o.get(l)===null&&(o=o.insert(l,Qs.newInvalidDocument(l)))});let a=Rg();return o.forEach((u,c)=>{let l=s.get(u);l!==void 0&&Og(l.mutation,c,rs.empty(),jn.now()),mw(t,c)&&(a=a.insert(u,c))}),a})}};var PM=class{constructor(e){this.serializer=e,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(e,t){return oe.resolve(this.bundles.get(t))}saveBundleMetadata(e,t){return this.bundles.set(t.id,SEe(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.namedQueries.get(t))}saveNamedQuery(e,t){return this.namedQueries.set(t.name,wEe(t)),oe.resolve()}};var LM=class{constructor(){this.overlays=new Nn(qe.comparator),this.overlayByBatchId=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ql();return oe.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.saveOverlay(e,t,s)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.overlayByBatchId.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.overlayByBatchId.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){let i=Ql(),s=t.length+1,o=new qe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Nn((c,l)=>c-l),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=Ql(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=Ql(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=i)););return oe.resolve(a)}saveOverlay(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.overlayByBatchId.get(i.largestBatchId).delete(r.key);this.overlayByBatchId.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gM(t,r));let s=this.overlayByBatchId.get(t);s===void 0&&(s=Et(),this.overlayByBatchId.set(t,s)),this.overlayByBatchId.set(t,s.add(r.key))}};var FM=class{constructor(){this.sessionToken=Vr.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}};var zg=class{constructor(){this.refsByKey=new hr(Xn.compareByKey),this.refsByTarget=new hr(Xn.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,t){let r=new Xn(e,t);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)}addReferences(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.removeRef(new Xn(e,t))}removeReferences(e,t){e.forEach(r=>this.removeReference(r,t))}removeReferencesForId(e){let t=new qe(new wn([])),r=new Xn(t,e),i=new Xn(t,e+1),s=[];return this.refsByTarget.forEachInRange([r,i],o=>{this.removeRef(o),s.push(o.key)}),s}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){let t=new qe(new wn([])),r=new Xn(t,e),i=new Xn(t,e+1),s=Et();return this.refsByTarget.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Xn(e,0),r=this.refsByKey.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Xn=class{constructor(e,t){this.key=e,this.targetOrBatchId=t}static compareByKey(e,t){return qe.comparator(e.key,t.key)||ht(e.targetOrBatchId,t.targetOrBatchId)}static compareByTargetId(e,t){return ht(e.targetOrBatchId,t.targetOrBatchId)||qe.comparator(e.key,t.key)}};var UM=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new hr(Xn.compareByKey)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new pM(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Xn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,t){return oe.resolve(this.findMutationBatch(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.indexOfBatchId(r),s=i<0?0:i;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?D3:this.nextBatchId-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Xn(t,0),i=new Xn(t,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([r,i],o=>{let a=this.findMutationBatch(o.targetOrBatchId);s.push(a)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hr(ht);return t.forEach(i=>{let s=new Xn(i,0),o=new Xn(i,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([s,o],a=>{r=r.add(a.targetOrBatchId)})}),oe.resolve(this.findMutationBatches(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;qe.isDocumentKey(s)||(s=s.child(""));let o=new Xn(new qe(s),0),a=new hr(ht);return this.batchesByDocumentKey.forEachWhile(u=>{let c=u.key.path;return r.isPrefixOf(c)?(c.length===i&&(a=a.add(u.targetOrBatchId)),!0):!1},o),oe.resolve(this.findMutationBatches(a))}findMutationBatches(e){let t=[];return e.forEach(r=>{let i=this.findMutationBatch(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){let r=this.indexOfExistingBatchId(t.batchId,"removed");$t(r===0,55003),this.mutationQueue.shift();let i=this.batchesByDocumentKey;return oe.forEach(t.mutations,s=>{let o=new Xn(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.batchesByDocumentKey=i})}removeCachedMutationKeys(e){}containsKey(e,t){let r=new Xn(t,0),i=this.batchesByDocumentKey.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}indexOfExistingBatchId(e,t){return this.indexOfBatchId(e)}indexOfBatchId(e){if(this.mutationQueue.length===0)return 0;let t=this.mutationQueue[0].batchId;return e-t}findMutationBatch(e){let t=this.indexOfBatchId(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var VEe="-9223372036854775808";function qEe(){return new Nn(qe.comparator)}var BM=class{constructor(e){this.sizer=e,this.docs=qEe(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.sizer(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Qs.newInvalidDocument(t))}getEntries(e,t){let r=Ua();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qs.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ua(),o=t.path,a=new qe(o.child("__id"+VEe+"__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Obe(Mbe(l),r)<=0||!i.has(l.key)&&!mw(t,l)||(s=s.insert(l.key,l.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ze(9500)}forEachDocumentKey(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new VM(this)}getSize(e){return oe.resolve(this.size)}};function jEe(n){return new BM(n)}var VM=class extends kM{constructor(e){super(),this.documentCache=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.documentCache.addEntry(e,i)):this.documentCache.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.documentCache.getEntry(e,t)}getAllFromCache(e,t){return this.documentCache.getEntries(e,t)}};var qM=class{constructor(e){this.persistence=e,this.targets=new Fa(t=>k3(t),M3),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new zg,this.targetCount=0,this.targetIdGenerator=$g.forTargetCache()}forEachTarget(e,t){return this.targets.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.highestSequenceNumber)}allocateTargetId(e){return this.highestTargetId=this.targetIdGenerator.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),oe.resolve()}saveTargetData(e){this.targets.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.targetIdGenerator=new $g(t),this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)}addTargetData(e,t){return this.saveTargetData(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.saveTargetData(t),oe.resolve()}removeTargetData(e,t){return this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.targets.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.targets.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(s).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){let r=this.targets.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.references.addReferences(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.references.removeReferences(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),oe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.references.removeReferencesForId(t),oe.resolve()}getMatchingKeysForTargetId(e,t){let r=this.references.referencesForId(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.references.containsKey(t))}};var HEe="MemoryPersistence",HE=class{constructor(e,t){this.mutationQueues={},this.overlays={},this.listenSequence=new C3(0),this._started=!1,this._started=!0,this.globalsCache=new FM,this.referenceDelegate=e(this),this.targetCache=new qM(this);let r=i=>this.referenceDelegate.documentSize(i);this.indexManager=new DM,this.remoteDocumentCache=jEe(r),this.serializer=new IM(t),this.bundleCache=new PM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.mutationQueues[e.toKey()];return r||(r=new UM(t,this.referenceDelegate),this.mutationQueues[e.toKey()]=r),r}getGlobalsCache(){return this.globalsCache}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){De(HEe,"Starting transaction:",e);let i=new jM(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(i).next(s=>this.referenceDelegate.onTransactionCommitted(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}mutationQueuesContainKey(e,t){return oe.or(Object.values(this.mutationQueues).map(r=>()=>r.containsKey(e,t)))}},jM=class extends Yk{constructor(e){super(),this.currentSequenceNumber=e}},HM=class n{constructor(e){this.persistence=e,this.localViewReferences=new zg,this._orphanedDocuments=null}static factory(e){return new n(e)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw ze(60996)}addReference(e,t,r){return this.localViewReferences.addReference(r,t),this.orphanedDocuments.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.localViewReferences.removeReference(r,t),this.orphanedDocuments.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.orphanedDocuments.add(t.toString()),oe.resolve()}removeTarget(e,t){this.localViewReferences.removeReferencesForId(t.targetId).forEach(s=>this.orphanedDocuments.add(s.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.orphanedDocuments.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){let r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.orphanedDocuments,i=>{let s=qe.fromPath(i);return this.isReferenced(e,s).next(o=>{o||r.removeEntry(s,et.min())})}).next(()=>(this._orphanedDocuments=null,r.apply(e)))}updateLimboDocument(e,t){return this.isReferenced(e,t).next(r=>{r?this.orphanedDocuments.delete(t.toString()):this.orphanedDocuments.add(t.toString())})}documentSize(e){return 0}isReferenced(e,t){return oe.or([()=>oe.resolve(this.localViewReferences.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.mutationQueuesContainKey(e,t)])}},$E=class n{constructor(e,t){this.persistence=e,this.orphanedSequenceNumbers=new Fa(r=>Vbe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=BEe(this,t)}static factory(e,t){return new n(e,t)}onTransactionStarted(){}onTransactionCommitted(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}getSequenceNumberCount(e){let t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,r=>{t++}).next(()=>t)}forEachOrphanedDocumentSequenceNumber(e,t){return oe.forEach(this.orphanedSequenceNumbers,(r,i)=>this.isPinned(e,r,i).next(s=>s?oe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.forEachDocumentKey(e,a=>this.isPinned(e,a,t).next(u=>{u||(r++,s.removeEntry(a,et.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),oe.resolve()}documentSize(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fw(e.data.value)),t}isPinned(e,t,r){return oe.or([()=>this.persistence.mutationQueuesContainKey(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.orphanedSequenceNumbers.get(t);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var DFe=30*60*1e3;function $Ee(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}var F3="LocalStore",zEe=5*60*1e6,$M=class{constructor(e,t,r,i){this.persistence=e,this.queryEngine=t,this.serializer=i,this.targetDataByTarget=new Nn(ht),this.targetIdByTarget=new Fa(s=>k3(s),M3),this.collectionGroupReadTime=new Map,this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.bundleCache=e.getBundleCache(),this.initializeUserComponents(r)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OM(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.targetDataByTarget))}};function GEe(n,e,t,r){return new $M(n,e,t,r)}function Gz(n,e){return P(this,null,function*(){let t=Ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,t.initializeUserComponents(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],u=[],c=Et();for(let l of s){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){u.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(i,c).next(l=>({affectedDocuments:l,removedBatchIds:a,addedBatchIds:u}))})})})}function WEe(n,e){let t=Ye(n),r=jn.now(),i=e.reduce((a,u)=>a.add(u.key),Et()),s,o;return t.persistence.runTransaction("Locally write mutations","readwrite",a=>{let u=Ua(),c=Et();return t.remoteDocuments.getEntries(a,i).next(l=>{u=l,u.forEach((d,f)=>{f.isValidDocument()||(c=c.add(d))})}).next(()=>t.localDocuments.getOverlayedDocuments(a,u)).next(l=>{s=l;let d=[];for(let f of e){let h=y_e(f,s.get(f.key).overlayedDocument);h!=null&&d.push(new Vo(f.key,h,gz(h.value.mapValue),Uo.exists(!0)))}return t.mutationQueue.addMutationBatch(a,r,d,e)}).next(l=>{o=l;let d=l.applyToLocalDocumentSet(s,c);return t.documentOverlayCache.saveOverlays(a,l.batchId,d)})}).then(()=>({batchId:o.batchId,changes:Dz(s)}))}function KEe(n,e){let t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return iwe(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,QEe(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function QEe(n){let e=Et();for(let t=0;t<n.mutationResults.length;++t)n.mutationResults[t].transformResults.length>0&&(e=e.add(n.batch.mutations[t].key));return e}function YEe(n,e){let t=Ye(n);return t.persistence.runTransaction("Reject batch","readwrite-primary",r=>{let i;return t.mutationQueue.lookupMutationBatch(r,e).next(s=>($t(s!==null,37113),i=s.keys(),t.mutationQueue.removeMutationBatch(r,s))).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,i)).next(()=>t.localDocuments.getDocuments(r,i))})}function Wz(n){let e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.targetCache.getLastRemoteSnapshotVersion(t))}function ZEe(n,e){let t=Ye(n),r=e.snapshotVersion,i=t.targetDataByTarget;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=t.targetDataByTarget;let a=[];e.targetChanges.forEach((l,d)=>{let f=i.get(d);if(!f)return;a.push(t.targetCache.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.targetCache.addMatchingKeys(s,l.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Vr.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(d,h),JEe(f,h,l)&&a.push(t.targetCache.updateTargetData(s,h))});let u=Ua(),c=Et();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(XEe(s,o,e.documentUpdates).next(l=>{u=l.changedDocuments,c=l.existenceChangedKeys})),!r.isEqual(et.min())){let l=t.targetCache.getLastRemoteSnapshotVersion(s).next(d=>t.targetCache.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return oe.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.targetDataByTarget=i,s))}function XEe(n,e,t){let r=Et(),i=Et();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ua();return t.forEach((a,u)=>{let c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(et.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):De(F3,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{changedDocuments:o,existenceChangedKeys:i}})}function JEe(n,e,t){return n.resumeToken.approximateByteSize()===0||e.snapshotVersion.toMicroseconds()-n.snapshotVersion.toMicroseconds()>=zEe?!0:t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size>0}function ewe(n,e){return P(this,null,function*(){let t=Ye(n);try{yield t.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>oe.forEach(e,i=>oe.forEach(i.addedKeys,s=>t.persistence.referenceDelegate.addReference(r,i.targetId,s)).next(()=>oe.forEach(i.removedKeys,s=>t.persistence.referenceDelegate.removeReference(r,i.targetId,s)))))}catch(r){if(Ah(r))De(F3,"Failed to update sequence numbers: "+r);else throw r}for(let r of e){let i=r.targetId;if(!r.fromCache){let s=t.targetDataByTarget.get(i),o=s.snapshotVersion,a=s.withLastLimboFreeSnapshotVersion(o);t.targetDataByTarget=t.targetDataByTarget.insert(i,a)}}})}function twe(n,e){let t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=D3),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nwe(n,e){let t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.targetCache.getTargetData(r,e).next(s=>s?(i=s,oe.resolve(i)):t.targetCache.allocateTargetId(r).next(o=>(i=new Hg(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.targetCache.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.targetDataByTarget.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.targetDataByTarget=t.targetDataByTarget.insert(r.targetId,r),t.targetIdByTarget.set(e,r.targetId)),r})}function rwe(n,e,t){let r=Ye(n),i=r.targetIdByTarget.get(t);return i!==void 0?oe.resolve(r.targetDataByTarget.get(i)):r.targetCache.getTargetData(e,t)}function zM(n,e,t){return P(this,null,function*(){let r=Ye(n),i=r.targetDataByTarget.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(Ah(o))De(F3,`Failed to update sequence numbers for target ${e}: ${o}`);else throw o}r.targetDataByTarget=r.targetDataByTarget.remove(e),r.targetIdByTarget.delete(i.target)})}function Kz(n,e,t){let r=Ye(n),i=et.min(),s=Et();return r.persistence.runTransaction("Execute query","readwrite",o=>rwe(r,o,Fo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.targetCache.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.queryEngine.getDocumentsMatchingQuery(o,e,t?i:et.min(),t?s:Et())).next(a=>(swe(r,e_e(e),a),{documents:a,remoteKeys:s})))}function iwe(n,e,t,r){let i=t.batch,s=i.keys(),o=oe.resolve();return s.forEach(a=>{o=o.next(()=>r.getEntry(e,a)).next(u=>{let c=t.docVersions.get(a);$t(c!==null,48541),u.version.compareTo(c)<0&&(i.applyToRemoteDocument(u,t),u.isValidDocument()&&(u.setReadTime(t.commitVersion),r.addEntry(u)))})}),o.next(()=>n.mutationQueue.removeMutationBatch(e,i))}function swe(n,e,t){let r=n.collectionGroupReadTime.get(e)||et.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.collectionGroupReadTime.set(e,r)}var GM=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var owe=100;function awe(){return IU()?8:Lbe(Ii())>0?6:4}var WM=class{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=owe,this.relativeIndexReadCostPerDocument=awe()}initialize(e,t){this.localDocumentsView=e,this.indexManager=t,this.initialized=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.performQueryUsingIndex(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.performQueryUsingRemoteKeys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new GM;return this.executeFullCollectionScan(e,t,o).next(a=>{if(s.result=a,this.indexAutoCreationEnabled)return this.createCacheIndexes(e,t,o,a.size)})}).next(()=>s.result)}createCacheIndexes(e,t,r,i){return r.documentReadCount<this.indexAutoCreationMinCollectionSize?(uh()<=vt.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",ch(t),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),oe.resolve()):(uh()<=vt.DEBUG&&De("QueryEngine","Query:",ch(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.relativeIndexReadCostPerDocument*i?(uh()<=vt.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",ch(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fo(t))):oe.resolve())}performQueryUsingIndex(e,t){if(v$(t))return oe.resolve(null);let r=Fo(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=dM(t,null,"F"),r=Fo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Et(...s);return this.localDocumentsView.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let c=this.applyQuery(t,a);return this.needsRefill(t,c,o,u.readTime)?this.performQueryUsingIndex(e,dM(t,null,"F")):this.appendRemainingResults(e,c,t,u)}))})))}performQueryUsingRemoteKeys(e,t,r,i){return v$(t)||i.isEqual(et.min())?oe.resolve(null):this.localDocumentsView.getDocuments(e,r).next(s=>{let o=this.applyQuery(t,s);return this.needsRefill(t,o,r,i)?oe.resolve(null):(uh()<=vt.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ch(t)),this.appendRemainingResults(e,o,t,kbe(i,Pg)).next(a=>a))})}applyQuery(e,t){let r=new hr(Cz(e));return t.forEach((i,s)=>{mw(e,s)&&(r=r.add(s))}),r}needsRefill(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return s?s.hasPendingWrites||s.version.compareTo(i)>0:!1}executeFullCollectionScan(e,t,r){return uh()<=vt.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",ch(t)),this.localDocumentsView.getDocumentsMatchingQuery(e,t,ed.min(),r)}appendRemainingResults(e,t,r,i){return this.localDocumentsView.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var zE=class{constructor(){this.activeTargetIds=u_e()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var KM=class{constructor(){this.localState=new zE,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.localState.addQueryTarget(e),this.queryState[e]||"not-current"}updateQueryState(e,t,r){this.queryState[e]=t}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){return this.localState=new zE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var QM=class{addCallback(e){}shutdown(){}};var YM=class{constructor(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}onConnected(e){this.wrappedOnConnected=e}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}};var IE=null;function uwe(){return 268435456+Math.round(2147483648*Math.random())}function qk(){return IE===null?IE=uwe():IE++,"0x"+IE.toString(16)}function cwe(n){return new Promise((e,t)=>{n((r,i)=>{r?t(r):e(i)})})}var lwe="1.9.15",Qr="GrpcConnection",dwe=`gl-node/${process.versions.node} fire/${Dh} grpc/${lwe}`;function jk(n,e,t,r){$t(e===null||e.type==="OAuth",36936);let i=new Zl.Metadata;return e&&e.headers.forEach((s,o)=>i.set(o,s)),t&&t.headers.forEach((s,o)=>i.set(o,s)),r&&i.set("X-Firebase-GMPID",r),i.set("X-Goog-Api-Client",dwe),i.set("Google-Cloud-Resource-Prefix",n),i.set("x-goog-request-params",n),i}var ZM=class{get shouldResourcePathBeIncludedInRequest(){return!0}constructor(e,t){this.databaseInfo=t,this.cachedStub=null,this.firestore=e.google.firestore.v1,this.databasePath=`projects/${t.databaseId.projectId}/databases/${t.databaseId.database}`}ensureActiveStub(){if(!this.cachedStub){De(Qr,"Creating Firestore stub.");let e=this.databaseInfo.ssl?Zl.credentials.createSsl():Zl.credentials.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,t,r,i,s){let o=qk(),a=this.ensureActiveStub(),u=jk(this.databasePath,i,s,this.databaseInfo.appId),c=Object.assign({database:this.databasePath},r);return cwe(l=>(De(Qr,`RPC '${e}' ${o} invoked with request:`,r),a[e](c,u,(d,f)=>{d?(De(Qr,`RPC '${e}' ${o} failed with error:`,d),l(new _e(AE(d.code),d.message))):(De(Qr,`RPC '${e}' ${o} completed with response:`,f),l(void 0,f))})))}invokeStreamingRPC(e,t,r,i,s,o){let a=qk(),u=[],c=new ss;De(Qr,`RPC '${e}' ${a} invoked (streaming) with request:`,r);let l=this.ensureActiveStub(),d=jk(this.databasePath,i,s,this.databaseInfo.appId),f=Object.assign(Object.assign({},r),{database:this.databasePath}),h=l[e](f,d),p=!1;return h.on("data",v=>{De(Qr,`RPC ${e} ${a} received result:`,v),u.push(v),o!==void 0&&u.length===o&&(p=!0,c.resolve(u))}),h.on("end",()=>{De(Qr,`RPC '${e}' ${a} completed.`),p||(p=!0,c.resolve(u))}),h.on("error",v=>{De(Qr,`RPC '${e}' ${a} failed with error:`,v);let T=AE(v.code);c.reject(new _e(T,v.message))}),c.promise}openStream(e,t,r){let i=qk(),s=this.ensureActiveStub(),o=jk(this.databasePath,t,r,this.databaseInfo.appId),a=s[e](o),u=!1,c=f=>{u||(u=!0,l.callOnClose(f),a.end())},l=new YM({sendFn:f=>{if(u)De(Qr,`RPC '${e}' stream ${i} not sending because gRPC stream is closed:`,f);else{De(Qr,`RPC '${e}' stream ${i} sending:`,f);try{a.write(f)}catch(h){throw Ks("Failure sending:",f),Ks("Error:",h),h}}},closeFn:()=>{De(Qr,`RPC '${e}' stream ${i} closed locally via close().`),c()}}),d=!1;return a.on("data",f=>{u||(De(Qr,`RPC '${e}' stream ${i} received:`,f),d||(l.callOnConnected(),d=!0),l.callOnMessage(f))}),a.on("end",()=>{De(Qr,`RPC '${e}' stream ${i} ended.`),c()}),a.on("error",f=>{if(!u){hh(Qr,`RPC '${e}' stream ${i} error. Code:`,f.code,"Message:",f.message);let h=AE(f.code);c(new _e(h,f.message))}}),De(Qr,`Opening RPC '${e}' stream ${i} to ${this.databaseInfo.host}`),setTimeout(()=>{l.callOnOpen()},0),l}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}},Qz={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},fwe={nested:Qz},hwe=Object.freeze({__proto__:null,nested:Qz,default:fwe});var pwe={longs:String,enums:String,defaults:!0,oneofs:!1};function mwe(){let n=z$.fromJSON(hwe,pwe);return Zl.loadPackageDefinition(n)}function gwe(n){let e=mwe();return new ZM(e,n)}function ywe(){return new QM}function vw(n){return new EM(n,!1)}var vwe="ExponentialBackoff",bwe=1e3,_we=1.5,Ewe=60*1e3,GE=class{constructor(e,t,r=bwe,i=_we,s=Ewe){this.queue=e,this.timerId=t,this.initialDelayMs=r,this.backoffFactor=i,this.maxDelayMs=s,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();let t=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,t-r);i>0&&De(vwe,`Backing off for ${i} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,()=>(this.lastAttemptTime=Date.now(),e())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){this.timerPromise!==null&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){this.timerPromise!==null&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}};var A$="PersistentStream",wwe=60*1e3,Swe=10*1e3,WE=class{constructor(e,t,r,i,s,o,a,u){this.queue=e,this.idleTimerId=r,this.healthTimerId=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.responseCount=0,this.backoff=new GE(e,t)}isStarted(){return this.state===1||this.state===5||this.isOpen()}isOpen(){return this.state===2||this.state===3}start(){if(this.responseCount=0,this.state===4){this.performBackoff();return}this.auth()}stop(){return P(this,null,function*(){this.isStarted()&&(yield this.close(0))})}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&this.idleTimer===null&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,wwe,()=>this.handleIdleCloseTimer()))}sendRequest(e){this.cancelIdleCheck(),this.stream.send(e)}handleIdleCloseTimer(){return P(this,null,function*(){if(this.isOpen())return this.close(0)})}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}close(e,t){return P(this,null,function*(){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,e!==4?this.backoff.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Ks(t.toString()),Ks("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.onClose(t)})}tearDown(){}auth(){this.state=1;let e=this.getCloseGuardedDispatcher(this.closeCount),t=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.closeCount===t&&this.startStream(r,i)},r=>{e(()=>{let i=new _e(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.handleStreamClose(i)})})}startStream(e,t){let r=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,t),this.stream.onConnected(()=>{r(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{r(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,Swe,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(i=>{r(()=>this.handleStreamClose(i))}),this.stream.onMessage(i=>{r(()=>++this.responseCount===1?this.onFirst(i):this.onNext(i))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(()=>P(this,null,function*(){this.state=0,this.start()}))}handleStreamClose(e){return De(A$,`close with error: ${e}`),this.stream=null,this.close(4,e)}getCloseGuardedDispatcher(e){return t=>{this.queue.enqueueAndForget(()=>this.closeCount===e?t():(De(A$,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},XM=class extends WE{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}startRpc(e,t){return this.connection.openStream("Listen",e,t)}onFirst(e){return this.onNext(e)}onNext(e){this.backoff.reset();let t=B_e(this.serializer,e),r=q_e(e);return this.listener.onWatchChange(t,r)}watch(e){let t={};t.database=CM(this.serializer),t.addTarget=X_e(this.serializer,e);let r=Y_e(this.serializer,e);r&&(t.labels=r),this.sendRequest(t)}unwatch(e){let t={};t.database=CM(this.serializer),t.removeTarget=e,this.sendRequest(t)}},JM=class extends WE{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get handshakeComplete(){return this.responseCount>0}start(){this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete&&this.writeMutations([])}startRpc(e,t){return this.connection.openStream("Write",e,t)}onFirst(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.onHandshakeComplete()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.backoff.reset();let t=z_e(e.writeResults,e.commitTime),r=Bo(e.commitTime);return this.listener.onMutationResult(r,t)}writeHandshake(){let e={};e.database=CM(this.serializer),this.sendRequest(e)}writeMutations(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>j_e(this.serializer,r))};this.sendRequest(t)}};var e3=class{},t3=class extends e3{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(e,t,r,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.invokeRPC(e,SM(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(re.UNKNOWN,s.toString())})}invokeStreamingRPC(e,t,r,i,s){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.invokeStreamingRPC(e,SM(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(re.UNKNOWN,o.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}};function Twe(n,e,t,r){return new t3(n,e,t,r)}function Cwe(n,e,t){let r=Ye(n);return r.verifyInitialized(),new JM(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}function Iwe(n,e,t){let r=Ye(n);return r.verifyInitialized(),new XM(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}var Dwe="OnlineStateTracker",N$=1,R$=10*1e3,n3=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){this.watchStreamFailures===0&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",R$,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${R$/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(e){this.state==="Online"?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=N$&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${N$} times. Most recent error: ${e.toString()}`),this.setAndBroadcast("Offline")))}set(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e==="Online"&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)}setAndBroadcast(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}logClientOfflineWarningIfNecessary(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(Ks(t),this.shouldWarnClientIsOffline=!1):De(Dwe,t)}clearOnlineStateTimer(){this.onlineStateTimer!==null&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}};var sd="RemoteStore",xwe=10,r3=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=s,this.connectivityMonitor.addCallback(o=>{r.enqueueAndForget(()=>P(this,null,function*(){ad(this)&&(De(sd,"Restarting streams for network reachability change."),yield $we(this))}))}),this.onlineStateTracker=new n3(r,i)}};function Awe(n,e,t,r,i){return new r3(n,e,t,r,i)}function bw(n){return P(this,null,function*(){if(ad(n))for(let e of n.onNetworkStatusChange)yield e(!0)})}function e0(n){return P(this,null,function*(){for(let e of n.onNetworkStatusChange)yield e(!1)})}function Nwe(n){return P(this,null,function*(){let e=Ye(n);De(sd,"RemoteStore shutting down."),e.offlineCauses.add(5),yield e0(e),e.connectivityMonitor.shutdown(),e.onlineStateTracker.set("Unknown")})}function Yz(n,e){let t=Ye(n);t.listenTargets.has(e.targetId)||(t.listenTargets.set(e.targetId,e),q3(t)?V3(t):Nh(t).isOpen()&&B3(t,e))}function U3(n,e){let t=Ye(n),r=Nh(t);t.listenTargets.delete(e),r.isOpen()&&Zz(t,e),t.listenTargets.size===0&&(r.isOpen()?r.markIdle():ad(t)&&t.onlineStateTracker.set("Unknown"))}function B3(n,e){if(n.watchChangeAggregator.recordPendingTargetRequest(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nh(n).watch(e)}function Zz(n,e){n.watchChangeAggregator.recordPendingTargetRequest(e),Nh(n).unwatch(e)}function V3(n){n.watchChangeAggregator=new _M({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),getTargetDataForTarget:e=>n.listenTargets.get(e)||null,getDatabaseId:()=>n.datastore.serializer.databaseId}),Nh(n).start(),n.onlineStateTracker.handleWatchStreamStart()}function q3(n){return ad(n)&&!Nh(n).isStarted()&&n.listenTargets.size>0}function ad(n){return Ye(n).offlineCauses.size===0}function Xz(n){n.watchChangeAggregator=void 0}function Rwe(n){return P(this,null,function*(){n.onlineStateTracker.set("Online")})}function kwe(n){return P(this,null,function*(){n.listenTargets.forEach((e,t)=>{B3(n,e)})})}function Mwe(n,e){return P(this,null,function*(){Xz(n),q3(n)?(n.onlineStateTracker.handleWatchStreamFailure(e),V3(n)):n.onlineStateTracker.set("Unknown")})}function Owe(n,e,t){return P(this,null,function*(){if(n.onlineStateTracker.set("Online"),e instanceof BE&&e.state===2&&e.cause){try{yield Lwe(n,e)}catch(r){De(sd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield KE(n,r)}return}if(e instanceof ph?n.watchChangeAggregator.handleDocumentChange(e):e instanceof UE?n.watchChangeAggregator.handleExistenceFilter(e):n.watchChangeAggregator.handleTargetChange(e),!t.isEqual(et.min()))try{let r=yield Wz(n.localStore);t.compareTo(r)>=0&&(yield Pwe(n,t))}catch(r){De(sd,"Failed to raise snapshot:",r),yield KE(n,r)}})}function KE(n,e,t){return P(this,null,function*(){if(Ah(e))n.offlineCauses.add(1),yield e0(n),n.onlineStateTracker.set("Offline"),t||(t=()=>Wz(n.localStore)),n.asyncQueue.enqueueRetryable(()=>P(this,null,function*(){De(sd,"Retrying IndexedDB access"),yield t(),n.offlineCauses.delete(1),yield bw(n)}));else throw e})}function Jz(n,e){return e().catch(t=>KE(n,t,e))}function Pwe(n,e){let t=n.watchChangeAggregator.createRemoteEvent(e);return t.targetChanges.forEach((r,i)=>{if(r.resumeToken.approximateByteSize()>0){let s=n.listenTargets.get(i);s&&n.listenTargets.set(i,s.withResumeToken(r.resumeToken,e))}}),t.targetMismatches.forEach((r,i)=>{let s=n.listenTargets.get(r);if(!s)return;n.listenTargets.set(r,s.withResumeToken(Vr.EMPTY_BYTE_STRING,s.snapshotVersion)),Zz(n,r);let o=new Hg(s.target,r,i,s.sequenceNumber);B3(n,o)}),n.remoteSyncer.applyRemoteEvent(t)}function Lwe(n,e){return P(this,null,function*(){let t=e.cause;for(let r of e.targetIds)n.listenTargets.has(r)&&(yield n.remoteSyncer.rejectListen(r,t),n.listenTargets.delete(r),n.watchChangeAggregator.removeTarget(r))})}function _w(n){return P(this,null,function*(){let e=Ye(n),t=yc(e),r=e.writePipeline.length>0?e.writePipeline[e.writePipeline.length-1].batchId:D3;for(;Fwe(e);)try{let i=yield twe(e.localStore,r);if(i===null){e.writePipeline.length===0&&t.markIdle();break}else r=i.batchId,Uwe(e,i)}catch(i){yield KE(e,i)}eG(e)&&tG(e)})}function Fwe(n){return ad(n)&&n.writePipeline.length<xwe}function Uwe(n,e){n.writePipeline.push(e);let t=yc(n);t.isOpen()&&t.handshakeComplete&&t.writeMutations(e.mutations)}function eG(n){return ad(n)&&!yc(n).isStarted()&&n.writePipeline.length>0}function tG(n){yc(n).start()}function Bwe(n){return P(this,null,function*(){yc(n).writeHandshake()})}function Vwe(n){return P(this,null,function*(){let e=yc(n);for(let t of n.writePipeline)e.writeMutations(t.mutations)})}function qwe(n,e,t){return P(this,null,function*(){let r=n.writePipeline.shift(),i=mM.from(r,e,t);yield Jz(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield _w(n)})}function jwe(n,e){return P(this,null,function*(){e&&yc(n).handshakeComplete&&(yield Hwe(n,e)),eG(n)&&tG(n)})}function Hwe(n,e){return P(this,null,function*(){if(C_e(e.code)){let t=n.writePipeline.shift();yc(n).inhibitBackoff(),yield Jz(n,()=>n.remoteSyncer.rejectFailedWrite(t.batchId,e)),yield _w(n)}})}function $we(n){return P(this,null,function*(){let e=Ye(n);e.offlineCauses.add(4),yield e0(e),e.onlineStateTracker.set("Unknown"),e.offlineCauses.delete(4),yield bw(e)})}function k$(n,e){return P(this,null,function*(){let t=Ye(n);t.asyncQueue.verifyOperationInProgress(),De(sd,"RemoteStore received new credentials");let r=ad(t);t.offlineCauses.add(3),yield e0(t),r&&t.onlineStateTracker.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.offlineCauses.delete(3),yield bw(t)})}function zwe(n,e){return P(this,null,function*(){let t=Ye(n);e?(t.offlineCauses.delete(2),yield bw(t)):e||(t.offlineCauses.add(2),yield e0(t),t.onlineStateTracker.set("Unknown"))})}function Nh(n){return n.watchStream||(n.watchStream=Iwe(n.datastore,n.asyncQueue,{onConnected:Rwe.bind(null,n),onOpen:kwe.bind(null,n),onClose:Mwe.bind(null,n),onWatchChange:Owe.bind(null,n)}),n.onNetworkStatusChange.push(e=>P(this,null,function*(){e?(n.watchStream.inhibitBackoff(),q3(n)?V3(n):n.onlineStateTracker.set("Unknown")):(yield n.watchStream.stop(),Xz(n))}))),n.watchStream}function yc(n){return n.writeStream||(n.writeStream=Cwe(n.datastore,n.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:Bwe.bind(null,n),onClose:jwe.bind(null,n),onHandshakeComplete:Vwe.bind(null,n),onMutationResult:qwe.bind(null,n)}),n.onNetworkStatusChange.push(e=>P(this,null,function*(){e?(n.writeStream.inhibitBackoff(),yield _w(n)):(yield n.writeStream.stop(),n.writePipeline.length>0&&(De(sd,`Stopping write stream with ${n.writePipeline.length} pending writes`),n.writePipeline=[]))}))),n.writeStream}var Gwe="AsyncQueue",i3=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function j3(n,e){if(Ks(Gwe,`${e}: ${n}`),Ah(n))return new _e(re.UNAVAILABLE,`${e}: ${n}`);throw n}var QE=class n{static emptySet(e){return new n(e.comparator)}constructor(e){e?this.comparator=(t,r)=>e(t,r)||qe.comparator(t.key,r.key):this.comparator=(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=Rg(),this.sortedSet=new Nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var YE=class{constructor(){this.changeMap=new Nn(qe.comparator)}track(e){let t=e.doc.key,r=this.changeMap.get(t);if(!r){this.changeMap=this.changeMap.insert(t,e);return}e.type!==0&&r.type===3?this.changeMap=this.changeMap.insert(t,e):e.type===3&&r.type!==1?this.changeMap=this.changeMap.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.changeMap=this.changeMap.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.changeMap=this.changeMap.remove(t):e.type===1&&r.type===2?this.changeMap=this.changeMap.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):ze(63341,{change:e,oldChange:r})}getChanges(){let e=[];return this.changeMap.inorderTraversal((t,r)=>{e.push(r)}),e}},Sh=class n{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,QE.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!pw(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var s3=class{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(e=>e.listensToRemoteStore())}};function Wwe(){return new o3}var o3=class{constructor(){this.queries=nG(),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}terminate(){Zwe(this,new _e(re.ABORTED,"Firestore shutting down"))}};function nG(){return new Fa(n=>Tz(n),pw)}function H3(n,e){return P(this,null,function*(){let t=Ye(n),r=3,i=e.query,s=t.queries.get(i);s?!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(r=2):(s=new s3,r=e.listensToRemoteStore()?0:1);try{switch(r){case 0:s.viewSnap=yield t.onListen(i,!0);break;case 1:s.viewSnap=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i);break;default:break}}catch(o){let a=j3(o,`Initialization of query '${ch(e.query)}' failed`);e.onError(a);return}t.queries.set(i,s),s.listeners.push(e),e.applyOnlineStateChange(t.onlineState),s.viewSnap&&e.onViewSnapshot(s.viewSnap)&&z3(t)})}function $3(n,e){return P(this,null,function*(){let t=Ye(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),s.listeners.length===0?i=e.listensToRemoteStore()?0:1:!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Kwe(n,e){let t=Ye(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.listeners)a.onViewSnapshot(i)&&(r=!0);o.viewSnap=i}}r&&z3(t)}function Qwe(n,e,t){let r=Ye(n),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(t);r.queries.delete(e)}function Ywe(n,e){let t=Ye(n);t.onlineState=e;let r=!1;t.queries.forEach((i,s)=>{for(let o of s.listeners)o.applyOnlineStateChange(e)&&(r=!0)}),r&&z3(t)}function Zwe(n,e){let t=Ye(n),r=t.queries;t.queries=nG(),r.forEach((i,s)=>{for(let o of s.listeners)o.onError(e)})}function z3(n){n.snapshotsInSyncListeners.forEach(e=>{e.next()})}var rG=function(n){return n.Default="default",n.Cache="cache",n}(rG||{}),Gg=class{constructor(e,t,r){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=r||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Sh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),t=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),t=!0),this.snap=e,t}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t}shouldRaiseInitialEvent(e,t){if(!e.fromCache||!this.listensToRemoteStore())return!0;let r=t!=="Offline";return this.options.waitForSyncWhenOnline&&r?!1:!e.docs.isEmpty()||e.hasCachedResults||t==="Offline"}shouldRaiseEvent(e){if(e.docChanges.length>0)return!0;let t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return e.syncStateChanged||t?this.options.includeMetadataChanges===!0:!1}raiseInitialEvent(e){e=Sh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(e)}listensToRemoteStore(){return this.options.source!==rG.Cache}};var a3=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.addedKeys=r,this.removedKeys=i}static fromSnapshot(e,t){let r=Et(),i=Et();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key);break}return new n(e,t.fromCache,r,i)}};var ZE=class{constructor(e){this.key=e}},XE=class{constructor(e){this.key=e}},u3=class{constructor(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=Et(),this.mutatedKeys=Et(),this.docComparator=Cz(e),this.documentSet=new QE(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,t){let r=t?t.changeSet:new YE,i=t?t.documentSet:this.documentSet,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let f=i.get(l),h=mw(this.query,d)?d:null,p=f?this.mutatedKeys.has(f.key):!1,v=h?h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations:!1,T=!1;f&&h?f.data.isEqual(h.data)?p!==v&&(r.track({type:3,doc:h}),T=!0):this.shouldWaitForSyncedDocument(f,h)||(r.track({type:2,doc:h}),T=!0,(u&&this.docComparator(h,u)>0||c&&this.docComparator(h,c)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),T=!0):f&&!h&&(r.track({type:1,doc:f}),T=!0,(u||c)&&(a=!0)),T&&(h?(o=o.add(h),v?s=s.add(l):s=s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{documentSet:o,changeSet:r,needsRefill:a,mutatedKeys:s}}shouldWaitForSyncedDocument(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;let o=e.changeSet.getChanges();o.sort((d,f)=>Xwe(d.type,f.type)||this.docComparator(d.doc,f.doc)),this.applyTargetChange(r),i=i??!1;let a=t&&!i?this.updateLimboDocuments():[],c=this.limboDocuments.size===0&&this.current&&!i?1:0,l=c!==this.syncState;return this.syncState=c,o.length===0&&!l?{limboChanges:a}:{snapshot:new Sh(this.query,e.documentSet,s,o,e.mutatedKeys,c===0,l,!1,r?r.resumeToken.approximateByteSize()>0:!1),limboChanges:a}}applyOnlineStateChange(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new YE,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(e){return!(this._syncedDocuments.has(e)||!this.documentSet.has(e)||this.documentSet.get(e).hasLocalMutations)}applyTargetChange(e){e&&(e.addedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.delete(t)),this.current=e.current)}updateLimboDocuments(){if(!this.current)return[];let e=this.limboDocuments;this.limboDocuments=Et(),this.documentSet.forEach(r=>{this.shouldBeInLimbo(r.key)&&(this.limboDocuments=this.limboDocuments.add(r.key))});let t=[];return e.forEach(r=>{this.limboDocuments.has(r)||t.push(new XE(r))}),this.limboDocuments.forEach(r=>{e.has(r)||t.push(new ZE(r))}),t}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=Et();let t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)}computeInitialSnapshot(){return Sh.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===0,this.hasCachedResults)}};function Xwe(n,e){let t=r=>{switch(r){case 0:return 1;case 2:return 2;case 3:return 2;case 1:return 0;default:return ze(20277,{change:r})}};return t(n)-t(e)}var G3="SyncEngine",c3=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},l3=class{constructor(e){this.key=e,this.receivedDocument=!1}},d3=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.syncEngineListener={},this.queryViewsByQuery=new Fa(a=>Tz(a),pw),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new Nn(qe.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new zg,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=$g.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return this._isPrimaryClient===!0}};function Jwe(n,e,t,r,i,s,o){let a=new d3(n,e,t,r,i,s);return o&&(a._isPrimaryClient=!0),a}function eSe(n,e,t=!0){return P(this,null,function*(){let r=lG(n),i,s=r.queryViewsByQuery.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.computeInitialSnapshot()):i=yield iG(r,e,t,!0),i})}function tSe(n,e){return P(this,null,function*(){let t=lG(n);yield iG(t,e,!0,!1)})}function iG(n,e,t,r){return P(this,null,function*(){let i=yield nwe(n.localStore,Fo(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield nSe(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&Yz(n.remoteStore,i),a})}function nSe(n,e,t,r,i){return P(this,null,function*(){n.applyDocChanges=(d,f,h)=>fSe(n,d,f,h);let s=yield Kz(n.localStore,e,!0),o=new u3(e,s.remoteKeys),a=o.computeDocChanges(s.documents),u=jg.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,u);cG(n,t,c.limboChanges);let l=new c3(e,t,o);return n.queryViewsByQuery.set(e,l),n.queriesByTarget.has(t)?n.queriesByTarget.get(t).push(e):n.queriesByTarget.set(t,[e]),c.snapshot})}function rSe(n,e,t){return P(this,null,function*(){let r=Ye(n),i=r.queryViewsByQuery.get(e),s=r.queriesByTarget.get(i.targetId);if(s.length>1){r.queriesByTarget.set(i.targetId,s.filter(o=>!pw(o,e))),r.queryViewsByQuery.delete(e);return}r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield zM(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&U3(r.remoteStore,i.targetId),f3(r,i.targetId)}).catch(xh))):(f3(r,i.targetId),yield zM(r.localStore,i.targetId,!0))})}function iSe(n,e){return P(this,null,function*(){let t=Ye(n),r=t.queryViewsByQuery.get(e),i=t.queriesByTarget.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),U3(t.remoteStore,r.targetId))})}function sSe(n,e,t){return P(this,null,function*(){let r=mSe(n);try{let i=yield WEe(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),lSe(r,i.batchId,t),yield t0(r,i.changes),yield _w(r.remoteStore)}catch(i){let s=j3(i,"Failed to persist write");t.reject(s)}})}function sG(n,e){return P(this,null,function*(){let t=Ye(n);try{let r=yield ZEe(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.activeLimboResolutionsByTarget.get(s);o&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.receivedDocument=!0:i.modifiedDocuments.size>0?$t(o.receivedDocument,14607):i.removedDocuments.size>0&&($t(o.receivedDocument,42227),o.receivedDocument=!1))}),yield t0(t,r,e)}catch(r){yield xh(r)}})}function M$(n,e,t){let r=Ye(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.queryViewsByQuery.forEach((s,o)=>{let a=o.view.applyOnlineStateChange(e);a.snapshot&&i.push(a.snapshot)}),Ywe(r.eventManager,e),i.length&&r.syncEngineListener.onWatchChange(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oSe(n,e,t){return P(this,null,function*(){let r=Ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.activeLimboResolutionsByTarget.get(e),s=i&&i.key;if(s){let o=new Nn(qe.comparator);o=o.insert(s,Qs.newNoDocument(s,et.min()));let a=Et().add(s),u=new FE(et.min(),new Map,new Nn(ht),o,a);yield sG(r,u),r.activeLimboTargetsByKey=r.activeLimboTargetsByKey.remove(s),r.activeLimboResolutionsByTarget.delete(e),W3(r)}else yield zM(r.localStore,e,!1).then(()=>f3(r,e,t)).catch(xh)})}function aSe(n,e){return P(this,null,function*(){let t=Ye(n),r=e.batch.batchId;try{let i=yield KEe(t.localStore,e);aG(t,r,null),oG(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield t0(t,i)}catch(i){yield xh(i)}})}function uSe(n,e,t){return P(this,null,function*(){let r=Ye(n);try{let i=yield YEe(r.localStore,e);aG(r,e,t),oG(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield t0(r,i)}catch(i){yield xh(i)}})}function oG(n,e){(n.pendingWritesCallbacks.get(e)||[]).forEach(t=>{t.resolve()}),n.pendingWritesCallbacks.delete(e)}function cSe(n,e){n.pendingWritesCallbacks.forEach(t=>{t.forEach(r=>{r.reject(new _e(re.CANCELLED,e))})}),n.pendingWritesCallbacks.clear()}function lSe(n,e,t){let r=n.mutationUserCallbacks[n.currentUser.toKey()];r||(r=new Nn(ht)),r=r.insert(e,t),n.mutationUserCallbacks[n.currentUser.toKey()]=r}function aG(n,e,t){let r=Ye(n),i=r.mutationUserCallbacks[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.mutationUserCallbacks[r.currentUser.toKey()]=i}}function f3(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.queriesByTarget.get(e))n.queryViewsByQuery.delete(r),t&&n.syncEngineListener.onWatchError(r,t);n.queriesByTarget.delete(e),n.isPrimaryClient&&n.limboDocumentRefs.removeReferencesForId(e).forEach(i=>{n.limboDocumentRefs.containsKey(i)||uG(n,i)})}function uG(n,e){n.enqueuedLimboResolutions.delete(e.path.canonicalString());let t=n.activeLimboTargetsByKey.get(e);t!==null&&(U3(n.remoteStore,t),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.remove(e),n.activeLimboResolutionsByTarget.delete(t),W3(n))}function cG(n,e,t){for(let r of t)r instanceof ZE?(n.limboDocumentRefs.addReference(r.key,e),dSe(n,r)):r instanceof XE?(De(G3,"Document no longer in limbo: "+r.key),n.limboDocumentRefs.removeReference(r.key,e),n.limboDocumentRefs.containsKey(r.key)||uG(n,r.key)):ze(19791,{limboChange:r})}function dSe(n,e){let t=e.key,r=t.path.canonicalString();!n.activeLimboTargetsByKey.get(t)&&!n.enqueuedLimboResolutions.has(r)&&(De(G3,"New document in limbo: "+t),n.enqueuedLimboResolutions.add(r),W3(n))}function W3(n){for(;n.enqueuedLimboResolutions.size>0&&n.activeLimboTargetsByKey.size<n.maxConcurrentLimboResolutions;){let e=n.enqueuedLimboResolutions.values().next().value;n.enqueuedLimboResolutions.delete(e);let t=new qe(wn.fromString(e)),r=n.limboTargetIdGenerator.next();n.activeLimboResolutionsByTarget.set(r,new l3(t)),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.insert(t,r),Yz(n.remoteStore,new Hg(Fo(hw(t.path)),r,"TargetPurposeLimboResolution",C3.INVALID))}}function t0(n,e,t){return P(this,null,function*(){let r=Ye(n),i=[],s=[],o=[];r.queryViewsByQuery.isEmpty()||(r.queryViewsByQuery.forEach((a,u)=>{o.push(r.applyDocChanges(u,e,t).then(c=>{var l;if((c||t)&&r.isPrimaryClient){let d=c?!c.fromCache:(l=t?.targetChanges.get(u.targetId))===null||l===void 0?void 0:l.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){i.push(c);let d=a3.fromSnapshot(u.targetId,c);s.push(d)}}))}),yield Promise.all(o),r.syncEngineListener.onWatchChange(i),yield ewe(r.localStore,s))})}function fSe(n,e,t,r){return P(this,null,function*(){let i=e.view.computeDocChanges(t);i.needsRefill&&(i=yield Kz(n.localStore,e.query,!1).then(({documents:u})=>e.view.computeDocChanges(u,i)));let s=r&&r.targetChanges.get(e.targetId),o=r&&r.targetMismatches.get(e.targetId)!=null,a=e.view.applyChanges(i,n.isPrimaryClient,s,o);return cG(n,e.targetId,a.limboChanges),a.snapshot})}function hSe(n,e){return P(this,null,function*(){let t=Ye(n);if(!t.currentUser.isEqual(e)){De(G3,"User change. New user:",e.toKey());let i=yield Gz(t.localStore,e);t.currentUser=e,cSe(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield t0(t,i.affectedDocuments)}})}function pSe(n,e){let t=Ye(n),r=t.activeLimboResolutionsByTarget.get(e);if(r&&r.receivedDocument)return Et().add(r.key);{let i=Et(),s=t.queriesByTarget.get(e);if(!s)return i;for(let o of s){let a=t.queryViewsByQuery.get(o);i=i.unionWith(a.view.syncedDocuments)}return i}}function lG(n){let e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pSe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oSe.bind(null,e),e.syncEngineListener.onWatchChange=Kwe.bind(null,e.eventManager),e.syncEngineListener.onWatchError=Qwe.bind(null,e.eventManager),e}function mSe(n){let e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aSe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uSe.bind(null,e),e}var dG=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return P(this,null,function*(){this.serializer=vw(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return GEe(this.persistence,new WM,t.initialUser,this.serializer)}createPersistence(t){return new HE(HM.factory,this.serializer)}createSharedClientState(t){return new KM}terminate(){return P(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),h3=class extends dG{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){$t(this.persistence.referenceDelegate instanceof $E,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new NM(r,e.asyncQueue,t)}createPersistence(e){let t=this.cacheSizeBytes!==void 0?is.withCacheSize(this.cacheSizeBytes):is.DEFAULT;return new HE(r=>$E.factory(r,t),this.serializer)}};var gSe=(()=>{class n{initialize(t,r){return P(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>M$(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hSe.bind(null,this.syncEngine),yield zwe(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return Wwe()}createDatastore(t){let r=vw(t.databaseInfo.databaseId),i=gwe(t.databaseInfo);return Twe(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return Awe(this.localStore,this.datastore,t.asyncQueue,r=>M$(this.syncEngine,r,0),ywe())}createSyncEngine(t,r){return Jwe(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return P(this,null,function*(){var t,r;yield Nwe(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}n.provider={build:()=>new n};return n})();function fG(n,e,t){if(!t)throw new _e(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ySe(n,e,t,r){if(e===!0&&r===!0)throw new _e(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function O$(n){if(!qe.isDocumentKey(n))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function P$(n){if(qe.isDocumentKey(n))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vSe(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ew(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=bSe(n);return e?`a custom ${e} object`:"an object"}}else return typeof n=="function"?"a function":ze(12329,{type:typeof n})}function bSe(n){return n.constructor?n.constructor.name:null}function Br(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Ew(n);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Wg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.scheduleEvent(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.scheduleEvent(this.observer.error,e):Ks("Uncaught Error in snapshot listener:",e.toString()))}mute(){this.muted=!0}scheduleEvent(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var pc="FirestoreClient",_Se=100,ESe=11,wSe=20,SSe=22,p3=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=kE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>P(this,null,function*(){De(pc,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(De(pc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:_Se}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=j3(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Hk(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),De(pc,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>P(this,null,function*(){r.isEqual(i)||(yield Gz(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function L$(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield CSe(n);De(pc,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>k$(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>k$(e.remoteStore,i)),n._onlineComponents=e})}function TSe(n){return n.name==="FirebaseError"?n.code===re.FAILED_PRECONDITION||n.code===re.UNIMPLEMENTED:typeof DOMException<"u"&&n instanceof DOMException?n.code===SSe||n.code===wSe||n.code===ESe:!0}function CSe(n){return P(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){De(pc,"Using user provided OfflineComponentProvider");try{yield Hk(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!TSe(t))throw t;hh("Error using user provided cache. Falling back to memory cache: "+t),yield Hk(n,new dG)}}else De(pc,"Using default OfflineComponentProvider"),yield Hk(n,new h3(void 0));return n._offlineComponents})}function hG(n){return P(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(De(pc,"Using user provided OnlineComponentProvider"),yield L$(n,n._uninitializedComponentsProvider._online)):(De(pc,"Using default OnlineComponentProvider"),yield L$(n,new gSe))),n._onlineComponents})}function ISe(n){return hG(n).then(e=>e.syncEngine)}function JE(n){return P(this,null,function*(){let e=yield hG(n),t=e.eventManager;return t.onListen=eSe.bind(null,e.syncEngine),t.onUnlisten=rSe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tSe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iSe.bind(null,e.syncEngine),t})}function DSe(n,e,t,r){let i=new Wg(r),s=new Gg(e,i,t);return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){let o=yield JE(n);return H3(o,s)})),()=>{i.mute(),n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){let o=yield JE(n);return $3(o,s)}))}}function pG(n,e,t={}){let r=new ss;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){let i=yield JE(n);return NSe(i,n.asyncQueue,e,t,r)})),r.promise}function xSe(n,e,t={}){let r=new ss;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){let i=yield JE(n);return RSe(i,n.asyncQueue,e,t,r)})),r.promise}function ASe(n,e){let t=new ss;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){let r=yield ISe(n);return sSe(r,e,t)})),t.promise}function NSe(n,e,t,r,i){let s=new Wg({next:a=>{s.mute(),e.enqueueAndForget(()=>$3(n,o));let u=a.docs.has(t);!u&&a.fromCache?i.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&r.source==="server"?i.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:a=>i.reject(a)}),o=new Gg(hw(t.path),s,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return H3(n,o)}function RSe(n,e,t,r,i){let s=new Wg({next:a=>{s.mute(),e.enqueueAndForget(()=>$3(n,o)),a.fromCache&&r.source==="server"?i.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(a)},error:a=>i.reject(a)}),o=new Gg(t,s,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return H3(n,o)}function kSe(n,e){return n.timeoutSeconds===e.timeoutSeconds}function mG(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var MSe="ComponentProvider",F$=new Map;function OSe(n){let e=F$.get(n);e&&(De(MSe,"Removing Datastore"),F$.delete(n),e.terminate())}function PSe(n,e,t,r){return new Xk(n,e,t,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,mG(r.experimentalLongPollingOptions),r.useFetchStreams)}var gG="firestore.googleapis.com",U$=!0,B$=5,V$=30,LSe=!0,ew=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gG,this.ssl=U$}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:U$;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zz;else{if(e.cacheSizeBytes!==yw&&e.cacheSizeBytes<D$)throw new _e(re.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${D$}`);this.cacheSizeBytes=e.cacheSizeBytes}ySe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=LSe:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mG((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),FSe(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&kSe(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};function FSe(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<B$)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is ${B$})`);if(n.timeoutSeconds>V$)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is ${V$})`)}}var Th=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ew({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ew(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=xbe(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return P(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return OSe(this),Promise.resolve()}};function yG(n,e,t,r={}){var i;n=Br(n,Th);let s=n._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==gG&&s.host!==a&&hh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!yo(u,o)&&(n._setSettings(u),r.mockUserToken)){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=pr.MOCK_USER;else{c=c1(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pr(d)}n._authCredentials=new zk(new NE(c,l))}}var mc=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Cr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},dc=class n extends mc{constructor(e,t,r){super(e,t,hw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Cr(this.firestore,null,new qe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function ud(n,e,...t){if(n=en(n),fG("collection","path",e),n instanceof Th){let r=wn.fromString(e,...t);return P$(r),new dc(n,null,r)}else{if(!(n instanceof Cr)&&!(n instanceof dc))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(wn.fromString(e,...t));return P$(r),new dc(n.firestore,null,r)}}function qo(n,e,...t){if(n=en(n),arguments.length===1&&(e=kE.newId()),fG("doc","path",e),n instanceof Th){let r=wn.fromString(e,...t);return O$(r),new Cr(n,null,new qe(r))}else{if(!(n instanceof Cr)&&!(n instanceof dc))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(wn.fromString(e,...t));return O$(r),new Cr(n.firestore,n instanceof dc?n.converter:null,new qe(r))}}var USe="AsyncQueue",tw=class{constructor(e=Promise.resolve()){this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new GE(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()},this.tail=e}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed(),this.enqueueInternal(e)}enterRestrictedMode(e){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=e||!1)}enqueue(e){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let t=new ss;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.retryableOps.push(e),this.retryNextOp()))}retryNextOp(){return P(this,null,function*(){if(this.retryableOps.length!==0){try{yield this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(e){if(Ah(e))De(USe,"Operation failed with retryable error: "+e);else throw e}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}})}enqueueInternal(e){let t=this.tail.then(()=>(this.operationInProgress=!0,e().catch(r=>{this.failure=r,this.operationInProgress=!1;let i=q$(r);throw Ks("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.operationInProgress=!1,r))));return this.tail=t,t}enqueueAfterDelay(e,t,r){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);let i=i3.createAndSchedule(this,e,t,r,s=>this.removeDelayedOperation(s));return this.delayedOperations.push(i),i}verifyNotFailed(){this.failure&&ze(47125,{messageOrStack:q$(this.failure)})}verifyOperationInProgress(){}drain(){return P(this,null,function*(){let e;do e=this.tail,yield e;while(e!==this.tail)})}containsDelayedOperation(e){for(let t of this.delayedOperations)if(t.timerId===e)return!0;return!1}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{this.delayedOperations.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.delayedOperations)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){let t=this.delayedOperations.indexOf(e);this.delayedOperations.splice(t,1)}};function q$(n){let e=n.message||"";return n.stack&&(n.stack.includes(n.message)?e=n.stack:e=n.message+`
`+n.stack),e}var os=class extends Th{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tw,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return P(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new tw(e),this._firestoreClient=void 0,yield e}})}};function K3(n,e){let t=typeof n=="object"?n:ba(),r=typeof n=="string"?n:e||Jk,i=Nu(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=u1("firestore");s&&yG(i,...s)}return i}function n0(n){if(n._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BSe(n),n._firestoreClient}function BSe(n){var e,t,r;let i=n._freezeSettings(),s=PSe(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new p3(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&VSe(n._componentsProvider))}function VSe(n){let e=n?._online.build();return{_offline:n?._offline.build(e),_online:e}}function qSe(n,e=!0){Ibe(Ru),Di(new Sr("firestore",(t,{instanceIdentifier:r,options:i})=>{let s=t.getProvider("app").getImmediate(),o=new os(new Gk(t.getProvider("auth-internal")),new Qk(s,t.getProvider("app-check-internal")),c1e(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),an(i$,s$,n),an(i$,s$,"esm2017")}var Kg=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Vr.fromBase64String(e))}catch(t){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ch=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Qg=class{constructor(e){this._methodName=e}};var Yg=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}};var Zg=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return $Ee(this._values,e._values)}};var jSe=/^__.*__$/,m3=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Vo(e,this.data,this.fieldMask,t,this.fieldTransforms):new id(e,this.data,t,this.fieldTransforms)}},nw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vo(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function vG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{dataSource:n})}}var g3=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return iw(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(vG(this.dataSource)&&jSe.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},y3=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vw(e)}createContext(e,t,r,i=!1){return new g3({dataSource:e,methodName:t,targetDoc:r,path:Mi.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ww(n){let e=n._freezeSettings(),t=vw(n._databaseId);return new y3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bG(n,e,t,r,i,s={}){let o=n.createContext(s.merge||s.mergeFields?2:0,e,t,i);Q3("Data must be an object, but it was:",o,r);let a=_G(r,o),u,c;if(s.merge)u=new rs(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let f=v3(e,d,t);if(!o.contains(f))throw new _e(re.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);wG(l,f)||l.push(f)}u=new rs(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new m3(new ki(a),u,c)}var rw=class n extends Qg{_toFieldTransform(e){if(e.dataSource===2)e.fieldMask.push(e.path);else throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(e){return e instanceof n}};function HSe(n,e,t,r){let i=n.createContext(1,e,t);Q3("Data must be an object, but it was:",i,r);let s=[],o=ki.empty();gc(r,(u,c)=>{let l=Y3(e,u,t);c=en(c);let d=i.childContextForFieldPath(l);if(c instanceof rw)s.push(l);else{let f=r0(c,d);f!=null&&(s.push(l),o.set(l,f))}});let a=new rs(s);return new nw(o,a,i.fieldTransforms)}function $Se(n,e,t,r,i,s){let o=n.createContext(1,e,t),a=[v3(e,r,t)],u=[i];if(s.length%2!==0)throw new _e(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(v3(e,s[f])),u.push(s[f+1]);let c=[],l=ki.empty();for(let f=a.length-1;f>=0;--f)if(!wG(c,a[f])){let h=a[f],p=u[f];p=en(p);let v=o.childContextForFieldPath(h);if(p instanceof rw)c.push(h);else{let T=r0(p,v);T!=null&&(c.push(h),l.set(h,T))}}let d=new rs(c);return new nw(l,d,o.fieldTransforms)}function zSe(n,e,t,r=!1){let i=n.createContext(r?4:3,e);return r0(t,i)}function r0(n,e){if(n=en(n),EG(n))return Q3("Unsupported field value:",e,n),_G(n,e);if(n instanceof Qg)return WSe(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return GSe(n,e)}else return KSe(n,e)}function _G(n,e){let t={};return az(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gc(n,(r,i)=>{let s=r0(i,e.childContextForField(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function GSe(n,e){let t=[],r=0;for(let i of n){let s=r0(i,e.childContextForArray(r));s==null&&(s={nullValue:"NULL_VALUE"}),t.push(s),r++}return{arrayValue:{values:t}}}function WSe(n,e){if(!vG(e.dataSource))throw e.createError(`${n._methodName}() can only be used with update() and set()`);if(!e.path)throw e.createError(`${n._methodName}() is not currently supported inside arrays`);let t=n._toFieldTransform(e);t&&e.fieldTransforms.push(t)}function KSe(n,e){if(n=en(n),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return c_e(e.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let t=jn.fromDate(n);return{timestampValue:qE(e.serializer,t)}}else if(n instanceof jn){let t=new jn(n.seconds,Math.floor(n.nanoseconds/1e3)*1e3);return{timestampValue:qE(e.serializer,t)}}else{if(n instanceof Yg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Kg)return{bytesValue:Uz(e.serializer,n._byteString)};if(n instanceof Cr){let t=e.databaseId,r=n.firestore._databaseId;if(!r.isEqual(t))throw e.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${t.projectId}/${t.database}`);return{referenceValue:L3(n.firestore._databaseId||e.databaseId,n._key.path)}}else{if(n instanceof Zg)return QSe(n,e);throw e.createError(`Unsupported field value: ${Ew(n)}`)}}}function QSe(n,e){return{mapValue:{fields:{[x3]:{stringValue:A3},[mh]:{arrayValue:{values:n.toArray().map(r=>{if(typeof r!="number")throw e.createError("VectorValues must only contain numeric values.");return P3(e.serializer,r)})}}}}}}function EG(n){return typeof n=="object"&&n!==null&&!(n instanceof Array)&&!(n instanceof Date)&&!(n instanceof jn)&&!(n instanceof Yg)&&!(n instanceof Kg)&&!(n instanceof Cr)&&!(n instanceof Qg)&&!(n instanceof Zg)}function Q3(n,e,t){if(!EG(t)||!vSe(t)){let r=Ew(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function v3(n,e,t){if(e=en(e),e instanceof Ch)return e._internalPath;if(typeof e=="string")return Y3(n,e);throw iw("Field path arguments must be of type string or ",n,!1,void 0,t)}var YSe=new RegExp("[~\\*/\\[\\]]");function Y3(n,e,t){if(e.search(YSe)>=0)throw iw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ch(...e.split("."))._internalPath}catch{throw iw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function iw(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new _e(re.INVALID_ARGUMENT,a+n+u)}function wG(n,e){return n.some(t=>t.isEqual(e))}var sw=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document)if(this._converter){let e=new b3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}else return this._userDataWriter.convertValue(this._document.data.value);else return}get(e){if(this._document){let t=this._document.data.field(Sw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},b3=class extends sw{data(){return super.data()}};function Sw(n,e){return typeof e=="string"?Y3(n,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}function SG(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xg=class{},ow=class extends Xg{};function cd(n,e,...t){let r=[];e instanceof Xg&&r.push(e),r=r.concat(t),nTe(r);for(let i of r)n=i._apply(n);return n}var aw=class n extends ow{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return TG(e._query,t),new mc(e.firestore,e.converter,O3(e._query,t))}_parse(e){let t=ww(e.firestore);return ZSe(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Rh(n,e,t){let r=e,i=Sw("where",n);return aw._create(i,r,t)}var _3=class n extends Xg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ys.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(eTe(e._query,t),new mc(e.firestore,e.converter,O3(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var E3=class n extends ow{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=XSe(e._query,this._field,this._direction);return new mc(e.firestore,e.converter,Q1e(e._query,t))}};function kh(n,e="asc"){let t=e,r=Sw("orderBy",n);return E3._create(r,t)}function ZSe(n,e,t,r,i,s,o){let a;if(i.isKeyField()){if(s==="array-contains"||s==="array-contains-any")throw new _e(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if(s==="in"||s==="not-in"){H$(o,s);let c=[];for(let l of o)c.push(j$(r,n,l));a={arrayValue:{values:c}}}else a=j$(r,n,o)}else(s==="in"||s==="not-in"||s==="array-contains-any")&&H$(o,s),a=zSe(t,e,o,s==="in"||s==="not-in");return Jn.create(i,s,a)}function XSe(n,e,t){if(n.startAt!==null)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new td(e,t)}function j$(n,e,t){if(t=en(t),typeof t=="string"){if(t==="")throw new _e(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sz(e)&&t.indexOf("/")!==-1)throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(wn.fromString(t));if(!qe.isDocumentKey(r))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h$(n,new qe(r))}else{if(t instanceof Cr)return h$(n,t._key);throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ew(t)}.`)}}function H$(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JSe(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function TG(n,e){let t=tTe(n.filters,JSe(e.op));if(t!==null)throw t===e.op?new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function eTe(n,e){let t=n,r=e.getFlattenedFilters();for(let i of r)TG(t,i),t=O3(t,i)}function tTe(n,e){for(let t of n)for(let r of t.getFlattenedFilters())if(e.indexOf(r.op)>=0)return r.op;return null}function nTe(n){let e=n.filter(r=>r instanceof _3).length,t=n.filter(r=>r instanceof aw).length;if(e>1||e>0&&t>0)throw new _e(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}var w3=class{convertValue(e,t="none"){switch(fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return gc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[mh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>yn(o.doubleValue));return new Zg(s)}convertGeoPoint(e){return new Yg(yn(e.latitude),yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=lw(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lg(e));default:return null}}convertTimestamp(e){let t=Pa(e);return new jn(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=wn.fromString(e);$t($z(r),9688,{name:e});let i=new PE(r.get(1),r.get(3)),s=new qe(r.popFirst(5));return i.isEqual(t)||Ks(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function CG(n,e,t){let r;return n?t&&(t.merge||t.mergeFields)?r=n.toFirestore(e,t):r=n.toFirestore(e):r=e,r}function $$(n){return rTe(n,["next","error","complete"])}function rTe(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var od=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},uw=class extends sw{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document)if(this._converter){let t=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}else return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps);else return}get(e,t={}){if(this._document){let r=this._document.data.field(Sw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ih=class extends uw{data(e={}){return super.data(e)}},cw=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new od(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ih(this._firestore,this._userDataWriter,r.key,r,new od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return(!this._cachedChanges||this._cachedChangesIncludeMetadataChanges!==t)&&(this._cachedChanges=iTe(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function iTe(n,e){if(n._snapshot.oldDocs.isEmpty()){let t=0;return n._snapshot.docChanges.map(r=>{let i=new Ih(n._firestore,n._userDataWriter,r.doc.key,r.doc,new od(n._snapshot.mutatedKeys.has(r.doc.key),n._snapshot.fromCache),n.query.converter);return r.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}})}else{let t=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(r=>e||r.type!==3).map(r=>{let i=new Ih(n._firestore,n._userDataWriter,r.doc.key,r.doc,new od(n._snapshot.mutatedKeys.has(r.doc.key),n._snapshot.fromCache),n.query.converter),s=-1,o=-1;return r.type!==0&&(s=t.indexOf(r.doc.key),t=t.delete(r.doc.key)),r.type!==1&&(t=t.add(r.doc),o=t.indexOf(r.doc.key)),{type:sTe(r.type),doc:i,oldIndex:s,newIndex:o}})}}function sTe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:n})}}function IG(n){n=Br(n,Cr);let e=Br(n.firestore,os),t=n0(e);return pG(t,n._key).then(r=>J3(e,n,r))}var Jg=class extends w3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kg(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,t)}};function Z3(n){n=Br(n,Cr);let e=Br(n.firestore,os),t=n0(e);return pG(t,n._key,{source:"server"}).then(r=>J3(e,n,r))}function X3(n){n=Br(n,mc);let e=Br(n.firestore,os),t=n0(e),r=new Jg(e);return SG(n._query),xSe(t,n._query).then(i=>new cw(e,r,n,i))}function Tw(n,e,t){n=Br(n,Cr);let r=Br(n.firestore,os),i=CG(n.converter,e,t),s=ww(r),a=bG(s,"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Uo.none());return Iw(r,[a])}function Mh(n,e,t,...r){n=Br(n,Cr);let i=Br(n.firestore,os),s=ww(i);e=en(e);let o;typeof e=="string"||e instanceof Ch?o=$Se(s,"updateDoc",n._key,e,t,r):o=HSe(s,"updateDoc",n._key,e);let a=o.toMutation(n._key,Uo.exists(!0));return Iw(i,[a])}function Cw(n){let e=Br(n.firestore,os),t=[new qg(n._key,Uo.none())];return Iw(e,t)}function i0(n,e){let t=Br(n.firestore,os),r=qo(n),i=CG(n.converter,e),s=ww(n.firestore),a=bG(s,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Uo.exists(!1));return Iw(t,[a]).then(()=>r)}function s0(n,...e){var t,r,i;n=en(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]=="object"&&!$$(e[o])&&(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if($$(e[o])){let f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,c,l;if(n instanceof Cr)c=Br(n.firestore,os),l=hw(n._key.path),u={next:f=>{e[o]&&e[o](J3(c,n,f))},error:e[o+1],complete:e[o+2]};else{let f=Br(n,mc);c=Br(f.firestore,os),l=f._query;let h=new Jg(c);u={next:p=>{e[o]&&e[o](new cw(c,h,f,p))},error:e[o+1],complete:e[o+2]},SG(n._query)}let d=n0(c);return DSe(d,l,a,u)}function Iw(n,e){let t=n0(n);return ASe(t,e)}function J3(n,e,t){let r=t.docs.get(e._key),i=new Jg(n);return new uw(n,i,e._key,r,new od(t.hasPendingWrites,t.fromCache),e.converter)}qSe("node");var Dw=function(){return Dw=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Dw.apply(this,arguments)};var uTe={includeMetadataChanges:!1};function DG(n,e){return e===void 0&&(e=uTe),new ot(function(t){var r=s0(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function xG(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Dw(Dw({},r),(t={},t[e.idField]=n.id,t))}function AG(n){return DG(n,{includeMetadataChanges:!0}).pipe(Ve(function(e){return e.docs}))}function NG(n,e){return e===void 0&&(e={}),AG(n).pipe(Ve(function(t){return t.map(function(r){return xG(r,e)})}))}var Zs=class{constructor(e){return e}},RG="firestore",eO=class{constructor(){return ku(RG)}};var tO=new de("angularfire2.firestore-instances");function cTe(n,e){let t=kl(RG,n,e);return t&&new Zs(t)}function lTe(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Zs(r)}}var dTe={provide:eO,deps:[[new Kn,tO]]},fTe={provide:Zs,useFactory:cTe,deps:[[new Kn,tO],Fs]};function kG(n,...e){return an("angularfire",_o.full,"fst"),xr([fTe,dTe,{provide:tO,useFactory:lTe(n),multi:!0,deps:[_t,Nt,Eo,_a,[new Kn,Ll],[new Kn,Ou],...e]}])}var ld=fn(NG,!0);var MG=fn(i0,!0,2);var dd=fn(ud,!0,2);var xw=fn(Cw,!0,2);var Oi=fn(qo,!0,2);var fd=fn(IG,!0);var nO=fn(kh,!0,2),o0=fn(cd,!0,2);var OG=fn(Tw,!0,2);var jo=fn(Mh,!0,2);var rO=fn(Rh,!0,2);var as=class n{constructor(e){this.firestore=e}CreateDocument(e,t){return P(this,null,function*(){let r=qo(this.firestore,e);yield Tw(r,t)})}addDocument(e,t){return P(this,null,function*(){let r=ud(this.firestore,e);return(yield i0(r,t)).id})}getDocument(e){return P(this,null,function*(){let t=qo(this.firestore,e),r=yield Z3(t);return r.exists()?r.data():null})}updateDocument(e,t){return P(this,null,function*(){let r=qo(this.firestore,e);yield Mh(r,t)})}deleteDocument(e){return P(this,null,function*(){let t=qo(this.firestore,e);yield Cw(t)})}getCollection(e,t){let r=ud(this.firestore,e),i=t?t(r):cd(r);return new ot(s=>{let o=s0(i,a=>{let u=a.docs.map(c=>me(Q({},c.data()),{id:c.id}));s.next(u)},a=>{s.error(a)});return()=>o()})}getCommentsByLinkId(e){return P(this,null,function*(){let t=cd(ud(this.firestore,"messages"),Rh("linkId","==",e),kh("createdAt","desc"));return(yield X3(t)).docs.map(i=>me(Q({},i.data()),{id:i.id}))})}markCommentAsRead(e){return P(this,null,function*(){let t=qo(this.firestore,`messages/${e}`);yield Mh(t,{read:!0,updatedAt:new Date})})}editComment(e,t){return P(this,null,function*(){let r=qo(this.firestore,`messages/${e}`);yield Mh(r,{text:t,isEdited:!0,editedAt:new Date})})}replyToComment(e,t){return P(this,null,function*(){let r=ud(this.firestore,"messages");return(yield i0(r,me(Q({},t),{parentId:e,createdAt:new Date,likes:0,likedBy:[],read:!1}))).id})}static \u0275fac=function(t){return new(t||n)(Ae(Zs))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};var zt=class n{fireStoreService=z(as);userSubject=new kn(null);user$=this.userSubject.asObservable();isLoggedIn$=this.user$.pipe(Ve(e=>!!e));auth=z(Sa);currentUserSignal=_i(void 0);constructor(){let e=this.auth.currentUser;e&&(this.userSubject.next(e),this.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,createdAt:new Date})),AB(this.auth,t=>{this.userSubject.next(t),t?this.currentUserSignal.set({id:t.uid,email:t.email,userName:t.displayName,createdAt:new Date}):this.currentUserSignal.set(null)})}getCurrentUser(){return this.userSubject.value}register(e,t,r){return Je(xB(this.auth,e,r).then(i=>P(this,null,function*(){return yield MB(i.user,{displayName:t}),i}))).pipe(On(i=>{throw i}))}login(e,t){return Je(RB(this.auth,e,t)).pipe(On(r=>{throw r}))}logOut(){return Je(kB(this.auth)).pipe(On(e=>{throw e}))}sendPasswordResetEmail(e){return Je(NB(this.auth,e)).pipe(On(t=>{throw t}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};var gi=class n{usersFirestore=z(Zs);authService=z(zt);usersCollection=dd(this.usersFirestore,"users");_userLogged=void 0;userProfileImage=_i("assets/images/icons/UserIcon.png");userProfileImageBase64=_i("");constructor(){vu(()=>{let e=this.authService.currentUserSignal();e?(this._userLogged=e,this.getUserById(e.id||"").subscribe(t=>{t?.userImageUrl?.base64?this.userProfileImage.set(t.userImageUrl.base64):t?.userImageUrl?.url?this.userProfileImage.set(t.userImageUrl.url):this.userProfileImage.set("assets/images/icons/UserIcon.png")})):(this._userLogged=void 0,this.userProfileImage.set("assets/images/icons/UserIcon.png"))})}getUsers(){return ld(this.usersCollection,{idField:"id"})}getUserById(e){if(!e)throw new Error("User ID is required");let t=Oi(this.usersFirestore,`users/${e}`);return Je(fd(t)).pipe(Ve(r=>{if(!r.exists()){let s={id:e,email:"",userName:"Nouvel utilisateur",createdAt:new Date,role:"reader"};return Je(OG(t,s)).subscribe(),s}let i=r.data();return Q({id:r.id,userName:i.userName||"Nouvel utilisateur",email:i.email||"",createdAt:i.createdAt?.toDate()||new Date,role:i.role||"reader"},i)}),On(r=>(console.error("Error in getUserById:",r),xe({id:e,email:"",userName:"Utilisateur temporaire",createdAt:new Date,role:"reader"}))))}updateUserProfile(e,t){if(!e)throw new Error("User ID is required");return t.userImageUrl?.base64?this.userProfileImage.set(t.userImageUrl.base64):t.userImageUrl?.url&&this.userProfileImage.set(t.userImageUrl.url),this.canModifyUser(e).pipe(Ve(r=>{if(!r)throw new Error("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");console.log("Mise \xE0 jour du profil utilisateur:",t);let i=Oi(this.usersFirestore,`users/${e}`);return jo(i,t)}),Pn(r=>Je(r)))}changeUserRole(e,t){return this.isCurrentUserAdmin().pipe(Pn(r=>{if(!r)throw new Error("Seuls les administrateurs peuvent changer les r\xF4les");let i=Oi(this.usersFirestore,`users/${e}`);return Je(jo(i,{role:t}))}))}deleteUser(e){return this.isCurrentUserAdmin().pipe(Pn(t=>{if(!t)throw new Error("Seuls les administrateurs peuvent supprimer des utilisateurs");let r=Oi(this.usersFirestore,`users/${e}`);return Je(xw(r))}))}isCurrentUserAdmin(){let e=this.authService.getCurrentUser();return e?this.getUserById(e.uid).pipe(Ve(t=>t.role==="admin"),On(()=>xe(!1))):xe(!1)}canModifyUser(e){let t=this.authService.getCurrentUser();return t?t.uid===e?xe(!0):this.isCurrentUserAdmin():xe(!1)}gerUserConnectedFullName(){return this._userLogged?.userName}getUserProfileImage(){return this.userProfileImage}getCurrentUserImage(){return this.userProfileImage()}updateProfileImageSignal(e){this.userProfileImage.set(e)}updateUserProfileWithBase64Image(e,t,r){return P(this,null,function*(){if(!e)throw new Error("User ID is required");if(!(yield Lc(this.canModifyUser(e))))throw new Error("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");let s=me(Q({},t),{userImageUrl:{base64:r,url:"",createdAt:jn.now()}}),o=Oi(this.usersFirestore,`users/${e}`);yield jo(o,s),this.userProfileImage.set(r),console.log("Profil utilisateur mis \xE0 jour avec succ\xE8s")})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};var $G=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Le(si),Le(Ar))};static \u0275dir=_n({type:n})}return n})(),Uw=(()=>{class n extends $G{static \u0275fac=(()=>{let t;return function(i){return(t||(t=el(n)))(i||n)}})();static \u0275dir=_n({type:n,features:[xs]})}return n})(),d0=new de("");var pTe={provide:d0,useExisting:ua(()=>us),multi:!0};function mTe(){let n=Rr()?Rr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var gTe=new de(""),us=(()=>{class n extends $G{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!mTe())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Le(si),Le(Ar),Le(gTe,8))};static \u0275dir=_n({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&he("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[ol([pTe]),xs]})}return n})();function cO(n){return n==null||lO(n)===0}function lO(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var zG=new de(""),GG=new de(""),yTe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nn=class{static min(e){return vTe(e)}static max(e){return bTe(e)}static required(e){return _Te(e)}static requiredTrue(e){return ETe(e)}static email(e){return wTe(e)}static minLength(e){return STe(e)}static maxLength(e){return TTe(e)}static pattern(e){return CTe(e)}static nullValidator(e){return WG()}static compose(e){return JG(e)}static composeAsync(e){return tW(e)}};function vTe(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function bTe(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function _Te(n){return cO(n.value)?{required:!0}:null}function ETe(n){return n.value===!0?null:{required:!0}}function wTe(n){return cO(n.value)||yTe.test(n.value)?null:{email:!0}}function STe(n){return e=>{let t=e.value?.length??lO(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function TTe(n){return e=>{let t=e.value?.length??lO(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function CTe(n){if(!n)return WG;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(cO(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function WG(n){return null}function KG(n){return n!=null}function QG(n){return yu(n)?Je(n):n}function YG(n){let e={};return n.forEach(t=>{e=t!=null?Q(Q({},e),t):e}),Object.keys(e).length===0?null:e}function ZG(n,e){return e.map(t=>t(n))}function ITe(n){return!n.validate}function XG(n){return n.map(e=>ITe(e)?e:t=>e.validate(t))}function JG(n){if(!n)return null;let e=n.filter(KG);return e.length==0?null:function(t){return YG(ZG(t,e))}}function eW(n){return n!=null?JG(XG(n)):null}function tW(n){if(!n)return null;let e=n.filter(KG);return e.length==0?null:function(t){let r=ZG(t,e).map(QG);return tT(r).pipe(Ve(YG))}}function nW(n){return n!=null?tW(XG(n)):null}function PG(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rW(n){return n._rawValidators}function iW(n){return n._rawAsyncValidators}function iO(n){return n?Array.isArray(n)?n:[n]:[]}function Rw(n,e){return Array.isArray(n)?n.includes(e):n===e}function LG(n,e){let t=iO(e);return iO(n).forEach(i=>{Rw(t,i)||t.push(i)}),t}function FG(n,e){return iO(e).filter(t=>!Rw(n,t))}var kw=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eW(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nW(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Lh=class extends kw{name;get formDirective(){return null}get path(){return null}},Fh=class extends kw{_parent=null;name=null;valueAccessor=null},Mw=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},DTe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},N7e=me(Q({},DTe),{"[class.ng-submitted]":"isSubmitted"}),Ho=(()=>{class n extends Mw{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Le(Fh,2))};static \u0275dir=_n({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[xs]})}return n})(),$o=(()=>{class n extends Mw{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Le(Lh,10))};static \u0275dir=_n({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[xs]})}return n})();var a0="VALID",Aw="INVALID",Oh="PENDING",u0="DISABLED",vc=class{},Ow=class extends vc{value;source;constructor(e,t){super(),this.value=e,this.source=t}},c0=class extends vc{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},l0=class extends vc{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ph=class extends vc{status;source;constructor(e,t){super(),this.status=e,this.source=t}},sO=class extends vc{source;constructor(e){super(),this.source=e}},oO=class extends vc{source;constructor(e){super(),this.source=e}};function dO(n){return(Bw(n)?n.validators:n)||null}function xTe(n){return Array.isArray(n)?eW(n):n||null}function fO(n,e){return(Bw(e)?e.asyncValidators:n)||null}function ATe(n){return Array.isArray(n)?nW(n):n||null}function Bw(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function sW(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new be(1e3,"");if(!r[t])throw new be(1001,"")}function oW(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new be(1002,"")})}var Uh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Gi(this.statusReactive)}set status(e){Gi(()=>this.statusReactive.set(e))}_status=Jd(()=>this.statusReactive());statusReactive=_i(void 0);get valid(){return this.status===a0}get invalid(){return this.status===Aw}get pending(){return this.status==Oh}get disabled(){return this.status===u0}get enabled(){return this.status!==u0}errors;get pristine(){return Gi(this.pristineReactive)}set pristine(e){Gi(()=>this.pristineReactive.set(e))}_pristine=Jd(()=>this.pristineReactive());pristineReactive=_i(!0);get dirty(){return!this.pristine}get touched(){return Gi(this.touchedReactive)}set touched(e){Gi(()=>this.touchedReactive.set(e))}_touched=Jd(()=>this.touchedReactive());touchedReactive=_i(!1);get untouched(){return!this.touched}_events=new bn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(LG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FG(e,this._rawAsyncValidators))}hasValidator(e){return Rw(this._rawValidators,e)}hasAsyncValidator(e){return Rw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(me(Q({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new l0(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new l0(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(me(Q({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new c0(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new c0(!0,r))}markAsPending(e={}){this.status=Oh;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ph(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(me(Q({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=u0,this.errors=null,this._forEachChild(i=>{i.disable(me(Q({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ow(this.value,r)),this._events.next(new Ph(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(Q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=a0,this._forEachChild(r=>{r.enable(me(Q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(Q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===a0||this.status===Oh)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ow(this.value,t)),this._events.next(new Ph(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(me(Q({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?u0:a0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Oh,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=QG(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ph(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Vt,this.statusChanges=new Vt}_calculateStatus(){return this._allControlsDisabled()?u0:this.errors?Aw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oh)?Oh:this._anyControlsHaveStatus(Aw)?Aw:a0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new c0(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new l0(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bw(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=xTe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ATe(this._rawAsyncValidators)}},Pw=class extends Uh{constructor(e,t,r){super(dO(t),fO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){oW(this,!0,e),Object.keys(e).forEach(r=>{sW(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var aO=class extends Pw{};var Vw=new de("",{providedIn:"root",factory:()=>f0}),f0="always";function NTe(n,e){return[...e.path,n]}function UG(n,e,t=f0){hO(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),kTe(n,e),OTe(n,e),MTe(n,e),RTe(n,e)}function BG(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Fw(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Lw(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function RTe(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function hO(n,e){let t=rW(n);e.validator!==null?n.setValidators(PG(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=iW(n);e.asyncValidator!==null?n.setAsyncValidators(PG(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Lw(e._rawValidators,i),Lw(e._rawAsyncValidators,i)}function Fw(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=rW(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=iW(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Lw(e._rawValidators,r),Lw(e._rawAsyncValidators,r),t}function kTe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&aW(n,e)})}function MTe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&aW(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function aW(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function OTe(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function PTe(n,e){n==null,hO(n,e)}function LTe(n,e){return Fw(n,e)}function FTe(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function UTe(n){return Object.getPrototypeOf(n.constructor)===Uw}function BTe(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function VTe(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===us?t=s:UTe(s)?r=s:i=s}),i||r||t||null}function qTe(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function VG(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function qG(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Nw=class extends Uh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(dO(t),fO(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(qG(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var jTe=n=>n instanceof Nw;var zo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=_n({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var HTe={provide:d0,useExisting:ua(()=>pO),multi:!0};var $Te=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pO=(()=>{class n extends Uw{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=z(Vw,{optional:!0})??f0;constructor(t,r,i,s){super(t,r),this._registry=i,this._injector=s}ngOnInit(){this._control=this._injector.get(Fh),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(Le(si),Le(Ar),Le($Te),Le(Nt))};static \u0275dir=_n({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&he("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[ol([HTe]),xs]})}return n})();var uW=new de("");var zTe={provide:Lh,useExisting:ua(()=>Xs)},Xs=(()=>{class n extends Lh{callSetDisabledState;get submitted(){return Gi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Jd(()=>this._submittedReactive());_submittedReactive=_i(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Vt;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return UG(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){BG(t.control||null,t,!1),qTe(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),BTe(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new sO(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new oO(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(BG(r||null,t),jTe(i)&&(UG(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);PTe(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&LTe(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hO(this.form,this),this._oldForm&&Fw(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(Le(zG,10),Le(GG,10),Le(Vw,8))};static \u0275dir=_n({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&he("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ol([zTe]),xs,Is]})}return n})();var GTe={provide:Fh,useExisting:ua(()=>Js)},Js=(()=>{class n extends Fh{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Vt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=VTe(this,s)}ngOnChanges(t){this._added||this._setUpControl(),FTe(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return NTe(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(Le(Lh,13),Le(zG,10),Le(GG,10),Le(d0,10),Le(uW,8))};static \u0275dir=_n({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ol([GTe]),xs,Is]})}return n})();var WTe={provide:d0,useExisting:ua(()=>qw),multi:!0};function cW(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function KTe(n){return n.split(":")[0]}var qw=(()=>{class n extends Uw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=cW(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=KTe(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=el(n)))(i||n)}})();static \u0275dir=_n({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&he("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ol([WTe]),xs]})}return n})(),lW=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(cW(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Le(Ar),Le(si),Le(qw,9))};static \u0275dir=_n({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),QTe={provide:d0,useExisting:ua(()=>dW),multi:!0};function jG(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function YTe(n){return n.split(":")[0]}var dW=(()=>{class n extends Uw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let u=o[a],c=this._getOptionValue(u.value);i.push(c)}}else{let o=r.options;for(let a=0;a<o.length;a++){let u=o[a];if(u.selected){let c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=YTe(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=el(n)))(i||n)}})();static \u0275dir=_n({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&he("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ol([QTe]),xs]})}return n})(),fW=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(jG(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(jG(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Le(Ar),Le(si),Le(dW,9))};static \u0275dir=_n({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var hW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ds({type:n});static \u0275inj=Ts({})}return n})(),uO=class extends Uh{constructor(e,t,r){super(dO(t),fO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){oW(this,!1,e),e.forEach((r,i)=>{sW(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function HG(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var cs=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return HG(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Pw(i,s)}record(t,r=null){let i=this._reduceControls(t);return new aO(i,r)}control(t,r,i){let s={};return this.useNonNullable?(HG(r)?s=r:(s.validators=r,s.asyncValidators=i),new Nw(t,me(Q({},s),{nonNullable:!0}))):new Nw(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new uO(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Nw)return t;if(t instanceof Uh)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Vw,useValue:t.callSetDisabledState??f0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ds({type:n});static \u0275inj=Ts({imports:[hW]})}return n})(),ls=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uW,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Vw,useValue:t.callSetDisabledState??f0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ds({type:n});static \u0275inj=Ts({imports:[hW]})}return n})();function ZTe(n,e){if(n&1){let t=tt();k(0,"button",15),he("click",function(){let i=ke(t).$implicit,s=ce();return Me(s.toggleFilter("niveau",i))}),U(1),M()}if(n&2){let t=e.$implicit,r=ce();qt("bg-deep-green",!r.isSelected("niveau",t))("bg-deep-blue",r.isSelected("niveau",t)),$(),ct(" ",t," ")}}function XTe(n,e){if(n&1){let t=tt();k(0,"button",15),he("click",function(){let i=ke(t).$implicit,s=ce();return Me(s.toggleFilter("langage",i))}),U(1),M()}if(n&2){let t=e.$implicit,r=ce();qt("bg-deep-green",!r.isSelected("langage",t))("bg-deep-blue",r.isSelected("langage",t)),$(),ct(" ",t," ")}}function JTe(n,e){if(n&1){let t=tt();k(0,"button",15),he("click",function(){let i=ke(t).$implicit,s=ce();return Me(s.toggleFilter("prix",i))}),U(1),M()}if(n&2){let t=e.$implicit,r=ce();qt("bg-deep-green",!r.isSelected("prix",t))("bg-deep-blue",r.isSelected("prix",t)),$(),ct(" ",t," ")}}function eCe(n,e){if(n&1){let t=tt();k(0,"button",15),he("click",function(){let i=ke(t).$implicit,s=ce();return Me(s.toggleFilter("type",i))}),U(1),M()}if(n&2){let t=e.$implicit,r=ce();qt("bg-deep-green",!r.isSelected("type",t))("bg-deep-blue",r.isSelected("type",t)),$(),ct(" ",t," ")}}function tCe(n,e){if(n&1){let t=tt();k(0,"div",16),he("click",function(){ke(t);let i=ce();return Me(i.closeFilters())}),M()}}var hd=class n{filterChange=new Vt;close=new Vt;isOpen=!1;niveauOptions=["Junior","M\xE9dior","Senior"];langageOptions=["HTML","CSS","JavaScript","Python","Git","Algorithme","C","Java","PHP","React","Angular","Vue.js","Node.js","TypeScript","SQL","MongoDB","Docker","Kubernetes","AWS","Azure"];prixOptions=["Gratuit","Payant"];typeOptions=["Cours","Projet","Forum","Exercice","Tutoriel","Documentation","Vid\xE9o","Podcast"];selectedFilters={niveau:[],langage:[],prix:[],type:[]};openFilters(){this.isOpen=!0}closeFilters(){this.isOpen=!1,this.close.emit()}toggleFilter(e,t){let r=this.selectedFilters[e].indexOf(t);r===-1?(this.selectedFilters[e].push(t),console.log("FilterPanel: Ajout du filtre",e,t,"Nouveaux filtres:",this.selectedFilters)):(this.selectedFilters[e].splice(r,1),console.log("FilterPanel: Suppression du filtre",e,t,"Nouveaux filtres:",this.selectedFilters))}isSelected(e,t){return this.selectedFilters[e].includes(t)}resetFilters(){this.selectedFilters={niveau:[],langage:[],prix:[],type:[]}}applyFilters(){console.log("FilterPanel: \xC9mission des filtres:",this.selectedFilters),this.filterChange.emit(Q({},this.selectedFilters)),this.closeFilters()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-filter-panel"]],outputs:{filterChange:"filterChange",close:"close"},decls:38,vars:9,consts:[[1,"filter-panel","fixed","inset-x-0","bottom-0","bg-apple-green","rounded-t-3xl","shadow-lg","transition-transform","duration-500","ease-in-out","transform","z-40","pb-5"],[1,"p-5","font-primary","text-white"],[1,"flex","justify-center","items-center","mb-6"],[1,"flex","items-center","justify-center","gap-2"],[1,"material-symbols-outlined"],[1,"text-4xl"],[1,"mb-6"],[1,"text-2xl","mb-3"],[1,"border","border-deep-green"],[1,"flex","flex-wrap","gap-3","pt-1"],["class","px-4 rounded-lg text-xl transition-colors shadow-lg",3,"bg-deep-green","bg-deep-blue","click",4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-20"],["type","button",1,"px-12","bg-deep-green","text-white","rounded-sm","text-xl","shadow-xl","hover:bg-deep-blue",3,"click"],["type","button",1,"px-12","bg-deep-blue","text-white","rounded-sm","text-xl","shadow-xl",3,"click"],["class","fixed inset-0 bg-black/50 z-30",3,"click",4,"ngIf"],[1,"px-4","rounded-lg","text-xl","transition-colors","shadow-lg",3,"click"],[1,"fixed","inset-0","bg-black/50","z-30",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),U(5,"filter_alt"),M(),k(6,"h2",5),U(7,"FILTRER"),M()()(),k(8,"div",6)(9,"h3",7),U(10,"Niveau"),M(),Ne(11,"div",8),k(12,"div",9),ye(13,ZTe,2,5,"button",10),M()(),k(14,"div",6)(15,"h3",7),U(16,"Langage"),M(),Ne(17,"div",8),k(18,"div",9),ye(19,XTe,2,5,"button",10),M()(),k(20,"div",6)(21,"h3",7),U(22,"Prix"),M(),Ne(23,"div",8),k(24,"div",9),ye(25,JTe,2,5,"button",10),M()(),k(26,"div",6)(27,"h3",7),U(28,"Type"),M(),Ne(29,"div",8),k(30,"div",9),ye(31,eCe,2,5,"button",10),M()(),k(32,"div",11)(33,"button",12),he("click",function(){return r.resetFilters()}),U(34," R\xE9initialiser "),M(),k(35,"button",13),he("click",function(){return r.applyFilters()}),U(36," Appliquer "),M()()()(),ye(37,tCe,1,0,"div",14)),t&2&&(qt("translate-y-full",!r.isOpen)("motion-preset-slide-up",r.isOpen),$(13),Z("ngForOf",r.niveauOptions),$(6),Z("ngForOf",r.langageOptions),$(6),Z("ngForOf",r.prixOptions),$(6),Z("ngForOf",r.typeOptions),$(6),Z("ngIf",r.isOpen))},dependencies:[jt,ai,En,bc],styles:[".filter-panel[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto}"]})};var Bh=class n{viewModeSubject=new kn("carousel");viewMode$=this.viewModeSubject.asObservable();constructor(){}setViewMode(e){this.viewModeSubject.next(e)}getCurrentViewMode(){return this.viewModeSubject.value}toggleViewMode(){let t=this.viewModeSubject.value==="grid"?"carousel":"grid";this.viewModeSubject.next(t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};function nCe(n,e){if(n&1){let t=tt();k(0,"li")(1,"a",28),he("click",function(){ke(t);let i=ce();return Me(i.toggleMenu())}),U(2),M()()}if(n&2){let t=e.$implicit;$(),Z("routerLink",t.route),$(),ct(" ",t.label," ")}}function rCe(n,e){if(n&1&&(k(0,"a",29),U(1,"LinkedIn"),M()),n&2){let t=ce();Z("href",t.socialLinks.linkedin,Dn)}}function iCe(n,e){if(n&1&&(k(0,"a",29),U(1,"Github"),M()),n&2){let t=ce();Z("href",t.socialLinks.github,Dn)}}function sCe(n,e){if(n&1&&(k(0,"a",29),U(1,"Twitter"),M()),n&2){let t=ce();Z("href",t.socialLinks.twitter,Dn)}}var jw=class n{filterPanel;userService=z(gi);cdr=z(Hi);authService=z(zt);router=z(ft);searchToggle=new Vt;filterChange=new Vt;isMenuOpen=!1;viewModeService=z(Bh);viewMode$=this.viewModeService.viewMode$;menuItems=[{label:"CARDS",route:"/home"},{label:"POLITIQUE DE CONFIDENTIALIT\xC9",route:"/policy"}];socialLinks={};ngOnInit(){let e=this.authService.getCurrentUser()?.uid;e&&this.userService.getUserById(e).subscribe(t=>{this.socialLinks=t?.socialLinks||{},this.cdr.detectChanges()})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen,this.cdr.detectChanges()}toggleView(){this.viewModeService.toggleViewMode(),this.viewModeService.getCurrentViewMode()==="carousel"&&this.router.navigate(["/home"])}toggleSearch(){this.filterPanel?this.filterPanel.isOpen?this.filterPanel.closeFilters():this.filterPanel.openFilters():this.searchToggle.emit()}onFilterChange(e){this.filterChange.emit(e)}logOut(){this.authService.logOut().subscribe({next:()=>{this.router.navigate(["/login-choice"])},error:e=>{console.error("Erreur lors de la d\xE9connexion:",e)}})}navigateToProfile(){this.router.navigate(["/users"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-nav-bar"]],viewQuery:function(t,r){if(t&1&&Gp(hd,5),t&2){let i;il(i=sl())&&(r.filterPanel=i.first)}},outputs:{searchToggle:"searchToggle",filterChange:"filterChange"},decls:38,vars:21,consts:[[1,"fixed","inset-0","z-50","transition-opacity","duration-300","font-primary","font-bold"],[1,"absolute","inset-0","bg-black/50",3,"click"],[1,"fixed","inset-y-0","left-0","w-full","bg-apple-green","transform","transition-transform","duration-300","ease-in-out"],[1,"p-4"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-xl","font-semibold","text-deep-green"],["type","button",1,"text-white","hover:text-gray-300",3,"click"],[1,"material-symbols-outlined"],[1,"w-full"],[1,"space-y-4","grid","place-content-center","h-screen"],[4,"ngFor","ngForOf"],[1,"flex","gap-2"],["target","_blank","class","text-black hover:text-soft-white",3,"href",4,"ngIf"],[1,"border-t","border-apple-green/30","mt-4","pt-20"],[1,"block","py-2","text-black","hover:text-white","rounded-lg","transition-colors","cursor-pointer","text-2xl",3,"click"],[3,"filterChange","close"],[1,"fixed","bottom-0","left-0","right-0"],[1,"max-w-md","mx-auto","px-4"],[1,"flex","justify-between","items-center","py-3"],["type","button",1,"px-6","bg-apple-green","rounded-3xl","shadow","hover:bg-light-green","transition-colors","w-18","h-12",3,"click"],["src","assets/images/icons/burgermenu.png","alt","icon"],[1,"flex","justify-between","gap-2","bg-apple-green","shadow-lg","py-1","px-2","rounded-3xl","max-w-52","max-h-12"],["type","button",1,"py-2","px-4","bg-white/30","rounded-2xl","shadow","hover:bg-light-green","transition-colors",3,"click","title"],[1,"material-symbols-outlined","text-deep-green"],["type","button",1,"transition-colors",3,"click"],["src","assets/images/icons/searchList.png","alt","icon",1,"max-w-3xl"],[1,"block","w-10","h-10","rounded-full","border","border-white","overflow-hidden","hover:ring-2","hover:ring-apple-green","transition-all",3,"click"],["alt","Profile",1,"w-full","h-full","object-cover",3,"src"],[1,"block","py-2","text-black","hover:text-white","rounded-lg","transition-colors","text-6xl",3,"click","routerLink"],["target","_blank",1,"text-black","hover:text-soft-white",3,"href"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1),he("click",function(){return r.toggleMenu()}),M(),k(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),U(6,"Menu"),M(),k(7,"button",6),he("click",function(){return r.toggleMenu()}),k(8,"span",7),U(9,"close"),M()()(),k(10,"nav",8)(11,"ul",9),ye(12,nCe,3,2,"li",10),k(13,"li",11),ye(14,rCe,2,1,"a",12)(15,iCe,2,1,"a",12)(16,sCe,2,1,"a",12),M(),k(17,"li",13)(18,"a",14),he("click",function(){return r.logOut()}),U(19," se d\xE9connecter "),M()()()()()()(),k(20,"app-filter-panel",15),he("filterChange",function(s){return r.onFilterChange(s)})("close",function(){return r.searchToggle.emit()}),M(),k(21,"nav",16)(22,"div",17)(23,"ul",18)(24,"li")(25,"button",19),he("click",function(){return r.toggleMenu()}),Ne(26,"img",20),M()(),k(27,"li",21)(28,"button",22),Nr(29,"async"),he("click",function(){return r.toggleView()}),k(30,"span",23),U(31),Nr(32,"async"),M()(),k(33,"button",24),he("click",function(){return r.toggleSearch()}),Ne(34,"img",25),M()(),k(35,"li")(36,"button",26),he("click",function(){return r.navigateToProfile()}),Ne(37,"img",27),M()()()()()),t&2&&(qt("opacity-0",!r.isMenuOpen)("pointer-events-none",!r.isMenuOpen)("opacity-100",r.isMenuOpen),$(2),qt("-translate-x-full",!r.isMenuOpen)("translate-x-0",r.isMenuOpen),$(10),Z("ngForOf",r.menuItems),$(2),Z("ngIf",r.socialLinks.linkedin),$(),Z("ngIf",r.socialLinks.github),$(),Z("ngIf",r.socialLinks.twitter),$(12),C2("title",lo(29,17,r.viewMode$)==="grid"?"Vue carrousel (retour \xE0 l'accueil)":"Vue grille"),$(3),ct(" ",lo(32,19,r.viewMode$)==="grid"?"view_carousel":"grid_view"," "),$(6),Z("src",r.userService.getCurrentUserImage(),Dn))},dependencies:[jt,ai,En,ul,ir,Mr,hd],styles:['[_nghost-%COMP%]{display:block;position:relative;z-index:50}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})};var Hw=class n{router=z(ft);authService=z(zt);initializeNavigation(){return new Promise(e=>{if(this.authService.getCurrentUser()){this.router.navigate(["/home"]),e(!0);return}this.authService.isLoggedIn$.pipe(ys(1)).subscribe(r=>{r?this.router.navigate(["/home"]):this.router.navigate(["/login-choice"]),e(!0)})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};function oCe(n,e){n&1&&Ne(0,"app-nav-bar")}var $w=class n{authService=z(zt);initialNavigationService=z(Hw);title="TheLastCoders";ngOnInit(){this.initialNavigationService.initializeNavigation()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-root"]],decls:5,vars:7,consts:[[4,"ngIf"]],template:function(t,r){t&1&&(k(0,"section"),Nr(1,"async"),Ne(2,"router-outlet"),ye(3,oCe,1,0,"app-nav-bar",0),Nr(4,"async"),M()),t&2&&(dL(lo(1,3,r.authService.isLoggedIn$)?"min-h-screen bg-black":"min-h-screen color-back"),$(3),Z("ngIf",lo(4,5,r.authService.isLoggedIn$)))},dependencies:[jt,En,ul,vm,jw],encapsulation:2})};var Ba=()=>{let n=z(zt),e=z(ft);return n.isLoggedIn$.pipe(Ve(t=>t?!0:(e.navigate(["/login"]),!1)))};var zw=()=>{let n=z(zt),e=z(ft);return n.isLoggedIn$.pipe(Ve(t=>t?(e.navigate(["/home"]),!1):!0))};function aCe(n,e){n&1&&(k(0,"section",4)(1,"a",8),U(2,"Se connecter"),M(),k(3,"a",9),U(4,"S'enregister"),M()())}function uCe(n,e){if(n&1){let t=tt();k(0,"section",5)(1,"a",10),he("click",function(){ke(t);let i=ce();return Me(i.logOut())}),U(2,"Se Deconnecter"),M()()}}var Gw=class n{authService=z(zt);router=z(ft);currentYear=new Date().getFullYear();ngOnInit(){this.authService.isLoggedIn$.subscribe(e=>{e&&this.router.navigate(["/home"])}),this.authService.user$.subscribe(e=>{e?this.authService.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,createdAt:new Date}):this.authService.currentUserSignal.set(null)})}logOut(){this.authService.logOut().subscribe(()=>{this.router.navigate(["/login-choice"])})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-login-choice"]],decls:14,vars:3,consts:[[1,"flex","flex-col","justify-around","items-center","h-screen","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-2xl"],[1,"text-8xl","font-bold"],[1,"font-primary","flex","flex-col","items-center","gap-5"],[1,"font-primary","text-2xl","transition-colors","hover:opacity-50"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],["routerLink","/login","routerLinkActive","active",1,"text-2xl","hover:bg-deep-green","px-4","py-1.5","rounded-xl","cursor-pointer"],["routerLink","/register","routerLinkActive","active",1,"text-2xl","hover:bg-deep-green","px-4","py-1.5","rounded-xl","cursor-pointer"],[1,"cursor-pointer",3,"click"]],template:function(t,r){t&1&&(k(0,"nav",0)(1,"section",1)(2,"p",2),U(3,"The Last of"),M(),k(4,"h1",3),U(5,"Coders"),M()(),ye(6,aCe,5,0,"section",4)(7,uCe,3,0,"section",5),k(8,"section",6)(9,"p"),U(10),k(11,"span",7),U(12,"The Last Coders."),M(),U(13," Tous droits r\xE9serv\xE9s."),M()()()),t&2&&($(6),xn(r.authService.currentUserSignal()===null?6:-1),$(),xn(r.authService.currentUserSignal()?7:-1),$(3),ct("\xA9 ",r.currentYear," "))},dependencies:[ir,Mr,TI],encapsulation:2})};function cCe(n,e){if(n&1&&(k(0,"div",19),U(1),M()),n&2){let t=ce();$(),ct(" ",t.errorMessage," ")}}function lCe(n,e){n&1&&(k(0,"p"),U(1,"L'email est requis"),M())}function dCe(n,e){n&1&&(k(0,"p"),U(1,"L'email n'est pas valide"),M())}function fCe(n,e){if(n&1&&(k(0,"div",20),ye(1,lCe,2,0,"p",21)(2,dCe,2,0,"p",21),M()),n&2){let t,r,i=ce();$(),Z("ngIf",(t=i.loginForm.get("email"))==null||t.errors==null?null:t.errors.required),$(),Z("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function hCe(n,e){n&1&&(k(0,"p"),U(1,"Le mot de passe est requis"),M())}function pCe(n,e){if(n&1&&(k(0,"div",20),ye(1,hCe,2,0,"p",21),M()),n&2){let t,r=ce();$(),Z("ngIf",(t=r.loginForm.get("password"))==null||t.errors==null?null:t.errors.required)}}var Ww=class n{fb=z(cs);authService=z(zt);router=z(ft);loginForm;errorMessage="";currentYear=new Date().getFullYear();constructor(){this.loginForm=this.fb.group({email:["",[nn.required,nn.email]],password:["",[nn.required,nn.minLength(6)]]})}onSubmit(){if(this.loginForm.valid){let{email:e,password:t}=this.loginForm.value;this.errorMessage="",this.authService.login(e,t).subscribe({next:()=>{console.log("Connexion r\xE9ussie"),this.router.navigate(["/home"])},error:r=>{switch(console.error("Erreur lors de la connexion:",r),r.code){case"auth/invalid-email":this.errorMessage="L'adresse email n'est pas valide.";break;case"auth/user-disabled":this.errorMessage="Ce compte a \xE9t\xE9 d\xE9sactiv\xE9.";break;case"auth/user-not-found":this.errorMessage="Aucun compte n'existe avec cet email.";break;case"auth/wrong-password":this.errorMessage="Le mot de passe est incorrect.";break;case"auth/invalid-credential":this.errorMessage="Email ou mot de passe incorrect.";break;default:this.errorMessage="Une erreur est survenue lors de la connexion. Veuillez r\xE9essayer."}}})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-login"]],decls:35,vars:6,consts:[[1,"min-h-screen"],[1,"max-w-2xl","mx-auto","flex","flex-col","items-center","justify-around","h-screen","px-4","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-xl"],[1,"text-5xl","font-bold"],["class","font-primary text-red-500 text-center bg-red-100 p-3 rounded-lg mb-4",4,"ngIf"],[1,"flex","flex-col","gap-5","w-full","max-w-md",3,"ngSubmit","formGroup"],[1,"flex","font-primary"],[1,"w-full","max-w-md"],["type","email","formControlName","email","placeholder","Email",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["class","text-apple-green text-xs mt-1",4,"ngIf"],["type","password","formControlName","password","placeholder","Mot de passe",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],[1,"font-primary","text-sm","text-gray-500","hover:text-apple-green","cursor-pointer"],["type","submit",1,"text-2xl","bg-deep-green","transition-colors","hover:bg-apple-green","px-4","py-1.5","rounded-xl","cursor-pointer","font-primary","btn","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","gap-2","font-secondary","mt-12"],[1,"text-sm"],["routerLink","/register",1,"text-sm","text-apple-green","hover:text-deep-green"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],[1,"font-primary","text-red-500","text-center","bg-red-100","p-3","rounded-lg","mb-4"],[1,"text-apple-green","text-xs","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1&&(k(0,"section",0)(1,"div",1)(2,"section",2)(3,"p",3),U(4,"The Last of"),M(),k(5,"h1",4),U(6,"Coders"),M()(),k(7,"section"),ye(8,cCe,2,1,"div",5),k(9,"form",6),he("ngSubmit",function(){return r.onSubmit()}),k(10,"div",7)(11,"p",3),U(12,"Se connecter"),M()(),k(13,"div",8),Ne(14,"input",9),ye(15,fCe,3,2,"div",10),M(),k(16,"div",8),Ne(17,"input",11),ye(18,pCe,2,1,"div",10),M(),k(19,"div",12)(20,"p"),U(21,"Mot de passe oubli\xE9 ?"),M()(),k(22,"button",13),U(23," Se connecter "),M(),k(24,"div",14)(25,"p",15),U(26,"Pas encore de compte ?"),M(),k(27,"a",16),U(28,"S'enregistrer"),M()()()(),k(29,"section",17)(30,"p"),U(31),k(32,"span",18),U(33,"The Last Coders."),M(),U(34," Tous droits r\xE9serv\xE9s."),M()()()()),t&2){let i,s;$(8),Z("ngIf",r.errorMessage),$(),Z("formGroup",r.loginForm),$(6),Z("ngIf",((i=r.loginForm.get("email"))==null?null:i.touched)&&((i=r.loginForm.get("email"))==null?null:i.errors)),$(3),Z("ngIf",((s=r.loginForm.get("password"))==null?null:s.touched)&&((s=r.loginForm.get("password"))==null?null:s.errors)),$(4),Z("disabled",!r.loginForm.valid),$(9),ct("\xA9 ",r.currentYear," ")}},dependencies:[ls,zo,us,Ho,$o,Xs,Js,ir,Mr,jt,En],encapsulation:2})};function mCe(n,e){if(n&1&&(k(0,"div",19),U(1),M()),n&2){let t=ce();$(),ct(" ",t.errorMessage," ")}}function gCe(n,e){n&1&&(k(0,"p"),U(1,"Le nom d'utilisateur est requis "),M())}function yCe(n,e){n&1&&(k(0,"p"),U(1,"Le nom d'utilisateur doit contenir au moins 7 caract\xE8res"),M())}function vCe(n,e){if(n&1&&(k(0,"div",20),ye(1,gCe,2,0,"p",21)(2,yCe,2,0,"p",21),M()),n&2){let t,r,i=ce();$(),Z("ngIf",(t=i.registerForm.get("userName"))==null||t.errors==null?null:t.errors.required),$(),Z("ngIf",(r=i.registerForm.get("userName"))==null||r.errors==null?null:r.errors.minlength)}}function bCe(n,e){n&1&&(k(0,"p"),U(1,"L'email est requis"),M())}function _Ce(n,e){n&1&&(k(0,"p"),U(1,"L'email n'est pas valide"),M())}function ECe(n,e){if(n&1&&(k(0,"div",20),ye(1,bCe,2,0,"p",21)(2,_Ce,2,0,"p",21),M()),n&2){let t,r,i=ce();$(),Z("ngIf",(t=i.registerForm.get("email"))==null||t.errors==null?null:t.errors.required),$(),Z("ngIf",(r=i.registerForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function wCe(n,e){n&1&&(k(0,"p"),U(1,"Le mot de passe est requis"),M())}function SCe(n,e){n&1&&(k(0,"p"),U(1,"Le mot de passe doit contenir au moins 6 caract\xE8res"),M())}function TCe(n,e){if(n&1&&(k(0,"div",20),ye(1,wCe,2,0,"p",21)(2,SCe,2,0,"p",21),M()),n&2){let t,r,i=ce();$(),Z("ngIf",(t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.required),$(),Z("ngIf",(r=i.registerForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}var Kw=class n{authService=z(zt);firestoreService=z(as);fb=z(cs);router=z(ft);registerForm;errorMessage="";currentYear=new Date().getFullYear();constructor(){this.registerForm=this.fb.group({userName:["",[nn.required,nn.minLength(7)]],email:["",[nn.required,nn.email]],password:["",[nn.required,nn.minLength(6)]]})}ngOnInit(){this.authService.user$.subscribe(e=>{e?this.authService.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,role:"reader",createdAt:new Date}):this.authService.currentUserSignal.set(null)})}onSubmit(){if(this.registerForm.valid){let e=this.registerForm.get("email")?.value,t=this.registerForm.get("userName")?.value,r=this.registerForm.get("password")?.value;this.authService.register(e,t,r).subscribe({next:i=>P(this,null,function*(){try{if(yield new Promise(a=>setTimeout(a,1e3)),!this.authService.getCurrentUser())throw new Error("User not authenticated after registration");let o={id:i.user.uid,email:i.user.email,userName:t,createdAt:new Date,role:"reader",skills:[],socialLinks:{github:"",linkedin:"",twitter:""}};this.authService.currentUserSignal.set(o),yield this.firestoreService.CreateDocument(`users/${i.user.uid}`,o),this.router.navigate(["/skills"])}catch{this.authService.currentUserSignal.set(null),this.authService.logOut().subscribe()}}),error:i=>{alert(i.message||"Registration failed. Please try again.")}})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-register"]],decls:35,vars:7,consts:[[1,"min-h-screen"],[1,"max-w-2xl","mx-auto","flex","flex-col","items-center","justify-around","h-screen","px-4","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-xl"],[1,"text-5xl","font-bold"],["class","font-primary text-red-500 text-center bg-red-100 p-3 rounded-lg mb-4",4,"ngIf"],[1,"flex","flex-col","gap-5","w-full","max-w-md",3,"ngSubmit","formGroup"],[1,"flex","font-primary"],[1,"w-full","max-w-md"],["type","text","formControlName","userName","placeholder","Nom d'utilisateur",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["class","text-apple-green text-xs mt-1",4,"ngIf"],["type","email","formControlName","email","placeholder","Email",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["type","password","formControlName","password","placeholder","Mot de passe",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["type","submit",1,"text-2xl","bg-deep-green","transition-colors","hover:bg-apple-green","px-4","py-1.5","rounded-xl","cursor-pointer","font-primary","btn","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","gap-2","font-secondary","mt-12"],[1,"text-sm"],["routerLink","/login",1,"text-sm","text-apple-green","hover:text-deep-green"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],[1,"font-primary","text-red-500","text-center","bg-red-100","p-3","rounded-lg","mb-4"],[1,"text-apple-green","text-xs","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1&&(k(0,"section",0)(1,"div",1)(2,"section",2)(3,"p",3),U(4,"The Last of"),M(),k(5,"h1",4),U(6,"Coders"),M()(),k(7,"section"),ye(8,mCe,2,1,"div",5),k(9,"form",6),he("ngSubmit",function(){return r.onSubmit()}),k(10,"div",7)(11,"p",3),U(12,"S'enregistrer"),M()(),k(13,"div",8),Ne(14,"input",9),ye(15,vCe,3,2,"div",10),M(),k(16,"div",8),Ne(17,"input",11),ye(18,ECe,3,2,"div",10),M(),k(19,"div",8),Ne(20,"input",12),ye(21,TCe,3,2,"div",10),M(),k(22,"button",13),U(23," S'enregistrer "),M(),k(24,"div",14)(25,"p",15),U(26,"D\xE9j\xE0 un compte ?"),M(),k(27,"a",16),U(28,"Se connecter"),M()()()(),k(29,"section",17)(30,"p"),U(31),k(32,"span",18),U(33,"The Last Coders."),M(),U(34," Tous droits r\xE9serv\xE9s."),M()()()()),t&2){let i,s,o;$(8),Z("ngIf",r.errorMessage),$(),Z("formGroup",r.registerForm),$(6),Z("ngIf",((i=r.registerForm.get("userName"))==null?null:i.touched)&&((i=r.registerForm.get("userName"))==null?null:i.errors)),$(3),Z("ngIf",((s=r.registerForm.get("email"))==null?null:s.touched)&&((s=r.registerForm.get("email"))==null?null:s.errors)),$(3),Z("ngIf",((o=r.registerForm.get("password"))==null?null:o.touched)&&((o=r.registerForm.get("password"))==null?null:o.errors)),$(),Z("disabled",!r.registerForm.valid),$(9),ct("\xA9 ",r.currentYear," ")}},dependencies:[ls,zo,us,Ho,$o,Xs,Js,ir,Mr,jt,En],encapsulation:2})};var Qw=class n{questions=[{id:"1",question:"Avez-vous d\xE9j\xE0 une exp\xE9rience en programmation ?",options:[{value:"beginner",label:"Oui, je suis d\xE9butant"},{value:"intermediate",label:"Oui, niveau interm\xE9diaire"},{value:"advanced",label:"Oui, niveau avanc\xE9"},{value:"new",label:"Non, c'est tout nouveau pour moi"}]},{id:"2",question:"Quel domaine du d\xE9veloppement vous int\xE9resse le plus ?",options:[{value:"frontend",label:"D\xE9veloppement web frontend"},{value:"backend",label:"D\xE9veloppement web backend"},{value:"fullstack",label:"D\xE9veloppement fullstack"},{value:"mobile",label:"D\xE9veloppement mobile"},{value:"datascience",label:"Data Science / Intelligence Artificielle"},{value:"gamedev",label:"Jeux vid\xE9o"},{value:"other",label:"Autre"}]},{id:"3",question:"Quels langages de programmation connaissez-vous ou souhaitez-vous apprendre ?",options:[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"csharp",label:"C#"},{value:"php",label:"PHP"},{value:"ruby",label:"Ruby"},{value:"typescript",label:"TypeScript"},{value:"swiftkotlin",label:"Swift/Kotlin"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"other",label:"Autre"}]},{id:"4",question:"Quelle est votre m\xE9thode d'apprentissage pr\xE9f\xE9r\xE9e ?",options:[{value:"video",label:"Tutoriels vid\xE9o"},{value:"docs",label:"Documentation \xE9crite"},{value:"projects",label:"Projets pratiques"},{value:"online_courses",label:"Cours en ligne"},{value:"books",label:"Livres techniques"},{value:"forums",label:"Forums et communaut\xE9s"}]},{id:"5",question:"Quel est votre objectif principal en apprenant le d\xE9veloppement ?",options:[{value:"career_change",label:"Changer de carri\xE8re"},{value:"personal_project",label:"D\xE9velopper un projet personnel"},{value:"skill_improvement",label:"Am\xE9liorer mes comp\xE9tences professionnelles"},{value:"curiosity",label:"Simple curiosit\xE9/int\xE9r\xEAt"},{value:"studies",label:"Compl\xE9ter mes \xE9tudes"},{value:"startup",label:"Cr\xE9er une startup/entreprise"}]},{id:"6",question:"Combien de temps pouvez-vous consacrer \xE0 l'apprentissage chaque semaine ?",options:[{value:"lt5",label:"Moins de 5 heures"},{value:"5to10",label:"5-10 heures"},{value:"10to20",label:"10-20 heures"},{value:"gt20",label:"Plus de 20 heures"}]},{id:"7",question:"Quels types de ressources recherchez-vous principalement ?",options:[{value:"beginner_tutorials",label:"Tutoriels pour d\xE9butants"},{value:"tech_docs",label:"Documentation technique"},{value:"guided_projects",label:"Projets pratiques guid\xE9s"},{value:"challenges",label:"D\xE9fis et exercices"},{value:"advanced_resources",label:"Ressources avanc\xE9es"},{value:"tools",label:"Outils et biblioth\xE8ques"}]},{id:"8",question:"Pr\xE9f\xE9rez-vous des ressources gratuites ou \xEAtes-vous pr\xEAt \xE0 investir dans des formations payantes ?",options:[{value:"free_only",label:"Uniquement des ressources gratuites"},{value:"mostly_free",label:"Principalement gratuites, occasionnellement payantes"},{value:"willing_to_pay",label:"Je suis pr\xEAt \xE0 payer pour des ressources de qualit\xE9"},{value:"subscriptions",label:"Je pr\xE9f\xE8re les abonnements mensuels"}]},{id:"9",question:"Quels sujets sp\xE9cifiques souhaitez-vous explorer davantage ?",options:[{value:"js_frameworks",label:"Frameworks JavaScript (React, Vue, Angular)"},{value:"backend_frameworks",label:"Frameworks backend (Node.js, Django, Rails)"},{value:"mobile_dev",label:"D\xE9veloppement mobile (React Native, Flutter)"},{value:"databases",label:"Bases de donn\xE9es (SQL, NoSQL)"},{value:"devops",label:"DevOps et d\xE9ploiement"},{value:"security",label:"S\xE9curit\xE9 web"},{value:"uiux",label:"Design UI/UX"},{value:"ai_ml",label:"Intelligence artificielle/Machine Learning"},{value:"blockchain",label:"Blockchain/Web3"}]},{id:"10",question:"Comment avez-vous d\xE9couvert notre plateforme ?",options:[{value:"search_engine",label:"Moteur de recherche"},{value:"friend",label:"Recommandation d'un ami"},{value:"social_media",label:"R\xE9seaux sociaux"},{value:"dev_forum",label:"Forum de d\xE9veloppeurs"},{value:"youtube",label:"YouTube"},{value:"blog",label:"Article ou blog"},{value:"other",label:"Autre"}]}];constructor(){}getQuestions(){return this.questions}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};var CCe=(n,e)=>e.value;function ICe(n,e){if(n&1&&(k(0,"div",13)(1,"span",14),U(2),M()()),n&2){let t=ce();$(2),St(t.errorMessage)}}function DCe(n,e){if(n&1){let t=tt();k(0,"div",5)(1,"input",15),he("change",function(){let i=ke(t).$implicit,s=ce();return Me(s.onSelect(s.currentQuestion.id,i.value))}),M(),k(2,"label",16),U(3),M()()}if(n&2){let t=e.$implicit,r=ce();$(),Z("type",r.currentQuestion.id==="1"?"radio":"checkbox")("name",r.currentQuestion.id==="1"?"experience":"")("id",t.value)("checked",r.isSelected(r.currentQuestion.id,t.value)),$(),qt("bg-deep-blue",!r.isSelected(r.currentQuestion.id,t.value))("bg-apple-green",r.isSelected(r.currentQuestion.id,t.value)),Z("for",t.value),$(),ct(" ",t.label," ")}}function xCe(n,e){if(n&1){let t=tt();k(0,"button",17),he("click",function(){ke(t);let i=ce();return Me(i.onPrevious())}),U(1," Pr\xE9c\xE9dent "),M()}}function ACe(n,e){if(n&1){let t=tt();k(0,"button",18),he("click",function(){ke(t);let i=ce();return Me(i.saveAnswers())}),U(1," Terminer "),M()}}function NCe(n,e){if(n&1){let t=tt();k(0,"button",17),he("click",function(){ke(t);let i=ce();return Me(i.onNext())}),U(1," Suivant "),M()}}var Yw=class n{quizService=z(Qw);fireStoreService=z(as);fb=z(cs);authService=z(zt);router=z(ft);questions=this.quizService.getQuestions();currentQuestionIndex=0;answers={};errorMessage="";form=this.fb.group({answer:["",nn.required]});get currentQuestion(){return this.questions[this.currentQuestionIndex]}onNext(){this.currentQuestionIndex<this.questions.length-1&&this.currentQuestionIndex++}onPrevious(){this.currentQuestionIndex>0&&this.currentQuestionIndex--}onSelect(e,t){if(e==="1")this.answers[e]=[t];else{this.answers[e]||(this.answers[e]=[]);let r=this.answers[e].indexOf(t);r===-1?this.answers[e].push(t):this.answers[e].splice(r,1)}}isSelected(e,t){return this.answers[e]?.includes(t)}saveAnswers(){return P(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Utilisateur non connect\xE9");if(Object.keys(this.answers).length!==this.questions.length){this.errorMessage="Veuillez r\xE9pondre \xE0 toutes les questions avant de continuer.";return}for(let i of this.questions){let s=i.id;if(!this.answers[s]||this.answers[s].length===0){this.errorMessage=`Veuillez r\xE9pondre \xE0 la question ${s} avant de continuer.`;return}}let r={userId:e.uid,experience:this.answers[1]?.[0]||"",domain:this.answers[2]?.[0]||"",languages:this.answers[3]||[],learningMethod:this.answers[4]?.[0]||"",goal:this.answers[5]?.[0]||"",timePerWeek:this.answers[6]?.[0]||"",resources:this.answers[7]||[],paymentPreference:this.answers[8]?.[0]||"",topics:this.answers[9]||[],discovery:this.answers[10]?.[0]||"",createdAt:new Date};yield this.fireStoreService.CreateDocument(`quiz_responses/${e.uid}`,r),this.router.navigate(["/home"])}catch{this.errorMessage="Une erreur est survenue lors de la sauvegarde des r\xE9ponses. Veuillez r\xE9essayer."}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-skills-quiz"]],decls:16,vars:8,consts:[[1,"container","h-screen","mx-auto","p-4","max-w-2xl","bg-soft-white","text-black","flex","flex-col","items-center","justify-center","font-secondary","motion-preset-fade","motion-duration-2000"],[1,"mb-8","flex","flex-col","justify-between","items-center"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"text-3xl","font-bold","mb-20","font-primary","text-center"],[1,"flex","flex-wrap","gap-2","justify-center","w-full"],[1,"flex","items-center"],[1,"flex","justify-evenly","mt-20","w-full"],["class","bg-apple-green text-white rounded-2xl shadow px-6 py-2 hover:bg-deep-blue transition-colors",3,"click",4,"ngIf"],[1,"bg-deep-blue","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-black","transition-colors"],[1,"bg-apple-green","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-deep-blue","transition-colors"],[1,"mt-8","w-full","bg-deep-blue","rounded-full","h-2.5"],[1,"bg-apple-green","h-2.5","rounded-full"],[1,"text-sm","mt-6"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],[1,"sr-only",3,"change","type","name","id","checked"],[1,"ml-2","cursor-pointer","bg-deep-blue","text-white","rounded-full","px-4","py-2","shadow-sm/30","w-full","text-center","hover:bg-apple-green","transition-colors","hover:text-black",3,"for"],[1,"bg-apple-green","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-deep-blue","transition-colors",3,"click"],[1,"bg-deep-blue","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-black","transition-colors",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1),ye(2,ICe,3,1,"div",2),k(3,"h2",3),U(4),M(),k(5,"div",4),la(6,DCe,4,10,"div",5,CCe),M()(),k(8,"div",6),ye(9,xCe,2,0,"button",7)(10,ACe,2,0,"button",8)(11,NCe,2,0,"button",9),M(),k(12,"div",10),Ne(13,"div",11),M(),k(14,"div",12),U(15),M()()),t&2&&($(2),Z("ngIf",r.errorMessage),$(2),ct(" ",r.currentQuestion.question," "),$(2),da(r.currentQuestion.options),$(3),Z("ngIf",r.currentQuestionIndex>0),$(),xn(r.currentQuestionIndex===r.questions.length-1?10:11),$(3),T2("width",(r.currentQuestionIndex+1)/r.questions.length*100,"%"),$(2),I2(" Question ",r.currentQuestionIndex+1," sur ",r.questions.length," "))},dependencies:[jt,En,ls],encapsulation:2})};var vW="firebasestorage.googleapis.com",bW="storageBucket",RCe=2*60*1e3,kCe=10*60*1e3;var Hn=class n extends Gr{constructor(e,t,r=0){super(mO(e),`Firebase Storage: ${t} (${mO(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},er=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(er||{});function mO(n){return"storage/"+n}function EO(){let n="An unknown error occurred, please check the error payload for server response.";return new Hn(er.UNKNOWN,n)}function MCe(n){return new Hn(er.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function OCe(n){return new Hn(er.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PCe(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Hn(er.UNAUTHENTICATED,n)}function LCe(){return new Hn(er.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function FCe(n){return new Hn(er.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function UCe(){return new Hn(er.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BCe(){return new Hn(er.CANCELED,"User canceled the upload/download.")}function VCe(n){return new Hn(er.INVALID_URL,"Invalid URL '"+n+"'.")}function qCe(n){return new Hn(er.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function jCe(){return new Hn(er.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bW+"' property when initializing the app?")}function HCe(){return new Hn(er.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $Ce(){return new Hn(er.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gO(n){return new Hn(er.INVALID_ARGUMENT,n)}function _W(){return new Hn(er.APP_DELETED,"The Firebase app was deleted.")}function zCe(n){return new Hn(er.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qh(n,e){return new Hn(er.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function p0(n){throw new Hn(er.INTERNAL_ERROR,"Internal error: "+n)}var eo=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw qCe(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}let l="v[A-Za-z0-9_]+",d=t.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${l}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},v=t===vW?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",w=new RegExp(`^https?://${v}/${i}/${T}`,"i"),D=[{regex:a,indices:u,postModify:s},{regex:h,indices:p,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<D.length;S++){let x=D[S],V=x.regex.exec(e);if(V){let R=V[x.indices.bucket],A=V[x.indices.path];A||(A=""),r=new n(R,A),x.postModify(r);break}}if(r==null)throw VCe(e);return r}},yO=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function GCe(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function l(...T){c||(c=!0,e.apply(null,T))}function d(T){i=setTimeout(()=>{i=null,n(h,u())},T)}function f(){s&&clearTimeout(s)}function h(T,...w){if(c){f();return}if(T){f(),l.call(null,T,...w);return}if(u()||o){f(),l.call(null,T,...w);return}r<64&&(r*=2);let D;a===1?(a=2,D=0):D=(r+Math.random())*1e3,d(D)}let p=!1;function v(T){p||(p=!0,f(),!c&&(i!==null?(T||(a=2),clearTimeout(i),d(0)):T||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},t),v}function WCe(n){n(!1)}function KCe(n){return n!==void 0}function QCe(n){return typeof n=="object"&&!Array.isArray(n)}function wO(n){return typeof n=="string"||n instanceof String}function pW(n){return SO()&&n instanceof Blob}function SO(){return typeof Blob<"u"}function mW(n,e,t,r){if(r<e)throw gO(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw gO(`Invalid value for '${n}'. Expected ${t} or less.`)}function eS(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function EW(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var jh=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(jh||{});function YCe(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var vO=class{constructor(e,t,r,i,s,o,a,u,c,l,d,f=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Vh(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===jh.NO_ERROR,u=s.getStatus();if(!a||YCe(u,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===jh.ABORT;r(!1,new Vh(!1,null,l));return}let c=this.successCodes_.indexOf(u)!==-1;r(!0,new Vh(c,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());KCe(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=EO();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?_W():BCe();o(u)}else{let u=UCe();o(u)}};this.canceled_?t(!1,new Vh(!1,null,!0)):this.backoffId_=GCe(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WCe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Vh=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function ZCe(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function XCe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JCe(n,e){e&&(n["X-Firebase-GMPID"]=e)}function e2e(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function t2e(n,e,t,r,i,s,o=!0){let a=EW(n.urlParams),u=n.url+a,c=Object.assign({},n.headers);return JCe(c,e),ZCe(c,t),XCe(c,s),e2e(c,r),new vO(u,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}function n2e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function r2e(...n){let e=n2e();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(SO())return new Blob(n);throw new Hn(er.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function i2e(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function s2e(n){if(/[^-A-Za-z0-9+/=]/.test(n))throw qh("base64","Invalid character found");return Buffer.from(n,"base64").toString("binary")}var Go={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},m0=class{constructor(e,t){this.data=e,this.contentType=t||null}};function o2e(n,e){switch(n){case Go.RAW:return new m0(wW(e));case Go.BASE64:case Go.BASE64URL:return new m0(SW(n,e));case Go.DATA_URL:return new m0(u2e(e),c2e(e))}throw EO()}function wW(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function a2e(n){let e;try{e=decodeURIComponent(n)}catch{throw qh(Go.DATA_URL,"Malformed data URL.")}return wW(e)}function SW(n,e){switch(n){case Go.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw qh(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Go.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw qh(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=s2e(e)}catch(i){throw i.message.includes("polyfill")?i:qh(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var Xw=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw qh(Go.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=l2e(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function u2e(n){let e=new Xw(n);return e.base64?SW(Go.BASE64,e.rest):a2e(e.rest)}function c2e(n){return new Xw(n).contentType}function l2e(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var Jw=class n{constructor(e,t){let r=0,i="";pW(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(pW(this.data_)){let r=this.data_,i=i2e(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(SO()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(r2e.apply(null,t))}else{let t=e.map(o=>wO(o)?o2e(Go.RAW,o).data:o.data_),r=0;t.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new n(i,!0)}}uploadData(){return this.data_}};function TW(n){let e;try{e=JSON.parse(n)}catch{return null}return QCe(e)?e:null}function d2e(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function f2e(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function CW(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function h2e(n,e){return e}var Ir=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||h2e}},Zw=null;function p2e(n){return!wO(n)||n.length<2?n:CW(n)}function IW(){if(Zw)return Zw;let n=[];n.push(new Ir("bucket")),n.push(new Ir("generation")),n.push(new Ir("metageneration")),n.push(new Ir("name","fullPath",!0));function e(s,o){return p2e(o)}let t=new Ir("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}let i=new Ir("size");return i.xform=r,n.push(i),n.push(new Ir("timeCreated")),n.push(new Ir("updated")),n.push(new Ir("md5Hash",null,!0)),n.push(new Ir("cacheControl",null,!0)),n.push(new Ir("contentDisposition",null,!0)),n.push(new Ir("contentEncoding",null,!0)),n.push(new Ir("contentLanguage",null,!0)),n.push(new Ir("contentType",null,!0)),n.push(new Ir("metadata","customMetadata",!0)),Zw=n,Zw}function m2e(n,e){function t(){let r=n.bucket,i=n.fullPath,s=new eo(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function g2e(n,e,t){let r={};r.type="file";let i=t.length;for(let s=0;s<i;s++){let o=t[s];r[o.local]=o.xform(r,e[o.server])}return m2e(r,n),r}function DW(n,e,t){let r=TW(e);return r===null?null:g2e(n,r,t)}function y2e(n,e,t,r){let i=TW(e);if(i===null||!wO(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(c=>{let l=n.bucket,d=n.fullPath,f="/b/"+o(l)+"/o/"+o(d),h=eS(f,t,r),p=EW({alt:"media",token:c});return h+p})[0]}function v2e(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var g0=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function xW(n){if(!n)throw EO()}function b2e(n,e){function t(r,i){let s=DW(n,i,e);return xW(s!==null),s}return t}function _2e(n,e){function t(r,i){let s=DW(n,i,e);return xW(s!==null),y2e(s,i,n.host,n._protocol)}return t}function AW(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=LCe():i=PCe():t.getStatus()===402?i=OCe(n.bucket):t.getStatus()===403?i=FCe(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function NW(n){let e=AW(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=MCe(n.path)),s.serverResponse=i.serverResponse,s}return t}function E2e(n,e,t){let r=e.fullServerUrl(),i=eS(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new g0(i,s,_2e(n,t),o);return a.errorHandler=NW(e),a}function w2e(n,e){let t=e.fullServerUrl(),r=eS(t,n.host,n._protocol),i="DELETE",s=n.maxOperationRetryTime;function o(u,c){}let a=new g0(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=NW(e),a}function S2e(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function T2e(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=S2e(null,e)),r}function C2e(n,e,t,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let D="";for(let S=0;S<2;S++)D=D+Math.random().toString().slice(2);return D}let u=a();o["Content-Type"]="multipart/related; boundary="+u;let c=T2e(e,r,i),l=v2e(c,t),d="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+u+"--",h=Jw.getBlob(d,r,f);if(h===null)throw HCe();let p={name:c.fullPath},v=eS(s,n.host,n._protocol),T="POST",w=n.maxUploadRetryTime,C=new g0(v,T,b2e(n,t),w);return C.urlParams=p,C.headers=o,C.body=h.uploadData(),C.errorHandler=AW(e),C}var fBe=256*1024;var gW=null,bO=class{constructor(){this.errorText_="",this.sent_=!1,this.errorCode_=jh.NO_ERROR}send(e,t,r,i){return P(this,null,function*(){if(this.sent_)throw p0("cannot .send() more than once");this.sent_=!0;try{let s=yield fetch(e,{method:t,headers:i||{},body:r});this.headers_=s.headers,this.statusCode_=s.status,this.errorCode_=jh.NO_ERROR,this.body_=yield s.arrayBuffer()}catch(s){this.errorText_=s?.message,this.statusCode_=0,this.errorCode_=jh.NETWORK_ERROR}})}getErrorCode(){if(this.errorCode_===void 0)throw p0("cannot .getErrorCode() before receiving response");return this.errorCode_}getStatus(){if(this.statusCode_===void 0)throw p0("cannot .getStatus() before receiving response");return this.statusCode_}getErrorText(){return this.errorText_}abort(){}getResponseHeader(e){if(!this.headers_)throw p0("cannot .getResponseHeader() before receiving response");return this.headers_.get(e)}addUploadProgressListener(e){}removeUploadProgressListener(e){}},_O=class extends bO{getResponse(){if(!this.body_)throw p0("cannot .getResponse() before receiving response");return Buffer.from(this.body_).toString("utf-8")}};function TO(){return gW?gW():new _O}var Hh=class n{constructor(e,t){this._service=e,t instanceof eo?this._location=t:this._location=eo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new eo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CW(this._location.path)}get storage(){return this._service}get parent(){let e=d2e(this._location.path);if(e===null)return null;let t=new eo(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw zCe(e)}};function I2e(n,e,t){n._throwIfRoot("uploadBytes");let r=C2e(n.storage,n._location,IW(),new Jw(e,!0),t);return n.storage.makeRequestWithTokens(r,TO).then(i=>({metadata:i,ref:n}))}function D2e(n){n._throwIfRoot("getDownloadURL");let e=E2e(n.storage,n._location,IW());return n.storage.makeRequestWithTokens(e,TO).then(t=>{if(t===null)throw $Ce();return t})}function x2e(n){n._throwIfRoot("deleteObject");let e=w2e(n.storage,n._location);return n.storage.makeRequestWithTokens(e,TO)}function A2e(n,e){let t=f2e(n._location.path,e),r=new eo(n._location.bucket,t);return new Hh(n.storage,r)}function N2e(n){return/^[A-Za-z]+:\/\//.test(n)}function R2e(n,e){return new Hh(n,e)}function RW(n,e){if(n instanceof y0){let t=n;if(t._bucket==null)throw jCe();let r=new Hh(t,t._bucket);return e!=null?RW(r,e):r}else return e!==void 0?A2e(n,e):n}function k2e(n,e){if(e&&N2e(e)){if(n instanceof y0)return R2e(n,e);throw gO("To use ref(service, url), the first argument must be a Storage instance.")}else return RW(n,e)}function yW(n,e){let t=e?.[bW];return t==null?null:eo.makeFromBucketSpec(t,n)}function M2e(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:c1(i,n.app.options.projectId))}var y0=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=vW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RCe,this._maxUploadRetryTime=kCe,this._requests=new Set,i!=null?this._bucket=eo.makeFromBucketSpec(i,this._host):this._bucket=yW(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=eo.makeFromBucketSpec(this._url,e):this._bucket=yW(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mW("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mW("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return P(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return P(this,null,function*(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hh(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new yO(_W());{let o=t2e(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return P(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},O2e="@firebase/storage",P2e="0.13.7";var kW="storage";function CO(n,e,t){return n=en(n),I2e(n,e,t)}function MW(n){return n=en(n),D2e(n)}function OW(n){return n=en(n),x2e(n)}function tS(n,e){return n=en(n),k2e(n,e)}function IO(n=ba(),e){n=en(n);let r=Nu(n,kW).getImmediate({identifier:e}),i=u1("storage");return i&&PW(r,...i),r}function PW(n,e,t,r={}){M2e(n,e,t,r)}function L2e(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new y0(t,r,i,e,Ru)}function F2e(){Di(new Sr(kW,L2e,"PUBLIC").setMultipleInstances(!0)),an(O2e,P2e)}F2e();var pd=class{constructor(e){return e}},LW="storage",DO=class{constructor(){return ku(LW)}};var xO=new de("angularfire2.storage-instances");function U2e(n,e){let t=kl(LW,n,e);return t&&new pd(t)}function B2e(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new pd(r)}}var V2e={provide:DO,deps:[[new Kn,xO]]},q2e={provide:pd,useFactory:U2e,deps:[[new Kn,xO],Fs]};function FW(n,...e){return an("angularfire",_o.full,"gcs"),xr([q2e,V2e,{provide:xO,useFactory:B2e(n),multi:!0,deps:[_t,Nt,Eo,_a,[new Kn,Ll],[new Kn,Ou],...e]}])}var UW=fn(OW,!0,2);var BW=fn(MW,!0);var $h=class n{constructor(e){this.storage=e}auth=z(Sa);uploadImage(e,t){if(!this.auth.currentUser)return ms(()=>new Error("L'utilisateur doit \xEAtre authentifi\xE9"));let r=tS(this.storage,t);return Je(CO(r,e)).pipe(Pn(i=>Je(BW(i.ref))),On(i=>ms(()=>i)))}deleteImage(e){if(!this.auth.currentUser)return ms(()=>new Error("L'utilisateur doit \xEAtre authentifi\xE9"));let t=tS(this.storage,e);return Je(UW(t)).pipe(On(r=>ms(()=>r)))}generateUniqueFileName(e){let t=e.name.split(".").pop(),r=new Date().getTime(),i=Math.random().toString(36).substring(2,15);return`${r}-${i}.${t}`}static \u0275fac=function(t){return new(t||n)(Ae(pd))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};var Wo=class n{constructor(e){this.platformId=e}firestore=z(Zs);authService=z(zt);firestorageService=z($h);usersService=z(gi);linksSignal=_i([]);getLinks(){if(!pa(this.platformId))return xe([]);let e=dd(this.firestore,"links"),t=o0(e,nO("createdAt","desc"));return ld(t,{idField:"id"})}getLinksByUser(e){if(!pa(this.platformId))return xe([]);if(!e)return xe([]);let t=dd(this.firestore,"links"),r=o0(t,rO("createdBy","==",e));return ld(r,{idField:"id"}).pipe(Ve(i=>{let s=[...i].sort((o,a)=>{let u=o.createdAt instanceof Date?o.createdAt:new Date(o.createdAt.seconds*1e3);return(a.createdAt instanceof Date?a.createdAt:new Date(a.createdAt.seconds*1e3)).getTime()-u.getTime()});if(i.length===0){let o=o0(t);ld(o,{idField:"id"}).subscribe(a=>{})}return s}))}getLinksByCategory(e){if(!pa(this.platformId))return xe([]);let t=dd(this.firestore,"links"),r=o0(t,rO("category","==",e),nO("createdAt","desc"));return ld(r,{idField:"id"})}deleteLink(e){return P(this,null,function*(){let t=this.authService.getCurrentUser();if(!t)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");try{let r=Oi(this.firestore,`links/${e}`),i=yield fd(r);if(!i.exists())throw new Error("Le lien \xE0 supprimer n'existe pas");if(i.data().createdBy!==t.uid&&!(yield Lc(this.usersService.isCurrentUserAdmin())))throw new Error("Vous n'\xEAtes pas autoris\xE9 \xE0 supprimer ce lien");yield xw(r);let a=this.linksSignal().filter(u=>u.id!==e);this.linksSignal.set(a)}catch(r){throw r}})}updateLink(e,t,r){return P(this,null,function*(){let i=this.authService.getCurrentUser();if(!i)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");let s=Oi(this.firestore,`links/${e}`);if(r){let o=this.firestorageService.generateUniqueFileName(r),a=`links/${i.uid}/${o}`,u=yield this.firestorageService.uploadImage(r,a).toPromise();return jo(s,me(Q({},t),{imageUrl:u,updatedAt:new Date}))}return jo(s,me(Q({},t),{updatedAt:new Date}))})}updateLikes(e,t){return P(this,null,function*(){let r=Oi(this.firestore,`links/${e}`);return jo(r,{likes:t||-1})})}getLinkById(e){if(!pa(this.platformId))return xe(null);let t=Oi(this.firestore,`links/${e}`);return Je(fd(t)).pipe(Ve(r=>r.exists()?Q({id:r.id},r.data()):null))}createLinkWithBase64Image(e,t){return P(this,null,function*(){let r=this.authService.getCurrentUser();if(!r)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");let i=me(Q({},e),{imageUrl:t,createdAt:new Date,createdBy:r.uid,likes:0}),s=dd(this.firestore,"links");return MG(s,i)})}toggleLike(e,t){return P(this,null,function*(){try{let r=Oi(this.firestore,`links/${e}`),i=yield fd(r);if(!i.exists())throw new Error("Link not found");let o=i.data().likedBy||[],u=o.includes(t)?o.filter(d=>d!==t):[...o,t];yield jo(r,{likedBy:u,likes:u.length});let l=this.linksSignal().map(d=>d.id===e?me(Q({},d),{likedBy:u,likes:u.length}):d);this.linksSignal.set(l)}catch(r){throw r}})}rateLink(e,t,r){return P(this,null,function*(){if(!pa(this.platformId))return;let i=Oi(this.firestore,"links",e),a=(yield fd(i)).data().userRatings||{};a[t]=r;let u=Object.values(a),c=u.reduce((l,d)=>l+d,0)/u.length;yield jo(i,{userRatings:a,averageRating:c,totalRatings:u.length})})}getUserRating(e,t){return e.userRatings?.[t]||0}static \u0275fac=function(t){return new(t||n)(Ae(zr))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};function H2e(n,e){if(n&1&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),U(4),M(),k(5,"p"),U(6),M()()()()),n&2){let t=ce();$(),Z("ngClass",t.typeClasses[t.type]),$(3),St(t.typeIcons[t.type]),$(2),St(t.message)}}var _c=class n{show=!1;message="";type="success";typeClasses={success:"bg-apple-green text-white",error:"bg-red-400 text-white",info:"bg-blue-400 text-white",warning:"bg-yellow-400 text-white"};typeIcons={success:"check_circle",error:"error",info:"info",warning:"warning"};static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-notification"]],inputs:{show:"show",message:"message",type:"type"},decls:1,vars:1,consts:[[1,"notification-overlay","rounded-xl"],[1,"fixed","top-4","right-4","transform","transition-all","duration-500",3,"ngClass"],[1,"px-6","py-3","rounded-xl","shadow-lg","flex","items-center","gap-2"],[1,"material-symbols-outlined"]],template:function(t,r){t&1&&ye(0,H2e,7,3,"div",0),t&2&&xn(r.show?0:-1)},dependencies:[jt,Jp],styles:["[_nghost-%COMP%]{position:fixed;top:0;right:0;z-index:9999;pointer-events:none}.notification-overlay[_ngcontent-%COMP%]{position:relative;z-index:9999}.notification-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{pointer-events:auto}"]})};function $2e(n,e){if(n&1){let t=tt();k(0,"app-notification",31),he("closed",function(){ke(t);let i=ce();return Me(i.onNotificationClosed())}),M()}if(n&2){let t=ce();Z("type",t.notificationType)("message",t.notificationMessage)}}function z2e(n,e){n&1&&(k(0,"div",34)(1,"span",35),U(2," priority "),M(),k(3,"span"),U(4,"Image pr\xEAte"),M()())}function G2e(n,e){n&1&&(k(0,"div")(1,"span",36),U(2," hourglass_empty "),M(),k(3,"span"),U(4,"Image en traitement..."),M()())}function W2e(n,e){if(n&1&&(Ne(0,"img",32),k(1,"div",33),ye(2,z2e,5,0,"div",34)(3,G2e,5,0,"div"),M()),n&2){let t=ce();Z("src",t.imagePreview,Dn),$(),qt("text-green-600",t.base64Ready)("text-red-600",!t.base64Ready),$(),xn(t.base64Ready?2:3)}}function K2e(n,e){n&1&&(k(0,"span"),U(1,"Choisir une image"),M())}function Q2e(n,e){n&1&&(k(0,"span"),U(1,"Changer l'image"),M())}function Y2e(n,e){n&1&&(k(0,"span")(1,"span",37),U(2,"Titre requis"),M()())}function Z2e(n,e){n&1&&(k(0,"span")(1,"span",37),U(2,"Description requise"),M()())}function X2e(n,e){n&1&&(k(0,"span",37),U(1,"URL requise"),M())}function J2e(n,e){n&1&&(k(0,"span",37),U(1,"L'URL doit commencer par http:// ou https://"),M())}function eIe(n,e){if(n&1&&(k(0,"span"),ye(1,X2e,2,0,"span",38)(2,J2e,2,0,"span",38),M()),n&2){let t,r,i=ce();$(),Z("ngIf",(t=i.linkForm.get("url"))==null||t.errors==null?null:t.errors.required),$(),Z("ngIf",(r=i.linkForm.get("url"))==null||r.errors==null?null:r.errors.invalidUrlFormat)}}function tIe(n,e){n&1&&(k(0,"span")(1,"span",37),U(2,"Niveau requis"),M()())}function nIe(n,e){if(n&1&&(k(0,"option",20),U(1),M()),n&2){let t=e.$implicit;Z("value",t),$(),St(t)}}function rIe(n,e){n&1&&(k(0,"span")(1,"span",37),U(2,"Type requis"),M()())}function iIe(n,e){if(n&1&&(k(0,"option",20),U(1),M()),n&2){let t=e.$implicit;Z("value",t),$(),St(t)}}function sIe(n,e){n&1&&(k(0,"span")(1,"span",37),U(2,"Au moins un langage/technologie requis"),M()())}function oIe(n,e){if(n&1){let t=tt();k(0,"button",39),he("click",function(){let i=ke(t).$implicit,s=ce();return Me(s.toggleTag(i))}),U(1),M()}if(n&2){let t=e.$implicit,r=ce();qt("bg-apple-green",r.isTagSelected(t))("bg-deep-green",!r.isTagSelected(t))("text-deep-green",r.isTagSelected(t))("text-white",!r.isTagSelected(t)),$(),ct(" ",t," ")}}function aIe(n,e){if(n&1&&(k(0,"span",42),U(1),M()),n&2){let t=e.$implicit;$(),St(t)}}function uIe(n,e){if(n&1&&(k(0,"div",28)(1,"p",40),U(2,"S\xE9lectionn\xE9s :"),M(),k(3,"div",41),la(4,aIe,2,1,"span",42,rl),M()()),n&2){let t=ce();$(4),da(t.getSelectedTags())}}function cIe(n,e){n&1&&(k(0,"div",30)(1,"span",36),U(2,"check_circle"),M(),k(3,"p"),U(4,"Le lien a \xE9t\xE9 ajout\xE9 avec succ\xE8s!"),M()())}var zh=class n{fb=z(cs);linksService=z(Wo);router=z(ft);linkAdded=new Vt;niveauOptions=["Junior","M\xE9dior","Senior"];langageOptions=["HTML","CSS","JavaScript","Python","Git","Algorithme","C","Java","PHP","React","Angular","Vue.js","Node.js","TypeScript","SQL","MongoDB","Docker","Kubernetes","AWS","Azure"];typeOptions=["Cours","Projet","Forum","Exercice","Tutoriel","Documentation","Vid\xE9o","Podcast"];selectedFile=null;imagePreview=null;base64Image=null;base64Ready=!1;showNotification=!1;notificationType="error";notificationMessage="";urlValidator(e){let t=e.value;return t?/^https?:\/\/.+/.test(t)?null:{invalidUrlFormat:!0}:null}linkForm=this.fb.group({title:["",[nn.required]],description:["",[nn.required]],url:["",[nn.required,this.urlValidator]],niveau:["Junior",[nn.required]],isPaid:[!1],type:["Cours",[nn.required]],tags:[[""],[nn.required,nn.minLength(1)]]});toggleTag(e){let t=this.linkForm.get("tags")?.value||[],r=t.indexOf(e);if(r===-1)this.linkForm.patchValue({tags:[...t,e]});else{let i=t.filter((s,o)=>o!==r);this.linkForm.patchValue({tags:i})}}isTagSelected(e){return(this.linkForm.get("tags")?.value||[]).includes(e)}getSelectedTags(){return(this.linkForm.get("tags")?.value||[]).filter(t=>t&&t!=="")}onFileSelected(e){let t=e.target;t.files&&t.files[0]&&(this.selectedFile=t.files[0],this.base64Ready=!1,this.base64Image=null,this.convertToBase64Simple(t.files[0]))}convertToBase64Simple(e){let t=new FileReader;t.onload=r=>{if(r.target&&r.target.result){let i=r.target.result;this.imagePreview=i,this.base64Image=i,this.base64Ready=!0}},t.onerror=()=>{this.showNotification=!0,this.notificationType="error",this.notificationMessage="Impossible de lire l'image. Veuillez r\xE9essayer."},t.readAsDataURL(e)}showSuccessMessage=!1;onSubmit(){return P(this,null,function*(){if(this.linkForm.valid&&this.base64Ready&&this.base64Image)try{yield this.linksService.createLinkWithBase64Image(this.linkForm.value,this.base64Image),this.linkAdded.emit(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Le lien a \xE9t\xE9 cr\xE9\xE9 avec succ\xE8s!",setTimeout(()=>{this.resetForm(),this.router.navigate(["/home"])},3e3)}catch(e){this.showNotification=!0,this.notificationType="error",this.notificationMessage=e.message}else this.base64Ready?this.linkForm.valid||(this.showNotification=!0,this.notificationType="error",this.notificationMessage="Veuillez remplir tous les champs obligatoires"):(this.showNotification=!0,this.notificationType="warning",this.notificationMessage="Veuillez s\xE9lectionner une image")})}getFormValidationErrors(){let e={};return Object.keys(this.linkForm.controls).forEach(t=>{let r=this.linkForm.get(t);r&&!r.valid&&(e[t]=r.errors)}),e}resetForm(){this.linkForm.reset({niveau:"Junior",isPaid:!1,type:"Cours",tags:[""]}),this.selectedFile=null,this.imagePreview=null,this.base64Image=null,this.base64Ready=!1,this.showNotification=!1}onNotificationClosed(){this.showNotification=!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-link-form"]],outputs:{linkAdded:"linkAdded"},decls:86,vars:15,consts:[["fileInput",""],[1,"min-h-52","p-4","relative","overflow-hidden","text-white/50"],[1,"fixed","inset-0","overflow-hidden","pointer-events-none","z-0"],[1,"absolute","-top-20","-right-20","w-96","h-96","bg-apple-green","rounded-full","opacity-30","blur-3xl"],[1,"absolute","-bottom-20","-left-40","w-96","h-96","bg-blue-900","rounded-full","opacity-30","blur-3xl"],[1,"relative","z-10","backdrop-blur-sm"],[1,"flex","flex-col","gap-4",3,"ngSubmit","formGroup"],[3,"type","message","closed",4,"ngIf"],[1,"form-group"],[1,"block","mb-1"],[1,"text-red-500"],[1,"flex","flex-col","items-center","gap-2"],[1,"w-full"],["type","file","accept","image/*",1,"hidden",3,"change"],["type","button",1,"w-full","p-2","border-2","border-dashed","border-apple-green","rounded-lg","text-center","hover:bg-apple-green/10","transition-colors",3,"click"],[4,"ngIf"],["type","text","formControlName","title",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/70","placeholder:border-soft-white/50","selection:bg-deep-green","focus:outline-none","focus:border-apple-green"],["formControlName","description","rows","3",1,"w-full","p-2","rounded","bg-dark-gray","border","border-apple-green","text-soft-white","focus:outline-none","focus:border-apple-green"],["type","url","formControlName","url","placeholder","https://example.com",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],["formControlName","niveau",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],[3,"value"],["formControlName","type",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","gap-2","cursor-pointer"],["type","radio","formControlName","isPaid",1,"text-apple-green",3,"value"],[1,"text-xs","text-white/60","mb-3"],[1,"flex","flex-wrap","gap-2","max-h-32","overflow-y-auto","p-2","border","border-apple-green/30","rounded"],["type","button",1,"px-3","py-1","rounded-full","text-sm","transition-colors",3,"bg-apple-green","bg-deep-green","text-deep-green","text-white"],[1,"mt-2"],["type","submit",1,"bg-apple-green","text-white","py-2","px-4","rounded","mt-4","disabled:opacity-50","disabled:cursor-not-allowed","hover:bg-deep-green","transition-colors",3,"disabled"],[1,"fixed","top-4","right-4","bg-green-500","text-white","px-6","py-3","rounded-lg","shadow-lg","transform","transition-all","duration-500","flex","items-center","gap-2"],[3,"closed","type","message"],["alt","Aper\xE7u",1,"w-32","h-32","object-cover","rounded-lg",3,"src"],[1,"text-xs"],[1,"flex","items-center","gap-1"],[1,"material-symbols-outlined","opacity-70"],[1,"material-symbols-outlined"],[1,"text-red-400","text-xs"],["class","text-red-400 text-xs",4,"ngIf"],["type","button",1,"px-3","py-1","rounded-full","text-sm","transition-colors",3,"click"],[1,"text-xs","text-white/60"],[1,"flex","flex-wrap","gap-1","mt-1"],[1,"px-2","py-1","bg-apple-green","text-deep-green","text-xs","rounded-full"]],template:function(t,r){if(t&1){let i=tt();k(0,"main",1)(1,"div",2),Ne(2,"div",3)(3,"div",4),M(),k(4,"div",5)(5,"form",6),he("ngSubmit",function(){return ke(i),Me(r.onSubmit())}),ye(6,$2e,1,2,"app-notification",7),k(7,"div",8)(8,"label",9),U(9,"Image "),k(10,"span",10),U(11,"*"),M()(),k(12,"div",11),ye(13,W2e,4,6),k(14,"div",12)(15,"input",13,0),he("change",function(o){return ke(i),Me(r.onFileSelected(o))}),M(),k(17,"button",14),he("click",function(){ke(i);let o=bL(16);return Me(o.click())}),ye(18,K2e,2,0,"span")(19,Q2e,2,0,"span"),M()()()(),k(20,"div",8),ye(21,Y2e,3,0,"span",15),k(22,"label",9),U(23,"Titre "),k(24,"span",10),U(25,"*"),M()(),Ne(26,"input",16),M(),k(27,"div",8),ye(28,Z2e,3,0,"span",15),k(29,"label",9),U(30,"Description "),k(31,"span",10),U(32,"*"),M()(),Ne(33,"textarea",17),M(),k(34,"div",8),ye(35,eIe,3,2,"span",15),k(36,"label",9),U(37,"URL du site "),k(38,"span",10),U(39,"*"),M()(),Ne(40,"input",18),M(),k(41,"div",8),ye(42,tIe,3,0,"span",15),k(43,"label",9),U(44,"Niveau "),k(45,"span",10),U(46,"*"),M()(),k(47,"select",19),la(48,nIe,2,2,"option",20,rl),M()(),k(50,"div",8),ye(51,rIe,3,0,"span",15),k(52,"label",9),U(53,"Type "),k(54,"span",10),U(55,"*"),M()(),k(56,"select",21),la(57,iIe,2,2,"option",20,rl),M()(),k(59,"div",8)(60,"label",9),U(61,"Prix"),M(),k(62,"div",22)(63,"label",23),Ne(64,"input",24),k(65,"span"),U(66,"Gratuit"),M()(),k(67,"label",23),Ne(68,"input",24),k(69,"span"),U(70,"Payant"),M()()()(),k(71,"div",8),ye(72,sIe,3,0,"span",15),k(73,"label",9),U(74,"Langages/Technologies "),k(75,"span",10),U(76,"*"),M()(),k(77,"p",25),U(78,"S\xE9lectionnez les langages et technologies utilis\xE9s dans ce lien "),M(),k(79,"div",26),la(80,oIe,2,9,"button",27,rl),M(),ye(82,uIe,6,0,"div",28),M(),k(83,"button",29),U(84," Ajouter "),M()(),ye(85,cIe,5,0,"div",30),M()()}if(t&2){let i,s,o,a,u,c;$(5),Z("formGroup",r.linkForm),$(),Z("ngIf",r.showNotification),$(7),xn(r.imagePreview?13:-1),$(5),xn(r.imagePreview?19:18),$(3),Z("ngIf",((i=r.linkForm.get("title"))==null?null:i.invalid)&&((i=r.linkForm.get("title"))==null?null:i.touched)),$(7),Z("ngIf",((s=r.linkForm.get("description"))==null?null:s.invalid)&&((s=r.linkForm.get("description"))==null?null:s.touched)),$(7),Z("ngIf",((o=r.linkForm.get("url"))==null?null:o.invalid)&&((o=r.linkForm.get("url"))==null?null:o.touched)),$(7),Z("ngIf",((a=r.linkForm.get("niveau"))==null?null:a.invalid)&&((a=r.linkForm.get("niveau"))==null?null:a.touched)),$(6),da(r.niveauOptions),$(3),Z("ngIf",((u=r.linkForm.get("type"))==null?null:u.invalid)&&((u=r.linkForm.get("type"))==null?null:u.touched)),$(6),da(r.typeOptions),$(7),Z("value",!1),$(4),Z("value",!0),$(4),Z("ngIf",((c=r.linkForm.get("tags"))==null?null:c.invalid)&&((c=r.linkForm.get("tags"))==null?null:c.touched)),$(8),da(r.langageOptions),$(2),xn(r.getSelectedTags().length>0?82:-1),$(),Z("disabled",!r.linkForm.valid||!r.base64Ready),$(2),xn(r.showSuccessMessage?85:-1)}},dependencies:[jt,En,ls,zo,lW,fW,us,qw,pO,Ho,$o,Xs,Js,_c],encapsulation:2})};function lIe(n,e){if(n&1){let t=tt();k(0,"button",3),he("click",function(){let i=ke(t).$index,s=ce();return Me(s.rate(i+1))})("mouseenter",function(){let i=ke(t).$index,s=ce();return Me(s.hover(i+1))})("mouseleave",function(){ke(t);let i=ce();return Me(i.hover(0))}),U(1," kid_star "),M()}if(n&2){let t=e.$implicit;qt("text-apple-green",t.filled)("text-gray-100",!t.filled)}}function dIe(n,e){if(n&1&&(k(0,"span",2),U(1),M()),n&2){let t=ce();$(),ct("(",t.totalRatings,")")}}var nS=class n{rating=0;totalRatings=0;showRatingCount=!0;readonly=!1;ratingChange=new Vt;stars=Array(5).fill(null).map(()=>({filled:!1}));ngOnInit(){this.updateStars(this.rating)}ngOnChanges(){this.updateStars(this.rating)}hover(e){this.readonly||this.rating===0&&this.updateStars(e)}rate(e){this.readonly||(this.rating=e,this.ratingChange.emit(e))}updateStars(e){this.stars.forEach((t,r)=>{t.filled=r<e})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-star-rating"]],inputs:{rating:"rating",totalRatings:"totalRatings",showRatingCount:"showRatingCount",readonly:"readonly"},outputs:{ratingChange:"ratingChange"},features:[Is],decls:4,vars:1,consts:[[1,"flex","items-center"],[1,"material-symbols-outlined","text-2xl","transition-colors",3,"text-apple-green","text-gray-100"],[1,"ml-2","text-sm","text-white/50"],[1,"material-symbols-outlined","text-2xl","transition-colors",3,"click","mouseenter","mouseleave"]],template:function(t,r){t&1&&(k(0,"div",0),la(1,lIe,2,4,"button",1,rl),ye(3,dIe,2,1,"span",2),M()),t&2&&($(),da(r.stars),$(2),xn(r.showRatingCount?3:-1))},dependencies:[jt],encapsulation:2})};var fIe=["swiperRef"],hIe=["filterPanel"],VW=n=>["/link",n];function pIe(n,e){if(n&1){let t=tt();k(0,"div",1),Ne(1,"div",12),k(2,"div",13)(3,"div",14)(4,"div",15)(5,"h2",16),U(6,"Ajouter un nouveau lien"),M(),k(7,"button",17),he("click",function(){ke(t);let i=ce();return Me(i.toggleAddLinkForm())}),k(8,"span",7),U(9,"close"),M()()(),k(10,"div",18)(11,"app-link-form",19),he("linkAdded",function(){ke(t);let i=ce();return Me(i.onLinkAdded())}),M()()()()()}}function mIe(n,e){if(n&1&&Ne(0,"img",22),n&2){let t=ce(2);Z("src",t.currentBgImage,Dn)}}function gIe(n,e){if(n&1&&(k(0,"div",2),ye(1,mIe,1,1,"img",20),Ne(2,"div",21),M()),n&2){let t=ce();$(),Z("ngIf",t.currentBgImage)}}function yIe(n,e){if(n&1){let t=tt();k(0,"div",9)(1,"div",23)(2,"span",24),U(3,"search_off"),M(),k(4,"h3",25),U(5,"Aucun lien trouv\xE9"),M(),k(6,"p",26),U(7,"Aucune carte ne correspond aux crit\xE8res de filtrage s\xE9lectionn\xE9s."),M(),k(8,"button",27),he("click",function(){ke(t);let i=ce();return Me(i.resetFilters())}),U(9," R\xE9initialiser les filtres "),M()()()}}function vIe(n,e){n&1&&(k(0,"div",9)(1,"div",23)(2,"span",24),U(3,"info"),M(),k(4,"h3",28),U(5,"Aucun lien \xE0 afficher"),M(),k(6,"p",29),U(7,"Il n'y a pas encore de liens. Utilise le bouton "),k(8,"span",30),U(9,"+"),M(),U(10," pour en ajouter un."),M()()())}function bIe(n,e){if(n&1){let t=tt();k(0,"swiper-slide")(1,"div",32)(2,"h3",33),U(3),M(),k(4,"app-star-rating",34),he("ratingChange",function(i){let s=ke(t).$implicit,o=ce(2);return Me(o.onRatingChange(s,i))}),M()(),k(5,"div",35),Ne(6,"img",36),k(7,"div",37)(8,"div",38)(9,"button",39),he("click",function(){let i=ke(t).$implicit,s=ce(2);return Me(s.openLink(i.url))}),U(10," Lien de la page "),M(),k(11,"button",40),U(12," voir "),M()()()()()}if(n&2){let t=e.$implicit;$(3),St(t.title),$(),Z("rating",t.averageRating||0)("totalRatings",t.totalRatings||0),$(2),Z("src",t.imageUrl,Dn)("alt",t.title),$(5),Z("routerLink",Yd(6,VW,t.id))}}function _Ie(n,e){if(n&1&&(k(0,"swiper-container",10,0),ye(2,bIe,13,8,"swiper-slide",31),M()),n&2){let t=ce();$(2),Z("ngForOf",t.filteredLinks)}}function EIe(n,e){if(n&1){let t=tt();k(0,"div",42),Ne(1,"img",43),k(2,"div",18)(3,"h3",44),U(4),M(),k(5,"p",45),U(6),M(),k(7,"div",46)(8,"app-star-rating",34),he("ratingChange",function(i){let s=ke(t).$implicit,o=ce(2);return Me(o.onRatingChange(s,i))}),M()(),k(9,"div",47)(10,"span",48)(11,"span",49),U(12,"schedule"),M(),U(13),Nr(14,"date"),M()(),k(15,"div",50)(16,"button",51),he("click",function(){let i=ke(t).$implicit,s=ce(2);return Me(s.openLink(i.url))}),U(17," Lien de la page "),M(),k(18,"button",52),U(19," voir "),M()()()()}if(n&2){let t=e.$implicit;$(),Z("src",t.imageUrl,Dn)("alt",t.title),$(3),St(t.title),$(2),St(t.description),$(2),Z("rating",t.averageRating||0)("totalRatings",t.totalRatings||0),$(5),ct(" ",al(14,8,t.createdAt,"dd/MM/yyyy")," "),$(5),Z("routerLink",Yd(11,VW,t.id))}}function wIe(n,e){if(n&1&&(k(0,"div",11),ye(1,EIe,20,13,"div",41),M()),n&2){let t=ce();$(),Z("ngForOf",t.filteredLinks)}}var rS=class n{constructor(e){this.platformId=e}userService=z(gi);showNotification=!1;notificationType="success";notificationMessage="";linksService=z(Wo);authService=z(zt);firestoreService=z(as);router=z(ft);cdr=z(Hi);links=[];filteredLinks=[];currentIndex=0;viewModeService=z(Bh);viewMode$=this.viewModeService.viewMode$;showAddLinkForm=!1;userMap={};currentBgImage=null;activeFilters=null;navLinks=[{route:"/home",icon:"home",label:"Accueil"},{route:"/search",icon:"search",label:"Rechercher"},{route:"/profile",icon:"person",label:"Profil"},{route:"/settings",icon:"settings",label:"Param\xE8tres"}];swiperRef;filterPanel;swiperInterval=null;ngOnInit(){pa(this.platformId)&&this.loadLinks()}ngAfterViewInit(){this.attachSwiperListener(),this.startSwiperInterval()}ngOnDestroy(){this.swiperInterval&&clearInterval(this.swiperInterval),this.swiperRef&&this.swiperRef.nativeElement&&this.swiperRef.nativeElement.removeEventListener("slidechange",this.swiperSlideChangeHandler)}loadLinks(){this.linksService.getLinks().pipe(Pn(e=>{console.log("Liens charg\xE9s depuis Firestore:",e);let t=e.map(s=>me(Q({},s),{createdAt:this.convertFirestoreTimestamp(s.createdAt)}));this.links=t,this.filteredLinks=[...t],this.activeFilters&&this.applyFilters(this.activeFilters),setTimeout(()=>{this.attachSwiperListener(),this.startSwiperInterval(),this.filteredLinks.length>0&&(this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges())},0);let i=[...new Set(e.map(s=>s.createdBy))].map(s=>this.firestoreService.getDocument(`users/${s}`));return Fc(i)})).subscribe(e=>{e.forEach(t=>{t&&t.id&&(this.userMap[t.id]=t)})})}convertFirestoreTimestamp(e){if(!e)return new Date;if(e instanceof Date)return e;if(e&&typeof e=="object"&&"seconds"in e)return new Date(e.seconds*1e3);if(typeof e=="number")return new Date(e);if(typeof e=="string"){let t=new Date(e);if(!isNaN(t.getTime()))return t}return console.warn("Impossible de convertir le timestamp:",e),new Date}applyFilters(e){console.log("Filtres re\xE7us:",e),console.log("Liens avant filtrage:",this.links),this.activeFilters=e;let t=e.niveau.length>0||e.langage.length>0||e.prix.length>0||e.type.length>0;console.log("Filtres actifs:",t),t?this.filteredLinks=this.links.filter(r=>{if(console.log("Filtrage du lien:",r.title,"Propri\xE9t\xE9s:",{niveau:r.niveau,type:r.type,tags:r.tags,isPaid:r.isPaid}),e.niveau.length>0){let i=r.niveau||"";if(!e.niveau.includes(i))return console.log("Lien rejet\xE9 par niveau:",r.title,"niveau:",i,"filtres:",e.niveau),!1}if(e.langage.length>0){let i=r.tags||[];if(!e.langage.some(o=>i.some(a=>a&&a.toLowerCase().includes(o.toLowerCase()))))return console.log("Lien rejet\xE9 par langage:",r.title,"tags:",i,"filtres:",e.langage),!1}if(e.prix.length>0){let i=r.isPaid||!1,s=e.prix.includes("Payant"),o=e.prix.includes("Gratuit");if(s&&!i)return console.log("Lien rejet\xE9 par prix (payant):",r.title,"isPaid:",i),!1;if(o&&i)return console.log("Lien rejet\xE9 par prix (gratuit):",r.title,"isPaid:",i),!1}if(e.type.length>0){let i=r.type||"";if(!e.type.includes(i))return console.log("Lien rejet\xE9 par type:",r.title,"type:",i,"filtres:",e.type),!1}return console.log("Lien accept\xE9:",r.title),!0}):(this.filteredLinks=[...this.links],console.log("Aucun filtre actif, affichage de tous les liens")),console.log("Liens apr\xE8s filtrage:",this.filteredLinks),console.log("Nombre de liens filtr\xE9s:",this.filteredLinks.length),this.currentIndex>=this.filteredLinks.length&&(this.currentIndex=0),this.filteredLinks.length>0?this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl:this.currentBgImage=null,this.cdr.detectChanges()}resetFilters(){this.activeFilters=null,this.filteredLinks=[...this.links],this.currentIndex=0,this.filteredLinks.length>0&&(this.currentBgImage=this.filteredLinks[0].imageUrl),this.cdr.detectChanges()}openLink(e){!e.startsWith("http://")&&!e.startsWith("https://")&&(e="https://"+e),window.open(e,"_blank","noopener,noreferrer")}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.filteredLinks.length,this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges()}previousSlide(){this.currentIndex=(this.currentIndex-1+this.filteredLinks.length)%this.filteredLinks.length,this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges()}goToSlide(e){this.currentIndex=e}toggleAddLinkForm(){this.showAddLinkForm=!this.showAddLinkForm}onLinkAdded(){this.showAddLinkForm=!1,this.loadLinks(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Le lien a \xE9t\xE9 ajout\xE9 avec succ\xE8s!",setTimeout(()=>{this.showNotification=!1},3e3)}getUserInfo(e){return this.userMap[e]||null}logout(){this.authService.logOut().subscribe(()=>{this.router.navigate(["/login-choice"])})}onRatingChange(e,t){return P(this,null,function*(){let r=yield this.authService.getCurrentUser();r&&(yield this.linksService.rateLink(e.id,r.uid,t))})}getUserRating(e){return P(this,null,function*(){let t=yield this.authService.getCurrentUser();return t?this.linksService.getUserRating(e,t.uid):0})}attachSwiperListener(){this.swiperRef&&this.swiperRef.nativeElement&&(this.swiperRef.nativeElement.removeEventListener("slidechange",this.swiperSlideChangeHandler),this.swiperRef.nativeElement.addEventListener("slidechange",this.swiperSlideChangeHandler))}swiperSlideChangeHandler=e=>{let t=e.target.swiper,r=t.realIndex??t.activeIndex;this.filteredLinks[r]&&(this.currentBgImage=this.filteredLinks[r].imageUrl,this.currentIndex=r,this.cdr.detectChanges())};startSwiperInterval(){this.swiperInterval&&clearInterval(this.swiperInterval),this.swiperInterval=setInterval(()=>{if(this.swiperRef&&this.swiperRef.nativeElement&&this.filteredLinks.length>0){let e=this.swiperRef.nativeElement.swiper;if(e){let t=e.realIndex??e.activeIndex;this.filteredLinks[t]&&this.currentBgImage!==this.filteredLinks[t].imageUrl&&(this.currentBgImage=this.filteredLinks[t].imageUrl,this.currentIndex=t,this.cdr.detectChanges())}}},300)}static \u0275fac=function(t){return new(t||n)(Le(zr))};static \u0275cmp=Rt({type:n,selectors:[["app-home"]],viewQuery:function(t,r){if(t&1&&(Gp(fIe,5),Gp(hIe,5)),t&2){let i;il(i=sl())&&(r.swiperRef=i.first),il(i=sl())&&(r.filterPanel=i.first)}},decls:16,vars:15,consts:[["swiperRef",""],[1,"fixed","inset-0","z-40"],[1,"fixed","inset-0","z-0","pointer-events-none"],[3,"closed","show","type","message"],[1,"min-h-screen","pb-20","relative","overflow-hidden","motion-preset-fade","motion-duration-2000"],[1,"pt-20","pb-4","text-center","relative"],[1,"absolute","right-4","top-1/2","transform","-translate-y-1/2","bg-apple-green","text-deep-green","rounded-xl","p-3","shadow-lg","hover:bg-deep-green","hover:text-apple-green","transition-colors","flex","items-center",3,"click"],[1,"material-symbols-outlined"],[3,"filterChange"],[1,"flex","flex-col","items-center","justify-center","min-h-[50vh]","text-center","px-4"],["effect","coverflow","grab-cursor","true","centered-slides","true","slides-per-view","2","loop","false","coverflow-effect-rotate","50","coverflow-effect-stretch","0","coverflow-effect-depth","100","coverflow-effect-modifier","1","coverflow-effect-slide-shadows","false","pagination","false"],[1,"grid","grid-cols-2","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","px-4","max-w-7xl","mx-auto"],[1,"absolute","inset-0","bg-black/50","motion-preset-fade","motion-duration-500"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"bg-black","rounded-xl","shadow-xl","max-w-md","w-full","mx-4","max-h-[90vh]","overflow-y-auto","relative"],[1,"sticky","top-0","bg-black","p-4","border-b","border-deep-green","flex","justify-between","items-center"],[1,"text-3xl","font-semibold","font-primary","text-apple-green"],[1,"text-white","hover:text-gray-700",3,"click"],[1,"p-4"],[3,"linkAdded"],["class","w-full h-full object-cover blur-md transition-all duration-900 opacity-80 fade-bg",3,"src",4,"ngIf"],[1,"absolute","inset-0","bg-soft-white/50"],[1,"w-full","h-full","object-cover","blur-md","transition-all","duration-900","opacity-80","fade-bg",3,"src"],[1,"bg-white/10","backdrop-blur-sm","rounded-2xl","p-8","border","border-apple-green/30"],[1,"material-symbols-outlined","text-6xl","text-apple-green","mb-4"],[1,"text-2xl","font-primary","text-white","mb-2"],[1,"text-white/70","mb-6"],[1,"bg-apple-green","text-white","px-6","py-3","rounded-xl","hover:bg-deep-green","transition-colors",3,"click"],[1,"text-2xl","font-primary","text-black","mb-2"],[1,"text-black/70"],[1,"bg-apple-green","text-deep-green","rounded-sm","px-2","py-1"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","mb-6"],[1,"font-primary","text-3xl","font-bold","mb-20","drop-shadow"],[3,"ratingChange","rating","totalRatings"],[1,"max-w-2xs","mx-auto","rounded-4xl","shadow-lg","overflow-hidden","relative","bg-white"],[1,"w-full","h-full","object-cover","rounded-4xl",3,"src","alt"],[1,"absolute","bottom-0","left-0","right-0","p-6","bg-gradient-to-t","from-black/70","to-transparent"],[1,"flex","flex-col","sm:flex-row","justify-between","mt-2","gap-2","sm:gap-0"],[1,"flex","justify-center","text-black","items-center","text-xs","sm:text-sm","bg-white/80","rounded-xl","px-2","sm:px-4","py-1","hover:bg-apple-green","hover:text-white","transition-colors","w-full","sm:w-auto",3,"click"],[1,"flex","justify-center","bg-apple-green","text-white","text-center","py-1","px-3","sm:px-6","rounded-xl","shadow-xl","hover:bg-deep-green","transition-colors","w-full","sm:w-auto","text-xs","sm:text-sm",3,"routerLink"],["class","bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",4,"ngFor","ngForOf"],[1,"bg-white","rounded-2xl","shadow-lg","overflow-hidden","hover:shadow-xl","transition-shadow"],[1,"w-full","h-48","object-cover",3,"src","alt"],[1,"font-primary","text-xl","font-bold","text-deep-green","mb-2","line-clamp-2"],[1,"text-gray-600","text-xs","mb-3","line-clamp-3","sm:text-xs","md:text-xs"],[1,"mb-3"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","mb-3"],[1,"flex","items-center"],[1,"material-symbols-outlined","text-xs","mr-1","md:text-sm"],[1,"flex","flex-col","gap-2"],[1,"flex-1","bg-apple-green","text-white","py-2","px-3","rounded-lg","text-sm","hover:bg-deep-green","transition-colors","sm:text-xs","md:text-xs",3,"click"],[1,"flex-1","bg-deep-green","text-white","py-2","px-3","rounded-lg","text-sm","hover:bg-apple-green","transition-colors","sm:text-xs","md:text-xs",3,"routerLink"]],template:function(t,r){t&1&&(ye(0,pIe,12,0,"div",1)(1,gIe,3,1,"div",2),Nr(2,"async"),k(3,"app-notification",3),he("closed",function(){return r.showNotification=!1}),M(),k(4,"main",4)(5,"header",5)(6,"button",6),he("click",function(){return r.toggleAddLinkForm()}),k(7,"span",7),U(8,"add"),M()()(),k(9,"app-filter-panel",8),he("filterChange",function(s){return r.applyFilters(s)}),M(),ye(10,yIe,10,0,"div",9)(11,vIe,11,0,"div",9)(12,_Ie,3,1,"swiper-container",10),Nr(13,"async"),ye(14,wIe,2,1,"div",11),Nr(15,"async"),M()),t&2&&(xn(r.showAddLinkForm?0:-1),$(),xn(lo(2,9,r.viewMode$)==="carousel"&&r.filteredLinks.length>0?1:-1),$(2),Z("show",r.showNotification)("type",r.notificationType)("message",r.notificationMessage),$(7),xn(r.filteredLinks.length===0&&r.activeFilters?10:-1),$(),xn(r.filteredLinks.length===0&&!r.activeFilters?11:-1),$(),xn(r.filteredLinks.length>0&&lo(13,11,r.viewMode$)==="carousel"?12:-1),$(2),xn(r.filteredLinks.length>0&&lo(15,13,r.viewMode$)==="grid"?14:-1))},dependencies:[jt,ai,En,ul,cl,ir,Mr,bc,zh,nS,_c,hd],styles:['[_nghost-%COMP%]{display:block;background-color:#faf9f6}.carousel-slide[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.pagination-dot[_ngcontent-%COMP%]{transition:all .3s ease}.pagination-dot[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.search-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}.card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #0000001a}button[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.bottom-nav[_ngcontent-%COMP%]{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.grid-view[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.fade-bg[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeInBg .8s forwards}@keyframes _ngcontent-%COMP%_fadeInBg{0%{opacity:0}to{opacity:.8}}']})};function SIe(n,e){if(n&1){let t=tt();k(0,"div",32)(1,"button",33),he("click",function(){ke(t);let i=ce();return Me(i.toggleDeleteConfirm())}),k(2,"span",34),U(3,"delete"),M(),U(4," Supprimer "),M()()}}function TIe(n,e){n&1&&(k(0,"span",35),U(1,"autorenew"),M())}function CIe(n,e){if(n&1){let t=tt();k(0,"button",45),he("click",function(){ke(t);let i=ce().$implicit,s=ce();return Me(s.toggleCommentDeleteConfirm(i))}),k(1,"span",35),U(2,"delete"),M()()}}function IIe(n,e){if(n&1){let t=tt();k(0,"div",36)(1,"div",37),Ne(2,"img",38),k(3,"div",21)(4,"div",11)(5,"h3",39),U(6),M(),k(7,"span",40),U(8),Nr(9,"date"),M()(),k(10,"p",41),U(11),M(),k(12,"div",42)(13,"button",43),he("click",function(){let i=ke(t).$implicit,s=ce();return Me(s.toggleLike(i))}),k(14,"span",35),U(15," favorite "),M(),k(16,"span",16),U(17),M()(),ye(18,CIe,3,0,"button",44),M()()()()}if(n&2){let t=e.$implicit,r=ce();$(2),Z("src",t.senderImage||"assets/images/default-avatar.png",Dn)("alt",t.senderName),$(4),St(t.senderName),$(2),St(al(9,9,t.createdAt,"dd/MM/yyyy \xE0 HH:mm")),$(3),St(t.text),$(3),qt("text-apple-green",r.isLikedByCurrentUser(t)),$(3),St(t.likes||0),$(),Z("ngIf",r.canDeleteComment(t))}}function DIe(n,e){if(n&1){let t=tt();k(0,"div",46)(1,"div",47)(2,"h3",48),U(3,"Confirmer la suppression"),M(),k(4,"p",49),U(5," \xCAtes-vous s\xFBr de vouloir supprimer ce commentaire ? Cette action est irr\xE9versible. "),M(),k(6,"div",50)(7,"button",51),he("click",function(){ke(t);let i=ce();return Me(i.toggleCommentDeleteConfirm())}),U(8," Annuler "),M(),k(9,"button",52),he("click",function(){ke(t);let i=ce();return Me(i.confirmDeleteComment())}),k(10,"span",34),U(11,"delete"),M(),U(12," Supprimer "),M()()()()}}function xIe(n,e){if(n&1&&(k(0,"div",58),U(1),M()),n&2){let t=ce(2);$(),ct(" ",t.deleteError," ")}}function AIe(n,e){n&1&&(k(0,"span",59),U(1,"autorenew"),M())}function NIe(n,e){n&1&&(k(0,"span",34),U(1,"delete"),M())}function RIe(n,e){if(n&1){let t=tt();k(0,"div",46)(1,"div",47)(2,"h3",48),U(3,"Confirmer la suppression"),M(),k(4,"p",49),U(5," \xCAtes-vous s\xFBr de vouloir supprimer ce lien ? Cette action est irr\xE9versible. "),M(),ye(6,xIe,2,1,"div",53),k(7,"div",50)(8,"button",54),he("click",function(){ke(t);let i=ce();return Me(i.toggleDeleteConfirm())}),U(9," Annuler "),M(),k(10,"button",55),he("click",function(){ke(t);let i=ce();return Me(i.deleteLink())}),ye(11,AIe,2,0,"span",56)(12,NIe,2,0,"span",57),U(13),M()()()()}if(n&2){let t=ce();$(6),Z("ngIf",t.deleteError),$(2),Z("disabled",t.isDeleting),$(2),Z("disabled",t.isDeleting),$(),Z("ngIf",t.isDeleting),$(),Z("ngIf",!t.isDeleting),$(),ct(" ",t.isDeleting?"Suppression...":"Supprimer"," ")}}var v0=class n{router=z(ft);route=z(ci);linksService=z(Wo);authService=z(zt);userService=z(gi);fb=z(cs);firestoreService=z(as);link=null;isOwner=!1;isAdmin=!1;showDeleteConfirm=!1;isDeleting=!1;deleteError=null;comments=[];commentForm;isSubmitting=!1;currentUser=null;subscriptions=[];showCommentDeleteConfirm=!1;commentToDelete=null;constructor(){this.commentForm=this.fb.group({text:["",[nn.required,nn.minLength(1)]]}),vu(()=>{let e=this.authService.currentUserSignal();e?this.userService.getUserById(e.id||"").subscribe(t=>{this.currentUser=t,this.isAdmin=t?.role==="admin"}):(this.currentUser=null,this.isAdmin=!1)})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.loadLink(e):this.router.navigate(["/home"])}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadLink(e){this.linksService.getLinkById(e).subscribe({next:t=>{this.link=t,this.checkOwnership(),this.loadComments()},error:t=>{this.router.navigate(["/home"])}})}checkOwnership(){if(!this.link)return;let e=this.authService.getCurrentUser();this.isOwner=e?.uid===this.link.createdBy}addComment(){return P(this,null,function*(){let e=this.authService.getCurrentUser();if(!e){console.error("User must be authenticated to add comments"),this.router.navigate(["/auth/login"]);return}if(!this.commentForm.valid||this.isSubmitting||!this.currentUser||!this.link){console.error("Form validation failed or missing required data");return}if(!this.currentUser.id||!this.link.id){console.error("Missing required IDs");return}this.isSubmitting=!0;let t=this.commentForm.get("text")?.value?.trim();if(!t){this.isSubmitting=!1;return}try{let r=Q({text:t,senderId:e.uid,senderName:this.currentUser.userName||"Utilisateur Anonyme",linkId:this.link.id,createdAt:new Date,likes:0,likedBy:[],read:!1,isEdited:!1},this.currentUser.userImageUrl?.base64&&{senderImage:this.currentUser.userImageUrl.base64});console.log("Attempting to add comment with data:",{senderId:r.senderId,linkId:r.linkId});let i=yield this.firestoreService.addDocument("comments",r);if(!i)throw new Error("Failed to create comment");console.log("Comment added successfully with ID:",i),this.commentForm.reset(),setTimeout(()=>this.loadComments(),500)}catch(r){console.error("Error adding comment:",r),this.deleteError="Erreur lors de l'ajout du commentaire. Veuillez r\xE9essayer."}finally{this.isSubmitting=!1}})}loadComments(){if(!this.link?.id)return;let e=this.firestoreService.getCollection("comments",t=>cd(t,Rh("linkId","==",this.link.id),kh("createdAt","desc"))).subscribe({next:t=>{this.comments=t.map(r=>me(Q({},r),{createdAt:r.createdAt instanceof jn?r.createdAt.toDate():new Date(r.createdAt)}))},error:t=>{t.code==="permission-denied"&&this.router.navigate(["/auth/login"])}});this.subscriptions.push(e)}toggleLike(e){return P(this,null,function*(){if(!this.currentUser?.id||!e.id){console.error("Cannot like comment: Missing user ID or comment ID");return}let t=this.currentUser.id,r=e.likedBy||[],i=r.includes(t);try{let s=i?r.filter(o=>o!==t):[...r,t];yield this.firestoreService.updateDocument(`comments/${e.id}`,{likedBy:s,likes:s.length}),e.likedBy=s,e.likes=s.length}catch(s){console.error("Error toggling like:",s)}})}isLikedByCurrentUser(e){return e.likedBy?.includes(this.currentUser?.id||"")||!1}canDeleteComment(e){return this.currentUser?.id===e.senderId||this.isOwner}deleteComment(e){return P(this,null,function*(){if(!this.canDeleteComment(e)){console.error("User does not have permission to delete this comment");return}if(!e.id){console.error("Cannot delete comment: Comment ID is missing");return}try{if(!(yield this.firestoreService.getDocument(`comments/${e.id}`))){console.error("Comment not found in database");return}yield this.firestoreService.deleteDocument(`comments/${e.id}`),console.log("Commentaire supprim\xE9 avec succ\xE8s:",e.id),this.comments=this.comments.filter(r=>r.id!==e.id),this.toggleCommentDeleteConfirm()}catch(t){console.error("Error deleting comment:",t),t.code==="permission-denied"&&(console.error("Permission denied: User may not be authenticated"),this.router.navigate(["/auth/login"])),this.deleteError="Une erreur s'est produite lors de la suppression du commentaire. Veuillez r\xE9essayer."}})}toggleDeleteConfirm(){console.log("Toggle delete confirm, \xE9tat actuel:",this.showDeleteConfirm),this.showDeleteConfirm=!this.showDeleteConfirm,this.deleteError=null,console.log("Nouvel \xE9tat:",this.showDeleteConfirm)}deleteLink(){return P(this,null,function*(){if(console.log("D\xE9but de la suppression du lien"),!this.link?.id){console.error("ID de lien manquant"),this.deleteError="Impossible de supprimer: ID de lien invalide";return}this.isDeleting=!0;try{console.log("Tentative de suppression du lien:",this.link.id),yield this.linksService.deleteLink(this.link.id),console.log("Lien supprim\xE9 avec succ\xE8s"),this.router.navigate(["/home"])}catch(e){console.error("Erreur d\xE9taill\xE9e lors de la suppression:",e),this.isDeleting=!1,this.deleteError=e.message||"Une erreur s'est produite lors de la suppression"}})}toggleCommentDeleteConfirm(e){e?this.commentToDelete=e:this.commentToDelete=null,this.showCommentDeleteConfirm=!this.showCommentDeleteConfirm}confirmDeleteComment(){return P(this,null,function*(){if(this.commentToDelete)try{yield this.deleteComment(this.commentToDelete)}catch(e){console.error("Erreur lors de la suppression du commentaire:",e),this.deleteError="Une erreur s'est produite lors de la suppression du commentaire. Veuillez r\xE9essayer."}})}toggleLinkLike(){return P(this,null,function*(){let e=this.currentUser?.id;if(!e||!this.link?.id){console.error("Cannot like link: Missing user ID or link ID");return}try{if(yield this.linksService.toggleLike(this.link.id,e),this.link){let t=this.link.likedBy||[],r=t.includes(e);this.link.likedBy=r?t.filter(i=>i!==e):[...t,e],this.link.likes=this.link.likedBy.length}}catch(t){console.error("Error toggling link like:",t)}})}isLinkLikedByCurrentUser(){return this.link?.likedBy?.includes(this.currentUser?.id||"")||!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-link-detail"]],decls:48,vars:21,consts:[[1,"min-h-screen","pb-20","relative","overflow-hidden","text-white/50","motion-preset-fade","motion-duration-1000"],[1,"fixed","inset-0","overflow-hidden","pointer-events-none","z-0"],[1,"absolute","-top-20","-right-20","w-96","h-96","bg-apple-green","rounded-full","opacity-30","blur-3xl"],[1,"absolute","-bottom-20","-left-40","w-96","h-96","bg-blue-900","rounded-full","opacity-30","blur-3xl"],[1,"relative","z-10","backdrop-blur-sm"],[1,"flex","items-center","gap-4","p-4","justify-center","pt-10","font-primary"],[1,"text-5xl","font-bold","mb-2"],[1,"max-w-md","mx-10"],[1,"w-full","aspect-square","object-cover","rounded-3xl",3,"src","alt"],[1,"mt-4","text-white"],[1,"flex","items-center","gap-4","justify-around","text-gray-500"],[1,"flex","items-center","gap-2"],[1,"flex","items-center","gap-2","hover:text-white","transition-colors",3,"click"],[1,"material-symbols-outlined"],["class","m-4 flex justify-center",4,"ngIf"],[1,"p-6","text-white/50","text-center"],[1,"text-sm"],[1,"px-4"],[1,"mb-6",3,"ngSubmit","formGroup"],[1,"flex","gap-3"],["alt","User",1,"w-10","h-10","rounded-full","object-cover",3,"src"],[1,"flex-1"],["formControlName","text","rows","2","placeholder","Ajouter un commentaire...",1,"w-full","bg-white/10","rounded-xl","bg-clip-padding","backdrop-filter","backdrop-blur-xl","bg-opacity-10","border","border-gray-100/50","p-4","focus:outline-none","focus:border-apple-green"],[1,"flex","justify-end","mt-2"],["type","submit",1,"relative","inline-flex","group",3,"disabled"],[1,"absolute","transitiona-all","duration-1000","opacity-70","-inset-px","bg-gradient-to-r","from-[#EAE0D5]","via-[#72B01D]","to-[#3F7D20]","rounded-xl","blur-lg","group-hover:opacity-100","group-hover:-inset-1","group-hover:duration-200","animate-tilt"],["role","button",1,"relative","inline-flex","items-center","justify-center","px-8","py-2","text-sm","font-bold","text-soft-white","transition-all","duration-200","bg-apple-green","font-pj","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-900"],["class","material-symbols-outlined text-sm",4,"ngIf"],[1,"space-y-4"],["class","h-full w-full bg-white/10 rounded-xl bg-clip-padding backdrop-filter backdrop-blur-lg bg-opacity-10 border border-gray-100/50  p-4",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 ",4,"ngIf"],["class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",4,"ngIf"],[1,"m-4","flex","justify-center"],[1,"py-2","text-xs","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click"],[1,"material-symbols-outlined","mr-1"],[1,"material-symbols-outlined","text-sm"],[1,"h-full","w-full","bg-white/10","rounded-xl","bg-clip-padding","backdrop-filter","backdrop-blur-lg","bg-opacity-10","border","border-gray-100/50","p-4"],[1,"flex","items-start","gap-3"],[1,"w-10","h-10","rounded-full","object-cover",3,"src","alt"],[1,"font-semibold","text-white"],[1,"text-gray-400","text-xs"],[1,"text-gray-200","mt-1"],[1,"flex","items-center","justify-end","gap-2","mt-2"],[1,"text-gray-400","hover:text-white","transition-colors","flex","items-center","gap-1",3,"click"],["class","text-gray-400 hover:text-red-500 transition-colors ml-4 flex items-center justify-center",3,"click",4,"ngIf"],[1,"text-gray-400","hover:text-red-500","transition-colors","ml-4","flex","items-center","justify-center",3,"click"],[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","flex","items-center","justify-center","z-50"],[1,"bg-white/10","backdrop-blur-xl","border","border-deep-green/50","rounded-xl","p-6","w-5/6","max-w-md","shadow-2xl"],[1,"text-2xl","font-bold","mb-4","text-white","font-primary"],[1,"text-gray-200","mb-6"],[1,"flex","justify-between"],[1,"py-2","px-4","bg-white/10","text-white","rounded-lg","hover:bg-white/20","transition-all","duration-300","border","border-white/20",3,"click"],[1,"py-2","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click"],["class","mb-4 p-3 bg-red-600/20 border border-red-600 rounded text-white text-sm",4,"ngIf"],[1,"py-2","px-4","bg-white/10","text-white","rounded-lg","hover:bg-white/20","transition-all","duration-300","border","border-white/20",3,"click","disabled"],[1,"py-2","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click","disabled"],["class","material-symbols-outlined animate-spin mr-1",4,"ngIf"],["class","material-symbols-outlined mr-1",4,"ngIf"],[1,"mb-4","p-3","bg-red-600/20","border","border-red-600","rounded","text-white","text-sm"],[1,"material-symbols-outlined","animate-spin","mr-1"]],template:function(t,r){t&1&&(k(0,"main",0)(1,"div",1),Ne(2,"div",2)(3,"div",3),M(),k(4,"div",4)(5,"div",5)(6,"h1",6),U(7),M()(),k(8,"div",7),Ne(9,"img",8),k(10,"div",9)(11,"div",10)(12,"div",11)(13,"button",12),he("click",function(){return r.toggleLinkLike()}),k(14,"span",13),U(15," favorite "),M(),k(16,"span"),U(17),M(),k(18,"span"),U(19),M()()(),k(20,"div",11)(21,"span",13),U(22,"comment"),M(),k(23,"span"),U(24),M(),k(25,"span"),U(26),M()()()()(),ye(27,SIe,5,0,"div",14),k(28,"div",15)(29,"p",16),U(30),M()(),k(31,"div",17)(32,"form",18),he("ngSubmit",function(){return r.addComment()}),k(33,"div",19),Ne(34,"img",20),k(35,"div",21),Ne(36,"textarea",22),k(37,"div",23)(38,"button",24),Ne(39,"div",25),k(40,"div",26),ye(41,TIe,2,0,"span",27),k(42,"span"),U(43),M()()()()()()(),k(44,"div",28),ye(45,IIe,19,12,"div",29),M()()(),ye(46,DIe,13,0,"div",30)(47,RIe,14,6,"div",31),M()),t&2&&($(7),St(r.link==null?null:r.link.title),$(2),Z("src",r.link==null?null:r.link.imageUrl,Dn)("alt",r.link==null?null:r.link.title),$(5),qt("text-apple-green",r.isLinkLikedByCurrentUser())("material-symbols-filled",r.isLinkLikedByCurrentUser()),$(3),St((r.link==null?null:r.link.likes)||0),$(2),St(((r.link==null?null:r.link.likes)||0)===1?"j'aime":"j'aimes"),$(5),St(r.comments.length),$(2),St(r.comments.length===1?"Commentaire":"Commentaires"),$(),Z("ngIf",r.isOwner||r.isAdmin),$(3),St(r.link==null?null:r.link.description),$(2),Z("formGroup",r.commentForm),$(2),Z("src",(r.currentUser==null||r.currentUser.userImageUrl==null?null:r.currentUser.userImageUrl.base64)||(r.currentUser==null||r.currentUser.userImageUrl==null?null:r.currentUser.userImageUrl.url)||"assets/images/icons/UserIcon.png",Dn),$(4),Z("disabled",!r.commentForm.valid||r.isSubmitting),$(3),Z("ngIf",r.isSubmitting),$(2),St(r.isSubmitting?"Envoi...":"Commenter"),$(2),Z("ngForOf",r.comments),$(),Z("ngIf",r.showCommentDeleteConfirm),$(),Z("ngIf",r.showDeleteConfirm))},dependencies:[jt,ai,En,cl,ir,ls,zo,us,Ho,$o,Xs,Js],encapsulation:2})};var kIe=(n,e,t)=>({"bg-apple-green text-deep-blue":n,"bg-soft-white text-black":e,"bg-amber-500 text-white":t});function MIe(n,e){n&1&&(k(0,"div",7),Ne(1,"div",8),M())}function OIe(n,e){if(n&1){let t=tt();k(0,"div",9)(1,"p",10),U(2,"Acc\xE8s refus\xE9"),M(),k(3,"p",11),U(4,"Vous n'avez pas les droits d'administrateur n\xE9cessaires pour acc\xE9der \xE0 cette page."),M(),k(5,"button",12),he("click",function(){ke(t);let i=ce();return Me(i.navigateToHome())}),U(6," Retour \xE0 l'accueil "),M()()}}function PIe(n,e){if(n&1){let t=tt();k(0,"div",13)(1,"div",14)(2,"div",15),Ne(3,"img",16),M(),k(4,"div",15)(5,"button",17),he("click",function(){let i=ke(t).$implicit,s=ce();return Me(s.openRoleModal(i))}),U(6),M()()(),k(7,"div",18)(8,"div",19)(9,"p",20),U(10,"ID"),M(),k(11,"span",21),U(12),M()(),k(13,"div",19)(14,"p",20),U(15,"User"),M(),k(16,"span",21),U(17),M()(),k(18,"div",19)(19,"p",20),U(20,"Address "),M(),k(21,"span",21),U(22),M()()(),k(23,"div",22)(24,"div",23)(25,"button",24),he("click",function(){let i=ke(t).$implicit,s=ce();return Me(s.viewUserProfile(i.id))}),k(26,"span",25),U(27,"visibility"),M()(),k(28,"button",26),he("click",function(){let i=ke(t).$implicit,s=ce();return Me(s.deleteUser(i.id))}),k(29,"span",25),U(30,"delete"),M()()()()()}if(n&2){let t=e.$implicit;$(3),Z("src",(t.userImageUrl==null?null:t.userImageUrl.base64)||(t.userImageUrl==null?null:t.userImageUrl.url)||"assets/images/icons/UserIcon.png",Dn),$(2),Z("ngClass",wL(6,kIe,t.role==="admin",t.role==="reader",t.role==="author")),$(),ct("",t.role," "),$(6),ct(" ",t.id,""),$(5),St(t.userName),$(5),St(t.email)}}function LIe(n,e){if(n&1){let t=tt();k(0,"div",27)(1,"div",28)(2,"h2",29),U(3,"Changer le r\xF4le"),M(),k(4,"p",30),U(5),M(),k(6,"div",31)(7,"button",32),he("click",function(){ke(t);let i=ce();return Me(i.updateRole("reader"))}),U(8," Reader "),M(),k(9,"button",32),he("click",function(){ke(t);let i=ce();return Me(i.updateRole("author"))}),U(10," Author "),M(),k(11,"button",32),he("click",function(){ke(t);let i=ce();return Me(i.updateRole("admin"))}),U(12," Admin "),M()(),k(13,"button",33),he("click",function(){ke(t);let i=ce();return Me(i.closeRoleModal())}),k(14,"span",25),U(15,"close"),M()()()()}if(n&2){let t=ce();$(5),ct("Utilisateur: ",t.selectedUser==null?null:t.selectedUser.userName,""),$(2),qt("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="reader"),$(2),qt("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="author"),$(2),qt("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="admin")}}var iS=class n{usersService=z(gi);router=z(ft);users=[];isAdmin=!1;loading=!0;errorMessage="";showRoleModal=!1;selectedUser=null;ngOnInit(){this.checkAdminStatus()}checkAdminStatus(){this.usersService.isCurrentUserAdmin().subscribe({next:e=>{this.isAdmin=e,e?this.loadUsers():this.loading=!1},error:e=>{this.isAdmin=!1,this.loading=!1,this.errorMessage="Impossible de v\xE9rifier les droits d'acc\xE8s",console.error("Erreur lors de la v\xE9rification des droits:",e)}})}loadUsers(){this.usersService.getUsers().subscribe({next:e=>{this.users=e,this.loading=!1},error:e=>{this.loading=!1,this.errorMessage="Erreur lors du chargement des utilisateurs",console.error("Erreur lors du chargement des utilisateurs:",e)}})}changeUserRole(e,t){this.loading=!0,this.usersService.changeUserRole(e,t).subscribe({next:()=>{console.log(`R\xF4le de l'utilisateur ${e} chang\xE9 en ${t}`),this.loadUsers()},error:r=>{this.loading=!1,console.error("Erreur lors du changement de r\xF4le:",r),alert(`Erreur: ${r.message}`)}})}deleteUser(e){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet utilisateur ? Cette action est irr\xE9versible.")&&(this.loading=!0,this.usersService.deleteUser(e).subscribe({next:()=>{console.log(`Utilisateur ${e} supprim\xE9`),this.loadUsers()},error:t=>{this.loading=!1,console.error("Erreur lors de la suppression:",t),alert(`Erreur: ${t.message}`)}}))}viewUserProfile(e){this.router.navigate(["/user-profile",e])}navigateToHome(){this.router.navigate(["/home"])}openRoleModal(e){this.selectedUser=e,this.showRoleModal=!0}closeRoleModal(){this.showRoleModal=!1,this.selectedUser=null}updateRole(e){this.selectedUser&&this.selectedUser.id&&(this.loading=!0,this.usersService.changeUserRole(this.selectedUser.id,e).subscribe({next:()=>{console.log(`R\xF4le de l'utilisateur ${this.selectedUser?.id} chang\xE9 en ${e}`),this.selectedUser&&(this.selectedUser.role=e),this.closeRoleModal(),this.loadUsers()},error:t=>{console.error("Erreur lors du changement de r\xF4le:",t),this.errorMessage=`Erreur: ${t.message}`,this.loading=!1}}))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-user-management"]],decls:8,vars:4,consts:[[1,"bg-black","p-4","text-soft-white"],[1,"max-w-4xl","mx-auto"],[1,"font-bold","mb-6","text-apple-green","font-primary"],["class","flex justify-center my-8",4,"ngIf"],["class","bg-red-900/30 p-4 rounded-lg text-center",4,"ngIf"],["class"," border border-gray-500 rounded-lg shadow-lg p-4 flex flex-col m-2",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],[1,"flex","justify-center","my-8"],[1,"animate-spin","rounded-full","h-12","w-12","buser-b-2","buser-apple-green"],[1,"bg-red-900/30","p-4","rounded-lg","text-center"],[1,"text-xl","text-red-400"],[1,"mt-2","text-soft-white"],[1,"mt-4","bg-apple-green","text-black","px-6","py-2","rounded-lg","hover:bg-deep-green","transition-colors",3,"click"],[1,"border","border-gray-500","rounded-lg","shadow-lg","p-4","flex","flex-col","m-2"],[1,"flex","justify-between","items-center","pb-3"],[1,"flex-shrink-0"],["alt","User",1,"w-10","h-10","rounded-full","object-cover",3,"src"],[1,"px-2","py-1","text-xs","rounded-lg","cursor-pointer",3,"click","ngClass"],[1,"flex-1"],[1,"flex","justify-between","items-center"],[1,"text-xs","text-white"],[1,"text-sm","text-gray-500"],[1,"pt-3"],[1,"flex","justify-end","gap-5"],[1,"action-button","text-apple-green","hover:text-deep-green","mr-3","bg","bg-apple-green/10","hover:bg-apple-green/20","px-5","rounded-lg","flex","items-center","justify-center",3,"click"],[1,"material-symbols-outlined"],[1,"action-button","bg-red-400/50","p-1","text-white","px-5","text-xs","rounded-lg","flex","items-center","justify-center",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-dark-gray","rounded-lg","p-6","w-96","relative"],[1,"text-2xl","font-bold","mb-4","text-apple-green","font-primary"],[1,"text-soft-white","mb-4"],[1,"space-y-2"],[1,"w-full","text-left","px-4","py-2","rounded","hover:bg-apple-green","text-soft-white",3,"click"],[1,"absolute","top-2","right-2","text-gray-400","hover:text-white",3,"click"]],template:function(t,r){t&1&&(k(0,"section",0)(1,"div",1)(2,"h1",2),U(3,"Administration des utilisateurs"),M(),ye(4,MIe,2,0,"div",3)(5,OIe,7,0,"div",4)(6,PIe,31,10,"div",5),M()(),ye(7,LIe,16,7,"div",6)),t&2&&($(4),Z("ngIf",r.loading),$(),Z("ngIf",!r.loading&&!r.isAdmin),$(),Z("ngForOf",r.users),$(),Z("ngIf",r.showRoleModal))},dependencies:[jt,Jp,ai,En,ir,bc],styles:[".role-select[_ngcontent-%COMP%]{background-color:#1e1e1ecc;border-color:#444;transition:border-color .2s ease}.role-select[_ngcontent-%COMP%]:focus{border-color:var(--apple-green);outline:none}.action-button[_ngcontent-%COMP%]{transition:all .2s ease}.action-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]})};var sS=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-policy"]],decls:78,vars:0,consts:[[1,"min-h-screen","bg-black","p-4","text-soft-white"],[1,"max-w-4xl","mx-auto","py-8"],[1,"text-3xl","font-bold","mb-8","text-apple-green"],[1,"space-y-12"],["id","confidentialite",1,"scroll-mt-20"],[1,"text-2xl","font-semibold","mb-4","text-apple-green"],[1,"space-y-4","text-gray-300"],[1,"list-disc","pl-6","space-y-2"],["id","regles",1,"scroll-mt-20"],["id","contenu",1,"scroll-mt-20"],["id","moderation",1,"scroll-mt-20"],[1,"mt-12","p-6","bg-gray-700/30","rounded-xl"],[1,"text-xl","font-semibold","mb-4","text-apple-green"],[1,"text-gray-300","mb-4"],["href","mailto:contact@thelastcoders.com",1,"text-apple-green","hover:text-deep-green","transition-colors"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"h1",2),U(3,"Politique de Confidentialit\xE9 et R\xE8gles de la Communaut\xE9 "),M(),k(4,"div",3)(5,"section",4)(6,"h2",5),U(7,"Confidentialit\xE9"),M(),k(8,"div",6)(9,"p"),U(10,"Nous nous engageons \xE0 prot\xE9ger votre vie priv\xE9e et vos donn\xE9es personnelles."),M(),k(11,"ul",7)(12,"li"),U(13,"Vos donn\xE9es personnelles ne sont jamais partag\xE9es avec des tiers sans votre consentement "),M(),k(14,"li"),U(15,"Vous pouvez supprimer votre compte et toutes vos donn\xE9es \xE0 tout moment"),M(),k(16,"li"),U(17,"Nous utilisons des cookies essentiels uniquement pour le fonctionnement du site"),M(),k(18,"li"),U(19,"Vos liens partag\xE9s sont visibles uniquement par les membres de la communaut\xE9"),M()()()(),k(20,"section",8)(21,"h2",5),U(22,"R\xE8gles de la Communaut\xE9"),M(),k(23,"div",6)(24,"p"),U(25,"Pour maintenir une communaut\xE9 saine et productive, nous demandons \xE0 tous les membres de respecter ces r\xE8gles :"),M(),k(26,"ul",7)(27,"li"),U(28,"Respect mutuel entre tous les membres"),M(),k(29,"li"),U(30,"Pas de discrimination ou de harc\xE8lement"),M(),k(31,"li"),U(32,"Pas de spam ou de contenu promotionnel non sollicit\xE9"),M(),k(33,"li"),U(34,"Partage de contenu pertinent et de qualit\xE9"),M(),k(35,"li"),U(36,"Respect des droits d'auteur et de la propri\xE9t\xE9 intellectuelle"),M()()()(),k(37,"section",9)(38,"h2",5),U(39,"Directives de Contenu"),M(),k(40,"div",6)(41,"p"),U(42,"Le contenu partag\xE9 doit respecter ces crit\xE8res :"),M(),k(43,"ul",7)(44,"li"),U(45,"Contenu \xE9ducatif et professionnel uniquement"),M(),k(46,"li"),U(47,"Liens vers des ressources fiables et v\xE9rifi\xE9es"),M(),k(48,"li"),U(49,"Descriptions claires et pertinentes"),M(),k(50,"li"),U(51,"Cat\xE9gorisation appropri\xE9e des ressources"),M(),k(52,"li"),U(53,"Pas de contenu ill\xE9gal ou inappropri\xE9"),M()()()(),k(54,"section",10)(55,"h2",5),U(56,"Mod\xE9ration"),M(),k(57,"div",6)(58,"p"),U(59,"Notre \xE9quipe de mod\xE9ration s'engage \xE0 :"),M(),k(60,"ul",7)(61,"li"),U(62,"R\xE9viser r\xE9guli\xE8rement le contenu partag\xE9"),M(),k(63,"li"),U(64,"R\xE9pondre aux signalements dans les 24h"),M(),k(65,"li"),U(66,"Maintenir un environnement s\xFBr et professionnel"),M(),k(67,"li"),U(68,"Sanctionner les violations des r\xE8gles de mani\xE8re \xE9quitable"),M(),k(69,"li"),U(70,"Prot\xE9ger la confidentialit\xE9 des utilisateurs"),M()()()()(),k(71,"div",11)(72,"h3",12),U(73,"Contact"),M(),k(74,"p",13),U(75,"Pour toute question concernant notre politique ou pour signaler un probl\xE8me : "),M(),k(76,"a",14),U(77," contact@thelastcoders.com "),M()()()())},dependencies:[jt,ir],encapsulation:2})};var FIe=()=>["/admin/users"],UIe=()=>["/home/add"],qW=n=>["/link",n];function BIe(n,e){if(n&1){let t=tt();k(0,"label",24)(1,"input",25),he("change",function(i){ke(t);let s=ce();return Me(s.onFileSelected(i))}),M(),k(2,"span",26),U(3,"photo_camera"),M()()}}function VIe(n,e){n&1&&(k(0,"div",27)(1,"p"),U(2,"La photo de profil ne peux pas d\xE9passer 80kb"),M()())}function qIe(n,e){if(n&1&&(k(0,"h1",28),U(1),M()),n&2){let t=ce();$(),St(t.user==null?null:t.user.userName)}}function jIe(n,e){n&1&&Ne(0,"input",29)}function HIe(n,e){n&1&&(k(0,"div",30)(1,"div")(2,"label",31),U(3,"Bio"),M(),Ne(4,"textarea",32),M(),k(5,"div")(6,"label",33),U(7,"Github"),M(),Ne(8,"input",34),M(),k(9,"div")(10,"label",35),U(11,"LinkedIn"),M(),Ne(12,"input",36),M(),k(13,"div")(14,"label",37),U(15,"Twitter"),M(),Ne(16,"input",38),M()())}function $Ie(n,e){if(n&1){let t=tt();k(0,"button",39),he("click",function(){ke(t);let i=ce();return Me(i.toggleEdit())}),U(1," Editer profil "),M()}}function zIe(n,e){if(n&1){let t=tt();k(0,"div",40)(1,"button",41),he("click",function(){ke(t);let i=ce();return Me(i.toggleEdit())}),U(2," Annuler "),M(),k(3,"button",42),he("click",function(){ke(t);let i=ce();return Me(i.updateProfile())}),U(4," Sauvegarder "),M()()}}function GIe(n,e){n&1&&(k(0,"div",43)(1,"a",44),U(2," Administration des utilisateurs "),M()()),n&2&&($(),Z("routerLink",D2(1,FIe)))}function WIe(n,e){n&1&&(k(0,"div",45),Ne(1,"div",46),M())}function KIe(n,e){n&1&&(k(0,"div",47)(1,"p",48),U(2,"Aucun lien pour le moment"),M(),k(3,"a",49),U(4," Partager un lien "),M()()),n&2&&($(3),Z("routerLink",D2(1,UIe)))}function QIe(n,e){if(n&1){let t=tt();k(0,"div",52)(1,"a",53)(2,"div",54),Ne(3,"img",55),M(),k(4,"h3",56),U(5),M(),k(6,"div",57)(7,"div",58)(8,"span",59),U(9,"schedule"),M(),U(10),Nr(11,"date"),M(),k(12,"button",60),he("click",function(){let i=ke(t).$implicit,s=ce(2);return Me(s.toggleLinkLike(i))}),k(13,"span",61),U(14," favorite "),M(),U(15),M()()()()}if(n&2){let t=e.$implicit,r=ce(2);$(),Z("routerLink",Yd(13,qW,t.id)),$(2),Z("src",t.imageUrl||"assets/images/default-link.png",Dn)("alt",t.title),$(2),St(t.title),$(5),ct(" ",al(11,10,t.createdAt,"d MMM yyyy")," "),$(3),qt("text-apple-green",r.isLinkLikedByCurrentUser(t))("material-symbols-filled",r.isLinkLikedByCurrentUser(t)),$(2),ct(" ",t.likes||0," ")}}function YIe(n,e){if(n&1){let t=tt();k(0,"div",52)(1,"a",53)(2,"div",54),Ne(3,"img",55),M(),k(4,"h3",56),U(5),M(),k(6,"div",57)(7,"div",3)(8,"span",59),U(9,"schedule"),M(),U(10),Nr(11,"date"),M(),k(12,"button",60),he("click",function(){let i=ke(t).$implicit,s=ce(2);return Me(s.toggleLinkLike(i))}),k(13,"span",61),U(14," favorite "),M(),U(15),M()()()()}if(n&2){let t=e.$implicit,r=ce(2);$(),Z("routerLink",Yd(13,qW,t.id)),$(2),Z("src",t.imageUrl||"assets/images/default-link.png",Dn)("alt",t.title),$(2),St(t.title),$(5),ct(" ",al(11,10,t.createdAt,"d MMM yyyy")," "),$(3),qt("text-apple-green",r.isLinkLikedByCurrentUser(t))("material-symbols-filled",r.isLinkLikedByCurrentUser(t)),$(2),ct(" ",t.likes||0," ")}}function ZIe(n,e){if(n&1&&(k(0,"div",50),ye(1,QIe,16,15,"div",51)(2,YIe,16,15,"div",51),M()),n&2){let t=ce();$(),Z("ngForOf",t.userSharedLinks)("ngForTrackBy",t.trackById),$(),Z("ngForOf",t.likedLinks)("ngForTrackBy",t.trackById)}}var b0=class n{router=z(ft);route=z(ci);authService=z(zt);usersService=z(gi);linksService=z(Wo);firestorageService=z($h);fb=z(cs);user=null;profileForm;showNotification=!1;notificationType="success";notificationMessage="";selectedFile=null;imagePreview=null;isEditing=!1;userSharedLinks=[];likedLinks=[];userId="";isLoading=!0;subscriptions=[];canEdit=!1;currentUser=null;constructor(){this.profileForm=this.fb.group({userName:[""],userImageUrl:[""],bio:[""],github:[""],linkedin:[""],twitter:[""]}),vu(()=>{let e=this.authService.currentUserSignal();e?this.usersService.getUserById(e.id||"").subscribe(t=>{this.currentUser=t}):this.currentUser=null})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id"),t=this.authService.currentUserSignal(),r=this.authService.getCurrentUser();if(!t&&!r){this.router.navigate(["/login"]);return}e?this.userId=e:r&&r.uid?this.userId=r.uid:t&&t.id&&(this.userId=t.id),this.userId?(this.linksService.getLinks().subscribe(i=>{let s=[...new Set(i.map(a=>a.createdBy))],o=i.filter(a=>a.createdBy===this.userId)}),this.loadUserData(),this.loadUserSharedLinks(),this.checkEditPermission()):this.isLoading=!1}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadUserData(){this.usersService.getUserById(this.userId).subscribe({next:e=>{this.user=e,this.user&&this.initForm()},error:e=>{this.router.navigate(["/login"])}})}initForm(){this.profileForm.patchValue({userName:this.user?.userName||"",bio:this.user?.bio||"",github:this.user?.socialLinks?.github||"",linkedin:this.user?.socialLinks?.linkedin||"",twitter:this.user?.socialLinks?.twitter||""})}checkEditPermission(){this.usersService.canModifyUser(this.userId).subscribe({next:e=>{this.canEdit=e},error:e=>{this.canEdit=!1}})}toggleEdit(){if(!this.canEdit){alert("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");return}this.isEditing=!this.isEditing,this.isEditing?this.initForm():(this.initForm(),this.imagePreview=null,this.selectedFile=null)}onFileSelected(e){return P(this,null,function*(){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];if(!r.type.startsWith("image/")||r.size>5*1024*1024)return;this.selectedFile=r;try{let i=yield this.convertToBase64(r);this.imagePreview=i,yield this.usersService.updateUserProfileWithBase64Image(this.userId,{userName:this.user?.userName,email:this.user?.email,role:this.user?.role},i),this.loadUserData(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Photo de profil mise \xE0 jour avec succ\xE8s",setTimeout(()=>this.showNotification=!1,3e3)}catch{}}})}convertToBase64(e){return P(this,null,function*(){return new Promise((t,r)=>{let i=new FileReader;i.onload=s=>{let o=s.target?.result;t(o)},i.onerror=s=>{r(s)},i.readAsDataURL(e)})})}getUserProfileImage(){return this.user?.userImageUrl?.base64?this.user.userImageUrl.base64:this.user?.userImageUrl?.url?this.user.userImageUrl.url:"assets/images/icons/userIcon.png"}updateProfile(){return P(this,null,function*(){if(!this.user||!this.profileForm.valid){this.showNotification=!0,this.notificationType="error",this.notificationMessage="Le formulaire est invalide. Veuillez v\xE9rifier les champs.",setTimeout(()=>this.showNotification=!1,3e3);return}this.isLoading=!0;try{let e={userName:this.profileForm.value.userName,bio:this.profileForm.value.bio,socialLinks:{github:this.profileForm.value.github,linkedin:this.profileForm.value.linkedin,twitter:this.profileForm.value.twitter},userImageUrl:this.user.userImageUrl};yield Lc(this.usersService.updateUserProfile(this.userId,e)),this.user=Q(Q({},this.user),e),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Profil mis \xE0 jour avec succ\xE8s!",setTimeout(()=>this.showNotification=!1,3e3),this.isEditing=!1,this.loadUserData()}catch{}finally{this.isLoading=!1}})}convertTimestampToDate(e){return e instanceof Date?e:e&&typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3):new Date(e)}loadUserSharedLinks(){if(!this.userId){this.isLoading=!1;return}this.isLoading=!0;let e=this.linksService.getLinks().subscribe({next:t=>{let r=t.map(s=>me(Q({},s),{createdAt:this.convertTimestampToDate(s.createdAt)})),i=r.filter(s=>s.createdBy===this.userId);if(i.length>0)this.userSharedLinks=i;else{let s=this.authService.getCurrentUser();if(s&&s.uid){let o=r.filter(a=>a.createdBy===s.uid);o.length>0?this.userSharedLinks=o:this.userSharedLinks=[]}else this.userSharedLinks=[]}this.isLoading=!1},error:t=>{this.isLoading=!1,this.userSharedLinks=[]}});this.subscriptions.push(e)}trackById(e,t){return t.id||e.toString()}toggleLinkLike(e){return P(this,null,function*(){let t=this.currentUser?.id;if(!(!t||!e.id))try{yield this.linksService.toggleLike(e.id,t);let r=e.likedBy||[],i=r.includes(t);e.likedBy=i?r.filter(s=>s!==t):[...r,t],e.likes=e.likedBy.length}catch{}})}isLinkLikedByCurrentUser(e){return e.likedBy?.includes(this.currentUser?.id||"")||!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-users"]],decls:27,vars:18,consts:[[3,"closed","show","type","message"],[1,"min-h-screen","bg-black","p-4","text-soft-white"],[1,"max-w-2xl","mx-auto","motion-preset-fade","motion-duration-500"],[1,"flex","flex-col","items-center"],[1,"relative","w-32","h-32","mb-4"],["alt","Profile",1,"w-full","h-full","rounded-full","object-cover","bg-soft-white","ring-2","ring-apple-green",3,"src"],["class","absolute bottom-0 right-0 bg-apple-green p-2 rounded-full cursor-pointer hover:bg-deep-green transition-colors shadow-lg",4,"ngIf"],["class","text-xs mb-2 text-red-400/50",4,"ngIf"],[1,"w-full","max-w-md",3,"formGroup"],[1,"mb-4","text-center"],["class","text-2xl font-bold mb-2 text-soft-white",4,"ngIf"],["type","text","formControlName","userName","class","text-2xl font-bold text-center border-b-2 bg-transparent text-soft-white focus:outline-none focus:border-apple-green",4,"ngIf"],[1,"bg-apple-green","text-white","px-3","py-1","rounded-full","text-sm"],[1,"mt-2","font-secondary","text-gray-400"],[1,"text-sm"],["class","space-y-4 mt-6 px-4",4,"ngIf"],["class","mt-4 bg-apple-green text-black px-6 py-1 rounded-3xl font-bold text-xs hover:bg-deep-green transition-colors ",3,"click",4,"ngIf"],["class","flex gap-3 mt-6",4,"ngIf"],["class","mt-4 text-center",4,"ngIf"],[1,"w-full","mb-6","mt-20"],[1,"text-lg","font-semibold","mb-4","text-soft-white","font-secondary"],["class","flex justify-center items-center py-8",4,"ngIf"],["class","text-center py-8 ",4,"ngIf"],["class","grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4",4,"ngIf"],[1,"absolute","bottom-0","right-0","bg-apple-green","p-2","rounded-full","cursor-pointer","hover:bg-deep-green","transition-colors","shadow-lg"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"material-symbols-outlined","text-white"],[1,"text-xs","mb-2","text-red-400/50"],[1,"text-2xl","font-bold","mb-2","text-soft-white"],["type","text","formControlName","userName",1,"text-2xl","font-bold","text-center","border-b-2","bg-transparent","text-soft-white","focus:outline-none","focus:border-apple-green"],[1,"space-y-4","mt-6","px-4"],["for","bio",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","bio","formControlName","bio","rows","3",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","github",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","github","type","text","formControlName","github",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","linkedin",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","linkedin","type","text","formControlName","linkedin",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","twitter",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","twitter","type","text","formControlName","twitter",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],[1,"mt-4","bg-apple-green","text-black","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-deep-green","transition-colors",3,"click"],[1,"flex","gap-3","mt-6"],[1,"bg-gray-700","text-soft-white","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-gray-600","transition-colors",3,"click"],[1,"bg-apple-green","text-black","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-deep-green","transition-colors",3,"click"],[1,"mt-4","text-center"],[1,"text-apple-green","hover:text-deep-green","text-sm",3,"routerLink"],[1,"flex","justify-center","items-center","py-8"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-apple-green"],[1,"text-center","py-8"],[1,"text-gray-400"],[1,"inline-block","mt-4","px-6","py-2","bg-apple-green","text-black","rounded-lg","hover:bg-deep-green","transition-colors",3,"routerLink"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","gap-2","sm:gap-4"],["class","bg-gray-600/50 rounded-lg p-2 sm:p-4 hover:bg-gray-800 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-gray-600/50","rounded-lg","p-2","sm:p-4","hover:bg-gray-800","transition-colors"],[1,"block",3,"routerLink"],[1,"mb-2"],[1,"w-[50px]","h-[50px]","object-cover","rounded-lg",3,"src","alt"],[1,"text-xs","text-apple-green","mb-2"],[1,"flex","items-center","justify-between","text-xs","text-gray-400"],[1,"flex","items-center"],[1,"material-symbols-outlined","text-xs","mr-1"],[1,"flex","items-center","hover:text-apple-green","transition-colors",3,"click"],[1,"material-symbols-outlined","text-sm","mr-1"]],template:function(t,r){t&1&&(k(0,"app-notification",0),he("closed",function(){return r.showNotification=!1}),M(),k(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Ne(5,"img",5),ye(6,BIe,4,0,"label",6),M(),ye(7,VIe,3,0,"div",7),k(8,"form",8)(9,"div",9),ye(10,qIe,2,1,"h1",10)(11,jIe,1,0,"input",11),k(12,"span",12),U(13),M(),k(14,"div",13)(15,"span",14),U(16),M()()(),ye(17,HIe,17,0,"div",15),M(),ye(18,$Ie,2,0,"button",16)(19,zIe,5,0,"div",17)(20,GIe,3,2,"div",18),k(21,"div",19)(22,"h2",20),U(23,"Liens"),M(),ye(24,WIe,2,0,"div",21)(25,KIe,5,2,"div",22)(26,ZIe,3,4,"div",23),M()()()()),t&2&&(Z("show",r.showNotification)("type",r.notificationType)("message",r.notificationMessage),$(5),Z("src",r.imagePreview||r.getUserProfileImage(),Dn),$(),Z("ngIf",r.isEditing),$(),Z("ngIf",r.isEditing),$(),Z("formGroup",r.profileForm),$(2),Z("ngIf",!r.isEditing),$(),Z("ngIf",r.isEditing),$(2),St(r.user==null?null:r.user.role),$(3),ct(" ",r.user==null?null:r.user.bio," "),$(),Z("ngIf",r.isEditing),$(),Z("ngIf",r.canEdit&&!r.isEditing),$(),Z("ngIf",r.isEditing),$(),Z("ngIf",r.canEdit&&(r.currentUser==null?null:r.currentUser.role)==="admin"),$(4),Z("ngIf",r.isLoading),$(),Z("ngIf",!r.isLoading&&(!r.userSharedLinks||r.userSharedLinks.length===0)&&(!r.likedLinks||r.likedLinks.length===0)),$(),Z("ngIf",!r.isLoading&&(r.userSharedLinks&&r.userSharedLinks.length>0||r.likedLinks&&r.likedLinks.length>0)))},dependencies:[jt,ai,En,cl,bc,zo,us,Ho,$o,ls,Xs,Js,ir,Mr,_c],encapsulation:2})};var jW=[{path:"",redirectTo:"login-choice",pathMatch:"full"},{path:"login-choice",component:Gw,canActivate:[zw]},{path:"login",component:Ww,canActivate:[zw]},{path:"register",component:Kw,canActivate:[zw]},{path:"skills",component:Yw,canActivate:[Ba]},{path:"users",component:b0},{path:"user-profile/:id",component:b0,canActivate:[Ba]},{path:"admin/users",component:iS,canActivate:[Ba]},{path:"home",component:rS,canActivate:[Ba]},{path:"home/add",component:zh,canActivate:[Ba]},{path:"home/:id",component:v0,canActivate:[Ba]},{path:"link/:id",component:v0,canActivate:[Ba]},{path:"policy",component:sS,canActivate:[Ba]},{path:"**",redirectTo:"login-choice"}];var XIe={apiKey:"AIzaSyByaNQzJ1Gsy1W5LaCvuL8UdrctPTOxCls",authDomain:"thelastcoders-a40c9.firebaseapp.com",projectId:"thelastcoders-a40c9",storageBucket:"thelastcoders-a40c9.firebasestorage.app",messagingSenderId:"537287186785",appId:"1:537287186785:web:b4333145d3151c70b98d20",measurementId:"G-31X9TT8LCJ"},HW={providers:[kG(()=>K3()),CI(jW),zU(()=>GU(XIe)),DB(()=>N1()),FW(()=>IO())]};var $W=[{path:"home/:id",renderMode:dn.Client},{path:"user-profile/:id",renderMode:dn.Client},{path:"link/:id",renderMode:dn.Client},{path:"**",renderMode:dn.Prerender}];var JIe={providers:[YF(),mU($W)]},zW=zL(HW,JIe);var eDe=()=>Q2($w,zW),tDe=eDe;export{tDe as default,Due as \u0275destroyAngularServerApp,gU as \u0275extractRoutesAndCreateRouteTree,Iue as \u0275getOrCreateAngularServerApp,Jte as \u0275resetCompiledComponents};
