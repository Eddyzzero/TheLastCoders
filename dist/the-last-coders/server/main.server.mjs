import './polyfills.server.mjs';
import{a as K,b as me,c as Wt,d as ia,e as ee,f as h6,g as FS,h as O,i as US,j as ny,k as Vc,l as p6}from"./chunk-S6KH3LOX.mjs";var Lt=ee(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=Qi.DEFAULT_MAX_SEND_MESSAGE_LENGTH=Qi.Propagate=Qi.LogVerbosity=Qi.Status=void 0;var YB=function(n){return n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n}(YB||(Qi.Status=YB={})),JB=function(n){return n[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.ERROR=2]="ERROR",n[n.NONE=3]="NONE",n}(JB||(Qi.LogVerbosity=JB={})),ZB=function(n){return n[n.DEADLINE=1]="DEADLINE",n[n.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",n[n.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",n[n.CANCELLATION=8]="CANCELLATION",n[n.DEFAULTS=65535]="DEFAULTS",n}(ZB||(Qi.Propagate=ZB={}));Qi.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;Qi.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var kA=ee((FLe,Cfe)=>{Cfe.exports={name:"@grpc/grpc-js",version:"1.9.15",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.186","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/semver":"^7.3.9","@typescript-eslint/eslint-plugin":"^5.59.11","@typescript-eslint/parser":"^5.59.11","@typescript-eslint/typescript-estree":"^5.59.11","clang-format":"^1.0.55",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.3.5","ts-node":"^10.9.1",typescript:"^5.1.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.8","@types/node":">=12.12.47"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var Nn=ee(Wr=>{"use strict";var MA,OA,PA,LA;Object.defineProperty(Wr,"__esModule",{value:!0});Wr.isTracerEnabled=Wr.trace=Wr.log=Wr.setLoggerVerbosity=Wr.setLogger=Wr.getLogger=void 0;var Hu=Lt(),Ife=Wt("process"),Dfe=kA().version,xfe={error:(n,...e)=>{console.error("E "+n,...e)},info:(n,...e)=>{console.error("I "+n,...e)},debug:(n,...e)=>{console.error("D "+n,...e)}},zl=xfe,Ff=Hu.LogVerbosity.ERROR,Afe=(OA=(MA=process.env.GRPC_NODE_VERBOSITY)!==null&&MA!==void 0?MA:process.env.GRPC_VERBOSITY)!==null&&OA!==void 0?OA:"";switch(Afe.toUpperCase()){case"DEBUG":Ff=Hu.LogVerbosity.DEBUG;break;case"INFO":Ff=Hu.LogVerbosity.INFO;break;case"ERROR":Ff=Hu.LogVerbosity.ERROR;break;case"NONE":Ff=Hu.LogVerbosity.NONE;break;default:}var Nfe=()=>zl;Wr.getLogger=Nfe;var Rfe=n=>{zl=n};Wr.setLogger=Rfe;var kfe=n=>{Ff=n};Wr.setLoggerVerbosity=kfe;var Mfe=(n,...e)=>{let t;if(n>=Ff){switch(n){case Hu.LogVerbosity.DEBUG:t=zl.debug;break;case Hu.LogVerbosity.INFO:t=zl.info;break;case Hu.LogVerbosity.ERROR:t=zl.error;break}t||(t=zl.error),t&&t.bind(zl)(...e)}};Wr.log=Mfe;var Ofe=(LA=(PA=process.env.GRPC_NODE_TRACE)!==null&&PA!==void 0?PA:process.env.GRPC_TRACE)!==null&&LA!==void 0?LA:"",FA=new Set,XB=new Set;for(let n of Ofe.split(","))n.startsWith("-")?XB.add(n.substring(1)):FA.add(n);var Pfe=FA.has("all");function Lfe(n,e,t){eV(e)&&(0,Wr.log)(n,new Date().toISOString()+" | v"+Dfe+" "+Ife.pid+" | "+e+" | "+t)}Wr.trace=Lfe;function eV(n){return!XB.has(n)&&(Pfe||FA.has(n))}Wr.isTracerEnabled=eV});var H1=ee(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.getErrorCode=Uf.getErrorMessage=void 0;function Ffe(n){return n instanceof Error?n.message:String(n)}Uf.getErrorMessage=Ffe;function Ufe(n){return typeof n=="object"&&n!==null&&"code"in n&&typeof n.code=="number"?n.code:null}Uf.getErrorCode=Ufe});var fi=ee(z1=>{"use strict";Object.defineProperty(z1,"__esModule",{value:!0});z1.Metadata=void 0;var Bfe=Nn(),Vfe=Lt(),qfe=H1(),jfe=/^[0-9a-z_.-]+$/,Hfe=/^[ -~]*$/;function $fe(n){return jfe.test(n)}function zfe(n){return Hfe.test(n)}function nV(n){return n.endsWith("-bin")}function Gfe(n){return!n.startsWith("grpc-")}function $1(n){return n.toLowerCase()}function tV(n,e){if(!$fe(n))throw new Error('Metadata key "'+n+'" contains illegal characters');if(e!=null)if(nV(n)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!zfe(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var UA=class n{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){e=$1(e),tV(e,t),this.internalRepr.set(e,[t])}add(e,t){e=$1(e),tV(e,t);let r=this.internalRepr.get(e);r===void 0?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=$1(e),this.internalRepr.delete(e)}get(e){return e=$1(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,r]of this.internalRepr)if(r.length>0){let i=r[0];e[t]=Buffer.isBuffer(i)?Buffer.from(i):i}return e}clone(){let e=new n(this.options),t=e.internalRepr;for(let[r,i]of this.internalRepr){let s=i.map(o=>Buffer.isBuffer(o)?Buffer.from(o):o);t.set(r,s)}return e}merge(e){for(let[t,r]of e.internalRepr){let i=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,i)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,r]of this.internalRepr)e[t]=r.map(Wfe);return e}toJSON(){let e={};for(let[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){let t=new n;for(let r of Object.keys(e)){if(r.charAt(0)===":")continue;let i=e[r];try{nV(r)?Array.isArray(i)?i.forEach(s=>{t.add(r,Buffer.from(s,"base64"))}):i!==void 0&&(Gfe(r)?i.split(",").forEach(s=>{t.add(r,Buffer.from(s.trim(),"base64"))}):t.add(r,Buffer.from(i,"base64"))):Array.isArray(i)?i.forEach(s=>{t.add(r,s)}):i!==void 0&&t.add(r,i)}catch(s){let o=`Failed to add metadata entry ${r}: ${i}. ${(0,qfe.getErrorMessage)(s)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,Bfe.log)(Vfe.LogVerbosity.ERROR,o)}}return t}};z1.Metadata=UA;var Wfe=n=>Buffer.isBuffer(n)?n.toString("base64"):n});var HA=ee(G1=>{"use strict";Object.defineProperty(G1,"__esModule",{value:!0});G1.CallCredentials=void 0;var jA=fi();function Kfe(n){return"getRequestHeaders"in n&&typeof n.getRequestHeaders=="function"}var Bf=class n{static createFromMetadataGenerator(e){return new VA(e)}static createFromGoogleCredential(e){return n.createFromMetadataGenerator((t,r)=>{let i;Kfe(e)?i=e.getRequestHeaders(t.service_url):i=new Promise((s,o)=>{e.getRequestMetadata(t.service_url,(a,u)=>{if(a){o(a);return}if(!u){o(new Error("Headers not set by metadata plugin"));return}s(u)})}),i.then(s=>{let o=new jA.Metadata;for(let a of Object.keys(s))o.add(a,s[a]);r(null,o)},s=>{r(s)})})}static createEmpty(){return new qA}};G1.CallCredentials=Bf;var BA=class n extends Bf{constructor(e){super(),this.creds=e}generateMetadata(e){return O(this,null,function*(){let t=new jA.Metadata,r=yield Promise.all(this.creds.map(i=>i.generateMetadata(e)));for(let i of r)t.merge(i);return t})}compose(e){return new n(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof n?this.creds.every((t,r)=>t._equals(e.creds[r])):!1}},VA=class n extends Bf{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(i,s)=>{s!==void 0?t(s):r(i)})})}compose(e){return new BA([this,e])}_equals(e){return this===e?!0:e instanceof n?this.metadataGenerator===e.metadataGenerator:!1}},qA=class n extends Bf{generateMetadata(e){return Promise.resolve(new jA.Metadata)}compose(e){return e}_equals(e){return e instanceof n}}});var zA=ee(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.getDefaultRootsData=Vf.CIPHER_SUITES=void 0;var Qfe=Wt("fs");Vf.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var rV=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,$A=null;function Yfe(){return rV?($A===null&&($A=Qfe.readFileSync(rV)),$A):null}Vf.getDefaultRootsData=Yfe});var Q1=ee(K1=>{"use strict";Object.defineProperty(K1,"__esModule",{value:!0});K1.ChannelCredentials=void 0;var Jfe=Wt("tls"),Zfe=HA(),iV=zA();function GA(n,e){if(n&&!(n instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var qf=class{constructor(e){this.callCredentials=e||Zfe.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var s;if(GA(e,"Root certificate"),GA(t,"Private key"),GA(r,"Certificate chain"),t&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw new Error("Certificate chain must be given with accompanying private key");let o=(0,Jfe.createSecureContext)({ca:(s=e??(0,iV.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,key:t??void 0,cert:r??void 0,ciphers:iV.CIPHER_SUITES});return new W1(o,i??{})}static createFromSecureContext(e,t){return new W1(e,t??{})}static createInsecure(){return new WA}};K1.ChannelCredentials=qf;var WA=class n extends qf{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof n}},W1=class n extends qf{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},t?.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){let t=this.callCredentials.compose(e);return new KA(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof n?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}},KA=class n extends qf{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new n(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof n?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}}});var zu=ee(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.validateLoadBalancingConfig=Lr.getFirstUsableConfig=Lr.isLoadBalancerNameRegistered=Lr.createLoadBalancer=Lr.registerDefaultLoadBalancerType=Lr.registerLoadBalancerType=Lr.createChildChannelControlHelper=void 0;function Xfe(n,e){var t,r,i,s,o,a,u,c,l,d;return{createSubchannel:(r=(t=e.createSubchannel)===null||t===void 0?void 0:t.bind(e))!==null&&r!==void 0?r:n.createSubchannel.bind(n),updateState:(s=(i=e.updateState)===null||i===void 0?void 0:i.bind(e))!==null&&s!==void 0?s:n.updateState.bind(n),requestReresolution:(a=(o=e.requestReresolution)===null||o===void 0?void 0:o.bind(e))!==null&&a!==void 0?a:n.requestReresolution.bind(n),addChannelzChild:(c=(u=e.addChannelzChild)===null||u===void 0?void 0:u.bind(e))!==null&&c!==void 0?c:n.addChannelzChild.bind(n),removeChannelzChild:(d=(l=e.removeChannelzChild)===null||l===void 0?void 0:l.bind(e))!==null&&d!==void 0?d:n.removeChannelzChild.bind(n)}}Lr.createChildChannelControlHelper=Xfe;var $u={},QA=null;function ehe(n,e,t){$u[n]={LoadBalancer:e,LoadBalancingConfig:t}}Lr.registerLoadBalancerType=ehe;function the(n){QA=n}Lr.registerDefaultLoadBalancerType=the;function nhe(n,e){let t=n.getLoadBalancerName();return t in $u?new $u[t].LoadBalancer(e):null}Lr.createLoadBalancer=nhe;function rhe(n){return n in $u}Lr.isLoadBalancerNameRegistered=rhe;function ihe(n,e=!1){for(let t of n)if(t.getLoadBalancerName()in $u)return t;return e&&QA?new $u[QA].LoadBalancingConfig:null}Lr.getFirstUsableConfig=ihe;function she(n){if(!(n!==null&&typeof n=="object"))throw new Error("Load balancing config must be an object");let e=Object.keys(n);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let t=e[0];if(t in $u)return $u[t].LoadBalancingConfig.createFromJson(n[t]);throw new Error(`Unrecognized load balancing config name ${t}`)}Lr.validateLoadBalancingConfig=she});var YA=ee(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.extractAndSelectServiceConfig=Gu.validateServiceConfig=Gu.validateRetryThrottling=void 0;var ohe=Wt("os"),Y1=Lt(),ahe=zu(),J1=/^\d+(\.\d{1,9})?s$/,uhe="node";function che(n){if("service"in n&&n.service!==""){if(typeof n.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof n.service}`);if("method"in n&&n.method!==""){if(typeof n.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof n.service}`);return{service:n.service,method:n.method}}else return{service:n.service}}else{if("method"in n&&n.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function lhe(n){if(!("maxAttempts"in n)||!Number.isInteger(n.maxAttempts)||n.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in n)||typeof n.initialBackoff!="string"||!J1.test(n.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in n)||typeof n.maxBackoff!="string"||!J1.test(n.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in n)||typeof n.backoffMultiplier!="number"||n.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in n&&Array.isArray(n.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(n.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of n.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(Y1.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(Y1.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:n.maxAttempts,initialBackoff:n.initialBackoff,maxBackoff:n.maxBackoff,backoffMultiplier:n.backoffMultiplier,retryableStatusCodes:n.retryableStatusCodes}}function dhe(n){if(!("maxAttempts"in n)||!Number.isInteger(n.maxAttempts)||n.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in n&&(typeof n.hedgingDelay!="string"||!J1.test(n.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in n&&Array.isArray(n.nonFatalStatusCodes))for(let t of n.nonFatalStatusCodes)if(typeof t=="number"){if(!Object.values(Y1.Status).includes(t))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof t=="string"){if(!Object.values(Y1.Status).includes(t.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:n.maxAttempts};return n.hedgingDelay&&(e.hedgingDelay=n.hedgingDelay),n.nonFatalStatusCodes&&(e.nonFatalStatusCodes=n.nonFatalStatusCodes),e}function fhe(n){var e;let t={name:[]};if(!("name"in n)||!Array.isArray(n.name))throw new Error("Invalid method config: invalid name array");for(let r of n.name)t.name.push(che(r));if("waitForReady"in n){if(typeof n.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=n.waitForReady}if("timeout"in n)if(typeof n.timeout=="object"){if(!("seconds"in n.timeout)||typeof n.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in n.timeout)||typeof n.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");t.timeout=n.timeout}else if(typeof n.timeout=="string"&&J1.test(n.timeout)){let r=n.timeout.substring(0,n.timeout.length-1).split(".");t.timeout={seconds:r[0]|0,nanos:((e=r[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in n){if(typeof n.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=n.maxRequestBytes}if("maxResponseBytes"in n){if(typeof n.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=n.maxResponseBytes}if("retryPolicy"in n){if("hedgingPolicy"in n)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");t.retryPolicy=lhe(n.retryPolicy)}else"hedgingPolicy"in n&&(t.hedgingPolicy=dhe(n.hedgingPolicy));return t}function sV(n){if(!("maxTokens"in n)||typeof n.maxTokens!="number"||n.maxTokens<=0||n.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in n)||typeof n.tokenRatio!="number"||n.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+n.maxTokens.toFixed(3),tokenRatio:+n.tokenRatio.toFixed(3)}}Gu.validateRetryThrottling=sV;function oV(n){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in n)if(typeof n.loadBalancingPolicy=="string")e.loadBalancingPolicy=n.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in n)if(Array.isArray(n.loadBalancingConfig))for(let r of n.loadBalancingConfig)e.loadBalancingConfig.push((0,ahe.validateLoadBalancingConfig)(r));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in n&&Array.isArray(n.methodConfig))for(let r of n.methodConfig)e.methodConfig.push(fhe(r));"retryThrottling"in n&&(e.retryThrottling=sV(n.retryThrottling));let t=[];for(let r of e.methodConfig)for(let i of r.name){for(let s of t)if(i.service===s.service&&i.method===s.method)throw new Error(`Invalid service config: duplicate name ${i.service}/${i.method}`);t.push(i)}return e}Gu.validateServiceConfig=oV;function hhe(n){if(!("serviceConfig"in n))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:oV(n.serviceConfig)};if("clientLanguage"in n)if(Array.isArray(n.clientLanguage)){e.clientLanguage=[];for(let r of n.clientLanguage)if(typeof r=="string")e.clientLanguage.push(r);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in n)if(Array.isArray(n.clientHostname)){e.clientHostname=[];for(let r of n.clientHostname)if(typeof r=="string")e.clientHostname.push(r);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in n)if(typeof n.percentage=="number"&&0<=n.percentage&&n.percentage<=100)e.percentage=n.percentage;else throw new Error("Invalid service config choice: invalid percentage");let t=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let r in n)if(!t.includes(r))throw new Error(`Invalid service config choice: unexpected field ${r}`);return e}function phe(n,e){if(!Array.isArray(n))throw new Error("Invalid service config list");for(let t of n){let r=hhe(t);if(!(typeof r.percentage=="number"&&e>r.percentage)){if(Array.isArray(r.clientHostname)){let i=!1;for(let s of r.clientHostname)s===ohe.hostname()&&(i=!0);if(!i)continue}if(Array.isArray(r.clientLanguage)){let i=!1;for(let s of r.clientLanguage)s===uhe&&(i=!0);if(!i)continue}return r.serviceConfig}}throw new Error("No matching service config found")}function mhe(n,e){for(let t of n)if(t.length>0&&t[0].startsWith("grpc_config=")){let r=t.join("").substring(12),i=JSON.parse(r);return phe(i,e)}return null}Gu.extractAndSelectServiceConfig=mhe});var Yi=ee(Z1=>{"use strict";Object.defineProperty(Z1,"__esModule",{value:!0});Z1.ConnectivityState=void 0;var aV=function(n){return n[n.IDLE=0]="IDLE",n[n.CONNECTING=1]="CONNECTING",n[n.READY=2]="READY",n[n.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",n[n.SHUTDOWN=4]="SHUTDOWN",n}(aV||(Z1.ConnectivityState=aV={}))});var xi=ee(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.uriToString=Wu.splitHostPort=Wu.parseUri=void 0;var ghe=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function yhe(n){let e=ghe.exec(n);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}Wu.parseUri=yhe;var uV=/^\d+$/;function vhe(n){if(n.startsWith("[")){let e=n.indexOf("]");if(e===-1)return null;let t=n.substring(1,e);if(t.indexOf(":")===-1)return null;if(n.length>e+1)if(n[e+1]===":"){let r=n.substring(e+2);return uV.test(r)?{host:t,port:+r}:null}else return null;else return{host:t}}else{let e=n.split(":");return e.length===2?uV.test(e[1])?{host:e[0],port:+e[1]}:null:{host:n}}}Wu.splitHostPort=vhe;function bhe(n){let e="";return n.scheme!==void 0&&(e+=n.scheme+":"),n.authority!==void 0&&(e+="//"+n.authority+"/"),e+=n.path,e}Wu.uriToString=bhe});var Co=ee(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.mapUriDefaultScheme=Ji.getDefaultAuthority=Ji.createResolver=Ji.registerDefaultScheme=Ji.registerResolver=void 0;var ZA=xi(),jf={},JA=null;function _he(n,e){jf[n]=e}Ji.registerResolver=_he;function Ehe(n){JA=n}Ji.registerDefaultScheme=Ehe;function whe(n,e,t){if(n.scheme!==void 0&&n.scheme in jf)return new jf[n.scheme](n,e,t);throw new Error(`No resolver could be created for target ${(0,ZA.uriToString)(n)}`)}Ji.createResolver=whe;function She(n){if(n.scheme!==void 0&&n.scheme in jf)return jf[n.scheme].getDefaultAuthority(n);throw new Error(`Invalid target ${(0,ZA.uriToString)(n)}`)}Ji.getDefaultAuthority=She;function The(n){return n.scheme===void 0||!(n.scheme in jf)?JA!==null?{scheme:JA,authority:void 0,path:(0,ZA.uriToString)(n)}:null:n}Ji.mapUriDefaultScheme=The});var Qu=ee(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.QueuePicker=Ku.UnavailablePicker=Ku.PickResultType=void 0;var Che=fi(),Ihe=Lt(),X1=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.QUEUE=1]="QUEUE",n[n.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",n[n.DROP=3]="DROP",n}(X1||(Ku.PickResultType=X1={})),XA=class{constructor(e){this.status=Object.assign({code:Ihe.Status.UNAVAILABLE,details:"No connection established",metadata:new Che.Metadata},e)}pick(e){return{pickResultType:X1.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};Ku.UnavailablePicker=XA;var eN=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:X1.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};Ku.QueuePicker=eN});var og=ee(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.BackoffTimeout=void 0;var Dhe=1e3,xhe=1.6,Ahe=12e4,Nhe=.2;function Rhe(n,e){return Math.random()*(e-n)+n}var tN=class{constructor(e,t){this.callback=e,this.initialDelay=Dhe,this.multiplier=xhe,this.maxDelay=Ahe,this.jitter=Nhe,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||(r=(t=this.timerId).unref)===null||r===void 0||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+Rhe(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,(t=(e=this.timerId).ref)===null||t===void 0||t.call(e)}unref(){var e,t;this.hasRef=!1,(t=(e=this.timerId).unref)===null||t===void 0||t.call(e)}getEndTime(){return this.endTime}};e_.BackoffTimeout=tN});var n_=ee(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.ChildLoadBalancerHandler=void 0;var khe=zu(),Mhe=Yi(),Ohe="child_load_balancer_helper",nN=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(t){this.parent=t,this.child=null}createSubchannel(t,r){return this.parent.channelControlHelper.createSubchannel(t,r)}updateState(t,r){var i;if(this.calledByPendingChild()){if(t===Mhe.ConnectivityState.CONNECTING)return;(i=this.parent.currentChild)===null||i===void 0||i.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(t,r)}requestReresolution(){var t;let r=(t=this.parent.pendingChild)!==null&&t!==void 0?t:this.parent.currentChild;this.child===r&&this.parent.channelControlHelper.requestReresolution()}setChild(t){this.child=t}addChannelzChild(t){this.parent.channelControlHelper.addChannelzChild(t)}removeChannelzChild(t){this.parent.channelControlHelper.removeChannelzChild(t)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let i;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let s=new this.ChildPolicyHelper(this),o=(0,khe.createLoadBalancer)(t,s);s.setChild(o),this.currentChild===null?(this.currentChild=o,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=o,i=this.pendingChild)}else this.pendingChild===null?i=this.currentChild:i=this.pendingChild;this.latestConfig=t,i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return Ohe}};t_.ChildLoadBalancerHandler=nN});var lV=ee(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});r_.ResolvingLoadBalancer=void 0;var Phe=zu(),Lhe=YA(),hi=Yi(),Fhe=Co(),Hf=Qu(),Uhe=og(),rN=Lt(),Bhe=fi(),Vhe=Nn(),qhe=Lt(),jhe=xi(),Hhe=n_(),$he="resolving_load_balancer";function cV(n){Vhe.trace(qhe.LogVerbosity.DEBUG,$he,n)}var zhe=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function Ghe(n,e,t,r){for(let i of t.name)switch(r){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===n&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===n&&i.method===e)return!0}return!1}function Whe(n,e,t,r){for(let i of t)if(Ghe(n,e,i,r))return i;return null}function Khe(n){return function(t,r){var i,s;let o=t.split("/").filter(c=>c.length>0),a=(i=o[0])!==null&&i!==void 0?i:"",u=(s=o[1])!==null&&s!==void 0?s:"";if(n&&n.methodConfig)for(let c of zhe){let l=Whe(a,u,n.methodConfig,c);if(l)return{methodConfig:l,pickInformation:{},status:rN.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:rN.Status.OK,dynamicFilterFactories:[]}}}var iN=class{constructor(e,t,r,i,s){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=i,this.onFailedResolution=s,this.latestChildState=hi.ConnectivityState.IDLE,this.latestChildPicker=new Hf.QueuePicker(this),this.currentState=hi.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,Lhe.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(hi.ConnectivityState.IDLE,new Hf.QueuePicker(this)),this.childLoadBalancer=new Hhe.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(cV("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(a,u)=>{this.latestChildState=a,this.latestChildPicker=u,this.updateState(a,u)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,Fhe.createResolver)(e,{onSuccessfulResolution:(a,u,c,l,d)=>{var f;this.backoffTimeout.stop(),this.backoffTimeout.reset();let h=null;u===null?c===null?(this.previousServiceConfig=null,h=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(c):h=this.previousServiceConfig:(h=u,this.previousServiceConfig=u);let g=(f=h?.loadBalancingConfig)!==null&&f!==void 0?f:[],y=(0,Phe.getFirstUsableConfig)(g,!0);if(y===null){this.handleResolutionFailure({code:rN.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new Bhe.Metadata});return}this.childLoadBalancer.updateAddressList(a,y,d);let S=h??this.defaultServiceConfig;this.onSuccessfulResolution(S,l??Khe(S))},onError:a=>{this.handleResolutionFailure(a)}},r);let o={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Uhe.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},o),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===hi.ConnectivityState.IDLE&&this.updateState(hi.ConnectivityState.CONNECTING,new Hf.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,t){cV((0,jhe.uriToString)(this.target)+" "+hi.ConnectivityState[this.currentState]+" -> "+hi.ConnectivityState[e]),e===hi.ConnectivityState.IDLE&&(t=new Hf.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===hi.ConnectivityState.IDLE&&(this.updateState(hi.ConnectivityState.TRANSIENT_FAILURE,new Hf.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===hi.ConnectivityState.IDLE||this.currentState===hi.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=hi.ConnectivityState.IDLE,this.latestChildPicker=new Hf.QueuePicker(this),this.currentState=hi.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};r_.ResolvingLoadBalancer=iN});var dV=ee($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.channelOptionsEqual=$f.recognizedOptions=void 0;$f.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0};function Qhe(n,e){let t=Object.keys(n).sort(),r=Object.keys(e).sort();if(t.length!==r.length)return!1;for(let i=0;i<t.length;i+=1)if(t[i]!==r[i]||n[t[i]]!==e[r[i]])return!1;return!0}$f.channelOptionsEqual=Qhe});var Do=ee(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.stringToSubchannelAddress=Io.subchannelAddressToString=Io.subchannelAddressEqual=Io.isTcpSubchannelAddress=void 0;var Yhe=Wt("net");function ag(n){return"port"in n}Io.isTcpSubchannelAddress=ag;function Jhe(n,e){return!n&&!e?!0:!n||!e?!1:ag(n)?ag(e)&&n.host===e.host&&n.port===e.port:!ag(e)&&n.path===e.path}Io.subchannelAddressEqual=Jhe;function Zhe(n){return ag(n)?n.host+":"+n.port:n.path}Io.subchannelAddressToString=Zhe;var Xhe=443;function epe(n,e){return(0,Yhe.isIP)(n)?{host:n,port:e??Xhe}:{path:n}}Io.stringToSubchannelAddress=epe});var i_=ee(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.addAdminServicesToServer=zf.registerAdminService=void 0;var fV=[];function tpe(n,e){fV.push({getServiceDefinition:n,getHandlers:e})}zf.registerAdminService=tpe;function npe(n){for(let{getServiceDefinition:e,getHandlers:t}of fV)n.addService(e(),t())}zf.addAdminServicesToServer=npe});var hV=ee(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ClientDuplexStreamImpl=Zi.ClientWritableStreamImpl=Zi.ClientReadableStreamImpl=Zi.ClientUnaryCallImpl=Zi.callErrorFromStatus=void 0;var rpe=Wt("events"),cN=Wt("stream"),ug=Lt();function ipe(n,e){let t=`${n.code} ${ug.Status[n.code]}: ${n.details}`,i=`${new Error(t).stack}
for call at
${e}`;return Object.assign(new Error(t),n,{stack:i})}Zi.callErrorFromStatus=ipe;var sN=class extends rpe.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(ug.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}};Zi.ClientUnaryCallImpl=sN;var oN=class extends cN.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(ug.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}};Zi.ClientReadableStreamImpl=oN;var aN=class extends cN.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(ug.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_write(e,t,r){var i;let s={callback:r},o=Number(t);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};Zi.ClientWritableStreamImpl=aN;var uN=class extends cN.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(ug.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}_write(e,t,r){var i;let s={callback:r},o=Number(t);Number.isNaN(o)||(s.flags=o),(i=this.call)===null||i===void 0||i.sendMessageWithContext(s,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};Zi.ClientDuplexStreamImpl=uN});var pV=ee(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.InterceptingListenerImpl=Gf.isInterceptingListener=void 0;function spe(n){return n.onReceiveMetadata!==void 0&&n.onReceiveMetadata.length===1}Gf.isInterceptingListener=spe;var lN=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextListener.onReceiveStatus(t)})}};Gf.InterceptingListenerImpl=lN});var yN=ee(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.getInterceptingCall=Xi.InterceptingCall=Xi.RequesterBuilder=Xi.ListenerBuilder=Xi.InterceptorConfigurationError=void 0;var ope=fi(),mV=pV(),gV=Lt(),yV=H1(),lg=class n extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,n)}};Xi.InterceptorConfigurationError=lg;var fN=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};Xi.ListenerBuilder=fN;var hN=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};Xi.RequesterBuilder=hN;var dN={onReceiveMetadata:(n,e)=>{e(n)},onReceiveMessage:(n,e)=>{e(n)},onReceiveStatus:(n,e)=>{e(n)}},cg={start:(n,e,t)=>{t(n,e)},sendMessage:(n,e)=>{e(n)},halfClose:n=>{n()},cancel:n=>{n()}},pN=class{constructor(e,t){var r,i,s,o;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:(r=t.start)!==null&&r!==void 0?r:cg.start,sendMessage:(i=t.sendMessage)!==null&&i!==void 0?i:cg.sendMessage,halfClose:(s=t.halfClose)!==null&&s!==void 0?s:cg.halfClose,cancel:(o=t.cancel)!==null&&o!==void 0?o:cg.cancel}:this.requester=cg}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,i,s,o,a,u;let c={onReceiveMetadata:(i=(r=t?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(t))!==null&&i!==void 0?i:l=>{},onReceiveMessage:(o=(s=t?.onReceiveMessage)===null||s===void 0?void 0:s.bind(t))!==null&&o!==void 0?o:l=>{},onReceiveStatus:(u=(a=t?.onReceiveStatus)===null||a===void 0?void 0:a.bind(t))!==null&&u!==void 0?u:l=>{}};this.processingMetadata=!0,this.requester.start(e,c,(l,d)=>{var f,h,g;this.processingMetadata=!1;let y;if((0,mV.isInterceptingListener)(d))y=d;else{let S={onReceiveMetadata:(f=d.onReceiveMetadata)!==null&&f!==void 0?f:dN.onReceiveMetadata,onReceiveMessage:(h=d.onReceiveMessage)!==null&&h!==void 0?h:dN.onReceiveMessage,onReceiveStatus:(g=d.onReceiveStatus)!==null&&g!==void 0?g:dN.onReceiveStatus};y=new mV.InterceptingListenerImpl(S,c)}this.nextCall.start(l,y),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};Xi.InterceptingCall=pN;function ape(n,e,t){var r,i;let s=(r=t.deadline)!==null&&r!==void 0?r:1/0,o=t.host,a=(i=t.parent)!==null&&i!==void 0?i:null,u=t.propagate_flags,c=t.credentials,l=n.createCall(e,s,o,a,u);return c&&l.setCredentials(c),l}var s_=class{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(i){this.call.cancelWithStatus(gV.Status.INTERNAL,`Request message serialization failure: ${(0,yV.getErrorMessage)(i)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:i=>{var s;(s=t?.onReceiveMetadata)===null||s===void 0||s.call(t,i)},onReceiveMessage:i=>{var s;let o;try{o=this.methodDefinition.responseDeserialize(i)}catch(a){r={code:gV.Status.INTERNAL,details:`Response message parsing error: ${(0,yV.getErrorMessage)(a)}`,metadata:new ope.Metadata},this.call.cancelWithStatus(r.code,r.details);return}(s=t?.onReceiveMessage)===null||s===void 0||s.call(t,o)},onReceiveStatus:i=>{var s,o;r?(s=t?.onReceiveStatus)===null||s===void 0||s.call(t,r):(o=t?.onReceiveStatus)===null||o===void 0||o.call(t,i)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},mN=class extends s_{constructor(e,t){super(e,t)}start(e,t){var r,i;let s=!1,o={onReceiveMetadata:(i=(r=t?.onReceiveMetadata)===null||r===void 0?void 0:r.bind(t))!==null&&i!==void 0?i:a=>{},onReceiveMessage:a=>{var u;s=!0,(u=t?.onReceiveMessage)===null||u===void 0||u.call(t,a)},onReceiveStatus:a=>{var u,c;s||(u=t?.onReceiveMessage)===null||u===void 0||u.call(t,null),(c=t?.onReceiveStatus)===null||c===void 0||c.call(t,a)}};super.start(e,o),this.call.startRead()}},gN=class extends s_{};function upe(n,e,t){let r=ape(n,t.path,e);return t.responseStream?new gN(r,t):new mN(r,t)}function cpe(n,e,t,r){if(n.clientInterceptors.length>0&&n.clientInterceptorProviders.length>0)throw new lg("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(n.callInterceptors.length>0&&n.callInterceptorProviders.length>0)throw new lg("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];n.callInterceptors.length>0||n.callInterceptorProviders.length>0?i=[].concat(n.callInterceptors,n.callInterceptorProviders.map(a=>a(e))).filter(a=>a):i=[].concat(n.clientInterceptors,n.clientInterceptorProviders.map(a=>a(e))).filter(a=>a);let s=Object.assign({},t,{method_definition:e});return i.reduceRight((a,u)=>c=>u(c,a),a=>upe(r,a,e))(s)}Xi.getInterceptingCall=cpe});var _N=ee(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.Client=void 0;var xo=hV(),lpe=EN(),dpe=Yi(),Yu=Lt(),Wf=fi(),o_=yN(),Vs=Symbol(),Kf=Symbol(),Qf=Symbol(),Aa=Symbol();function vN(n){return typeof n=="function"}function Yf(n){return n.stack.split(`
`).slice(1).join(`
`)}var bN=class{constructor(e,t,r={}){var i,s;if(r=Object.assign({},r),this[Kf]=(i=r.interceptors)!==null&&i!==void 0?i:[],delete r.interceptors,this[Qf]=(s=r.interceptor_providers)!==null&&s!==void 0?s:[],delete r.interceptor_providers,this[Kf].length>0&&this[Qf].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[Aa]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[Vs]=r.channelOverride;else if(r.channelFactoryOverride){let o=r.channelFactoryOverride;delete r.channelFactoryOverride,this[Vs]=o(e,t,r)}else this[Vs]=new lpe.ChannelImplementation(e,t,r)}close(){this[Vs].close()}getChannel(){return this[Vs]}waitForReady(e,t){let r=i=>{if(i){t(new Error("Failed to connect before the deadline"));return}let s;try{s=this[Vs].getConnectivityState(!0)}catch{t(new Error("The channel has been closed"));return}if(s===dpe.ConnectivityState.READY)t();else try{this[Vs].watchConnectivityState(s,e,r)}catch{t(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(vN(e))return{metadata:new Wf.Metadata,options:{},callback:e};if(vN(t))return e instanceof Wf.Metadata?{metadata:e,options:{},callback:t}:{metadata:new Wf.Metadata,options:e,callback:t};if(!(e instanceof Wf.Metadata&&t instanceof Object&&vN(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,s,o,a){var u,c;let l=this.checkOptionalUnaryResponseArguments(s,o,a),d={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r},f={argument:i,metadata:l.metadata,call:new xo.ClientUnaryCallImpl,channel:this[Vs],methodDefinition:d,callOptions:l.options,callback:l.callback};this[Aa]&&(f=this[Aa](f));let h=f.call,g={clientInterceptors:this[Kf],clientInterceptorProviders:this[Qf],callInterceptors:(u=f.callOptions.interceptors)!==null&&u!==void 0?u:[],callInterceptorProviders:(c=f.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},y=(0,o_.getInterceptingCall)(g,f.methodDefinition,f.callOptions,f.channel);h.call=y;let S=null,_=!1,C=new Error;return y.start(f.metadata,{onReceiveMetadata:I=>{h.emit("metadata",I)},onReceiveMessage(I){S!==null&&y.cancelWithStatus(Yu.Status.INTERNAL,"Too many responses received"),S=I},onReceiveStatus(I){if(!_){if(_=!0,I.code===Yu.Status.OK)if(S===null){let T=Yf(C);f.callback((0,xo.callErrorFromStatus)({code:Yu.Status.INTERNAL,details:"No message received",metadata:I.metadata},T))}else f.callback(null,S);else{let T=Yf(C);f.callback((0,xo.callErrorFromStatus)(I,T))}C=null,h.emit("status",I)}}}),y.sendMessage(i),y.halfClose(),h}makeClientStreamRequest(e,t,r,i,s,o){var a,u;let c=this.checkOptionalUnaryResponseArguments(i,s,o),l={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r},d={metadata:c.metadata,call:new xo.ClientWritableStreamImpl(t),channel:this[Vs],methodDefinition:l,callOptions:c.options,callback:c.callback};this[Aa]&&(d=this[Aa](d));let f=d.call,h={clientInterceptors:this[Kf],clientInterceptorProviders:this[Qf],callInterceptors:(a=d.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(u=d.callOptions.interceptor_providers)!==null&&u!==void 0?u:[]},g=(0,o_.getInterceptingCall)(h,d.methodDefinition,d.callOptions,d.channel);f.call=g;let y=null,S=!1,_=new Error;return g.start(d.metadata,{onReceiveMetadata:C=>{f.emit("metadata",C)},onReceiveMessage(C){y!==null&&g.cancelWithStatus(Yu.Status.INTERNAL,"Too many responses received"),y=C},onReceiveStatus(C){if(!S){if(S=!0,C.code===Yu.Status.OK)if(y===null){let I=Yf(_);d.callback((0,xo.callErrorFromStatus)({code:Yu.Status.INTERNAL,details:"No message received",metadata:C.metadata},I))}else d.callback(null,y);else{let I=Yf(_);d.callback((0,xo.callErrorFromStatus)(C,I))}_=null,f.emit("status",C)}}}),f}checkMetadataAndOptions(e,t){let r,i;return e instanceof Wf.Metadata?(r=e,t?i=t:i={}):(e?i=e:i={},r=new Wf.Metadata),{metadata:r,options:i}}makeServerStreamRequest(e,t,r,i,s,o){var a,u;let c=this.checkMetadataAndOptions(s,o),l={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r},d={argument:i,metadata:c.metadata,call:new xo.ClientReadableStreamImpl(r),channel:this[Vs],methodDefinition:l,callOptions:c.options};this[Aa]&&(d=this[Aa](d));let f=d.call,h={clientInterceptors:this[Kf],clientInterceptorProviders:this[Qf],callInterceptors:(a=d.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(u=d.callOptions.interceptor_providers)!==null&&u!==void 0?u:[]},g=(0,o_.getInterceptingCall)(h,d.methodDefinition,d.callOptions,d.channel);f.call=g;let y=!1,S=new Error;return g.start(d.metadata,{onReceiveMetadata(_){f.emit("metadata",_)},onReceiveMessage(_){f.push(_)},onReceiveStatus(_){if(!y){if(y=!0,f.push(null),_.code!==Yu.Status.OK){let C=Yf(S);f.emit("error",(0,xo.callErrorFromStatus)(_,C))}S=null,f.emit("status",_)}}}),g.sendMessage(i),g.halfClose(),f}makeBidiStreamRequest(e,t,r,i,s){var o,a;let u=this.checkMetadataAndOptions(i,s),c={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r},l={metadata:u.metadata,call:new xo.ClientDuplexStreamImpl(t,r),channel:this[Vs],methodDefinition:c,callOptions:u.options};this[Aa]&&(l=this[Aa](l));let d=l.call,f={clientInterceptors:this[Kf],clientInterceptorProviders:this[Qf],callInterceptors:(o=l.callOptions.interceptors)!==null&&o!==void 0?o:[],callInterceptorProviders:(a=l.callOptions.interceptor_providers)!==null&&a!==void 0?a:[]},h=(0,o_.getInterceptingCall)(f,l.methodDefinition,l.callOptions,l.channel);d.call=h;let g=!1,y=new Error;return h.start(l.metadata,{onReceiveMetadata(S){d.emit("metadata",S)},onReceiveMessage(S){d.push(S)},onReceiveStatus(S){if(!g){if(g=!0,d.push(null),S.code!==Yu.Status.OK){let _=Yf(y);d.emit("error",(0,xo.callErrorFromStatus)(S,_))}y=null,d.emit("status",S)}}}),d}};a_.Client=bN});var SN=ee(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.loadPackageDefinition=Jf.makeClientConstructor=void 0;var dg=_N(),fpe={unary:dg.Client.prototype.makeUnaryRequest,server_stream:dg.Client.prototype.makeServerStreamRequest,client_stream:dg.Client.prototype.makeClientStreamRequest,bidi:dg.Client.prototype.makeBidiStreamRequest};function wN(n){return["__proto__","prototype","constructor"].includes(n)}function vV(n,e,t){t||(t={});class r extends dg.Client{}return Object.keys(n).forEach(i=>{if(wN(i))return;let s=n[i],o;if(typeof i=="string"&&i.charAt(0)==="$")throw new Error("Method names cannot start with $");s.requestStream?s.responseStream?o="bidi":o="client_stream":s.responseStream?o="server_stream":o="unary";let a=s.requestSerialize,u=s.responseDeserialize,c=hpe(fpe[o],s.path,a,u);r.prototype[i]=c,Object.assign(r.prototype[i],s),s.originalName&&!wN(s.originalName)&&(r.prototype[s.originalName]=r.prototype[i])}),r.service=n,r.serviceName=e,r}Jf.makeClientConstructor=vV;function hpe(n,e,t,r){return function(...i){return n.call(this,e,t,r,...i)}}function ppe(n){return"format"in n}function mpe(n){let e={};for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)){let r=n[t],i=t.split(".");if(i.some(a=>wN(a)))continue;let s=i[i.length-1],o=e;for(let a of i.slice(0,-1))o[a]||(o[a]={}),o=o[a];ppe(r)?o[s]=r:o[s]=vV(r,s,{})}return e}Jf.loadPackageDefinition=mpe});var HV=ee((c5e,jV)=>{"use strict";var gpe=1/0,ype="[object Symbol]",vpe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bpe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,c_="\\ud800-\\udfff",IV="\\u0300-\\u036f\\ufe20-\\ufe23",DV="\\u20d0-\\u20f0",xV="\\u2700-\\u27bf",AV="a-z\\xdf-\\xf6\\xf8-\\xff",_pe="\\xac\\xb1\\xd7\\xf7",Epe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wpe="\\u2000-\\u206f",Spe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",NV="A-Z\\xc0-\\xd6\\xd8-\\xde",RV="\\ufe0e\\ufe0f",kV=_pe+Epe+wpe+Spe,CN="['\u2019]",Tpe="["+c_+"]",bV="["+kV+"]",u_="["+IV+DV+"]",MV="\\d+",Cpe="["+xV+"]",OV="["+AV+"]",PV="[^"+c_+kV+MV+xV+AV+NV+"]",TN="\\ud83c[\\udffb-\\udfff]",Ipe="(?:"+u_+"|"+TN+")",LV="[^"+c_+"]",IN="(?:\\ud83c[\\udde6-\\uddff]){2}",DN="[\\ud800-\\udbff][\\udc00-\\udfff]",Zf="["+NV+"]",FV="\\u200d",_V="(?:"+OV+"|"+PV+")",Dpe="(?:"+Zf+"|"+PV+")",EV="(?:"+CN+"(?:d|ll|m|re|s|t|ve))?",wV="(?:"+CN+"(?:D|LL|M|RE|S|T|VE))?",UV=Ipe+"?",BV="["+RV+"]?",xpe="(?:"+FV+"(?:"+[LV,IN,DN].join("|")+")"+BV+UV+")*",VV=BV+UV+xpe,Ape="(?:"+[Cpe,IN,DN].join("|")+")"+VV,Npe="(?:"+[LV+u_+"?",u_,IN,DN,Tpe].join("|")+")",Rpe=RegExp(CN,"g"),kpe=RegExp(u_,"g"),Mpe=RegExp(TN+"(?="+TN+")|"+Npe+VV,"g"),Ope=RegExp([Zf+"?"+OV+"+"+EV+"(?="+[bV,Zf,"$"].join("|")+")",Dpe+"+"+wV+"(?="+[bV,Zf+_V,"$"].join("|")+")",Zf+"?"+_V+"+"+EV,Zf+"+"+wV,MV,Ape].join("|"),"g"),Ppe=RegExp("["+FV+c_+IV+DV+RV+"]"),Lpe=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fpe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},Upe=typeof global=="object"&&global&&global.Object===Object&&global,Bpe=typeof self=="object"&&self&&self.Object===Object&&self,Vpe=Upe||Bpe||Function("return this")();function qpe(n,e,t,r){var i=-1,s=n?n.length:0;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}function jpe(n){return n.split("")}function Hpe(n){return n.match(vpe)||[]}function $pe(n){return function(e){return n?.[e]}}var zpe=$pe(Fpe);function qV(n){return Ppe.test(n)}function Gpe(n){return Lpe.test(n)}function Wpe(n){return qV(n)?Kpe(n):jpe(n)}function Kpe(n){return n.match(Mpe)||[]}function Qpe(n){return n.match(Ope)||[]}var Ype=Object.prototype,Jpe=Ype.toString,SV=Vpe.Symbol,TV=SV?SV.prototype:void 0,CV=TV?TV.toString:void 0;function Zpe(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}function Xpe(n){if(typeof n=="string")return n;if(ime(n))return CV?CV.call(n):"";var e=n+"";return e=="0"&&1/n==-gpe?"-0":e}function eme(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:Zpe(n,e,t)}function tme(n){return function(e){e=l_(e);var t=qV(e)?Wpe(e):void 0,r=t?t[0]:e.charAt(0),i=t?eme(t,1).join(""):e.slice(1);return r[n]()+i}}function nme(n){return function(e){return qpe(cme(ame(e).replace(Rpe,"")),n,"")}}function rme(n){return!!n&&typeof n=="object"}function ime(n){return typeof n=="symbol"||rme(n)&&Jpe.call(n)==ype}function l_(n){return n==null?"":Xpe(n)}var sme=nme(function(n,e,t){return e=e.toLowerCase(),n+(t?ome(e):e)});function ome(n){return ume(l_(n).toLowerCase())}function ame(n){return n=l_(n),n&&n.replace(bpe,zpe).replace(kpe,"")}var ume=tme("toUpperCase");function cme(n,e,t){return n=l_(n),e=t?void 0:e,e===void 0?Gpe(n)?Qpe(n):Hpe(n):n.match(e)||[]}jV.exports=sme});var xN=ee((l5e,$V)=>{"use strict";$V.exports=lme;function lme(n,e){for(var t=new Array(arguments.length-1),r=0,i=2,s=!0;i<arguments.length;)t[r++]=arguments[i++];return new Promise(function(a,u){t[r]=function(l){if(s)if(s=!1,l)u(l);else{for(var d=new Array(arguments.length-1),f=0;f<d.length;)d[f++]=arguments[f];a.apply(null,d)}};try{n.apply(e||null,t)}catch(c){s&&(s=!1,u(c))}})}});var KV=ee(WV=>{"use strict";var d_=WV;d_.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&e.charAt(t)==="=";)++r;return Math.ceil(e.length*3)/4-r};var Xf=new Array(64),GV=new Array(123);for(qs=0;qs<64;)GV[Xf[qs]=qs<26?qs+65:qs<52?qs+71:qs<62?qs-4:qs-59|43]=qs++;var qs;d_.encode=function(e,t,r){for(var i=null,s=[],o=0,a=0,u;t<r;){var c=e[t++];switch(a){case 0:s[o++]=Xf[c>>2],u=(c&3)<<4,a=1;break;case 1:s[o++]=Xf[u|c>>4],u=(c&15)<<2,a=2;break;case 2:s[o++]=Xf[u|c>>6],s[o++]=Xf[c&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=Xf[u],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var zV="invalid encoding";d_.decode=function(e,t,r){for(var i=r,s=0,o,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&s>1)break;if((u=GV[u])===void 0)throw Error(zV);switch(s){case 0:o=u,s=1;break;case 1:t[r++]=o<<2|(u&48)>>4,o=u,s=2;break;case 2:t[r++]=(o&15)<<4|(u&60)>>2,o=u,s=3;break;case 3:t[r++]=(o&3)<<6|u,s=0;break}}if(s===1)throw Error(zV);return r-i};d_.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var YV=ee((f5e,QV)=>{"use strict";QV.exports=f_;function f_(){this._listeners={}}f_.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this};f_.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this};f_.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}});var rq=ee((h5e,nq)=>{"use strict";nq.exports=JV(JV);function JV(n){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),r=t[3]===128;function i(u,c,l){e[0]=u,c[l]=t[0],c[l+1]=t[1],c[l+2]=t[2],c[l+3]=t[3]}function s(u,c,l){e[0]=u,c[l]=t[3],c[l+1]=t[2],c[l+2]=t[1],c[l+3]=t[0]}n.writeFloatLE=r?i:s,n.writeFloatBE=r?s:i;function o(u,c){return t[0]=u[c],t[1]=u[c+1],t[2]=u[c+2],t[3]=u[c+3],e[0]}function a(u,c){return t[3]=u[c],t[2]=u[c+1],t[1]=u[c+2],t[0]=u[c+3],e[0]}n.readFloatLE=r?o:a,n.readFloatBE=r?a:o}():function(){function e(r,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)r(1/i>0?0:2147483648,s,o);else if(isNaN(i))r(2143289344,s,o);else if(i>34028234663852886e22)r((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)r((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var u=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-u)*8388608)&8388607;r((a<<31|u+127<<23|c)>>>0,s,o)}}n.writeFloatLE=e.bind(null,ZV),n.writeFloatBE=e.bind(null,XV);function t(r,i,s){var o=r(i,s),a=(o>>31)*2+1,u=o>>>23&255,c=o&8388607;return u===255?c?NaN:a*(1/0):u===0?a*1401298464324817e-60*c:a*Math.pow(2,u-150)*(c+8388608)}n.readFloatLE=t.bind(null,eq),n.readFloatBE=t.bind(null,tq)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),r=t[7]===128;function i(u,c,l){e[0]=u,c[l]=t[0],c[l+1]=t[1],c[l+2]=t[2],c[l+3]=t[3],c[l+4]=t[4],c[l+5]=t[5],c[l+6]=t[6],c[l+7]=t[7]}function s(u,c,l){e[0]=u,c[l]=t[7],c[l+1]=t[6],c[l+2]=t[5],c[l+3]=t[4],c[l+4]=t[3],c[l+5]=t[2],c[l+6]=t[1],c[l+7]=t[0]}n.writeDoubleLE=r?i:s,n.writeDoubleBE=r?s:i;function o(u,c){return t[0]=u[c],t[1]=u[c+1],t[2]=u[c+2],t[3]=u[c+3],t[4]=u[c+4],t[5]=u[c+5],t[6]=u[c+6],t[7]=u[c+7],e[0]}function a(u,c){return t[7]=u[c],t[6]=u[c+1],t[5]=u[c+2],t[4]=u[c+3],t[3]=u[c+4],t[2]=u[c+5],t[1]=u[c+6],t[0]=u[c+7],e[0]}n.readDoubleLE=r?o:a,n.readDoubleBE=r?a:o}():function(){function e(r,i,s,o,a,u){var c=o<0?1:0;if(c&&(o=-o),o===0)r(0,a,u+i),r(1/o>0?0:2147483648,a,u+s);else if(isNaN(o))r(0,a,u+i),r(2146959360,a,u+s);else if(o>17976931348623157e292)r(0,a,u+i),r((c<<31|2146435072)>>>0,a,u+s);else{var l;if(o<22250738585072014e-324)l=o/5e-324,r(l>>>0,a,u+i),r((c<<31|l/4294967296)>>>0,a,u+s);else{var d=Math.floor(Math.log(o)/Math.LN2);d===1024&&(d=1023),l=o*Math.pow(2,-d),r(l*4503599627370496>>>0,a,u+i),r((c<<31|d+1023<<20|l*1048576&1048575)>>>0,a,u+s)}}}n.writeDoubleLE=e.bind(null,ZV,0,4),n.writeDoubleBE=e.bind(null,XV,4,0);function t(r,i,s,o,a){var u=r(o,a+i),c=r(o,a+s),l=(c>>31)*2+1,d=c>>>20&2047,f=4294967296*(c&1048575)+u;return d===2047?f?NaN:l*(1/0):d===0?l*5e-324*f:l*Math.pow(2,d-1075)*(f+4503599627370496)}n.readDoubleLE=t.bind(null,eq,0,4),n.readDoubleBE=t.bind(null,tq,4,0)}(),n}function ZV(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}function XV(n,e,t){e[t]=n>>>24,e[t+1]=n>>>16&255,e[t+2]=n>>>8&255,e[t+3]=n&255}function eq(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0}function tq(n,e){return(n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3])>>>0}});var AN=ee((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(n){}return null}});var sq=ee(iq=>{"use strict";var NN=iq;NN.length=function(e){for(var t=0,r=0,i=0;i<e.length;++i)r=e.charCodeAt(i),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,t+=4):t+=3;return t};NN.read=function(e,t,r){var i=r-t;if(i<1)return"";for(var s=null,o=[],a=0,u;t<r;)u=e[t++],u<128?o[a++]=u:u>191&&u<224?o[a++]=(u&31)<<6|e[t++]&63:u>239&&u<365?(u=((u&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[a++]=55296+(u>>10),o[a++]=56320+(u&1023)):o[a++]=(u&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};NN.write=function(e,t,r){for(var i=r,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128);return r-i}});var aq=ee((m5e,oq)=>{"use strict";oq.exports=dme;function dme(n,e,t){var r=t||8192,i=r>>>1,s=null,o=r;return function(u){if(u<1||u>i)return n(u);o+u>r&&(s=n(r),o=0);var c=e.call(s,o,o+=u);return o&7&&(o=(o|7)+1),c}}});var cq=ee((g5e,uq)=>{"use strict";uq.exports=lr;var fg=Ao();function lr(n,e){this.lo=n>>>0,this.hi=e>>>0}var Gl=lr.zero=new lr(0,0);Gl.toNumber=function(){return 0};Gl.zzEncode=Gl.zzDecode=function(){return this};Gl.length=function(){return 1};var fme=lr.zeroHash="\0\0\0\0\0\0\0\0";lr.fromNumber=function(e){if(e===0)return Gl;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new lr(r,i)};lr.from=function(e){if(typeof e=="number")return lr.fromNumber(e);if(fg.isString(e))if(fg.Long)e=fg.Long.fromString(e);else return lr.fromNumber(parseInt(e,10));return e.low||e.high?new lr(e.low>>>0,e.high>>>0):Gl};lr.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+r*4294967296)}return this.lo+this.hi*4294967296};lr.prototype.toLong=function(e){return fg.Long?new fg.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Ju=String.prototype.charCodeAt;lr.fromHash=function(e){return e===fme?Gl:new lr((Ju.call(e,0)|Ju.call(e,1)<<8|Ju.call(e,2)<<16|Ju.call(e,3)<<24)>>>0,(Ju.call(e,4)|Ju.call(e,5)<<8|Ju.call(e,6)<<16|Ju.call(e,7)<<24)>>>0)};lr.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};lr.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};lr.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};lr.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return r===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}});var Ao=ee(RN=>{"use strict";var Oe=RN;Oe.asPromise=xN();Oe.base64=KV();Oe.EventEmitter=YV();Oe.float=rq();Oe.inquire=AN();Oe.utf8=sq();Oe.pool=aq();Oe.LongBits=cq();Oe.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Oe.global=Oe.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||RN;Oe.emptyArray=Object.freeze?Object.freeze([]):[];Oe.emptyObject=Object.freeze?Object.freeze({}):{};Oe.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Oe.isString=function(e){return typeof e=="string"||e instanceof String};Oe.isObject=function(e){return e&&typeof e=="object"};Oe.isset=Oe.isSet=function(e,t){var r=e[t];return r!=null&&e.hasOwnProperty(t)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1};Oe.Buffer=function(){try{var n=Oe.inquire("buffer").Buffer;return n.prototype.utf8Write?n:null}catch{return null}}();Oe._Buffer_from=null;Oe._Buffer_allocUnsafe=null;Oe.newBuffer=function(e){return typeof e=="number"?Oe.Buffer?Oe._Buffer_allocUnsafe(e):new Oe.Array(e):Oe.Buffer?Oe._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};Oe.Array=typeof Uint8Array<"u"?Uint8Array:Array;Oe.Long=Oe.global.dcodeIO&&Oe.global.dcodeIO.Long||Oe.global.Long||Oe.inquire("long");Oe.key2Re=/^true|false|0|1$/;Oe.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Oe.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Oe.longToHash=function(e){return e?Oe.LongBits.from(e).toHash():Oe.LongBits.zeroHash};Oe.longFromHash=function(e,t){var r=Oe.LongBits.fromHash(e);return Oe.Long?Oe.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)};function lq(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;++i)(n[r[i]]===void 0||!t)&&(n[r[i]]=e[r[i]]);return n}Oe.merge=lq;Oe.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function dq(n){function e(t,r){if(!(this instanceof e))return new e(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&lq(this,r)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return n},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}Oe.newError=dq;Oe.ProtocolError=dq("ProtocolError");Oe.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(t[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};Oe.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}};Oe.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Oe._configure=function(){var n=Oe.Buffer;if(!n){Oe._Buffer_from=Oe._Buffer_allocUnsafe=null;return}Oe._Buffer_from=n.from!==Uint8Array.from&&n.from||function(t,r){return new n(t,r)},Oe._Buffer_allocUnsafe=n.allocUnsafe||function(t){return new n(t)}}});var p_=ee((v5e,mq)=>{"use strict";mq.exports=xt;var es=Ao(),kN,h_=es.LongBits,fq=es.base64,hq=es.utf8;function hg(n,e,t){this.fn=n,this.len=e,this.next=void 0,this.val=t}function ON(){}function hme(n){this.head=n.head,this.tail=n.tail,this.len=n.len,this.next=n.states}function xt(){this.len=0,this.head=new hg(ON,0,0),this.tail=this.head,this.states=null}var pq=function(){return es.Buffer?function(){return(xt.create=function(){return new kN})()}:function(){return new xt}};xt.create=pq();xt.alloc=function(e){return new es.Array(e)};es.Array!==Array&&(xt.alloc=es.pool(xt.alloc,es.Array.prototype.subarray));xt.prototype._push=function(e,t,r){return this.tail=this.tail.next=new hg(e,t,r),this.len+=t,this};function PN(n,e,t){e[t]=n&255}function pme(n,e,t){for(;n>127;)e[t++]=n&127|128,n>>>=7;e[t]=n}function LN(n,e){this.len=n,this.next=void 0,this.val=e}LN.prototype=Object.create(hg.prototype);LN.prototype.fn=pme;xt.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new LN((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};xt.prototype.int32=function(e){return e<0?this._push(FN,10,h_.fromNumber(e)):this.uint32(e)};xt.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function FN(n,e,t){for(;n.hi;)e[t++]=n.lo&127|128,n.lo=(n.lo>>>7|n.hi<<25)>>>0,n.hi>>>=7;for(;n.lo>127;)e[t++]=n.lo&127|128,n.lo=n.lo>>>7;e[t++]=n.lo}xt.prototype.uint64=function(e){var t=h_.from(e);return this._push(FN,t.length(),t)};xt.prototype.int64=xt.prototype.uint64;xt.prototype.sint64=function(e){var t=h_.from(e).zzEncode();return this._push(FN,t.length(),t)};xt.prototype.bool=function(e){return this._push(PN,1,e?1:0)};function MN(n,e,t){e[t]=n&255,e[t+1]=n>>>8&255,e[t+2]=n>>>16&255,e[t+3]=n>>>24}xt.prototype.fixed32=function(e){return this._push(MN,4,e>>>0)};xt.prototype.sfixed32=xt.prototype.fixed32;xt.prototype.fixed64=function(e){var t=h_.from(e);return this._push(MN,4,t.lo)._push(MN,4,t.hi)};xt.prototype.sfixed64=xt.prototype.fixed64;xt.prototype.float=function(e){return this._push(es.float.writeFloatLE,4,e)};xt.prototype.double=function(e){return this._push(es.float.writeDoubleLE,8,e)};var mme=es.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};xt.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(PN,1,0);if(es.isString(e)){var r=xt.alloc(t=fq.length(e));fq.decode(e,r,0),e=r}return this.uint32(t)._push(mme,t,e)};xt.prototype.string=function(e){var t=hq.length(e);return t?this.uint32(t)._push(hq.write,t,e):this._push(PN,1,0)};xt.prototype.fork=function(){return this.states=new hme(this),this.head=this.tail=new hg(ON,0,0),this.len=0,this};xt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new hg(ON,0,0),this.len=0),this};xt.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this};xt.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t};xt._configure=function(n){kN=n,xt.create=pq(),kN._configure()}});var vq=ee((b5e,yq)=>{"use strict";yq.exports=No;var gq=p_();(No.prototype=Object.create(gq.prototype)).constructor=No;var Zu=Ao();function No(){gq.call(this)}No._configure=function(){No.alloc=Zu._Buffer_allocUnsafe,No.writeBytesBuffer=Zu.Buffer&&Zu.Buffer.prototype instanceof Uint8Array&&Zu.Buffer.prototype.set.name==="set"?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}};No.prototype.bytes=function(e){Zu.isString(e)&&(e=Zu._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(No.writeBytesBuffer,t,e),this};function gme(n,e,t){n.length<40?Zu.utf8.write(n,e,t):e.utf8Write?e.utf8Write(n,t):e.write(n,t)}No.prototype.string=function(e){var t=Zu.Buffer.byteLength(e);return this.uint32(t),t&&this._push(gme,t,e),this};No._configure()});var g_=ee((_5e,Sq)=>{"use strict";Sq.exports=qn;var js=Ao(),BN,Eq=js.LongBits,yme=js.utf8;function Hs(n,e){return RangeError("index out of range: "+n.pos+" + "+(e||1)+" > "+n.len)}function qn(n){this.buf=n,this.pos=0,this.len=n.length}var bq=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new qn(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new qn(e);throw Error("illegal buffer")},wq=function(){return js.Buffer?function(t){return(qn.create=function(i){return js.Buffer.isBuffer(i)?new BN(i):bq(i)})(t)}:bq};qn.create=wq();qn.prototype._slice=js.Array.prototype.subarray||js.Array.prototype.slice;qn.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Hs(this,10);return e}}();qn.prototype.int32=function(){return this.uint32()|0};qn.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function UN(){var n=new Eq(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n;if(n.lo=(n.lo|(this.buf[this.pos]&127)<<28)>>>0,n.hi=(n.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return n;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Hs(this);if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n}return n.lo=(n.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,n}if(this.len-this.pos>4){for(;e<5;++e)if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}else for(;e<5;++e){if(this.pos>=this.len)throw Hs(this);if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}throw Error("invalid varint encoding")}qn.prototype.bool=function(){return this.uint32()!==0};function m_(n,e){return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0}qn.prototype.fixed32=function(){if(this.pos+4>this.len)throw Hs(this,4);return m_(this.buf,this.pos+=4)};qn.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Hs(this,4);return m_(this.buf,this.pos+=4)|0};function _q(){if(this.pos+8>this.len)throw Hs(this,8);return new Eq(m_(this.buf,this.pos+=4),m_(this.buf,this.pos+=4))}qn.prototype.float=function(){if(this.pos+4>this.len)throw Hs(this,4);var e=js.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};qn.prototype.double=function(){if(this.pos+8>this.len)throw Hs(this,4);var e=js.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};qn.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw Hs(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var i=js.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)};qn.prototype.string=function(){var e=this.bytes();return yme.read(e,0,e.length)};qn.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Hs(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Hs(this);while(this.buf[this.pos++]&128);return this};qn.prototype.skipType=function(n){switch(n){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(n=this.uint32()&7)!==4;)this.skipType(n);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+n+" at offset "+this.pos)}return this};qn._configure=function(n){BN=n,qn.create=wq(),BN._configure();var e=js.Long?"toLong":"toNumber";js.merge(qn.prototype,{int64:function(){return UN.call(this)[e](!1)},uint64:function(){return UN.call(this)[e](!0)},sint64:function(){return UN.call(this).zzDecode()[e](!1)},fixed64:function(){return _q.call(this)[e](!0)},sfixed64:function(){return _q.call(this)[e](!1)}})}});var Dq=ee((E5e,Iq)=>{"use strict";Iq.exports=Wl;var Cq=g_();(Wl.prototype=Object.create(Cq.prototype)).constructor=Wl;var Tq=Ao();function Wl(n){Cq.call(this,n)}Wl._configure=function(){Tq.Buffer&&(Wl.prototype._slice=Tq.Buffer.prototype.slice)};Wl.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Wl._configure()});var Aq=ee((w5e,xq)=>{"use strict";xq.exports=pg;var VN=Ao();(pg.prototype=Object.create(VN.EventEmitter.prototype)).constructor=pg;function pg(n,e,t){if(typeof n!="function")throw TypeError("rpcImpl must be a function");VN.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=!!e,this.responseDelimited=!!t}pg.prototype.rpcCall=function n(e,t,r,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return VN.asPromise(n,o,e,t,r,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(u,c){if(u)return o.emit("error",u,e),s(u);if(c===null){o.end(!0);return}if(!(c instanceof r))try{c=r[o.responseDelimited?"decodeDelimited":"decode"](c)}catch(l){return o.emit("error",l,e),s(l)}return o.emit("data",c,e),s(null,c)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};pg.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var qN=ee(Nq=>{"use strict";var vme=Nq;vme.Service=Aq()});var jN=ee((T5e,Rq)=>{"use strict";Rq.exports={}});var Oq=ee(Mq=>{"use strict";var pi=Mq;pi.build="minimal";pi.Writer=p_();pi.BufferWriter=vq();pi.Reader=g_();pi.BufferReader=Dq();pi.util=Ao();pi.rpc=qN();pi.roots=jN();pi.configure=kq;function kq(){pi.util._configure(),pi.Writer._configure(pi.BufferWriter),pi.Reader._configure(pi.BufferReader)}kq()});var Lq=ee((I5e,Pq)=>{"use strict";Pq.exports=HN;function HN(n,e){typeof n=="string"&&(e=n,n=void 0);var t=[];function r(s){if(typeof s!="string"){var o=i();if(HN.verbose&&console.log("codegen: "+o),o="return "+o,s){for(var a=Object.keys(s),u=new Array(a.length+1),c=new Array(a.length),l=0;l<a.length;)u[l]=a[l],c[l]=s[a[l++]];return u[l]=o,Function.apply(null,u).apply(null,c)}return Function(o)()}for(var d=new Array(arguments.length-1),f=0;f<d.length;)d[f]=arguments[++f];if(f=0,s=s.replace(/%([%dfijs])/g,function(g,y){var S=d[f++];switch(y){case"d":case"f":return String(Number(S));case"i":return String(Math.floor(S));case"j":return JSON.stringify(S);case"s":return String(S)}return"%"}),f!==d.length)throw Error("parameter count mismatch");return t.push(s),r}function i(s){return"function "+(s||e||"")+"("+(n&&n.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return r.toString=i,r}HN.verbose=!1});var Uq=ee((D5e,Fq)=>{"use strict";Fq.exports=mg;var bme=xN(),_me=AN(),$N=_me("fs");function mg(n,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&$N&&$N.readFile?$N.readFile(n,function(i,s){return i&&typeof XMLHttpRequest<"u"?mg.xhr(n,e,t):i?t(i):t(null,e.binary?s:s.toString("utf8"))}):mg.xhr(n,e,t):bme(mg,this,n,e)}mg.xhr=function(e,t,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4){if(i.status!==0&&i.status!==200)return r(Error("status "+i.status));if(t.binary){var o=i.response;if(!o){o=[];for(var a=0;a<i.responseText.length;++a)o.push(i.responseText.charCodeAt(a)&255)}return r(null,typeof Uint8Array<"u"?new Uint8Array(o):o)}return r(null,i.responseText)}},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}});var qq=ee(Vq=>{"use strict";var GN=Vq,Bq=GN.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},zN=GN.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),r=Bq(e),i="";r&&(i=t.shift()+"/");for(var s=0;s<t.length;)t[s]===".."?s>0&&t[s-1]!==".."?t.splice(--s,2):r?t.splice(s,1):++s:t[s]==="."?t.splice(s,1):++s;return i+t.join("/")};GN.resolve=function(e,t,r){return r||(t=zN(t)),Bq(t)?t:(r||(e=zN(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?zN(e+"/"+t):t)}});var th=ee((A5e,$q)=>{"use strict";$q.exports=Tt;var y_=ec();((Tt.prototype=Object.create(y_.prototype)).constructor=Tt).className="Namespace";var WN=Xu(),v_=dr(),Eme=Yl(),Kl,eh,Ql;Tt.fromJSON=function(e,t){return new Tt(e,t.options).addJSON(t.nested)};function jq(n,e){if(n&&n.length){for(var t={},r=0;r<n.length;++r)t[n[r].name]=n[r].toJSON(e);return t}}Tt.arrayToJSON=jq;Tt.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if(typeof e[r]!="string"&&e[r][0]<=t&&e[r][1]>t)return!0}return!1};Tt.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1};function Tt(n,e){y_.call(this,n,e),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function Hq(n){n._nestedArray=null,n._lookupCache={};for(var e=n;e=e.parent;)e._lookupCache={};return n}Object.defineProperty(Tt.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=v_.toArray(this.nested))}});Tt.prototype.toJSON=function(e){return v_.toObject(["options",this.options,"nested",jq(this.nestedArray,e)])};Tt.prototype.addJSON=function(e){var t=this;if(e)for(var r=Object.keys(e),i=0,s;i<r.length;++i)s=e[r[i]],t.add((s.fields!==void 0?Kl.fromJSON:s.values!==void 0?Ql.fromJSON:s.methods!==void 0?eh.fromJSON:s.id!==void 0?WN.fromJSON:Tt.fromJSON)(r[i],s));return this};Tt.prototype.get=function(e){return this.nested&&this.nested[e]||null};Tt.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof Ql)return this.nested[e].values;throw Error("no such enum: "+e)};Tt.prototype.add=function(e){if(!(e instanceof WN&&e.extend!==void 0||e instanceof Kl||e instanceof Eme||e instanceof Ql||e instanceof eh||e instanceof Tt))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof Tt&&e instanceof Tt&&!(t instanceof Kl||t instanceof eh)){for(var r=t.nestedArray,i=0;i<r.length;++i)e.add(r[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}this.nested[e.name]=e,this instanceof Kl||this instanceof eh||this instanceof Ql||this instanceof WN||e._edition||(e._edition=e._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var s=this;s=s.parent;)s._needsRecursiveFeatureResolution=!0,s._needsRecursiveResolve=!0;return e.onAdd(this),Hq(this)};Tt.prototype.remove=function(e){if(!(e instanceof y_))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),Hq(this)};Tt.prototype.define=function(e,t){if(v_.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(r=r.nested[i],!(r instanceof Tt))throw Error("path conflicts with non-namespace objects")}else r.add(r=new Tt(i))}return t&&r.addJSON(t),r};Tt.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,t=0;for(this.resolve();t<e.length;)e[t]instanceof Tt?e[t++].resolveAll():e[t++].resolve();return this._needsRecursiveResolve=!1,this};Tt.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,e=this._edition||e,y_.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this):this};Tt.prototype.lookup=function(e,t,r){if(typeof t=="boolean"?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),v_.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;var i=e.join(".");if(e[0]==="")return this.root.lookup(e.slice(1),t);var s=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+i];if(s&&(!t||t.indexOf(s.constructor)>-1)||(s=this._lookupImpl(e,i),s&&(!t||t.indexOf(s.constructor)>-1)))return s;if(r)return null;for(var o=this;o.parent;){if(s=o.parent._lookupImpl(e,i),s&&(!t||t.indexOf(s.constructor)>-1))return s;o=o.parent}return null};Tt.prototype._lookupImpl=function(e,t){if(Object.prototype.hasOwnProperty.call(this._lookupCache,t))return this._lookupCache[t];var r=this.get(e[0]),i=null;if(r)e.length===1?i=r:r instanceof Tt&&(e=e.slice(1),i=r._lookupImpl(e,e.join(".")));else for(var s=0;s<this.nestedArray.length;++s)this._nestedArray[s]instanceof Tt&&(r=this._nestedArray[s]._lookupImpl(e,t))&&(i=r);return this._lookupCache[t]=i,i};Tt.prototype.lookupType=function(e){var t=this.lookup(e,[Kl]);if(!t)throw Error("no such type: "+e);return t};Tt.prototype.lookupEnum=function(e){var t=this.lookup(e,[Ql]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};Tt.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[Kl,Ql]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};Tt.prototype.lookupService=function(e){var t=this.lookup(e,[eh]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};Tt._configure=function(n,e,t){Kl=n,eh=e,Ql=t}});var b_=ee((N5e,zq)=>{"use strict";zq.exports=Na;var KN=Xu();((Na.prototype=Object.create(KN.prototype)).constructor=Na).className="MapField";var wme=Jl(),gg=dr();function Na(n,e,t,r,i,s){if(KN.call(this,n,e,r,void 0,void 0,i,s),!gg.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}Na.fromJSON=function(e,t){return new Na(e,t.id,t.keyType,t.type,t.options,t.comment)};Na.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return gg.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};Na.prototype.resolve=function(){if(this.resolved)return this;if(wme.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return KN.prototype.resolve.call(this)};Na.d=function(e,t,r){return typeof r=="function"?r=gg.decorateType(r).name:r&&typeof r=="object"&&(r=gg.decorateEnum(r).name),function(s,o){gg.decorateType(s.constructor).add(new Na(o,e,t,r))}}});var __=ee((R5e,Gq)=>{"use strict";Gq.exports=Zl;var QN=ec();((Zl.prototype=Object.create(QN.prototype)).constructor=Zl).className="Method";var nh=dr();function Zl(n,e,t,r,i,s,o,a,u){if(nh.isObject(i)?(o=i,i=s=void 0):nh.isObject(s)&&(o=s,s=void 0),!(e===void 0||nh.isString(e)))throw TypeError("type must be a string");if(!nh.isString(t))throw TypeError("requestType must be a string");if(!nh.isString(r))throw TypeError("responseType must be a string");QN.call(this,n,o),this.type=e||"rpc",this.requestType=t,this.requestStream=i?!0:void 0,this.responseType=r,this.responseStream=s?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a,this.parsedOptions=u}Zl.fromJSON=function(e,t){return new Zl(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};Zl.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return nh.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};Zl.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),QN.prototype.resolve.call(this))}});var E_=ee((k5e,Kq)=>{"use strict";Kq.exports=Ai;var Ra=th();((Ai.prototype=Object.create(Ra.prototype)).constructor=Ai).className="Service";var YN=__(),yg=dr(),Sme=qN();function Ai(n,e){Ra.call(this,n,e),this.methods={},this._methodsArray=null}Ai.fromJSON=function(e,t){var r=new Ai(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),s=0;s<i.length;++s)r.add(YN.fromJSON(i[s],t.methods[i[s]]));return t.nested&&r.addJSON(t.nested),t.edition&&(r._edition=t.edition),r.comment=t.comment,r._defaultEdition="proto3",r};Ai.prototype.toJSON=function(e){var t=Ra.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return yg.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"methods",Ra.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};Object.defineProperty(Ai.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=yg.toArray(this.methods))}});function Wq(n){return n._methodsArray=null,n}Ai.prototype.get=function(e){return this.methods[e]||Ra.prototype.get.call(this,e)};Ai.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;Ra.prototype.resolve.call(this);for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return this};Ai.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,Ra.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this):this};Ai.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof YN?(this.methods[e.name]=e,e.parent=this,Wq(this)):Ra.prototype.add.call(this,e)};Ai.prototype.remove=function(e){if(e instanceof YN){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,Wq(this)}return Ra.prototype.remove.call(this,e)};Ai.prototype.create=function(e,t,r){for(var i=new Sme.Service(e,t,r),s=0,o;s<this.methodsArray.length;++s){var a=yg.lcFirst((o=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[a]=yg.codegen(["r","c"],yg.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}});var w_=ee((M5e,Qq)=>{"use strict";Qq.exports=Ro;var Tme=Ao();function Ro(n){if(n)for(var e=Object.keys(n),t=0;t<e.length;++t)this[e[t]]=n[e[t]]}Ro.create=function(e){return this.$type.create(e)};Ro.encode=function(e,t){return this.$type.encode(e,t)};Ro.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};Ro.decode=function(e){return this.$type.decode(e)};Ro.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};Ro.verify=function(e){return this.$type.verify(e)};Ro.fromObject=function(e){return this.$type.fromObject(e)};Ro.toObject=function(e,t){return this.$type.toObject(e,t)};Ro.prototype.toJSON=function(){return this.$type.toObject(this,Tme.toJSONOptions)}});var JN=ee((O5e,Jq)=>{"use strict";Jq.exports=Dme;var Cme=$s(),ka=Jl(),Yq=dr();function Ime(n){return"missing required '"+n.name+"'"}function Dme(n){for(var e=Yq.codegen(["r","l","e"],n.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(n.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),t=0;t<n.fieldsArray.length;++t){var r=n._fieldsArray[t].resolve(),i=r.resolvedType instanceof Cme?"int32":r.type,s="m"+Yq.safeProp(r.name);e("case %i: {",r.id),r.map?(e("if(%s===util.emptyObject)",s)("%s={}",s)("var c2 = r.uint32()+r.pos"),ka.defaults[r.keyType]!==void 0?e("k=%j",ka.defaults[r.keyType]):e("k=null"),ka.defaults[i]!==void 0?e("value=%j",ka.defaults[i]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",r.keyType)("case 2:"),ka.basic[i]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",i),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),ka.long[r.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',s):e("%s[k]=value",s)):r.repeated?(e("if(!(%s&&%s.length))",s,s)("%s=[]",s),ka.packed[i]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",s,i)("}else"),ka.basic[i]===void 0?e(r.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",s,t):e("%s.push(r.%s())",s,i)):ka.basic[i]===void 0?e(r.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",s,t):e("%s=r.%s()",s,i),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<n._fieldsArray.length;++t){var o=n._fieldsArray[t];o.required&&e("if(!m.hasOwnProperty(%j))",o.name)("throw util.ProtocolError(%j,{instance:m})",Ime(o))}return e("return m")}});var eR=ee((P5e,Zq)=>{"use strict";Zq.exports=Nme;var xme=$s(),ZN=dr();function ts(n,e){return n.name+": "+e+(n.repeated&&e!=="array"?"[]":n.map&&e!=="object"?"{k:"+n.keyType+"}":"")+" expected"}function XN(n,e,t,r){if(e.resolvedType)if(e.resolvedType instanceof xme){n("switch(%s){",r)("default:")("return%j",ts(e,"enum value"));for(var i=Object.keys(e.resolvedType.values),s=0;s<i.length;++s)n("case %i:",e.resolvedType.values[i[s]]);n("break")("}")}else n("{")("var e=types[%i].verify(%s);",t,r)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.isInteger(%s))",r)("return%j",ts(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",ts(e,"integer|Long"));break;case"float":case"double":n('if(typeof %s!=="number")',r)("return%j",ts(e,"number"));break;case"bool":n('if(typeof %s!=="boolean")',r)("return%j",ts(e,"boolean"));break;case"string":n("if(!util.isString(%s))",r)("return%j",ts(e,"string"));break;case"bytes":n('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",ts(e,"buffer"));break}return n}function Ame(n,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":n("if(!util.key32Re.test(%s))",t)("return%j",ts(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":n("if(!util.key64Re.test(%s))",t)("return%j",ts(e,"integer|Long key"));break;case"bool":n("if(!util.key2Re.test(%s))",t)("return%j",ts(e,"boolean key"));break}return n}function Nme(n){var e=ZN.codegen(["m"],n.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=n.oneofsArray,r={};t.length&&e("var p={}");for(var i=0;i<n.fieldsArray.length;++i){var s=n._fieldsArray[i].resolve(),o="m"+ZN.safeProp(s.name);if(s.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",o,s.name),s.map)e("if(!util.isObject(%s))",o)("return%j",ts(s,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),Ame(e,s,"k[i]"),XN(e,s,i,o+"[k[i]]")("}");else if(s.repeated)e("if(!Array.isArray(%s))",o)("return%j",ts(s,"array"))("for(var i=0;i<%s.length;++i){",o),XN(e,s,i,o+"[i]")("}");else{if(s.partOf){var a=ZN.safeProp(s.partOf.name);r[s.partOf.name]===1&&e("if(p%s===1)",a)("return%j",s.partOf.name+": multiple values"),r[s.partOf.name]=1,e("p%s=1",a)}XN(e,s,i,o)}s.optional&&e("}")}return e("return null")}});var rR=ee(ej=>{"use strict";var Xq=ej,vg=$s(),ko=dr();function tR(n,e,t,r){var i=!1;if(e.resolvedType)if(e.resolvedType instanceof vg){n("switch(d%s){",r);for(var s=e.resolvedType.values,o=Object.keys(s),a=0;a<o.length;++a)s[o[a]]===e.typeDefault&&!i&&(n("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r),e.repeated||n("break"),i=!0),n("case%j:",o[a])("case %i:",s[o[a]])("m%s=%j",r,s[o[a]])("break");n("}")}else n('if(typeof d%s!=="object")',r)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,t,r);else{var u=!1;switch(e.type){case"double":case"float":n("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":n("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":n("m%s=d%s|0",r,r);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,u)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,u?"true":"");break;case"bytes":n('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":n("m%s=String(d%s)",r,r);break;case"bool":n("m%s=Boolean(d%s)",r,r);break}}return n}Xq.fromObject=function(e){var t=e.fieldsArray,r=ko.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<t.length;++i){var s=t[i].resolve(),o=ko.safeProp(s.name);s.map?(r("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),tR(r,s,i,o+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),tR(r,s,i,o+"[i]")("}")("}")):(s.resolvedType instanceof vg||r("if(d%s!=null){",o),tR(r,s,i,o),s.resolvedType instanceof vg||r("}"))}return r("return m")};function nR(n,e,t,r){if(e.resolvedType)e.resolvedType instanceof vg?n("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,t,r,r,t,r,r):n("d%s=types[%i].toObject(m%s,o)",r,t,r);else{var i=!1;switch(e.type){case"double":case"float":n("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":n('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,i?"true":"",r);break;case"bytes":n("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:n("d%s=m%s",r,r);break}}return n}Xq.toObject=function(e){var t=e.fieldsArray.slice().sort(ko.compareFieldsById);if(!t.length)return ko.codegen()("return {}");for(var r=ko.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],s=[],o=[],a=0;a<t.length;++a)t[a].partOf||(t[a].resolve().repeated?i:t[a].map?s:o).push(t[a]);if(i.length){for(r("if(o.arrays||o.defaults){"),a=0;a<i.length;++a)r("d%s=[]",ko.safeProp(i[a].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),a=0;a<s.length;++a)r("d%s={}",ko.safeProp(s[a].name));r("}")}if(o.length){for(r("if(o.defaults){"),a=0;a<o.length;++a){var u=o[a],c=ko.safeProp(u.name);if(u.resolvedType instanceof vg)r("d%s=o.enums===String?%j:%j",c,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var l="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",c,l)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else r("d%s=%j",c,u.typeDefault)}r("}")}var d=!1;for(a=0;a<t.length;++a){var u=t[a],f=e._fieldsArray.indexOf(u),c=ko.safeProp(u.name);u.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),nR(r,u,f,c+"[ks2[j]]")("}")):u.repeated?(r("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),nR(r,u,f,c+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",c,u.name),nR(r,u,f,c),u.partOf&&r("if(o.oneofs)")("d%s=%j",ko.safeProp(u.partOf.name),u.name)),r("}")}return r("return d")}});var iR=ee(tj=>{"use strict";var Rme=tj,kme=w_();Rme[".google.protobuf.Any"]={fromObject:function(n){if(n&&n["@type"]){var e=n["@type"].substring(n["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var r=n["@type"].charAt(0)==="."?n["@type"].slice(1):n["@type"];return r.indexOf("/")===-1&&(r="/"+r),this.create({type_url:r,value:t.encode(t.fromObject(n)).finish()})}}return this.fromObject(n)},toObject:function(n,e){var t="type.googleapis.com/",r="",i="";if(e&&e.json&&n.type_url&&n.value){i=n.type_url.substring(n.type_url.lastIndexOf("/")+1),r=n.type_url.substring(0,n.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(n=s.decode(n.value))}if(!(n instanceof this.ctor)&&n instanceof kme){var o=n.$type.toObject(n,e),a=n.$type.fullName[0]==="."?n.$type.fullName.slice(1):n.$type.fullName;return r===""&&(r=t),i=r+a,o["@type"]=i,o}return this.toObject(n,e)}}});var C_=ee((U5e,rj)=>{"use strict";rj.exports=tn;var ns=th();((tn.prototype=Object.create(ns.prototype)).constructor=tn).className="Type";var Mme=$s(),aR=Yl(),S_=Xu(),Ome=b_(),Pme=E_(),sR=w_(),oR=g_(),Lme=p_(),Fr=dr(),Fme=uR(),Ume=JN(),Bme=eR(),nj=rR(),Vme=iR();function tn(n,e){ns.call(this,n,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(tn.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var n=Object.keys(this.fields),e=0;e<n.length;++e){var t=this.fields[n[e]],r=t.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=Fr.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=Fr.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=tn.generateConstructor(this)())},set:function(n){var e=n.prototype;e instanceof sR||((n.prototype=new sR).constructor=n,Fr.merge(n.prototype,e)),n.$type=n.prototype.$type=this,Fr.merge(n,sR,!0),this._ctor=n;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var r={};for(t=0;t<this.oneofsArray.length;++t)r[this._oneofsArray[t].resolve().name]={get:Fr.oneOfGetter(this._oneofsArray[t].oneof),set:Fr.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(n.prototype,r)}}});tn.generateConstructor=function(e){for(var t=Fr.codegen(["p"],e.name),r=0,i;r<e.fieldsArray.length;++r)(i=e._fieldsArray[r]).map?t("this%s={}",Fr.safeProp(i.name)):i.repeated&&t("this%s=[]",Fr.safeProp(i.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function T_(n){return n._fieldsById=n._fieldsArray=n._oneofsArray=null,delete n.encode,delete n.decode,delete n.verify,n}tn.fromJSON=function(e,t){var r=new tn(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var i=Object.keys(t.fields),s=0;s<i.length;++s)r.add((typeof t.fields[i[s]].keyType<"u"?Ome.fromJSON:S_.fromJSON)(i[s],t.fields[i[s]]));if(t.oneofs)for(i=Object.keys(t.oneofs),s=0;s<i.length;++s)r.add(aR.fromJSON(i[s],t.oneofs[i[s]]));if(t.nested)for(i=Object.keys(t.nested),s=0;s<i.length;++s){var o=t.nested[i[s]];r.add((o.id!==void 0?S_.fromJSON:o.fields!==void 0?tn.fromJSON:o.values!==void 0?Mme.fromJSON:o.methods!==void 0?Pme.fromJSON:ns.fromJSON)(i[s],o))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};tn.prototype.toJSON=function(e){var t=ns.prototype.toJSON.call(this,e),r=e?!!e.keepComments:!1;return Fr.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"oneofs",ns.arrayToJSON(this.oneofsArray,e),"fields",ns.arrayToJSON(this.fieldsArray.filter(function(i){return!i.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])};tn.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;ns.prototype.resolveAll.call(this);var e=this.oneofsArray;for(r=0;r<e.length;)e[r++].resolve();for(var t=this.fieldsArray,r=0;r<t.length;)t[r++].resolve();return this};tn.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,ns.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach(t=>{t._resolveFeatures(e)}),this.fieldsArray.forEach(t=>{t._resolveFeatures(e)}),this):this};tn.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};tn.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof S_&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),T_(this)}return e instanceof aR?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),T_(this)):ns.prototype.add.call(this,e)};tn.prototype.remove=function(e){if(e instanceof S_&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),T_(this)}if(e instanceof aR){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),T_(this)}return ns.prototype.remove.call(this,e)};tn.prototype.isReservedId=function(e){return ns.isReservedId(this.reserved,e)};tn.prototype.isReservedName=function(e){return ns.isReservedName(this.reserved,e)};tn.prototype.create=function(e){return new this.ctor(e)};tn.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=Fme(this)({Writer:Lme,types:t,util:Fr}),this.decode=Ume(this)({Reader:oR,types:t,util:Fr}),this.verify=Bme(this)({types:t,util:Fr}),this.fromObject=nj.fromObject(this)({types:t,util:Fr}),this.toObject=nj.toObject(this)({types:t,util:Fr});var i=Vme[e];if(i){var s=Object.create(this);s.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(s),s.toObject=this.toObject,this.toObject=i.toObject.bind(s)}return this};tn.prototype.encode=function(e,t){return this.setup().encode(e,t)};tn.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};tn.prototype.decode=function(e,t){return this.setup().decode(e,t)};tn.prototype.decodeDelimited=function(e){return e instanceof oR||(e=oR.create(e)),this.decode(e,e.uint32())};tn.prototype.verify=function(e){return this.setup().verify(e)};tn.prototype.fromObject=function(e){return this.setup().fromObject(e)};tn.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};tn.d=function(e){return function(r){Fr.decorateType(r,e)}}});var A_=ee((B5e,oj)=>{"use strict";oj.exports=Ni;var x_=th();((Ni.prototype=Object.create(x_.prototype)).constructor=Ni).className="Root";var I_=Xu(),cR=$s(),qme=Yl(),tc=dr(),lR,dR,bg;function Ni(n){x_.call(this,"",n),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}Ni.fromJSON=function(e,t){return t||(t=new Ni),e.options&&t.setOptions(e.options),t.addJSON(e.nested).resolveAll()};Ni.prototype.resolvePath=tc.path.resolve;Ni.prototype.fetch=tc.fetch;function sj(){}Ni.prototype.load=function n(e,t,r){typeof t=="function"&&(r=t,t=void 0);var i=this;if(!r)return tc.asPromise(n,i,e,t);var s=r===sj;function o(h,g){if(r){if(s)throw h;g&&g.resolveAll();var y=r;r=null,y(h,g)}}function a(h){var g=h.lastIndexOf("google/protobuf/");if(g>-1){var y=h.substring(g);if(y in bg)return y}return null}function u(h,g){try{if(tc.isString(g)&&g.charAt(0)==="{"&&(g=JSON.parse(g)),!tc.isString(g))i.setOptions(g.options).addJSON(g.nested);else{dR.filename=h;var y=dR(g,i,t),S,_=0;if(y.imports)for(;_<y.imports.length;++_)(S=a(y.imports[_])||i.resolvePath(h,y.imports[_]))&&c(S);if(y.weakImports)for(_=0;_<y.weakImports.length;++_)(S=a(y.weakImports[_])||i.resolvePath(h,y.weakImports[_]))&&c(S,!0)}}catch(C){o(C)}!s&&!l&&o(null,i)}function c(h,g){if(h=a(h)||h,!(i.files.indexOf(h)>-1)){if(i.files.push(h),h in bg){s?u(h,bg[h]):(++l,setTimeout(function(){--l,u(h,bg[h])}));return}if(s){var y;try{y=tc.fs.readFileSync(h).toString("utf8")}catch(S){g||o(S);return}u(h,y)}else++l,i.fetch(h,function(S,_){if(--l,!!r){if(S){g?l||o(null,i):o(S);return}u(h,_)}})}}var l=0;tc.isString(e)&&(e=[e]);for(var d=0,f;d<e.length;++d)(f=i.resolvePath("",e[d]))&&c(f);return s?(i.resolveAll(),i):(l||o(null,i),i)};Ni.prototype.loadSync=function(e,t){if(!tc.isNode)throw Error("not supported");return this.load(e,t,sj)};Ni.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return x_.prototype.resolveAll.call(this)};var D_=/^[A-Z]/;function ij(n,e){var t=e.parent.lookup(e.extend);if(t){var r=new I_(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(r.name)||(r.declaringField=e,e.extensionField=r,t.add(r)),!0}return!1}Ni.prototype._handleAdd=function(e){if(e instanceof I_)e.extend!==void 0&&!e.extensionField&&(ij(this,e)||this.deferred.push(e));else if(e instanceof cR)D_.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof qme)){if(e instanceof lR)for(var t=0;t<this.deferred.length;)ij(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);D_.test(e.name)&&(e.parent[e.name]=e)}(e instanceof lR||e instanceof cR||e instanceof I_)&&(this._fullyQualifiedObjects[e.fullName]=e)};Ni.prototype._handleRemove=function(e){if(e instanceof I_){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof cR)D_.test(e.name)&&delete e.parent[e.name];else if(e instanceof x_){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);D_.test(e.name)&&delete e.parent[e.name]}delete this._fullyQualifiedObjects[e.fullName]};Ni._configure=function(n,e,t){lR=n,dR=e,bg=t}});var dr=ee((V5e,uj)=>{"use strict";var jn=uj.exports=Ao(),aj=jN(),fR,hR;jn.codegen=Lq();jn.fetch=Uq();jn.path=qq();jn.fs=jn.inquire("fs");jn.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),i=0;i<t.length;)r[i]=e[t[i++]];return r}return[]};jn.toObject=function(e){for(var t={},r=0;r<e.length;){var i=e[r++],s=e[r++];s!==void 0&&(t[i]=s)}return t};var jme=/\\/g,Hme=/"/g;jn.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};jn.safeProp=function(e){return!/^[$\w_]+$/.test(e)||jn.isReserved(e)?'["'+e.replace(jme,"\\\\").replace(Hme,'\\"')+'"]':"."+e};jn.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var $me=/_([a-z])/g;jn.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace($me,function(t,r){return r.toUpperCase()})};jn.compareFieldsById=function(e,t){return e.id-t.id};jn.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(jn.decorateRoot.remove(e.$type),e.$type.name=t,jn.decorateRoot.add(e.$type)),e.$type;fR||(fR=C_());var r=new fR(t||e.name);return jn.decorateRoot.add(r),r.ctor=e,Object.defineProperty(e,"$type",{value:r,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:r,enumerable:!1}),r};var zme=0;jn.decorateEnum=function(e){if(e.$type)return e.$type;hR||(hR=$s());var t=new hR("Enum"+zme++,e);return jn.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};jn.setProperty=function(e,t,r,i){function s(o,a,u){var c=a.shift();if(c==="__proto__"||c==="prototype")return o;if(a.length>0)o[c]=s(o[c]||{},a,u);else{var l=o[c];if(l&&i)return o;l&&(u=[].concat(l).concat(u)),o[c]=u}return o}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),s(e,t,r)};Object.defineProperty(jn,"decorateRoot",{get:function(){return aj.decorated||(aj.decorated=new(A_()))}})});var Jl=ee(cj=>{"use strict";var _g=cj,Gme=dr(),Wme=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Eg(n,e){var t=0,r={};for(e|=0;t<n.length;)r[Wme[t+e]]=n[t++];return r}_g.basic=Eg([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);_g.defaults=Eg([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",Gme.emptyArray,null]);_g.long=Eg([0,0,0,1,1],7);_g.mapKey=Eg([0,0,0,5,5,0,0,0,1,1,0,2],2);_g.packed=Eg([1,5,0,0,0,5,5,0,0,0,1,1,0])});var Xu=ee((j5e,dj)=>{"use strict";dj.exports=fr;var Sg=ec();((fr.prototype=Object.create(Sg.prototype)).constructor=fr).className="Field";var lj=$s(),pR=Jl(),Jn=dr(),wg,Kme=/^required|optional|repeated$/;fr.fromJSON=function(e,t){var r=new fr(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);return t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};function fr(n,e,t,r,i,s,o){if(Jn.isObject(r)?(o=i,s=r,r=i=void 0):Jn.isObject(i)&&(o=s,s=i,i=void 0),Sg.call(this,n,s),!Jn.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!Jn.isString(t))throw TypeError("type must be a string");if(r!==void 0&&!Kme.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==void 0&&!Jn.isString(i))throw TypeError("extend must be a string");r==="proto3_optional"&&(r="optional"),this.rule=r&&r!=="optional"?r:void 0,this.type=t,this.id=e,this.extend=i||void 0,this.repeated=r==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=Jn.Long?pR.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=o}Object.defineProperty(fr.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(fr.prototype,"optional",{get:function(){return!this.required}});Object.defineProperty(fr.prototype,"delimited",{get:function(){return this.resolvedType instanceof wg&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(fr.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(fr.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});fr.prototype.setOption=function(e,t,r){return Sg.prototype.setOption.call(this,e,t,r)};fr.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Jn.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};fr.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=pR.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof wg?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof lj&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof lj)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=Jn.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;Jn.base64.test(this.typeDefault)?Jn.base64.decode(this.typeDefault,e=Jn.newBuffer(Jn.base64.length(this.typeDefault)),0):Jn.utf8.write(this.typeDefault,e=Jn.newBuffer(Jn.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=Jn.emptyObject:this.repeated?this.defaultValue=Jn.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof wg&&(this.parent.ctor.prototype[this.name]=this.defaultValue),Sg.prototype.resolve.call(this)};fr.prototype._inferLegacyProtoFeatures=function(e){if(e!=="proto2"&&e!=="proto3")return{};var t={};if(this.rule==="required"&&(t.field_presence="LEGACY_REQUIRED"),this.parent&&pR.defaults[this.type]===void 0){var r=this.parent.get(this.type.split(".").pop());r&&r instanceof wg&&r.group&&(t.message_encoding="DELIMITED")}return this.getOption("packed")===!0?t.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(t.repeated_field_encoding="EXPANDED"),t};fr.prototype._resolveFeatures=function(e){return Sg.prototype._resolveFeatures.call(this,this._edition||e)};fr.d=function(e,t,r,i){return typeof t=="function"?t=Jn.decorateType(t).name:t&&typeof t=="object"&&(t=Jn.decorateEnum(t).name),function(o,a){Jn.decorateType(o.constructor).add(new fr(a,e,t,r,{default:i}))}};fr._configure=function(e){wg=e}});var Yl=ee((H5e,pj)=>{"use strict";pj.exports=Ri;var R_=ec();((Ri.prototype=Object.create(R_.prototype)).constructor=Ri).className="OneOf";var fj=Xu(),N_=dr();function Ri(n,e,t,r){if(Array.isArray(e)||(t=e,e=void 0),R_.call(this,n,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=r}Ri.fromJSON=function(e,t){return new Ri(e,t.oneof,t.options,t.comment)};Ri.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return N_.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function hj(n){if(n.parent)for(var e=0;e<n.fieldsArray.length;++e)n.fieldsArray[e].parent||n.parent.add(n.fieldsArray[e])}Ri.prototype.add=function(e){if(!(e instanceof fj))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,hj(this),this};Ri.prototype.remove=function(e){if(!(e instanceof fj))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};Ri.prototype.onAdd=function(e){R_.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}hj(this)};Ri.prototype.onRemove=function(e){for(var t=0,r;t<this.fieldsArray.length;++t)(r=this.fieldsArray[t]).parent&&r.parent.remove(r);R_.prototype.onRemove.call(this,e)};Object.defineProperty(Ri.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var n=this.fieldsArray[0];return n.options!=null&&n.options.proto3_optional===!0}});Ri.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(i,s){N_.decorateType(i.constructor).add(new Ri(s,e)),Object.defineProperty(i,s,{get:N_.oneOfGetter(e),set:N_.oneOfSetter(e)})}}});var ec=ee(($5e,mj)=>{"use strict";mj.exports=Ir;Ir.className="ReflectionObject";var Qme=Yl(),Tg=dr(),k_,Yme={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},Jme={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},Zme={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function Ir(n,e){if(!Tg.isString(n))throw TypeError("name must be a string");if(e&&!Tg.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=n,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(Ir.prototype,{root:{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n}},fullName:{get:function(){for(var n=[this.name],e=this.parent;e;)n.unshift(e.name),e=e.parent;return n.join(".")}}});Ir.prototype.toJSON=function(){throw Error()};Ir.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof k_&&t._handleAdd(this)};Ir.prototype.onRemove=function(e){var t=e.root;t instanceof k_&&t._handleRemove(this),this.parent=null,this.resolved=!1};Ir.prototype.resolve=function(){return this.resolved?this:(this.root instanceof k_&&(this.resolved=!0),this)};Ir.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)};Ir.prototype._resolveFeatures=function(e){if(!this._featuresResolved){var t={};if(!e)throw new Error("Unknown edition for "+this.fullName);var r=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if(e==="proto2")t=Object.assign({},Jme);else if(e==="proto3")t=Object.assign({},Zme);else if(e==="2023")t=Object.assign({},Yme);else throw new Error("Unknown edition: "+e);this._features=Object.assign(t,r||{}),this._featuresResolved=!0;return}if(this.partOf instanceof Qme){var i=Object.assign({},this.partOf._features);this._features=Object.assign(i,r||{})}else if(!this.declaringField)if(this.parent){var s=Object.assign({},this.parent._features);this._features=Object.assign(s,r||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}};Ir.prototype._inferLegacyProtoFeatures=function(){return{}};Ir.prototype.getOption=function(e){if(this.options)return this.options[e]};Ir.prototype.setOption=function(e,t,r){return this.options||(this.options={}),/^features\./.test(e)?Tg.setProperty(this.options,e,t,r):(!r||this.options[e]===void 0)&&(this.getOption(e)!==t&&(this.resolved=!1),this.options[e]=t),this};Ir.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var s=i.find(function(u){return Object.prototype.hasOwnProperty.call(u,e)});if(s){var o=s[e];Tg.setProperty(o,r,t)}else s={},s[e]=Tg.setProperty({},r,t),i.push(s)}else{var a={};a[e]=t,i.push(a)}return this};Ir.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],t);return this};Ir.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};Ir.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition};Ir._configure=function(n){k_=n}});var $s=ee((z5e,yj)=>{"use strict";yj.exports=zs;var mR=ec();((zs.prototype=Object.create(mR.prototype)).constructor=zs).className="Enum";var gj=th(),M_=dr();function zs(n,e,t,r,i,s){if(mR.call(this,n,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=i||{},this.valuesOptions=s,this._valuesFeatures={},this.reserved=void 0,e)for(var o=Object.keys(e),a=0;a<o.length;++a)typeof e[o[a]]=="number"&&(this.valuesById[this.values[o[a]]=e[o[a]]]=o[a])}zs.prototype._resolveFeatures=function(e){return e=this._edition||e,mR.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach(t=>{var r=Object.assign({},this._features);this._valuesFeatures[t]=Object.assign(r,this.valuesOptions&&this.valuesOptions[t]&&this.valuesOptions[t].features)}),this};zs.fromJSON=function(e,t){var r=new zs(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r};zs.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return M_.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};zs.prototype.add=function(e,t,r,i){if(!M_.isString(e))throw TypeError("name must be a string");if(!M_.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return i&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=i||null),this.comments[e]=r||null,this};zs.prototype.remove=function(e){if(!M_.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};zs.prototype.isReservedId=function(e){return gj.isReservedId(this.reserved,e)};zs.prototype.isReservedName=function(e){return gj.isReservedName(this.reserved,e)}});var uR=ee((G5e,bj)=>{"use strict";bj.exports=ege;var Xme=$s(),gR=Jl(),yR=dr();function vj(n,e,t,r){return e.delimited?n("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,r,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):n("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,r,(e.id<<3|2)>>>0)}function ege(n){for(var e=yR.codegen(["m","w"],n.name+"$encode")("if(!w)")("w=Writer.create()"),t,r,i=n.fieldsArray.slice().sort(yR.compareFieldsById),t=0;t<i.length;++t){var s=i[t].resolve(),o=n._fieldsArray.indexOf(s),a=s.resolvedType instanceof Xme?"int32":s.type,u=gR.basic[a];r="m"+yR.safeProp(s.name),s.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,s.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(s.id<<3|2)>>>0,8|gR.mapKey[s.keyType],s.keyType),u===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",o,r):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|u,a,r),e("}")("}")):s.repeated?(e("if(%s!=null&&%s.length){",r,r),s.packed&&gR.packed[a]!==void 0?e("w.uint32(%i).fork()",(s.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",a,r)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",r),u===void 0?vj(e,s,o,r+"[i]"):e("w.uint32(%i).%s(%s[i])",(s.id<<3|u)>>>0,a,r)),e("}")):(s.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,s.name),u===void 0?vj(e,s,o,r):e("w.uint32(%i).%s(%s)",(s.id<<3|u)>>>0,a,r))}return e("return w")}});var Ej=ee((W5e,_j)=>{"use strict";var Ct=_j.exports=Oq();Ct.build="light";function tge(n,e,t){return typeof e=="function"?(t=e,e=new Ct.Root):e||(e=new Ct.Root),e.load(n,t)}Ct.load=tge;function nge(n,e){return e||(e=new Ct.Root),e.loadSync(n)}Ct.loadSync=nge;Ct.encoder=uR();Ct.decoder=JN();Ct.verifier=eR();Ct.converter=rR();Ct.ReflectionObject=ec();Ct.Namespace=th();Ct.Root=A_();Ct.Enum=$s();Ct.Type=C_();Ct.Field=Xu();Ct.OneOf=Yl();Ct.MapField=b_();Ct.Service=E_();Ct.Method=__();Ct.Message=w_();Ct.wrappers=iR();Ct.types=Jl();Ct.util=dr();Ct.ReflectionObject._configure(Ct.Root);Ct.Namespace._configure(Ct.Type,Ct.Service,Ct.Enum);Ct.Root._configure(Ct.Type);Ct.Field._configure(Ct.Type)});var bR=ee((K5e,Tj)=>{"use strict";Tj.exports=Sj;var vR=/[\s{}=;:[\],'"()<>]/g,rge=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,ige=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,sge=/^ *[*/]+ */,oge=/^\s*\*?\/*/,age=/\n/g,uge=/\s/,cge=/\\(.?)/g,lge={0:"\0",r:"\r",n:`
`,t:"	"};function wj(n){return n.replace(cge,function(e,t){switch(t){case"\\":case"":return t;default:return lge[t]||""}})}Sj.unescape=wj;function Sj(n,e){n=n.toString();var t=0,r=n.length,i=1,s=0,o={},a=[],u=null;function c(T){return Error("illegal "+T+" (line "+i+")")}function l(){var T=u==="'"?ige:rge;T.lastIndex=t-1;var x=T.exec(n);if(!x)throw c("string");return t=T.lastIndex,S(u),u=null,wj(x[1])}function d(T){return n.charAt(T)}function f(T,x,V){var R={type:n.charAt(T++),lineEmpty:!1,leading:V},A;e?A=2:A=3;var N=T-A,E;do if(--N<0||(E=n.charAt(N))===`
`){R.lineEmpty=!0;break}while(E===" "||E==="	");for(var D=n.substring(T,x).split(age),P=0;P<D.length;++P)D[P]=D[P].replace(e?oge:sge,"").trim();R.text=D.join(`
`).trim(),o[i]=R,s=i}function h(T){var x=g(T),V=n.substring(T,x),R=/^\s*\/\//.test(V);return R}function g(T){for(var x=T;x<r&&d(x)!==`
`;)x++;return x}function y(){if(a.length>0)return a.shift();if(u)return l();var T,x,V,R,A,N=t===0;do{if(t===r)return null;for(T=!1;uge.test(V=d(t));)if(V===`
`&&(N=!0,++i),++t===r)return null;if(d(t)==="/"){if(++t===r)throw c("comment");if(d(t)==="/")if(e){if(R=t,A=!1,h(t-1)){A=!0;do if(t=g(t),t===r||(t++,!N))break;while(h(t))}else t=Math.min(r,g(t)+1);A&&(f(R,t,N),N=!0),i++,T=!0}else{for(A=d(R=t+1)==="/";d(++t)!==`
`;)if(t===r)return null;++t,A&&(f(R,t-1,N),N=!0),++i,T=!0}else if((V=d(t))==="*"){R=t+1,A=e||d(R)==="*";do{if(V===`
`&&++i,++t===r)throw c("comment");x=V,V=d(t)}while(x!=="*"||V!=="/");++t,A&&(f(R,t-2,N),N=!0),T=!0}else return"/"}}while(T);var E=t;vR.lastIndex=0;var D=vR.test(d(E++));if(!D)for(;E<r&&!vR.test(d(E));)++E;var P=n.substring(t,t=E);return(P==='"'||P==="'")&&(u=P),P}function S(T){a.push(T)}function _(){if(!a.length){var T=y();if(T===null)return null;S(T)}return a[0]}function C(T,x){var V=_(),R=V===T;if(R)return y(),!0;if(!x)throw c("token '"+V+"', '"+T+"' expected");return!1}function I(T){var x=null,V;return T===void 0?(V=o[i-1],delete o[i-1],V&&(e||V.type==="*"||V.lineEmpty)&&(x=V.leading?V.text:null)):(s<T&&_(),V=o[T],delete o[T],V&&!V.lineEmpty&&(e||V.type==="/")&&(x=V.leading?null:V.text)),x}return Object.defineProperty({next:y,peek:_,push:S,skip:C,cmnt:I},"line",{get:function(){return i}})}});var Nj=ee((Q5e,Aj)=>{"use strict";Aj.exports=Ma;Ma.filename=null;Ma.defaults={keepCase:!1};var dge=bR(),Cj=A_(),Ij=C_(),Dj=Xu(),fge=b_(),xj=Yl(),hge=$s(),pge=E_(),mge=__(),gge=ec(),yge=Jl(),_R=dr(),vge=/^[1-9][0-9]*$/,bge=/^-?[1-9][0-9]*$/,_ge=/^0[x][0-9a-fA-F]+$/,Ege=/^-?0[x][0-9a-fA-F]+$/,wge=/^0[0-7]+$/,Sge=/^-?0[0-7]+$/,Tge=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Mo=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Oo=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function Ma(n,e,t){e instanceof Cj||(t=e,e=new Cj),t||(t=Ma.defaults);var r=t.preferTrailingComment||!1,i=dge(n,t.alternateCommentMode||!1),s=i.next,o=i.push,a=i.peek,u=i.skip,c=i.cmnt,l=!0,d,f,h,g="proto2",y=e,S=[],_={},C=t.keepCase?function(X){return X}:_R.camelCase;function I(){S.forEach(X=>{X._edition=g,Object.keys(_).forEach(Z=>{X.getOption(Z)===void 0&&X.setOption(Z,_[Z],!0)})})}function T(X,Z,se){var we=Ma.filename;return se||(Ma.filename=null),Error("illegal "+(Z||"token")+" '"+X+"' ("+(we?we+", ":"")+"line "+i.line+")")}function x(){var X=[],Z;do{if((Z=s())!=='"'&&Z!=="'")throw T(Z);X.push(s()),u(Z),Z=a()}while(Z==='"'||Z==="'");return X.join("")}function V(X){var Z=s();switch(Z){case"'":case'"':return o(Z),x();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return A(Z,!0)}catch{if(X&&Oo.test(Z))return Z;throw T(Z,"value")}}function R(X,Z){var se,we;do if(Z&&((se=a())==='"'||se==="'")){var _e=x();if(X.push(_e),g>=2023)throw T(_e,"id")}else try{X.push([we=N(s()),u("to",!0)?N(s()):we])}catch(Gt){if(Z&&Oo.test(se)&&g>=2023)X.push(se);else throw Gt}while(u(",",!0));var Ke={options:void 0};Ke.setOption=function(Gt,$n){this.options===void 0&&(this.options={}),this.options[Gt]=$n},v(Ke,function($n){if($n==="option")q(Ke,$n),u(";");else throw T($n)},function(){jr(Ke)})}function A(X,Z){var se=1;switch(X.charAt(0)==="-"&&(se=-1,X=X.substring(1)),X){case"inf":case"INF":case"Inf":return se*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(vge.test(X))return se*parseInt(X,10);if(_ge.test(X))return se*parseInt(X,16);if(wge.test(X))return se*parseInt(X,8);if(Tge.test(X))return se*parseFloat(X);throw T(X,"number",Z)}function N(X,Z){switch(X){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!Z&&X.charAt(0)==="-")throw T(X,"id");if(bge.test(X))return parseInt(X,10);if(Ege.test(X))return parseInt(X,16);if(Sge.test(X))return parseInt(X,8);throw T(X,"id")}function E(){if(d!==void 0)throw T("package");if(d=s(),!Oo.test(d))throw T(d,"name");y=y.define(d),u(";")}function D(){var X=a(),Z;switch(X){case"weak":Z=h||(h=[]),s();break;case"public":s();default:Z=f||(f=[]);break}X=x(),u(";"),Z.push(X)}function P(){if(u("="),g=x(),g<2023)throw T(g,"syntax");u(";")}function p(){if(u("="),g=x(),!["2023"].includes(g))throw T(g,"edition");u(";")}function m(X,Z){switch(Z){case"option":return q(X,Z),u(";"),!0;case"message":return B(X,Z),!0;case"enum":return Le(X,Z),!0;case"service":return sp(X,Z),!0;case"extend":return ap(X,Z),!0}return!1}function v(X,Z,se){var we=i.line;if(X&&(typeof X.comment!="string"&&(X.comment=c()),X.filename=Ma.filename),u("{",!0)){for(var _e;(_e=s())!=="}";)Z(_e);u(";",!0)}else se&&se(),u(";"),X&&(typeof X.comment!="string"||r)&&(X.comment=c(we)||X.comment)}function B(X,Z){if(!Mo.test(Z=s()))throw T(Z,"type name");var se=new Ij(Z);v(se,function(_e){if(!m(se,_e))switch(_e){case"map":de(se,_e);break;case"required":if(g!=="proto2")throw T(_e);case"repeated":z(se,_e);break;case"optional":if(g==="proto3")z(se,"proto3_optional");else{if(g!=="proto2")throw T(_e);z(se,"optional")}break;case"oneof":De(se,_e);break;case"extensions":R(se.extensions||(se.extensions=[]));break;case"reserved":R(se.reserved||(se.reserved=[]),!0);break;default:if(g==="proto2"||!Oo.test(_e))throw T(_e);o(_e),z(se,"optional");break}}),X.add(se),X===y&&S.push(se)}function z(X,Z,se){var we=s();if(we==="group"){J(X,Z);return}for(;we.endsWith(".")||a().startsWith(".");)we+=s();if(!Oo.test(we))throw T(we,"type");var _e=s();if(!Mo.test(_e))throw T(_e,"name");_e=C(_e),u("=");var Ke=new Dj(_e,N(s()),we,Z,se);if(v(Ke,function(yr){if(yr==="option")q(Ke,yr),u(";");else throw T(yr)},function(){jr(Ke)}),Z==="proto3_optional"){var Gt=new xj("_"+_e);Ke.setOption("proto3_optional",!0),Gt.add(Ke),X.add(Gt)}else X.add(Ke);X===y&&S.push(Ke)}function J(X,Z){if(g>=2023)throw T("group");var se=s();if(!Mo.test(se))throw T(se,"name");var we=_R.lcFirst(se);se===we&&(se=_R.ucFirst(se)),u("=");var _e=N(s()),Ke=new Ij(se);Ke.group=!0;var Gt=new Dj(we,_e,se,Z);Gt.filename=Ma.filename,v(Ke,function(yr){switch(yr){case"option":q(Ke,yr),u(";");break;case"required":case"repeated":z(Ke,yr);break;case"optional":g==="proto3"?z(Ke,"proto3_optional"):z(Ke,"optional");break;case"message":B(Ke,yr);break;case"enum":Le(Ke,yr);break;case"reserved":R(Ke.reserved||(Ke.reserved=[]),!0);break;default:throw T(yr)}}),X.add(Ke).add(Gt)}function de(X){u("<");var Z=s();if(yge.mapKey[Z]===void 0)throw T(Z,"type");u(",");var se=s();if(!Oo.test(se))throw T(se,"type");u(">");var we=s();if(!Mo.test(we))throw T(we,"name");u("=");var _e=new fge(C(we),N(s()),Z,se);v(_e,function(Gt){if(Gt==="option")q(_e,Gt),u(";");else throw T(Gt)},function(){jr(_e)}),X.add(_e)}function De(X,Z){if(!Mo.test(Z=s()))throw T(Z,"name");var se=new xj(C(Z));v(se,function(_e){_e==="option"?(q(se,_e),u(";")):(o(_e),z(se,"optional"))}),X.add(se)}function Le(X,Z){if(!Mo.test(Z=s()))throw T(Z,"name");var se=new hge(Z);v(se,function(_e){switch(_e){case"option":q(se,_e),u(";");break;case"reserved":R(se.reserved||(se.reserved=[]),!0),se.reserved===void 0&&(se.reserved=[]);break;default:U(se,_e)}}),X.add(se),X===y&&S.push(se)}function U(X,Z){if(!Mo.test(Z))throw T(Z,"name");u("=");var se=N(s(),!0),we={options:void 0};we.getOption=function(_e){return this.options[_e]},we.setOption=function(_e,Ke){gge.prototype.setOption.call(we,_e,Ke)},we.setParsedOption=function(){},v(we,function(Ke){if(Ke==="option")q(we,Ke),u(";");else throw T(Ke)},function(){jr(we)}),X.add(Z,se,we.comment,we.parsedOptions||we.options)}function q(X,Z){var se,we,_e=!0;for(Z==="option"&&(Z=s());Z!=="=";){if(Z==="("){var Ke=s();u(")"),Z="("+Ke+")"}if(_e){if(_e=!1,Z.includes(".")&&!Z.includes("(")){var Gt=Z.split(".");se=Gt[0]+".",Z=Gt[1];continue}se=Z}else we=we?we+=Z:Z;Z=s()}var $n=we?se.concat(we):se,yr=ce(X,$n);we=we&&we[0]==="."?we.slice(1):we,se=se&&se[se.length-1]==="."?se.slice(0,-1):se,kt(X,se,yr,we)}function ce(X,Z){if(u("{",!0)){for(var se={};!u("}",!0);){if(!Mo.test(rn=s()))throw T(rn,"name");if(rn===null)throw T(rn,"end of input");var we,_e=rn;if(u(":",!0),a()==="{")we=ce(X,Z+"."+rn);else if(a()==="["){we=[];var Ke;if(u("[",!0)){do Ke=V(!0),we.push(Ke);while(u(",",!0));u("]"),typeof Ke<"u"&&Ce(X,Z+"."+rn,Ke)}}else we=V(!0),Ce(X,Z+"."+rn,we);var Gt=se[_e];Gt&&(we=[].concat(Gt).concat(we)),se[_e]=we,u(",",!0),u(";",!0)}return se}var $n=V(!0);return Ce(X,Z,$n),$n}function Ce(X,Z,se){if(y===X&&/^features\./.test(Z)){_[Z]=se;return}X.setOption&&X.setOption(Z,se)}function kt(X,Z,se,we){X.setParsedOption&&X.setParsedOption(Z,se,we)}function jr(X){if(u("[",!0)){do q(X,"option");while(u(",",!0));u("]")}return X}function sp(X,Z){if(!Mo.test(Z=s()))throw T(Z,"service name");var se=new pge(Z);v(se,function(_e){if(!m(se,_e))if(_e==="rpc")op(se,_e);else throw T(_e)}),X.add(se),X===y&&S.push(se)}function op(X,Z){var se=c(),we=Z;if(!Mo.test(Z=s()))throw T(Z,"name");var _e=Z,Ke,Gt,$n,yr;if(u("("),u("stream",!0)&&(Gt=!0),!Oo.test(Z=s())||(Ke=Z,u(")"),u("returns"),u("("),u("stream",!0)&&(yr=!0),!Oo.test(Z=s())))throw T(Z);$n=Z,u(")");var Li=new mge(_e,we,Ke,$n,Gt,yr);Li.comment=se,v(Li,function(zn){if(zn==="option")q(Li,zn),u(";");else throw T(zn)}),X.add(Li)}function ap(X,Z){if(!Oo.test(Z=s()))throw T(Z,"reference");var se=Z;v(null,function(_e){switch(_e){case"required":case"repeated":z(X,_e,se);break;case"optional":g==="proto3"?z(X,"proto3_optional",se):z(X,"optional",se);break;default:if(g==="proto2"||!Oo.test(_e))throw T(_e);o(_e),z(X,"optional",se);break}})}for(var rn;(rn=s())!==null;)switch(rn){case"package":if(!l)throw T(rn);E();break;case"import":if(!l)throw T(rn);D();break;case"syntax":if(!l)throw T(rn);P();break;case"edition":if(!l)throw T(rn);p();break;case"option":q(y,rn),u(";",!0);break;default:if(m(y,rn)){l=!1;continue}throw T(rn)}return I(),Ma.filename=null,{package:d,imports:f,weakImports:h,root:e}}});var Mj=ee((Y5e,kj)=>{"use strict";kj.exports=Gs;var Cge=/\/|\./;function Gs(n,e){Cge.test(n)||(n="google/protobuf/"+n+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),Gs[n]=e}Gs("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var Rj;Gs("duration",{Duration:Rj={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});Gs("timestamp",{Timestamp:Rj});Gs("empty",{Empty:{fields:{}}});Gs("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});Gs("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});Gs("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});Gs.get=function(e){return Gs[e]||null}});var Pj=ee((J5e,Oj)=>{"use strict";var nc=Oj.exports=Ej();nc.build="full";nc.tokenize=bR();nc.parse=Nj();nc.common=Mj();nc.Root._configure(nc.Type,nc.parse,nc.common)});var O_=ee((Z5e,Lj)=>{"use strict";Lj.exports=Pj()});var ER=ee((X5e,Ige)=>{Ige.exports={nested:{google:{nested:{protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{edition:"proto2",fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}},extensions:[[536e6,536e6]]},Edition:{edition:"proto2",values:{EDITION_UNKNOWN:0,EDITION_LEGACY:900,EDITION_PROTO2:998,EDITION_PROTO3:999,EDITION_2023:1e3,EDITION_2024:1001,EDITION_1_TEST_ONLY:1,EDITION_2_TEST_ONLY:2,EDITION_99997_TEST_ONLY:99997,EDITION_99998_TEST_ONLY:99998,EDITION_99999_TEST_ONLY:99999,EDITION_MAX:2147483647}},FileDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10},weakDependency:{rule:"repeated",type:"int32",id:11},optionDependency:{rule:"repeated",type:"string",id:15},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12},edition:{type:"Edition",id:14}}},DescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10},visibility:{type:"SymbolVisibility",id:11}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{edition:"proto2",fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999},declaration:{rule:"repeated",type:"Declaration",id:2,options:{retention:"RETENTION_SOURCE"}},features:{type:"FeatureSet",id:50},verification:{type:"VerificationState",id:3,options:{default:"UNVERIFIED",retention:"RETENTION_SOURCE"}}},extensions:[[1e3,536870911]],nested:{Declaration:{fields:{number:{type:"int32",id:1},fullName:{type:"string",id:2},type:{type:"string",id:3},reserved:{type:"bool",id:5},repeated:{type:"bool",id:6}},reserved:[[4,4]]},VerificationState:{values:{DECLARATION:0,UNVERIFIED:1}}}},FieldDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REPEATED:3,LABEL_REQUIRED:2}}}},OneofDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5},visibility:{type:"SymbolVisibility",id:6}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{edition:"proto2",fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},features:{type:"FeatureSet",id:50},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[42,42],[38,38],"php_generic_services"],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{edition:"proto2",fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:11,options:{deprecated:!0}},features:{type:"FeatureSet",id:12},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[5,5],[6,6],[8,8],[9,9]]},FieldOptions:{edition:"proto2",fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},unverifiedLazy:{type:"bool",id:15},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10,options:{deprecated:!0}},debugRedact:{type:"bool",id:16},retention:{type:"OptionRetention",id:17},targets:{rule:"repeated",type:"OptionTargetType",id:19},editionDefaults:{rule:"repeated",type:"EditionDefault",id:20},features:{type:"FeatureSet",id:21},featureSupport:{type:"FeatureSupport",id:22},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[18,18]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}},OptionRetention:{values:{RETENTION_UNKNOWN:0,RETENTION_RUNTIME:1,RETENTION_SOURCE:2}},OptionTargetType:{values:{TARGET_TYPE_UNKNOWN:0,TARGET_TYPE_FILE:1,TARGET_TYPE_EXTENSION_RANGE:2,TARGET_TYPE_MESSAGE:3,TARGET_TYPE_FIELD:4,TARGET_TYPE_ONEOF:5,TARGET_TYPE_ENUM:6,TARGET_TYPE_ENUM_ENTRY:7,TARGET_TYPE_SERVICE:8,TARGET_TYPE_METHOD:9}},EditionDefault:{fields:{edition:{type:"Edition",id:3},value:{type:"string",id:2}}},FeatureSupport:{fields:{editionIntroduced:{type:"Edition",id:1},editionDeprecated:{type:"Edition",id:2},deprecationWarning:{type:"string",id:3},editionRemoved:{type:"Edition",id:4}}}}},OneofOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{edition:"proto2",fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:6,options:{deprecated:!0}},features:{type:"FeatureSet",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:1},features:{type:"FeatureSet",id:2},debugRedact:{type:"bool",id:3},featureSupport:{type:"FieldOptions.FeatureSupport",id:4},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:34},deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:33},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},features:{type:"FeatureSet",id:35},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{edition:"proto2",fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},FeatureSet:{edition:"proto2",fields:{fieldPresence:{type:"FieldPresence",id:1,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},enumType:{type:"EnumType",id:2,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},repeatedFieldEncoding:{type:"RepeatedFieldEncoding",id:3,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},utf8Validation:{type:"Utf8Validation",id:4,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},messageEncoding:{type:"MessageEncoding",id:5,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},jsonFormat:{type:"JsonFormat",id:6,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},enforceNamingStyle:{type:"EnforceNamingStyle",id:7,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},defaultSymbolVisibility:{type:"VisibilityFeature.DefaultSymbolVisibility",id:8,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},extensions:[[1e3,9994],[9995,9999],[1e4,1e4]],reserved:[[999,999]],nested:{FieldPresence:{values:{FIELD_PRESENCE_UNKNOWN:0,EXPLICIT:1,IMPLICIT:2,LEGACY_REQUIRED:3}},EnumType:{values:{ENUM_TYPE_UNKNOWN:0,OPEN:1,CLOSED:2}},RepeatedFieldEncoding:{values:{REPEATED_FIELD_ENCODING_UNKNOWN:0,PACKED:1,EXPANDED:2}},Utf8Validation:{values:{UTF8_VALIDATION_UNKNOWN:0,VERIFY:2,NONE:3}},MessageEncoding:{values:{MESSAGE_ENCODING_UNKNOWN:0,LENGTH_PREFIXED:1,DELIMITED:2}},JsonFormat:{values:{JSON_FORMAT_UNKNOWN:0,ALLOW:1,LEGACY_BEST_EFFORT:2}},EnforceNamingStyle:{values:{ENFORCE_NAMING_STYLE_UNKNOWN:0,STYLE2024:1,STYLE_LEGACY:2}},VisibilityFeature:{fields:{},reserved:[[1,536870911]],nested:{DefaultSymbolVisibility:{values:{DEFAULT_SYMBOL_VISIBILITY_UNKNOWN:0,EXPORT_ALL:1,EXPORT_TOP_LEVEL:2,LOCAL_ALL:3,STRICT:4}}}}}},FeatureSetDefaults:{edition:"proto2",fields:{defaults:{rule:"repeated",type:"FeatureSetEditionDefault",id:1},minimumEdition:{type:"Edition",id:4},maximumEdition:{type:"Edition",id:5}},nested:{FeatureSetEditionDefault:{fields:{edition:{type:"Edition",id:3},overridableFeatures:{type:"FeatureSet",id:4},fixedFeatures:{type:"FeatureSet",id:5}},reserved:[[1,1],[2,2],"features"]}}},SourceCodeInfo:{edition:"proto2",fields:{location:{rule:"repeated",type:"Location",id:1}},extensions:[[536e6,536e6]],nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:!0}},span:{rule:"repeated",type:"int32",id:2,options:{packed:!0}},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{edition:"proto2",fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:!0}},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4},semantic:{type:"Semantic",id:5}},nested:{Semantic:{values:{NONE:0,SET:1,ALIAS:2}}}}}},SymbolVisibility:{edition:"proto2",values:{VISIBILITY_UNSET:0,VISIBILITY_LOCAL:1,VISIBILITY_EXPORT:2}}}}}}}}});var Hj=ee((ft,jj)=>{"use strict";var ki=O_();jj.exports=ft=ki.descriptor=ki.Root.fromJSON(ER()).lookup(".google.protobuf");var Fj=ki.Namespace,Cg=ki.Root,Oa=ki.Enum,Po=ki.Type,rc=ki.Field,Dge=ki.MapField,P_=ki.OneOf,Ig=ki.Service,L_=ki.Method;Cg.fromDescriptor=function(e){typeof e.length=="number"&&(e=ft.FileDescriptorSet.decode(e));var t=new Cg;if(e.file)for(var r,i,s=0,o;s<e.file.length;++s){i=t,(r=e.file[s]).package&&r.package.length&&(i=t.define(r.package));var a=Fge(r);if(r.name&&r.name.length&&t.files.push(i.filename=r.name),r.messageType)for(o=0;o<r.messageType.length;++o)i.add(Po.fromDescriptor(r.messageType[o],a));if(r.enumType)for(o=0;o<r.enumType.length;++o)i.add(Oa.fromDescriptor(r.enumType[o],a));if(r.extension)for(o=0;o<r.extension.length;++o)i.add(rc.fromDescriptor(r.extension[o],a));if(r.service)for(o=0;o<r.service.length;++o)i.add(Ig.fromDescriptor(r.service[o],a));var u=rh(r.options,ft.FileOptions);if(u){var c=Object.keys(u);for(o=0;o<c.length;++o)i.setOption(c[o],u[c[o]])}}return t.resolveAll()};Cg.prototype.toDescriptor=function(e){var t=ft.FileDescriptorSet.create();return Uj(this,t.file,e),t};function Uj(n,e,t){var r=ft.FileDescriptorProto.create({name:n.filename||(n.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});Uge(t,r),n instanceof Cg||(r.package=n.fullName.substring(1));for(var i=0,s;i<n.nestedArray.length;++i)(s=n._nestedArray[i])instanceof Po?r.messageType.push(s.toDescriptor(t)):s instanceof Oa?r.enumType.push(s.toDescriptor()):s instanceof rc?r.extension.push(s.toDescriptor(t)):s instanceof Ig?r.service.push(s.toDescriptor()):s instanceof Fj&&Uj(s,e,t);r.options=ih(n.options,ft.FileOptions),r.messageType.length+r.enumType.length+r.extension.length+r.service.length&&e.push(r)}var xge=0;Po.fromDescriptor=function(e,t,r){typeof e.length=="number"&&(e=ft.DescriptorProto.decode(e));var i=new Po(e.name.length?e.name:"Type"+xge++,rh(e.options,ft.MessageOptions)),s;if(r||(i._edition=t),e.oneofDecl)for(s=0;s<e.oneofDecl.length;++s)i.add(P_.fromDescriptor(e.oneofDecl[s]));if(e.field)for(s=0;s<e.field.length;++s){var o=rc.fromDescriptor(e.field[s],t,!0);i.add(o),e.field[s].hasOwnProperty("oneofIndex")&&i.oneofsArray[e.field[s].oneofIndex].add(o)}if(e.extension)for(s=0;s<e.extension.length;++s)i.add(rc.fromDescriptor(e.extension[s],t,!0));if(e.nestedType)for(s=0;s<e.nestedType.length;++s)i.add(Po.fromDescriptor(e.nestedType[s],t,!0)),e.nestedType[s].options&&e.nestedType[s].options.mapEntry&&i.setOption("map_entry",!0);if(e.enumType)for(s=0;s<e.enumType.length;++s)i.add(Oa.fromDescriptor(e.enumType[s],t,!0));if(e.extensionRange&&e.extensionRange.length)for(i.extensions=[],s=0;s<e.extensionRange.length;++s)i.extensions.push([e.extensionRange[s].start,e.extensionRange[s].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(i.reserved=[],e.reservedRange)for(s=0;s<e.reservedRange.length;++s)i.reserved.push([e.reservedRange[s].start,e.reservedRange[s].end]);if(e.reservedName)for(s=0;s<e.reservedName.length;++s)i.reserved.push(e.reservedName[s])}return i};Po.prototype.toDescriptor=function(e){var t=ft.DescriptorProto.create({name:this.name}),r;for(r=0;r<this.fieldsArray.length;++r){var i;if(t.field.push(i=this._fieldsArray[r].toDescriptor(e)),this._fieldsArray[r]instanceof Dge){var s=wR(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType,!1),o=wR(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType,!1),a=o===11||o===14?this._fieldsArray[r].resolvedType&&qj(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:void 0;t.nestedType.push(ft.DescriptorProto.create({name:i.typeName,field:[ft.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),ft.FieldDescriptorProto.create({name:"value",number:2,label:1,type:o,typeName:a})],options:ft.MessageOptions.create({mapEntry:!0})}))}}for(r=0;r<this.oneofsArray.length;++r)t.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r)this._nestedArray[r]instanceof rc?t.field.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof Po?t.nestedType.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof Oa&&t.enumType.push(this._nestedArray[r].toDescriptor());if(this.extensions)for(r=0;r<this.extensions.length;++r)t.extensionRange.push(ft.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)typeof this.reserved[r]=="string"?t.reservedName.push(this.reserved[r]):t.reservedRange.push(ft.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));return t.options=ih(this.options,ft.MessageOptions),t};var Age=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;rc.fromDescriptor=function(e,t,r){if(typeof e.length=="number"&&(e=ft.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var i;e.typeName&&e.typeName.length?i=e.typeName:i=Oge(e.type);var s;switch(e.label){case 1:s=void 0;break;case 2:s="required";break;case 3:s="repeated";break;default:throw Error("illegal label: "+e.label)}var o=e.extendee;e.extendee!==void 0&&(o=o.length?o:void 0);var a=new rc(e.name.length?e.name:"field"+e.number,e.number,i,s,o);if(r||(a._edition=t),a.options=rh(e.options,ft.FieldOptions),e.proto3_optional&&(a.options.proto3_optional=!0),e.defaultValue&&e.defaultValue.length){var u=e.defaultValue;switch(u){case"true":case"TRUE":u=!0;break;case"false":case"FALSE":u=!1;break;default:var c=Age.exec(u);c&&(u=parseInt(u));break}a.setOption("default",u)}return Pge(e.type)&&(t==="proto3"?e.options&&!e.options.packed&&a.setOption("packed",!1):(!t||t==="proto2")&&e.options&&e.options.packed&&a.setOption("packed",!0)),a};rc.prototype.toDescriptor=function(e){var t=ft.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)t.type=11,t.typeName=ki.util.ucFirst(this.name),t.label=3;else{switch(t.type=wR(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:t.typeName=this.resolvedType?qj(this.parent,this.resolvedType):this.type;break}this.rule==="repeated"?t.label=3:this.required&&e==="proto2"?t.label=2:t.label=1}if(t.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(t.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(t.options=ih(this.options,ft.FieldOptions),this.options.default!=null&&(t.defaultValue=String(this.options.default)),this.options.proto3_optional&&(t.proto3_optional=!0)),e==="proto3"?this.packed||((t.options||(t.options=ft.FieldOptions.create())).packed=!1):(!e||e==="proto2")&&this.packed&&((t.options||(t.options=ft.FieldOptions.create())).packed=!0),t};var Nge=0;Oa.fromDescriptor=function(e,t,r){typeof e.length=="number"&&(e=ft.EnumDescriptorProto.decode(e));var i={};if(e.value)for(var s=0;s<e.value.length;++s){var o=e.value[s].name,a=e.value[s].number||0;i[o&&o.length?o:"NAME"+a]=a}var u=new Oa(e.name&&e.name.length?e.name:"Enum"+Nge++,i,rh(e.options,ft.EnumOptions));return r||(u._edition=t),u};Oa.prototype.toDescriptor=function(){for(var e=[],t=0,r=Object.keys(this.values);t<r.length;++t)e.push(ft.EnumValueDescriptorProto.create({name:r[t],number:this.values[r[t]]}));return ft.EnumDescriptorProto.create({name:this.name,value:e,options:ih(this.options,ft.EnumOptions)})};var Rge=0;P_.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ft.OneofDescriptorProto.decode(e)),new P_(e.name&&e.name.length?e.name:"oneof"+Rge++)};P_.prototype.toDescriptor=function(){return ft.OneofDescriptorProto.create({name:this.name})};var kge=0;Ig.fromDescriptor=function(e,t,r){typeof e.length=="number"&&(e=ft.ServiceDescriptorProto.decode(e));var i=new Ig(e.name&&e.name.length?e.name:"Service"+kge++,rh(e.options,ft.ServiceOptions));if(r||(i._edition=t),e.method)for(var s=0;s<e.method.length;++s)i.add(L_.fromDescriptor(e.method[s]));return i};Ig.prototype.toDescriptor=function(){for(var e=[],t=0;t<this.methodsArray.length;++t)e.push(this._methodsArray[t].toDescriptor());return ft.ServiceDescriptorProto.create({name:this.name,method:e,options:ih(this.options,ft.ServiceOptions)})};var Mge=0;L_.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ft.MethodDescriptorProto.decode(e)),new L_(e.name&&e.name.length?e.name:"Method"+Mge++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,rh(e.options,ft.MethodOptions))};L_.prototype.toDescriptor=function(){return ft.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:ih(this.options,ft.MethodOptions)})};function Oge(n){switch(n){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+n)}function Pge(n){switch(n){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function wR(n,e,t){switch(n){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof Oa)return 14;if(e instanceof Po)return t?10:11;throw Error("illegal type: "+n)}function Bj(n,e){for(var t={},r=0,i,s;r<e.fieldsArray.length;++r)if((s=(i=e._fieldsArray[r]).name)!=="uninterpretedOption"&&Object.prototype.hasOwnProperty.call(n,s)){var o=Lge(s);i.resolvedType instanceof Po?t[o]=Bj(n[s],i.resolvedType):i.resolvedType instanceof Oa?t[o]=i.resolvedType.valuesById[n[s]]:t[o]=n[s]}return t}function rh(n,e){if(n)return Bj(e.toObject(n),e)}function Vj(n,e){for(var t={},r=Object.keys(n),i=0;i<r.length;++i){var s=r[i],o=ki.util.camelCase(s);if(Object.prototype.hasOwnProperty.call(e.fields,o)){var a=e.fields[o];a.resolvedType instanceof Po?t[o]=Vj(n[s],a.resolvedType):t[o]=n[s],a.repeated&&!Array.isArray(t[o])&&(t[o]=[t[o]])}}return t}function ih(n,e){if(n)return e.fromObject(Vj(n,e))}function qj(n,e){var t=n.fullName.split("."),r=e.fullName.split("."),i=0,s=0,o=r.length-1;if(!(n instanceof Cg)&&e instanceof Fj)for(;i<t.length&&s<o&&t[i]===r[s];){var a=e.lookup(t[i++],!0);if(a!==null&&a!==e)break;++s}else for(;i<t.length&&s<o&&t[i]===r[s];++i,++s);return r.slice(s).join(".")}function Lge(n){return n.substring(0,1)+n.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}function Fge(n){if(n.syntax==="editions")switch(n.edition){case ft.Edition.EDITION_2023:return"2023";default:throw new Error("Unsupported edition "+n.edition)}return n.syntax==="proto3"?"proto3":"proto2"}function Uge(n,e){if(n)if(n==="proto2"||n==="proto3")e.syntax=n;else switch(e.syntax="editions",n){case"2023":e.edition=ft.Edition.EDITION_2023;break;default:throw new Error("Unsupported edition "+n)}}});var $j=ee((eFe,Bge)=>{Bge.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var zj=ee((tFe,Vge)=>{Vge.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var Gj=ee((nFe,qge)=>{qge.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var Yj=ee(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.addCommonProtos=ic.loadProtosWithOptionsSync=ic.loadProtosWithOptions=void 0;var Wj=Wt("fs"),Kj=Wt("path"),sh=O_();function Qj(n,e){let t=n.resolvePath;n.resolvePath=(r,i)=>{if(Kj.isAbsolute(i))return i;for(let s of e){let o=Kj.join(s,i);try{return Wj.accessSync(o,Wj.constants.R_OK),o}catch{continue}}return process.emitWarning(`${i} not found in any of the include paths ${e}`),t(r,i)}}function jge(n,e){return O(this,null,function*(){let t=new sh.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));Qj(t,e.includeDirs)}let r=yield t.load(n,e);return r.resolveAll(),r})}ic.loadProtosWithOptions=jge;function Hge(n,e){let t=new sh.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");Qj(t,e.includeDirs)}let r=t.loadSync(n,e);return r.resolveAll(),r}ic.loadProtosWithOptionsSync=Hge;function $ge(){let n=$j(),e=ER(),t=zj(),r=Gj();sh.common("api",n.nested.google.nested.protobuf.nested),sh.common("descriptor",e.nested.google.nested.protobuf.nested),sh.common("source_context",t.nested.google.nested.protobuf.nested),sh.common("type",r.nested.google.nested.protobuf.nested)}ic.addCommonProtos=$ge});var Jj=ee((Dg,SR)=>{"use strict";(function(n,e){function t(r){return r.default||r}typeof define=="function"&&define.amd?define([],function(){var r={};return e(r),t(r)}):typeof Dg=="object"?(e(Dg),typeof SR=="object"&&(SR.exports=t(Dg))):function(){var r={};e(r),n.Long=t(r)}()})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Dg,function(n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(p,m,v){this.low=p|0,this.high=m|0,this.unsigned=!!v}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function r(p){return(p&&p.__isLong__)===!0}function i(p){var m=Math.clz32(p&-p);return p?31-m:m}t.isLong=r;var s={},o={};function a(p,m){var v,B,z;return m?(p>>>=0,(z=0<=p&&p<256)&&(B=o[p],B)?B:(v=c(p,0,!0),z&&(o[p]=v),v)):(p|=0,(z=-128<=p&&p<128)&&(B=s[p],B)?B:(v=c(p,p<0?-1:0,!1),z&&(s[p]=v),v))}t.fromInt=a;function u(p,m){if(isNaN(p))return m?T:I;if(m){if(p<0)return T;if(p>=S)return N}else{if(p<=-_)return E;if(p+1>=_)return A}return p<0?u(-p,m).neg():c(p%y|0,p/y|0,m)}t.fromNumber=u;function c(p,m,v){return new t(p,m,v)}t.fromBits=c;var l=Math.pow;function d(p,m,v){if(p.length===0)throw Error("empty string");if(typeof m=="number"?(v=m,m=!1):m=!!m,p==="NaN"||p==="Infinity"||p==="+Infinity"||p==="-Infinity")return m?T:I;if(v=v||10,v<2||36<v)throw RangeError("radix");var B;if((B=p.indexOf("-"))>0)throw Error("interior hyphen");if(B===0)return d(p.substring(1),m,v).neg();for(var z=u(l(v,8)),J=I,de=0;de<p.length;de+=8){var De=Math.min(8,p.length-de),Le=parseInt(p.substring(de,de+De),v);if(De<8){var U=u(l(v,De));J=J.mul(U).add(u(Le))}else J=J.mul(z),J=J.add(u(Le))}return J.unsigned=m,J}t.fromString=d;function f(p,m){return typeof p=="number"?u(p,m):typeof p=="string"?d(p,m):c(p.low,p.high,typeof m=="boolean"?m:p.unsigned)}t.fromValue=f;var h=65536,g=1<<24,y=h*h,S=y*y,_=S/2,C=a(g),I=a(0);t.ZERO=I;var T=a(0,!0);t.UZERO=T;var x=a(1);t.ONE=x;var V=a(1,!0);t.UONE=V;var R=a(-1);t.NEG_ONE=R;var A=c(-1,2147483647,!1);t.MAX_VALUE=A;var N=c(-1,-1,!0);t.MAX_UNSIGNED_VALUE=N;var E=c(0,-2147483648,!1);t.MIN_VALUE=E;var D=t.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low},D.toNumber=function(){return this.unsigned?(this.high>>>0)*y+(this.low>>>0):this.high*y+(this.low>>>0)},D.toString=function(m){if(m=m||10,m<2||36<m)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(E)){var v=u(m),B=this.div(v),z=B.mul(v).sub(this);return B.toString(m)+z.toInt().toString(m)}else return"-"+this.neg().toString(m);for(var J=u(l(m,6),this.unsigned),de=this,De="";;){var Le=de.div(J),U=de.sub(Le.mul(J)).toInt()>>>0,q=U.toString(m);if(de=Le,de.isZero())return q+De;for(;q.length<6;)q="0"+q;De=""+q+De}},D.getHighBits=function(){return this.high},D.getHighBitsUnsigned=function(){return this.high>>>0},D.getLowBits=function(){return this.low},D.getLowBitsUnsigned=function(){return this.low>>>0},D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var m=this.high!=0?this.high:this.low,v=31;v>0&&(m&1<<v)==0;v--);return this.high!=0?v+33:v+1},D.isSafeInteger=function(){var m=this.high>>21;return m?this.unsigned?!1:m===-1&&!(this.low===0&&this.high===-2097152):!0},D.isZero=function(){return this.high===0&&this.low===0},D.eqz=D.isZero,D.isNegative=function(){return!this.unsigned&&this.high<0},D.isPositive=function(){return this.unsigned||this.high>=0},D.isOdd=function(){return(this.low&1)===1},D.isEven=function(){return(this.low&1)===0},D.equals=function(m){return r(m)||(m=f(m)),this.unsigned!==m.unsigned&&this.high>>>31===1&&m.high>>>31===1?!1:this.high===m.high&&this.low===m.low},D.eq=D.equals,D.notEquals=function(m){return!this.eq(m)},D.neq=D.notEquals,D.ne=D.notEquals,D.lessThan=function(m){return this.comp(m)<0},D.lt=D.lessThan,D.lessThanOrEqual=function(m){return this.comp(m)<=0},D.lte=D.lessThanOrEqual,D.le=D.lessThanOrEqual,D.greaterThan=function(m){return this.comp(m)>0},D.gt=D.greaterThan,D.greaterThanOrEqual=function(m){return this.comp(m)>=0},D.gte=D.greaterThanOrEqual,D.ge=D.greaterThanOrEqual,D.compare=function(m){if(r(m)||(m=f(m)),this.eq(m))return 0;var v=this.isNegative(),B=m.isNegative();return v&&!B?-1:!v&&B?1:this.unsigned?m.high>>>0>this.high>>>0||m.high===this.high&&m.low>>>0>this.low>>>0?-1:1:this.sub(m).isNegative()?-1:1},D.comp=D.compare,D.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(x)},D.neg=D.negate,D.add=function(m){r(m)||(m=f(m));var v=this.high>>>16,B=this.high&65535,z=this.low>>>16,J=this.low&65535,de=m.high>>>16,De=m.high&65535,Le=m.low>>>16,U=m.low&65535,q=0,ce=0,Ce=0,kt=0;return kt+=J+U,Ce+=kt>>>16,kt&=65535,Ce+=z+Le,ce+=Ce>>>16,Ce&=65535,ce+=B+De,q+=ce>>>16,ce&=65535,q+=v+de,q&=65535,c(Ce<<16|kt,q<<16|ce,this.unsigned)},D.subtract=function(m){return r(m)||(m=f(m)),this.add(m.neg())},D.sub=D.subtract,D.multiply=function(m){if(this.isZero())return this;if(r(m)||(m=f(m)),e){var v=e.mul(this.low,this.high,m.low,m.high);return c(v,e.get_high(),this.unsigned)}if(m.isZero())return this.unsigned?T:I;if(this.eq(E))return m.isOdd()?E:I;if(m.eq(E))return this.isOdd()?E:I;if(this.isNegative())return m.isNegative()?this.neg().mul(m.neg()):this.neg().mul(m).neg();if(m.isNegative())return this.mul(m.neg()).neg();if(this.lt(C)&&m.lt(C))return u(this.toNumber()*m.toNumber(),this.unsigned);var B=this.high>>>16,z=this.high&65535,J=this.low>>>16,de=this.low&65535,De=m.high>>>16,Le=m.high&65535,U=m.low>>>16,q=m.low&65535,ce=0,Ce=0,kt=0,jr=0;return jr+=de*q,kt+=jr>>>16,jr&=65535,kt+=J*q,Ce+=kt>>>16,kt&=65535,kt+=de*U,Ce+=kt>>>16,kt&=65535,Ce+=z*q,ce+=Ce>>>16,Ce&=65535,Ce+=J*U,ce+=Ce>>>16,Ce&=65535,Ce+=de*Le,ce+=Ce>>>16,Ce&=65535,ce+=B*q+z*U+J*Le+de*De,ce&=65535,c(kt<<16|jr,ce<<16|Ce,this.unsigned)},D.mul=D.multiply,D.divide=function(m){if(r(m)||(m=f(m)),m.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&m.low===-1&&m.high===-1)return this;var v=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,m.low,m.high);return c(v,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?T:I;var B,z,J;if(this.unsigned){if(m.unsigned||(m=m.toUnsigned()),m.gt(this))return T;if(m.gt(this.shru(1)))return V;J=T}else{if(this.eq(E)){if(m.eq(x)||m.eq(R))return E;if(m.eq(E))return x;var de=this.shr(1);return B=de.div(m).shl(1),B.eq(I)?m.isNegative()?x:R:(z=this.sub(m.mul(B)),J=B.add(z.div(m)),J)}else if(m.eq(E))return this.unsigned?T:I;if(this.isNegative())return m.isNegative()?this.neg().div(m.neg()):this.neg().div(m).neg();if(m.isNegative())return this.div(m.neg()).neg();J=I}for(z=this;z.gte(m);){B=Math.max(1,Math.floor(z.toNumber()/m.toNumber()));for(var De=Math.ceil(Math.log(B)/Math.LN2),Le=De<=48?1:l(2,De-48),U=u(B),q=U.mul(m);q.isNegative()||q.gt(z);)B-=Le,U=u(B,this.unsigned),q=U.mul(m);U.isZero()&&(U=x),J=J.add(U),z=z.sub(q)}return J},D.div=D.divide,D.modulo=function(m){if(r(m)||(m=f(m)),e){var v=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,m.low,m.high);return c(v,e.get_high(),this.unsigned)}return this.sub(this.div(m).mul(m))},D.mod=D.modulo,D.rem=D.modulo,D.not=function(){return c(~this.low,~this.high,this.unsigned)},D.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},D.clz=D.countLeadingZeros,D.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},D.ctz=D.countTrailingZeros,D.and=function(m){return r(m)||(m=f(m)),c(this.low&m.low,this.high&m.high,this.unsigned)},D.or=function(m){return r(m)||(m=f(m)),c(this.low|m.low,this.high|m.high,this.unsigned)},D.xor=function(m){return r(m)||(m=f(m)),c(this.low^m.low,this.high^m.high,this.unsigned)},D.shiftLeft=function(m){return r(m)&&(m=m.toInt()),(m&=63)===0?this:m<32?c(this.low<<m,this.high<<m|this.low>>>32-m,this.unsigned):c(0,this.low<<m-32,this.unsigned)},D.shl=D.shiftLeft,D.shiftRight=function(m){return r(m)&&(m=m.toInt()),(m&=63)===0?this:m<32?c(this.low>>>m|this.high<<32-m,this.high>>m,this.unsigned):c(this.high>>m-32,this.high>=0?0:-1,this.unsigned)},D.shr=D.shiftRight,D.shiftRightUnsigned=function(m){return r(m)&&(m=m.toInt()),(m&=63)===0?this:m<32?c(this.low>>>m|this.high<<32-m,this.high>>>m,this.unsigned):m===32?c(this.high,0,this.unsigned):c(this.high>>>m-32,0,this.unsigned)},D.shru=D.shiftRightUnsigned,D.shr_u=D.shiftRightUnsigned,D.rotateLeft=function(m){var v;return r(m)&&(m=m.toInt()),(m&=63)===0?this:m===32?c(this.high,this.low,this.unsigned):m<32?(v=32-m,c(this.low<<m|this.high>>>v,this.high<<m|this.low>>>v,this.unsigned)):(m-=32,v=32-m,c(this.high<<m|this.low>>>v,this.low<<m|this.high>>>v,this.unsigned))},D.rotl=D.rotateLeft,D.rotateRight=function(m){var v;return r(m)&&(m=m.toInt()),(m&=63)===0?this:m===32?c(this.high,this.low,this.unsigned):m<32?(v=32-m,c(this.high<<v|this.low>>>m,this.low<<v|this.high>>>m,this.unsigned)):(m-=32,v=32-m,c(this.low<<v|this.high>>>m,this.high<<v|this.low>>>m,this.unsigned))},D.rotr=D.rotateRight,D.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},D.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},D.toBytes=function(m){return m?this.toBytesLE():this.toBytesBE()},D.toBytesLE=function(){var m=this.high,v=this.low;return[v&255,v>>>8&255,v>>>16&255,v>>>24,m&255,m>>>8&255,m>>>16&255,m>>>24]},D.toBytesBE=function(){var m=this.high,v=this.low;return[m>>>24,m>>>16&255,m>>>8&255,m&255,v>>>24,v>>>16&255,v>>>8&255,v&255]},t.fromBytes=function(m,v,B){return B?t.fromBytesLE(m,v):t.fromBytesBE(m,v)},t.fromBytesLE=function(m,v){return new t(m[0]|m[1]<<8|m[2]<<16|m[3]<<24,m[4]|m[5]<<8|m[6]<<16|m[7]<<24,v)},t.fromBytesBE=function(m,v){return new t(m[4]<<24|m[5]<<16|m[6]<<8|m[7],m[0]<<24|m[1]<<16|m[2]<<8|m[3],v)},typeof BigInt=="function"&&(t.fromBigInt=function(m,v){var B=Number(BigInt.asIntN(32,m)),z=Number(BigInt.asIntN(32,m>>BigInt(32)));return c(B,z,v)},t.fromValue=function(m,v){return typeof m=="bigint"?t.fromBigInt(m,v):f(m,v)},D.toBigInt=function(){var m=BigInt(this.low>>>0),v=BigInt(this.unsigned?this.high>>>0:this.high);return v<<BigInt(32)|m});var P=n.default=t})});var DR=ee(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.loadFileDescriptorSetFromObject=ar.loadFileDescriptorSetFromBuffer=ar.fromJSON=ar.loadSync=ar.load=ar.IdempotencyLevel=ar.isAnyExtension=ar.Long=void 0;var zge=HV(),Lo=O_(),CR=Hj(),IR=Yj(),Gge=Jj();ar.Long=Gge;function Wge(n){return"@type"in n&&typeof n["@type"]=="string"}ar.isAnyExtension=Wge;var eH;(function(n){n.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",n.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",n.IDEMPOTENT="IDEMPOTENT"})(eH=ar.IdempotencyLevel||(ar.IdempotencyLevel={}));var tH={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function Kge(n,e){return n===""?e:n+"."+e}function Qge(n){return n instanceof Lo.Service||n instanceof Lo.Type||n instanceof Lo.Enum}function Yge(n){return n instanceof Lo.Namespace||n instanceof Lo.Root}function nH(n,e){let t=Kge(e,n.name);return Qge(n)?[[t,n]]:Yge(n)&&typeof n.nested<"u"?Object.keys(n.nested).map(r=>nH(n.nested[r],t)).reduce((r,i)=>r.concat(i),[]):[]}function Zj(n,e){return function(r){return n.toObject(n.decode(r),e)}}function Xj(n){return function(t){if(Array.isArray(t))throw new Error(`Failed to serialize message: expected object with ${n.name} structure, got array instead`);let r=n.fromObject(t);return n.encode(r).finish()}}function Jge(n){return(n||[]).reduce((e,t)=>{for(let[r,i]of Object.entries(t))switch(r){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[r]=i}return e},{deprecated:!1,idempotency_level:eH.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function Zge(n,e,t,r){let i=n.resolvedRequestType,s=n.resolvedResponseType;return{path:"/"+e+"/"+n.name,requestStream:!!n.requestStream,responseStream:!!n.responseStream,requestSerialize:Xj(i),requestDeserialize:Zj(i,t),responseSerialize:Xj(s),responseDeserialize:Zj(s,t),originalName:zge(n.name),requestType:TR(i,r),responseType:TR(s,r),options:Jge(n.parsedOptions)}}function Xge(n,e,t,r){let i={};for(let s of n.methodsArray)i[s.name]=Zge(s,e,t,r);return i}function TR(n,e){let t=n.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:t.$type.toObject(t,tH),fileDescriptorProtos:e}}function e0e(n,e){let t=n.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:t.$type.toObject(t,tH),fileDescriptorProtos:e}}function t0e(n,e,t,r){if(n instanceof Lo.Service)return Xge(n,e,t,r);if(n instanceof Lo.Type)return TR(n,r);if(n instanceof Lo.Enum)return e0e(n,r);throw new Error("Type mismatch in reflection object handling")}function F_(n,e){let t={};n.resolveAll();let i=n.toDescriptor("proto3").file.map(s=>Buffer.from(CR.FileDescriptorProto.encode(s).finish()));for(let[s,o]of nH(n,""))t[s]=t0e(o,s,e,i);return t}function rH(n,e){e=e||{};let t=Lo.Root.fromDescriptor(n);return t.resolveAll(),F_(t,e)}function n0e(n,e){return(0,IR.loadProtosWithOptions)(n,e).then(t=>F_(t,e))}ar.load=n0e;function r0e(n,e){let t=(0,IR.loadProtosWithOptionsSync)(n,e);return F_(t,e)}ar.loadSync=r0e;function i0e(n,e){e=e||{};let t=Lo.Root.fromJSON(n);return t.resolveAll(),F_(t,e)}ar.fromJSON=i0e;function s0e(n,e){let t=CR.FileDescriptorSet.decode(n);return rH(t,e)}ar.loadFileDescriptorSetFromBuffer=s0e;function o0e(n,e){let t=CR.FileDescriptorSet.fromObject(n);return rH(t,e)}ar.loadFileDescriptorSetFromObject=o0e;(0,IR.addCommonProtos)()});var Xl=ee(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.setup=yn.getChannelzServiceDefinition=yn.getChannelzHandlers=yn.unregisterChannelzRef=yn.registerChannelzSocket=yn.registerChannelzServer=yn.registerChannelzSubchannel=yn.registerChannelzChannel=yn.ChannelzCallTracker=yn.ChannelzChildrenTracker=yn.ChannelzTrace=void 0;var iH=Wt("net"),xg=Yi(),Ng=Lt(),a0e=Do(),u0e=i_(),c0e=SN();function xR(n){return{channel_id:n.id,name:n.name}}function kR(n){return{subchannel_id:n.id,name:n.name}}function l0e(n){return{server_id:n.id}}function B_(n){return{socket_id:n.id,name:n.name}}var sH=32,AR=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){let i=new Date;this.events.push({description:t,severity:e,timestamp:i,childChannel:r?.kind==="channel"?r:void 0,childSubchannel:r?.kind==="subchannel"?r:void 0}),this.events.length>=sH*2&&(this.events=this.events.slice(sH)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:Pa(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:Pa(e.timestamp),channel_ref:e.childChannel?xR(e.childChannel):null,subchannel_ref:e.childSubchannel?kR(e.childSubchannel):null}))}}};yn.ChannelzTrace=AR;var NR=class{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var t,r,i;switch(e.kind){case"channel":{let s=(t=this.channelChildren.get(e.id))!==null&&t!==void 0?t:{ref:e,count:0};s.count+=1,this.channelChildren.set(e.id,s);break}case"subchannel":{let s=(r=this.subchannelChildren.get(e.id))!==null&&r!==void 0?r:{ref:e,count:0};s.count+=1,this.subchannelChildren.set(e.id,s);break}case"socket":{let s=(i=this.socketChildren.get(e.id))!==null&&i!==void 0?i:{ref:e,count:0};s.count+=1,this.socketChildren.set(e.id,s);break}}}unrefChild(e){switch(e.kind){case"channel":{let t=this.channelChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,t));break}case"subchannel":{let t=this.subchannelChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,t));break}case"socket":{let t=this.socketChildren.get(e.id);t!==void 0&&(t.count-=1,t.count===0?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,t));break}}}getChildLists(){let e=[];for(let{ref:i}of this.channelChildren.values())e.push(i);let t=[];for(let{ref:i}of this.subchannelChildren.values())t.push(i);let r=[];for(let{ref:i}of this.socketChildren.values())r.push(i);return{channels:e,subchannels:t,sockets:r}}};yn.ChannelzChildrenTracker=NR;var RR=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};yn.ChannelzCallTracker=RR;var d0e=1;function V_(){return d0e++}var Ag=[],MR=[],sc=[],OR=[];function f0e(n,e,t){let r=V_(),i={id:r,name:n,kind:"channel"};return t&&(Ag[r]={ref:i,getInfo:e}),i}yn.registerChannelzChannel=f0e;function h0e(n,e,t){let r=V_(),i={id:r,name:n,kind:"subchannel"};return t&&(MR[r]={ref:i,getInfo:e}),i}yn.registerChannelzSubchannel=h0e;function p0e(n,e){let t=V_(),r={id:t,kind:"server"};return e&&(sc[t]={ref:r,getInfo:n}),r}yn.registerChannelzServer=p0e;function m0e(n,e,t){let r=V_(),i={id:r,name:n,kind:"socket"};return t&&(OR[r]={ref:i,getInfo:e}),i}yn.registerChannelzSocket=m0e;function g0e(n){switch(n.kind){case"channel":delete Ag[n.id];return;case"subchannel":delete MR[n.id];return;case"server":delete sc[n.id];return;case"socket":delete OR[n.id];return}}yn.unregisterChannelzRef=g0e;function y0e(n){let e=Number.parseInt(n,16);return[e/256|0,e%256]}function oH(n){if(n==="")return[];let e=n.split(":").map(r=>y0e(r));return[].concat(...e)}function v0e(n){if((0,iH.isIPv4)(n))return Buffer.from(Uint8Array.from(n.split(".").map(e=>Number.parseInt(e))));if((0,iH.isIPv6)(n)){let e,t,r=n.indexOf("::");r===-1?(e=n,t=""):(e=n.substring(0,r),t=n.substring(r+2));let i=Buffer.from(oH(e)),s=Buffer.from(oH(t)),o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}else return null}function uH(n){switch(n){case xg.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case xg.ConnectivityState.IDLE:return{state:"IDLE"};case xg.ConnectivityState.READY:return{state:"READY"};case xg.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case xg.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function Pa(n){if(!n)return null;let e=n.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function cH(n){let e=n.getInfo();return{ref:xR(n.ref),data:{target:e.target,state:uH(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Pa(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:e.children.channels.map(t=>xR(t)),subchannel_ref:e.children.subchannels.map(t=>kR(t))}}function b0e(n,e){let t=Number.parseInt(n.request.channel_id),r=Ag[t];if(r===void 0){e({code:Ng.Status.NOT_FOUND,details:"No channel data found for id "+t});return}e(null,{channel:cH(r)})}function _0e(n,e){let t=Number.parseInt(n.request.max_results),r=[],i=Number.parseInt(n.request.start_channel_id);for(;i<Ag.length;i++){let s=Ag[i];if(s!==void 0&&(r.push(cH(s)),r.length>=t))break}e(null,{channel:r,end:i>=sc.length})}function lH(n){let e=n.getInfo();return{ref:l0e(n.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Pa(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:e.listenerChildren.sockets.map(t=>B_(t))}}function E0e(n,e){let t=Number.parseInt(n.request.server_id),r=sc[t];if(r===void 0){e({code:Ng.Status.NOT_FOUND,details:"No server data found for id "+t});return}e(null,{server:lH(r)})}function w0e(n,e){let t=Number.parseInt(n.request.max_results),r=[],i=Number.parseInt(n.request.start_server_id);for(;i<sc.length;i++){let s=sc[i];if(s!==void 0&&(r.push(lH(s)),r.length>=t))break}e(null,{server:r,end:i>=sc.length})}function S0e(n,e){let t=Number.parseInt(n.request.subchannel_id),r=MR[t];if(r===void 0){e({code:Ng.Status.NOT_FOUND,details:"No subchannel data found for id "+t});return}let i=r.getInfo(),s={ref:kR(r.ref),data:{target:i.target,state:uH(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:Pa(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(o=>B_(o))};e(null,{subchannel:s})}function aH(n){var e;return(0,a0e.isTcpSubchannelAddress)(n)?{address:"tcpip_address",tcpip_address:{ip_address:(e=v0e(n.host))!==null&&e!==void 0?e:void 0,port:n.port}}:{address:"uds_address",uds_address:{filename:n.path}}}function T0e(n,e){var t,r,i,s,o;let a=Number.parseInt(n.request.socket_id),u=OR[a];if(u===void 0){e({code:Ng.Status.NOT_FOUND,details:"No socket data found for id "+a});return}let c=u.getInfo(),l=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(t=c.security.cipherSuiteStandardName)!==null&&t!==void 0?t:void 0,other_name:(r=c.security.cipherSuiteOtherName)!==null&&r!==void 0?r:void 0,local_certificate:(i=c.security.localCertificate)!==null&&i!==void 0?i:void 0,remote_certificate:(s=c.security.remoteCertificate)!==null&&s!==void 0?s:void 0}}:null,d={ref:B_(u.ref),local:c.localAddress?aH(c.localAddress):null,remote:c.remoteAddress?aH(c.remoteAddress):null,remote_name:(o=c.remoteName)!==null&&o!==void 0?o:void 0,security:l,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:Pa(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Pa(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:Pa(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:Pa(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}};e(null,{socket:d})}function C0e(n,e){let t=Number.parseInt(n.request.server_id),r=sc[t];if(r===void 0){e({code:Ng.Status.NOT_FOUND,details:"No server data found for id "+t});return}let i=Number.parseInt(n.request.start_socket_id),s=Number.parseInt(n.request.max_results),a=r.getInfo().sessionChildren.sockets.sort((l,d)=>l.id-d.id),u=[],c=0;for(;c<a.length&&!(a[c].id>=i&&(u.push(B_(a[c])),u.length>=s));c++);e(null,{socket_ref:u,end:c>=a.length})}function dH(){return{GetChannel:b0e,GetTopChannels:_0e,GetServer:E0e,GetServers:w0e,GetSubchannel:S0e,GetSocket:T0e,GetServerSockets:C0e}}yn.getChannelzHandlers=dH;var U_=null;function fH(){if(U_)return U_;let n=DR().loadSync,e=n("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return U_=(0,c0e.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,U_}yn.getChannelzServiceDefinition=fH;function I0e(){(0,u0e.registerAdminService)(fH,dH)}yn.setup=I0e});var hH=ee(j_=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});j_.Subchannel=void 0;var un=Yi(),D0e=og(),PR=Nn(),q_=Lt(),x0e=xi(),A0e=Do(),oh=Xl(),N0e="subchannel",R0e=~(1<<31),LR=class{constructor(e,t,r,i,s){var o;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=i,this.connector=s,this.connectivityState=un.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new oh.ChannelzCallTracker,this.childrenTracker=new oh.ChannelzChildrenTracker,this.streamTracker=new oh.ChannelzCallTracker;let a={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new D0e.BackoffTimeout(()=>{this.handleBackoffTimer()},a),this.backoffTimeout.unref(),this.subchannelAddressString=(0,A0e.subchannelAddressToString)(t),this.keepaliveTime=(o=r["grpc.keepalive_time_ms"])!==null&&o!==void 0?o:-1,r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new oh.ChannelzTrace,this.channelzRef=(0,oh.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){PR.trace(q_.LogVerbosity.DEBUG,N0e,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){PR.trace(q_.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([un.ConnectivityState.TRANSIENT_FAILURE],un.ConnectivityState.CONNECTING):this.transitionToState([un.ConnectivityState.TRANSIENT_FAILURE],un.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,R0e);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(t=>{this.transitionToState([un.ConnectivityState.CONNECTING],un.ConnectivityState.READY)?(this.transport=t,this.channelzEnabled&&this.childrenTracker.refChild(t.getChannelzRef()),t.addDisconnectListener(r=>{this.transitionToState([un.ConnectivityState.READY],un.ConnectivityState.IDLE),r&&this.keepaliveTime>0&&(this.keepaliveTime*=2,PR.log(q_.LogVerbosity.ERROR,`Connection to ${(0,x0e.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):t.shutdown()},t=>{this.transitionToState([un.ConnectivityState.CONNECTING],un.ConnectivityState.TRANSIENT_FAILURE,`${t}`)})}transitionToState(e,t,r){var i,s;if(e.indexOf(this.connectivityState)===-1)return!1;this.trace(un.ConnectivityState[this.connectivityState]+" -> "+un.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+un.ConnectivityState[t]);let o=this.connectivityState;switch(this.connectivityState=t,t){case un.ConnectivityState.READY:this.stopBackoff();break;case un.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case un.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(i=this.transport)===null||i===void 0||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case un.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let a of this.stateListeners)a(this,o,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,oh.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([un.ConnectivityState.CONNECTING,un.ConnectivityState.READY],un.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,t,r,i){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let s;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),s={onCallEnd:o=>{o.code===q_.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):s={},this.transport.createCall(e,t,r,i,s)}startConnecting(){process.nextTick(()=>{this.transitionToState([un.ConnectivityState.IDLE],un.ConnectivityState.CONNECTING)||this.connectivityState===un.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([un.ConnectivityState.TRANSIENT_FAILURE],un.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}};j_.Subchannel=LR});var VR=ee(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.setup=uc.DEFAULT_PORT=void 0;var pH=Co(),gH=Wt("dns"),yH=Wt("util"),k0e=YA(),FR=Lt(),UR=fi(),M0e=Nn(),O0e=Lt(),oc=xi(),mH=Wt("net"),P0e=og(),L0e="dns_resolver";function ac(n){M0e.trace(O0e.LogVerbosity.DEBUG,L0e,n)}uc.DEFAULT_PORT=443;var F0e=3e4,U0e=yH.promisify(gH.resolveTxt),B0e=yH.promisify(gH.lookup);function V0e(...n){let e=[];for(let t=0;t<Math.max.apply(null,n.map(r=>r.length));t++)for(let r of n)t<r.length&&e.push(r[t]);return e}var BR=class{constructor(e,t,r){var i,s,o;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,ac("Resolver constructed for target "+(0,oc.uriToString)(e));let a=(0,oc.splitHostPort)(e.path);a===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,mH.isIPv4)(a.host)||(0,mH.isIPv6)(a.host)?(this.ipResult=[{host:a.host,port:(i=a.port)!==null&&i!==void 0?i:uc.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=a.host,this.port=(s=a.port)!==null&&s!==void 0?s:uc.DEFAULT_PORT),this.percentage=Math.random()*100,r["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:FR.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,oc.uriToString)(this.target)}`,metadata:new UR.Metadata};let u={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoff=new P0e.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},u),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(o=r["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:F0e,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(ac("Returning IP address for target "+(0,oc.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)ac("Failed to parse DNS address "+(0,oc.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:FR.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,oc.uriToString)(this.target)}`,metadata:new UR.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;ac("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=B0e(e,{all:!0}),this.pendingLookupPromise.then(t=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let r=t.filter(o=>o.family===4),i=t.filter(o=>o.family===6);this.latestLookupResult=V0e(i,r).map(o=>({host:o.address,port:+this.port}));let s="["+this.latestLookupResult.map(o=>o.host+":"+o.port).join(",")+"]";if(ac("Resolved addresses for target "+(0,oc.uriToString)(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},t=>{this.pendingLookupPromise!==null&&(ac("Resolution error for target "+(0,oc.uriToString)(this.target)+": "+t.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=U0e(e),this.pendingTxtPromise.then(t=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,k0e.extractAndSelectServiceConfig)(t,this.percentage)}catch(r){this.latestServiceConfigError={code:FR.Status.UNAVAILABLE,details:`Parsing service config failed with error ${r.message}`,metadata:new UR.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},t=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=(t=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)===null||t===void 0?void 0:t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?ac('resolution update delayed by "min time between resolutions" rate limit'):ac("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function q0e(){(0,pH.registerResolver)("dns",BR),(0,pH.registerDefaultScheme)("dns")}uc.setup=q0e});var qR=ee(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.getProxiedConnection=ch.mapProxyName=void 0;var Rg=Nn(),ah=Lt(),j0e=Co(),H0e=Wt("http"),$0e=Wt("tls"),z0e=Nn(),vH=Do(),uh=xi(),G0e=Wt("url"),W0e=VR(),K0e="proxy";function cc(n){z0e.trace(ah.LogVerbosity.DEBUG,K0e,n)}function Q0e(){let n="",e="";if(process.env.grpc_proxy)e="grpc_proxy",n=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",n=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",n=process.env.http_proxy;else return{};let t;try{t=new G0e.URL(n)}catch{return(0,Rg.log)(ah.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(t.protocol!=="http:")return(0,Rg.log)(ah.LogVerbosity.ERROR,`"${t.protocol}" scheme not supported in proxy URI`),{};let r=null;t.username&&(t.password?((0,Rg.log)(ah.LogVerbosity.INFO,"userinfo found in proxy URI"),r=`${t.username}:${t.password}`):r=t.username);let i=t.hostname,s=t.port;s===""&&(s="80");let o={address:`${i}:${s}`};return r&&(o.creds=r),cc("Proxy server "+o.address+" set by environment variable "+e),o}function Y0e(){let n=process.env.no_grpc_proxy,e="no_grpc_proxy";return n||(n=process.env.no_proxy,e="no_proxy"),n?(cc("No proxy server list set by environment variable "+e),n.split(",")):[]}function J0e(n,e){var t;let r={target:n,extraOptions:{}};if(((t=e["grpc.enable_http_proxy"])!==null&&t!==void 0?t:1)===0||n.scheme==="unix")return r;let i=Q0e();if(!i.address)return r;let s=(0,uh.splitHostPort)(n.path);if(!s)return r;let o=s.host;for(let u of Y0e())if(u===o)return cc("Not using proxy for target in no_proxy list: "+(0,uh.uriToString)(n)),r;let a={"grpc.http_connect_target":(0,uh.uriToString)(n)};return i.creds&&(a["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:a}}ch.mapProxyName=J0e;function Z0e(n,e,t){var r;if(!("grpc.http_connect_target"in e))return Promise.resolve({});let i=e["grpc.http_connect_target"],s=(0,uh.parseUri)(i);if(s===null)return Promise.resolve({});let o=(0,uh.splitHostPort)(s.path);if(o===null)return Promise.resolve({});let a=`${o.host}:${(r=o.port)!==null&&r!==void 0?r:W0e.DEFAULT_PORT}`,u={method:"CONNECT",path:a},c={Host:a};(0,vH.isTcpSubchannelAddress)(n)?(u.host=n.host,u.port=n.port):u.socketPath=n.path,"grpc.http_connect_creds"in e&&(c["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),u.headers=c;let l=(0,vH.subchannelAddressToString)(n);return cc("Using proxy "+l+" to connect to "+u.path),new Promise((d,f)=>{let h=H0e.request(u);h.once("connect",(g,y,S)=>{var _;if(h.removeAllListeners(),y.removeAllListeners(),g.statusCode===200)if(cc("Successfully connected to "+u.path+" through proxy "+l),"secureContext"in t){let C=(0,j0e.getDefaultAuthority)(s),I=(0,uh.splitHostPort)(C),T=(_=I?.host)!==null&&_!==void 0?_:C,x=$0e.connect(Object.assign({host:T,servername:T,socket:y},t),()=>{cc("Successfully established a TLS connection to "+u.path+" through proxy "+l),d({socket:x,realTarget:s})});x.on("error",V=>{cc("Failed to establish a TLS connection to "+u.path+" through proxy "+l+" with error "+V.message),f()})}else cc("Successfully established a plaintext connection to "+u.path+" through proxy "+l),d({socket:y,realTarget:s});else(0,Rg.log)(ah.LogVerbosity.ERROR,"Failed to connect to "+u.path+" through proxy "+l+" with status "+g.statusCode),f()}),h.once("error",g=>{h.removeAllListeners(),(0,Rg.log)(ah.LogVerbosity.ERROR,"Failed to connect to proxy "+l+" with error "+g.message),f()}),h.end()})}ch.getProxiedConnection=Z0e});var HR=ee(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.StreamDecoder=void 0;var La=function(n){return n[n.NO_DATA=0]="NO_DATA",n[n.READING_SIZE=1]="READING_SIZE",n[n.READING_MESSAGE=2]="READING_MESSAGE",n}(La||{}),jR=class{constructor(e){this.maxReadMessageLength=e,this.readState=La.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t=0,r,i=[];for(;t<e.length;)switch(this.readState){case La.NO_DATA:this.readCompressFlag=e.slice(t,t+1),t+=1,this.readState=La.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case La.READING_SIZE:if(r=Math.min(e.length-t,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,t,t+r),this.readSizeRemaining-=r,t+=r,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=La.READING_MESSAGE;else{let s=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=La.NO_DATA,i.push(s)}}break;case La.READING_MESSAGE:if(r=Math.min(e.length-t,this.readMessageRemaining),this.readPartialMessage.push(e.slice(t,t+r)),this.readMessageRemaining-=r,t+=r,this.readMessageRemaining===0){let s=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),o=Buffer.concat(s,this.readMessageSize+5);this.readState=La.NO_DATA,i.push(o)}break;default:throw new Error("Unexpected read state")}return i}};H_.StreamDecoder=jR});var bH=ee($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});$_.Http2SubchannelCall=void 0;var Fa=Wt("http2"),X0e=Wt("os"),Kt=Lt(),lc=fi(),eye=HR(),tye=Nn(),nye=Lt(),rye="subchannel_call";function iye(n){for(let[e,t]of Object.entries(X0e.constants.errno))if(t===n)return e;return"Unknown system error "+n}var $R=class{constructor(e,t,r,i,s){var o;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=i,this.callId=s,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=Kt.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;let a=(o=i.getOptions()["grpc.max_receive_message_length"])!==null&&o!==void 0?o:Kt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new eye.StreamDecoder(a),e.on("response",(u,c)=>{let l="";for(let d of Object.keys(u))l+="		"+d+": "+u[d]+`
`;switch(this.trace(`Received server headers:
`+l),u[":status"]){case 400:this.mappedStatusCode=Kt.Status.INTERNAL;break;case 401:this.mappedStatusCode=Kt.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=Kt.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=Kt.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=Kt.Status.UNAVAILABLE;break;default:this.mappedStatusCode=Kt.Status.UNKNOWN}if(c&Fa.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(u);else{let d;try{d=lc.Metadata.fromHttp2Headers(u)}catch(f){this.endCall({code:Kt.Status.UNKNOWN,details:f.message,metadata:new lc.Metadata});return}this.listener.onReceiveMetadata(d)}}),e.on("trailers",u=>{this.handleTrailers(u)}),e.on("data",u=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+u.length);let c;try{c=this.decoder.write(u)}catch(l){this.cancelWithStatus(Kt.Status.RESOURCE_EXHAUSTED,l.message);return}for(let l of c)this.trace("parsed message of length "+l.length),this.callEventTracker.addMessageReceived(),this.tryPush(l)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var u;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((u=this.finalStatus)===null||u===void 0?void 0:u.code)===Kt.Status.OK)return;let c,l="";switch(e.rstCode){case Fa.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;c=Kt.Status.INTERNAL,l=`Received RST_STREAM with code ${e.rstCode}`;break;case Fa.constants.NGHTTP2_REFUSED_STREAM:c=Kt.Status.UNAVAILABLE,l="Stream refused by server";break;case Fa.constants.NGHTTP2_CANCEL:c=Kt.Status.CANCELLED,l="Call cancelled";break;case Fa.constants.NGHTTP2_ENHANCE_YOUR_CALM:c=Kt.Status.RESOURCE_EXHAUSTED,l="Bandwidth exhausted or memory limit exceeded";break;case Fa.constants.NGHTTP2_INADEQUATE_SECURITY:c=Kt.Status.PERMISSION_DENIED,l="Protocol not secure enough";break;case Fa.constants.NGHTTP2_INTERNAL_ERROR:c=Kt.Status.INTERNAL,this.internalError===null?l=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(c=Kt.Status.UNAVAILABLE,l=this.internalError.message):l=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:c=Kt.Status.INTERNAL,l=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:c,details:l,metadata:new lc.Metadata,rstCode:e.rstCode})})}),e.on("error",u=>{u.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+u.message+" code="+u.code+" errno="+iye(u.errno)+" syscall="+u.syscall),this.internalError=u),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:Kt.Status.UNAVAILABLE,details:"Connection dropped",metadata:new lc.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){tye.trace(nye.LogVerbosity.DEBUG,rye,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===Kt.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Kt.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.callEventTracker.onStreamEnd(!0);let t="";for(let u of Object.keys(e))t+="		"+u+": "+e[u]+`
`;this.trace(`Received server trailers:
`+t);let r;try{r=lc.Metadata.fromHttp2Headers(e)}catch{r=new lc.Metadata}let i=r.getMap(),s=this.mappedStatusCode;if(s===Kt.Status.UNKNOWN&&typeof i["grpc-status"]=="string"){let u=Number(i["grpc-status"]);u in Kt.Status&&(s=u,this.trace("received status code "+u+" from server")),r.remove("grpc-status")}let o="";if(typeof i["grpc-message"]=="string"){try{o=decodeURI(i["grpc-message"])}catch{o=i["grpc-message"]}r.remove("grpc-message"),this.trace('received status details string "'+o+'" from server')}let a={code:s,details:o,metadata:r};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===Kt.Status.OK?t=Fa.constants.NGHTTP2_NO_ERROR:t=Fa.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new lc.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Kt.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let r=i=>{process.nextTick(()=>{var s;let o=Kt.Status.UNAVAILABLE;i?.code==="ERR_STREAM_WRITE_AFTER_END"&&(o=Kt.Status.INTERNAL),i&&this.cancelWithStatus(o,`Write error: ${i.message}`),(s=e.callback)===null||s===void 0||s.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(i){this.endCall({code:Kt.Status.UNAVAILABLE,details:`Write failed with error ${i.message}`,metadata:new lc.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};$_.Http2SubchannelCall=$R});var zR=ee(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});z_.getNextCallNumber=void 0;var sye=0;function oye(){return sye++}z_.getNextCallNumber=oye});var wH=ee(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.Http2SubchannelConnector=void 0;var YR=Wt("http2"),_H=Wt("tls"),GR=Xl(),kg=Lt(),aye=qR(),dh=Nn(),EH=Co(),G_=Do(),lh=xi(),uye=Wt("net"),cye=bH(),lye=zR(),WR="transport",dye="transport_flowctrl",fye=kA().version,{HTTP2_HEADER_AUTHORITY:hye,HTTP2_HEADER_CONTENT_TYPE:pye,HTTP2_HEADER_METHOD:mye,HTTP2_HEADER_PATH:gye,HTTP2_HEADER_TE:yye,HTTP2_HEADER_USER_AGENT:vye}=YR.constants,bye=2e4,_ye=Buffer.from("too_many_pings","ascii"),KR=class{constructor(e,t,r,i){this.session=e,this.options=r,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=bye,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new GR.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,G_.subchannelAddressToString)(t),r["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,GR.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${fye}`,r["grpc.secondary_user_agent"]].filter(s=>s).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=r["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(s,o,a)=>{let u=!1;s===YR.constants.NGHTTP2_ENHANCE_YOUR_CALM&&a&&a.equals(_ye)&&(u=!0),this.trace("connection closed by GOAWAY with code "+s+" and data "+a?.toString()),this.reportDisconnectToOwner(u)}),e.once("error",s=>{this.trace("connection closed with error "+s.message)}),dh.isTracerEnabled(WR)&&(e.on("remoteSettings",s=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))}),e.on("localSettings",s=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(s))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;let i=this.session.socket,s=i.remoteAddress?(0,G_.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,o=i.localAddress?(0,G_.stringToSubchannelAddress)(i.localAddress,i.localPort):null,a;if(this.session.encrypted){let c=i,l=c.getCipher(),d=c.getCertificate(),f=c.getPeerCertificate();a={cipherSuiteStandardName:(e=l.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:l.standardName?null:l.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:f&&"raw"in f?f.raw:null}}else a=null;return{remoteAddress:s,localAddress:o,security:a,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(t=this.session.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(r=this.session.state.remoteWindowSize)!==null&&r!==void 0?r:null}}trace(e){dh.trace(kg.LogVerbosity.DEBUG,WR,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){dh.trace(kg.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){dh.trace(kg.LogVerbosity.DEBUG,dye,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){dh.trace(kg.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(t=(e=this.keepaliveTimeoutId).unref)===null||t===void 0||t.call(e));try{this.session.ping((r,i,s)=>{r&&(this.keepaliveTrace("Ping failed with error "+r.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)===null||t===void 0?void 0:t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,i,s){let o=e.toHttp2Headers();o[hye]=t,o[vye]=this.userAgent,o[pye]="application/grpc",o[mye]="POST",o[gye]=r,o[yye]="trailers";let a;try{a=this.session.request(o)}catch(l){throw this.handleDisconnect(),l}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let u,c;return this.channelzEnabled?(this.streamTracker.addCallStarted(),u={addMessageSent:()=>{var l;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(l=s.addMessageSent)===null||l===void 0||l.call(s)},addMessageReceived:()=>{var l;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(l=s.addMessageReceived)===null||l===void 0||l.call(s)},onCallEnd:l=>{var d;(d=s.onCallEnd)===null||d===void 0||d.call(s,l),this.removeActiveCall(c)},onStreamEnd:l=>{var d;l?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(d=s.onStreamEnd)===null||d===void 0||d.call(s,l)}}):u={addMessageSent:()=>{var l;(l=s.addMessageSent)===null||l===void 0||l.call(s)},addMessageReceived:()=>{var l;(l=s.addMessageReceived)===null||l===void 0||l.call(s)},onCallEnd:l=>{var d;(d=s.onCallEnd)===null||d===void 0||d.call(s,l),this.removeActiveCall(c)},onStreamEnd:l=>{var d;(d=s.onStreamEnd)===null||d===void 0||d.call(s,l)}},c=new cye.Http2SubchannelCall(a,u,i,this,(0,lye.getNextCallNumber)()),this.addActiveCall(c),c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,GR.unregisterChannelzRef)(this.channelzRef)}},QR=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){dh.trace(kg.LogVerbosity.DEBUG,WR,(0,lh.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,i){return this.isShutdown?Promise.reject():new Promise((s,o)=>{var a,u,c;let l;i.realTarget?(l=(0,lh.uriToString)(i.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,lh.uriToString)(i.realTarget))):(l=null,this.trace("creating HTTP/2 session to "+(0,G_.subchannelAddressToString)(e)));let d=(0,EH.getDefaultAuthority)((a=i.realTarget)!==null&&a!==void 0?a:this.channelTarget),f=t._getConnectionOptions()||{};f.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?f.maxSessionMemory=r["grpc-node.max_session_memory"]:f.maxSessionMemory=Number.MAX_SAFE_INTEGER;let h="http://";if("secureContext"in f){if(h="https://",r["grpc.ssl_target_name_override"]){let S=r["grpc.ssl_target_name_override"];f.checkServerIdentity=(_,C)=>(0,_H.checkServerIdentity)(S,C),f.servername=S}else{let S=(c=(u=(0,lh.splitHostPort)(d))===null||u===void 0?void 0:u.host)!==null&&c!==void 0?c:"localhost";f.servername=S}i.socket&&(f.createConnection=(S,_)=>i.socket)}else f.createConnection=(S,_)=>i.socket?i.socket:uye.connect(e);f=Object.assign(Object.assign(Object.assign({},f),e),{enableTrace:r["grpc-node.tls_enable_trace"]===1});let g=YR.connect(h+d,f);this.session=g;let y="Failed to connect";g.unref(),g.once("connect",()=>{g.removeAllListeners(),s(new KR(g,e,r,l)),this.session=null}),g.once("close",()=>{this.session=null,setImmediate(()=>{o(`${y} (${new Date().toISOString()})`)})}),g.once("error",S=>{y=S.message,this.trace("connection failed with error "+y)})})}connect(e,t,r){var i,s;if(this.isShutdown)return Promise.reject();let o=t._getConnectionOptions()||{};if("secureContext"in o){if(o.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let a=r["grpc.ssl_target_name_override"];o.checkServerIdentity=(u,c)=>(0,_H.checkServerIdentity)(a,c),o.servername=a}else if("grpc.http_connect_target"in r){let a=(0,EH.getDefaultAuthority)((i=(0,lh.parseUri)(r["grpc.http_connect_target"]))!==null&&i!==void 0?i:{path:"localhost"}),u=(0,lh.splitHostPort)(a);o.servername=(s=u?.host)!==null&&s!==void 0?s:a}r["grpc-node.tls_enable_trace"]&&(o.enableTrace=!0)}return(0,aye.getProxiedConnection)(e,r,o).then(a=>this.createSession(e,t,r,a))}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};W_.Http2SubchannelConnector=QR});var SH=ee(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.getSubchannelPool=fh.SubchannelPool=void 0;var Eye=dV(),wye=hH(),Sye=Do(),Tye=xi(),Cye=wH(),Iye=1e4,Mg=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let i=this.pool[t].filter(s=>!s.subchannel.unrefIfOneRef());i.length>0&&(e=!1),this.pool[t]=i}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},Iye),(t=(e=this.cleanupTimer).unref)===null||t===void 0||t.call(e))}getOrCreateSubchannel(e,t,r,i){this.ensureCleanupTask();let s=(0,Tye.uriToString)(e);if(s in this.pool){let a=this.pool[s];for(let u of a)if((0,Sye.subchannelAddressEqual)(t,u.subchannelAddress)&&(0,Eye.channelOptionsEqual)(r,u.channelArguments)&&i._equals(u.channelCredentials))return u.subchannel}let o=new wye.Subchannel(e,t,r,i,new Cye.Http2SubchannelConnector(e));return s in this.pool||(this.pool[s]=[]),this.pool[s].push({subchannelAddress:t,channelArguments:r,channelCredentials:i,subchannel:o}),o.ref(),o}};fh.SubchannelPool=Mg;var Dye=new Mg;function xye(n){return n?Dye:new Mg}fh.getSubchannelPool=xye});var ZR=ee(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.FilterStackFactory=hh.FilterStack=void 0;var K_=class{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let r=0;r<this.filters.length;r++)t=this.filters[r].sendMessage(t);return t}receiveMessage(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let r=this.filters.length-1;r>=0;r--)t=this.filters[r].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};hh.FilterStack=K_;var JR=class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new K_(this.factories.map(e=>e.createFilter()))}};hh.FilterStackFactory=JR});var XR=ee(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_.CompressionAlgorithms=void 0;var TH=function(n){return n[n.identity=0]="identity",n[n.deflate=1]="deflate",n[n.gzip=2]="gzip",n}(TH||(Q_.CompressionAlgorithms=TH={}))});var tk=ee(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.BaseFilter=void 0;var ek=class{sendMetadata(e){return O(this,null,function*(){return e})}receiveMetadata(e){return e}sendMessage(e){return O(this,null,function*(){return e})}receiveMessage(e){return O(this,null,function*(){return e})}receiveTrailers(e){return e}};Y_.BaseFilter=ek});var DH=ee(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.CompressionFilterFactory=mh.CompressionFilter=void 0;var J_=Wt("zlib"),IH=XR(),Z_=Lt(),Aye=tk(),Nye=Nn(),Rye=n=>typeof n=="number"&&typeof IH.CompressionAlgorithms[n]=="string",ph=class{writeMessage(e,t){return O(this,null,function*(){let r=e;t&&(r=yield this.compressMessage(r));let i=Buffer.allocUnsafe(r.length+5);return i.writeUInt8(t?1:0,0),i.writeUInt32BE(r.length,1),r.copy(i,5),i})}readMessage(e){return O(this,null,function*(){let t=e.readUInt8(0)===1,r=e.slice(5);return t&&(r=yield this.decompressMessage(r)),r})}},ed=class extends ph{compressMessage(e){return O(this,null,function*(){return e})}writeMessage(e,t){return O(this,null,function*(){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r})}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},nk=class extends ph{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{J_.deflate(e,(i,s)=>{i?r(i):t(s)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],o=J_.createInflate();o.on("data",a=>{s.push(a),i+=a.byteLength,this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength&&(o.destroy(),r({code:Z_.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{t(Buffer.concat(s))}),o.write(e),o.end()})}},rk=class extends ph{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{J_.gzip(e,(i,s)=>{i?r(i):t(s)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],o=J_.createGunzip();o.on("data",a=>{s.push(a),i+=a.byteLength,this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength&&(o.destroy(),r({code:Z_.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),o.on("end",()=>{t(Buffer.concat(s))}),o.write(e),o.end()})}},ik=class extends ph{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function CH(n,e){switch(n){case"identity":return new ed;case"deflate":return new nk(e);case"gzip":return new rk(e);default:return new ik(n)}}var X_=class extends Aye.BaseFilter{constructor(e,t){var r,i;super(),this.sharedFilterConfig=t,this.sendCompression=new ed,this.receiveCompression=new ed,this.currentCompressionAlgorithm="identity";let s=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(r=e["grpc.max_receive_message_length"])!==null&&r!==void 0?r:Z_.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,s!==void 0)if(Rye(s)){let o=IH.CompressionAlgorithms[s],a=(i=t.serverSupportedEncodingHeader)===null||i===void 0?void 0:i.split(",");(!a||a.includes(o))&&(this.currentCompressionAlgorithm=o,this.sendCompression=CH(this.currentCompressionAlgorithm,-1))}else Nye.log(Z_.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${s}`)}sendMetadata(e){return O(this,null,function*(){let t=yield e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t})}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let i=t[0];typeof i=="string"&&(this.receiveCompression=CH(i,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new ed,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}sendMessage(e){return O(this,null,function*(){var t;let r=yield e,i;return this.sendCompression instanceof ed?i=!1:i=(((t=r.flags)!==null&&t!==void 0?t:0)&2)===0,{message:yield this.sendCompression.writeMessage(r.message,i),flags:r.flags}})}receiveMessage(e){return O(this,null,function*(){return this.receiveCompression.readMessage(yield e)})}};mh.CompressionFilter=X_;var sk=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new X_(this.options,this.sharedFilterConfig)}};mh.CompressionFilterFactory=sk});var eE=ee(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.deadlineToString=Fo.getRelativeTimeout=Fo.getDeadlineTimeoutString=Fo.minDeadline=void 0;function kye(...n){let e=1/0;for(let t of n){let r=t instanceof Date?t.getTime():t;r<e&&(e=r)}return e}Fo.minDeadline=kye;var Mye=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function Oye(n){let e=new Date().getTime();n instanceof Date&&(n=n.getTime());let t=Math.max(n-e,0);for(let[r,i]of Mye){let s=t/i;if(s<1e8)return String(Math.ceil(s))+r}throw new Error("Deadline is too far in the future")}Fo.getDeadlineTimeoutString=Oye;var Pye=2147483647;function Lye(n){let e=n instanceof Date?n.getTime():n,t=new Date().getTime(),r=e-t;return r<0?0:r>Pye?1/0:r}Fo.getRelativeTimeout=Lye;function Fye(n){if(n instanceof Date)return n.toISOString();{let e=new Date(n);return Number.isNaN(e.getTime())?""+n:e.toISOString()}}Fo.deadlineToString=Fye});var nE=ee(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.restrictControlPlaneStatusCode=void 0;var Uo=Lt(),Uye=[Uo.Status.OK,Uo.Status.INVALID_ARGUMENT,Uo.Status.NOT_FOUND,Uo.Status.ALREADY_EXISTS,Uo.Status.FAILED_PRECONDITION,Uo.Status.ABORTED,Uo.Status.OUT_OF_RANGE,Uo.Status.DATA_LOSS];function Bye(n,e){return Uye.includes(n)?{code:Uo.Status.INTERNAL,details:`Invalid status from control plane: ${n} ${Uo.Status[n]} ${e}`}:{code:n,details:e}}tE.restrictControlPlaneStatusCode=Bye});var AH=ee(sE=>{"use strict";Object.defineProperty(sE,"__esModule",{value:!0});sE.LoadBalancingCall=void 0;var xH=Yi(),rE=Lt(),Vye=eE(),iE=fi(),Og=Qu(),qye=xi(),jye=Nn(),ok=nE(),Hye=Wt("http2"),$ye="load_balancing_call",ak=class{constructor(e,t,r,i,s,o,a){var u,c;this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let l=this.methodName.split("/"),d="";l.length>=2&&(d=l[1]);let f=(c=(u=(0,qye.splitHostPort)(this.host))===null||u===void 0?void 0:u.host)!==null&&c!==void 0?c:"localhost";this.serviceUrl=`https://${f}/${d}`}trace(e){jye.trace(rE.LogVerbosity.DEBUG,$ye,"["+this.callNumber+"] "+e)}outputStatus(e,t){var r,i;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let s=Object.assign(Object.assign({},e),{progress:t});(r=this.listener)===null||r===void 0||r.onReceiveStatus(s),(i=this.onCallEnded)===null||i===void 0||i.call(this,s.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),i=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+Og.PickResultType[r.pickResultType]+" subchannel: "+i+" status: "+((e=r.status)===null||e===void 0?void 0:e.code)+" "+((t=r.status)===null||t===void 0?void 0:t.details)),r.pickResultType){case Og.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(a=>{var u,c,l;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let d=this.metadata.clone();if(d.merge(a),d.get("authorization").length>1&&this.outputStatus({code:rE.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new iE.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==xH.ConnectivityState.READY){this.trace("Picked subchannel "+i+" has state "+xH.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&d.set("grpc-timeout",(0,Vye.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(d,this.host,this.methodName,{onReceiveMetadata:f=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(f)},onReceiveMessage:f=>{this.trace("Received message"),this.listener.onReceiveMessage(f)},onReceiveStatus:f=>{this.trace("Received status"),f.rstCode===Hye.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(f,"REFUSED"):this.outputStatus(f,"PROCESSED")}})}catch(f){this.trace("Failed to start call on picked subchannel "+i+" with error "+f.message),this.outputStatus({code:rE.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+f.message,metadata:new iE.Metadata},"NOT_STARTED");return}(c=(u=this.callConfig).onCommitted)===null||c===void 0||c.call(u),(l=r.onCallStarted)===null||l===void 0||l.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},a=>{let{code:u,details:c}=(0,ok.restrictControlPlaneStatusCode)(typeof a.code=="number"?a.code:rE.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);this.outputStatus({code:u,details:c,metadata:new iE.Metadata},"PROCESSED")});break;case Og.PickResultType.DROP:let{code:s,details:o}=(0,ok.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:s,details:o,metadata:r.status.metadata},"DROP")});break;case Og.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:a,details:u}=(0,ok.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:a,details:u,metadata:r.status.metadata},"PROCESSED")})}break;case Og.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new iE.Metadata},"PROCESSED")}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};sE.LoadBalancingCall=ak});var RH=ee(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});aE.ResolvingCall=void 0;var gh=Lt(),oE=eE(),NH=fi(),zye=Nn(),Gye=nE(),Wye="resolving_call",uk=class{constructor(e,t,r,i,s,o){this.channel=e,this.method=t,this.filterStackFactory=i,this.credentials=s,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&gh.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(gh.Status.CANCELLED,"Cancelled by parent call")}),r.flags&gh.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,oE.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){zye.trace(gh.LogVerbosity.DEBUG,Wye,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,oE.deadlineToString)(this.deadline));let e=(0,oE.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{this.cancelWithStatus(gh.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(r=>r(t)),process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(i=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,i.message),this.pendingHalfClose&&r.halfClose()},i=>{this.cancelWithStatus(i.code,i.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let t=e.config;if(t.status!==gh.Status.OK){let{code:r,details:i}=(0,Gye.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:r,details:i,metadata:new NH.Metadata});return}if(t.methodConfig.timeout){let r=new Date;r.setSeconds(r.getSeconds()+t.methodConfig.timeout.seconds),r.setMilliseconds(r.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,oE.minDeadline)(this.deadline,r),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(r=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(r,{onReceiveMetadata:i=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(i))},onReceiveMessage:i=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(i).then(s=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(s),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},s=>{this.cancelWithStatus(s.code,s.details)})},onReceiveStatus:i=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=i:this.outputStatus(i)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},r=>{this.outputStatus(r)})}reportResolverError(e){var t;!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(r=this.child)===null||r===void 0||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new NH.Metadata})}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};aE.ResolvingCall=uk});var kH=ee(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.RetryingCall=dc.MessageBufferTracker=dc.RetryThrottler=void 0;var uE=Lt(),Kye=fi(),Qye=Nn(),Yye="retrying_call",lk=class{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};dc.RetryThrottler=lk;var dk=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;let i=(r=this.allocatedPerCall.get(t))!==null&&r!==void 0?r:0;return this.limitPerCall-i<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(t,i+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let i=(r=this.allocatedPerCall.get(t))!==null&&r!==void 0?r:0;if(i<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${i}`);this.allocatedPerCall.set(t,i-e)}freeAll(e){var t;let r=(t=this.allocatedPerCall.get(e))!==null&&t!==void 0?t:0;if(this.totalAllocated<r)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}};dc.MessageBufferTracker=dk;var ck="grpc-previous-rpc-attempts",fk=class{constructor(e,t,r,i,s,o,a,u,c){if(this.channel=e,this.callConfig=t,this.methodName=r,this.host=i,this.credentials=s,this.deadline=o,this.callNumber=a,this.bufferTracker=u,this.retryThrottler=c,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let l=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(l.initialBackoff.substring(0,l.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){Qye.trace(uE.LogVerbosity.DEBUG,Yye,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;(t=this.listener)===null||t===void 0||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new Kye.Metadata});for(let{call:r}of this.underlyingCalls)r.cancelWithStatus(e,t)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return(t=this.writeBuffer[e-this.writeBufferOffset])!==null&&t!==void 0?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let r=this.getBufferEntry(t);r.allocated&&this.bufferTracker.free(r.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if(this.state!=="COMMITTED"&&this.underlyingCalls[e].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&this.underlyingCalls[t].state!=="COMPLETED"&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(uE.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,t=-1;for(let[r,i]of this.underlyingCalls.entries())i.state==="ACTIVE"&&i.nextMessageToSend>e&&(e=i.nextMessageToSend,t=r);t===-1?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(r=>r===t||r.toString().toLowerCase()===uE.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,i=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,i),r}maybeRetryCall(e,t){if(this.state!=="RETRY"){t(!1);return}let r=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(r.maxAttempts,5)){t(!1);return}let i;if(e===null)i=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else i=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var s,o;if(this.state!=="RETRY"){t(!1);return}(!((o=(s=this.retryThrottler)===null||s===void 0?void 0:s.canRetryCall())!==null&&o!==void 0)||o)&&(t(!0),this.attempts+=1,this.startNewAttempt())},i)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)t?.state==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,r){var i,s,o;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((i=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&i!==void 0?i:[],e.code)){(s=this.retryThrottler)===null||s===void 0||s.addCallFailed();let a;if(r===null)a=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else a=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(t),this.reportStatus(e))},a)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((o=this.retryThrottler)===null||o===void 0||o.addCallFailed(),this.maybeRetryCall(r,a=>{a||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e));break}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(t.length===0)return null;try{return parseInt(t[0])}catch{return-1}}handleChildStatus(e,t){var r;if(this.underlyingCalls[t].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===uE.Status.OK){(r=this.retryThrottler)===null||r===void 0||r.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let i=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(i.maxAttempts,5))return;let s=(e=i.hedgingDelay)!==null&&e!==void 0?e:"0s",o=Number(s.substring(0,s.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},o*1e3),(r=(t=this.hedgingTimer).unref)===null||r===void 0||r.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,i=this.initialMetadata.clone();r>0&&i.set(ck,`${r}`);let s=!1;e.start(i,{onReceiveMetadata:o=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),s=!0,r>0&&o.set(ck,`${r}`),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMetadata(o)},onReceiveMessage:o=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMessage(o)},onReceiveStatus:o=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!s&&r>0&&o.metadata.set(ck,`${r}`),this.handleChildStatus(o,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;let i=this.underlyingCalls[e],s=i.nextMessageToSend;(r=(t=this.getBufferEntry(s)).callback)===null||r===void 0||r.call(t),this.clearSentMessages(),i.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if(t.state!=="COMPLETED"&&this.getBufferEntry(t.nextMessageToSend)){let r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:i=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);let i={message:t,flags:e.flags},s=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:i,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated){(r=e.callback)===null||r===void 0||r.call(e);for(let[a,u]of this.underlyingCalls.entries())u.state==="ACTIVE"&&u.nextMessageToSend===s&&u.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(a)}},t)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let a=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,a.state==="ACTIVE"&&a.nextMessageToSend===s&&a.call.sendMessageWithContext({callback:u=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)e?.state==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let t of this.underlyingCalls)t?.state==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};dc.RetryingCall=fk});var lE=ee(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});cE.BaseSubchannelWrapper=void 0;var hk=class{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}};cE.BaseSubchannelWrapper=hk});var PH=ee(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});hE.InternalChannel=void 0;var Jye=Q1(),Zye=lV(),Xye=SH(),MH=Qu(),Pg=Lt(),eve=ZR(),tve=DH(),OH=Co(),pk=Nn(),nve=qR(),dE=xi(),Bo=Yi(),Lg=Xl(),rve=AH(),ive=eE(),sve=RH(),mk=zR(),ove=nE(),gk=kH(),ave=lE(),uve=2147483647,cve=1e3,lve=30*60*1e3,fE=new Map,dve=1<<24,fve=1<<20,yk=class extends ave.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(r,i,s,o)=>{t.throttleKeepalive(o)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},vk=class{constructor(e,t,r){var i,s,o,a,u,c,l,d;if(this.credentials=t,this.options=r,this.connectivityState=Bo.ConnectivityState.IDLE,this.currentPicker=new MH.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new Lg.ChannelzCallTracker,this.childrenTracker=new Lg.ChannelzChildrenTracker,typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof Jye.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.originalTarget=e;let f=(0,dE.parseUri)(e);if(f===null)throw new Error(`Could not parse target name "${e}"`);let h=(0,OH.mapUriDefaultScheme)(f);if(h===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},uve),(s=(i=this.callRefTimer).unref)===null||s===void 0||s.call(i),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new Lg.ChannelzTrace,this.channelzRef=(0,Lg.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,OH.getDefaultAuthority)(h);let g=(0,nve.mapProxyName)(h,r);this.target=g.target,this.options=Object.assign({},this.options,g.extraOptions),this.subchannelPool=(0,Xye.getSubchannelPool)(((o=r["grpc.use_local_subchannel_pool"])!==null&&o!==void 0?o:0)===0),this.retryBufferTracker=new gk.MessageBufferTracker((a=r["grpc.retry_buffer_size"])!==null&&a!==void 0?a:dve,(u=r["grpc.per_rpc_retry_buffer_size"])!==null&&u!==void 0?u:fve),this.keepaliveTime=(c=r["grpc.keepalive_time_ms"])!==null&&c!==void 0?c:-1,this.idleTimeoutMs=Math.max((l=r["grpc.client_idle_timeout_ms"])!==null&&l!==void 0?l:lve,cve);let y={createSubchannel:(_,C)=>{let I=this.subchannelPool.getOrCreateSubchannel(this.target,_,Object.assign({},this.options,C),this.credentials);I.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",I.getChannelzRef());let T=new yk(I,this);return this.wrappedSubchannels.add(T),T},updateState:(_,C)=>{this.currentPicker=C;let I=this.pickQueue.slice();this.pickQueue=[],I.length>0&&this.callRefTimerUnref();for(let T of I)T.doPick();this.updateState(_)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:_=>{this.channelzEnabled&&this.childrenTracker.refChild(_)},removeChannelzChild:_=>{this.channelzEnabled&&this.childrenTracker.unrefChild(_)}};this.resolvingLoadBalancer=new Zye.ResolvingLoadBalancer(this.target,y,r,(_,C)=>{_.retryThrottling?fE.set(this.getTarget(),new gk.RetryThrottler(_.retryThrottling.maxTokens,_.retryThrottling.tokenRatio,fE.get(this.getTarget()))):fE.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=C,this.currentResolutionError=null,process.nextTick(()=>{let I=this.configSelectionQueue;this.configSelectionQueue=[],I.length>0&&this.callRefTimerUnref();for(let T of I)T.getConfig()})},_=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+_.code+' and details "'+_.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,ove.restrictControlPlaneStatusCode)(_.code,_.details)),{metadata:_.metadata}));let C=this.configSelectionQueue;this.configSelectionQueue=[],C.length>0&&this.callRefTimerUnref();for(let I of C)I.reportResolverError(_)}),this.filterStackFactory=new eve.FilterStackFactory([new tve.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let S=new Error;(0,pk.trace)(Pg.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((d=S.stack)===null||d===void 0?void 0:d.substring(S.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,pk.trace)(t??Pg.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,dE.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,i;!((t=(e=this.callRefTimer).hasRef)===null||t===void 0)&&t.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(i=(r=this.callRefTimer).ref)===null||i===void 0||i.call(r))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(t=(e=this.callRefTimer).unref)===null||t===void 0||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(r=>r===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,pk.trace)(Pg.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,dE.uriToString)(this.target)+" "+Bo.ConnectivityState[this.connectivityState]+" -> "+Bo.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Bo.ConnectivityState[e]),this.connectivityState=e;let t=this.connectivityStateWatchers.slice();for(let r of t)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback());e!==Bo.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let t of this.wrappedSubchannels)t.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,t)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(Bo.ConnectivityState.IDLE),this.currentPicker=new MH.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let s=new Date().valueOf()-this.lastActivityTimestamp.valueOf();s>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-s)},e),(r=(t=this.idleTimer).unref)===null||r===void 0||r.call(t)}maybeStartIdleTimer(){this.connectivityState!==Bo.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===Pg.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,i,s){let o=(0,mk.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+t+'"'),new rve.LoadBalancingCall(this,e,t,r,i,s,o)}createRetryingCall(e,t,r,i,s){let o=(0,mk.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+t+'"'),new gk.RetryingCall(this,e,t,r,i,s,o,this.retryBufferTracker,fE.get(this.getTarget()))}createInnerCall(e,t,r,i,s){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(e,t,r,i,s):this.createRetryingCall(e,t,r,i,s)}createResolvingCall(e,t,r,i,s){let o=(0,mk.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0,ive.deadlineToString)(t));let a={deadline:t,flags:s??Pg.Propagate.DEFAULTS,host:r??this.defaultAuthority,parentCall:i},u=new sve.ResolvingCall(this,e,a,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),o);return this.onCallStart(),u.addStatusWatcher(c=>{this.onCallEnd(c)}),u}close(){this.resolvingLoadBalancer.destroy(),this.updateState(Bo.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,Lg.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,dE.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===Bo.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let i=null;if(t!==1/0){let o=t instanceof Date?t:new Date(t),a=new Date;if(t===-1/0||o<=a){process.nextTick(r,new Error("Deadline passed without connectivity state change"));return}i=setTimeout(()=>{this.removeConnectivityStateWatcher(s),r(new Error("Deadline passed without connectivity state change"))},o.getTime()-a.getTime())}let s={currentState:e,callback:r,timer:i};this.connectivityStateWatchers.push(s)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===Bo.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,r,i,s)}};hE.InternalChannel=vk});var EN=ee(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});pE.ChannelImplementation=void 0;var hve=Q1(),pve=PH(),bk=class{constructor(e,t,r){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof hve.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&typeof r!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new pve.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,i,s){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,i,s)}};pE.ChannelImplementation=bk});var $H=ee(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.Http2ServerCallStream=rs.ServerDuplexStreamImpl=rs.ServerWritableStreamImpl=rs.ServerReadableStreamImpl=rs.ServerUnaryCallImpl=void 0;var qH=Wt("events"),yh=Wt("http2"),wk=Wt("stream"),LH=Wt("zlib"),pn=Lt(),Sk=fi(),mve=HR(),jH=Nn(),Ug=H1(),HH="server_call";function Fg(n){jH.trace(pn.LogVerbosity.DEBUG,HH,n)}var gve="grpc-accept-encoding",yve="grpc-encoding",FH="grpc-message",UH="grpc-status",BH="grpc-timeout",vve=/(\d{1,8})\s*([HMSmun])/,bve={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},_ve={[gve]:"identity,deflate,gzip",[yve]:"identity"},VH={[yh.constants.HTTP2_HEADER_STATUS]:yh.constants.HTTP_STATUS_OK,[yh.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},Eve={waitForTrailers:!0},_k=class extends qH.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};rs.ServerUnaryCallImpl=_k;var mE=class extends wk.Readable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}};rs.ServerReadableStreamImpl=mE;var Bg=class extends wk.Writable{constructor(e,t,r,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=i,this.cancelled=!1,this.trailingMetadata=new Sk.Metadata,this.call.setupSurfaceCall(this),this.on("error",s=>{this.call.sendError(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,r){try{let i=this.call.serializeMessage(e);if(!this.call.write(i)){this.call.once("drain",r);return}}catch(i){this.emit("error",{details:(0,Ug.getErrorMessage)(i),code:pn.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:pn.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}};rs.ServerWritableStreamImpl=Bg;var vh=class extends wk.Duplex{constructor(e,t,r,i,s){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=i,this.cancelled=!1,this.trailingMetadata=new Sk.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,s),this.on("error",o=>{this.call.sendError(o),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}};rs.ServerDuplexStreamImpl=vh;vh.prototype._read=mE.prototype._read;vh.prototype._write=Bg.prototype._write;vh.prototype._final=Bg.prototype._final;var Ek=class extends qH.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=pn.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=pn.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",i=>{}),this.stream.once("close",()=>{var i;Fg("Request to method "+((i=this.handler)===null||i===void 0?void 0:i.path)+" stream closed with rstCode "+this.stream.rstCode),this.statusSent||(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:pn.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,t){let r=e.subarray(5);if(t==="identity")return r;if(t==="deflate"||t==="gzip"){let i;return t==="deflate"?i=LH.createInflate():i=LH.createGunzip(),new Promise((s,o)=>{let a=0,u=[];i.on("data",c=>{u.push(c),a+=c.byteLength,this.maxReceiveMessageSize!==-1&&a>this.maxReceiveMessageSize&&(i.destroy(),o({code:pn.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),i.on("end",()=>{s(Buffer.concat(u))}),i.write(r),i.end()})}else return Promise.reject({code:pn.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},VH),_ve),t);this.stream.respond(r,Eve)}receiveMetadata(e){let t=Sk.Metadata.fromHttp2Headers(e);jH.isTracerEnabled(HH)&&Fg("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));let r=t.get(BH);if(r.length>0){let i=r[0].toString().match(vve);if(i===null){let a=new Error("Invalid deadline");return a.code=pn.Status.OUT_OF_RANGE,this.sendError(a),t}let s=+i[1]*bve[i[2]]|0,o=new Date;this.deadline=o.setMilliseconds(o.getMilliseconds()+s),this.deadlineTimer=setTimeout(wve,s,this),t.remove(BH)}return t.remove(yh.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(yh.constants.HTTP2_HEADER_TE),t.remove(yh.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(e){return new Promise((t,r)=>{let{stream:i}=this,s=0,o=this,a=[],u=this.maxReceiveMessageSize;this.stream.on("data",c),this.stream.on("end",l),this.stream.on("error",l);function c(d){if(s+=d.byteLength,u!==-1&&s>u){i.removeListener("data",c),i.removeListener("end",l),i.removeListener("error",l),r({code:pn.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s} vs. ${u})`});return}a.push(d)}function l(d){if(i.removeListener("data",c),i.removeListener("end",l),i.removeListener("error",l),d!==void 0){r({code:pn.Status.INTERNAL,details:d.message});return}if(s===0){r({code:pn.Status.INTERNAL,details:"received empty unary message"});return}o.emit("receiveMessage");let f=Buffer.concat(a,s),g=f.readUInt8(0)===1?e:"identity",y=o.getDecompressedMessage(f,g);if(Buffer.isBuffer(y)){t(o.deserializeMessageWithInternalError(y));return}y.then(S=>t(o.deserializeMessageWithInternalError(S)),S=>r(S.code?S:{code:pn.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}})}deserializeMessageWithInternalError(e){return O(this,null,function*(){try{return this.deserializeMessage(e)}catch(t){throw{details:(0,Ug.getErrorMessage)(t),code:pn.Status.INTERNAL}}})}serializeMessage(e){let t=this.handler.serialize(e),r=t.byteLength,i=Buffer.allocUnsafe(r+5);return i.writeUInt8(0,0),i.writeUInt32BE(r,1),t.copy(i,5),i}deserializeMessage(e){return this.handler.deserialize(e)}sendUnaryMessage(e,t,r,i){return O(this,null,function*(){if(!this.checkCancelled()){if(r===void 0&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let s=this.serializeMessage(t);this.write(s),this.sendStatus({code:pn.Status.OK,details:"OK",metadata:r})}catch(s){this.sendError({details:(0,Ug.getErrorMessage)(s),code:pn.Status.INTERNAL})}}})}sendStatus(e){var t,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===pn.Status.OK),!this.checkCancelled())if(Fg("Request to method "+((t=this.handler)===null||t===void 0?void 0:t.path)+" ended with status code: "+pn.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var i;let s=Object.assign({[UH]:e.code,[FH]:encodeURI(e.details)},(i=e.metadata)===null||i===void 0?void 0:i.toHttp2Headers());this.stream.sendTrailers(s),this.statusSent=!0}),this.stream.end());else{let i=Object.assign(Object.assign({[UH]:e.code,[FH]:encodeURI(e.details)},VH),(r=e.metadata)===null||r===void 0?void 0:r.toHttp2Headers());this.stream.respond(i,{endStream:!0}),this.statusSent=!0}}sendError(e){let t={code:pn.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&e.metadata!==void 0?e.metadata:null};"code"in e&&typeof e.code=="number"&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&typeof e.details=="string"&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(this.maxSendMessageSize!==-1&&e.length>this.maxSendMessageSize){this.sendError({code:pn.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)}),this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){let r=new mve.StreamDecoder(this.maxReceiveMessageSize),i=!1,s=!1,o=!1,a=()=>O(this,null,function*(){!o&&i&&!s&&(o=!0,yield this.pushOrBufferMessage(e,null))});this.stream.on("data",u=>O(this,null,function*(){let c;try{c=r.write(u)}catch(l){this.sendError({code:pn.Status.RESOURCE_EXHAUSTED,details:l.message});return}s=!0,this.stream.pause();for(let l of c){this.emit("receiveMessage");let f=l.readUInt8(0)===1?t:"identity",h;try{h=yield this.getDecompressedMessage(l,f)}catch(g){this.sendError(g);return}if(!h)return;yield this.pushOrBufferMessage(e,h)}s=!1,this.stream.resume(),yield a()})),this.stream.once("end",()=>O(this,null,function*(){i=!0,yield a()}))}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let t=this.messagesToPush.shift(),r=e.push(t);if(t===null||r===!1){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,t){return O(this,null,function*(){this.isPushPending?this.bufferedMessages.push(t):yield this.pushMessage(e,t)})}pushMessage(e,t){return O(this,null,function*(){if(t===null){Fg("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}Fg("Received message of length "+t.length),this.isPushPending=!0;try{let r=yield this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let i=(0,Ug.getErrorCode)(r);(i===null||i<pn.Status.OK||i>pn.Status.UNAUTHENTICATED)&&(i=pn.Status.INTERNAL),e.emit("error",{details:(0,Ug.getErrorMessage)(r),code:i})}this.isPushPending=!1,this.bufferedMessages.length>0&&(yield this.pushMessage(e,this.bufferedMessages.shift()))})}getPeer(){var e;let t=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return t?.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}};rs.Http2ServerCallStream=Ek;function wve(n){let e=new Error("Deadline exceeded");e.code=pn.Status.DEADLINE_EXCEEDED,n.sendError(e),n.cancelled=!0,n.emit("cancelled","deadline")}});var Ik=ee(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});gE.ServerCredentials=void 0;var zH=zA(),Vg=class{static createInsecure(){return new Tk}static createSsl(e,t,r=!1){if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if(typeof r!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let i=[],s=[];for(let o=0;o<t.length;o++){let a=t[o];if(a===null||typeof a!="object")throw new TypeError(`keyCertPair[${o}] must be an object`);if(!Buffer.isBuffer(a.private_key))throw new TypeError(`keyCertPair[${o}].private_key must be a Buffer`);if(!Buffer.isBuffer(a.cert_chain))throw new TypeError(`keyCertPair[${o}].cert_chain must be a Buffer`);i.push(a.cert_chain),s.push(a.private_key)}return new Ck({ca:e||(0,zH.getDefaultRootsData)()||void 0,cert:i,key:s,requestCert:r,ciphers:zH.CIPHER_SUITES})}};gE.ServerCredentials=Vg;var Tk=class extends Vg{_isSecure(){return!1}_getSettings(){return null}},Ck=class extends Vg{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}});var KH=ee(bE=>{"use strict";Object.defineProperty(bE,"__esModule",{value:!0});bE.Server=void 0;var fc=Wt("http2"),Ua=Lt(),td=$H(),Sve=Ik(),GH=Co(),yE=Nn(),Ws=Do(),Tve=xi(),mi=Xl(),vE=~(1<<31),Cve=~(1<<31),Ive=2e4,{HTTP2_HEADER_PATH:WH}=fc.constants,Dve="server";function xve(){}function Dk(n){return{code:Ua.Status.UNIMPLEMENTED,details:`The server does not implement the method ${n}`}}function Ave(n,e){let t=Dk(e);switch(n){case"unary":return(r,i)=>{i(t,null)};case"clientStream":return(r,i)=>{i(t,null)};case"serverStream":return r=>{r.emit("error",t)};case"bidi":return r=>{r.emit("error",t)};default:throw new Error(`Invalid handlerType ${n}`)}}var xk=class{constructor(e){var t,r,i,s;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new mi.ChannelzTrace,this.callTracker=new mi.ChannelzCallTracker,this.listenerChildrenTracker=new mi.ChannelzChildrenTracker,this.sessionChildrenTracker=new mi.ChannelzChildrenTracker,this.options=e??{},this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,mi.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(t=this.options["grpc.max_connection_age_ms"])!==null&&t!==void 0?t:vE,this.maxConnectionAgeGraceMs=(r=this.options["grpc.max_connection_age_grace_ms"])!==null&&r!==void 0?r:vE,this.keepaliveTimeMs=(i=this.options["grpc.keepalive_time_ms"])!==null&&i!==void 0?i:Cve,this.keepaliveTimeoutMs=(s=this.options["grpc.keepalive_timeout_ms"])!==null&&s!==void 0?s:Ive,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,r,i;let s=this.sessions.get(e),o=e.socket,a=o.remoteAddress?(0,Ws.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,u=o.localAddress?(0,Ws.stringToSubchannelAddress)(o.localAddress,o.localPort):null,c;if(e.encrypted){let d=o,f=d.getCipher(),h=d.getCertificate(),g=d.getPeerCertificate();c={cipherSuiteStandardName:(t=f.standardName)!==null&&t!==void 0?t:null,cipherSuiteOtherName:f.standardName?null:f.name,localCertificate:h&&"raw"in h?h.raw:null,remoteCertificate:g&&"raw"in g?g.raw:null}}else c=null;return{remoteAddress:a,localAddress:u,security:c,remoteName:null,streamsStarted:s.streamTracker.callsStarted,streamsSucceeded:s.streamTracker.callsSucceeded,streamsFailed:s.streamTracker.callsFailed,messagesSent:s.messagesSent,messagesReceived:s.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:s.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:s.lastMessageSentTimestamp,lastMessageReceivedTimestamp:s.lastMessageReceivedTimestamp,localFlowControlWindow:(r=e.state.localWindowSize)!==null&&r!==void 0?r:null,remoteFlowControlWindow:(i=e.state.remoteWindowSize)!==null&&i!==void 0?i:null}}}trace(e){yE.trace(Ua.LogVerbosity.DEBUG,Dve,"("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(e===null||typeof e!="object"||t===null||typeof t!="object")throw new Error("addService() requires two objects as arguments");let r=Object.keys(e);if(r.length===0)throw new Error("Cannot add an empty service to a server");r.forEach(i=>{let s=e[i],o;s.requestStream?s.responseStream?o="bidi":o="clientStream":s.responseStream?o="serverStream":o="unary";let a=t[i],u;if(a===void 0&&typeof s.originalName=="string"&&(a=t[s.originalName]),a!==void 0?u=a.bind(t):u=Ave(o,i),this.register(s.path,u,s.responseSerialize,s.requestDeserialize,o)===!1)throw new Error(`Method handler for ${s.path} already provided.`)})}removeService(e){if(e===null||typeof e!="object")throw new Error("removeService() requires object as argument");Object.keys(e).forEach(r=>{let i=e[r];this.unregister(i.path)})}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(this.started===!0)throw new Error("server is already started");if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof e!="string")throw new TypeError("port must be a string");if(t===null||!(t instanceof Sve.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof r!="function")throw new TypeError("callback must be a function");let i=(0,Tve.parseUri)(e);if(i===null)throw new Error(`Could not parse port "${e}"`);let s=(0,GH.mapUriDefaultScheme)(i);if(s===null)throw new Error(`Could not get a default scheme for port "${e}"`);let o={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?o.maxSessionMemory=this.options["grpc-node.max_session_memory"]:o.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(o.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let a=(h,g)=>{process.nextTick(()=>r(h,g))},u=()=>{let h;if(t._isSecure()){let g=Object.assign(o,t._getSettings());g.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,h=fc.createSecureServer(g),h.on("secureConnection",y=>{y.on("error",S=>{this.trace("An incoming TLS connection closed with error: "+S.message)})})}else h=fc.createServer(o);return h.setTimeout(0,xve),this._setupHandlers(h),h},c=(h,g,y)=>h.length===0?Promise.resolve({port:g,count:y}):Promise.all(h.map(S=>{this.trace("Attempting to bind "+(0,Ws.subchannelAddressToString)(S));let _;(0,Ws.isTcpSubchannelAddress)(S)?_={host:S.host,port:g}:_=S;let C=u();return new Promise((I,T)=>{let x=V=>{this.trace("Failed to bind "+(0,Ws.subchannelAddressToString)(S)+" with error "+V.message),I(V)};C.once("error",x),C.listen(_,()=>{if(this.shutdown){C.close(),I(new Error("bindAsync failed because server is shutdown"));return}let V=C.address(),R;typeof V=="string"?R={path:V}:R={host:V.address,port:V.port};let A=(0,mi.registerChannelzSocket)((0,Ws.subchannelAddressToString)(R),()=>({localAddress:R,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(A),this.http2ServerList.push({server:C,channelzRef:A}),this.trace("Successfully bound "+(0,Ws.subchannelAddressToString)(R)),I("port"in R?R.port:g),C.removeListener("error",x)})})})).then(S=>{let _=0;for(let C of S)if(typeof C=="number"&&(_+=1,C!==g))throw new Error("Invalid state: multiple port numbers added from single address");return{port:g,count:_+y}}),l=h=>{if(h.length===0)return Promise.resolve({port:0,count:0});let g=h[0],y=u();return new Promise((S,_)=>{let C=I=>{this.trace("Failed to bind "+(0,Ws.subchannelAddressToString)(g)+" with error "+I.message),S(l(h.slice(1)))};y.once("error",C),y.listen(g,()=>{if(this.shutdown){y.close(),S({port:0,count:0});return}let I=y.address(),T={host:I.address,port:I.port},x=(0,mi.registerChannelzSocket)((0,Ws.subchannelAddressToString)(T),()=>({localAddress:T,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(x),this.http2ServerList.push({server:y,channelzRef:x}),this.trace("Successfully bound "+(0,Ws.subchannelAddressToString)(T)),S(c(h.slice(1),I.port,1)),y.removeListener("error",C)})})},d={onSuccessfulResolution:(h,g,y)=>{if(d.onSuccessfulResolution=()=>{},this.shutdown&&a(new Error("bindAsync failed because server is shutdown"),0),h.length===0){a(new Error(`No addresses resolved for port ${e}`),0);return}let S;(0,Ws.isTcpSubchannelAddress)(h[0])?h[0].port===0?S=l(h):S=c(h,h[0].port,0):S=c(h,1,0),S.then(_=>{if(_.count===0){let C=`No address added out of total ${h.length} resolved`;yE.log(Ua.LogVerbosity.ERROR,C),a(new Error(C),0)}else _.count<h.length&&yE.log(Ua.LogVerbosity.INFO,`WARNING Only ${_.count} addresses added out of total ${h.length} resolved`),a(null,_.port)},_=>{let C=`No address added out of total ${h.length} resolved`;yE.log(Ua.LogVerbosity.ERROR,C),a(new Error(C),0)})},onError:h=>{a(new Error(h.details),0)}};(0,GH.createResolver)(s,d,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:t}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,mi.unregisterChannelzRef)(t))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,t)=>{t.destroy(fc.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,mi.unregisterChannelzRef)(this.channelzRef)}register(e,t,r,i,s){return this.handlers.has(e)?!1:(this.handlers.set(e,{func:t,serialize:r,deserialize:i,type:s,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(this.http2ServerList.length===0||this.http2ServerList.every(({server:e})=>e.listening!==!0))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let t=s=>{this.channelzEnabled&&(0,mi.unregisterChannelzRef)(this.channelzRef),e(s)},r=0;function i(){r--,r===0&&t()}this.started=!1,this.shutdown=!0;for(let{server:s,channelzRef:o}of this.http2ServerList)s.listening&&(r++,s.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(o),(0,mi.unregisterChannelzRef)(o)),i()}));this.sessions.forEach((s,o)=>{o.closed||(r+=1,o.close(i))}),r===0&&t()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){let r=t[fc.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof r!="string"||!r.startsWith("application/grpc")?(e.respond({[fc.constants.HTTP2_HEADER_STATUS]:fc.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let t=this.handlers.get(e);return t===void 0?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){let i=new td.Http2ServerCallStream(t,null,this.options);e.code===void 0&&(e.code=Ua.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed()),i.sendError(e)}_channelzHandler(e,t){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),r?.streamTracker.addCallStarted(),!this._verifyContentType(e,t)){this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed();return}let i=t[WH],s=this._retrieveHandler(i);if(!s){this._respondWithError(Dk(i),e,r);return}let o=new td.Http2ServerCallStream(e,s,this.options);o.once("callEnd",a=>{a===Ua.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(o.once("streamEnd",a=>{a?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),o.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),o.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(o,s,t)||(this.callTracker.addCallFailed(),r?.streamTracker.addCallFailed(),o.sendError({code:Ua.Status.INTERNAL,details:`Unknown handler type: ${s.type}`}))}_streamHandler(e,t){if(this._verifyContentType(e,t)!==!0)return;let r=t[WH],i=this._retrieveHandler(r);if(!i){this._respondWithError(Dk(r),e,null);return}let s=new td.Http2ServerCallStream(e,i,this.options);this._runHandlerForCall(s,i,t)||s.sendError({code:Ua.Status.INTERNAL,details:`Unknown handler type: ${i.type}`})}_runHandlerForCall(e,t,r){var i;let s=e.receiveMetadata(r),o=(i=s.get("grpc-encoding")[0])!==null&&i!==void 0?i:"identity";s.remove("grpc-encoding");let{type:a}=t;if(a==="unary")Nve(e,t,s,o);else if(a==="clientStream")Rve(e,t,s,o);else if(a==="serverStream")kve(e,t,s,o);else if(a==="bidi")Mve(e,t,s,o);else return!1;return!0}_setupHandlers(e){if(e===null)return;let t=e.address(),r="null";t&&(typeof t=="string"?r=t:r=t.address+":"+t.port),this.serverAddressString=r;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",s=>{var o,a,u,c,l;if(!this.started){s.destroy();return}let d=(0,mi.registerChannelzSocket)((o=s.socket.remoteAddress)!==null&&o!==void 0?o:"unknown",this.getChannelzSessionInfoGetter(s),this.channelzEnabled),f={ref:d,streamTracker:new mi.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(s,f);let h=s.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+h),this.sessionChildrenTracker.refChild(d));let g=null,y=null,S=!1;if(this.maxConnectionAgeMs!==vE){let C=this.maxConnectionAgeMs/10,I=Math.random()*C*2-C;g=(u=(a=setTimeout(()=>{var T,x;S=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+h);try{s.goaway(fc.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch{s.destroy();return}s.close(),this.maxConnectionAgeGraceMs!==vE&&(y=(x=(T=setTimeout(()=>{s.destroy()},this.maxConnectionAgeGraceMs)).unref)===null||x===void 0?void 0:x.call(T))},this.maxConnectionAgeMs+I)).unref)===null||u===void 0?void 0:u.call(a)}let _=(l=(c=setInterval(()=>{var C,I;let T=(I=(C=setTimeout(()=>{S=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+h),s.close()},this.keepaliveTimeoutMs)).unref)===null||I===void 0?void 0:I.call(C);try{s.ping((x,V,R)=>{clearTimeout(T)})}catch{s.destroy()}},this.keepaliveTimeMs)).unref)===null||l===void 0?void 0:l.call(c);s.on("close",()=>{this.channelzEnabled&&(S||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+h),this.sessionChildrenTracker.unrefChild(d),(0,mi.unregisterChannelzRef)(d)),g&&clearTimeout(g),y&&clearTimeout(y),_&&clearTimeout(_),this.sessions.delete(s)})})}};bE.Server=xk;function Nve(n,e,t,r){return O(this,null,function*(){try{let i=yield n.receiveUnaryMessage(r);if(i===void 0||n.cancelled)return;let s=new td.ServerUnaryCallImpl(n,t,i);e.func(s,(o,a,u,c)=>{n.sendUnaryMessage(o,a,u,c)})}catch(i){n.sendError(i)}})}function Rve(n,e,t,r){let i=new td.ServerReadableStreamImpl(n,t,e.deserialize,r);function s(o,a,u,c){i.destroy(),n.sendUnaryMessage(o,a,u,c)}n.cancelled||(i.on("error",s),e.func(i,s))}function kve(n,e,t,r){return O(this,null,function*(){try{let i=yield n.receiveUnaryMessage(r);if(i===void 0||n.cancelled)return;let s=new td.ServerWritableStreamImpl(n,t,e.serialize,i);e.func(s)}catch(i){n.sendError(i)}})}function Mve(n,e,t,r){let i=new td.ServerDuplexStreamImpl(n,t,e.serialize,e.deserialize,r);n.cancelled||e.func(i)}});var QH=ee(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});_E.StatusBuilder=void 0;var Ak=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};_E.StatusBuilder=Ak});var Nk=ee(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.isDuration=hc.durationToMs=hc.msToDuration=void 0;function Ove(n){return{seconds:n/1e3|0,nanos:n%1e3*1e6|0}}hc.msToDuration=Ove;function Pve(n){return n.seconds*1e3+n.nanos/1e6|0}hc.durationToMs=Pve;function Lve(n){return typeof n.seconds=="number"&&typeof n.nanos=="number"}hc.isDuration=Lve});var Uk=ee(pc=>{"use strict";var Rk;Object.defineProperty(pc,"__esModule",{value:!0});pc.setup=pc.OutlierDetectionLoadBalancer=pc.OutlierDetectionLoadBalancingConfig=void 0;var wE=Yi(),JH=Lt(),nd=Nk(),ZH=Bk(),XH=zu(),Fve=n_(),Uve=Qu(),YH=Do(),Bve=lE(),Vve=Nn(),qve="outlier_detection";function hr(n){Vve.trace(JH.LogVerbosity.DEBUG,qve,n)}var Fk="outlier_detection",jve=((Rk=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&Rk!==void 0?Rk:"true")==="true",Hve={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},$ve={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function bh(n,e,t,r){if(e in n&&typeof n[e]!==t){let i=r?`${r}.${e}`:e;throw new Error(`outlier detection config ${i} parse error: expected ${t}, got ${typeof n[e]}`)}}function kk(n,e,t){let r=t?`${t}.${e}`:e;if(e in n){if(!(0,nd.isDuration)(n[e]))throw new Error(`outlier detection config ${r} parse error: expected Duration, got ${typeof n[e]}`);if(!(n[e].seconds>=0&&n[e].seconds<=315576e6&&n[e].nanos>=0&&n[e].nanos<=999999999))throw new Error(`outlier detection config ${r} parse error: values out of range for non-negative Duaration`)}}function EE(n,e,t){let r=t?`${t}.${e}`:e;if(bh(n,e,"number",t),e in n&&!(n[e]>=0&&n[e]<=100))throw new Error(`outlier detection config ${r} parse error: value out of range for percentage (0-100)`)}var qg=class n{constructor(e,t,r,i,s,o,a){if(this.childPolicy=a,a.length>0&&a[0].getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=t??3e4,this.maxEjectionTimeMs=r??3e5,this.maxEjectionPercent=i??10,this.successRateEjection=s?Object.assign(Object.assign({},Hve),s):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},$ve),o):null}getLoadBalancerName(){return Fk}toJsonObject(){return{interval:(0,nd.msToDuration)(this.intervalMs),base_ejection_time:(0,nd.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,nd.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new n(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;if(kk(e,"interval"),kk(e,"base_ejection_time"),kk(e,"max_ejection_time"),EE(e,"max_ejection_percent"),"success_rate_ejection"in e){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");bh(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),EE(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),bh(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),bh(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");EE(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),EE(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),bh(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),bh(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new n(e.interval?(0,nd.durationToMs)(e.interval):null,e.base_ejection_time?(0,nd.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,nd.durationToMs)(e.max_ejection_time):null,(t=e.max_ejection_percent)!==null&&t!==void 0?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(XH.validateLoadBalancingConfig))}};pc.OutlierDetectionLoadBalancingConfig=qg;var Ok=class extends Bve.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((r,i,s,o)=>{if(this.childSubchannelState=s,!this.ejected)for(let a of this.stateListeners)a(this,i,s,o)})}getConnectivityState(){return this.ejected?wE.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.ejected=!0;for(let e of this.stateListeners)e(this,this.childSubchannelState,wE.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){this.ejected=!1;for(let e of this.stateListeners)e(this,wE.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function Mk(){return{success:0,failure:0}}var Pk=class{constructor(){this.activeBucket=Mk(),this.inactiveBucket=Mk()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=Mk()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},Lk=class{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType===Uve.PickResultType.COMPLETE){let r=t.subchannel,i=r.getMapEntry();if(i){let s=t.onCallEnded;return this.countCalls&&(s=o=>{var a;o===JH.Status.OK?i.counter.addSuccess():i.counter.addFailure(),(a=t.onCallEnded)===null||a===void 0||a.call(t,o)}),Object.assign(Object.assign({},t),{subchannel:r.getWrappedSubchannel(),onCallEnded:s})}else return Object.assign(Object.assign({},t),{subchannel:r.getWrappedSubchannel()})}else return t}},SE=class{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new Fve.ChildLoadBalancerHandler((0,ZH.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{let i=e.createSubchannel(t,r),s=this.addressMap.get((0,YH.subchannelAddressToString)(t)),o=new Ok(i,s);return s?.currentEjectionTimestamp!==null&&o.eject(),s?.subchannelWrappers.push(o),o},updateState:(t,r)=>{t===wE.ConnectivityState.READY?e.updateState(t,new Lk(r,this.isCountingEnabled())):e.updateState(t,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let t of this.addressMap.values())t.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;hr("Running success rate check");let r=t.request_volume,i=0,s=[];for(let[d,f]of this.addressMap){let h=f.counter.getLastSuccesses(),g=f.counter.getLastFailures();hr("Stats for "+d+": successes="+h+" failures="+g+" targetRequestVolume="+r),h+g>=r&&(i+=1,s.push(h/(h+g)))}if(hr("Found "+i+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+s+"]"),i<t.minimum_hosts)return;let o=s.reduce((d,f)=>d+f)/s.length,a=0;for(let d of s){let f=d-o;a+=f*f}let u=a/s.length,c=Math.sqrt(u),l=o-c*(t.stdev_factor/1e3);hr("stdev="+c+" ejectionThreshold="+l);for(let[d,f]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let h=f.counter.getLastSuccesses(),g=f.counter.getLastFailures();if(h+g<r)continue;let y=h/(h+g);if(hr("Checking candidate "+d+" successRate="+y),y<l){let S=Math.random()*100;hr("Candidate "+d+" randomNumber="+S+" enforcement_percentage="+t.enforcement_percentage),S<t.enforcement_percentage&&(hr("Ejecting candidate "+d),this.eject(f,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;hr("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(let i of this.addressMap.values()){let s=i.counter.getLastSuccesses(),o=i.counter.getLastFailures();s+o>=t.request_volume&&(r+=1)}if(!(r<t.minimum_hosts))for(let[i,s]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=s.counter.getLastSuccesses(),a=s.counter.getLastFailures();if(hr("Candidate successes="+o+" failures="+a),o+a<t.request_volume)continue;if(a*100/(a+o)>t.threshold){let c=Math.random()*100;hr("Candidate "+i+" randomNumber="+c+" enforcement_percentage="+t.enforcement_percentage),c<t.enforcement_percentage&&(hr("Ejecting candidate "+i),this.eject(s,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let r of e.subchannelWrappers)r.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(r=(t=this.ejectionTimer).unref)===null||r===void 0||r.call(t)}runChecks(){let e=new Date;if(hr("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[t,r]of this.addressMap.entries())if(r.currentEjectionTimestamp===null)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let i=this.latestConfig.getBaseEjectionTimeMs(),s=this.latestConfig.getMaxEjectionTimeMs(),o=new Date(r.currentEjectionTimestamp.getTime());o.setMilliseconds(o.getMilliseconds()+Math.min(i*r.ejectionTimeMultiplier,Math.max(i,s))),o<new Date&&(hr("Unejecting "+t),this.uneject(r))}}}updateAddressList(e,t,r){if(!(t instanceof qg))return;let i=new Set;for(let o of e)i.add((0,YH.subchannelAddressToString)(o));for(let o of i)this.addressMap.has(o)||(hr("Adding map entry for "+o),this.addressMap.set(o,{counter:new Pk,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let o of this.addressMap.keys())i.has(o)||(hr("Removing map entry for "+o),this.addressMap.delete(o));let s=(0,XH.getFirstUsableConfig)(t.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,s,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){hr("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let o=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(o)}else hr("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{hr("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let o of this.addressMap.values())this.uneject(o),o.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return Fk}};pc.OutlierDetectionLoadBalancer=SE;function zve(){jve&&(0,ZH.registerLoadBalancerType)(Fk,SE,qg)}pc.setup=zve});var Bk=ee(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.OutlierDetectionLoadBalancingConfig=Ye.BaseSubchannelWrapper=Ye.registerAdminService=Ye.FilterStackFactory=Ye.BaseFilter=Ye.PickResultType=Ye.QueuePicker=Ye.UnavailablePicker=Ye.ChildLoadBalancerHandler=Ye.subchannelAddressToString=Ye.validateLoadBalancingConfig=Ye.getFirstUsableConfig=Ye.registerLoadBalancerType=Ye.createChildChannelControlHelper=Ye.BackoffTimeout=Ye.durationToMs=Ye.uriToString=Ye.createResolver=Ye.registerResolver=Ye.log=Ye.trace=void 0;var e$=Nn();Object.defineProperty(Ye,"trace",{enumerable:!0,get:function(){return e$.trace}});Object.defineProperty(Ye,"log",{enumerable:!0,get:function(){return e$.log}});var t$=Co();Object.defineProperty(Ye,"registerResolver",{enumerable:!0,get:function(){return t$.registerResolver}});Object.defineProperty(Ye,"createResolver",{enumerable:!0,get:function(){return t$.createResolver}});var Gve=xi();Object.defineProperty(Ye,"uriToString",{enumerable:!0,get:function(){return Gve.uriToString}});var Wve=Nk();Object.defineProperty(Ye,"durationToMs",{enumerable:!0,get:function(){return Wve.durationToMs}});var Kve=og();Object.defineProperty(Ye,"BackoffTimeout",{enumerable:!0,get:function(){return Kve.BackoffTimeout}});var TE=zu();Object.defineProperty(Ye,"createChildChannelControlHelper",{enumerable:!0,get:function(){return TE.createChildChannelControlHelper}});Object.defineProperty(Ye,"registerLoadBalancerType",{enumerable:!0,get:function(){return TE.registerLoadBalancerType}});Object.defineProperty(Ye,"getFirstUsableConfig",{enumerable:!0,get:function(){return TE.getFirstUsableConfig}});Object.defineProperty(Ye,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return TE.validateLoadBalancingConfig}});var Qve=Do();Object.defineProperty(Ye,"subchannelAddressToString",{enumerable:!0,get:function(){return Qve.subchannelAddressToString}});var Yve=n_();Object.defineProperty(Ye,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return Yve.ChildLoadBalancerHandler}});var Vk=Qu();Object.defineProperty(Ye,"UnavailablePicker",{enumerable:!0,get:function(){return Vk.UnavailablePicker}});Object.defineProperty(Ye,"QueuePicker",{enumerable:!0,get:function(){return Vk.QueuePicker}});Object.defineProperty(Ye,"PickResultType",{enumerable:!0,get:function(){return Vk.PickResultType}});var Jve=tk();Object.defineProperty(Ye,"BaseFilter",{enumerable:!0,get:function(){return Jve.BaseFilter}});var Zve=ZR();Object.defineProperty(Ye,"FilterStackFactory",{enumerable:!0,get:function(){return Zve.FilterStackFactory}});var Xve=i_();Object.defineProperty(Ye,"registerAdminService",{enumerable:!0,get:function(){return Xve.registerAdminService}});var ebe=lE();Object.defineProperty(Ye,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return ebe.BaseSubchannelWrapper}});var tbe=Uk();Object.defineProperty(Ye,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return tbe.OutlierDetectionLoadBalancingConfig}})});var n$=ee(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0});CE.setup=void 0;var nbe=Co(),qk=class{constructor(e,t,r){this.listener=t,this.addresses=[],this.hasReturnedResult=!1;let i;e.authority===""?i="/"+e.path:i=e.path,this.addresses=[{path:i}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}};function rbe(){(0,nbe.registerResolver)("unix",qk)}CE.setup=rbe});var a$=ee(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0});xE.setup=void 0;var r$=Wt("net"),IE=Lt(),jk=fi(),i$=Co(),s$=xi(),ibe=Nn(),sbe="ip_resolver";function o$(n){ibe.trace(IE.LogVerbosity.DEBUG,sbe,n)}var Hk="ipv4",$k="ipv6",obe=443,DE=class{constructor(e,t,r){var i;this.listener=t,this.addresses=[],this.error=null,this.hasReturnedResult=!1,o$("Resolver constructed for target "+(0,s$.uriToString)(e));let s=[];if(!(e.scheme===Hk||e.scheme===$k)){this.error={code:IE.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new jk.Metadata};return}let o=e.path.split(",");for(let a of o){let u=(0,s$.splitHostPort)(a);if(u===null){this.error={code:IE.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new jk.Metadata};return}if(e.scheme===Hk&&!(0,r$.isIPv4)(u.host)||e.scheme===$k&&!(0,r$.isIPv6)(u.host)){this.error={code:IE.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${a}`,metadata:new jk.Metadata};return}s.push({host:u.host,port:(i=u.port)!==null&&i!==void 0?i:obe})}this.addresses=s,o$("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function abe(){(0,i$.registerResolver)(Hk,DE),(0,i$.registerResolver)($k,DE)}xE.setup=abe});var l$=ee(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.setup=Vo.PickFirstLoadBalancer=Vo.shuffled=Vo.PickFirstLoadBalancingConfig=void 0;var u$=zu(),Ur=Yi(),AE=Qu(),ube=Nn(),cbe=Lt(),lbe="pick_first";function zk(n){ube.trace(cbe.LogVerbosity.DEBUG,lbe,n)}var jg="pick_first",dbe=250,Hg=class n{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return jg}toJsonObject(){return{[jg]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new n(e.shuffleAddressList===!0)}};Vo.PickFirstLoadBalancingConfig=Hg;var Gk=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:AE.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function c$(n){let e=n.slice();for(let t=e.length-1;t>1;t--){let r=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e}Vo.shuffled=c$;var NE=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=Ur.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(t,r,i,s,o)=>{this.onSubchannelStateUpdate(t,r,i,o)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(Ur.ConnectivityState.READY,new Gk(this.currentPick)):this.children.length===0?this.updateState(Ur.ConnectivityState.IDLE,new AE.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(Ur.ConnectivityState.TRANSIENT_FAILURE,new AE.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Ur.ConnectivityState.CONNECTING,new AE.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,r,i){var s;if(!((s=this.currentPick)===null||s===void 0)&&s.realSubchannelEquals(e)){r!==Ur.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[o,a]of this.children.entries())if(e.realSubchannelEquals(a.subchannel)){r===Ur.ConnectivityState.READY&&this.pickSubchannel(a.subchannel),r===Ur.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0,i&&(this.lastError=i),this.maybeEnterStickyTransientFailureMode(),o===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(o+1)),a.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,r]of this.children.entries())if(t>=e){let i=r.subchannel.getConnectivityState();if(i===Ur.ConnectivityState.IDLE||i===Ur.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===Ur.ConnectivityState.IDLE&&(zk("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var i;(i=this.children[e])===null||i===void 0||i.subchannel.startConnecting()})),this.connectionDelayTimeout=(r=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},dbe)).unref)===null||r===void 0?void 0:r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(zk("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.currentPick!==null&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){zk(Ur.ConnectivityState[this.currentState]+" -> "+Ur.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(r=>({subchannel:this.channelControlHelper.createSubchannel(r,{}),hasReportedTransientFailure:!1}));for(let{subchannel:r}of t)r.ref(),this.channelControlHelper.addChannelzChild(r.getChannelzRef());this.resetSubchannelList(),this.children=t;for(let{subchannel:r}of this.children)if(r.addConnectivityStateListener(this.subchannelStateListener),r.getConnectivityState()===Ur.ConnectivityState.READY){this.pickSubchannel(r);return}for(let r of this.children)r.subchannel.getConnectivityState()===Ur.ConnectivityState.TRANSIENT_FAILURE&&(r.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){t instanceof Hg&&(t.getShuffleAddressList()&&(e=c$(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===Ur.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return jg}};Vo.PickFirstLoadBalancer=NE;function fbe(){(0,u$.registerLoadBalancerType)(jg,NE,Hg),(0,u$.registerDefaultLoadBalancerType)(jg)}Vo.setup=fbe});var f$=ee(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.setup=_h.RoundRobinLoadBalancer=void 0;var hbe=zu(),Br=Yi(),RE=Qu(),pbe=Do(),mbe=Nn(),gbe=Lt(),ybe="round_robin";function d$(n){mbe.trace(gbe.LogVerbosity.DEBUG,ybe,n)}var kE="round_robin",Wk=class n{getLoadBalancerName(){return kE}constructor(){}toJsonObject(){return{[kE]:{}}}static createFromJson(e){return new n}},Kk=class{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){let t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:RE.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}},ME=class{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=Br.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(t,r,i,s,o)=>{this.calculateAndUpdateState(),(i===Br.ConnectivityState.TRANSIENT_FAILURE||i===Br.ConnectivityState.IDLE)&&(o&&(this.lastError=o),this.channelControlHelper.requestReresolution(),t.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(Br.ConnectivityState.READY)>0){let e=this.subchannels.filter(r=>r.getConnectivityState()===Br.ConnectivityState.READY),t=0;this.currentReadyPicker!==null&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),t<0&&(t=0)),this.updateState(Br.ConnectivityState.READY,new Kk(e,t))}else this.countSubchannelsWithState(Br.ConnectivityState.CONNECTING)>0?this.updateState(Br.ConnectivityState.CONNECTING,new RE.QueuePicker(this)):this.countSubchannelsWithState(Br.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(Br.ConnectivityState.TRANSIENT_FAILURE,new RE.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Br.ConnectivityState.IDLE,new RE.QueuePicker(this))}updateState(e,t){d$(Br.ConnectivityState[this.currentState]+" -> "+Br.ConnectivityState[e]),e===Br.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList(),d$("Connect to address list "+e.map(r=>(0,pbe.subchannelAddressToString)(r))),this.subchannels=e.map(r=>this.channelControlHelper.createSubchannel(r,{}));for(let r of this.subchannels){r.ref(),r.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(r.getChannelzRef());let i=r.getConnectivityState();(i===Br.ConnectivityState.IDLE||i===Br.ConnectivityState.TRANSIENT_FAILURE)&&r.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return kE}};_h.RoundRobinLoadBalancer=ME;function vbe(){(0,hbe.registerLoadBalancerType)(kE,ME,Wk)}_h.setup=vbe});var g$=ee(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.experimental=Ee.addAdminServicesToServer=Ee.getChannelzHandlers=Ee.getChannelzServiceDefinition=Ee.InterceptorConfigurationError=Ee.InterceptingCall=Ee.RequesterBuilder=Ee.ListenerBuilder=Ee.StatusBuilder=Ee.getClientChannel=Ee.ServerCredentials=Ee.Server=Ee.setLogVerbosity=Ee.setLogger=Ee.load=Ee.loadObject=Ee.CallCredentials=Ee.ChannelCredentials=Ee.waitForClientReady=Ee.closeClient=Ee.Channel=Ee.makeGenericClientConstructor=Ee.makeClientConstructor=Ee.loadPackageDefinition=Ee.Client=Ee.compressionAlgorithms=Ee.propagate=Ee.connectivityState=Ee.status=Ee.logVerbosity=Ee.Metadata=Ee.credentials=void 0;var OE=HA();Object.defineProperty(Ee,"CallCredentials",{enumerable:!0,get:function(){return OE.CallCredentials}});var bbe=EN();Object.defineProperty(Ee,"Channel",{enumerable:!0,get:function(){return bbe.ChannelImplementation}});var _be=XR();Object.defineProperty(Ee,"compressionAlgorithms",{enumerable:!0,get:function(){return _be.CompressionAlgorithms}});var Ebe=Yi();Object.defineProperty(Ee,"connectivityState",{enumerable:!0,get:function(){return Ebe.ConnectivityState}});var PE=Q1();Object.defineProperty(Ee,"ChannelCredentials",{enumerable:!0,get:function(){return PE.ChannelCredentials}});var h$=_N();Object.defineProperty(Ee,"Client",{enumerable:!0,get:function(){return h$.Client}});var Qk=Lt();Object.defineProperty(Ee,"logVerbosity",{enumerable:!0,get:function(){return Qk.LogVerbosity}});Object.defineProperty(Ee,"status",{enumerable:!0,get:function(){return Qk.Status}});Object.defineProperty(Ee,"propagate",{enumerable:!0,get:function(){return Qk.Propagate}});var p$=Nn(),Yk=SN();Object.defineProperty(Ee,"loadPackageDefinition",{enumerable:!0,get:function(){return Yk.loadPackageDefinition}});Object.defineProperty(Ee,"makeClientConstructor",{enumerable:!0,get:function(){return Yk.makeClientConstructor}});Object.defineProperty(Ee,"makeGenericClientConstructor",{enumerable:!0,get:function(){return Yk.makeClientConstructor}});var wbe=fi();Object.defineProperty(Ee,"Metadata",{enumerable:!0,get:function(){return wbe.Metadata}});var Sbe=KH();Object.defineProperty(Ee,"Server",{enumerable:!0,get:function(){return Sbe.Server}});var Tbe=Ik();Object.defineProperty(Ee,"ServerCredentials",{enumerable:!0,get:function(){return Tbe.ServerCredentials}});var Cbe=QH();Object.defineProperty(Ee,"StatusBuilder",{enumerable:!0,get:function(){return Cbe.StatusBuilder}});Ee.credentials={combineChannelCredentials:(n,...e)=>e.reduce((t,r)=>t.compose(r),n),combineCallCredentials:(n,...e)=>e.reduce((t,r)=>t.compose(r),n),createInsecure:PE.ChannelCredentials.createInsecure,createSsl:PE.ChannelCredentials.createSsl,createFromSecureContext:PE.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:OE.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:OE.CallCredentials.createFromGoogleCredential,createEmpty:OE.CallCredentials.createEmpty};var Ibe=n=>n.close();Ee.closeClient=Ibe;var Dbe=(n,e,t)=>n.waitForReady(e,t);Ee.waitForClientReady=Dbe;var xbe=(n,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};Ee.loadObject=xbe;var Abe=(n,e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};Ee.load=Abe;var Nbe=n=>{p$.setLogger(n)};Ee.setLogger=Nbe;var Rbe=n=>{p$.setLoggerVerbosity(n)};Ee.setLogVerbosity=Rbe;var kbe=n=>h$.Client.prototype.getChannel.call(n);Ee.getClientChannel=kbe;var LE=yN();Object.defineProperty(Ee,"ListenerBuilder",{enumerable:!0,get:function(){return LE.ListenerBuilder}});Object.defineProperty(Ee,"RequesterBuilder",{enumerable:!0,get:function(){return LE.RequesterBuilder}});Object.defineProperty(Ee,"InterceptingCall",{enumerable:!0,get:function(){return LE.InterceptingCall}});Object.defineProperty(Ee,"InterceptorConfigurationError",{enumerable:!0,get:function(){return LE.InterceptorConfigurationError}});var m$=Xl();Object.defineProperty(Ee,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return m$.getChannelzServiceDefinition}});Object.defineProperty(Ee,"getChannelzHandlers",{enumerable:!0,get:function(){return m$.getChannelzHandlers}});var Mbe=i_();Object.defineProperty(Ee,"addAdminServicesToServer",{enumerable:!0,get:function(){return Mbe.addAdminServicesToServer}});var Obe=Bk();Ee.experimental=Obe;var Pbe=VR(),Lbe=n$(),Fbe=a$(),Ube=l$(),Bbe=f$(),Vbe=Uk(),qbe=Xl();Pbe.setup(),Lbe.setup(),Fbe.setup(),Ube.setup(),Bbe.setup(),Vbe.setup(),qbe.setup()});import zue from"./angular-app-manifest.mjs";function jS(n,e){return Object.is(n,e)}var rr=null,ry=!1,HS=1,ps=Symbol("SIGNAL");function ot(n){let e=rr;return rr=n,e}function $S(){return rr}var xd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _p(n){if(ry)throw new Error("");if(rr===null)return;rr.consumerOnSignalRead(n);let e=rr.nextProducerIndex++;if(uy(rr),e<rr.producerNode.length&&rr.producerNode[e]!==n&&bp(rr)){let t=rr.producerNode[e];ay(t,rr.producerIndexOfThis[e])}rr.producerNode[e]!==n&&(rr.producerNode[e]=n,rr.producerIndexOfThis[e]=bp(rr)?g6(n,rr,e):0),rr.producerLastReadVersion[e]=n.version}function m6(){HS++}function zS(n){if(!(bp(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===HS)){if(!n.producerMustRecompute(n)&&!oy(n)){qS(n);return}n.producerRecomputeValue(n),qS(n)}}function GS(n){if(n.liveConsumerNode===void 0)return;let e=ry;ry=!0;try{for(let t of n.liveConsumerNode)t.dirty||dQ(t)}finally{ry=e}}function WS(){return rr?.consumerAllowSignalWrites!==!1}function dQ(n){n.dirty=!0,GS(n),n.consumerMarkedDirty?.(n)}function qS(n){n.dirty=!1,n.lastCleanEpoch=HS}function Ep(n){return n&&(n.nextProducerIndex=0),ot(n)}function sy(n,e){if(ot(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(bp(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ay(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function oy(n){uy(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(zS(t),r!==t.version))return!0}return!1}function wp(n){if(uy(n),bp(n))for(let e=0;e<n.producerNode.length;e++)ay(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function g6(n,e,t){if(y6(n),n.liveConsumerNode.length===0&&v6(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=g6(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ay(n,e){if(y6(n),n.liveConsumerNode.length===1&&v6(n))for(let r=0;r<n.producerNode.length;r++)ay(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];uy(i),i.producerIndexOfThis[r]=e}}function bp(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function uy(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function y6(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function v6(n){return n.producerNode!==void 0}function KS(n,e){let t=Object.create(fQ);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(zS(t),_p(t),t.value===iy)throw t.error;return t.value};return r[ps]=t,r}var BS=Symbol("UNSET"),VS=Symbol("COMPUTING"),iy=Symbol("ERRORED"),fQ=me(K({},xd),{value:BS,dirty:!0,error:null,equal:jS,kind:"computed",producerMustRecompute(n){return n.value===BS||n.value===VS},producerRecomputeValue(n){if(n.value===VS)throw new Error("Detected cycle in computations.");let e=n.value;n.value=VS;let t=Ep(n),r,i=!1;try{r=n.computation(),ot(null),i=e!==BS&&e!==iy&&r!==iy&&n.equal(e,r)}catch(s){r=iy,n.error=s}finally{sy(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function hQ(){throw new Error}var b6=hQ;function _6(n){b6(n)}function QS(n){b6=n}var pQ=null;function YS(n,e){let t=Object.create(cy);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(_p(t),t.value);return r[ps]=t,r}function Sp(n,e){WS()||_6(n),n.equal(n.value,e)||(n.value=e,mQ(n))}function JS(n,e){WS()||_6(n),Sp(n,e(n.value))}var cy=me(K({},xd),{equal:jS,value:void 0,kind:"signal"});function mQ(n){n.version++,m6(),GS(n),pQ?.()}function ZS(n){let e=ot(null);try{return n()}finally{ot(e)}}var XS;function Tp(){return XS}function sa(n){let e=XS;return XS=n,e}var ly=Symbol("NotFound");function Ze(n){return typeof n=="function"}function Ad(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var dy=Ad(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function qc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Dn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Ze(r))try{r()}catch(s){e=s instanceof dy?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{E6(s)}catch(o){e=e??[],o instanceof dy?e=[...e,...o.errors]:e.push(o)}}if(e)throw new dy(e)}}add(e){var t;if(e&&e!==this)if(this.closed)E6(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&qc(t,e)}remove(e){let{_finalizers:t}=this;t&&qc(t,e),e instanceof n&&e._removeParent(this)}};Dn.EMPTY=(()=>{let n=new Dn;return n.closed=!0,n})();var eT=Dn.EMPTY;function fy(n){return n instanceof Dn||n&&"closed"in n&&Ze(n.remove)&&Ze(n.add)&&Ze(n.unsubscribe)}function E6(n){Ze(n)?n():n.unsubscribe()}var ms={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Nd={setTimeout(n,e,...t){let{delegate:r}=Nd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Nd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function hy(n){Nd.setTimeout(()=>{let{onUnhandledError:e}=ms;if(e)e(n);else throw n})}function Cp(){}var w6=tT("C",void 0,void 0);function S6(n){return tT("E",void 0,n)}function T6(n){return tT("N",n,void 0)}function tT(n,e,t){return{kind:n,value:e,error:t}}var jc=null;function Rd(n){if(ms.useDeprecatedSynchronousErrorHandling){let e=!jc;if(e&&(jc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=jc;if(jc=null,t)throw r}}else n()}function C6(n){ms.useDeprecatedSynchronousErrorHandling&&jc&&(jc.errorThrown=!0,jc.error=n)}var Hc=class extends Dn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fy(e)&&e.add(this)):this.destination=EQ}static create(e,t,r){return new ou(e,t,r)}next(e){this.isStopped?rT(T6(e),this):this._next(e)}error(e){this.isStopped?rT(S6(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rT(w6,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bQ=Function.prototype.bind;function nT(n,e){return bQ.call(n,e)}var iT=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){py(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){py(r)}else py(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){py(t)}}},ou=class extends Hc{constructor(e,t,r){super();let i;if(Ze(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ms.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&nT(e.next,s),error:e.error&&nT(e.error,s),complete:e.complete&&nT(e.complete,s)}):i=e}this.destination=new iT(i)}};function py(n){ms.useDeprecatedSynchronousErrorHandling?C6(n):hy(n)}function _Q(n){throw n}function rT(n,e){let{onStoppedNotification:t}=ms;t&&Nd.setTimeout(()=>t(n,e))}var EQ={closed:!0,next:Cp,error:_Q,complete:Cp};var kd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function bi(n){return n}function my(...n){return sT(n)}function sT(n){return n.length===0?bi:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var at=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=SQ(t)?t:new ou(t,r,i);return Rd(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=I6(r),new r((i,s)=>{let o=new ou({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[kd](){return this}pipe(...t){return sT(t)(this)}toPromise(t){return t=I6(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function I6(n){var e;return(e=n??ms.Promise)!==null&&e!==void 0?e:Promise}function wQ(n){return n&&Ze(n.next)&&Ze(n.error)&&Ze(n.complete)}function SQ(n){return n&&n instanceof Hc||wQ(n)&&fy(n)}function oT(n){return Ze(n?.lift)}function wt(n){return e=>{if(oT(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function bt(n,e,t,r,i){return new aT(n,e,t,r,i)}var aT=class extends Hc{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Md(){return wt((n,e)=>{let t=null;n._refCount++;let r=bt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Od=class extends at{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,oT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Dn;let t=this.getSubject();e.add(this.source.subscribe(bt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Dn.EMPTY)}return e}refCount(){return Md()(this)}};var D6=Ad(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var En=(()=>{class n extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new gy(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new D6}next(t){Rd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Rd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Rd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?eT:(this.currentObservers=null,s.push(t),new Dn(()=>{this.currentObservers=null,qc(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new at;return t.source=this,t}}return n.create=(e,t)=>new gy(e,t),n})(),gy=class extends En{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:eT}};var Mn=class extends En{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var uT={now(){return(uT.delegate||Date).now()},delegate:void 0};var yy=class extends Dn{constructor(e,t){super()}schedule(e,t=0){return this}};var Ip={setInterval(n,e,...t){let{delegate:r}=Ip;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ip;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Pd=class extends yy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Ip.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ip.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qc(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ld=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ld.now=uT.now;var Fd=class extends Ld{constructor(e,t=Ld.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var cT=new Fd(Pd);var vy=class extends Pd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var by=class extends Fd{};var lT=new by(vy);var Jr=new at(n=>n.complete());function x6(n){return n&&Ze(n.schedule)}function A6(n){return n[n.length-1]}function _y(n){return Ze(A6(n))?n.pop():void 0}function au(n){return x6(A6(n))?n.pop():void 0}function dT(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function R6(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}function N6(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $c(n){return this instanceof $c?(this.v=n,this):new $c(n)}function k6(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(i[h]=function(y){return new Promise(function(S,_){s.push([h,y,S,_])>1||u(h,y)})},g&&(i[h]=g(i[h])))}function u(h,g){try{c(r[h](g))}catch(y){f(s[0][3],y)}}function c(h){h.value instanceof $c?Promise.resolve(h.value.v).then(l,d):f(s[0][2],h)}function l(h){u("next",h)}function d(h){u("throw",h)}function f(h,g){h(g),s.shift(),s.length&&u(s[0][0],s[0][1])}}function M6(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof N6=="function"?N6(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){o=n[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}var Ey=n=>n&&typeof n.length=="number"&&typeof n!="function";function wy(n){return Ze(n?.then)}function Sy(n){return Ze(n[kd])}function Ty(n){return Symbol.asyncIterator&&Ze(n?.[Symbol.asyncIterator])}function Cy(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TQ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Iy=TQ();function Dy(n){return Ze(n?.[Iy])}function xy(n){return k6(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield $c(t.read());if(i)return yield $c(void 0);yield yield $c(r)}}finally{t.releaseLock()}})}function Ay(n){return Ze(n?.getReader)}function Gn(n){if(n instanceof at)return n;if(n!=null){if(Sy(n))return CQ(n);if(Ey(n))return IQ(n);if(wy(n))return DQ(n);if(Ty(n))return O6(n);if(Dy(n))return xQ(n);if(Ay(n))return AQ(n)}throw Cy(n)}function CQ(n){return new at(e=>{let t=n[kd]();if(Ze(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function IQ(n){return new at(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function DQ(n){return new at(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,hy)})}function xQ(n){return new at(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function O6(n){return new at(e=>{NQ(n,e).catch(t=>e.error(t))})}function AQ(n){return O6(xy(n))}function NQ(n,e){var t,r,i,s;return R6(this,void 0,void 0,function*(){try{for(t=M6(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Zr(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function uu(n,e=0){return wt((t,r)=>{t.subscribe(bt(r,i=>Zr(r,n,()=>r.next(i),e),()=>Zr(r,n,()=>r.complete(),e),i=>Zr(r,n,()=>r.error(i),e)))})}function cu(n,e=0){return wt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function P6(n,e){return Gn(n).pipe(cu(e),uu(e))}function L6(n,e){return Gn(n).pipe(cu(e),uu(e))}function F6(n,e){return new at(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function U6(n,e){return new at(t=>{let r;return Zr(t,e,()=>{r=n[Iy](),Zr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>Ze(r?.return)&&r.return()})}function Ny(n,e){if(!n)throw new Error("Iterable cannot be null");return new at(t=>{Zr(t,e,()=>{let r=n[Symbol.asyncIterator]();Zr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function B6(n,e){return Ny(xy(n),e)}function V6(n,e){if(n!=null){if(Sy(n))return P6(n,e);if(Ey(n))return F6(n,e);if(wy(n))return L6(n,e);if(Ty(n))return Ny(n,e);if(Dy(n))return U6(n,e);if(Ay(n))return B6(n,e)}throw Cy(n)}function Xe(n,e){return e?V6(n,e):Gn(n)}function xe(...n){let e=au(n);return Xe(n,e)}function gs(n,e){let t=Ze(n)?n:()=>n,r=i=>i.error(t());return new at(e?i=>e.schedule(r,0,i):r)}function fT(n){return!!n&&(n instanceof at||Ze(n.lift)&&Ze(n.subscribe))}var ys=Ad(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function zc(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let s=new ou({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new ys)}});n.subscribe(s)})}function Ve(n,e){return wt((t,r)=>{let i=0;t.subscribe(bt(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:RQ}=Array;function kQ(n,e){return RQ(e)?n(...e):n(e)}function Ry(n){return Ve(e=>kQ(n,e))}var{isArray:MQ}=Array,{getPrototypeOf:OQ,prototype:PQ,keys:LQ}=Object;function ky(n){if(n.length===1){let e=n[0];if(MQ(e))return{args:e,keys:null};if(FQ(e)){let t=LQ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function FQ(n){return n&&typeof n=="object"&&OQ(n)===PQ}function My(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Gc(...n){let e=au(n),t=_y(n),{args:r,keys:i}=ky(n);if(r.length===0)return Xe([],e);let s=new at(UQ(r,e,i?o=>My(i,o):bi));return t?s.pipe(Ry(t)):s}function UQ(n,e,t=bi){return r=>{q6(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)q6(e,()=>{let c=Xe(n[u],e),l=!1;c.subscribe(bt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function q6(n,e,t){n?Zr(t,n,e):e()}function j6(n,e,t,r,i,s,o,a){let u=[],c=0,l=0,d=!1,f=()=>{d&&!u.length&&!c&&e.complete()},h=y=>c<r?g(y):u.push(y),g=y=>{s&&e.next(y),c++;let S=!1;Gn(t(y,l++)).subscribe(bt(e,_=>{i?.(_),s?h(_):e.next(_)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;u.length&&c<r;){let _=u.shift();o?Zr(e,o,()=>g(_)):g(_)}f()}catch(_){e.error(_)}}))};return n.subscribe(bt(e,h,()=>{d=!0,f()})),()=>{a?.()}}function On(n,e,t=1/0){return Ze(e)?On((r,i)=>Ve((s,o)=>e(r,s,i,o))(Gn(n(r,i))),t):(typeof e=="number"&&(t=e),wt((r,i)=>j6(r,i,n,t)))}function lu(n=1/0){return On(bi,n)}function H6(){return lu(1)}function Ud(...n){return H6()(Xe(n,au(n)))}function Oy(n){return new at(e=>{Gn(n()).subscribe(e)})}function hT(...n){let e=_y(n),{args:t,keys:r}=ky(n),i=new at(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),u=o,c=o;for(let l=0;l<o;l++){let d=!1;Gn(t[l]).subscribe(bt(s,f=>{d||(d=!0,c--),a[l]=f},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?My(r,a):a),s.complete())}))}});return e?i.pipe(Ry(e)):i}function Xr(n,e){return wt((t,r)=>{let i=0;t.subscribe(bt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Pn(n){return wt((e,t)=>{let r=null,i=!1,s;r=e.subscribe(bt(t,void 0,void 0,o=>{s=Gn(n(o,Pn(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function $6(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(bt(o,l=>{let d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function du(n,e){return Ze(e)?On(n,e,1):On(n,1)}function fu(n){return wt((e,t)=>{let r=!1;e.subscribe(bt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function vs(n){return n<=0?()=>Jr:wt((e,t)=>{let r=0;e.subscribe(bt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Py(n=BQ){return wt((e,t)=>{let r=!1;e.subscribe(bt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function BQ(){return new ys}function Dp(n){return wt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function oa(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Xr((i,s)=>n(i,s,r)):bi,vs(1),t?fu(e):Py(()=>new ys))}function Bd(n){return n<=0?()=>Jr:wt((e,t)=>{let r=[];e.subscribe(bt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function pT(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Xr((i,s)=>n(i,s,r)):bi,Bd(1),t?fu(e):Py(()=>new ys))}function Ly(n,e){return wt($6(n,e,arguments.length>=2,!0))}function Fy(...n){let e=au(n);return wt((t,r)=>{(e?Ud(n,t,e):Ud(n,t)).subscribe(r)})}function Ln(n,e){return wt((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(bt(r,u=>{i?.unsubscribe();let c=0,l=s++;Gn(n(u,l)).subscribe(i=bt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function mT(n){return wt((e,t)=>{Gn(n).subscribe(bt(t,()=>t.complete(),Cp)),!t.closed&&e.subscribe(t)})}function br(n,e,t){let r=Ze(n)||e||t?{next:n,error:e,complete:t}:n;return r?wt((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(bt(s,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),s.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):bi}var gT={JSACTION:"jsaction"};var Fn={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},O3e=[Fn.MOUSEENTER,Fn.MOUSELEAVE,"pointerenter","pointerleave"],VQ=[Fn.CLICK,Fn.DBLCLICK,Fn.FOCUSIN,Fn.FOCUSOUT,Fn.KEYDOWN,Fn.KEYUP,Fn.KEYPRESS,Fn.MOUSEOVER,Fn.MOUSEOUT,Fn.SUBMIT,Fn.TOUCHSTART,Fn.TOUCHEND,Fn.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],z6=[Fn.FOCUS,Fn.BLUR,Fn.ERROR,Fn.LOAD,Fn.TOGGLE],G6=n=>z6.indexOf(n)>=0,qQ=VQ.concat(z6),W6=n=>qQ.indexOf(n)>=0;var P3e=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);var L3e=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent);var F3e=Fn.CLICK;var z8="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",be=class extends Error{code;constructor(e,t){super(G8(e,t)),this.code=e}};function jQ(n){return`NG0${Math.abs(n)}`}function G8(n,e){return`${jQ(n)}${e?": "+e:""}`}var W8=Symbol("InputSignalNode#UNSET"),HQ=me(K({},cy),{transformFn:void 0,applyValueToInputSignal(n,e){Sp(n,e)}});function K8(n,e){let t=Object.create(HQ);t.value=n,t.transformFn=e?.transform;function r(){if(_p(t),t.value===W8){let i=null;throw new be(-950,i)}return t.value}return r[ps]=t,r}function Kp(n){return{toString:n}.toString()}var Uy="__parameters__";function $Q(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Q8(n,e,t){return Kp(()=>{let r=$Q(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,c,l){let d=u.hasOwnProperty(Uy)?u[Uy]:Object.defineProperty(u,Uy,{value:[]})[Uy];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var hu=globalThis;function Xt(n){for(let e in n)if(n[e]===Xt)return e;throw Error("Could not find renamed property on target object.")}function zQ(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ti(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ti).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function LT(n,e){return n?e?`${n} ${e}`:n:e||""}var GQ=Xt({__forward_ref__:Xt});function da(n){return n.__forward_ref__=da,n.toString=function(){return ti(this())},n}function $r(n){return Y8(n)?n():n}function Y8(n){return typeof n=="function"&&n.hasOwnProperty(GQ)&&n.__forward_ref__===da}function fe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Cs(n){return{providers:n.providers||[],imports:n.imports||[]}}function Iv(n){return K6(n,Z8)||K6(n,X8)}function J8(n){return Iv(n)!==null}function K6(n,e){return n.hasOwnProperty(e)?n[e]:null}function WQ(n){let e=n&&(n[Z8]||n[X8]);return e||null}function Q6(n){return n&&(n.hasOwnProperty(Y6)||n.hasOwnProperty(KQ))?n[Y6]:null}var Z8=Xt({\u0275prov:Xt}),Y6=Xt({\u0275inj:Xt}),X8=Xt({ngInjectableDef:Xt}),KQ=Xt({ngInjectorDef:Xt}),le=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=fe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function e4(n){return n&&!!n.\u0275providers}var QQ=Xt({\u0275cmp:Xt}),YQ=Xt({\u0275dir:Xt}),JQ=Xt({\u0275pipe:Xt}),ZQ=Xt({\u0275mod:Xt}),Ky=Xt({\u0275fac:Xt}),Np=Xt({__NG_ELEMENT_ID__:Xt}),J6=Xt({__NG_ENV_ID__:Xt});function Jc(n){return typeof n=="string"?n:n==null?"":String(n)}function XQ(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Jc(n)}function t4(n,e){throw new be(-200,n)}function UC(n,e){throw new be(-201,!1)}var it=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(it||{}),FT;function n4(){return FT}function ei(n){let e=FT;return FT=n,e}function r4(n,e,t){let r=Iv(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&it.Optional)return null;if(e!==void 0)return e;UC(n,"Injector")}var eY={},Qc=eY,UT="__NG_DI_FLAG__",Qy=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?ly:Qc,r)}},Yy="ngTempTokenPath",tY="ngTokenPath",nY=/\n/gm,rY="\u0275",Z6="__source";function iY(n,e=it.Default){if(Tp()===void 0)throw new be(-203,!1);if(Tp()===null)return r4(n,void 0,e);{let t=Tp(),r;return t instanceof Qy?r=t.injector:r=t,r.get(n,e&it.Optional?null:void 0,e)}}function Ae(n,e=it.Default){return(n4()||iY)($r(n),e)}function $(n,e=it.Default){return Ae(n,Dv(e))}function Dv(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function BT(n){let e=[];for(let t=0;t<n.length;t++){let r=$r(n[t]);if(Array.isArray(r)){if(r.length===0)throw new be(900,!1);let i,s=it.Default;for(let o=0;o<r.length;o++){let a=r[o],u=sY(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(Ae(i,s))}else e.push(Ae(r))}return e}function i4(n,e){return n[UT]=e,n.prototype[UT]=e,n}function sY(n){return n[UT]}function oY(n,e,t,r){let i=n[Yy];throw e[Z6]&&i.unshift(e[Z6]),n.message=aY(`
`+n.message,i,t,r),n[tY]=i,n[Yy]=null,n}function aY(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==rY?n.slice(2):n;let i=ti(e);if(Array.isArray(e))i=e.map(ti).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ti(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(nY,`
  `)}`}var Kn=i4(Q8("Optional"),8);var uY=i4(Q8("SkipSelf"),4);function Zc(n,e){let t=n.hasOwnProperty(Ky);return t?n[Ky]:null}function cY(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function lY(n){return n.flat(Number.POSITIVE_INFINITY)}function BC(n,e){n.forEach(t=>Array.isArray(t)?BC(t,e):e(t))}function s4(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Jy(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function dY(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function VC(n,e,t){let r=Qp(n,e);return r>=0?n[r|1]=t:(r=~r,dY(n,r,e,t)),r}function yT(n,e){let t=Qp(n,e);if(t>=0)return n[t|1]}function Qp(n,e){return fY(n,e,1)}function fY(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var Xc={},zr=[],kp=new le(""),o4=new le("",-1),a4=new le(""),Zy=class{get(e,t=Qc){if(t===Qc){let r=new Error(`NullInjectorError: No provider for ${ti(e)}!`);throw r.name="NullInjectorError",r}return t}};function u4(n,e){let t=n[ZQ]||null;if(!t&&e===!0)throw new Error(`Type ${ti(n)} does not have '\u0275mod' property.`);return t}function yu(n){return n[QQ]||null}function hY(n){return n[YQ]||null}function pY(n){return n[JQ]||null}function Ar(n){return{\u0275providers:n}}function mY(...n){return{\u0275providers:c4(!0,n),\u0275fromNgModule:!0}}function c4(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return BC(e,o=>{let a=o;VT(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&l4(i,s),t}function l4(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];qC(i,s=>{e(s,r)})}}function VT(n,e,t,r){if(n=$r(n),!n)return!1;let i=null,s=Q6(n),o=!s&&yu(n);if(!s&&!o){let u=n.ngModule;if(s=Q6(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of u)VT(c,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{BC(s.imports,l=>{VT(l,e,t,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&l4(c,e)}if(!a){let c=Zc(i)||(()=>new i);e({provide:i,useFactory:c,deps:zr},i),e({provide:a4,useValue:i,multi:!0},i),e({provide:kp,useValue:()=>Ae(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let c=n;qC(u,l=>{e(l,c)})}}else return!1;return i!==n&&n.providers!==void 0}function qC(n,e){for(let t of n)e4(t)&&(t=t.\u0275providers),Array.isArray(t)?qC(t,e):e(t)}var gY=Xt({provide:String,useValue:Xt});function d4(n){return n!==null&&typeof n=="object"&&gY in n}function yY(n){return!!(n&&n.useExisting)}function vY(n){return!!(n&&n.useFactory)}function Gd(n){return typeof n=="function"}function bY(n){return!!n.useClass}var xv=new le(""),jy={},X6={},vT;function jC(){return vT===void 0&&(vT=new Zy),vT}var xr=class{},Mp=class extends xr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,jT(e,o=>this.processProvider(o)),this.records.set(o4,Vd(void 0,this)),i.has("environment")&&this.records.set(xr,Vd(void 0,this));let s=this.records.get(xv);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(a4,zr,it.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?ly:Qc,r)}destroy(){Ap(this),this._destroyed=!0;let e=ot(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ot(e)}}onDestroy(e){return Ap(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ap(this);let t=sa(this),r=ei(void 0),i;try{return e()}finally{sa(t),ei(r)}}get(e,t=Qc,r=it.Default){if(Ap(this),e.hasOwnProperty(J6))return e[J6](this);r=Dv(r);let i,s=sa(this),o=ei(void 0);try{if(!(r&it.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=TY(e)&&Iv(e);c&&this.injectableDefInScope(c)?u=Vd(qT(e),jy):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&it.Self?jC():this.parent;return t=r&it.Optional&&t===Qc?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Yy]=a[Yy]||[]).unshift(ti(e)),s)throw a;return oY(a,e,"R3InjectorError",this.source)}else throw a}finally{ei(o),sa(s)}}resolveInjectorInitializers(){let e=ot(null),t=sa(this),r=ei(void 0),i;try{let s=this.get(kp,zr,it.Self);for(let o of s)o()}finally{sa(t),ei(r),ot(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ti(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=$r(e);let t=Gd(e)?e:$r(e&&e.provide),r=EY(e);if(!Gd(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Vd(void 0,jy,!0),i.factory=()=>BT(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ot(null);try{return t.value===X6?t4(ti(e)):t.value===jy&&(t.value=X6,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&SY(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ot(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=$r(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function qT(n){let e=Iv(n),t=e!==null?e.factory:Zc(n);if(t!==null)return t;if(n instanceof le)throw new be(204,!1);if(n instanceof Function)return _Y(n);throw new be(204,!1)}function _Y(n){if(n.length>0)throw new be(204,!1);let t=WQ(n);return t!==null?()=>t.factory(n):()=>new n}function EY(n){if(d4(n))return Vd(void 0,n.useValue);{let e=f4(n);return Vd(e,jy)}}function f4(n,e,t){let r;if(Gd(n)){let i=$r(n);return Zc(i)||qT(i)}else if(d4(n))r=()=>$r(n.useValue);else if(vY(n))r=()=>n.useFactory(...BT(n.deps||[]));else if(yY(n))r=(i,s)=>Ae($r(n.useExisting),s!==void 0&&s&it.Optional?it.Optional:void 0);else{let i=$r(n&&(n.useClass||n.provide));if(wY(n))r=()=>new i(...BT(n.deps));else return Zc(i)||qT(i)}return r}function Ap(n){if(n.destroyed)throw new be(205,!1)}function Vd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function wY(n){return!!n.deps}function SY(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function TY(n){return typeof n=="function"||typeof n=="object"&&n instanceof le}function jT(n,e){for(let t of n)Array.isArray(t)?jT(t,e):t&&e4(t)?jT(t.\u0275providers,e):e(t)}function ir(n,e){let t;n instanceof Mp?(Ap(n),t=n):t=new Qy(n);let r,i=sa(t),s=ei(void 0);try{return e()}finally{sa(i),ei(s)}}function HC(){return n4()!==void 0||Tp()!=null}function Av(n){if(!HC())throw new be(-203,!1)}function CY(n){let e=hu.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function IY(n){return typeof n=="function"}var Er=0,Ue=1,We=2,wr=3,Es=4,Is=5,Op=6,Pp=7,Wn=8,Wd=9,aa=10,Un=11,Lp=12,e8=13,tf=14,qi=15,el=16,qd=17,ua=18,Nv=19,h4=20,pu=21,bT=22,tl=23,Vi=24,$d=25,Yt=26,$C=1;var nl=7,Xy=8,Kd=9,_r=10;function mu(n){return Array.isArray(n)&&typeof n[$C]=="object"}function ji(n){return Array.isArray(n)&&n[$C]===!0}function p4(n){return(n.flags&4)!==0}function ul(n){return n.componentOffset>-1}function zC(n){return(n.flags&1)===1}function uo(n){return!!n.template}function Qd(n){return(n[We]&512)!==0}function m4(n){return(n.type&16)===16}function DY(n){return(n[We]&32)===32}function nf(n){return(n[We]&256)===256}var HT=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function g4(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ds=(()=>{let n=()=>y4;return n.ngInherit=!0,n})();function y4(n){return n.type.prototype.ngOnChanges&&(n.setInput=AY),xY}function xY(){let n=b4(this),e=n?.current;if(e){let t=n.previous;if(t===Xc)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function AY(n,e,t,r,i){let s=this.declaredInputs[r],o=b4(n)||NY(n,{previous:Xc,current:null}),a=o.current||(o.current={}),u=o.previous,c=u[s];a[s]=new HT(c&&c.currentValue,t,u===Xc),g4(n,e,i,t)}var v4="__ngSimpleChanges__";function b4(n){return n[v4]||null}function NY(n,e){return n[v4]=e}var t8=null;var Qt=function(n,e=null,t){t8?.(n,e,t)},RY="svg",kY="math";function mn(n){for(;Array.isArray(n);)n=n[Er];return n}function _4(n){for(;Array.isArray(n);){if(typeof n[$C]=="object")return n;n=n[Er]}return null}function E4(n,e){return mn(e[n])}function fo(n,e){return mn(e[n.index])}function GC(n,e){return n.data[e]}function WC(n,e){return n[e]}function MY(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function co(n,e){let t=e[n];return mu(t)?t:t[Er]}function OY(n){return(n[We]&4)===4}function KC(n){return(n[We]&128)===128}function PY(n){return ji(n[wr])}function Yd(n,e){return e==null?null:n[e]}function w4(n){n[qd]=0}function S4(n){n[We]&1024||(n[We]|=1024,KC(n)&&rf(n))}function LY(n,e){for(;n>0;)e=e[tf],n--;return e}function Rv(n){return!!(n[We]&9216||n[Vi]?.dirty)}function $T(n){n[aa].changeDetectionScheduler?.notify(8),n[We]&64&&(n[We]|=1024),Rv(n)&&rf(n)}function rf(n){n[aa].changeDetectionScheduler?.notify(0);let e=rl(n);for(;e!==null&&!(e[We]&8192||(e[We]|=8192,!KC(e)));)e=rl(e)}function T4(n,e){if(nf(n))throw new be(911,!1);n[pu]===null&&(n[pu]=[]),n[pu].push(e)}function FY(n,e){if(n[pu]===null)return;let t=n[pu].indexOf(e);t!==-1&&n[pu].splice(t,1)}function rl(n){let e=n[wr];return ji(e)?e[wr]:e}function QC(n){return n[Pp]??=[]}function YC(n){return n.cleanup??=[]}function UY(n,e,t,r){let i=QC(e);i.push(t),n.firstCreatePass&&YC(n).push(r,i.length-1)}var ut={lFrame:k4(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var zT=!1;function BY(){return ut.lFrame.elementDepthCount}function VY(){ut.lFrame.elementDepthCount++}function qY(){ut.lFrame.elementDepthCount--}function C4(){return ut.bindingsEnabled}function jY(){return ut.skipHydrationRootTNode!==null}function HY(n){return ut.skipHydrationRootTNode===n}function $Y(){ut.skipHydrationRootTNode=null}function ct(){return ut.lFrame.lView}function ur(){return ut.lFrame.tView}function ke(n){return ut.lFrame.contextLView=n,n[Wn]}function Me(n){return ut.lFrame.contextLView=null,n}function ni(){let n=I4();for(;n!==null&&n.type===64;)n=n.parent;return n}function I4(){return ut.lFrame.currentTNode}function zY(){let n=ut.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Yp(n,e){let t=ut.lFrame;t.currentTNode=n,t.isParent=e}function D4(){return ut.lFrame.isParent}function GY(){ut.lFrame.isParent=!1}function WY(){return ut.lFrame.contextLView}function x4(){return zT}function ev(n){let e=zT;return zT=n,e}function Jp(){let n=ut.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function KY(){return ut.lFrame.bindingIndex}function QY(n){return ut.lFrame.bindingIndex=n}function Zp(){return ut.lFrame.bindingIndex++}function JC(n){let e=ut.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function YY(){return ut.lFrame.inI18n}function JY(n,e){let t=ut.lFrame;t.bindingIndex=t.bindingRootIndex=n,GT(e)}function ZY(){return ut.lFrame.currentDirectiveIndex}function GT(n){ut.lFrame.currentDirectiveIndex=n}function XY(n){let e=ut.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function A4(){return ut.lFrame.currentQueryIndex}function ZC(n){ut.lFrame.currentQueryIndex=n}function eJ(n){let e=n[Ue];return e.type===2?e.declTNode:e.type===1?n[Is]:null}function N4(n,e,t){if(t&it.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&it.Host);)if(i=eJ(s),i===null||(s=s[tf],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=ut.lFrame=R4();return r.currentTNode=e,r.lView=n,!0}function XC(n){let e=R4(),t=n[Ue];ut.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function R4(){let n=ut.lFrame,e=n===null?null:n.child;return e===null?k4(n):e}function k4(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function M4(){let n=ut.lFrame;return ut.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var O4=M4;function e2(){let n=M4();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tJ(n){return(ut.lFrame.contextLView=LY(n,ut.lFrame.contextLView))[Wn]}function fa(){return ut.lFrame.selectedIndex}function il(n){ut.lFrame.selectedIndex=n}function t2(){let n=ut.lFrame;return GC(n.tView,n.selectedIndex)}function nJ(){return ut.lFrame.currentNamespace}var P4=!0;function n2(){return P4}function r2(n){P4=n}function rJ(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=y4(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function L4(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),l!=null&&(n.destroyHooks??=[]).push(t,l)}}function Hy(n,e,t){F4(n,e,3,t)}function $y(n,e,t,r){(n[We]&3)===t&&F4(n,e,t,r)}function _T(n,e){let t=n[We];(t&3)===e&&(t&=16383,t+=1,n[We]=t)}function F4(n,e,t,r){let i=r!==void 0?n[qd]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[qd]+=65536),(a<s||s==-1)&&(iJ(n,t,e,u),n[qd]=(n[qd]&4294901760)+u+2),u++}function n8(n,e){Qt(4,n,e);let t=ot(null);try{e.call(n)}finally{ot(t),Qt(5,n,e)}}function iJ(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[We]>>14<n[qd]>>16&&(n[We]&3)===e&&(n[We]+=16384,n8(a,s)):n8(a,s)}var zd=-1,sl=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function U4(n){return n!=null&&typeof n=="object"&&(n.insertBeforeIndex===null||typeof n.insertBeforeIndex=="number"||Array.isArray(n.insertBeforeIndex))}function sJ(n){return!!(n.type&128)}function oJ(n){return(n.flags&8)!==0}function aJ(n){return(n.flags&16)!==0}function uJ(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];cJ(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function B4(n){return n===3||n===4||n===6}function cJ(n){return n.charCodeAt(0)===64}function Fp(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?r8(n,t,i,null,e[++r]):r8(n,t,i,null,null))}}return n}function r8(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function V4(n){return n!==zd}function tv(n){return n&32767}function lJ(n){return n>>16}function nv(n,e){let t=lJ(n),r=e;for(;t>0;)r=r[tf],t--;return r}var WT=!0;function rv(n){let e=WT;return WT=n,e}var dJ=256,q4=dJ-1,j4=5,fJ=0,ao={};function hJ(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Np)&&(r=t[Np]),r==null&&(r=t[Np]=fJ++);let i=r&q4,s=1<<i;e.data[n+(i>>j4)]|=s}function iv(n,e){let t=H4(n,e);if(t!==-1)return t;let r=e[Ue];r.firstCreatePass&&(n.injectorIndex=e.length,ET(r.data,n),ET(e,null),ET(r.blueprint,null));let i=i2(n,e),s=n.injectorIndex;if(V4(i)){let o=tv(i),a=nv(i,e),u=a[Ue].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function ET(n,e){n.push(0,0,0,0,0,0,0,0,e)}function H4(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function i2(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=K4(i),r===null)return zd;if(t++,i=i[tf],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return zd}function KT(n,e,t){hJ(n,e,t)}function pJ(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(B4(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function $4(n,e,t){if(t&it.Optional||n!==void 0)return n;UC(e,"NodeInjector")}function z4(n,e,t,r){if(t&it.Optional&&r===void 0&&(r=null),(t&(it.Self|it.Host))===0){let i=n[Wd],s=ei(void 0);try{return i?i.get(e,r,t&it.Optional):r4(e,r,t&it.Optional)}finally{ei(s)}}return $4(r,e,t)}function G4(n,e,t,r=it.Default,i){if(n!==null){if(e[We]&2048&&!(r&it.Self)){let o=vJ(n,e,t,r,ao);if(o!==ao)return o}let s=W4(n,e,t,r,ao);if(s!==ao)return s}return z4(e,t,r,i)}function W4(n,e,t,r,i){let s=gJ(t);if(typeof s=="function"){if(!N4(e,n,r))return r&it.Host?$4(i,t,r):z4(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&it.Optional))UC(t);else return o}finally{O4()}}else if(typeof s=="number"){let o=null,a=H4(n,e),u=zd,c=r&it.Host?e[qi][Is]:null;for((a===-1||r&it.SkipSelf)&&(u=a===-1?i2(n,e):e[a+8],u===zd||!s8(r,!1)?a=-1:(o=e[Ue],a=tv(u),e=nv(u,e)));a!==-1;){let l=e[Ue];if(i8(s,a,l.data)){let d=mJ(a,e,t,o,r,c);if(d!==ao)return d}u=e[a+8],u!==zd&&s8(r,e[Ue].data[a+8]===c)&&i8(s,a,e)?(o=l,a=tv(u),e=nv(u,e)):a=-1}}return i}function mJ(n,e,t,r,i,s){let o=e[Ue],a=o.data[n+8],u=r==null?ul(a)&&WT:r!=o&&(a.type&3)!==0,c=i&it.Host&&s===a,l=zy(a,o,t,u,c);return l!==null?Up(e,o,l,a,i):ao}function zy(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,u=n.directiveStart,c=n.directiveEnd,l=s>>20,d=r?a:a+l,f=i?a+l:c;for(let h=d;h<f;h++){let g=o[h];if(h<u&&t===g||h>=u&&g.type===t)return h}if(i){let h=o[u];if(h&&uo(h)&&h.type===t)return u}return null}function Up(n,e,t,r,i){let s=n[t],o=e.data;if(s instanceof sl){let a=s;a.resolving&&t4(XQ(o[t]));let u=rv(a.canSeeViewProviders);a.resolving=!0;let c,l=a.injectImpl?ei(a.injectImpl):null,d=N4(n,r,it.Default);try{s=n[t]=a.factory(void 0,i,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&rJ(t,o[t],e)}finally{l!==null&&ei(l),rv(u),a.resolving=!1,O4()}}return s}function gJ(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Np)?n[Np]:void 0;return typeof e=="number"?e>=0?e&q4:yJ:e}function i8(n,e,t){let r=1<<n;return!!(t[e+(n>>j4)]&r)}function s8(n,e){return!(n&it.Self)&&!(n&it.Host&&e)}var Yc=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return G4(this._tNode,this._lView,e,Dv(r),t)}};function yJ(){return new Yc(ni(),ct())}function cl(n){return Kp(()=>{let e=n.prototype.constructor,t=e[Ky]||QT(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Ky]||QT(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function QT(n){return Y8(n)?()=>{let e=QT($r(n));return e&&e()}:Zc(n)}function vJ(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[We]&2048&&!Qd(o);){let a=W4(s,o,t,r|it.Self,ao);if(a!==ao)return a;let u=s.parent;if(!u){let c=o[h4];if(c){let l=c.get(t,ao,r);if(l!==ao)return l}u=K4(o),o=o[tf]}s=u}return i}function K4(n){let e=n[Ue],t=e.type;return t===2?e.declTNode:t===1?n[Is]:null}function s2(n){return pJ(ni(),n)}function o8(n,e=null,t=null,r){let i=Q4(n,e,t,r);return i.resolveInjectorInitializers(),i}function Q4(n,e=null,t=null,r,i=new Set){let s=[t||zr,mY(n)];return r=r||(typeof n=="object"?void 0:ti(n)),new Mp(s,e||jC(),r||null,i)}var Nt=class n{static THROW_IF_NOT_FOUND=Qc;static NULL=new Zy;static create(e,t){if(Array.isArray(e))return o8({name:""},t,e,"");{let r=e.name??"";return o8({name:r},e.parent,e.providers,r)}}static \u0275prov=fe({token:n,providedIn:"any",factory:()=>Ae(o4)});static __NG_ELEMENT_ID__=-1};var bJ=new le("");bJ.__NG_ELEMENT_ID__=n=>{let e=ni();if(e===null)throw new be(204,!1);if(e.type&2)return e.value;if(n&it.Optional)return null;throw new be(204,!1)};var Y4=!1,ha=(()=>{class n{static __NG_ELEMENT_ID__=_J;static __NG_ENV_ID__=t=>t}return n})(),sv=class extends ha{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return nf(t)?(e(),()=>{}):(T4(t,e),()=>FY(t,e))}};function _J(){return new sv(ct())}var ca=class{},J4=new le("",{providedIn:"root",factory:()=>!1});var Z4=new le(""),X4=new le(""),bu=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Mn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),kv=(()=>{class n{internalPendingTasks=$(bu);scheduler=$(ca);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return O(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),YT=class extends En{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,HC()&&(this.destroyRef=$(ha,{optional:!0})??void 0,this.pendingTasks=$(bu,{optional:!0})??void 0)}emit(e){let t=ot(null);try{super.next(e)}finally{ot(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Dn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Vt=YT;function Bp(...n){}function eP(n){let e,t;function r(){n=Bp;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function a8(n){return queueMicrotask(()=>n()),()=>{n=Bp}}var o2="isAngularZone",ov=o2+"_ID",EJ=0,_t=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Vt(!1);onMicrotaskEmpty=new Vt(!1);onStable=new Vt(!1);onError=new Vt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Y4}=e;if(typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,TJ(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(o2)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new be(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,wJ,Bp,Bp);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},wJ={};function a2(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function SJ(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){eP(()=>{n.callbackScheduled=!1,JT(n),n.isCheckStableRunning=!0,a2(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),JT(n)}function TJ(n){let e=()=>{SJ(n)},t=EJ++;n._inner=n._inner.fork({name:"angular",properties:{[o2]:!0,[ov]:t,[ov+t]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(CJ(u))return r.invokeTask(s,o,a,u);try{return u8(n),r.invokeTask(s,o,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),c8(n)}},onInvoke:(r,i,s,o,a,u,c)=>{try{return u8(n),r.invoke(s,o,a,u,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!IJ(u)&&e(),c8(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,JT(n),a2(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function JT(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function u8(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function c8(n){n._nesting--,a2(n)}var av=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Vt;onMicrotaskEmpty=new Vt;onStable=new Vt;onError=new Vt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function CJ(n){return tP(n,"__ignore_ng_zone__")}function IJ(n){return tP(n,"__scheduler_tick__")}function tP(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function DJ(n="zone.js",e){return n==="noop"?new av:n==="zone.js"?new _t(e):n}var lo=class{_console=console;handleError(e){this._console.error("ERROR",e)}},xJ=new le("",{providedIn:"root",factory:()=>{let n=$(_t),e=$(lo);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function l8(n,e){return K8(n,e)}function AJ(n){return K8(W8,n)}var nP=(l8.required=AJ,l8);function NJ(){return sf(ni(),ct())}function sf(n,e){return new Nr(fo(n,e))}var Nr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=NJ}return n})();function RJ(n){return n instanceof Nr?n.nativeElement:n}function _i(n,e){let t=YS(n,e?.equal),r=t[ps];return t.set=i=>Sp(r,i),t.update=i=>JS(r,i),t.asReadonly=kJ.bind(t),t}function kJ(){let n=this[ps];if(n.readonlyFn===void 0){let e=()=>this();e[ps]=n,n.readonlyFn=e}return n.readonlyFn}function MJ(){return this._results[Symbol.iterator]()}var ZT=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new En}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=lY(e);(this._changesDetected=!cY(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=MJ},uv="ngSkipHydration",OJ="ngskiphydration";function rP(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===OJ)return!0}return!1}function Vp(n){return(n.flags&128)===128}function cv(n){if(Vp(n))return!0;let e=n.parent;for(;e;){if(Vp(n)||rP(e))return!0;e=e.parent}return!1}function PJ(n){return Vp(n)||rP(n)||cv(n)}var iP=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(iP||{}),sP=new Map,LJ=0;function FJ(){return LJ++}function UJ(n){sP.set(n[Nv],n)}function XT(n){sP.delete(n[Nv])}var d8="__ngContext__";function Xp(n,e){mu(e)?(n[d8]=e[Nv],UJ(e)):n[d8]=e}function oP(n){return uP(n[Lp])}function aP(n){return uP(n[Es])}function uP(n){for(;n!==null&&!ji(n);)n=n[Es];return n}var eC;function Mv(n){eC=n}function BJ(){if(eC!==void 0)return eC;if(typeof document<"u")return document;throw new be(210,!1)}var _u=new le("",{providedIn:"root",factory:()=>VJ}),VJ="ng",em=new le(""),ri=new le("",{providedIn:"platform",factory:()=>"unknown"});var tm=new le("",{providedIn:"root",factory:()=>BJ().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function qJ(){return new Ov}var Ov=(()=>{class n{static \u0275prov=fe({token:n,providedIn:"root",factory:qJ});store={};onSerializeCallbacks={};get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();var cP="h",lP="b",jJ="f",HJ="n",f8="e",h8="t",p8="c",m8="x",wT="r",g8="i",y8="n",ST="d",v8="l",$J="di",b8="s",zJ="p",GJ="t",dP=new le(""),fP=!1,WJ=new le("",{providedIn:"root",factory:()=>fP}),KJ=new le(""),QJ=new le(""),YJ=!1,JJ=new le("");var u2=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(u2||{}),of=new le(""),_8=new Set;function ll(n){_8.has(n)||(_8.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var c2=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=ZJ}return n})();function ZJ(){return new c2(ct(),ni())}var jd=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(jd||{}),hP=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),XJ=[jd.EarlyRead,jd.Write,jd.MixedReadWrite,jd.Read],eZ=(()=>{class n{ngZone=$(_t);scheduler=$(ca);errorHandler=$(lo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){$(of,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Qt(16),this.executing=!0;for(let r of XJ)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Qt(17)}register(t){let{view:r}=t;r!==void 0?((r[$d]??=[]).push(t),rf(r),r[We]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(u2.AFTER_NEXT_RENDER,t):t()}static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})(),tC=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[$d];e&&(this.view[$d]=e.filter(t=>t!==this))}};function l2(n,e){!e?.injector&&Av(l2);let t=e?.injector??$(Nt);return rZ}function tZ(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function nZ(n,e,t,r){let i=e.get(hP);i.impl??=e.get(eZ);let s=e.get(of,null,{optional:!0}),o=t?.phase??jd.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(ha):null,u=e.get(c2,null,{optional:!0}),c=new tC(i.impl,tZ(n,o),u?.view,r,a,s?.snapshot(null));return i.impl.register(c),c}var rZ={destroy(){}};var E8=1;function d2(n){return n+1}function iZ(n,e){let t=n[Ue],r=d2(e.index);return n[r]}function pP(n,e){let t=d2(e.index);return n.data[t]}function sZ(n){return n!==null&&typeof n=="object"&&typeof n.primaryTmplIndex=="number"}function oZ(n,e){let t=null,r=d2(e.index);return Yt<r&&r<n.bindingStartIndex&&(t=pP(n,e)),!!t&&sZ(t)}var aZ=["click","keydown"],uZ=["mouseenter","mouseover","focusin"];var cZ="ngb";function mP(n,e,t=null){if(e.length===0||n.nodeType!==Node.ELEMENT_NODE)return;let r=n.getAttribute(gT.JSACTION),i=e.reduce((o,a)=>(r?.indexOf(a)??-1)===-1?o+a+":;":o,"");n.setAttribute(gT.JSACTION,`${r??""}${i}`);let s=t??"";s!==""&&i.length>0&&n.setAttribute(cZ,s)}var lZ=(n,e,t,r)=>{};function dZ(n,e,t,r){lZ(n,e,t,r)}var fZ="__nghData__",hZ=fZ,pZ="__nghDeferData__",mZ=pZ,gP="ngh",yP="nghm",gZ=()=>null;function vP(n,e,t=!1){return gZ(n,e,t)}function yZ(n){let e=n._lView;return e[Ue].type===2?null:(Qd(e)&&(e=e[Yt]),e)}function vZ(n){return n.get(JJ,!1,{optional:!0})}function bP(n,e){let t=e,r=n.corruptedTextNodes;t.textContent===""?r.set(t,"ngetn"):t.nextSibling?.nodeType===Node.TEXT_NODE&&r.set(t,"ngtns")}function bZ(n){let e=[];return n!==null&&(n.has(4)&&e.push(...uZ),n.has(3)&&e.push(...aZ)),e}function _P(n,e){let t=n.contentQueries;if(t!==null){let r=ot(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];ZC(s),a.contentQueries(2,e[o],o)}}}finally{ot(r)}}}function nC(n,e,t){ZC(0);let r=ot(null);try{e(n,t)}finally{ot(r)}}function EP(n,e,t){if(p4(e)){let r=ot(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let u=t[o];a.contentQueries(1,u,o)}}}finally{ot(r)}}}var ws=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ws||{});var By;function _Z(){if(By===void 0&&(By=null,hu.trustedTypes))try{By=hu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return By}function w8(n){return _Z()?.createScriptURL(n)||n}var lv=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${z8})`}};function nm(n){return n instanceof lv?n.changingThisBreaksApplicationSecurity:n}function wP(n,e){let t=EZ(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${z8})`)}return t===e}function EZ(n){return n instanceof lv&&n.getTypeName()||null}var wZ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function SZ(n){return n=String(n),n.match(wZ)?n:"unsafe:"+n}var f2=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(f2||{});function xn(n){let e=TP();return e?e.sanitize(f2.URL,n)||"":wP(n,"URL")?nm(n):SZ(Jc(n))}function TZ(n){let e=TP();if(e)return w8(e.sanitize(f2.RESOURCE_URL,n)||"");if(wP(n,"ResourceURL"))return w8(nm(n));throw new be(904,!1)}function CZ(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?TZ:xn}function SP(n,e,t){return CZ(e,t)(n)}function TP(){let n=ct();return n&&n[aa].sanitizer}function CP(n){return n instanceof Function?n():n}function IZ(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var IP="ng-template";function DZ(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&IZ(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(h2(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function h2(n){return n.type===4&&n.value!==IP}function xZ(n,e,t){let r=n.type===4&&!t?IP:n.value;return e===r}function AZ(n,e,t){let r=4,i=n.attrs,s=i!==null?kZ(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!bs(r)&&!bs(u))return!1;if(o&&bs(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!xZ(n,u,t)||u===""&&e.length===1){if(bs(r))return!1;o=!0}}else if(r&8){if(i===null||!DZ(n,i,u,t)){if(bs(r))return!1;o=!0}}else{let c=e[++a],l=NZ(u,i,h2(n),t);if(l===-1){if(bs(r))return!1;o=!0;continue}if(c!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&c!==d){if(bs(r))return!1;o=!0}}}}return bs(r)||o}function bs(n){return(n&1)===0}function NZ(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return MZ(e,n)}function RZ(n,e,t=!1){for(let r=0;r<e.length;r++)if(AZ(n,e[r],t))return!0;return!1}function kZ(n){for(let e=0;e<n.length;e++){let t=n[e];if(B4(t))return e}return n.length}function MZ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function S8(n,e){return n?":not("+e.trim()+")":e}function OZ(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!bs(o)&&(e+=S8(s,i),i=""),r=o,s=s||!bs(r);t++}return i!==""&&(e+=S8(s,i)),e}function PZ(n){return n.map(OZ).join(",")}function LZ(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!bs(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var ii={};function FZ(n,e){return n.createText(e)}function UZ(n,e,t){n.setValue(e,t)}function DP(n,e,t){return n.createElement(e,t)}function dv(n,e,t,r,i){n.insertBefore(e,t,r,i)}function xP(n,e,t){n.appendChild(e,t)}function T8(n,e,t,r,i){r!==null?dv(n,e,t,r,i):xP(n,e,t)}function BZ(n,e,t){n.removeChild(null,e,t)}function VZ(n,e,t){n.setAttribute(e,"style",t)}function qZ(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function AP(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&uJ(n,e,r),i!==null&&qZ(n,e,i),s!==null&&VZ(n,e,s)}function p2(n,e,t,r,i,s,o,a,u,c,l){let d=Yt+r,f=d+i,h=jZ(d,f),g=typeof c=="function"?c():c;return h[Ue]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:l}}function jZ(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ii);return t}function HZ(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=p2(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function m2(n,e,t,r,i,s,o,a,u,c,l){let d=e.blueprint.slice();return d[Er]=i,d[We]=r|4|128|8|64|1024,(c!==null||n&&n[We]&2048)&&(d[We]|=2048),w4(d),d[wr]=d[tf]=n,d[Wn]=t,d[aa]=o||n&&n[aa],d[Un]=a||n&&n[Un],d[Wd]=u||n&&n[Wd]||null,d[Is]=s,d[Nv]=FJ(),d[Op]=l,d[h4]=c,d[qi]=e.type==2?n[qi]:d,d}function $Z(n,e,t){let r=fo(e,n),i=HZ(t),s=n[aa].rendererFactory,o=g2(n,m2(n,i,null,NP(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function NP(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function RP(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function g2(n,e){return n[Lp]?n[e8][Es]=e:n[Lp]=e,n[e8]=e,e}function H(n=1){kP(ur(),ct(),fa()+n,!1)}function kP(n,e,t,r){if(!r)if((e[We]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Hy(e,s,t)}else{let s=n.preOrderHooks;s!==null&&$y(e,s,0,t)}il(t)}var Pv=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Pv||{});function rC(n,e,t,r){let i=ot(null);try{let[s,o,a]=n.inputs[t],u=null;(o&Pv.SignalBased)!==0&&(u=e[s][ps]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,s):g4(e,u,s,r)}finally{ot(i)}}function MP(n,e,t,r,i){let s=fa(),o=r&2;try{il(-1),o&&e.length>Yt&&kP(n,e,Yt,!1),Qt(o?2:0,i),t(r,i)}finally{il(s),Qt(o?3:1,i)}}function y2(n,e,t){YZ(n,e,t),(t.flags&64)===64&&JZ(n,e,t)}function OP(n,e,t=fo){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function zZ(n,e,t,r){let s=r.get(WJ,fP)||t===ws.ShadowDom,o=n.selectRootElement(e,s);return GZ(o),o}function GZ(n){WZ(n)}var WZ=()=>null;function KZ(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function PP(n,e,t,r,i,s,o,a){if(!a&&v2(e,n,t,r,i)){ul(e)&&QZ(t,e.index);return}if(e.type&3){let u=fo(e,t);r=KZ(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)}else e.type&12}function QZ(n,e){let t=co(e,n);t[We]&16||(t[We]|=64)}function YZ(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ul(t)&&$Z(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||iv(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],u=Up(e,n,o,t);if(Xp(u,e),s!==null&&tX(e,o-r,u,a,t,s),uo(a)){let c=co(t.index,e);c[Wn]=Up(e,n,o,t)}}}function JZ(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=ZY();try{il(s);for(let a=r;a<i;a++){let u=n.data[a],c=e[a];GT(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ZZ(u,c)}}finally{il(-1),GT(o)}}function ZZ(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function LP(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];RZ(e,s.selectors,!1)&&(r??=[],uo(s)?r.unshift(s):r.push(s))}return r}function XZ(n,e,t,r,i,s){let o=fo(n,e);eX(e[Un],o,s,n.value,t,r,i)}function eX(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?Jc(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function tX(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let u=o[a],c=o[a+1];rC(r,t,u,c)}}function nX(n,e){let t=n[Wd],r=t?t.get(lo,null):null;r&&r.handleError(e)}function v2(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let u=0;u<o.length;u+=2){let c=o[u],l=o[u+1],d=e.data[c];rC(d,t[c],l,i),a=!0}if(s)for(let u of s){let c=t[u],l=e.data[u];rC(l,c,r,i),a=!0}return a}function rX(n,e){let t=co(e,n),r=t[Ue];iX(r,t);let i=t[Er];i!==null&&t[Op]===null&&(t[Op]=vP(i,t[Wd])),Qt(18),b2(r,t,t[Wn]),Qt(19,t[Wn])}function iX(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function b2(n,e,t){XC(e);try{let r=n.viewQuery;r!==null&&nC(1,r,t);let i=n.template;i!==null&&MP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ua]?.finishViewCreation(n),n.staticContentQueries&&_P(n,e),n.staticViewQueries&&nC(2,n.viewQuery,t);let s=n.components;s!==null&&sX(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[We]&=-5,e2()}}function sX(n,e){for(let t=0;t<e.length;t++)rX(n,e[t])}function Lv(n,e,t,r){let i=ot(null);try{let s=e.tView,a=n[We]&4096?4096:16,u=m2(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];u[el]=c;let l=n[ua];return l!==null&&(u[ua]=l.createEmbeddedView(s)),b2(s,u,t),u}finally{ot(i)}}function qp(n,e){return!e||e.firstChild===null||Vp(n)}var oX;function _2(n,e){return oX(n,e)}var la=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(la||{});function E2(n){return(n.flags&32)===32}function Hd(n,e,t,r,i){if(r!=null){let s,o=!1;ji(r)?s=r:mu(r)&&(o=!0,r=r[Er]);let a=mn(r);n===0&&t!==null?i==null?xP(e,t,a):dv(e,t,a,i||null,!0):n===1&&t!==null?dv(e,t,a,i||null,!0):n===2?BZ(e,a,o):n===3&&e.destroyNode(a),s!=null&&yX(e,n,s,t,i)}}function aX(n,e){FP(n,e),e[Er]=null,e[Is]=null}function uX(n,e,t,r,i,s){r[Er]=i,r[Is]=e,Uv(n,r,t,1,i,s)}function FP(n,e){e[aa].changeDetectionScheduler?.notify(9),Uv(n,e,e[Un],2,null,null)}function cX(n){let e=n[Lp];if(!e)return TT(n[Ue],n);for(;e;){let t=null;if(mu(e))t=e[Lp];else{let r=e[_r];r&&(t=r)}if(!t){for(;e&&!e[Es]&&e!==n;)mu(e)&&TT(e[Ue],e),e=e[wr];e===null&&(e=n),mu(e)&&TT(e[Ue],e),t=e&&e[Es]}e=t}}function w2(n,e){let t=n[Kd],r=t.indexOf(e);t.splice(r,1)}function Fv(n,e){if(nf(e))return;let t=e[Un];t.destroyNode&&Uv(n,e,t,3,null,null),cX(e)}function TT(n,e){if(nf(e))return;let t=ot(null);try{e[We]&=-129,e[We]|=256,e[Vi]&&wp(e[Vi]),dX(n,e),lX(n,e),e[Ue].type===1&&e[Un].destroy();let r=e[el];if(r!==null&&ji(e[wr])){r!==e[wr]&&w2(r,e);let i=e[ua];i!==null&&i.detachView(n)}XT(e)}finally{ot(t)}}function lX(n,e){let t=n.cleanup,r=e[Pp];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[Pp]=null);let i=e[pu];if(i!==null){e[pu]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[tl];if(s!==null){e[tl]=null;for(let o of s)o.destroy()}}function dX(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof sl)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Qt(4,a,u);try{u.call(a)}finally{Qt(5,a,u)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function UP(n,e,t){return fX(n,e.parent,t)}function fX(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Er];if(ul(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ws.None||i===ws.Emulated)return null}return fo(r,t)}function hX(n,e,t){return mX(n,e,t)}function pX(n,e,t){return n.type&40?fo(n,t):null}var mX=pX,C8;function S2(n,e,t,r){let i=UP(n,r,e),s=e[Un],o=r.parent||e[Is],a=hX(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)T8(s,i,t[u],a,!1);else T8(s,i,t,a,!1);C8!==void 0&&C8(s,r,e,t,i)}function Kc(n,e){if(e!==null){let t=e.type;if(t&3)return fo(e,n);if(t&4)return iC(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Kc(n,r);{let i=n[e.index];return ji(i)?iC(-1,i):mn(i)}}else{if(t&128)return Kc(n,e.next);if(t&32)return _2(e,n)()||mn(n[e.index]);{let r=BP(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=rl(n[qi]);return Kc(i,r)}else return Kc(n,e.next)}}}return null}function BP(n,e){if(e!==null){let r=n[qi][Is],i=e.projection;return r.projection[i]}return null}function iC(n,e){let t=_r+n+1;if(t<e.length){let r=e[t],i=r[Ue].firstChild;if(i!==null)return Kc(r,i)}return e[nl]}function T2(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(o&&e===0&&(a&&Xp(mn(a),r),t.flags|=2),!E2(t))if(u&8)T2(n,e,t.child,r,i,s,!1),Hd(e,n,i,a,s);else if(u&32){let c=_2(t,r),l;for(;l=c();)Hd(e,n,i,l,s);Hd(e,n,i,a,s)}else u&16?gX(n,e,r,t,i,s):Hd(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Uv(n,e,t,r,i,s){T2(t,r,n.firstChild,e,i,s,!1)}function gX(n,e,t,r,i,s){let o=t[qi],u=o[Is].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];Hd(e,n,i,l,s)}else{let c=u,l=o[wr];Vp(r)&&(c.flags|=128),T2(n,e,c,l,i,s,!0)}}function yX(n,e,t,r,i){let s=t[nl],o=mn(t);s!==o&&Hd(e,n,r,s,i);for(let a=_r;a<t.length;a++){let u=t[a];Uv(u[Ue],u,n,e,r,s)}}function vX(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:la.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=la.Important),n.setStyle(t,r,i,s))}}function jp(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(mn(s)),ji(s)&&C2(s,r);let o=t.type;if(o&8)jp(n,e,t.child,r);else if(o&32){let a=_2(t,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=BP(e,t);if(Array.isArray(a))r.push(...a);else{let u=rl(e[qi]);jp(u[Ue],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function C2(n,e){for(let t=_r;t<n.length;t++){let r=n[t],i=r[Ue].firstChild;i!==null&&jp(r[Ue],r,i,e)}n[nl]!==n[Er]&&e.push(n[nl])}function VP(n){if(n[$d]!==null){for(let e of n[$d])e.impl.addSequence(e);n[$d].length=0}}var qP=[];function bX(n){return n[Vi]??_X(n)}function _X(n){let e=qP.pop()??Object.create(wX);return e.lView=n,e}function EX(n){n.lView[Vi]!==n&&(n.lView=null,qP.push(n))}var wX=me(K({},xd),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{rf(n.lView)},consumerOnSignalRead(){this.lView[Vi]=this}});function SX(n){let e=n[Vi]??Object.create(TX);return e.lView=n,e}var TX=me(K({},xd),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=rl(n.lView);for(;e&&!jP(e[Ue]);)e=rl(e);e&&S4(e)},consumerOnSignalRead(){this.lView[Vi]=this}});function jP(n){return n.type!==2}function HP(n){if(n[tl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[tl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[We]&8192)}}var CX=100;function $P(n,e=!0,t=0){let i=n[aa].rendererFactory,s=!1;s||i.begin?.();try{IX(n,t)}catch(o){throw e&&nX(n,o),o}finally{s||i.end?.()}}function IX(n,e){let t=x4();try{ev(!0),sC(n,e);let r=0;for(;Rv(n);){if(r===CX)throw new be(103,!1);r++,sC(n,1)}}finally{ev(t)}}function DX(n,e,t,r){if(nf(e))return;let i=e[We],s=!1,o=!1;XC(e);let a=!0,u=null,c=null;s||(jP(n)?(c=bX(e),u=Ep(c)):$S()===null?(a=!1,c=SX(e),u=Ep(c)):e[Vi]&&(wp(e[Vi]),e[Vi]=null));try{w4(e),QY(n.bindingStartIndex),t!==null&&MP(n,e,t,2,r);let l=(i&3)===3;if(!s)if(l){let h=n.preOrderCheckHooks;h!==null&&Hy(e,h,null)}else{let h=n.preOrderHooks;h!==null&&$y(e,h,0,null),_T(e,0)}if(o||xX(e),HP(e),zP(e,0),n.contentQueries!==null&&_P(n,e),!s)if(l){let h=n.contentCheckHooks;h!==null&&Hy(e,h)}else{let h=n.contentHooks;h!==null&&$y(e,h,1),_T(e,1)}NX(n,e);let d=n.components;d!==null&&WP(e,d,0);let f=n.viewQuery;if(f!==null&&nC(2,f,r),!s)if(l){let h=n.viewCheckHooks;h!==null&&Hy(e,h)}else{let h=n.viewHooks;h!==null&&$y(e,h,2),_T(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[bT]){for(let h of e[bT])h();e[bT]=null}s||(VP(e),e[We]&=-73)}catch(l){throw s||rf(e),l}finally{c!==null&&(sy(c,u),a&&EX(c)),e2()}}function zP(n,e){for(let t=oP(n);t!==null;t=aP(t))for(let r=_r;r<t.length;r++){let i=t[r];GP(i,e)}}function xX(n){for(let e=oP(n);e!==null;e=aP(e)){if(!(e[We]&2))continue;let t=e[Kd];for(let r=0;r<t.length;r++){let i=t[r];S4(i)}}}function AX(n,e,t){Qt(18);let r=co(e,n);GP(r,t),Qt(19,r[Wn])}function GP(n,e){KC(n)&&sC(n,e)}function sC(n,e){let r=n[Ue],i=n[We],s=n[Vi],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&oy(s)),o||=!1,s&&(s.dirty=!1),n[We]&=-9217,o)DX(r,n,r.template,n[Wn]);else if(i&8192){HP(n),zP(n,1);let a=r.components;a!==null&&WP(n,a,1),VP(n)}}function WP(n,e,t){for(let r=0;r<e.length;r++)AX(n,e[r],t)}function NX(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)il(~i);else{let s=i,o=t[++r],a=t[++r];JY(o,s);let u=e[s];Qt(24,u),a(2,u),Qt(25,u)}}}finally{il(-1)}}function I2(n,e){let t=x4()?64:1088;for(n[aa].changeDetectionScheduler?.notify(e);n;){n[We]|=t;let r=rl(n);if(Qd(n)&&!r)return n;n=r}return null}function KP(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function QP(n,e){let t=_r+e;if(t<n.length)return n[t]}function Bv(n,e,t,r=!0){let i=e[Ue];if(RX(i,e,n,t),r){let o=iC(t,n),a=e[Un],u=a.parentNode(n[nl]);u!==null&&uX(i,n[Is],a,e,u,o)}let s=e[Op];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function YP(n,e){let t=Hp(n,e);return t!==void 0&&Fv(t[Ue],t),t}function Hp(n,e){if(n.length<=_r)return;let t=_r+e,r=n[t];if(r){let i=r[el];i!==null&&i!==n&&w2(i,r),e>0&&(n[t-1][Es]=r[Es]);let s=Jy(n,_r+e);aX(r[Ue],r);let o=s[ua];o!==null&&o.detachView(s[Ue]),r[wr]=null,r[Es]=null,r[We]&=-129}return r}function RX(n,e,t,r){let i=_r+r,s=t.length;r>0&&(t[i-1][Es]=e),r<s-_r?(e[Es]=t[i],s4(t,_r+r,e)):(t.push(e),e[Es]=null),e[wr]=t;let o=e[el];o!==null&&t!==o&&JP(o,e);let a=e[ua];a!==null&&a.insertView(n),$T(e),e[We]|=128}function JP(n,e){let t=n[Kd],r=e[wr];if(mu(r))n[We]|=2;else{let i=r[wr][qi];e[qi]!==i&&(n[We]|=2)}t===null?n[Kd]=[e]:t.push(e)}var $p=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Ue];return jp(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Wn]}set context(e){this._lView[Wn]=e}get destroyed(){return nf(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[wr];if(ji(e)){let t=e[Xy],r=t?t.indexOf(this):-1;r>-1&&(Hp(e,r),Jy(t,r))}this._attachedToViewContainer=!1}Fv(this._lView[Ue],this._lView)}onDestroy(e){T4(this._lView,e)}markForCheck(){I2(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[We]&=-129}reattach(){$T(this._lView),this._lView[We]|=128}detectChanges(){this._lView[We]|=1024,$P(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Qd(this._lView),t=this._lView[el];t!==null&&!e&&w2(t,this._lView),FP(this._lView[Ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=e;let t=Qd(this._lView),r=this._lView[el];r!==null&&!t&&JP(r,this._lView),$T(this._lView)}};var ol=(()=>{class n{static __NG_ELEMENT_ID__=OX}return n})(),kX=ol,MX=class extends kX{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Lv(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new $p(i)}};function OX(){return D2(ni(),ct())}function D2(n,e){return n.type&4?new MX(e,n,sf(n,e)):null}var oC="<-- AT THIS LOCATION";function PX(n){switch(n){case 4:return"view container";case 2:return"element";case 8:return"ng-container";case 32:return"icu";case 64:return"i18n";case 16:return"projection";case 1:return"text";case 128:return"@let";default:return"<unknown>"}}function LX(n,e){let t=`During serialization, Angular was unable to find an element in the DOM:

`,r=`${qX(n,e,!1)}

`,i=HX();throw new be(-502,t+r+i)}function FX(n){let e="During serialization, Angular detected DOM nodes that were created outside of Angular context and provided as projectable nodes (likely via `ViewContainerRef.createComponent` or `createComponent` APIs). Hydration is not supported for such cases, consider refactoring the code to avoid this pattern or using `ngSkipHydration` on the host element of the component.\n\n",t=`${jX(n)}

`,r=e+t+$X();return new be(-503,r)}function UX(n){let e=[];if(n.attrs)for(let t=0;t<n.attrs.length;){let r=n.attrs[t++];if(typeof r=="number")break;let i=n.attrs[t++];e.push(`${r}="${fv(i)}"`)}return e.join(" ")}var BX=new Set(["ngh","ng-version","ng-server-context"]);function VX(n){let e=[];for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];BX.has(r.name)||e.push(`${r.name}="${fv(r.value)}"`)}return e.join(" ")}function CT(n,e="\u2026"){switch(n.type){case 1:return`#text${n.value?`(${n.value})`:""}`;case 2:let r=UX(n),i=n.value.toLowerCase();return`<${i}${r?" "+r:""}>${e}</${i}>`;case 8:return"<!-- ng-container -->";case 4:return"<!-- container -->";default:return`#node(${PX(n.type)})`}}function Gy(n,e="\u2026"){let t=n;switch(t.nodeType){case Node.ELEMENT_NODE:let r=t.tagName.toLowerCase(),i=VX(t);return`<${r}${i?" "+i:""}>${e}</${r}>`;case Node.TEXT_NODE:let s=t.textContent?fv(t.textContent):"";return`#text${s?`(${s})`:""}`;case Node.COMMENT_NODE:return`<!-- ${fv(t.textContent??"")} -->`;default:return`#node(${t.nodeType})`}}function qX(n,e,t){let r="  ",i="";e.prev?(i+=r+`\u2026
`,i+=r+CT(e.prev)+`
`):e.type&&e.type&12&&(i+=r+`\u2026
`),t?(i+=r+CT(e)+`
`,i+=r+`<!-- container -->  ${oC}
`):i+=r+CT(e)+`  ${oC}
`,i+=r+`\u2026
`;let s=e.type?UP(n[Ue],e,n):null;return s&&(i=Gy(s,`
`+i)),i}function jX(n){let e="  ",t="",r=n;return r.previousSibling&&(t+=e+`\u2026
`,t+=e+Gy(r.previousSibling)+`
`),t+=e+Gy(r)+`  ${oC}
`,n.nextSibling&&(t+=e+`\u2026
`),n.parentNode&&(t=Gy(r.parentNode,`
`+t)),t}function HX(n){return`To fix this problem:
  * check ${n?`the "${n}"`:"corresponding"} component for hydration-related issues
  * check to see if your template has valid HTML structure
  * or skip hydration by adding the \`ngSkipHydration\` attribute to its host node in a template

`}function $X(){return`Note: attributes are only displayed to better represent the DOM but have no effect on hydration mismatches.

`}function zX(n){return n.replace(/\s+/gm,"")}function fv(n,e=50){return n?(n=zX(n),n.length>e?`${n.substring(0,e-1)}\u2026`:n):""}function x2(n,e,t,r,i){let s=n.data[e];if(s===null)s=GX(n,e,t,r,i),YY()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=zY();s.injectorIndex=o===null?-1:o.injectorIndex}return Yp(s,!0),s}function GX(n,e,t,r,i){let s=I4(),o=D4(),a=o?s:s&&s.parent,u=n.data[e]=KX(n,a,t,e,r,i);return WX(n,u,s,o),u}function WX(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function KX(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return jY()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function QX(n,e){let t=e[n.currentCaseLViewIndex];return t===null?t:t<0?~t:t}function ZP(n,e,t){n.index=0;let r=QX(e,t);r!==null?n.removes=e.remove[r]:n.removes=zr}function aC(n){if(n.index<n.removes.length){let e=n.removes[n.index++];if(e>0)return n.lView[e];{n.stack.push(n.index,n.removes);let t=~e,r=n.lView[Ue].data[t];return ZP(n,r,n.lView),aC(n)}}else return n.stack.length===0?null:(n.removes=n.stack.pop(),n.index=n.stack.pop(),aC(n))}function YX(n,e){let t={stack:[],index:-1,lView:e};return ZP(t,n,e),aC.bind(null,t)}var TMe=new RegExp(`^(\\d+)*(${lP}|${cP})*(.*)`);function JX(n,e){let t=[n];for(let r of e){let i=t.length-1;if(i>0&&t[i-1]===r){let s=t[i]||1;t[i]=s+1}else t.push(r,"")}return t.join("")}function zp(n,e){return!(n.type&144)&&!!e[n.index]&&XP(mn(e[n.index]))}function XP(n){return!!n&&!n.isConnected}function uC(n,e){if(n===e)return[];if(n.parentElement==null||e.parentElement==null)return null;if(n.parentElement===e.parentElement)return ZX(n,e);{let t=e.parentElement,r=uC(n,t),i=uC(t.firstChild,e);return!r||!i?null:[...r,jJ,...i]}}function ZX(n,e){let t=[],r=null;for(r=n;r!=null&&r!==e;r=r.nextSibling)t.push(HJ);return r==null?null:t}function I8(n,e,t){let r=uC(n,e);return r===null?null:JX(t,r)}function XX(n,e,t){let r=n.parent,i,s,o;for(;r!==null&&(zp(r,e)||t?.has(r.index));)r=r.parent;r===null||!(r.type&3)?(i=o=cP,s=e[qi][Er]):(i=r.index,s=mn(e[i]),o=Jc(i-Yt));let a=mn(e[n.index]);if(n.type&44){let c=Kc(e,n);c&&(a=c)}let u=I8(s,a,o);if(u===null&&s!==a){let c=s.ownerDocument.body;if(u=I8(c,a,lP),u===null)throw LX(e,n)}return u}var eee=!1;function tee(){return eee}function nee(n){return n=n??$(Nt),n.get(KJ,!1)}function ree(n,e){let t=e.i18nChildren.get(n);return t===void 0&&(t=iee(n),e.i18nChildren.set(n,t)),t}function iee(n){let e=new Set;function t(r){switch(e.add(r.index),r.kind){case 1:case 2:{for(let i of r.children)t(i);break}case 3:{for(let i of r.cases)for(let s of i)t(s);break}}}for(let r=Yt;r<n.bindingStartIndex;r++){let i=n.data[r];if(!(!i||!i.ast))for(let s of i.ast)t(s)}return e.size===0?null:e}function see(n,e,t){if(!t.isI18nHydrationEnabled)return null;let r=n[Ue],i=r.data[e];if(!i||!i.ast)return null;let s=r.data[i.parentTNodeIndex];if(s&&PJ(s))return null;let o={caseQueue:[],disconnectedNodes:new Set,disjointNodes:new Set};return cC(n,o,t,i.ast),o.caseQueue.length===0&&o.disconnectedNodes.size===0&&o.disjointNodes.size===0?null:o}function cC(n,e,t,r){let i=null;for(let s of r){let o=aee(n,e,t,s);o&&(oee(i,o)&&e.disjointNodes.add(s.index-Yt),i=o)}return i}function oee(n,e){return n&&n.nextSibling!==e}function aee(n,e,t,r){let i=mn(n[r.index]);if(!i||XP(i))return e.disconnectedNodes.add(r.index-Yt),null;let s=i;switch(r.kind){case 0:{bP(t,s);break}case 1:case 2:{cC(n,e,t,r.children);break}case 3:{let o=n[r.currentCaseLViewIndex];if(o!=null){let a=o<0?~o:o;e.caseQueue.push(a),cC(n,e,t,r.cases[a])}break}}return uee(n,r)}function uee(n,e){let r=n[Ue].data[e.index];return U4(r)?Kc(n,r):e.kind===3?YX(r,n)()??mn(n[e.index]):mn(n[e.index])??null}var cee=()=>null;function Gp(n,e){return cee(n,e)}var lee=class{},eL=class{},lC=class{resolveComponentFactory(e){throw Error(`No component factory found for ${ti(e)}.`)}},Vv=class{static NULL=new lC},Jd=class{},si=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>dee()}return n})();function dee(){let n=ct(),e=ni(),t=co(e.index,n);return(mu(t)?t:n)[Un]}var fee=(()=>{class n{static \u0275prov=fe({token:n,providedIn:"root",factory:()=>null})}return n})();var IT={},dC=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Dv(r);let i=this.injector.get(e,IT,r);return i!==IT||t===IT?i:this.parentInjector.get(e,t,r)}};function D8(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=LT(i,a);else if(s==2){let u=a,c=e[++o];r=LT(r,u+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Fe(n,e=it.Default){let t=ct();if(t===null)return Ae(n,e);let r=ni();return G4(r,t,$r(n),e)}function tL(){let n="invalid";throw new Error(n)}function nL(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a,u=null,c=null,l=pee(o);l===null?a=o:[a,u,c]=l,yee(n,e,t,a,s,u,c)}s!==null&&r!==null&&hee(t,r,s)}function hee(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new be(-301,!1);r.push(e[i],s)}}function pee(n){let e=null,t=!1;for(let o=0;o<n.length;o++){let a=n[o];if(o===0&&uo(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,s=null;for(let o of n)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,mee(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,s]):null}function mee(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function gee(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function yee(n,e,t,r,i,s,o){let a=r.length,u=!1;for(let f=0;f<a;f++){let h=r[f];!u&&uo(h)&&(u=!0,gee(n,t,f)),KT(iv(t,e),n,h.type)}See(t,n.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let c=!1,l=!1,d=RP(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(t.mergedAttrs=Fp(t.mergedAttrs,h.hostAttrs),bee(n,t,e,d,h),wee(d,h,i),o!==null&&o.has(h)){let[y,S]=o.get(h);t.directiveToIndex.set(h.type,[d,y+t.directiveStart,S+t.directiveStart])}else(s===null||!s.has(h))&&t.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let g=h.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),l=!0),d++}vee(n,t,s)}function vee(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))x8(0,e,i,r),x8(1,e,i,r),N8(e,r,!1);else{let s=t.get(i);A8(0,e,s,r),A8(1,e,s,r),N8(e,r,!0)}}}function x8(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),rL(e,s)}}function A8(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),rL(e,o)}}function rL(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function N8(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||h2(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let c=i[u];for(let l of c)if(l===e){o??=[],o.push(u,r[a+1]);break}}else if(t&&s.hasOwnProperty(u)){let c=s[u];for(let l=0;l<c.length;l+=2)if(c[l]===e){o??=[],o.push(c[l+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function bee(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Zc(i.type,!0)),o=new sl(s,uo(i),Fe);n.blueprint[r]=o,t[r]=o,_ee(n,e,r,RP(n,t,i.hostVars,ii),i)}function _ee(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;Eee(o)!=a&&o.push(a),o.push(t,r,s)}}function Eee(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function wee(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;uo(e)&&(t[""]=n)}}function See(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function iL(n,e,t,r,i,s,o,a){let u=e.consts,c=Yd(u,o),l=x2(e,n,2,r,c);return s&&nL(e,t,l,Yd(u,a),i),l.mergedAttrs=Fp(l.mergedAttrs,l.attrs),l.attrs!==null&&D8(l,l.attrs,!1),l.mergedAttrs!==null&&D8(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function sL(n,e){L4(n,e),p4(e)&&n.queries.elementEnd(e)}var hv=class extends Vv{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=yu(e);return new Zd(t,this.ngModule)}};function Tee(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&Pv.SignalBased)!==0};return i&&(s.transform=i),s})}function Cee(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Iee(n,e,t){let r=e instanceof xr?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new dC(t,r):t}function Dee(n){let e=n.get(Jd,null);if(e===null)throw new be(407,!1);let t=n.get(fee,null),r=n.get(ca,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function xee(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return DP(e,t,t==="svg"?RY:t==="math"?kY:null)}var Zd=class extends eL{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Tee(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Cee(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=PZ(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Qt(22);let s=ot(null);try{let o=this.componentDef,a=r?["ng-version","19.2.14"]:LZ(this.componentDef.selectors[0]),u=p2(0,null,null,1,0,null,null,null,null,[a],null),c=Iee(o,i||this.ngModule,e),l=Dee(c),d=l.rendererFactory.createRenderer(null,o),f=r?zZ(d,r,o.encapsulation,c):xee(o,d),h=m2(null,u,null,512|NP(o),null,null,l,d,c,null,vP(f,c,!0));h[Yt]=f,XC(h);let g=null;try{let y=iL(Yt,u,h,"#host",()=>[this.componentDef],!0,0);f&&(AP(d,f,y),Xp(f,h)),y2(u,h,y),EP(u,y,h),sL(u,y),t!==void 0&&Aee(y,this.ngContentSelectors,t),g=co(y.index,h),h[Wn]=g[Wn],b2(u,h,null)}catch(y){throw g!==null&&XT(g),XT(h),y}finally{Qt(23),e2()}return new fC(this.componentType,h)}finally{ot(s)}}},fC=class extends lee{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=GC(t[Ue],Yt),this.location=sf(this._tNode,t),this.instance=co(this._tNode.index,t)[Wn],this.hostView=this.changeDetectorRef=new $p(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=v2(r,i[Ue],i,e,t);this.previousInputValues.set(e,t);let o=co(r.index,i);I2(o,1)}get injector(){return new Yc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Aee(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Eu=(()=>{class n{static __NG_ELEMENT_ID__=Nee}return n})();function Nee(){let n=ni();return aL(n,ct())}var Ree=Eu,oL=class extends Ree{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return sf(this._hostTNode,this._hostLView)}get injector(){return new Yc(this._hostTNode,this._hostLView)}get parentInjector(){let e=i2(this._hostTNode,this._hostLView);if(V4(e)){let t=nv(e,this._hostLView),r=tv(e),i=t[Ue].data[r+8];return new Yc(i,t)}else return new Yc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=R8(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-_r}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Gp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,qp(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!IY(e),a;if(o)a=t;else{let g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let u=o?e:new Zd(yu(e)),c=r||this.parentInjector;if(!s&&u.ngModule==null){let y=(o?c:this.parentInjector).get(xr,null);y&&(s=y)}let l=yu(u.componentType??{}),d=Gp(this._lContainer,l?.id??null),f=d?.firstChild??null,h=u.create(c,i,f,s);return this.insertImpl(h.hostView,a,qp(this._hostTNode,d)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(PY(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[wr],c=new oL(u,u[Is],u[wr]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Bv(o,i,s,r),e.attachToViewContainerRef(),s4(DT(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=R8(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Hp(this._lContainer,t);r&&(Jy(DT(this._lContainer),t),Fv(r[Ue],r))}detach(e){let t=this._adjustIndex(e,-1),r=Hp(this._lContainer,t);return r&&Jy(DT(this._lContainer),t)!=null?new $p(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function R8(n){return n[Xy]}function DT(n){return n[Xy]||(n[Xy]=[])}function aL(n,e){let t,r=e[n.index];return ji(r)?t=r:(t=KP(r,e,null,n),e[n.index]=t,g2(e,t)),Mee(t,e,n,r),new oL(t,n,e)}function kee(n,e){let t=n[Un],r=t.createComment(""),i=fo(e,n),s=t.parentNode(i);return dv(t,s,r,t.nextSibling(i),!1),r}var Mee=Lee,Oee=()=>!1;function Pee(n,e,t){return Oee(n,e,t)}function Lee(n,e,t,r){if(n[nl])return;let i;t.type&8?i=mn(r):i=kee(e,t),n[nl]=i}var hC=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},pC=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)A2(e,t).matches!==null&&this.queries[t].setDirty()}},pv=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=$ee(e):this.predicate=e}},mC=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},gC=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,Fee(t,s)),this.matchTNodeWithReadOption(e,t,zy(t,e,s,!1,!1))}else r===ol?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,zy(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Nr||i===Eu||i===ol&&t.type&4)this.addMatch(t.index,-2);else{let s=zy(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Fee(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Uee(n,e){return n.type&11?sf(n,e):n.type&4?D2(n,e):null}function Bee(n,e,t,r){return t===-1?Uee(e,n):t===-2?Vee(n,e,r):Up(n,n[Ue],t,e)}function Vee(n,e,t){if(t===Nr)return sf(e,n);if(t===ol)return D2(e,n);if(t===Eu)return aL(e,n)}function uL(n,e,t,r){let i=e[ua].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let c=o[u];if(c<0)a.push(null);else{let l=s[c];a.push(Bee(e,l,o[u+1],t.metadata.read))}}i.matches=a}return i.matches}function yC(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=uL(n,e,i,t);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let c=s[a+1],l=e[-u];for(let d=_r;d<l.length;d++){let f=l[d];f[el]===f[wr]&&yC(f[Ue],f,c,r)}if(l[Kd]!==null){let d=l[Kd];for(let f=0;f<d.length;f++){let h=d[f];yC(h[Ue],h,c,r)}}}}}return r}function qee(n,e){return n[ua].queries[e].queryList}function cL(n,e,t){let r=new ZT((t&4)===4);return UY(n,e,r,r.destroy),(e[ua]??=new pC).queries.push(new hC(r))-1}function jee(n,e,t){let r=ur();return r.firstCreatePass&&(lL(r,new pv(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),cL(r,ct(),e)}function Hee(n,e,t,r){let i=ur();if(i.firstCreatePass){let s=ni();lL(i,new pv(e,t,r),s.index),zee(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return cL(i,ct(),t)}function $ee(n){return n.split(",").map(e=>e.trim())}function lL(n,e,t){n.queries===null&&(n.queries=new mC),n.queries.track(new gC(e,t))}function zee(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function A2(n,e){return n.queries.getByIndex(e)}function Gee(n,e){let t=n[Ue],r=A2(t,e);return r.crossesNgTemplate?yC(t,n,e,[]):uL(t,n,r,e)}function Wee(n){let e=[],t=new Map;function r(i){let s=t.get(i);if(!s){let o=n(i);t.set(i,s=o.then(Jee))}return s}return mv.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),o.push(r(d).then(h=>{a[c+f]=h,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let u=Promise.all(o).then(()=>Zee(s));e.push(u)}),Qee(),Promise.all(e).then(()=>{})}var mv=new Map,Kee=new Set;function Qee(){let n=mv;return mv=new Map,n}function Yee(){return mv.size===0}function Jee(n){return typeof n=="string"?n:n.text()}function Zee(n){Kee.delete(n)}var Xd=class{},N2=class{};var gv=class extends Xd{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new hv(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=u4(e);this._bootstrapComponents=CP(s.bootstrap),this._r3Injector=Q4(e,t,[{provide:Xd,useValue:this},{provide:Vv,useValue:this.componentFactoryResolver},...r],ti(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yv=class extends N2{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new gv(this.moduleType,e,[])}};function Xee(n,e,t){return new gv(n,e,t,!1)}var vv=class extends Xd{injector;componentFactoryResolver=new hv(this);instance=null;constructor(e){super();let t=new Mp([...e.providers,{provide:Xd,useValue:this},{provide:Vv,useValue:this.componentFactoryResolver}],e.parent||jC(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rm(n,e,t=null){return new vv({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var ete=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=c4(!1,t.type),i=r.length>0?rm([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=fe({token:n,providedIn:"environment",factory:()=>new n(Ae(xr))})}return n})();function Rt(n){return Kp(()=>{let e=dL(n),t=me(K({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===iP.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(ete).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ws.Emulated,styles:n.styles||zr,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ll("NgStandalone"),fL(t);let r=n.dependencies;return t.directiveDefs=k8(r,!1),t.pipeDefs=k8(r,!0),t.id=ote(t),t})}function tte(n){return yu(n)||hY(n)}function nte(n){return n!==null}function xs(n){return Kp(()=>({type:n.type,bootstrap:n.bootstrap||zr,declarations:n.declarations||zr,imports:n.imports||zr,exports:n.exports||zr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function rte(n,e){if(n==null)return Xc;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,u;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,u=i[3]||null):(s=i,o=i,a=Pv.None,u=null),t[s]=[r,a,u],e[s]=o}return t}function ite(n){if(n==null)return Xc;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function wn(n){return Kp(()=>{let e=dL(n);return fL(e),e})}function R2(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function dL(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Xc,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||zr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rte(n.inputs,e),outputs:ite(n.outputs),debugInfo:null}}function fL(n){n.features?.forEach(e=>e(n))}function k8(n,e){if(!n)return null;let t=e?pY:tte;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(nte)}var ste=new Map;function ote(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ate(n){return Object.getPrototypeOf(n.prototype).constructor}function As(n){let e=ate(n.type),t=!0,r=[n];for(;e;){let i;if(uo(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new be(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=xT(n.inputs),o.declaredInputs=xT(n.declaredInputs),o.outputs=xT(n.outputs);let a=i.hostBindings;a&&fte(n,a);let u=i.viewQuery,c=i.contentQueries;if(u&&lte(n,u),c&&dte(n,c),ute(n,i),zQ(n.outputs,i.outputs),uo(i)&&i.data.animation){let l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===As&&(t=!1)}}e=Object.getPrototypeOf(e)}cte(r)}function ute(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function cte(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fp(i.hostAttrs,t=Fp(t,i.hostAttrs))}}function xT(n){return n===Xc?{}:n===zr?[]:n}function lte(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function dte(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function fte(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function hL(n){return pte(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function hte(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function pte(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function qv(n,e,t){return n[e]=t}function mte(n,e){return n[e]}function Ss(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function k2(n,e,t,r){let i=Ss(n,e,t);return Ss(n,e+1,r)||i}function gte(n,e,t,r,i){let s=k2(n,e,t,r);return Ss(n,e+2,i)||s}function yte(n,e,t,r,i,s,o,a,u){let c=e.consts,l=x2(e,n,4,o||null,a||null);C4()&&nL(e,t,l,Yd(c,u),LP),l.mergedAttrs=Fp(l.mergedAttrs,l.attrs),L4(e,l);let d=l.tView=p2(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function vC(n,e,t,r,i,s,o,a,u,c){let l=t+Yt,d=e.firstCreatePass?yte(l,e,n,r,i,s,o,a,u):e.data[l];Yp(d,!1);let f=vte(e,n,d,t);n2()&&S2(e,n,f,d),Xp(f,n);let h=KP(f,n,f,d);return n[l]=h,g2(n,h),Pee(h,d,n),zC(d)&&y2(e,n,d),u!=null&&OP(n,d,c),d}function ge(n,e,t,r,i,s,o,a){let u=ct(),c=ur(),l=Yd(c.consts,s);return vC(u,c,n,e,t,r,i,l,o,a),ge}var vte=bte;function bte(n,e,t,r){return r2(!0),e[Un].createComment("")}var af=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var jv=new le(""),pL=new le(""),M2=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,i){this._ngZone=t,this.registry=r,HC()&&(this._destroyRef=$(ha,{optional:!0})??void 0),O2||(_te(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{_t.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||n)(Ae(_t),Ae(mL),Ae(pL))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),mL=(()=>{class n{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return O2?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function _te(n){O2=n}var O2,gL=(()=>{class n{static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new bC})}return n})(),bC=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function wu(n){return!!n&&typeof n.then=="function"}function P2(n){return!!n&&typeof n.subscribe=="function"}var yL=new le("");function L2(n){return Ar([{provide:yL,multi:!0,useValue:n}])}var vL=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=$(yL,{optional:!0})??[];injector=$(Nt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=ir(this.injector,i);if(wu(s))t.push(s);else if(P2(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hv=new le("");function bL(){QS(()=>{throw new be(600,!1)})}function Ete(n){return n.isBoundToModule}var wte=10;function _L(n,e){return Array.isArray(e)?e.reduce(_L,n):K(K({},n),e)}var Ts=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=$(xJ);afterRenderManager=$(hP);zonelessEnabled=$(J4);rootEffectScheduler=$(gL);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new En;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=$(bu).hasPendingTasks.pipe(Ve(t=>!t));constructor(){$(of,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=$(xr);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Nt.NULL){Qt(10);let s=t instanceof eL;if(!this._injector.get(vL).done){let h="";throw new be(405,h)}let a;s?a=t:a=this._injector.get(Vv).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=Ete(a)?void 0:this._injector.get(Xd),c=r||a.selector,l=a.create(i,[],c,u),d=l.location.nativeElement,f=l.injector.get(jv,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Wy(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),Qt(11,l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Qt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(u2.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new be(101,!1);let t=ot(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ot(t),this.afterTick.next(),Qt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Jd,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<wte;)Qt(14),this.synchronizeOnce(),Qt(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Ste(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Rv(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Wy(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Hv,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Wy(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new be(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wy(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ste(n,e,t,r){if(!t&&!Rv(n))return;$P(n,e,t&&!r?0:1)}function $v(n,e,t,r){let i=ct(),s=Zp();if(Ss(i,s,e)){let o=ur(),a=t2();XZ(a,i,n,e,t,r)}return $v}function EL(n,e,t,r){return Ss(n,Zp(),t)?e+Jc(t)+r:ii}function Tte(n,e,t,r,i,s){let o=KY(),a=k2(n,o,t,i);return JC(2),a?e+Jc(t)+r+Jc(i)+s:ii}function Vy(n,e){return n<<17|e<<2}function al(n){return n>>17&32767}function Cte(n){return(n&2)==2}function Ite(n,e){return n&131071|e<<17}function _C(n){return n|2}function ef(n){return(n&131068)>>2}function AT(n,e){return n&-131069|e<<2}function Dte(n){return(n&1)===1}function EC(n){return n|1}function xte(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=al(o),u=ef(o);n[r]=t;let c=!1,l;if(Array.isArray(t)){let d=t;l=d[1],(l===null||Qp(d,l)>0)&&(c=!0)}else l=t;if(i)if(u!==0){let f=al(n[a+1]);n[r+1]=Vy(f,a),f!==0&&(n[f+1]=AT(n[f+1],r)),n[a+1]=Ite(n[a+1],r)}else n[r+1]=Vy(a,0),a!==0&&(n[a+1]=AT(n[a+1],r)),a=r;else n[r+1]=Vy(u,0),a===0?a=r:n[u+1]=AT(n[u+1],r),u=r;c&&(n[r+1]=_C(n[r+1])),M8(n,l,r,!0),M8(n,l,r,!1),Ate(e,l,n,r,s),o=Vy(a,u),s?e.classBindings=o:e.styleBindings=o}function Ate(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Qp(s,e)>=0&&(t[r+1]=EC(t[r+1]))}function M8(n,e,t,r){let i=n[t+1],s=e===null,o=r?al(i):ef(i),a=!1;for(;o!==0&&(a===!1||s);){let u=n[o],c=n[o+1];Nte(u,e)&&(a=!0,n[o+1]=r?EC(c):_C(c)),o=r?al(c):ef(c)}a&&(n[t+1]=r?_C(i):EC(i))}function Nte(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Qp(n,e)>=0:!1}var _s={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Rte(n){return n.substring(_s.key,_s.keyEnd)}function kte(n){return Mte(n),wL(n,SL(n,0,_s.textEnd))}function wL(n,e){let t=_s.textEnd;return t===e?-1:(e=_s.keyEnd=Ote(n,_s.key=e,t),SL(n,e,t))}function Mte(n){_s.key=0,_s.keyEnd=0,_s.value=0,_s.valueEnd=0,_s.textEnd=n.length}function SL(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ote(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Y(n,e,t){let r=ct(),i=Zp();if(Ss(r,i,e)){let s=ur(),o=t2();PP(s,o,r,n,e,r[Un],t,!1)}return Y}function wC(n,e,t,r,i){v2(e,n,t,i?"class":"style",r)}function F2(n,e,t){return CL(n,e,t,!1),F2}function qt(n,e){return CL(n,e,null,!0),qt}function TL(n){Lte(jte,Pte,n,!0)}function Pte(n,e){for(let t=kte(e);t>=0;t=wL(e,t))VC(n,Rte(e),!0)}function CL(n,e,t,r){let i=ct(),s=ur(),o=JC(2);if(s.firstUpdatePass&&DL(s,n,o,r),e!==ii&&Ss(i,o,e)){let a=s.data[fa()];xL(s,a,i,i[Un],n,i[o+1]=$te(e,t),r,o)}}function Lte(n,e,t,r){let i=ur(),s=JC(2);i.firstUpdatePass&&DL(i,null,s,r);let o=ct();if(t!==ii&&Ss(o,s,t)){let a=i.data[fa()];if(AL(a,r)&&!IL(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(t=LT(u,t||"")),wC(i,a,o,t,r)}else Hte(i,a,o,o[Un],o[s+1],o[s+1]=qte(n,e,t),r,s)}}function IL(n,e){return e>=n.expandoStartIndex}function DL(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[fa()],o=IL(n,t);AL(s,r)&&e===null&&!o&&(e=!1),e=Fte(i,s,e,r),xte(i,s,e,t,o,r)}}function Fte(n,e,t,r){let i=XY(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=NT(null,n,e,t,r),t=Wp(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=NT(i,n,e,t,r),s===null){let u=Ute(n,e,r);u!==void 0&&Array.isArray(u)&&(u=NT(null,n,e,u[1],r),u=Wp(u,e.attrs,r),Bte(n,e,r,u))}else s=Vte(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function Ute(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ef(r)!==0)return n[al(r)]}function Bte(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[al(i)]=r}function Vte(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Wp(r,o,t)}return Wp(r,e.attrs,t)}function NT(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Wp(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Wp(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),VC(n,o,t?!0:e[++s]))}return n===void 0?null:n}function qte(n,e,t){if(t==null||t==="")return zr;let r=[],i=nm(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function jte(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&VC(n,r,t)}function Hte(n,e,t,r,i,s,o,a){i===ii&&(i=zr);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let f=u<i.length?i[u+1]:void 0,h=c<s.length?s[c+1]:void 0,g=null,y;l===d?(u+=2,c+=2,f!==h&&(g=d,y=h)):d===null||l!==null&&l<d?(u+=2,g=l):(c+=2,g=d,y=h),g!==null&&xL(n,e,t,r,g,y,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}function xL(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let u=n.data,c=u[a+1],l=Dte(c)?O8(u,e,t,i,ef(c),o):void 0;if(!bv(l)){bv(s)||Cte(c)&&(s=O8(u,null,t,i,a,o));let d=E4(fa(),t);vX(r,o,d,i,s)}}function O8(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=l===null,f=t[i+1];f===ii&&(f=d?zr:void 0);let h=d?yT(f,r):l===r?f:void 0;if(c&&!bv(h)&&(h=yT(u,r)),bv(h)&&(a=h,o))return a;let g=n[i+1];i=o?al(g):ef(g)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=yT(u,r))}return a}function bv(n){return n!==void 0}function $te(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ti(nm(n)))),n}function AL(n,e){return(n.flags&(e?8:16))!==0}var SC=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function RT(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function zte(n,e,t){let r,i,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;s<=o&&s<=u;){let c=n.at(s),l=e[s],d=RT(s,c,s,l,t);if(d!==0){d<0&&n.updateValue(s,l),s++;continue}let f=n.at(o),h=e[u],g=RT(o,f,u,h,t);if(g!==0){g<0&&n.updateValue(o,h),o--,u--;continue}let y=t(s,c),S=t(o,f),_=t(s,l);if(Object.is(_,S)){let C=t(u,h);Object.is(C,y)?(n.swap(s,o),n.updateValue(o,h),u--,o--):n.move(o,s),n.updateValue(s,l),s++;continue}if(r??=new _v,i??=L8(n,s,o,t),TC(n,r,s,_))n.updateValue(s,l),s++,o++;else if(i.has(_))r.set(y,n.detach(s)),o--;else{let C=n.create(s,e[s]);n.attach(s,C),s++,o++}}for(;s<=u;)P8(n,r,t,s,e[s]),s++}else if(e!=null){let u=e[Symbol.iterator](),c=u.next();for(;!c.done&&s<=o;){let l=n.at(s),d=c.value,f=RT(s,l,s,d,t);if(f!==0)f<0&&n.updateValue(s,d),s++,c=u.next();else{r??=new _v,i??=L8(n,s,o,t);let h=t(s,d);if(TC(n,r,s,h))n.updateValue(s,d),s++,o++,c=u.next();else if(!i.has(h))n.attach(s,n.create(s,d)),s++,o++,c=u.next();else{let g=t(s,l);r.set(g,n.detach(s)),o--}}}for(;!c.done;)P8(n,r,t,n.length,c.value),c=u.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(u=>{n.destroy(u)})}function TC(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function P8(n,e,t,r,i){if(TC(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function L8(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var _v=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function An(n,e){ll("NgControlFlow");let t=ct(),r=Zp(),i=t[r]!==ii?t[r]:-1,s=i!==-1?Ev(t,Yt+i):void 0,o=0;if(Ss(t,r,n)){let a=ot(null);try{if(s!==void 0&&YP(s,o),n!==-1){let u=Yt+n,c=Ev(t,u),l=xC(t[Ue],u),d=Gp(c,l.tView.ssrId),f=Lv(t,l,e,{dehydratedView:d});Bv(c,f,o,qp(l,d))}}finally{ot(a)}}else if(s!==void 0){let a=QP(s,o);a!==void 0&&(a[Wn]=e)}}var CC=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-_r}};function dl(n,e){return e}var IC=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function pa(n,e,t,r,i,s,o,a,u,c,l,d,f){ll("NgControlFlow");let h=ct(),g=ur(),y=u!==void 0,S=ct(),_=a?o.bind(S[qi][Wn]):o,C=new IC(y,_);S[Yt+n]=C,vC(h,g,n+1,e,t,r,i,Yd(g.consts,s)),y&&vC(h,g,n+2,u,c,l,d,Yd(g.consts,f))}var DC=class extends SC{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-_r}at(e){return this.getLView(e)[Wn].$implicit}attach(e,t){let r=t[Op];this.needsIndexUpdate||=e!==this.length,Bv(this.lContainer,t,e,qp(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Gte(this.lContainer,e)}create(e,t){let r=Gp(this.lContainer,this.templateTNode.tView.ssrId),i=Lv(this.hostLView,this.templateTNode,new CC(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Fv(e[Ue],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Wn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Wn].$index=e}getLView(e){return Wte(this.lContainer,e)}};function ma(n){let e=ot(null),t=fa();try{let r=ct(),i=r[Ue],s=r[t],o=t+1,a=Ev(r,o);if(s.liveCollection===void 0){let c=xC(i,o);s.liveCollection=new DC(a,r,c)}else s.liveCollection.reset();let u=s.liveCollection;if(zte(u,n,s.trackByFn),u.updateIndexes(),s.hasEmptyBlock){let c=Zp(),l=u.length===0;if(Ss(r,c,l)){let d=t+2,f=Ev(r,d);if(l){let h=xC(i,d),g=Gp(f,h.tView.ssrId),y=Lv(r,h,void 0,{dehydratedView:g});Bv(f,y,0,qp(h,g))}else YP(f,0)}}}finally{ot(e)}}function Ev(n,e){return n[e]}function Gte(n,e){return Hp(n,e)}function Wte(n,e){return QP(n,e)}function xC(n,e){return GC(n,e)}function k(n,e,t,r){let i=ct(),s=ur(),o=Yt+n,a=i[Un],u=s.firstCreatePass?iL(o,s,i,e,LP,C4(),t,r):s.data[o],c=Kte(s,i,u,a,e,n);i[o]=c;let l=zC(u);return Yp(u,!0),AP(a,c,u),!E2(u)&&n2()&&S2(s,i,c,u),(BY()===0||l)&&Xp(c,i),VY(),l&&(y2(s,i,u),EP(s,u,i)),r!==null&&OP(i,u),k}function M(){let n=ni();D4()?GY():(n=n.parent,Yp(n,!1));let e=n;HY(e)&&$Y(),qY();let t=ur();return t.firstCreatePass&&sL(t,e),e.classesWithoutHost!=null&&oJ(e)&&wC(t,e,ct(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aJ(e)&&wC(t,e,ct(),e.stylesWithoutHost,!1),M}function Ne(n,e,t,r){return k(n,e,t,r),M(),Ne}var Kte=(n,e,t,r,i,s)=>(r2(!0),DP(r,i,nJ()));function tt(){return ct()}var Wc=void 0;function Qte(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var Yte=["en",[["a","p"],["AM","PM"],Wc],[["AM","PM"],Wc,Wc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wc,"{1} 'at' {0}",Wc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Qte],kT={};function Hi(n){let e=Jte(n),t=F8(e);if(t)return t;let r=e.split("-")[0];if(t=F8(r),t)return t;if(r==="en")return Yte;throw new be(701,!1)}function F8(n){return n in kT||(kT[n]=hu.ng&&hu.ng.common&&hu.ng.common.locales&&hu.ng.common.locales[n]),kT[n]}var Bn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Bn||{});function Jte(n){return n.toLowerCase().replace(/_/g,"-")}var wv="en-US";var Zte=wv;function Xte(n){typeof n=="string"&&(Zte=n.toLowerCase().replace(/_/g,"-"))}function U8(n,e,t){return function r(i){if(i===Function)return t;let s=ul(n)?co(n.index,e):e;I2(s,5);let o=e[Wn],a=B8(e,o,t,i),u=r.__ngNextListenerFn__;for(;u;)a=B8(e,o,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function B8(n,e,t,r){let i=ot(null);try{return Qt(6,e,t),t(r)!==!1}catch(s){return ene(n,s),!1}finally{Qt(7,e,t),ot(i)}}function ene(n,e){let t=n[Wd],r=t?t.get(lo,null):null;r&&r.handleError(e)}function V8(n,e,t,r,i,s){let o=e[t],a=e[Ue],c=a.data[t].outputs[r],l=o[c],d=a.firstCreatePass?YC(a):null,f=QC(e),h=l.subscribe(s),g=f.length;f.push(s,h),d&&d.push(i,n.index,g,-(g+1))}function he(n,e,t,r){let i=ct(),s=ur(),o=ni();return nne(s,i,i[Un],o,n,e,r),he}function tne(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Pp],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function nne(n,e,t,r,i,s,o){let a=zC(r),c=n.firstCreatePass?YC(n):null,l=QC(e),d=!0;if(r.type&3||o){let f=fo(r,e),h=o?o(f):f,g=l.length,y=o?_=>o(mn(_[r.index])):r.index,S=null;if(!o&&a&&(S=tne(n,e,i,r.index)),S!==null){let _=S.__ngLastListenerFn__||S;_.__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,d=!1}else{s=U8(r,e,s),dZ(e,h,i,s);let _=t.listen(h,i,s);l.push(s,_),c&&c.push(i,y,g,g+1)}}else s=U8(r,e,s);if(d){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let g=0;g<h.length;g+=2){let y=h[g],S=h[g+1];V8(r,e,y,S,i,s)}if(f&&f.length)for(let g of f)V8(r,e,g,i,i,s)}}function ue(n=1){return tJ(n)}function U2(n,e,t){return NL(n,"",e,"",t),U2}function NL(n,e,t,r,i){let s=ct(),o=EL(s,e,t,r);if(o!==ii){let a=ur(),u=t2();PP(a,u,s,n,o,s[Un],i,!1)}return NL}function RL(n,e,t,r){Hee(n,e,t,r)}function im(n,e,t){jee(n,e,t)}function fl(n){let e=ct(),t=ur(),r=A4();ZC(r+1);let i=A2(t,r);if(n.dirty&&OY(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=Gee(e,r);n.reset(s,RJ),n.notifyOnChanges()}return!0}return!1}function hl(){return qee(ct(),A4())}function kL(n){let e=WY();return WC(e,Yt+n)}function F(n,e=""){let t=ct(),r=ur(),i=n+Yt,s=r.firstCreatePass?x2(r,i,1,e,null):r.data[i],o=rne(r,t,s,e,n);t[i]=o,n2()&&S2(r,t,o,s),Yp(s,!1)}var rne=(n,e,t,r,i)=>(r2(!0),FZ(e[Un],r));function St(n){return lt("",n,""),St}function lt(n,e,t){let r=ct(),i=EL(r,n,e,t);return i!==ii&&ML(r,fa(),i),lt}function B2(n,e,t,r,i){let s=ct(),o=Tte(s,n,e,t,r,i);return o!==ii&&ML(s,fa(),o),B2}function ML(n,e,t){let r=E4(e,n);UZ(n[Un],r,t)}function ine(n,e,t){let r=ur();if(r.firstCreatePass){let i=uo(n);AC(t,r.data,r.blueprint,i,!0),AC(e,r.data,r.blueprint,i,!1)}}function AC(n,e,t,r,i){if(n=$r(n),Array.isArray(n))for(let s=0;s<n.length;s++)AC(n[s],e,t,r,i);else{let s=ur(),o=ct(),a=ni(),u=Gd(n)?n:$r(n.provide),c=f4(n),l=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Gd(n)||!n.multi){let h=new sl(c,i,Fe),g=OT(u,e,i?l:l+f,d);g===-1?(KT(iv(a,o),s,u),MT(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),o.push(h)):(t[g]=h,o[g]=h)}else{let h=OT(u,e,l+f,d),g=OT(u,e,l,l+f),y=h>=0&&t[h],S=g>=0&&t[g];if(i&&!S||!i&&!y){KT(iv(a,o),s,u);let _=ane(i?one:sne,t.length,i,r,c);!i&&S&&(t[g].providerFactory=_),MT(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),o.push(_)}else{let _=OL(t[i?g:h],c,!i&&r);MT(s,n,h>-1?h:g,_)}!i&&r&&S&&t[g].componentProviders++}}}function MT(n,e,t,r){let i=Gd(e),s=bY(e);if(i||s){let u=(s?$r(e.useClass):e).prototype.ngOnDestroy;if(u){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let l=c.indexOf(t);l===-1?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function OL(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function OT(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function sne(n,e,t,r,i){return NC(this.multi,[])}function one(n,e,t,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Up(r,r[Ue],this.providerFactory.index,i);o=u.slice(0,a),NC(s,o);for(let c=a;c<u.length;c++)o.push(u[c])}else o=[],NC(s,o);return o}function NC(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function ane(n,e,t,r,i){let s=new sl(n,t,Fe);return s.multi=[],s.index=e,s.componentProviders=0,OL(s,i,r&&!t),s}function pl(n,e=[]){return t=>{t.providersResolver=(r,i)=>ine(r,i?i(n):n,e)}}function V2(n,e,t){let r=Jp()+n,i=ct();return i[r]===ii?qv(i,r,t?e.call(t):e()):mte(i,r)}function uf(n,e,t,r){return LL(ct(),Jp(),n,e,t,r)}function PL(n,e,t,r,i,s){return cne(ct(),Jp(),n,e,t,r,i,s)}function q2(n,e){let t=n[e];return t===ii?void 0:t}function LL(n,e,t,r,i,s){let o=e+t;return Ss(n,o,i)?qv(n,o+1,s?r.call(s,i):r(i)):q2(n,o+1)}function une(n,e,t,r,i,s,o){let a=e+t;return k2(n,a,i,s)?qv(n,a+2,o?r.call(o,i,s):r(i,s)):q2(n,a+2)}function cne(n,e,t,r,i,s,o,a){let u=e+t;return gte(n,u,i,s,o)?qv(n,u+3,a?r.call(a,i,s,o):r(i,s,o)):q2(n,u+3)}function Rr(n,e){let t=ur(),r,i=n+Yt;t.firstCreatePass?(r=lne(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=Zc(r.type,!0)),o,a=ei(Fe);try{let u=rv(!1),c=s();return rv(u),MY(t,ct(),i,c),c}finally{ei(a)}}function lne(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function ho(n,e,t){let r=n+Yt,i=ct(),s=WC(i,r);return FL(i,r)?LL(i,Jp(),e,s.transform,t,s):s.transform(t)}function ml(n,e,t,r){let i=n+Yt,s=ct(),o=WC(s,i);return FL(s,i)?une(s,Jp(),e,o.transform,t,r,o):o.transform(t,r)}function FL(n,e){return n[Ue].data[e].pure}var qy=null;function dne(n){qy!==null&&(n.defaultEncapsulation!==qy.defaultEncapsulation||n.preserveWhitespaces!==qy.preserveWhitespaces)||(qy=n)}var fne=[];var hne=new WeakMap,pne=new WeakMap;function mne(){hne=new WeakMap,pne=new WeakMap,fne.length=0,ste.clear()}var vu=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},UL=new vu("19.2.14"),RC=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},zv=(()=>{class n{compileModuleSync(t){return new yv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=u4(t),s=CP(i.declarations).reduce((o,a)=>{let u=yu(a);return u&&o.push(new Zd(u)),o},[]);return new RC(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gne=new le("");function yne(n,e,t){let r=new yv(t);return Promise.resolve(r)}function q8(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var vne=(()=>{class n{zone=$(_t);changeDetectionScheduler=$(ca);applicationRef=$(Ts);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BL({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _t(me(K({},VL()),{scheduleInRootZone:t})),[{provide:_t,useFactory:n},{provide:kp,multi:!0,useFactory:()=>{let r=$(vne,{optional:!0});return()=>r.initialize()}},{provide:kp,multi:!0,useFactory:()=>{let r=$(bne);return()=>{r.initialize()}}},e===!0?{provide:Z4,useValue:!0}:[],{provide:X4,useValue:t??Y4}]}function VL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var bne=(()=>{class n{subscription=new Dn;initialized=!1;zone=$(_t);pendingTasks=$(bu);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_t.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_t.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qL=(()=>{class n{appRef=$(Ts);taskService=$(bu);ngZone=$(_t);zonelessEnabled=$(J4);tracing=$(of,{optional:!0});disableScheduling=$(Z4,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Dn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ov):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(X4,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof av||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?a8:eP;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ov+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,a8(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _ne(){return typeof $localize<"u"&&$localize.locale||wv}var cf=new le("",{providedIn:"root",factory:()=>$(cf,it.Optional|it.SkipSelf)||_ne()});var Sv=new le(""),j2=new le("");function xp(n){return!n.moduleRef}function jL(n){let e=xp(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_t);return t.run(()=>{xp(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(lo,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),xp(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Sv);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(Sv);o.add(s),n.moduleRef.onDestroy(()=>{Wy(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return wne(r,t,()=>{let s=e.get(vL);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(cf,wv);if(Xte(o||wv),!e.get(j2,!0))return xp(n)?e.get(Ts):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(xp(n)){let u=e.get(Ts);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return Ene(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function Ene(n,e){let t=n.injector.get(Ts);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new be(-403,!1);e.push(n)}function wne(n,e,t){try{let r=t();return wu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var HL=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,s=()=>DJ(r?.ngZone,me(K({},VL({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),o=r?.ignoreChangesOutsideZone,a=[BL({ngZoneFactory:s,ignoreChangesOutsideZone:o}),{provide:ca,useExisting:qL}],u=Xee(t.moduleType,this.injector,a);return jL({moduleRef:u,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=_L({},r);return yne(this.injector,i,t).then(s=>this.bootstrapModuleFactory(s,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(Sv,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||n)(Ae(Nt))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),gu=null,Gv=new le("");function Sne(n){if(gu&&!gu.get(Gv,!1))throw new be(400,!1);bL(),gu=n;let e=n.get(HL);return GL(n),e}function Wv(n,e,t=[]){let r=`Platform: ${e}`,i=new le(r);return(s=[])=>{let o=zL();if(!o||o.injector.get(Gv,!1)){let a=[...t,...s,{provide:i,useValue:!0}];n?n(a):Sne($L(a,r))}return Tne(i)}}function $L(n=[],e){return Nt.create({name:e,providers:[{provide:xv,useValue:"platform"},{provide:Sv,useValue:new Set([()=>gu=null])},...n]})}function Tne(n){let e=zL();if(!e)throw new be(401,!1);return e}function zL(){return gu?.get(HL)??null}function Cne(n=[]){if(gu)return gu;let e=$L(n);return gu=e,bL(),GL(e),e}function GL(n){let e=n.get(em,null);ir(n,()=>{e?.forEach(t=>t())})}function H2(){return!1}var $i=(()=>{class n{static __NG_ELEMENT_ID__=Ine}return n})();function Ine(n){return Dne(ni(),ct(),(n&16)===16)}function Dne(n,e,t){if(ul(n)&&!t){let r=co(n.index,e);return new $p(r,r)}else if(n.type&175){let r=e[qi];return new $p(r,e)}return null}var kC=class{constructor(){}supports(e){return hL(e)}create(e){return new MC(e)}},xne=(n,e)=>e,MC=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||xne}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<j8(r,i,s)?t:r,a=j8(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,l=u-i;if(c!=l){for(let f=0;f<c;f++){let h=f<s.length?s[f]:s[f]=0,g=h+f;l<=g&&g<c&&(s[f]=h+1)}let d=o.previousIndex;s[d]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!hL(e))throw new be(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,hte(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new OC(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Tv),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Tv),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},OC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},PC=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Tv=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new PC,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function j8(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function H8(){return new $2([new kC])}var $2=(()=>{class n{factories;static \u0275prov=fe({token:n,providedIn:"root",factory:H8});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||H8()),deps:[[n,new uY,new Kn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new be(901,!1)}}return n})();var z2=Wv(null,"core",[]);function WL(n){Qt(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Cne(r),s=[BL({}),{provide:ca,useExisting:qL},...t||[]],o=new vv({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return jL({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Qt(9)}}function Ane(n,e,t){let r=new Map,i=e[Pp],s=n.cleanup;if(!s||!i)return r;for(let o=0;o<s.length;){let a=s[o++],u=s[o++];if(typeof a!="string")continue;let c=a;if(!W6(c))continue;G6(c)?t.capture.add(c):t.regular.add(c);let l=mn(e[u]);o++;let d=s[o++];(typeof d=="boolean"||d>=0)&&(r.has(l)?r.get(l).push(c):r.set(l,[c]))}return r}var LC=class{views=[];indexByContent=new Map;add(e){let t=JSON.stringify(e);if(!this.indexByContent.has(t)){let r=this.views.length;return this.views.push(e),this.indexByContent.set(t,r),r}return this.indexByContent.get(t)}getAll(){return this.views}},Nne=0;function KL(n){return n.ssrId||(n.ssrId=`t${Nne++}`),n.ssrId}function QL(n,e,t){let r=[];return jp(n,e,t,r),r.length}function Rne(n){let e=[];return C2(n,e),e.length}function YL(n,e,t){let r=n[Er];return r&&!r.hasAttribute(uv)?Cv(r,n,null,e):null}function JL(n,e,t){let r=_4(n[Er]),i=YL(r,e);if(i===null)return;let s=mn(r[Er]),o=n[wr],a=Cv(s,o,null,e),u=r[Un],c=`${i}|${a}`;u.setAttribute(s,gP,c)}function ZL(n,e){let t=n.injector,r=nee(t),i=vZ(t),s=new LC,o=new Map,a=n._views,u=t.get(QJ,YJ),c={regular:new Set,capture:new Set},l=new Map;n.injector.get(_u);for(let h of a){let g=yZ(h);if(g!==null){let y={serializedViewCollection:s,corruptedTextNodes:o,isI18nHydrationEnabled:r,isIncrementalHydrationEnabled:i,i18nChildren:new Map,eventTypesToReplay:c,shouldReplayEvents:u,deferBlocks:l};ji(g)?JL(g,y):YL(g,y),Lne(o,e)}}let d=s.getAll(),f=t.get(Ov);if(f.set(hZ,d),l.size>0){let h={};for(let[g,y]of l.entries())h[g]=y;f.set(mZ,h)}return c}function kne(n,e,t,r,i){let s=[],o="";for(let a=_r;a<n.length;a++){let u=n[a],c,l,d;if(Qd(u)&&(u=u[Yt],ji(u))){l=Rne(u)+1,JL(u,i);let h=_4(u[Er]);d={[g8]:h[Ue].ssrId,[wT]:l}}if(!d){let h=u[Ue];h.type===1?(c=h.ssrId,l=1):(c=KL(h),l=QL(h,u,h.firstChild)),d={[g8]:c,[wT]:l};let g=!1;if(oZ(t[Ue],e)){let y=iZ(t,e),S=pP(t[Ue],e);if(i.isIncrementalHydrationEnabled&&S.hydrateTriggers!==null){let _=`d${i.deferBlocks.size}`;S.hydrateTriggers.has(7)&&(g=!0);let C=[];C2(n,C);let I={[wT]:C.length,[b8]:y[E8]},T=Mne(S.hydrateTriggers);T.length>0&&(I[GJ]=T),r!==null&&(I[zJ]=r),i.deferBlocks.set(_,I);let x=mn(n);x!==void 0?x.nodeType===Node.COMMENT_NODE&&$8(x,_):$8(x,_),g||Une(S,C,_,i),r=_,d[$J]=_}d[b8]=y[E8]}g||Object.assign(d,XL(n[a],r,i))}let f=JSON.stringify(d);if(s.length>0&&f===o){let h=s[s.length-1];h[m8]??=1,h[m8]++}else o=f,s.push(d)}return s}function Mne(n){let e=new Set([0,1,2,5]),t=[];for(let[r,i]of n)e.has(r)&&(i===null?t.push(r):t.push({trigger:r,delay:i.delay}));return t}function Rp(n,e,t,r){let i=e.index-Yt;n[y8]??={},n[y8][i]??=XX(e,t,r)}function PT(n,e){let t=typeof e=="number"?e:e.index-Yt;n[ST]??=[],n[ST].includes(t)||n[ST].push(t)}function XL(n,e=null,t){let r={},i=n[Ue],s=ree(i,t),o=t.shouldReplayEvents?Ane(i,n,t.eventTypesToReplay):null;for(let a=Yt;a<i.bindingStartIndex;a++){let u=i.data[a],c=a-Yt,l=see(n,a,t);if(l){r[v8]??={},r[v8][c]=l.caseQueue;for(let d of l.disconnectedNodes)PT(r,d);for(let d of l.disjointNodes){let f=i.data[d+Yt];Rp(r,f,n,s)}continue}if(U4(u)&&!E2(u)){if(zp(u,n)&&Fne(u)){PT(r,u);continue}if(Array.isArray(u.projection)){for(let d of u.projection)if(d)if(!Array.isArray(d))!m4(d)&&!cv(d)&&(zp(d,n)?PT(r,d):Rp(r,d,n,s));else throw FX(mn(n[a]))}if(One(r,u,n,s),ji(n[a])){let d=u.tView;d!==null&&(r[h8]??={},r[h8][c]=KL(d));let f=n[a][Er];if(Array.isArray(f)){let h=mn(f);h.hasAttribute(uv)||Cv(h,f,e,t)}r[p8]??={},r[p8][c]=kne(n[a],u,n,e,t)}else if(Array.isArray(n[a])&&!sJ(u)){let d=mn(n[a][Er]);d.hasAttribute(uv)||Cv(d,n[a],e,t)}else if(u.type&8)r[f8]??={},r[f8][c]=QL(i,n,u.child);else if(u.type&144){let d=u.next;for(;d!==null&&d.type&144;)d=d.next;d&&!cv(d)&&Rp(r,d,n,s)}else if(u.type&1){let d=mn(n[a]);bP(t,d)}if(o&&u.type&2){let d=mn(n[a]);o.has(d)&&mP(d,o.get(d),e)}}}return r}function One(n,e,t,r){m4(e)||(e.projectionNext&&e.projectionNext!==e.next&&!cv(e.projectionNext)&&Rp(n,e.projectionNext,t,r),e.prev===null&&e.parent!==null&&zp(e.parent,t)&&!zp(e,t)&&Rp(n,e,t,r))}function Pne(n){let e=n[Wn];return e?.constructor?yu(e.constructor)?.encapsulation===ws.ShadowDom:!1}function Cv(n,e,t,r){let i=e[Un];if(DY(e)&&!tee()||Pne(e))return i.setAttribute(n,uv,""),null;{let s=XL(e,t,r),o=r.serializedViewCollection.add(s);return i.setAttribute(n,gP,o.toString()),o}}function $8(n,e){n.textContent=`ngh=${e}`}function Lne(n,e){for(let[t,r]of n)t.after(e.createComment(r))}function Fne(n){let e=n;for(;e!=null;){if(ul(e))return!0;e=e.parent}return!1}function Une(n,e,t,r){let i=bZ(n.hydrateTriggers);for(let s of i)r.eventTypesToReplay.regular.add(s);if(i.length>0){let s=e.filter(o=>o.nodeType===Node.ELEMENT_NODE);for(let o of s)mP(o,i,t)}}function lf(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var Bne="\u{1F170}\uFE0F",e5=!1;function zi(n){if(!e5)return;let{startLabel:e}=t5(n);performance.mark(e)}function Gi(n){if(!e5)return;let{startLabel:e,labelName:t,endLabel:r}=t5(n);performance.mark(r),performance.measure(t,e,r),performance.clearMarks(e),performance.clearMarks(r)}function t5(n){let e=`${Bne}:${n}`;return{labelName:e,startLabel:`start:${e}`,endLabel:`end:${e}`}}function Wi(n){return ZS(n)}function df(n,e){return KS(n,e?.equal)}var FC=class{[ps];constructor(e){this[ps]=e}destroy(){this[ps].destroy()}};function Su(n,e){!e?.injector&&Av(Su);let t=e?.injector??$(Nt),r=e?.manualCleanup!==!0?t.get(ha):null,i,s=t.get(c2,null,{optional:!0}),o=t.get(ca);return s!==null&&!e?.forceRoot?(i=jne(s.view,o,n),r instanceof sv&&r._lView===s.view&&(r=null)):i=Hne(n,t.get(gL),o),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new FC(i)}var n5=me(K({},xd),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Bp,run(){if(this.dirty=!1,this.hasRun&&!oy(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=Ep(this),t=ev(!1);try{this.maybeCleanup(),this.fn(n)}finally{ev(t),sy(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),Vne=me(K({},n5),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){wp(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),qne=me(K({},n5),{consumerMarkedDirty(){this.view[We]|=8192,rf(this.view),this.notifier.notify(13)},destroy(){wp(this),this.onDestroyFn(),this.maybeCleanup(),this.view[tl]?.delete(this)}});function jne(n,e,t){let r=Object.create(qne);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[tl]??=new Set,n[tl].add(r),r.consumerMarkedDirty(r),r}function Hne(n,e,t){let r=Object.create(Vne);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}function r5(n){let e=yu(n);if(!e)return null;let t=new Zd(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}function i5(...n){return n.reduce((e,t)=>Object.assign(e,t,{providers:[...e.providers,...t.providers]}),{providers:[]})}var s5=new le("",{providedIn:"platform",factory:()=>null}),o5=new le("",{providedIn:"platform",factory:()=>null}),a5=new le("",{providedIn:"platform",factory:()=>null});var dn=new le("");var l5=null;function kr(){return l5}function om(n){l5??=n}var sm=class{},po=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>$(d5),providedIn:"platform"})}return n})(),G2=new le(""),d5=(()=>{class n extends po{_location;_history;_doc=$(dn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kr().getBaseHref(this._doc)}onPopState(t){let r=kr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=kr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Kv(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function u5(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ns(n){return n&&n[0]!=="?"?`?${n}`:n}var Rs=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>$(Qv),providedIn:"root"})}return n})(),ff=new le(""),Qv=(()=>{class n extends Rs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Kv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ns(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ns(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ns(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ae(po),Ae(ff,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tu=(()=>{class n{_subject=new En;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Gne(u5(c5(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ns(r))}normalize(t){return n.stripTrailingSlash(zne(this._basePath,c5(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ns(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ns(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ns;static joinWithSlash=Kv;static stripTrailingSlash=u5;static \u0275fac=function(r){return new(r||n)(Ae(Rs))};static \u0275prov=fe({token:n,factory:()=>$ne(),providedIn:"root"})}return n})();function $ne(){return new Tu(Ae(Rs))}function zne(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function c5(n){return n.replace(/\/index.html$/,"")}function Gne(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var X2=(()=>{class n extends Rs{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Kv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ns(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ns(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Ae(po),Ae(ff,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();var Mr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Mr||{}),Jt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Jt||{}),oi=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(oi||{}),ya={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function g5(n){return Hi(n)[Bn.LocaleId]}function y5(n,e,t){let r=Hi(n),i=[r[Bn.DayPeriodsFormat],r[Bn.DayPeriodsStandalone]],s=Ki(i,e);return Ki(s,t)}function v5(n,e,t){let r=Hi(n),i=[r[Bn.DaysFormat],r[Bn.DaysStandalone]],s=Ki(i,e);return Ki(s,t)}function b5(n,e,t){let r=Hi(n),i=[r[Bn.MonthsFormat],r[Bn.MonthsStandalone]],s=Ki(i,e);return Ki(s,t)}function _5(n,e){let r=Hi(n)[Bn.Eras];return Ki(r,e)}function am(n,e){let t=Hi(n);return Ki(t[Bn.DateFormat],e)}function um(n,e){let t=Hi(n);return Ki(t[Bn.TimeFormat],e)}function cm(n,e){let r=Hi(n)[Bn.DateTimeFormat];return Ki(r,e)}function lm(n,e){let t=Hi(n),r=t[Bn.NumberSymbols][e];if(typeof r>"u"){if(e===ya.CurrencyDecimal)return t[Bn.NumberSymbols][ya.Decimal];if(e===ya.CurrencyGroup)return t[Bn.NumberSymbols][ya.Group]}return r}function E5(n){if(!n[Bn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Bn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function w5(n){let e=Hi(n);return E5(e),(e[Bn.ExtraData][2]||[]).map(r=>typeof r=="string"?W2(r):[W2(r[0]),W2(r[1])])}function S5(n,e,t){let r=Hi(n);E5(r);let i=[r[Bn.ExtraData][0],r[Bn.ExtraData][1]],s=Ki(i,e)||[];return Ki(s,t)||[]}function Ki(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function W2(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var Wne=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yv={},Kne=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function T5(n,e,t,r){let i=rre(n);e=ga(t,e)||e;let o=[],a;for(;e;)if(a=Kne.exec(e),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;e=l}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=I5(r,u),i=nre(i,r));let c="";return o.forEach(l=>{let d=ere(l);c+=d?d(i,t,u):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function tb(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ga(n,e){let t=g5(n);if(Yv[t]??={},Yv[t][e])return Yv[t][e];let r="";switch(e){case"shortDate":r=am(n,oi.Short);break;case"mediumDate":r=am(n,oi.Medium);break;case"longDate":r=am(n,oi.Long);break;case"fullDate":r=am(n,oi.Full);break;case"shortTime":r=um(n,oi.Short);break;case"mediumTime":r=um(n,oi.Medium);break;case"longTime":r=um(n,oi.Long);break;case"fullTime":r=um(n,oi.Full);break;case"short":let i=ga(n,"shortTime"),s=ga(n,"shortDate");r=Jv(cm(n,oi.Short),[i,s]);break;case"medium":let o=ga(n,"mediumTime"),a=ga(n,"mediumDate");r=Jv(cm(n,oi.Medium),[o,a]);break;case"long":let u=ga(n,"longTime"),c=ga(n,"longDate");r=Jv(cm(n,oi.Long),[u,c]);break;case"full":let l=ga(n,"fullTime"),d=ga(n,"fullDate");r=Jv(cm(n,oi.Full),[l,d]);break}return r&&(Yv[t][e]=r),r}function Jv(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function ks(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Qne(n,e){return ks(n,3).substring(0,e)}function Qn(n,e,t=0,r=!1,i=!1){return function(s,o){let a=Yne(n,s);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return Qne(a,e);let u=lm(o,ya.MinusSign);return ks(a,e,u,r,i)}}function Yne(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function on(n,e,t=Mr.Format,r=!1){return function(i,s){return Jne(i,s,n,e,t,r)}}function Jne(n,e,t,r,i,s){switch(t){case 2:return b5(e,i,r)[n.getMonth()];case 1:return v5(e,i,r)[n.getDay()];case 0:let o=n.getHours(),a=n.getMinutes();if(s){let c=w5(e),l=S5(e,i,r),d=c.findIndex(f=>{if(Array.isArray(f)){let[h,g]=f,y=o>=h.hours&&a>=h.minutes,S=o<g.hours||o===g.hours&&a<g.minutes;if(h.hours<g.hours){if(y&&S)return!0}else if(y||S)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return y5(e,i,r)[o<12?0:1];case 3:return _5(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new Error(`unexpected translation type ${u}`)}}function Zv(n){return function(e,t,r){let i=-1*r,s=lm(t,ya.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+ks(o,2,s)+ks(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+ks(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+ks(o,2,s)+":"+ks(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+ks(o,2,s)+":"+ks(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var Zne=0,eb=4;function Xne(n){let e=tb(n,Zne,1).getDay();return tb(n,0,1+(e<=eb?eb:eb+7)-e)}function C5(n){let e=n.getDay(),t=e===0?-3:eb-e;return tb(n.getFullYear(),n.getMonth(),n.getDate()+t)}function K2(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=C5(t),o=Xne(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return ks(i,n,lm(r,ya.MinusSign))}}function Xv(n,e=!1){return function(t,r){let s=C5(t).getFullYear();return ks(s,n,lm(r,ya.MinusSign),e)}}var Q2={};function ere(n){if(Q2[n])return Q2[n];let e;switch(n){case"G":case"GG":case"GGG":e=on(3,Jt.Abbreviated);break;case"GGGG":e=on(3,Jt.Wide);break;case"GGGGG":e=on(3,Jt.Narrow);break;case"y":e=Qn(0,1,0,!1,!0);break;case"yy":e=Qn(0,2,0,!0,!0);break;case"yyy":e=Qn(0,3,0,!1,!0);break;case"yyyy":e=Qn(0,4,0,!1,!0);break;case"Y":e=Xv(1);break;case"YY":e=Xv(2,!0);break;case"YYY":e=Xv(3);break;case"YYYY":e=Xv(4);break;case"M":case"L":e=Qn(1,1,1);break;case"MM":case"LL":e=Qn(1,2,1);break;case"MMM":e=on(2,Jt.Abbreviated);break;case"MMMM":e=on(2,Jt.Wide);break;case"MMMMM":e=on(2,Jt.Narrow);break;case"LLL":e=on(2,Jt.Abbreviated,Mr.Standalone);break;case"LLLL":e=on(2,Jt.Wide,Mr.Standalone);break;case"LLLLL":e=on(2,Jt.Narrow,Mr.Standalone);break;case"w":e=K2(1);break;case"ww":e=K2(2);break;case"W":e=K2(1,!0);break;case"d":e=Qn(2,1);break;case"dd":e=Qn(2,2);break;case"c":case"cc":e=Qn(7,1);break;case"ccc":e=on(1,Jt.Abbreviated,Mr.Standalone);break;case"cccc":e=on(1,Jt.Wide,Mr.Standalone);break;case"ccccc":e=on(1,Jt.Narrow,Mr.Standalone);break;case"cccccc":e=on(1,Jt.Short,Mr.Standalone);break;case"E":case"EE":case"EEE":e=on(1,Jt.Abbreviated);break;case"EEEE":e=on(1,Jt.Wide);break;case"EEEEE":e=on(1,Jt.Narrow);break;case"EEEEEE":e=on(1,Jt.Short);break;case"a":case"aa":case"aaa":e=on(0,Jt.Abbreviated);break;case"aaaa":e=on(0,Jt.Wide);break;case"aaaaa":e=on(0,Jt.Narrow);break;case"b":case"bb":case"bbb":e=on(0,Jt.Abbreviated,Mr.Standalone,!0);break;case"bbbb":e=on(0,Jt.Wide,Mr.Standalone,!0);break;case"bbbbb":e=on(0,Jt.Narrow,Mr.Standalone,!0);break;case"B":case"BB":case"BBB":e=on(0,Jt.Abbreviated,Mr.Format,!0);break;case"BBBB":e=on(0,Jt.Wide,Mr.Format,!0);break;case"BBBBB":e=on(0,Jt.Narrow,Mr.Format,!0);break;case"h":e=Qn(3,1,-12);break;case"hh":e=Qn(3,2,-12);break;case"H":e=Qn(3,1);break;case"HH":e=Qn(3,2);break;case"m":e=Qn(4,1);break;case"mm":e=Qn(4,2);break;case"s":e=Qn(5,1);break;case"ss":e=Qn(5,2);break;case"S":e=Qn(6,1);break;case"SS":e=Qn(6,2);break;case"SSS":e=Qn(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Zv(0);break;case"ZZZZZ":e=Zv(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Zv(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Zv(2);break;default:return null}return Q2[n]=e,e}function I5(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function tre(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function nre(n,e,t){let i=n.getTimezoneOffset(),s=I5(e,i);return tre(n,-1*(s-i))}function rre(n){if(f5(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(a=>+a);return tb(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Wne))return ire(r)}let e=new Date(n);if(!f5(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function ire(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,u,c),e}function f5(n){return n instanceof Date&&!isNaN(n.valueOf())}var Y2=/\s+/,h5=[],dm=(()=>{class n{_ngEl;_renderer;initialClasses=h5;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Y2):h5}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Y2):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Y2).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Fe(Nr),Fe(si))};static \u0275dir=wn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var nb=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ai=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new nb(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),p5(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);p5(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Fe(Eu),Fe(ol),Fe($2))};static \u0275dir=wn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function p5(n,e){n.context.$implicit=e.item}var Sn=(()=>{class n{_viewContainer;_context=new rb;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){m5(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){m5(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Fe(Eu),Fe(ol))};static \u0275dir=wn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),rb=class{$implicit=null;ngIf=null};function m5(n,e){if(n&&!n.createEmbeddedView)throw new be(2020,!1)}function D5(n,e){return new be(2100,!1)}var J2=class{createSubscription(e,t){return Wi(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Wi(()=>e.unsubscribe())}},Z2=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},sre=new Z2,ore=new J2,gl=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(wu(t))return sre;if(P2(t))return ore;throw D5(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Fe($i,16))};static \u0275pipe=R2({name:"async",type:n,pure:!1})}return n})();var are="mediumDate",x5=new le(""),A5=new le(""),yl=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??are,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return T5(t,o,s||this.locale,a)}catch(o){throw D5(n,o.message)}}static \u0275fac=function(r){return new(r||n)(Fe(cf,16),Fe(x5,24),Fe(A5,24))};static \u0275pipe=R2({name:"date",type:n,pure:!0})}return n})();var jt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xs({type:n});static \u0275inj=Cs({})}return n})();function eI(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ib="browser",sb="server";function va(n){return n===ib}function ob(n){return n===sb}var vl=class{};var ab=(()=>{class n{static \u0275prov=fe({token:n,providedIn:"root",factory:()=>new fm})}return n})();var fm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}};var bl=new le(""),iI=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new be(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Ae(bl),Ae(_t))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),Cu=class{_doc;constructor(e){this._doc=e}manager},ub="ng-app-id";function N5(n){for(let e of n)e.remove()}function R5(n,e){let t=e.createElement("style");return t.textContent=n,t}function ure(n,e,t,r){let i=n.head?.querySelectorAll(`style[${ub}="${e}"],link[${ub}="${e}"]`);if(i)for(let s of i)s.removeAttribute(ub),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function nI(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var sI=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ob(s),ure(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,R5);r?.forEach(i=>this.addUsage(i,this.external,nI))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(N5(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])N5(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,R5(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,nI(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ub,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Ae(dn),Ae(_u),Ae(tm,8),Ae(ri))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),tI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},oI=/%COMP%/g;var M5="%COMP%",cre=`_nghost-${M5}`,lre=`_ngcontent-${M5}`,dre=!0,fre=new le("",{providedIn:"root",factory:()=>dre});function hre(n){return lre.replace(oI,n)}function pre(n){return cre.replace(oI,n)}function O5(n,e){return e.map(t=>t.replace(oI,n))}var aI=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,u,c=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.tracingService=l,this.platformIsServer=ob(a),this.defaultRenderer=new hm(t,o,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ws.ShadowDom&&(r=me(K({},r),{encapsulation:ws.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof cb?i.applyToHost(t):i instanceof pm&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case ws.Emulated:s=new cb(u,c,r,this.appId,l,o,a,d,f);break;case ws.ShadowDom:return new rI(u,c,t,r,o,a,this.nonce,d,f);default:s=new pm(u,c,r,l,o,a,d,f);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Ae(iI),Ae(sI),Ae(_u),Ae(fre),Ae(dn),Ae(ri),Ae(_t),Ae(tm),Ae(of,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),hm=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(tI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(k5(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(k5(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new be(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=tI[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=tI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(la.DashCase|la.Important)?e.style.setProperty(t,r,i&la.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&la.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=kr().getGlobalEventTarget(this.doc,e),!e))throw new be(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function k5(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var rI=class extends hm{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,u,c){super(e,s,o,u,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=i.styles;l=O5(i.id,l);for(let f of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=nI(f,s);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pm=class extends hm{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,u,c){super(e,s,o,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?O5(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},cb=class extends pm{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,u,c){let l=i+"-"+r.id;super(e,t,r,s,o,a,u,c,l),this.contentAttr=hre(l),this.hostAttr=pre(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var _l=class n extends sm{supportsDOMEvents=!0;static makeCurrent(){om(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=mre();return t==null?null:gre(t)}resetBaseElement(){mm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return eI(document.cookie,e)}},mm=null;function mre(){return mm=mm||document.head.querySelector("base"),mm?mm.getAttribute("href"):null}function gre(n){return new URL(n,document.baseURI).pathname}var yre=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),L5=(()=>{class n extends Cu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(Ae(dn))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),P5=["alt","control","meta","shift"],vre={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bre={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},F5=(()=>{class n extends Cu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kr().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),P5.forEach(c=>{let l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=vre[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),P5.forEach(o=>{if(o!==i){let a=bre[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Ae(dn))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function uI(n,e){return WL(K({rootComponent:n},_re(e)))}function _re(n){return{appProviders:[...Cre,...n?.providers??[]],platformProviders:Tre}}function Ere(){_l.makeCurrent()}function wre(){return new lo}function Sre(){return Mv(document),document}var Tre=[{provide:ri,useValue:ib},{provide:em,useValue:Ere,multi:!0},{provide:dn,useFactory:Sre}];var Cre=[{provide:xv,useValue:"root"},{provide:lo,useFactory:wre},{provide:bl,useClass:L5,multi:!0,deps:[dn]},{provide:bl,useClass:F5,multi:!0,deps:[dn]},aI,sI,iI,{provide:Jd,useExisting:aI},{provide:vl,useClass:yre},[]];var Ire="X-Request-URL",Dre="text/plain",xre="application/json",N6e=`${xre}, ${Dre}, */*`;var cI=new le("");var R6e=RegExp(`^${Ire}:`,"m");var U5=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Ae(dn))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nt="primary",xm=Symbol("RouteTitle"),pI=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Sl(n){return new pI(n)}function G5(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Rre(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mo(n[t],e[t]))return!1;return!0}function mo(n,e){let t=n?mI(n):void 0,r=e?mI(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!W5(n[i],e[i]))return!1;return!0}function mI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function W5(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function K5(n){return n.length>0?n[n.length-1]:null}function Nu(n){return fT(n)?n:wu(n)?Xe(Promise.resolve(n)):xe(n)}var kre={exact:Y5,subset:J5},Q5={exact:Mre,subset:Ore,ignored:()=>!0};function B5(n,e,t){return kre[t.paths](n.root,e.root,t.matrixParams)&&Q5[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Mre(n,e){return mo(n,e)}function Y5(n,e,t){if(!El(n.segments,e.segments)||!fb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Y5(n.children[r],e.children[r],t))return!1;return!0}function Ore(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>W5(n[t],e[t]))}function J5(n,e,t){return Z5(n,e,e.segments,t)}function Z5(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!El(i,t)||e.hasChildren()||!fb(i,t,r))}else if(n.segments.length===t.length){if(!El(n.segments,t)||!fb(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!J5(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!El(n.segments,i)||!fb(n.segments,i,r)||!n.children[nt]?!1:Z5(n.children[nt],e,s,r)}}function fb(n,e,t){return e.every((r,i)=>Q5[t](n[i].parameters,r.parameters))}var yo=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Pt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Sl(this.queryParams),this._queryParamMap}toString(){return Fre.serialize(this)}},Pt=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hb(this)}},Iu=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Sl(this.parameters),this._parameterMap}toString(){return eF(this)}};function Pre(n,e){return El(n,e)&&n.every((t,r)=>mo(t.parameters,e[r].parameters))}function El(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Lre(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===nt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==nt&&(t=t.concat(e(i,r)))}),t}var Tl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>new Du,providedIn:"root"})}return n})(),Du=class{parse(e){let t=new yI(e);return new yo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${gm(e.root,!0)}`,r=Vre(e.queryParams),i=typeof e.fragment=="string"?`#${Ure(e.fragment)}`:"";return`${t}${r}${i}`}},Fre=new Du;function hb(n){return n.segments.map(e=>eF(e)).join("/")}function gm(n,e){if(!n.hasChildren())return hb(n);if(e){let t=n.children[nt]?gm(n.children[nt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==nt&&r.push(`${i}:${gm(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Lre(n,(r,i)=>i===nt?[gm(n.children[nt],!1)]:[`${i}:${gm(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[nt]!=null?`${hb(n)}/${t[0]}`:`${hb(n)}/(${t.join("//")})`}}function X5(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lb(n){return X5(n).replace(/%3B/gi,";")}function Ure(n){return encodeURI(n)}function gI(n){return X5(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pb(n){return decodeURIComponent(n)}function V5(n){return pb(n.replace(/\+/g,"%20"))}function eF(n){return`${gI(n.path)}${Bre(n.parameters)}`}function Bre(n){return Object.entries(n).map(([e,t])=>`;${gI(e)}=${gI(t)}`).join("")}function Vre(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${lb(t)}=${lb(i)}`).join("&"):`${lb(t)}=${lb(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var qre=/^[^\/()?;#]+/;function lI(n){let e=n.match(qre);return e?e[0]:""}var jre=/^[^\/()?;=#]+/;function Hre(n){let e=n.match(jre);return e?e[0]:""}var $re=/^[^=?&#]+/;function zre(n){let e=n.match($re);return e?e[0]:""}var Gre=/^[^&#]+/;function Wre(n){let e=n.match(Gre);return e?e[0]:""}var yI=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[nt]=new Pt(e,t)),r}parseSegment(){let e=lI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new be(4009,!1);return this.capture(e),new Iu(pb(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Hre(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=lI(this.remaining);i&&(r=i,this.capture(r))}e[pb(t)]=pb(r)}parseQueryParam(e){let t=zre(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Wre(this.remaining);o&&(r=o,this.capture(r))}let i=V5(t),s=V5(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=lI(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new be(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=nt);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[nt]:new Pt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new be(4011,!1)}};function tF(n){return n.segments.length>0?new Pt([],{[nt]:n}):n}function nF(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=nF(i);if(r===nt&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Pt(n.segments,e);return Kre(t)}function Kre(n){if(n.numberOfChildren===1&&n.children[nt]){let e=n.children[nt];return new Pt(n.segments.concat(e.segments),e.children)}return n}function xu(n){return n instanceof yo}function rF(n,e,t=null,r=null){let i=iF(n);return sF(i,e,t,r)}function iF(n){let e;function t(s){let o={};for(let u of s.children){let c=t(u);o[u.outlet]=c}let a=new Pt(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=tF(r);return e??i}function sF(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return dI(i,i,i,t,r);let s=Qre(e);if(s.toRoot())return dI(i,i,new Pt([],{}),t,r);let o=Yre(s,i,n),a=o.processChildren?vm(o.segmentGroup,o.index,s.commands):aF(o.segmentGroup,o.index,s.commands);return dI(i,o.segmentGroup,a,t,r)}function gb(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function _m(n){return typeof n=="object"&&n!=null&&n.outlets}function dI(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let o;n===e?o=t:o=oF(n,e,t);let a=tF(nF(o));return new yo(a,s,i)}function oF(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=oF(s,e,t)}),new Pt(n.segments,r)}var yb=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gb(r[0]))throw new be(4003,!1);let i=r.find(_m);if(i&&i!==K5(r))throw new be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Qre(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new yb(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new yb(t,e,r)}var mf=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Yre(n,e,t){if(n.isAbsolute)return new mf(e,!0,0);if(!t)return new mf(e,!1,NaN);if(t.parent===null)return new mf(t,!0,0);let r=gb(n.commands[0])?0:1,i=t.segments.length-1+r;return Jre(t,i,n.numberOfDoubleDots)}function Jre(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new be(4005,!1);i=r.segments.length}return new mf(r,!1,i-s)}function Zre(n){return _m(n[0])?n[0].outlets:{[nt]:n}}function aF(n,e,t){if(n??=new Pt([],{}),n.segments.length===0&&n.hasChildren())return vm(n,e,t);let r=Xre(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Pt(n.segments.slice(0,r.pathIndex),{});return s.children[nt]=new Pt(n.segments.slice(r.pathIndex),n.children),vm(s,0,i)}else return r.match&&i.length===0?new Pt(n.segments,{}):r.match&&!n.hasChildren()?vI(n,e,t):r.match?vm(n,0,i):vI(n,e,t)}function vm(n,e,t){if(t.length===0)return new Pt(n.segments,{});{let r=Zre(t),i={};if(Object.keys(r).some(s=>s!==nt)&&n.children[nt]&&n.numberOfChildren===1&&n.children[nt].segments.length===0){let s=vm(n.children[nt],e,t);return new Pt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=aF(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Pt(n.segments,i)}}function Xre(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(_m(a))break;let u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!j5(u,c,o))return s;r+=2}else{if(!j5(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function vI(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(_m(s)){let u=eie(s.outlets);return new Pt(r,u)}if(i===0&&gb(t[0])){let u=n.segments[e];r.push(new Iu(u.path,q5(t[0]))),i++;continue}let o=_m(s)?s.outlets[nt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&gb(a)?(r.push(new Iu(o,q5(a))),i+=2):(r.push(new Iu(o,{})),i++)}return new Pt(r,{})}function eie(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=vI(new Pt([],{}),0,r))}),e}function q5(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function j5(n,e,t){return n==t.path&&mo(e,t.parameters)}var mb="imperative",sr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(sr||{}),Si=class{id;url;constructor(e,t){this.id=e,this.url=t}},Au=class extends Si{type=sr.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ti=class extends Si{urlAfterRedirects;type=sr.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ui=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ui||{}),yf=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(yf||{}),go=class extends Si{reason;code;type=sr.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vo=class extends Si{reason;code;type=sr.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},vf=class extends Si{error;target;type=sr.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Em=class extends Si{urlAfterRedirects;state;type=sr.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vb=class extends Si{urlAfterRedirects;state;type=sr.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bb=class extends Si{urlAfterRedirects;state;shouldActivate;type=sr.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_b=class extends Si{urlAfterRedirects;state;type=sr.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eb=class extends Si{urlAfterRedirects;state;type=sr.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wb=class{route;type=sr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sb=class{route;type=sr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tb=class{snapshot;type=sr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cb=class{snapshot;type=sr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ib=class{snapshot;type=sr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Db=class{snapshot;type=sr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bf=class{routerEvent;position;anchor;type=sr.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},wm=class{},_f=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function tie(n,e){return n.providers&&!n._injector&&(n._injector=rm(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ms(n){return n.outlet||nt}function nie(n,e){let t=n.filter(r=>Ms(r)===e);return t.push(...n.filter(r=>Ms(r)!==e)),t}function Am(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var xb=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Am(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Cl(this.rootInjector)}},Cl=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xb(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Ae(xr))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ab=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=bI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=bI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=_I(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _I(e,this._root).map(t=>t.value)}};function bI(n,e){if(n===e.value)return e;for(let t of e.children){let r=bI(n,t);if(r)return r}return null}function _I(n,e){if(n===e.value)return[e];for(let t of e.children){let r=_I(n,t);if(r.length)return r.unshift(e),r}return[]}var wi=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function pf(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Sm=class extends Ab{snapshot;constructor(e,t){super(e),this.snapshot=t,xI(this,e)}toString(){return this.snapshot.toString()}};function uF(n){let e=rie(n),t=new Mn([new Iu("",{})]),r=new Mn({}),i=new Mn({}),s=new Mn({}),o=new Mn(""),a=new ci(t,r,s,o,i,nt,n,e.root);return a.snapshot=e.root,new Sm(new wi(a,[]),e)}function rie(n){let e={},t={},r={},i="",s=new wl([],e,r,i,t,nt,n,null,{});return new Tm("",new wi(s,[]))}var ci=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Ve(c=>c[xm]))??xe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ve(e=>Sl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ve(e=>Sl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nb(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:K(K({},e.params),n.params),data:K(K({},e.data),n.data),resolve:K(K(K(K({},n.data),e.data),i?.data),n._resolvedData)}:r={params:K({},n.params),data:K({},n.data),resolve:K(K({},n.data),n._resolvedData??{})},i&&lF(i)&&(r.resolve[xm]=i.title),r}var wl=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[xm]}constructor(e,t,r,i,s,o,a,u,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Sl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Sl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Tm=class extends Ab{url;constructor(e,t){super(t),this.url=e,xI(this,t)}toString(){return cF(this._root)}};function xI(n,e){e.value._routerState=n,e.children.forEach(t=>xI(n,t))}function cF(n){let e=n.children.length>0?` { ${n.children.map(cF).join(", ")} } `:"";return`${n.value}${e}`}function fI(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),mo(e.params,t.params)||n.paramsSubject.next(t.params),Rre(e.url,t.url)||n.urlSubject.next(t.url),mo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function EI(n,e){let t=mo(n.params,e.params)&&Pre(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||EI(n.parent,e.parent))}function lF(n){return typeof n.title=="string"||n.title===null}var dF=new le(""),Nm=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=nt;activateEvents=new Vt;deactivateEvents=new Vt;attachEvents=new Vt;detachEvents=new Vt;routerOutletData=nP(void 0);parentContexts=$(Cl);location=$(Eu);changeDetector=$($i);inputBinder=$(Rm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new be(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new be(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new wI(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=wn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ds]})}return n})(),wI=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ci?this.route:e===Cl?this.childContexts:e===dF?this.outletData:this.parent.get(e,t)}},Rm=new le(""),AI=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Gc([r.queryParams,r.params,r.data]).pipe(Ln(([s,o,a],u)=>(a=K(K(K({},s),o),a),u===0?xe(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=r5(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),NI=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ne(0,"router-outlet")},dependencies:[Nm],encapsulation:2})}return n})();function RI(n){let e=n.children&&n.children.map(RI),t=e?me(K({},n),{children:e}):K({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nt&&(t.component=NI),t}function iie(n,e,t){let r=Cm(n,e._root,t?t._root:void 0);return new Sm(r,e)}function Cm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=sie(n,e,t);return new wi(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Cm(n,a)),o}}let r=oie(e.value),i=e.children.map(s=>Cm(n,s));return new wi(r,i)}}function sie(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cm(n,r,i);return Cm(n,r)})}function oie(n){return new ci(new Mn(n.url),new Mn(n.params),new Mn(n.queryParams),new Mn(n.fragment),new Mn(n.data),n.outlet,n.component,n)}var Ef=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},fF="ngNavigationCancelingError";function Rb(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=xu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hF(!1,ui.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function hF(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[fF]=!0,t.cancellationCode=e,t}function aie(n){return pF(n)&&xu(n.url)}function pF(n){return!!n&&n[fF]}var uie=(n,e,t,r)=>Ve(i=>(new SI(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),SI=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),fI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=pf(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=pf(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=pf(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=pf(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Db(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Cb(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(fI(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),fI(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},kb=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},gf=class{component;route;constructor(e,t){this.component=e,this.route=t}};function cie(n,e,t){let r=n._root,i=e?e._root:null;return ym(r,i,t,[r.value])}function lie(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Sf(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!J8(n)?n:e.get(n):r}function ym(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=pf(e);return n.children.forEach(o=>{die(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>bm(a,t.getContext(o),i)),i}function die(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=fie(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new kb(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ym(n,e,a?a.children:null,r,i):ym(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new gf(a.outlet.component,o))}else o&&bm(e,a,i),i.canActivateChecks.push(new kb(r)),s.component?ym(n,null,a?a.children:null,r,i):ym(n,null,t,r,i);return i}function fie(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!El(n.url,e.url);case"pathParamsOrQueryParamsChange":return!El(n.url,e.url)||!mo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!EI(n,e)||!mo(n.queryParams,e.queryParams);case"paramsChange":default:return!EI(n,e)}}function bm(n,e,t){let r=pf(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?bm(o,e.children.getContext(s),t):bm(o,null,t):bm(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new gf(e.outlet.component,i)):t.canDeactivateChecks.push(new gf(null,i)):t.canDeactivateChecks.push(new gf(null,i))}function km(n){return typeof n=="function"}function hie(n){return typeof n=="boolean"}function pie(n){return n&&km(n.canLoad)}function mie(n){return n&&km(n.canActivate)}function gie(n){return n&&km(n.canActivateChild)}function yie(n){return n&&km(n.canDeactivate)}function vie(n){return n&&km(n.canMatch)}function mF(n){return n instanceof ys||n?.name==="EmptyError"}var db=Symbol("INITIAL_VALUE");function wf(){return Ln(n=>Gc(n.map(e=>e.pipe(vs(1),Fy(db)))).pipe(Ve(e=>{for(let t of e)if(t!==!0){if(t===db)return db;if(t===!1||bie(t))return t}return!0}),Xr(e=>e!==db),vs(1)))}function bie(n){return xu(n)||n instanceof Ef}function _ie(n,e){return On(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?xe(me(K({},t),{guardsResult:!0})):Eie(o,r,i,n).pipe(On(a=>a&&hie(a)?wie(r,s,n,e):xe(a)),Ve(a=>me(K({},t),{guardsResult:a})))})}function Eie(n,e,t,r){return Xe(n).pipe(On(i=>Die(i.component,i.route,t,e,r)),oa(i=>i!==!0,!0))}function wie(n,e,t,r){return Xe(e).pipe(du(i=>Ud(Tie(i.route.parent,r),Sie(i.route,r),Iie(n,i.path,t),Cie(n,i.route,t))),oa(i=>i!==!0,!0))}function Sie(n,e){return n!==null&&e&&e(new Ib(n)),xe(!0)}function Tie(n,e){return n!==null&&e&&e(new Tb(n)),xe(!0)}function Cie(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return xe(!0);let i=r.map(s=>Oy(()=>{let o=Am(e)??t,a=Sf(s,o),u=mie(a)?a.canActivate(e,n):ir(o,()=>a(e,n));return Nu(u).pipe(oa())}));return xe(i).pipe(wf())}function Iie(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>lie(o)).filter(o=>o!==null).map(o=>Oy(()=>{let a=o.guards.map(u=>{let c=Am(o.node)??t,l=Sf(u,c),d=gie(l)?l.canActivateChild(r,n):ir(c,()=>l(r,n));return Nu(d).pipe(oa())});return xe(a).pipe(wf())}));return xe(s).pipe(wf())}function Die(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return xe(!0);let o=s.map(a=>{let u=Am(e)??i,c=Sf(a,u),l=yie(c)?c.canDeactivate(n,e,t,r):ir(u,()=>c(n,e,t,r));return Nu(l).pipe(oa())});return xe(o).pipe(wf())}function xie(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return xe(!0);let s=i.map(o=>{let a=Sf(o,n),u=pie(a)?a.canLoad(e,t):ir(n,()=>a(e,t));return Nu(u)});return xe(s).pipe(wf(),gF(r))}function gF(n){return my(br(e=>{if(typeof e!="boolean")throw Rb(n,e)}),Ve(e=>e===!0))}function Aie(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return xe(!0);let s=i.map(o=>{let a=Sf(o,n),u=vie(a)?a.canMatch(e,t):ir(n,()=>a(e,t));return Nu(u)});return xe(s).pipe(wf(),gF(r))}var Im=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Dm=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function hf(n){return gs(new Im(n))}function Nie(n){return gs(new be(4e3,!1))}function Rie(n){return gs(hF(!1,ui.GuardRejected))}var TI=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return xe(r);if(i.numberOfChildren>1||!i.children[nt])return Nie(`${e.redirectTo}`);i=i.children[nt]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:u,fragment:c,routeConfig:l,url:d,outlet:f,params:h,data:g,title:y}=i,S=ir(s,()=>a({params:h,data:g,queryParams:u,fragment:c,routeConfig:l,url:d,outlet:f,title:y}));if(S instanceof yo)throw new Dm(S);t=S}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Dm(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new yo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Pt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new be(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},CI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kie(n,e,t,r,i){let s=yF(n,e,t);return s.matched?(r=tie(e,r),Aie(r,e,t,i).pipe(Ve(o=>o===!0?s:K({},CI)))):xe(s)}function yF(n,e,t){if(e.path==="**")return Mie(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?K({},CI):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||G5)(t,n,e);if(!i)return K({},CI);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?K(K({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Mie(n){return{matched:!0,parameters:n.length>0?K5(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function H5(n,e,t,r){return t.length>0&&Lie(n,t,r)?{segmentGroup:new Pt(e,Pie(r,new Pt(t,n.children))),slicedSegments:[]}:t.length===0&&Fie(n,t,r)?{segmentGroup:new Pt(n.segments,Oie(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Pt(n.segments,n.children),slicedSegments:t}}function Oie(n,e,t,r){let i={};for(let s of t)if(Ob(n,e,s)&&!r[Ms(s)]){let o=new Pt([],{});i[Ms(s)]=o}return K(K({},r),i)}function Pie(n,e){let t={};t[nt]=e;for(let r of n)if(r.path===""&&Ms(r)!==nt){let i=new Pt([],{});t[Ms(r)]=i}return t}function Lie(n,e,t){return t.some(r=>Ob(n,e,r)&&Ms(r)!==nt)}function Fie(n,e,t){return t.some(r=>Ob(n,e,r))}function Ob(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Uie(n,e,t){return e.length===0&&!n.children[t]}var II=class{};function Bie(n,e,t,r,i,s,o="emptyOnly"){return new DI(n,e,t,r,i,o,s).recognize()}var Vie=31,DI=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new TI(this.urlSerializer,this.urlTree)}noMatchError(e){return new be(4002,`'${e.segmentGroup}'`)}recognize(){let e=H5(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ve(({children:t,rootSnapshot:r})=>{let i=new wi(r,t),s=new Tm("",i),o=rF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new wl([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),nt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,nt,t).pipe(Ve(r=>({children:r,rootSnapshot:t})),Pn(r=>{if(r instanceof Dm)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Im?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(Ve(o=>o instanceof wi?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Xe(s).pipe(du(o=>{let a=r.children[o],u=nie(t,o);return this.processSegmentGroup(e,u,a,o,i)}),Ly((o,a)=>(o.push(...a),o)),fu(null),pT(),On(o=>{if(o===null)return hf(r);let a=vF(o);return qie(a),xe(a)}))}processSegment(e,t,r,i,s,o,a){return Xe(t).pipe(du(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,a).pipe(Pn(c=>{if(c instanceof Im)return xe(null);throw c}))),oa(u=>!!u),Pn(u=>{if(mF(u))return Uie(r,i,s)?xe(new II):hf(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,u){return Ms(r)!==o&&(o===nt||!Ob(i,s,r))?hf(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):hf(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:u,parameters:c,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=yF(t,i,s);if(!u)return hf(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Vie&&(this.allowRedirects=!1));let h=new wl(s,c,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,$5(i),Ms(i),i.component??i._loadedComponent??null,i,z5(i)),g=Nb(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let y=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,y).pipe(On(S=>this.processSegment(e,r,t,S.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=kie(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ln(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ln(({routes:c})=>{let l=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=u,g=new wl(f,d,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,$5(r),Ms(r),r.component??r._loadedComponent??null,r,z5(r)),y=Nb(g,o,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let{segmentGroup:S,slicedSegments:_}=H5(t,f,h,c);if(_.length===0&&S.hasChildren())return this.processChildren(l,c,S,g).pipe(Ve(I=>new wi(g,I)));if(c.length===0&&_.length===0)return xe(new wi(g,[]));let C=Ms(r)===s;return this.processSegment(l,c,S,_,C?nt:s,!0,g).pipe(Ve(I=>new wi(g,I instanceof wi?[I]:[])))}))):hf(t)))}getChildConfig(e,t,r){return t.children?xe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?xe({routes:t._loadedRoutes,injector:t._loadedInjector}):xie(e,t,r,this.urlSerializer).pipe(On(i=>i?this.configLoader.loadChildren(e,t).pipe(br(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Rie(t))):xe({routes:[],injector:e})}};function qie(n){n.sort((e,t)=>e.value.outlet===nt?-1:t.value.outlet===nt?1:e.value.outlet.localeCompare(t.value.outlet))}function jie(n){let e=n.value.routeConfig;return e&&e.path===""}function vF(n){let e=[],t=new Set;for(let r of n){if(!jie(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=vF(r.children);e.push(new wi(r.value,i))}return e.filter(r=>!t.has(r))}function $5(n){return n.data||{}}function z5(n){return n.resolve||{}}function Hie(n,e,t,r,i,s){return On(o=>Bie(n,e,t,r,o.extractedUrl,i,s).pipe(Ve(({state:a,tree:u})=>me(K({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function $ie(n,e){return On(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return xe(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of bF(u))o.add(c);let a=0;return Xe(o).pipe(du(u=>s.has(u)?zie(u,r,n,e):(u.data=Nb(u,u.parent,n).resolve,xe(void 0))),br(()=>a++),Bd(1),On(u=>a===o.size?xe(t):Jr))})}function bF(n){let e=n.children.map(t=>bF(t)).flat();return[n,...e]}function zie(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!lF(i)&&(s[xm]=i.title),Gie(s,n,e,r).pipe(Ve(o=>(n._resolvedData=o,n.data=Nb(n,n.parent,t).resolve,null)))}function Gie(n,e,t,r){let i=mI(n);if(i.length===0)return xe({});let s={};return Xe(i).pipe(On(o=>Wie(n[o],e,t,r).pipe(oa(),br(a=>{if(a instanceof Ef)throw Rb(new Du,a);s[o]=a}))),Bd(1),Ve(()=>s),Pn(o=>mF(o)?Jr:gs(o)))}function Wie(n,e,t,r){let i=Am(e)??r,s=Sf(n,i),o=s.resolve?s.resolve(e,t):ir(i,()=>s(e,t));return Nu(o)}function hI(n){return Ln(e=>{let t=n(e);return t?Xe(t).pipe(Ve(()=>e)):xe(e)})}var kI=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===nt);return r}getResolvedTitleForRoute(t){return t.data[xm]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>$(_F),providedIn:"root"})}return n})(),_F=(()=>{class n extends kI{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Ae(U5))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Il=new le("",{providedIn:"root",factory:()=>({})}),Ru=new le(""),Pb=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=$(zv);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Nu(t.loadComponent()).pipe(Ve(EF),br(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Dp(()=>{this.componentLoaders.delete(t)})),i=new Od(r,()=>new En).pipe(Md());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return xe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Lb(r,this.compiler,t,this.onLoadEndListener).pipe(Dp(()=>{this.childrenLoaders.delete(r)})),o=new Od(s,()=>new En).pipe(Md());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lb(n,e,t,r){return Nu(n.loadChildren()).pipe(Ve(EF),On(i=>i instanceof N2||Array.isArray(i)?xe(i):Xe(e.compileModuleAsync(i))),Ve(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(Ru,[],{optional:!0,self:!0}).flat()),{routes:o.map(RI),injector:s}}))}function Kie(n){return n&&typeof n=="object"&&"default"in n}function EF(n){return Kie(n)?n.default:n}var Fb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>$(Qie),providedIn:"root"})}return n})(),Qie=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MI=new le(""),OI=new le("");function wF(n,e,t){let r=n.get(OI),i=n.get(dn);return n.get(_t).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),Yie(n))),{onViewTransitionCreated:u}=r;return u&&ir(n,()=>u({transition:a,from:e,to:t})),o})}function Yie(n){return new Promise(e=>{l2({read:()=>setTimeout(e)},{injector:n})})}var PI=new le(""),Ub=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new En;transitionAbortSubject=new En;configLoader=$(Pb);environmentInjector=$(xr);destroyRef=$(ha);urlSerializer=$(Tl);rootContexts=$(Cl);location=$(Tu);inputBindingEnabled=$(Rm,{optional:!0})!==null;titleStrategy=$(kI);options=$(Il,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=$(Fb);createViewTransition=$(MI,{optional:!0});navigationErrorHandler=$(PI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>xe(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new wb(i)),r=i=>this.events.next(new Sb(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(me(K({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Mn(null),this.transitions.pipe(Xr(r=>r!==null),Ln(r=>{let i=!1,s=!1;return xe(r).pipe(Ln(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ui.SupersededByNewNavigation),Jr;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?me(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let c="";return this.events.next(new vo(o.id,this.urlSerializer.serialize(o.rawUrl),c,yf.IgnoredSameUrlNavigation)),o.resolve(!1),Jr}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return xe(o).pipe(Ln(c=>(this.events.next(new Au(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Jr:Promise.resolve(c))),Hie(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),br(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=me(K({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new Em(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:f,extras:h}=o,g=new Au(c,this.urlSerializer.serialize(l),d,f);this.events.next(g);let y=uF(this.rootComponentType).snapshot;return this.currentTransition=r=me(K({},o),{targetSnapshot:y,urlAfterRedirects:l,extras:me(K({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,xe(r)}else{let c="";return this.events.next(new vo(o.id,this.urlSerializer.serialize(o.extractedUrl),c,yf.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Jr}}),br(o=>{let a=new vb(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ve(o=>(this.currentTransition=r=me(K({},o),{guards:cie(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),_ie(this.environmentInjector,o=>this.events.next(o)),br(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Rb(this.urlSerializer,o.guardsResult);let a=new bb(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Xr(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ui.GuardRejected),!1)),hI(o=>{if(o.guards.canActivateChecks.length!==0)return xe(o).pipe(br(a=>{let u=new _b(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ln(a=>{let u=!1;return xe(a).pipe($ie(this.paramsInheritanceStrategy,this.environmentInjector),br({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",ui.NoDataFromResolver)}}))}),br(a=>{let u=new Eb(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),hI(o=>{let a=u=>{let c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(br(l=>{u.component=l}),Ve(()=>{})));for(let l of u.children)c.push(...a(l));return c};return Gc(a(o.targetSnapshot.root)).pipe(fu(null),vs(1))}),hI(()=>this.afterPreactivation()),Ln(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return u?Xe(u).pipe(Ve(()=>r)):xe(r)}),Ve(o=>{let a=iie(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=me(K({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),br(()=>{this.events.next(new wm)}),uie(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),vs(1),br({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ti(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),mT(this.transitionAbortSubject.pipe(br(o=>{throw o}))),Dp(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",ui.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Pn(o=>{if(this.destroyed)return r.resolve(!1),Jr;if(s=!0,pF(o))this.events.next(new go(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),aie(o)?this.events.next(new _f(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new vf(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let u=ir(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Ef){let{message:c,cancellationCode:l}=Rb(this.urlSerializer,u);this.events.next(new go(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new _f(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Jr}))}))}cancelNavigationTransition(t,r,i){let s=new go(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jie(n){return n!==mb}var SF=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>$(Zie),providedIn:"root"})}return n})(),Mb=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Zie=(()=>{class n extends Mb{static \u0275fac=(()=>{let t;return function(i){return(t||(t=cl(n)))(i||n)}})();static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TF=(()=>{class n{urlSerializer=$(Tl);options=$(Il,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=$(Tu);urlHandlingStrategy=$(Fb);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof yo?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=uF(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:()=>$(Xie),providedIn:"root"})}return n})(),Xie=(()=>{class n extends TF{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Au?this.updateStateMemento():t instanceof vo?this.commitTransition(r):t instanceof Em?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof wm?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof go&&(t.code===ui.GuardRejected||t.code===ui.NoDataFromResolver)?this.restoreHistory(r):t instanceof vf?this.restoreHistory(r,!0):t instanceof Ti&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,u=K(K({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=K(K({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=cl(n)))(i||n)}})();static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bb(n,e){n.events.pipe(Xr(t=>t instanceof Ti||t instanceof go||t instanceof vf||t instanceof vo),Ve(t=>t instanceof Ti||t instanceof vo?0:(t instanceof go?t.code===ui.Redirect||t.code===ui.SupersededByNewNavigation:!1)?2:1),Xr(t=>t!==2),vs(1)).subscribe(()=>{e()})}var ese={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tse={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ht=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=$(af);stateManager=$(TF);options=$(Il,{optional:!0})||{};pendingTasks=$(bu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=$(Ub);urlSerializer=$(Tl);location=$(Tu);urlHandlingStrategy=$(Fb);_events=new En;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=$(SF);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=$(Ru,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!$(Rm,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Dn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof go&&r.code!==ui.Redirect&&r.code!==ui.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ti)this.navigated=!0;else if(r instanceof _f){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=K({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Jie(i.source)},o);this.scheduleNavigation(a,mb,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}rse(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mb,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=K({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(RI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=K(K({},this.currentUrlTree.queryParams),s);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=iF(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return sF(d,t,l,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=xu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,mb,null,r)}navigate(t,r={skipLocationChange:!1}){return nse(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=K({},ese):r===!1?i=K({},tse):i=r,xu(t))return B5(this.currentUrlTree,t,i);let s=this.parseUrl(t);return B5(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,f)=>{a=d,u=f});let l=this.pendingTasks.add();return Bb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nse(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new be(4008,!1)}function rse(n){return!(n instanceof wm)&&!(n instanceof _f)}var Or=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new En;constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xu(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:SP(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:xu(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Fe(ht),Fe(ci),s2("tabindex"),Fe(si),Fe(Nr),Fe(Rs))};static \u0275dir=wn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&he("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&$v("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",lf],skipLocationChange:[2,"skipLocationChange","skipLocationChange",lf],replaceUrl:[2,"replaceUrl","replaceUrl",lf],routerLink:"routerLink"},features:[Ds]})}return n})(),FI=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Vt;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Ti&&this.update()})}ngAfterContentInit(){xe(this.links.changes,xe(null)).pipe(lu()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Xe(t).pipe(lu()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=ise(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Fe(ht),Fe(Nr),Fe(si),Fe($i),Fe(Or,8))};static \u0275dir=wn({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&RL(s,Or,5),r&2){let o;fl(o=hl())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ds]})}return n})();function ise(n){return!!n.paths}var Mm=class{};var CF=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Xr(t=>t instanceof Ti),du(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=rm(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Xe(i).pipe(lu())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=xe(null);let s=i.pipe(On(o=>o===null?xe(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Xe([s,o]).pipe(lu())}else return s})}static \u0275fac=function(r){return new(r||n)(Ae(ht),Ae(xr),Ae(Mm),Ae(Pb))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IF=new le(""),sse=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Au?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ti?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof vo&&t.code===yf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bf&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bf(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){tL()};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function UI(n,...e){return Ar([{provide:Ru,multi:!0,useValue:n},[],{provide:ci,useFactory:DF,deps:[ht]},{provide:Hv,multi:!0,useFactory:xF},e.map(t=>t.\u0275providers)])}function DF(n){return n.routerState.root}function Om(n,e){return{\u0275kind:n,\u0275providers:e}}function xF(){let n=$(Nt);return e=>{let t=n.get(Ts);if(e!==t.components[0])return;let r=n.get(ht),i=n.get(AF);n.get(BI)===1&&r.initialNavigation(),n.get(kF,null,it.Optional)?.setUpPreloading(),n.get(IF,null,it.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var AF=new le("",{factory:()=>new En}),BI=new le("",{providedIn:"root",factory:()=>1});function NF(){let n=[{provide:BI,useValue:0},L2(()=>{let e=$(Nt);return e.get(G2,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(ht),s=e.get(AF);Bb(i,()=>{r(!0)}),e.get(Ub).afterPreactivation=()=>(r(!0),s.closed?xe(void 0):s),i.initialNavigation()}))})];return Om(2,n)}function RF(){let n=[L2(()=>{$(ht).setUpLocationChangeListener()}),{provide:BI,useValue:2}];return Om(3,n)}var kF=new le("");function MF(n){return Om(0,[{provide:kF,useExisting:CF},{provide:Mm,useExisting:n}])}function OF(){return Om(8,[AI,{provide:Rm,useExisting:AI}])}function PF(n){ll("NgRouterViewTransitions");let e=[{provide:MI,useValue:wF},{provide:OI,useValue:K({skipNextTransition:!!n?.skipInitialTransition},n)}];return Om(9,e)}var LF=[Tu,{provide:Tl,useClass:Du},ht,Cl,{provide:ci,useFactory:DF,deps:[ht]},Pb,[]],or=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[LF,[],{provide:Ru,multi:!0,useValue:t},[],r?.errorHandler?{provide:PI,useValue:r.errorHandler}:[],{provide:Il,useValue:r||{}},r?.useHash?ase():use(),ose(),r?.preloadingStrategy?MF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?cse(r):[],r?.bindToComponentInputs?OF().\u0275providers:[],r?.enableViewTransitions?PF().\u0275providers:[],lse()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ru,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=xs({type:n});static \u0275inj=Cs({})}return n})();function ose(){return{provide:IF,useFactory:()=>{let n=$(ab),e=$(_t),t=$(Il),r=$(Ub),i=$(Tl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new sse(i,r,n,e,t)}}}function ase(){return{provide:Rs,useClass:X2}}function use(){return{provide:Rs,useClass:Qv}}function cse(n){return[n.initialNavigation==="disabled"?RF().\u0275providers:[],n.initialNavigation==="enabledBlocking"?NF().\u0275providers:[]]}var LI=new le("");function lse(){return[{provide:LI,useFactory:xF},{provide:Hv,multi:!0,useExisting:LI}]}var dse=Object.getOwnPropertyNames,qe=(n,e)=>function(){return e||(0,n[dse(n)[0]])((e={exports:{}}).exports,e),e.exports},Pm=qe({"external/npm/node_modules/domino/lib/Event.js"(n,e){e.exports=t,t.CAPTURING_PHASE=1,t.AT_TARGET=2,t.BUBBLING_PHASE=3;function t(r,i){if(this.type="",this.target=null,this.currentTarget=null,this.eventPhase=t.AT_TARGET,this.bubbles=!1,this.cancelable=!1,this.isTrusted=!1,this.defaultPrevented=!1,this.timeStamp=Date.now(),this._propagationStopped=!1,this._immediatePropagationStopped=!1,this._initialized=!0,this._dispatching=!1,r&&(this.type=r),i)for(var s in i)this[s]=i[s]}t.prototype=Object.create(Object.prototype,{constructor:{value:t},stopPropagation:{value:function(){this._propagationStopped=!0}},stopImmediatePropagation:{value:function(){this._propagationStopped=!0,this._immediatePropagationStopped=!0}},preventDefault:{value:function(){this.cancelable&&(this.defaultPrevented=!0)}},initEvent:{value:function(i,s,o){this._initialized=!0,!this._dispatching&&(this._propagationStopped=!1,this._immediatePropagationStopped=!1,this.defaultPrevented=!1,this.isTrusted=!1,this.target=null,this.type=i,this.bubbles=s,this.cancelable=o)}}})}}),BF=qe({"external/npm/node_modules/domino/lib/UIEvent.js"(n,e){var t=Pm();e.exports=r;function r(){t.call(this),this.view=null,this.detail=0}r.prototype=Object.create(t.prototype,{constructor:{value:r},initUIEvent:{value:function(i,s,o,a,u){this.initEvent(i,s,o),this.view=a,this.detail=u}}})}}),VF=qe({"external/npm/node_modules/domino/lib/MouseEvent.js"(n,e){var t=BF();e.exports=r;function r(){t.call(this),this.screenX=this.screenY=this.clientX=this.clientY=0,this.ctrlKey=this.altKey=this.shiftKey=this.metaKey=!1,this.button=0,this.buttons=1,this.relatedTarget=null}r.prototype=Object.create(t.prototype,{constructor:{value:r},initMouseEvent:{value:function(i,s,o,a,u,c,l,d,f,h,g,y,S,_,C){switch(this.initEvent(i,s,o,a,u),this.screenX=c,this.screenY=l,this.clientX=d,this.clientY=f,this.ctrlKey=h,this.altKey=g,this.shiftKey=y,this.metaKey=S,this.button=_,_){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2;break;default:this.buttons=0;break}this.relatedTarget=C}},getModifierState:{value:function(i){switch(i){case"Alt":return this.altKey;case"Control":return this.ctrlKey;case"Shift":return this.shiftKey;case"Meta":return this.metaKey;default:return!1}}}})}}),VI=qe({"external/npm/node_modules/domino/lib/config.js"(n){n.isApiWritable=!globalThis.__domino_frozen__}}),Vn=qe({"external/npm/node_modules/domino/lib/utils.js"(n){var e=VI().isApiWritable;n.NAMESPACE={HTML:"http://www.w3.org/1999/xhtml",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink"},n.IndexSizeError=()=>{throw new DOMException("The index is not in the allowed range","IndexSizeError")},n.HierarchyRequestError=()=>{throw new DOMException("The node tree hierarchy is not correct","HierarchyRequestError")},n.WrongDocumentError=()=>{throw new DOMException("The object is in the wrong Document","WrongDocumentError")},n.InvalidCharacterError=()=>{throw new DOMException("The string contains invalid characters","InvalidCharacterError")},n.NoModificationAllowedError=()=>{throw new DOMException("The object cannot be modified","NoModificationAllowedError")},n.NotFoundError=()=>{throw new DOMException("The object can not be found here","NotFoundError")},n.NotSupportedError=()=>{throw new DOMException("The operation is not supported","NotSupportedError")},n.InvalidStateError=()=>{throw new DOMException("The object is in an invalid state","InvalidStateError")},n.SyntaxError=()=>{throw new DOMException("The string did not match the expected pattern","SyntaxError")},n.InvalidModificationError=()=>{throw new DOMException("The object can not be modified in this way","InvalidModificationError")},n.NamespaceError=()=>{throw new DOMException("The operation is not allowed by Namespaces in XML","NamespaceError")},n.InvalidAccessError=()=>{throw new DOMException("The object does not support the operation or argument","InvalidAccessError")},n.TypeMismatchError=()=>{throw new DOMException("The type of the object does not match the expected type","TypeMismatchError")},n.SecurityError=()=>{throw new DOMException("The operation is insecure","SecurityError")},n.NetworkError=()=>{throw new DOMException("A network error occurred","NetworkError")},n.AbortError=()=>{throw new DOMException("The operation was aborted","AbortError")},n.UrlMismatchError=()=>{throw new DOMException("The given URL does not match another URL","URLMismatchError")},n.QuotaExceededError=()=>{throw new DOMException("The quota has been exceeded","QuotaExceededError")},n.TimeoutError=()=>{throw new DOMException("The operation timed out","TimeoutError")},n.InvalidNodeTypeError=()=>{throw new DOMException("The node is of an invalid type","InvalidNodeTypeError")},n.DataCloneError=()=>{throw new DOMException("The object can not be cloned","DataCloneError")},n.InUseAttributeError=()=>{throw new DOMException("The attribute is already in use","InUseAttributeError")},n.nyi=function(){throw new Error("NotYetImplemented")},n.shouldOverride=function(){throw new Error("Abstract function; should be overriding in subclass.")},n.assert=function(t,r){if(!t)throw new Error("Assertion failed: "+(r||"")+`
`+new Error().stack)},n.expose=function(t,r){for(var i in t)Object.defineProperty(r.prototype,i,{value:t[i],writable:e})},n.merge=function(t,r){for(var i in r)t[i]=r[i]},n.documentOrder=function(t,r){return 3-(t.compareDocumentPosition(r)&6)},n.toASCIILowerCase=function(t){return t.replace(/[A-Z]+/g,function(r){return r.toLowerCase()})},n.toASCIIUpperCase=function(t){return t.replace(/[a-z]+/g,function(r){return r.toUpperCase()})}}}),qF=qe({"external/npm/node_modules/domino/lib/EventTarget.js"(n,e){var t=Pm(),r=VF(),i=Vn();e.exports=s;function s(){}s.prototype={addEventListener:function(a,u,c){if(u){c===void 0&&(c=!1),this._listeners||(this._listeners=Object.create(null)),this._listeners[a]||(this._listeners[a]=[]);for(var l=this._listeners[a],d=0,f=l.length;d<f;d++){var h=l[d];if(h.listener===u&&h.capture===c)return}var g={listener:u,capture:c};typeof u=="function"&&(g.f=u),l.push(g)}},removeEventListener:function(a,u,c){if(c===void 0&&(c=!1),this._listeners){var l=this._listeners[a];if(l)for(var d=0,f=l.length;d<f;d++){var h=l[d];if(h.listener===u&&h.capture===c){l.length===1?this._listeners[a]=void 0:l.splice(d,1);return}}}},dispatchEvent:function(a){return this._dispatchEvent(a,!1)},_dispatchEvent:function(a,u){typeof u!="boolean"&&(u=!1);function c(y,S){var _=S.type,C=S.eventPhase;if(S.currentTarget=y,C!==t.CAPTURING_PHASE&&y._handlers&&y._handlers[_]){var I=y._handlers[_],T;if(typeof I=="function")T=I.call(S.currentTarget,S);else{var x=I.handleEvent;if(typeof x!="function")throw new TypeError("handleEvent property of event handler object isnot a function.");T=x.call(I,S)}switch(S.type){case"mouseover":T===!0&&S.preventDefault();break;case"beforeunload":default:T===!1&&S.preventDefault();break}}var V=y._listeners&&y._listeners[_];if(V){V=V.slice();for(var R=0,A=V.length;R<A;R++){if(S._immediatePropagationStopped)return;var N=V[R];if(!(C===t.CAPTURING_PHASE&&!N.capture||C===t.BUBBLING_PHASE&&N.capture))if(N.f)N.f.call(S.currentTarget,S);else{var E=N.listener.handleEvent;if(typeof E!="function")throw new TypeError("handleEvent property of event listener object is not a function.");E.call(N.listener,S)}}}}(!a._initialized||a._dispatching)&&i.InvalidStateError(),a.isTrusted=u,a._dispatching=!0,a.target=this;for(var l=[],d=this.parentNode;d;d=d.parentNode)l.push(d);a.eventPhase=t.CAPTURING_PHASE;for(var f=l.length-1;f>=0&&(c(l[f],a),!a._propagationStopped);f--);if(a._propagationStopped||(a.eventPhase=t.AT_TARGET,c(this,a)),a.bubbles&&!a._propagationStopped){a.eventPhase=t.BUBBLING_PHASE;for(var h=0,g=l.length;h<g&&(c(l[h],a),!a._propagationStopped);h++);}if(a._dispatching=!1,a.eventPhase=t.AT_TARGET,a.currentTarget=null,u&&!a.defaultPrevented&&a instanceof r)switch(a.type){case"mousedown":this._armed={x:a.clientX,y:a.clientY,t:a.timeStamp};break;case"mouseout":case"mouseover":this._armed=null;break;case"mouseup":this._isClick(a)&&this._doClick(a),this._armed=null;break}return!a.defaultPrevented},_isClick:function(o){return this._armed!==null&&o.type==="mouseup"&&o.isTrusted&&o.button===0&&o.timeStamp-this._armed.t<1e3&&Math.abs(o.clientX-this._armed.x)<10&&Math.abs(o.clientY-this._armed.Y)<10},_doClick:function(o){if(!this._click_in_progress){this._click_in_progress=!0;for(var a=this;a&&!a._post_click_activation_steps;)a=a.parentNode;a&&a._pre_click_activation_steps&&a._pre_click_activation_steps();var u=this.ownerDocument.createEvent("MouseEvent");u.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,null);var c=this._dispatchEvent(u,!0);a&&(c?a._post_click_activation_steps&&a._post_click_activation_steps(u):a._cancelled_activation_steps&&a._cancelled_activation_steps())}},_setEventHandler:function(a,u){this._handlers||(this._handlers=Object.create(null)),this._handlers[a]=u},_getEventHandler:function(a){return this._handlers&&this._handlers[a]||null}}}}),jF=qe({"external/npm/node_modules/domino/lib/LinkedList.js"(n,e){var t=Vn(),r=e.exports={valid:function(i){return t.assert(i,"list falsy"),t.assert(i._previousSibling,"previous falsy"),t.assert(i._nextSibling,"next falsy"),!0},insertBefore:function(i,s){t.assert(r.valid(i)&&r.valid(s));var o=i,a=i._previousSibling,u=s,c=s._previousSibling;o._previousSibling=c,a._nextSibling=u,c._nextSibling=o,u._previousSibling=a,t.assert(r.valid(i)&&r.valid(s))},replace:function(i,s){t.assert(r.valid(i)&&(s===null||r.valid(s))),s!==null&&r.insertBefore(s,i),r.remove(i),t.assert(r.valid(i)&&(s===null||r.valid(s)))},remove:function(i){t.assert(r.valid(i));var s=i._previousSibling;if(s!==i){var o=i._nextSibling;s._nextSibling=o,o._previousSibling=s,i._previousSibling=i._nextSibling=i,t.assert(r.valid(i))}}}}}),HF=qe({"external/npm/node_modules/domino/lib/NodeUtils.js"(n,e){e.exports={serializeOne:S,\u0275escapeMatchingClosingTag:f,\u0275escapeClosingCommentTag:g,\u0275escapeProcessingInstructionContent:y};var t=Vn(),r=t.NAMESPACE,i={STYLE:!0,SCRIPT:!0,XMP:!0,IFRAME:!0,NOEMBED:!0,NOFRAMES:!0,PLAINTEXT:!0},s={area:!0,base:!0,basefont:!0,bgsound:!0,br:!0,col:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},o={},a=/[&<>\u00A0]/g,u=/[&"<>\u00A0]/g;function c(_){return a.test(_)?_.replace(a,C=>{switch(C){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case"\xA0":return"&nbsp;"}}):_}function l(_){return u.test(_)?_.replace(u,C=>{switch(C){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;";case"\xA0":return"&nbsp;"}}):_}function d(_){var C=_.namespaceURI;return C?C===r.XML?"xml:"+_.localName:C===r.XLINK?"xlink:"+_.localName:C===r.XMLNS?_.localName==="xmlns"?"xmlns":"xmlns:"+_.localName:_.name:_.localName}function f(_,C){let I="</"+C;if(!_.toLowerCase().includes(I))return _;let T=[..._],x=_.matchAll(new RegExp(I,"ig"));for(let V of x)T[V.index]="&lt;";return T.join("")}var h=/--!?>/;function g(_){return h.test(_)?_.replace(/(--\!?)>/g,"$1&gt;"):_}function y(_){return _.includes(">")?_.replaceAll(">","&gt;"):_}function S(_,C){var I="";switch(_.nodeType){case 1:var T=_.namespaceURI,x=T===r.HTML,V=x||T===r.SVG||T===r.MATHML?_.localName:_.tagName;I+="<"+V;for(var R=0,A=_._numattrs;R<A;R++){var N=_._attr(R);I+=" "+d(N),N.value!==void 0&&(I+='="'+l(N.value)+'"')}if(I+=">",!(x&&s[V])){var E=_.serialize();i[V.toUpperCase()]&&(E=f(E,V)),x&&o[V]&&E.charAt(0)===`
`&&(I+=`
`),I+=E,I+="</"+V+">"}break;case 3:case 4:var D;C.nodeType===1&&C.namespaceURI===r.HTML?D=C.tagName:D="",i[D]||D==="NOSCRIPT"&&C.ownerDocument._scripting_enabled?I+=_.data:I+=c(_.data);break;case 8:I+="<!--"+g(_.data)+"-->";break;case 7:let P=y(_.data);I+="<?"+_.target+" "+P+"?>";break;case 10:I+="<!DOCTYPE "+_.name,I+=">";break;default:t.InvalidStateError()}return I}}}),Pr=qe({"external/npm/node_modules/domino/lib/Node.js"(n,e){e.exports=o;var t=qF(),r=jF(),i=HF(),s=Vn();function o(){t.call(this),this.parentNode=null,this._nextSibling=this._previousSibling=this,this._index=void 0}var a=o.ELEMENT_NODE=1,u=o.ATTRIBUTE_NODE=2,c=o.TEXT_NODE=3,l=o.CDATA_SECTION_NODE=4,d=o.ENTITY_REFERENCE_NODE=5,f=o.ENTITY_NODE=6,h=o.PROCESSING_INSTRUCTION_NODE=7,g=o.COMMENT_NODE=8,y=o.DOCUMENT_NODE=9,S=o.DOCUMENT_TYPE_NODE=10,_=o.DOCUMENT_FRAGMENT_NODE=11,C=o.NOTATION_NODE=12,I=o.DOCUMENT_POSITION_DISCONNECTED=1,T=o.DOCUMENT_POSITION_PRECEDING=2,x=o.DOCUMENT_POSITION_FOLLOWING=4,V=o.DOCUMENT_POSITION_CONTAINS=8,R=o.DOCUMENT_POSITION_CONTAINED_BY=16,A=o.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;o.prototype=Object.create(t.prototype,{baseURI:{get:s.nyi},parentElement:{get:function(){return this.parentNode&&this.parentNode.nodeType===a?this.parentNode:null}},hasChildNodes:{value:s.shouldOverride},firstChild:{get:s.shouldOverride},lastChild:{get:s.shouldOverride},isConnected:{get:function(){let N=this;for(;N!=null;){if(N.nodeType===o.DOCUMENT_NODE)return!0;N=N.parentNode,N!=null&&N.nodeType===o.DOCUMENT_FRAGMENT_NODE&&(N=N.host)}return!1}},previousSibling:{get:function(){var N=this.parentNode;return!N||this===N.firstChild?null:this._previousSibling}},nextSibling:{get:function(){var N=this.parentNode,E=this._nextSibling;return!N||E===N.firstChild?null:E}},textContent:{get:function(){return null},set:function(N){}},innerText:{get:function(){return null},set:function(N){}},_countChildrenOfType:{value:function(N){for(var E=0,D=this.firstChild;D!==null;D=D.nextSibling)D.nodeType===N&&E++;return E}},_ensureInsertValid:{value:function(E,D,P){var p=this,m,v;if(!E.nodeType)throw new TypeError("not a node");switch(p.nodeType){case y:case _:case a:break;default:s.HierarchyRequestError()}switch(E.isAncestor(p)&&s.HierarchyRequestError(),(D!==null||!P)&&D.parentNode!==p&&s.NotFoundError(),E.nodeType){case _:case S:case a:case c:case h:case g:break;default:s.HierarchyRequestError()}if(p.nodeType===y)switch(E.nodeType){case c:s.HierarchyRequestError();break;case _:switch(E._countChildrenOfType(c)>0&&s.HierarchyRequestError(),E._countChildrenOfType(a)){case 0:break;case 1:if(D!==null)for(P&&D.nodeType===S&&s.HierarchyRequestError(),v=D.nextSibling;v!==null;v=v.nextSibling)v.nodeType===S&&s.HierarchyRequestError();m=p._countChildrenOfType(a),P?m>0&&s.HierarchyRequestError():(m>1||m===1&&D.nodeType!==a)&&s.HierarchyRequestError();break;default:s.HierarchyRequestError()}break;case a:if(D!==null)for(P&&D.nodeType===S&&s.HierarchyRequestError(),v=D.nextSibling;v!==null;v=v.nextSibling)v.nodeType===S&&s.HierarchyRequestError();m=p._countChildrenOfType(a),P?m>0&&s.HierarchyRequestError():(m>1||m===1&&D.nodeType!==a)&&s.HierarchyRequestError();break;case S:if(D===null)p._countChildrenOfType(a)&&s.HierarchyRequestError();else for(v=p.firstChild;v!==null&&v!==D;v=v.nextSibling)v.nodeType===a&&s.HierarchyRequestError();m=p._countChildrenOfType(S),P?m>0&&s.HierarchyRequestError():(m>1||m===1&&D.nodeType!==S)&&s.HierarchyRequestError();break}else E.nodeType===S&&s.HierarchyRequestError()}},insertBefore:{value:function(E,D){var P=this;P._ensureInsertValid(E,D,!0);var p=D;return p===E&&(p=E.nextSibling),P.doc.adoptNode(E),E._insertOrReplace(P,p,!1),E}},appendChild:{value:function(N){return this.insertBefore(N,null)}},_appendChild:{value:function(N){N._insertOrReplace(this,null,!1)}},removeChild:{value:function(E){var D=this;if(!E.nodeType)throw new TypeError("not a node");return E.parentNode!==D&&s.NotFoundError(),E.remove(),E}},replaceChild:{value:function(E,D){var P=this;return P._ensureInsertValid(E,D,!1),E.doc!==P.doc&&P.doc.adoptNode(E),E._insertOrReplace(P,D,!0),D}},contains:{value:function(E){return E===null?!1:this===E?!0:(this.compareDocumentPosition(E)&R)!==0}},compareDocumentPosition:{value:function(E){if(this===E)return 0;if(this.doc!==E.doc||this.rooted!==E.rooted)return I+A;for(var D=[],P=[],p=this;p!==null;p=p.parentNode)D.push(p);for(p=E;p!==null;p=p.parentNode)P.push(p);if(D.reverse(),P.reverse(),D[0]!==P[0])return I+A;p=Math.min(D.length,P.length);for(var m=1;m<p;m++)if(D[m]!==P[m])return D[m].index<P[m].index?x:T;return D.length<P.length?x+R:T+V}},isSameNode:{value:function(E){return this===E}},isEqualNode:{value:function(E){if(!E||E.nodeType!==this.nodeType||!this.isEqual(E))return!1;for(var D=this.firstChild,P=E.firstChild;D&&P;D=D.nextSibling,P=P.nextSibling)if(!D.isEqualNode(P))return!1;return D===null&&P===null}},cloneNode:{value:function(N){var E=this.clone();if(N)for(var D=this.firstChild;D!==null;D=D.nextSibling)E._appendChild(D.cloneNode(!0));return E}},lookupPrefix:{value:function(E){var D;if(E===""||E===null||E===void 0)return null;switch(this.nodeType){case a:return this._lookupNamespacePrefix(E,this);case y:return D=this.documentElement,D?D.lookupPrefix(E):null;case f:case C:case _:case S:return null;case u:return D=this.ownerElement,D?D.lookupPrefix(E):null;default:return D=this.parentElement,D?D.lookupPrefix(E):null}}},lookupNamespaceURI:{value:function(E){(E===""||E===void 0)&&(E=null);var D;switch(this.nodeType){case a:return s.shouldOverride();case y:return D=this.documentElement,D?D.lookupNamespaceURI(E):null;case f:case C:case S:case _:return null;case u:return D=this.ownerElement,D?D.lookupNamespaceURI(E):null;default:return D=this.parentElement,D?D.lookupNamespaceURI(E):null}}},isDefaultNamespace:{value:function(E){(E===""||E===void 0)&&(E=null);var D=this.lookupNamespaceURI(null);return D===E}},index:{get:function(){var N=this.parentNode;if(this===N.firstChild)return 0;var E=N.childNodes;if(this._index===void 0||E[this._index]!==this){for(var D=0;D<E.length;D++)E[D]._index=D;s.assert(E[this._index]===this)}return this._index}},isAncestor:{value:function(N){if(this.doc!==N.doc||this.rooted!==N.rooted)return!1;for(var E=N;E;E=E.parentNode)if(E===this)return!0;return!1}},ensureSameDoc:{value:function(N){N.ownerDocument===null?N.ownerDocument=this.doc:N.ownerDocument!==this.doc&&s.WrongDocumentError()}},removeChildren:{value:s.shouldOverride},_insertOrReplace:{value:function(E,D,P){var p=this,m,v;if(p.nodeType===_&&p.rooted&&s.HierarchyRequestError(),E._childNodes&&(m=D===null?E._childNodes.length:D.index,p.parentNode===E)){var B=p.index;B<m&&m--}P&&(D.rooted&&D.doc.mutateRemove(D),D.parentNode=null);var z=D;z===null&&(z=E.firstChild);var J=p.rooted&&E.rooted;if(p.nodeType===_){for(var de=[0,P?1:0],De,Le=p.firstChild;Le!==null;Le=De)De=Le.nextSibling,de.push(Le),Le.parentNode=E;var U=de.length;if(P?r.replace(z,U>2?de[2]:null):U>2&&z!==null&&r.insertBefore(de[2],z),E._childNodes)for(de[0]=D===null?E._childNodes.length:D._index,E._childNodes.splice.apply(E._childNodes,de),v=2;v<U;v++)de[v]._index=de[0]+(v-2);else E._firstChild===D&&(U>2?E._firstChild=de[2]:P&&(E._firstChild=null));if(p._childNodes?p._childNodes.length=0:p._firstChild=null,E.rooted)for(E.modify(),v=2;v<U;v++)E.doc.mutateInsert(de[v])}else{if(D===p)return;J?p._remove():p.parentNode&&p.remove(),p.parentNode=E,P?(r.replace(z,p),E._childNodes?(p._index=m,E._childNodes[m]=p):E._firstChild===D&&(E._firstChild=p)):(z!==null&&r.insertBefore(p,z),E._childNodes?(p._index=m,E._childNodes.splice(m,0,p)):E._firstChild===D&&(E._firstChild=p)),J?(E.modify(),E.doc.mutateMove(p)):E.rooted&&(E.modify(),E.doc.mutateInsert(p))}}},lastModTime:{get:function(){return this._lastModTime||(this._lastModTime=this.doc.modclock),this._lastModTime}},modify:{value:function(){if(this.doc.modclock)for(var N=++this.doc.modclock,E=this;E;E=E.parentElement)E._lastModTime&&(E._lastModTime=N)}},doc:{get:function(){return this.ownerDocument||this}},rooted:{get:function(){return!!this._nid}},normalize:{value:function(){for(var N,E=this.firstChild;E!==null;E=N)if(N=E.nextSibling,E.normalize&&E.normalize(),E.nodeType===o.TEXT_NODE){if(E.nodeValue===""){this.removeChild(E);continue}var D=E.previousSibling;D!==null&&D.nodeType===o.TEXT_NODE&&(D.appendData(E.nodeValue),this.removeChild(E))}}},serialize:{value:function(){if(this._innerHTML)return this._innerHTML;for(var N="",E=this.firstChild;E!==null;E=E.nextSibling)N+=i.serializeOne(E,this);return N}},outerHTML:{get:function(){return i.serializeOne(this,{nodeType:0})},set:s.nyi},ELEMENT_NODE:{value:a},ATTRIBUTE_NODE:{value:u},TEXT_NODE:{value:c},CDATA_SECTION_NODE:{value:l},ENTITY_REFERENCE_NODE:{value:d},ENTITY_NODE:{value:f},PROCESSING_INSTRUCTION_NODE:{value:h},COMMENT_NODE:{value:g},DOCUMENT_NODE:{value:y},DOCUMENT_TYPE_NODE:{value:S},DOCUMENT_FRAGMENT_NODE:{value:_},NOTATION_NODE:{value:C},DOCUMENT_POSITION_DISCONNECTED:{value:I},DOCUMENT_POSITION_PRECEDING:{value:T},DOCUMENT_POSITION_FOLLOWING:{value:x},DOCUMENT_POSITION_CONTAINS:{value:V},DOCUMENT_POSITION_CONTAINED_BY:{value:R},DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:{value:A}})}}),fse=qe({"external/npm/node_modules/domino/lib/NodeList.es6.js"(n,e){e.exports=class extends Array{constructor(r){if(super(r&&r.length||0),r)for(var i in r)this[i]=r[i]}item(r){return this[r]||null}}}}),hse=qe({"external/npm/node_modules/domino/lib/NodeList.es5.js"(n,e){function t(i){return this[i]||null}function r(i){return i||(i=[]),i.item=t,i}e.exports=r}}),Cf=qe({"external/npm/node_modules/domino/lib/NodeList.js"(n,e){var t;try{t=fse()}catch{t=hse()}e.exports=t}}),qI=qe({"external/npm/node_modules/domino/lib/ContainerNode.js"(n,e){e.exports=i;var t=Pr(),r=Cf();function i(){t.call(this),this._firstChild=this._childNodes=null}i.prototype=Object.create(t.prototype,{hasChildNodes:{value:function(){return this._childNodes?this._childNodes.length>0:this._firstChild!==null}},childNodes:{get:function(){return this._ensureChildNodes(),this._childNodes}},firstChild:{get:function(){return this._childNodes?this._childNodes.length===0?null:this._childNodes[0]:this._firstChild}},lastChild:{get:function(){var s=this._childNodes,o;return s?s.length===0?null:s[s.length-1]:(o=this._firstChild,o===null?null:o._previousSibling)}},_ensureChildNodes:{value:function(){if(!this._childNodes){var s=this._firstChild,o=s,a=this._childNodes=new r;if(s)do a.push(o),o=o._nextSibling;while(o!==s);this._firstChild=null}}},removeChildren:{value:function(){for(var o=this.rooted?this.ownerDocument:null,a=this.firstChild,u;a!==null;)u=a,a=u.nextSibling,o&&o.mutateRemove(u),u.parentNode=null;this._childNodes?this._childNodes.length=0:this._firstChild=null,this.modify()}}})}}),jI=qe({"external/npm/node_modules/domino/lib/xmlnames.js"(n){n.isValidName=y,n.isValidQName=S;var e=/^[_:A-Za-z][-.:\w]+$/,t=/^([_A-Za-z][-.\w]+|[_A-Za-z][-.\w]+:[_A-Za-z][-.\w]+)$/,r="_A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD",i="-._A-Za-z0-9\xB7\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0300-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD",s="["+r+"]["+i+"]*",o=r+":",a=i+":",u=new RegExp("^["+o+"]["+a+"]*$"),c=new RegExp("^("+s+"|"+s+":"+s+")$"),l=/[\uD800-\uDB7F\uDC00-\uDFFF]/,d=/[\uD800-\uDB7F\uDC00-\uDFFF]/g,f=/[\uD800-\uDB7F][\uDC00-\uDFFF]/g;r+="\uD800-\u{EFC00}-\uDFFF",i+="\uD800-\u{EFC00}-\uDFFF",s="["+r+"]["+i+"]*",o=r+":",a=i+":";var h=new RegExp("^["+o+"]["+a+"]*$"),g=new RegExp("^("+s+"|"+s+":"+s+")$");function y(_){if(e.test(_)||u.test(_))return!0;if(!l.test(_)||!h.test(_))return!1;var C=_.match(d),I=_.match(f);return I!==null&&2*I.length===C.length}function S(_){if(t.test(_)||c.test(_))return!0;if(!l.test(_)||!g.test(_))return!1;var C=_.match(d),I=_.match(f);return I!==null&&2*I.length===C.length}}}),$F=qe({"external/npm/node_modules/domino/lib/attributes.js"(n){var e=Vn();n.property=function(r){if(Array.isArray(r.type)){var i=Object.create(null);r.type.forEach(function(a){i[a.value||a]=a.alias||a});var s=r.missing;s===void 0&&(s=null);var o=r.invalid;return o===void 0&&(o=s),{get:function(){var a=this._getattr(r.name);return a===null?s:(a=i[a.toLowerCase()],a!==void 0?a:o!==null?o:a)},set:function(a){this._setattr(r.name,a)}}}else{if(r.type===Boolean)return{get:function(){return this.hasAttribute(r.name)},set:function(a){a?this._setattr(r.name,""):this.removeAttribute(r.name)}};if(r.type===Number||r.type==="long"||r.type==="unsigned long"||r.type==="limited unsigned long with fallback")return t(r);if(!r.type||r.type===String)return{get:function(){return this._getattr(r.name)||""},set:function(a){r.treatNullAsEmptyString&&a===null&&(a=""),this._setattr(r.name,a)}};if(typeof r.type=="function")return r.type(r.name,r)}throw new Error("Invalid attribute definition")};function t(r){var i;typeof r.default=="function"?i=r.default:typeof r.default=="number"?i=function(){return r.default}:i=function(){e.assert(!1,typeof r.default)};var s=r.type==="unsigned long",o=r.type==="long",a=r.type==="limited unsigned long with fallback",u=r.min,c=r.max,l=r.setmin;return u===void 0&&(s&&(u=0),o&&(u=-2147483648),a&&(u=1)),c===void 0&&(s||o||a)&&(c=2147483647),{get:function(){var d=this._getattr(r.name),f=r.float?parseFloat(d):parseInt(d,10);if(d===null||!isFinite(f)||u!==void 0&&f<u||c!==void 0&&f>c)return i.call(this);if(s||o||a){if(!/^[ \t\n\f\r]*[-+]?[0-9]/.test(d))return i.call(this);f=f|0}return f},set:function(d){r.float||(d=Math.floor(d)),l!==void 0&&d<l&&e.IndexSizeError(r.name+" set to "+d),s?d=d<0||d>2147483647?i.call(this):d|0:a?d=d<1||d>2147483647?i.call(this):d|0:o&&(d=d<-2147483648||d>2147483647?i.call(this):d|0),this._setattr(r.name,String(d))}}}n.registerChangeHandler=function(r,i,s){var o=r.prototype;Object.prototype.hasOwnProperty.call(o,"_attributeChangeHandlers")||(o._attributeChangeHandlers=Object.create(o._attributeChangeHandlers||null)),o._attributeChangeHandlers[i]=s}}}),pse=qe({"external/npm/node_modules/domino/lib/FilteredElementList.js"(n,e){e.exports=r;var t=Pr();function r(i,s){this.root=i,this.filter=s,this.lastModTime=i.lastModTime,this.done=!1,this.cache=[],this.traverse()}r.prototype=Object.create(Object.prototype,{length:{get:function(){return this.checkcache(),this.done||this.traverse(),this.cache.length}},item:{value:function(i){return this.checkcache(),!this.done&&i>=this.cache.length&&this.traverse(),this.cache[i]}},checkcache:{value:function(){if(this.lastModTime!==this.root.lastModTime){for(var i=this.cache.length-1;i>=0;i--)this[i]=void 0;this.cache.length=0,this.done=!1,this.lastModTime=this.root.lastModTime}}},traverse:{value:function(i){i!==void 0&&i++;for(var s;(s=this.next())!==null;)if(this[this.cache.length]=s,this.cache.push(s),i&&this.cache.length===i)return;this.done=!0}},next:{value:function(){var i=this.cache.length===0?this.root:this.cache[this.cache.length-1],s;for(i.nodeType===t.DOCUMENT_NODE?s=i.documentElement:s=i.nextElement(this.root);s;){if(this.filter(s))return s;s=s.nextElement(this.root)}return null}}})}}),zF=qe({"external/npm/node_modules/domino/lib/DOMTokenList.js"(n,e){var t=Vn();e.exports=r;function r(u,c){this._getString=u,this._setString=c,this._length=0,this._lastStringValue="",this._update()}Object.defineProperties(r.prototype,{length:{get:function(){return this._length}},item:{value:function(u){var c=a(this);return u<0||u>=c.length?null:c[u]}},contains:{value:function(u){u=String(u);var c=a(this);return c.indexOf(u)>-1}},add:{value:function(){for(var u=a(this),c=0,l=arguments.length;c<l;c++){var d=s(arguments[c]);u.indexOf(d)<0&&u.push(d)}this._update(u)}},remove:{value:function(){for(var u=a(this),c=0,l=arguments.length;c<l;c++){var d=s(arguments[c]),f=u.indexOf(d);f>-1&&u.splice(f,1)}this._update(u)}},toggle:{value:function(c,l){return c=s(c),this.contains(c)?l===void 0||l===!1?(this.remove(c),!1):!0:l===void 0||l===!0?(this.add(c),!0):!1}},replace:{value:function(c,l){String(l)===""&&t.SyntaxError(),c=s(c),l=s(l);var d=a(this),f=d.indexOf(c);if(f<0)return!1;var h=d.indexOf(l);return h<0?d[f]=l:f<h?(d[f]=l,d.splice(h,1)):d.splice(f,1),this._update(d),!0}},toString:{value:function(){return this._getString()}},value:{get:function(){return this._getString()},set:function(u){this._setString(u),this._update()}},_update:{value:function(u){u?(i(this,u),this._setString(u.join(" ").trim())):i(this,a(this)),this._lastStringValue=this._getString()}}});function i(u,c){var l=u._length,d;for(u._length=c.length,d=0;d<c.length;d++)u[d]=c[d];for(;d<l;d++)u[d]=void 0}function s(u){return u=String(u),u===""&&t.SyntaxError(),/[ \t\r\n\f]/.test(u)&&t.InvalidCharacterError(),u}function o(u){for(var c=u._length,l=Array(c),d=0;d<c;d++)l[d]=u[d];return l}function a(u){var c=u._getString();if(c===u._lastStringValue)return o(u);var l=c.replace(/(^[ \t\r\n\f]+)|([ \t\r\n\f]+$)/g,"");if(l==="")return[];var d=Object.create(null);return l.split(/[ \t\r\n\f]+/g).filter(function(f){var h="$"+f;return d[h]?!1:(d[h]=!0,!0)})}}}),HI=qe({"external/npm/node_modules/domino/lib/select.js"(n,e){var t=Object.create(null,{location:{get:function(){throw new Error("window.location is not supported.")}}}),r=function(p,m){return p.compareDocumentPosition(m)},i=function(p,m){return r(p,m)&2?1:-1},s=function(p){for(;(p=p.nextSibling)&&p.nodeType!==1;);return p},o=function(p){for(;(p=p.previousSibling)&&p.nodeType!==1;);return p},a=function(p){if(p=p.firstChild)for(;p.nodeType!==1&&(p=p.nextSibling););return p},u=function(p){if(p=p.lastChild)for(;p.nodeType!==1&&(p=p.previousSibling););return p},c=function(p){if(!p.parentNode)return!1;var m=p.parentNode.nodeType;return m===1||m===9},l=function(p){if(!p)return p;var m=p[0];return m==='"'||m==="'"?(p[p.length-1]===m?p=p.slice(1,-1):p=p.slice(1),p.replace(x.str_escape,function(v){var B=/^\\(?:([0-9A-Fa-f]+)|([\r\n\f]+))/.exec(v);if(!B)return v.slice(1);if(B[2])return"";var z=parseInt(B[1],16);return String.fromCodePoint?String.fromCodePoint(z):String.fromCharCode(z)})):x.ident.test(p)?d(p):p},d=function(p){return p.replace(x.escape,function(m){var v=/^\\([0-9A-Fa-f]+)/.exec(m);if(!v)return m[1];var B=parseInt(v[1],16);return String.fromCodePoint?String.fromCodePoint(B):String.fromCharCode(B)})},f=function(){return Array.prototype.indexOf?Array.prototype.indexOf:function(p,m){for(var v=this.length;v--;)if(this[v]===m)return v;return-1}}(),h=function(p,m){var v=x.inside.source.replace(/</g,p).replace(/>/g,m);return new RegExp(v)},g=function(p,m,v){return p=p.source,p=p.replace(m,v.source||v),new RegExp(p)},y=function(p,m){return p.replace(/^(?:\w+:\/\/|\/+)/,"").replace(/(?:\/+|\/*#.*?)$/,"").split("/",m).join("/")},S=function(p,m){var v=p.replace(/\s+/g,""),B;return v==="even"?v="2n+0":v==="odd"?v="2n+1":v.indexOf("n")===-1&&(v="0n"+v),B=/^([+-])?(\d+)?n([+-])?(\d+)?$/.exec(v),{group:B[1]==="-"?-(B[2]||1):+(B[2]||1),offset:B[4]?B[3]==="-"?-B[4]:+B[4]:0}},_=function(p,m,v){var B=S(p),z=B.group,J=B.offset,de=v?u:a,De=v?o:s;return function(Le){if(c(Le))for(var U=de(Le.parentNode),q=0;U;){if(m(U,Le)&&q++,U===Le)return q-=J,z&&q?q%z===0&&q<0==z<0:!q;U=De(U)}}},C={"*":function(){return function(){return!0}}(),type:function(p){return p=p.toLowerCase(),function(m){return m.nodeName.toLowerCase()===p}},attr:function(p,m,v,B){return m=I[m],function(z){var J;switch(p){case"for":J=z.htmlFor;break;case"class":J=z.className,J===""&&z.getAttribute("class")==null&&(J=null);break;case"href":case"src":J=z.getAttribute(p,2);break;case"title":J=z.getAttribute("title")||null;break;case"id":case"lang":case"dir":case"accessKey":case"hidden":case"tabIndex":case"style":if(z.getAttribute){J=z.getAttribute(p);break}default:if(z.hasAttribute&&!z.hasAttribute(p))break;J=z[p]!=null?z[p]:z.getAttribute&&z.getAttribute(p);break}if(J!=null)return J=J+"",B&&(J=J.toLowerCase(),v=v.toLowerCase()),m(J,v)}},":first-child":function(p){return!o(p)&&c(p)},":last-child":function(p){return!s(p)&&c(p)},":only-child":function(p){return!o(p)&&!s(p)&&c(p)},":nth-child":function(p,m){return _(p,function(){return!0},m)},":nth-last-child":function(p){return C[":nth-child"](p,!0)},":root":function(p){return p.ownerDocument.documentElement===p},":empty":function(p){return!p.firstChild},":not":function(p){var m=D(p);return function(v){return!m(v)}},":first-of-type":function(p){if(c(p)){for(var m=p.nodeName;p=o(p);)if(p.nodeName===m)return;return!0}},":last-of-type":function(p){if(c(p)){for(var m=p.nodeName;p=s(p);)if(p.nodeName===m)return;return!0}},":only-of-type":function(p){return C[":first-of-type"](p)&&C[":last-of-type"](p)},":nth-of-type":function(p,m){return _(p,function(v,B){return v.nodeName===B.nodeName},m)},":nth-last-of-type":function(p){return C[":nth-of-type"](p,!0)},":checked":function(p){return!!(p.checked||p.selected)},":indeterminate":function(p){return!C[":checked"](p)},":enabled":function(p){return!p.disabled&&p.type!=="hidden"},":disabled":function(p){return!!p.disabled},":target":function(p){return p.id===t.location.hash.substring(1)},":focus":function(p){return p===p.ownerDocument.activeElement},":is":function(p){return D(p)},":matches":function(p){return C[":is"](p)},":nth-match":function(p,m){var v=p.split(/\s*,\s*/),B=v.shift(),z=D(v.join(","));return _(B,z,m)},":nth-last-match":function(p){return C[":nth-match"](p,!0)},":links-here":function(p){return p+""==t.location+""},":lang":function(p){return function(m){for(;m;){if(m.lang)return m.lang.indexOf(p)===0;m=m.parentNode}}},":dir":function(p){return function(m){for(;m;){if(m.dir)return m.dir===p;m=m.parentNode}}},":scope":function(p,m){var v=m||p.ownerDocument;return v.nodeType===9?p===v.documentElement:p===v},":any-link":function(p){return typeof p.href=="string"},":local-link":function(p){if(p.nodeName)return p.href&&p.host===t.location.host;var m=+p+1;return function(v){if(v.href){var B=t.location+"",z=v+"";return y(B,m)===y(z,m)}}},":default":function(p){return!!p.defaultSelected},":valid":function(p){return p.willValidate||p.validity&&p.validity.valid},":invalid":function(p){return!C[":valid"](p)},":in-range":function(p){return p.value>p.min&&p.value<=p.max},":out-of-range":function(p){return!C[":in-range"](p)},":required":function(p){return!!p.required},":optional":function(p){return!p.required},":read-only":function(p){if(p.readOnly)return!0;var m=p.getAttribute("contenteditable"),v=p.contentEditable,B=p.nodeName.toLowerCase();return B=B!=="input"&&B!=="textarea",(B||p.disabled)&&m==null&&v!=="true"},":read-write":function(p){return!C[":read-only"](p)},":hover":function(){throw new Error(":hover is not supported.")},":active":function(){throw new Error(":active is not supported.")},":link":function(){throw new Error(":link is not supported.")},":visited":function(){throw new Error(":visited is not supported.")},":column":function(){throw new Error(":column is not supported.")},":nth-column":function(){throw new Error(":nth-column is not supported.")},":nth-last-column":function(){throw new Error(":nth-last-column is not supported.")},":current":function(){throw new Error(":current is not supported.")},":past":function(){throw new Error(":past is not supported.")},":future":function(){throw new Error(":future is not supported.")},":contains":function(p){return function(m){var v=m.innerText||m.textContent||m.value||"";return v.indexOf(p)!==-1}},":has":function(p){return function(m){return P(p,m).length>0}}},I={"-":function(){return!0},"=":function(p,m){return p===m},"*=":function(p,m){return p.indexOf(m)!==-1},"~=":function(p,m){var v,B,z,J;for(B=0;;B=v+1){if(v=p.indexOf(m,B),v===-1)return!1;if(z=p[v-1],J=p[v+m.length],(!z||z===" ")&&(!J||J===" "))return!0}},"|=":function(p,m){var v=p.indexOf(m),B;if(v===0)return B=p[v+m.length],B==="-"||!B},"^=":function(p,m){return p.indexOf(m)===0},"$=":function(p,m){var v=p.lastIndexOf(m);return v!==-1&&v+m.length===p.length},"!=":function(p,m){return p!==m}},T={" ":function(p){return function(m){for(;m=m.parentNode;)if(p(m))return m}},">":function(p){return function(m){if(m=m.parentNode)return p(m)&&m}},"+":function(p){return function(m){if(m=o(m))return p(m)&&m}},"~":function(p){return function(m){for(;m=o(m);)if(p(m))return m}},noop:function(p){return function(m){return p(m)&&m}},ref:function(p,m){var v;function B(z){for(var J=z.ownerDocument,de=J.getElementsByTagName("*"),De=de.length;De--;)if(v=de[De],B.test(z))return v=null,!0;v=null}return B.combinator=function(z){if(!(!v||!v.getAttribute)){var J=v.getAttribute(m)||"";if(J[0]==="#"&&(J=J.substring(1)),J===z.id&&p(v))return v}},B}},x={escape:/\\(?:[^0-9A-Fa-f\r\n]|[0-9A-Fa-f]{1,6}[\r\n\t ]?)/g,str_escape:/(escape)|\\(\n|\r\n?|\f)/g,nonascii:/[\u00A0-\uFFFF]/,cssid:/(?:(?!-?[0-9])(?:escape|nonascii|[-_a-zA-Z0-9])+)/,qname:/^ *(cssid|\*)/,simple:/^(?:([.#]cssid)|pseudo|attr)/,ref:/^ *\/(cssid)\/ */,combinator:/^(?: +([^ \w*.#\\]) +|( )+|([^ \w*.#\\]))(?! *$)/,attr:/^\[(cssid)(?:([^\w]?=)(inside))?\]/,pseudo:/^(:cssid)(?:\((inside)\))?/,inside:/(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|<[^"'>]*>|\\["'>]|[^"'>])*/,ident:/^(cssid)$/};x.cssid=g(x.cssid,"nonascii",x.nonascii),x.cssid=g(x.cssid,"escape",x.escape),x.qname=g(x.qname,"cssid",x.cssid),x.simple=g(x.simple,"cssid",x.cssid),x.ref=g(x.ref,"cssid",x.cssid),x.attr=g(x.attr,"cssid",x.cssid),x.pseudo=g(x.pseudo,"cssid",x.cssid),x.inside=g(x.inside,`[^"'>]*`,x.inside),x.attr=g(x.attr,"inside",h("\\[","\\]")),x.pseudo=g(x.pseudo,"inside",h("\\(","\\)")),x.simple=g(x.simple,"pseudo",x.pseudo),x.simple=g(x.simple,"attr",x.attr),x.ident=g(x.ident,"cssid",x.cssid),x.str_escape=g(x.str_escape,"escape",x.escape);var V=function(p){for(var m=p.replace(/^\s+|\s+$/g,""),v,B=[],z=[],J,de,De,Le,U;m;){if(De=x.qname.exec(m))m=m.substring(De[0].length),de=d(De[1]),z.push(R(de,!0));else if(De=x.simple.exec(m))m=m.substring(De[0].length),de="*",z.push(R(de,!0)),z.push(R(De));else throw new SyntaxError("Invalid selector.");for(;De=x.simple.exec(m);)m=m.substring(De[0].length),z.push(R(De));if(m[0]==="!"&&(m=m.substring(1),J=E(),J.qname=de,z.push(J.simple)),De=x.ref.exec(m)){m=m.substring(De[0].length),U=T.ref(A(z),d(De[1])),B.push(U.combinator),z=[];continue}if(De=x.combinator.exec(m)){if(m=m.substring(De[0].length),Le=De[1]||De[2]||De[3],Le===","){B.push(T.noop(A(z)));break}}else Le="noop";if(!T[Le])throw new SyntaxError("Bad combinator.");B.push(T[Le](A(z))),z=[]}return v=N(B),v.qname=de,v.sel=m,J&&(J.lname=v.qname,J.test=v,J.qname=J.qname,J.sel=v.sel,v=J),U&&(U.test=v,U.qname=v.qname,U.sel=v.sel,v=U),v},R=function(p,m){if(m)return p==="*"?C["*"]:C.type(p);if(p[1])return p[1][0]==="."?C.attr("class","~=",d(p[1].substring(1)),!1):C.attr("id","=",d(p[1].substring(1)),!1);if(p[2])return p[3]?C[d(p[2])](l(p[3])):C[d(p[2])];if(p[4]){var v=p[6],B=/["'\s]\s*I$/i.test(v);return B&&(v=v.replace(/\s*I$/i,"")),C.attr(d(p[4]),p[5]||"-",l(v),B)}throw new SyntaxError("Unknown Selector.")},A=function(p){var m=p.length,v;return m<2?p[0]:function(B){if(B){for(v=0;v<m;v++)if(!p[v](B))return;return!0}}},N=function(p){return p.length<2?function(m){return!!p[0](m)}:function(m){for(var v=p.length;v--;)if(!(m=p[v](m)))return;return!0}},E=function(){var p;function m(v){for(var B=v.ownerDocument,z=B.getElementsByTagName(m.lname),J=z.length;J--;)if(m.test(z[J])&&p===v)return p=null,!0;p=null}return m.simple=function(v){return p=v,!0},m},D=function(p){for(var m=V(p),v=[m];m.sel;)m=V(m.sel),v.push(m);return v.length<2?m:function(B){for(var z=v.length,J=0;J<z;J++)if(v[J](B))return!0}},P=function(p,m){for(var v=[],B=V(p),z=m.getElementsByTagName(B.qname),J=0,de;de=z[J++];)B(de)&&v.push(de);if(B.sel){for(;B.sel;)for(B=V(B.sel),z=m.getElementsByTagName(B.qname),J=0;de=z[J++];)B(de)&&f.call(v,de)===-1&&v.push(de);v.sort(i)}return v};e.exports=n=function(p,m){var v,B;if(m.nodeType!==11&&p.indexOf(" ")===-1){if(p[0]==="#"&&m.rooted&&/^#[A-Z_][-A-Z0-9_]*$/i.test(p)&&m.doc._hasMultipleElementsWithId&&(v=p.substring(1),!m.doc._hasMultipleElementsWithId(v)))return B=m.doc.getElementById(v),B?[B]:[];if(p[0]==="."&&/^\.\w+$/.test(p))return m.getElementsByClassName(p.substring(1));if(/^\w+$/.test(p))return m.getElementsByTagName(p)}return P(p,m)},n.selectors=C,n.operators=I,n.combinators=T,n.matches=function(p,m){var v={sel:m};do if(v=V(v.sel),v(p))return!0;while(v.sel);return!1}}}),$I=qe({"external/npm/node_modules/domino/lib/ChildNode.js"(n,e){var t=Pr(),r=jF(),i=function(o,a){for(var u=o.createDocumentFragment(),c=0;c<a.length;c++){var l=a[c],d=l instanceof t;u.appendChild(d?l:o.createTextNode(String(l)))}return u},s={after:{value:function(){var a=Array.prototype.slice.call(arguments),u=this.parentNode,c=this.nextSibling;if(u!==null){for(;c&&a.some(function(d){return d===c});)c=c.nextSibling;var l=i(this.doc,a);u.insertBefore(l,c)}}},before:{value:function(){var a=Array.prototype.slice.call(arguments),u=this.parentNode,c=this.previousSibling;if(u!==null){for(;c&&a.some(function(f){return f===c});)c=c.previousSibling;var l=i(this.doc,a),d=c?c.nextSibling:u.firstChild;u.insertBefore(l,d)}}},remove:{value:function(){this.parentNode!==null&&(this.doc&&(this.doc._preremoveNodeIterators(this),this.rooted&&this.doc.mutateRemove(this)),this._remove(),this.parentNode=null)}},_remove:{value:function(){var a=this.parentNode;a!==null&&(a._childNodes?a._childNodes.splice(this.index,1):a._firstChild===this&&(this._nextSibling===this?a._firstChild=null:a._firstChild=this._nextSibling),r.remove(this),a.modify())}},replaceWith:{value:function(){var a=Array.prototype.slice.call(arguments),u=this.parentNode,c=this.nextSibling;if(u!==null){for(;c&&a.some(function(d){return d===c});)c=c.nextSibling;var l=i(this.doc,a);this.parentNode===u?u.replaceChild(l,this):u.insertBefore(l,c)}}}};e.exports=s}}),GF=qe({"external/npm/node_modules/domino/lib/NonDocumentTypeChildNode.js"(n,e){var t=Pr(),r={nextElementSibling:{get:function(){if(this.parentNode){for(var i=this.nextSibling;i!==null;i=i.nextSibling)if(i.nodeType===t.ELEMENT_NODE)return i}return null}},previousElementSibling:{get:function(){if(this.parentNode){for(var i=this.previousSibling;i!==null;i=i.previousSibling)if(i.nodeType===t.ELEMENT_NODE)return i}return null}}};e.exports=r}}),WF=qe({"external/npm/node_modules/domino/lib/NamedNodeMap.js"(n,e){e.exports=r;var t=Vn();function r(i){this.element=i}Object.defineProperties(r.prototype,{length:{get:t.shouldOverride},item:{value:t.shouldOverride},getNamedItem:{value:function(s){return this.element.getAttributeNode(s)}},getNamedItemNS:{value:function(s,o){return this.element.getAttributeNodeNS(s,o)}},setNamedItem:{value:t.nyi},setNamedItemNS:{value:t.nyi},removeNamedItem:{value:function(s){var o=this.element.getAttributeNode(s);if(o)return this.element.removeAttribute(s),o;t.NotFoundError()}},removeNamedItemNS:{value:function(s,o){var a=this.element.getAttributeNodeNS(s,o);if(a)return this.element.removeAttributeNS(s,o),a;t.NotFoundError()}}})}}),Lm=qe({"external/npm/node_modules/domino/lib/Element.js"(n,e){e.exports=_;var t=jI(),r=Vn(),i=r.NAMESPACE,s=$F(),o=Pr(),a=Cf(),u=HF(),c=pse(),l=zF(),d=HI(),f=qI(),h=$I(),g=GF(),y=WF(),S=Object.create(null);function _(p,m,v,B){f.call(this),this.nodeType=o.ELEMENT_NODE,this.ownerDocument=p,this.localName=m,this.namespaceURI=v,this.prefix=B,this._tagName=void 0,this._attrsByQName=Object.create(null),this._attrsByLName=Object.create(null),this._attrKeys=[]}function C(p,m){if(p.nodeType===o.TEXT_NODE)m.push(p._data);else for(var v=0,B=p.childNodes.length;v<B;v++)C(p.childNodes[v],m)}_.prototype=Object.create(f.prototype,{isHTML:{get:function(){return this.namespaceURI===i.HTML&&this.ownerDocument.isHTML}},tagName:{get:function(){if(this._tagName===void 0){var m;if(this.prefix===null?m=this.localName:m=this.prefix+":"+this.localName,this.isHTML){var v=S[m];v||(S[m]=v=r.toASCIIUpperCase(m)),m=v}this._tagName=m}return this._tagName}},nodeName:{get:function(){return this.tagName}},nodeValue:{get:function(){return null},set:function(){}},textContent:{get:function(){var p=[];return C(this,p),p.join("")},set:function(p){this.removeChildren(),p!=null&&p!==""&&this._appendChild(this.ownerDocument.createTextNode(p))}},innerText:{get:function(){var p=[];return C(this,p),p.join("").replace(/[ \t\n\f\r]+/g," ").trim()},set:function(p){this.removeChildren(),p!=null&&p!==""&&this._appendChild(this.ownerDocument.createTextNode(p))}},innerHTML:{get:function(){return this.serialize()},set:r.nyi},outerHTML:{get:function(){return u.serializeOne(this,{nodeType:0})},set:function(p){var m=this.ownerDocument,v=this.parentNode;if(v!==null){v.nodeType===o.DOCUMENT_NODE&&r.NoModificationAllowedError(),v.nodeType===o.DOCUMENT_FRAGMENT_NODE&&(v=v.ownerDocument.createElement("body"));var B=m.implementation.mozHTMLParser(m._address,v);B.parse(p===null?"":String(p),!0),this.replaceWith(B._asDocumentFragment())}}},_insertAdjacent:{value:function(m,v){var B=!1;switch(m){case"beforebegin":B=!0;case"afterend":var z=this.parentNode;return z===null?null:z.insertBefore(v,B?this:this.nextSibling);case"afterbegin":B=!0;case"beforeend":return this.insertBefore(v,B?this.firstChild:null);default:return r.SyntaxError()}}},insertAdjacentElement:{value:function(m,v){if(v.nodeType!==o.ELEMENT_NODE)throw new TypeError("not an element");return m=r.toASCIILowerCase(String(m)),this._insertAdjacent(m,v)}},insertAdjacentText:{value:function(m,v){var B=this.ownerDocument.createTextNode(v);m=r.toASCIILowerCase(String(m)),this._insertAdjacent(m,B)}},insertAdjacentHTML:{value:function(m,v){m=r.toASCIILowerCase(String(m)),v=String(v);var B;switch(m){case"beforebegin":case"afterend":B=this.parentNode,(B===null||B.nodeType===o.DOCUMENT_NODE)&&r.NoModificationAllowedError();break;case"afterbegin":case"beforeend":B=this;break;default:r.SyntaxError()}(!(B instanceof _)||B.ownerDocument.isHTML&&B.localName==="html"&&B.namespaceURI===i.HTML)&&(B=B.ownerDocument.createElementNS(i.HTML,"body"));var z=this.ownerDocument.implementation.mozHTMLParser(this.ownerDocument._address,B);z.parse(v,!0),this._insertAdjacent(m,z._asDocumentFragment())}},children:{get:function(){return this._children||(this._children=new V(this)),this._children}},attributes:{get:function(){return this._attributes||(this._attributes=new T(this)),this._attributes}},firstElementChild:{get:function(){for(var p=this.firstChild;p!==null;p=p.nextSibling)if(p.nodeType===o.ELEMENT_NODE)return p;return null}},lastElementChild:{get:function(){for(var p=this.lastChild;p!==null;p=p.previousSibling)if(p.nodeType===o.ELEMENT_NODE)return p;return null}},childElementCount:{get:function(){return this.children.length}},nextElement:{value:function(p){p||(p=this.ownerDocument.documentElement);var m=this.firstElementChild;if(!m){if(this===p)return null;m=this.nextElementSibling}if(m)return m;for(var v=this.parentElement;v&&v!==p;v=v.parentElement)if(m=v.nextElementSibling,m)return m;return null}},getElementsByTagName:{value:function(m){var v;return m?(m==="*"?v=function(){return!0}:this.isHTML?v=A(m):v=R(m),new c(this,v)):new a}},getElementsByTagNameNS:{value:function(m,v){var B;return m==="*"&&v==="*"?B=function(){return!0}:m==="*"?B=R(v):v==="*"?B=N(m):B=E(m,v),new c(this,B)}},getElementsByClassName:{value:function(m){if(m=String(m).trim(),m===""){var v=new a;return v}return m=m.split(/[ \t\r\n\f]+/),new c(this,D(m))}},getElementsByName:{value:function(m){return new c(this,P(String(m)))}},clone:{value:function(){var m;this.namespaceURI!==i.HTML||this.prefix||!this.ownerDocument.isHTML?m=this.ownerDocument.createElementNS(this.namespaceURI,this.prefix!==null?this.prefix+":"+this.localName:this.localName):m=this.ownerDocument.createElement(this.localName);for(var v=0,B=this._attrKeys.length;v<B;v++){var z=this._attrKeys[v],J=this._attrsByLName[z],de=J.cloneNode();de._setOwnerElement(m),m._attrsByLName[z]=de,m._addQName(de)}return m._attrKeys=this._attrKeys.concat(),m}},isEqual:{value:function(m){if(this.localName!==m.localName||this.namespaceURI!==m.namespaceURI||this.prefix!==m.prefix||this._numattrs!==m._numattrs)return!1;for(var v=0,B=this._numattrs;v<B;v++){var z=this._attr(v);if(!m.hasAttributeNS(z.namespaceURI,z.localName)||m.getAttributeNS(z.namespaceURI,z.localName)!==z.value)return!1}return!0}},_lookupNamespacePrefix:{value:function(m,v){if(this.namespaceURI&&this.namespaceURI===m&&this.prefix!==null&&v.lookupNamespaceURI(this.prefix)===m)return this.prefix;for(var B=0,z=this._numattrs;B<z;B++){var J=this._attr(B);if(J.prefix==="xmlns"&&J.value===m&&v.lookupNamespaceURI(J.localName)===m)return J.localName}var de=this.parentElement;return de?de._lookupNamespacePrefix(m,v):null}},lookupNamespaceURI:{value:function(m){if((m===""||m===void 0)&&(m=null),this.namespaceURI!==null&&this.prefix===m)return this.namespaceURI;for(var v=0,B=this._numattrs;v<B;v++){var z=this._attr(v);if(z.namespaceURI===i.XMLNS&&(z.prefix==="xmlns"&&z.localName===m||m===null&&z.prefix===null&&z.localName==="xmlns"))return z.value||null}var J=this.parentElement;return J?J.lookupNamespaceURI(m):null}},getAttribute:{value:function(m){var v=this.getAttributeNode(m);return v?v.value:null}},getAttributeNS:{value:function(m,v){var B=this.getAttributeNodeNS(m,v);return B?B.value:null}},getAttributeNode:{value:function(m){m=String(m),/[A-Z]/.test(m)&&this.isHTML&&(m=r.toASCIILowerCase(m));var v=this._attrsByQName[m];return v?(Array.isArray(v)&&(v=v[0]),v):null}},getAttributeNodeNS:{value:function(m,v){m=m==null?"":String(m),v=String(v);var B=this._attrsByLName[m+"|"+v];return B||null}},hasAttribute:{value:function(m){return m=String(m),/[A-Z]/.test(m)&&this.isHTML&&(m=r.toASCIILowerCase(m)),this._attrsByQName[m]!==void 0}},hasAttributeNS:{value:function(m,v){m=m==null?"":String(m),v=String(v);var B=m+"|"+v;return this._attrsByLName[B]!==void 0}},hasAttributes:{value:function(){return this._numattrs>0}},toggleAttribute:{value:function(m,v){m=String(m),t.isValidName(m)||r.InvalidCharacterError(),/[A-Z]/.test(m)&&this.isHTML&&(m=r.toASCIILowerCase(m));var B=this._attrsByQName[m];return B===void 0?v===void 0||v===!0?(this._setAttribute(m,""),!0):!1:v===void 0||v===!1?(this.removeAttribute(m),!1):!0}},_setAttribute:{value:function(m,v){var B=this._attrsByQName[m],z;B?Array.isArray(B)&&(B=B[0]):(B=this._newattr(m),z=!0),B.value=v,this._attributes&&(this._attributes[m]=B),z&&this._newattrhook&&this._newattrhook(m,v)}},setAttribute:{value:function(m,v){m=String(m),t.isValidName(m)||r.InvalidCharacterError(),/[A-Z]/.test(m)&&this.isHTML&&(m=r.toASCIILowerCase(m)),this._setAttribute(m,String(v))}},_setAttributeNS:{value:function(m,v,B){var z=v.indexOf(":"),J,de;z<0?(J=null,de=v):(J=v.substring(0,z),de=v.substring(z+1)),(m===""||m===void 0)&&(m=null);var De=(m===null?"":m)+"|"+de,Le=this._attrsByLName[De],U;Le||(Le=new I(this,de,J,m),U=!0,this._attrsByLName[De]=Le,this._attributes&&(this._attributes[this._attrKeys.length]=Le),this._attrKeys.push(De),this._addQName(Le)),Le.value=B,U&&this._newattrhook&&this._newattrhook(v,B)}},setAttributeNS:{value:function(m,v,B){m=m==null||m===""?null:String(m),v=String(v),t.isValidQName(v)||r.InvalidCharacterError();var z=v.indexOf(":"),J=z<0?null:v.substring(0,z);(J!==null&&m===null||J==="xml"&&m!==i.XML||(v==="xmlns"||J==="xmlns")&&m!==i.XMLNS||m===i.XMLNS&&!(v==="xmlns"||J==="xmlns"))&&r.NamespaceError(),this._setAttributeNS(m,v,String(B))}},setAttributeNode:{value:function(m){m.ownerElement!==null&&m.ownerElement!==this&&r.InUseAttributeError();var v=null,B=this._attrsByQName[m.name];if(B){if(Array.isArray(B)||(B=[B]),B.some(function(z){return z===m}))return m;m.ownerElement!==null&&r.InUseAttributeError(),B.forEach(function(z){this.removeAttributeNode(z)},this),v=B[0]}return this.setAttributeNodeNS(m),v}},setAttributeNodeNS:{value:function(m){m.ownerElement!==null&&r.InUseAttributeError();var v=m.namespaceURI,B=(v===null?"":v)+"|"+m.localName,z=this._attrsByLName[B];return z&&this.removeAttributeNode(z),m._setOwnerElement(this),this._attrsByLName[B]=m,this._attributes&&(this._attributes[this._attrKeys.length]=m),this._attrKeys.push(B),this._addQName(m),this._newattrhook&&this._newattrhook(m.name,m.value),z||null}},removeAttribute:{value:function(m){m=String(m),/[A-Z]/.test(m)&&this.isHTML&&(m=r.toASCIILowerCase(m));var v=this._attrsByQName[m];if(v){Array.isArray(v)?v.length>2?v=v.shift():(this._attrsByQName[m]=v[1],v=v[0]):this._attrsByQName[m]=void 0;var B=v.namespaceURI,z=(B===null?"":B)+"|"+v.localName;this._attrsByLName[z]=void 0;var J=this._attrKeys.indexOf(z);this._attributes&&(Array.prototype.splice.call(this._attributes,J,1),this._attributes[m]=void 0),this._attrKeys.splice(J,1);var de=v.onchange;v._setOwnerElement(null),de&&de.call(v,this,v.localName,v.value,null),this.rooted&&this.ownerDocument.mutateRemoveAttr(v)}}},removeAttributeNS:{value:function(m,v){m=m==null?"":String(m),v=String(v);var B=m+"|"+v,z=this._attrsByLName[B];if(z){this._attrsByLName[B]=void 0;var J=this._attrKeys.indexOf(B);this._attributes&&Array.prototype.splice.call(this._attributes,J,1),this._attrKeys.splice(J,1),this._removeQName(z);var de=z.onchange;z._setOwnerElement(null),de&&de.call(z,this,z.localName,z.value,null),this.rooted&&this.ownerDocument.mutateRemoveAttr(z)}}},removeAttributeNode:{value:function(m){var v=m.namespaceURI,B=(v===null?"":v)+"|"+m.localName;return this._attrsByLName[B]!==m&&r.NotFoundError(),this.removeAttributeNS(v,m.localName),m}},getAttributeNames:{value:function(){var m=this;return this._attrKeys.map(function(v){return m._attrsByLName[v].name})}},_getattr:{value:function(m){var v=this._attrsByQName[m];return v?v.value:null}},_setattr:{value:function(m,v){var B=this._attrsByQName[m],z;B||(B=this._newattr(m),z=!0),B.value=String(v),this._attributes&&(this._attributes[m]=B),z&&this._newattrhook&&this._newattrhook(m,v)}},_newattr:{value:function(m){var v=new I(this,m,null,null),B="|"+m;return this._attrsByQName[m]=v,this._attrsByLName[B]=v,this._attributes&&(this._attributes[this._attrKeys.length]=v),this._attrKeys.push(B),v}},_addQName:{value:function(p){var m=p.name,v=this._attrsByQName[m];v?Array.isArray(v)?v.push(p):this._attrsByQName[m]=[v,p]:this._attrsByQName[m]=p,this._attributes&&(this._attributes[m]=p)}},_removeQName:{value:function(p){var m=p.name,v=this._attrsByQName[m];if(Array.isArray(v)){var B=v.indexOf(p);r.assert(B!==-1),v.length===2?(this._attrsByQName[m]=v[1-B],this._attributes&&(this._attributes[m]=this._attrsByQName[m])):(v.splice(B,1),this._attributes&&this._attributes[m]===p&&(this._attributes[m]=v[0]))}else r.assert(v===p),this._attrsByQName[m]=void 0,this._attributes&&(this._attributes[m]=void 0)}},_numattrs:{get:function(){return this._attrKeys.length}},_attr:{value:function(p){return this._attrsByLName[this._attrKeys[p]]}},id:s.property({name:"id"}),className:s.property({name:"class"}),classList:{get:function(){var p=this;if(this._classList)return this._classList;var m=new l(function(){return p.className||""},function(v){p.className=v});return this._classList=m,m},set:function(p){this.className=p}},matches:{value:function(p){return d.matches(this,p)}},closest:{value:function(p){var m=this;do{if(m.matches&&m.matches(p))return m;m=m.parentElement||m.parentNode}while(m!==null&&m.nodeType===o.ELEMENT_NODE);return null}},querySelector:{value:function(p){return d(p,this)[0]}},querySelectorAll:{value:function(p){var m=d(p,this);return m.item?m:new a(m)}}}),Object.defineProperties(_.prototype,h),Object.defineProperties(_.prototype,g),s.registerChangeHandler(_,"id",function(p,m,v,B){p.rooted&&(v&&p.ownerDocument.delId(v,p),B&&p.ownerDocument.addId(B,p))}),s.registerChangeHandler(_,"class",function(p,m,v,B){p._classList&&p._classList._update()});function I(p,m,v,B,z){this.localName=m,this.prefix=v===null||v===""?null:""+v,this.namespaceURI=B===null||B===""?null:""+B,this.data=z,this._setOwnerElement(p)}I.prototype=Object.create(Object.prototype,{ownerElement:{get:function(){return this._ownerElement}},_setOwnerElement:{value:function(m){this._ownerElement=m,this.prefix===null&&this.namespaceURI===null&&m?this.onchange=m._attributeChangeHandlers[this.localName]:this.onchange=null}},name:{get:function(){return this.prefix?this.prefix+":"+this.localName:this.localName}},specified:{get:function(){return!0}},value:{get:function(){return this.data},set:function(p){var m=this.data;p=p===void 0?"":p+"",p!==m&&(this.data=p,this.ownerElement&&(this.onchange&&this.onchange(this.ownerElement,this.localName,m,p),this.ownerElement.rooted&&this.ownerElement.ownerDocument.mutateAttr(this,m)))}},cloneNode:{value:function(m){return new I(null,this.localName,this.prefix,this.namespaceURI,this.data)}},nodeType:{get:function(){return o.ATTRIBUTE_NODE}},nodeName:{get:function(){return this.name}},nodeValue:{get:function(){return this.value},set:function(p){this.value=p}},textContent:{get:function(){return this.value},set:function(p){p==null&&(p=""),this.value=p}},innerText:{get:function(){return this.value},set:function(p){p==null&&(p=""),this.value=p}}}),_._Attr=I;function T(p){y.call(this,p);for(var m in p._attrsByQName)this[m]=p._attrsByQName[m];for(var v=0;v<p._attrKeys.length;v++)this[v]=p._attrsByLName[p._attrKeys[v]]}T.prototype=Object.create(y.prototype,{length:{get:function(){return this.element._attrKeys.length},set:function(){}},item:{value:function(p){return p=p>>>0,p>=this.length?null:this.element._attrsByLName[this.element._attrKeys[p]]}}});var x;(x=globalThis.Symbol)!=null&&x.iterator&&(T.prototype[globalThis.Symbol.iterator]=function(){var p=0,m=this.length,v=this;return{next:function(){return p<m?{value:v.item(p++)}:{done:!0}}}});function V(p){this.element=p,this.updateCache()}V.prototype=Object.create(Object.prototype,{length:{get:function(){return this.updateCache(),this.childrenByNumber.length}},item:{value:function(m){return this.updateCache(),this.childrenByNumber[m]||null}},namedItem:{value:function(m){return this.updateCache(),this.childrenByName[m]||null}},namedItems:{get:function(){return this.updateCache(),this.childrenByName}},updateCache:{value:function(){var m=/^(a|applet|area|embed|form|frame|frameset|iframe|img|object)$/;if(this.lastModTime!==this.element.lastModTime){this.lastModTime=this.element.lastModTime;for(var v=this.childrenByNumber&&this.childrenByNumber.length||0,B=0;B<v;B++)this[B]=void 0;this.childrenByNumber=[],this.childrenByName=Object.create(null);for(var z=this.element.firstChild;z!==null;z=z.nextSibling)if(z.nodeType===o.ELEMENT_NODE){this[this.childrenByNumber.length]=z,this.childrenByNumber.push(z);var J=z.getAttribute("id");J&&!this.childrenByName[J]&&(this.childrenByName[J]=z);var de=z.getAttribute("name");de&&this.element.namespaceURI===i.HTML&&m.test(this.element.localName)&&!this.childrenByName[de]&&(this.childrenByName[J]=z)}}}}});function R(p){return function(m){return m.localName===p}}function A(p){var m=r.toASCIILowerCase(p);return m===p?R(p):function(v){return v.isHTML?v.localName===m:v.localName===p}}function N(p){return function(m){return m.namespaceURI===p}}function E(p,m){return function(v){return v.namespaceURI===p&&v.localName===m}}function D(p){return function(m){return p.every(function(v){return m.classList.contains(v)})}}function P(p){return function(m){return m.namespaceURI!==i.HTML?!1:m.getAttribute("name")===p}}}}),KF=qe({"external/npm/node_modules/domino/lib/Leaf.js"(n,e){e.exports=a;var t=Pr(),r=Cf(),i=Vn(),s=i.HierarchyRequestError,o=i.NotFoundError;function a(){t.call(this)}a.prototype=Object.create(t.prototype,{hasChildNodes:{value:function(){return!1}},firstChild:{value:null},lastChild:{value:null},insertBefore:{value:function(u,c){if(!u.nodeType)throw new TypeError("not a node");s()}},replaceChild:{value:function(u,c){if(!u.nodeType)throw new TypeError("not a node");s()}},removeChild:{value:function(u){if(!u.nodeType)throw new TypeError("not a node");o()}},removeChildren:{value:function(){}},childNodes:{get:function(){return this._childNodes||(this._childNodes=new r),this._childNodes}}})}}),qb=qe({"external/npm/node_modules/domino/lib/CharacterData.js"(n,e){e.exports=o;var t=KF(),r=Vn(),i=$I(),s=GF();function o(){t.call(this)}o.prototype=Object.create(t.prototype,{substringData:{value:function(u,c){if(arguments.length<2)throw new TypeError("Not enough arguments");return u=u>>>0,c=c>>>0,(u>this.data.length||u<0||c<0)&&r.IndexSizeError(),this.data.substring(u,u+c)}},appendData:{value:function(u){if(arguments.length<1)throw new TypeError("Not enough arguments");this.data+=String(u)}},insertData:{value:function(u,c){return this.replaceData(u,0,c)}},deleteData:{value:function(u,c){return this.replaceData(u,c,"")}},replaceData:{value:function(u,c,l){var d=this.data,f=d.length;u=u>>>0,c=c>>>0,l=String(l),(u>f||u<0)&&r.IndexSizeError(),u+c>f&&(c=f-u);var h=d.substring(0,u),g=d.substring(u+c);this.data=h+l+g}},isEqual:{value:function(u){return this._data===u._data}},length:{get:function(){return this.data.length}}}),Object.defineProperties(o.prototype,i),Object.defineProperties(o.prototype,s)}}),QF=qe({"external/npm/node_modules/domino/lib/Text.js"(n,e){e.exports=s;var t=Vn(),r=Pr(),i=qb();function s(a,u){i.call(this),this.nodeType=r.TEXT_NODE,this.ownerDocument=a,this._data=u,this._index=void 0}var o={get:function(){return this._data},set:function(a){a==null?a="":a=String(a),a!==this._data&&(this._data=a,this.rooted&&this.ownerDocument.mutateValue(this),this.parentNode&&this.parentNode._textchangehook&&this.parentNode._textchangehook(this))}};s.prototype=Object.create(i.prototype,{nodeName:{value:"#text"},nodeValue:o,textContent:o,innerText:o,data:{get:o.get,set:function(a){o.set.call(this,a===null?"":String(a))}},splitText:{value:function(u){(u>this._data.length||u<0)&&t.IndexSizeError();var c=this._data.substring(u),l=this.ownerDocument.createTextNode(c);this.data=this.data.substring(0,u);var d=this.parentNode;return d!==null&&d.insertBefore(l,this.nextSibling),l}},wholeText:{get:function(){for(var u=this.textContent,c=this.nextSibling;c&&c.nodeType===r.TEXT_NODE;c=c.nextSibling)u+=c.textContent;return u}},replaceWholeText:{value:t.nyi},clone:{value:function(){return new s(this.ownerDocument,this._data)}}})}}),YF=qe({"external/npm/node_modules/domino/lib/Comment.js"(n,e){e.exports=i;var t=Pr(),r=qb();function i(o,a){r.call(this),this.nodeType=t.COMMENT_NODE,this.ownerDocument=o,this._data=a}var s={get:function(){return this._data},set:function(o){o==null?o="":o=String(o),this._data=o,this.rooted&&this.ownerDocument.mutateValue(this)}};i.prototype=Object.create(r.prototype,{nodeName:{value:"#comment"},nodeValue:s,textContent:s,innerText:s,data:{get:s.get,set:function(o){s.set.call(this,o===null?"":String(o))}},clone:{value:function(){return new i(this.ownerDocument,this._data)}}})}}),JF=qe({"external/npm/node_modules/domino/lib/DocumentFragment.js"(n,e){e.exports=u;var t=Pr(),r=Cf(),i=qI(),s=Lm(),o=HI(),a=Vn();function u(c){i.call(this),this.nodeType=t.DOCUMENT_FRAGMENT_NODE,this.ownerDocument=c}u.prototype=Object.create(i.prototype,{nodeName:{value:"#document-fragment"},nodeValue:{get:function(){return null},set:function(){}},textContent:Object.getOwnPropertyDescriptor(s.prototype,"textContent"),innerText:Object.getOwnPropertyDescriptor(s.prototype,"innerText"),querySelector:{value:function(c){var l=this.querySelectorAll(c);return l.length?l[0]:null}},querySelectorAll:{value:function(c){var l=Object.create(this);l.isHTML=!0,l.getElementsByTagName=s.prototype.getElementsByTagName,l.nextElement=Object.getOwnPropertyDescriptor(s.prototype,"firstElementChild").get;var d=o(c,l);return d.item?d:new r(d)}},clone:{value:function(){return new u(this.ownerDocument)}},isEqual:{value:function(l){return!0}},innerHTML:{get:function(){return this.serialize()},set:a.nyi},outerHTML:{get:function(){return this.serialize()},set:a.nyi}})}}),ZF=qe({"external/npm/node_modules/domino/lib/ProcessingInstruction.js"(n,e){e.exports=i;var t=Pr(),r=qb();function i(o,a,u){r.call(this),this.nodeType=t.PROCESSING_INSTRUCTION_NODE,this.ownerDocument=o,this.target=a,this._data=u}var s={get:function(){return this._data},set:function(o){o==null?o="":o=String(o),this._data=o,this.rooted&&this.ownerDocument.mutateValue(this)}};i.prototype=Object.create(r.prototype,{nodeName:{get:function(){return this.target}},nodeValue:s,textContent:s,innerText:s,data:{get:s.get,set:function(o){s.set.call(this,o===null?"":String(o))}},clone:{value:function(){return new i(this.ownerDocument,this.target,this._data)}},isEqual:{value:function(a){return this.target===a.target&&this._data===a._data}}})}}),jb=qe({"external/npm/node_modules/domino/lib/NodeFilter.js"(n,e){var t={FILTER_ACCEPT:1,FILTER_REJECT:2,FILTER_SKIP:3,SHOW_ALL:4294967295,SHOW_ELEMENT:1,SHOW_ATTRIBUTE:2,SHOW_TEXT:4,SHOW_CDATA_SECTION:8,SHOW_ENTITY_REFERENCE:16,SHOW_ENTITY:32,SHOW_PROCESSING_INSTRUCTION:64,SHOW_COMMENT:128,SHOW_DOCUMENT:256,SHOW_DOCUMENT_TYPE:512,SHOW_DOCUMENT_FRAGMENT:1024,SHOW_NOTATION:2048};e.exports=t.constructor=t.prototype=t}}),XF=qe({"external/npm/node_modules/domino/lib/NodeTraversal.js"(n,e){e.exports={nextSkippingChildren:t,nextAncestorSibling:r,next:i,previous:o,deepLastChild:s};function t(a,u){return a===u?null:a.nextSibling!==null?a.nextSibling:r(a,u)}function r(a,u){for(a=a.parentNode;a!==null;a=a.parentNode){if(a===u)return null;if(a.nextSibling!==null)return a.nextSibling}return null}function i(a,u){var c;return c=a.firstChild,c!==null?c:a===u?null:(c=a.nextSibling,c!==null?c:r(a,u))}function s(a){for(;a.lastChild;)a=a.lastChild;return a}function o(a,u){var c;return c=a.previousSibling,c!==null?s(c):(c=a.parentNode,c===u?null:c)}}}),mse=qe({"external/npm/node_modules/domino/lib/TreeWalker.js"(n,e){e.exports=l;var t=Pr(),r=jb(),i=XF(),s=Vn(),o={first:"firstChild",last:"lastChild",next:"firstChild",previous:"lastChild"},a={first:"nextSibling",last:"previousSibling",next:"nextSibling",previous:"previousSibling"};function u(d,f){var h,g,y,S,_;for(g=d._currentNode[o[f]];g!==null;){if(S=d._internalFilter(g),S===r.FILTER_ACCEPT)return d._currentNode=g,g;if(S===r.FILTER_SKIP&&(h=g[o[f]],h!==null)){g=h;continue}for(;g!==null;){if(_=g[a[f]],_!==null){g=_;break}if(y=g.parentNode,y===null||y===d.root||y===d._currentNode)return null;g=y}}return null}function c(d,f){var h,g,y;if(h=d._currentNode,h===d.root)return null;for(;;){for(y=h[a[f]];y!==null;){if(h=y,g=d._internalFilter(h),g===r.FILTER_ACCEPT)return d._currentNode=h,h;y=h[o[f]],(g===r.FILTER_REJECT||y===null)&&(y=h[a[f]])}if(h=h.parentNode,h===null||h===d.root||d._internalFilter(h)===r.FILTER_ACCEPT)return null}}function l(d,f,h){(!d||!d.nodeType)&&s.NotSupportedError(),this._root=d,this._whatToShow=Number(f)||0,this._filter=h||null,this._active=!1,this._currentNode=d}Object.defineProperties(l.prototype,{root:{get:function(){return this._root}},whatToShow:{get:function(){return this._whatToShow}},filter:{get:function(){return this._filter}},currentNode:{get:function(){return this._currentNode},set:function(f){if(!(f instanceof t))throw new TypeError("Not a Node");this._currentNode=f}},_internalFilter:{value:function(f){var h,g;if(this._active&&s.InvalidStateError(),!(1<<f.nodeType-1&this._whatToShow))return r.FILTER_SKIP;if(g=this._filter,g===null)h=r.FILTER_ACCEPT;else{this._active=!0;try{typeof g=="function"?h=g(f):h=g.acceptNode(f)}finally{this._active=!1}}return+h}},parentNode:{value:function(){for(var f=this._currentNode;f!==this.root;){if(f=f.parentNode,f===null)return null;if(this._internalFilter(f)===r.FILTER_ACCEPT)return this._currentNode=f,f}return null}},firstChild:{value:function(){return u(this,"first")}},lastChild:{value:function(){return u(this,"last")}},previousSibling:{value:function(){return c(this,"previous")}},nextSibling:{value:function(){return c(this,"next")}},previousNode:{value:function(){var f,h,g,y;for(f=this._currentNode;f!==this._root;){for(g=f.previousSibling;g;g=f.previousSibling)if(f=g,h=this._internalFilter(f),h!==r.FILTER_REJECT){for(y=f.lastChild;y&&(f=y,h=this._internalFilter(f),h!==r.FILTER_REJECT);y=f.lastChild);if(h===r.FILTER_ACCEPT)return this._currentNode=f,f}if(f===this.root||f.parentNode===null)return null;if(f=f.parentNode,this._internalFilter(f)===r.FILTER_ACCEPT)return this._currentNode=f,f}return null}},nextNode:{value:function(){var f,h,g,y;f=this._currentNode,h=r.FILTER_ACCEPT;e:for(;;){for(g=f.firstChild;g;g=f.firstChild){if(f=g,h=this._internalFilter(f),h===r.FILTER_ACCEPT)return this._currentNode=f,f;if(h===r.FILTER_REJECT)break}for(y=i.nextSkippingChildren(f,this.root);y;y=i.nextSkippingChildren(f,this.root)){if(f=y,h=this._internalFilter(f),h===r.FILTER_ACCEPT)return this._currentNode=f,f;if(h===r.FILTER_SKIP)continue e}return null}}},toString:{value:function(){return"[object TreeWalker]"}}})}}),gse=qe({"external/npm/node_modules/domino/lib/NodeIterator.js"(n,e){e.exports=u;var t=jb(),r=XF(),i=Vn();function s(c,l,d){return d?r.next(c,l):c===l?null:r.previous(c,null)}function o(c,l){for(;l;l=l.parentNode)if(c===l)return!0;return!1}function a(c,l){var d,f;for(d=c._referenceNode,f=c._pointerBeforeReferenceNode;;){if(f===l)f=!f;else if(d=s(d,c._root,l),d===null)return null;var h=c._internalFilter(d);if(h===t.FILTER_ACCEPT)break}return c._referenceNode=d,c._pointerBeforeReferenceNode=f,d}function u(c,l,d){(!c||!c.nodeType)&&i.NotSupportedError(),this._root=c,this._referenceNode=c,this._pointerBeforeReferenceNode=!0,this._whatToShow=Number(l)||0,this._filter=d||null,this._active=!1,c.doc._attachNodeIterator(this)}Object.defineProperties(u.prototype,{root:{get:function(){return this._root}},referenceNode:{get:function(){return this._referenceNode}},pointerBeforeReferenceNode:{get:function(){return this._pointerBeforeReferenceNode}},whatToShow:{get:function(){return this._whatToShow}},filter:{get:function(){return this._filter}},_internalFilter:{value:function(l){var d,f;if(this._active&&i.InvalidStateError(),!(1<<l.nodeType-1&this._whatToShow))return t.FILTER_SKIP;if(f=this._filter,f===null)d=t.FILTER_ACCEPT;else{this._active=!0;try{typeof f=="function"?d=f(l):d=f.acceptNode(l)}finally{this._active=!1}}return+d}},_preremove:{value:function(l){if(!o(l,this._root)&&o(l,this._referenceNode)){if(this._pointerBeforeReferenceNode){for(var d=l;d.lastChild;)d=d.lastChild;if(d=r.next(d,this.root),d){this._referenceNode=d;return}this._pointerBeforeReferenceNode=!1}if(l.previousSibling===null)this._referenceNode=l.parentNode;else{this._referenceNode=l.previousSibling;var f;for(f=this._referenceNode.lastChild;f;f=this._referenceNode.lastChild)this._referenceNode=f}}}},nextNode:{value:function(){return a(this,!0)}},previousNode:{value:function(){return a(this,!1)}},detach:{value:function(){}},toString:{value:function(){return"[object NodeIterator]"}}})}}),zI=qe({"external/npm/node_modules/domino/lib/URL.js"(n,e){e.exports=t;function t(r){if(!r)return Object.create(t.prototype);this.url=r.replace(/^[ \t\n\r\f]+|[ \t\n\r\f]+$/g,"");var i=t.pattern.exec(this.url);if(i){if(i[2]&&(this.scheme=i[2]),i[4]){var s=i[4].match(t.userinfoPattern);if(s&&(this.username=s[1],this.password=s[3],i[4]=i[4].substring(s[0].length)),i[4].match(t.portPattern)){var o=i[4].lastIndexOf(":");this.host=i[4].substring(0,o),this.port=i[4].substring(o+1)}else this.host=i[4]}i[5]&&(this.path=i[5]),i[6]&&(this.query=i[7]),i[8]&&(this.fragment=i[9])}}t.pattern=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,t.userinfoPattern=/^([^@:]*)(:([^@]*))?@/,t.portPattern=/:\d+$/,t.authorityPattern=/^[^:\/?#]+:\/\//,t.hierarchyPattern=/^[^:\/?#]+:\//,t.percentEncode=function(i){var s=i.charCodeAt(0);if(s<256)return"%"+s.toString(16);throw Error("can't percent-encode codepoints > 255 yet")},t.prototype={constructor:t,isAbsolute:function(){return!!this.scheme},isAuthorityBased:function(){return t.authorityPattern.test(this.url)},isHierarchical:function(){return t.hierarchyPattern.test(this.url)},toString:function(){var r="";return this.scheme!==void 0&&(r+=this.scheme+":"),this.isAbsolute()&&(r+="//",(this.username||this.password)&&(r+=this.username||"",this.password&&(r+=":"+this.password),r+="@"),this.host&&(r+=this.host)),this.port!==void 0&&(r+=":"+this.port),this.path!==void 0&&(r+=this.path),this.query!==void 0&&(r+="?"+this.query),this.fragment!==void 0&&(r+="#"+this.fragment),r},resolve:function(r){var i=this,s=new t(r),o=new t;return s.scheme!==void 0?(o.scheme=s.scheme,o.username=s.username,o.password=s.password,o.host=s.host,o.port=s.port,o.path=u(s.path),o.query=s.query):(o.scheme=i.scheme,s.host!==void 0?(o.username=s.username,o.password=s.password,o.host=s.host,o.port=s.port,o.path=u(s.path),o.query=s.query):(o.username=i.username,o.password=i.password,o.host=i.host,o.port=i.port,s.path?(s.path.charAt(0)==="/"?o.path=u(s.path):(o.path=a(i.path,s.path),o.path=u(o.path)),o.query=s.query):(o.path=i.path,s.query!==void 0?o.query=s.query:o.query=i.query))),o.fragment=s.fragment,o.toString();function a(c,l){if(i.host!==void 0&&!i.path)return"/"+l;var d=c.lastIndexOf("/");return d===-1?l:c.substring(0,d+1)+l}function u(c){if(!c)return c;for(var l="";c.length>0;){if(c==="."||c===".."){c="";break}var d=c.substring(0,2),f=c.substring(0,3),h=c.substring(0,4);if(f==="../")c=c.substring(3);else if(d==="./")c=c.substring(2);else if(f==="/./")c="/"+c.substring(3);else if(d==="/."&&c.length===2)c="/";else if(h==="/../"||f==="/.."&&c.length===3)c="/"+c.substring(4),l=l.replace(/\/?[^\/]*$/,"");else{var g=c.match(/(\/?([^\/]*))/)[0];l+=g,c=c.substring(g.length)}}return l}}}}}),yse=qe({"external/npm/node_modules/domino/lib/CustomEvent.js"(n,e){e.exports=r;var t=Pm();function r(i,s){t.call(this,i,s)}r.prototype=Object.create(t.prototype,{constructor:{value:r}})}}),e9=qe({"external/npm/node_modules/domino/lib/events.js"(n,e){e.exports={Event:Pm(),UIEvent:BF(),MouseEvent:VF(),CustomEvent:yse()}}}),vse=qe({"external/npm/node_modules/domino/lib/style_parser.js"(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hyphenate=n.parse=void 0;function e(r){let i=[],s=0,o=0,a=0,u=0,c=0,l=null;for(;s<r.length;)switch(r.charCodeAt(s++)){case 40:o++;break;case 41:o--;break;case 39:a===0?a=39:a===39&&r.charCodeAt(s-1)!==92&&(a=0);break;case 34:a===0?a=34:a===34&&r.charCodeAt(s-1)!==92&&(a=0);break;case 58:!l&&o===0&&a===0&&(l=t(r.substring(c,s-1).trim()),u=s);break;case 59:if(l&&u>0&&o===0&&a===0){let f=r.substring(u,s-1).trim();i.push(l,f),c=s,u=0,l=null}break}if(l&&u){let d=r.slice(u).trim();i.push(l,d)}return i}n.parse=e;function t(r){return r.replace(/[a-z][A-Z]/g,i=>i.charAt(0)+"-"+i.charAt(1)).toLowerCase()}n.hyphenate=t}}),GI=qe({"external/npm/node_modules/domino/lib/CSSStyleDeclaration.js"(n,e){var{parse:t}=vse();e.exports=function(u){let c=new i(u),l={get:function(d,f){return f in d?d[f]:d.getPropertyValue(r(f))},has:function(d,f){return!0},set:function(d,f,h){return f in d?d[f]=h:d.setProperty(r(f),h??void 0),!0}};return new Proxy(c,l)};function r(u){return u.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function i(u){this._element=u}var s="!important";function o(u){let c={property:{},priority:{}};if(!u)return c;let l=t(u);if(l.length<2)return c;for(let d=0;d<l.length;d+=2){let f=l[d],h=l[d+1];h.endsWith(s)&&(c.priority[f]="important",h=h.slice(0,-s.length).trim()),c.property[f]=h}return c}var a={};i.prototype=Object.create(Object.prototype,{_parsed:{get:function(){if(!this._parsedStyles||this.cssText!==this._lastParsedText){var u=this.cssText;this._parsedStyles=o(u),this._lastParsedText=u,delete this._names}return this._parsedStyles}},_serialize:{value:function(){var u=this._parsed,c="";for(var l in u.property)c&&(c+=" "),c+=l+": "+u.property[l],u.priority[l]&&(c+=" !"+u.priority[l]),c+=";";this.cssText=c,this._lastParsedText=c,delete this._names}},cssText:{get:function(){return this._element.getAttribute("style")},set:function(u){this._element.setAttribute("style",u)}},length:{get:function(){return this._names||(this._names=Object.getOwnPropertyNames(this._parsed.property)),this._names.length}},item:{value:function(u){return this._names||(this._names=Object.getOwnPropertyNames(this._parsed.property)),this._names[u]}},getPropertyValue:{value:function(u){return u=u.toLowerCase(),this._parsed.property[u]||""}},getPropertyPriority:{value:function(u){return u=u.toLowerCase(),this._parsed.priority[u]||""}},setProperty:{value:function(u,c,l){if(u=u.toLowerCase(),c==null&&(c=""),l==null&&(l=""),c!==a&&(c=""+c),c=c.trim(),c===""){this.removeProperty(u);return}if(!(l!==""&&l!==a&&!/^important$/i.test(l))){var d=this._parsed;if(c===a){if(!d.property[u])return;l!==""?d.priority[u]="important":delete d.priority[u]}else{if(c.includes(";")&&!c.includes("data:"))return;var f=o(u+":"+c);if(Object.getOwnPropertyNames(f.property).length===0||Object.getOwnPropertyNames(f.priority).length!==0)return;for(var h in f.property)d.property[h]=f.property[h],l!==a&&(l!==""?d.priority[h]="important":d.priority[h]&&delete d.priority[h])}this._serialize()}}},setPropertyValue:{value:function(u,c){return this.setProperty(u,c,a)}},setPropertyPriority:{value:function(u,c){return this.setProperty(u,a,c)}},removeProperty:{value:function(u){u=u.toLowerCase();var c=this._parsed;u in c.property&&(delete c.property[u],delete c.priority[u],this._serialize())}}})}}),t9=qe({"external/npm/node_modules/domino/lib/URLUtils.js"(n,e){var t=zI();e.exports=r;function r(){}r.prototype=Object.create(Object.prototype,{_url:{get:function(){return new t(this.href)}},protocol:{get:function(){var i=this._url;return i&&i.scheme?i.scheme+":":":"},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&(i=i.replace(/:+$/,""),i=i.replace(/[^-+\.a-zA-Z0-9]/g,t.percentEncode),i.length>0&&(o.scheme=i,s=o.toString())),this.href=s}},host:{get:function(){var i=this._url;return i.isAbsolute()&&i.isAuthorityBased()?i.host+(i.port?":"+i.port:""):""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&o.isAuthorityBased()&&(i=i.replace(/[^-+\._~!$&'()*,;:=a-zA-Z0-9]/g,t.percentEncode),i.length>0&&(o.host=i,delete o.port,s=o.toString())),this.href=s}},hostname:{get:function(){var i=this._url;return i.isAbsolute()&&i.isAuthorityBased()?i.host:""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&o.isAuthorityBased()&&(i=i.replace(/^\/+/,""),i=i.replace(/[^-+\._~!$&'()*,;:=a-zA-Z0-9]/g,t.percentEncode),i.length>0&&(o.host=i,s=o.toString())),this.href=s}},port:{get:function(){var i=this._url;return i.isAbsolute()&&i.isAuthorityBased()&&i.port!==void 0?i.port:""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&o.isAuthorityBased()&&(i=""+i,i=i.replace(/[^0-9].*$/,""),i=i.replace(/^0+/,""),i.length===0&&(i="0"),parseInt(i,10)<=65535&&(o.port=i,s=o.toString())),this.href=s}},pathname:{get:function(){var i=this._url;return i.isAbsolute()&&i.isHierarchical()?i.path:""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&o.isHierarchical()&&(i.charAt(0)!=="/"&&(i="/"+i),i=i.replace(/[^-+\._~!$&'()*,;:=@\/a-zA-Z0-9]/g,t.percentEncode),o.path=i,s=o.toString()),this.href=s}},search:{get:function(){var i=this._url;return i.isAbsolute()&&i.isHierarchical()&&i.query!==void 0?"?"+i.query:""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&o.isHierarchical()&&(i.charAt(0)==="?"&&(i=i.substring(1)),i=i.replace(/[^-+\._~!$&'()*,;:=@\/?a-zA-Z0-9]/g,t.percentEncode),o.query=i,s=o.toString()),this.href=s}},hash:{get:function(){var i=this._url;return i==null||i.fragment==null||i.fragment===""?"":"#"+i.fragment},set:function(i){var s=this.href,o=new t(s);i.charAt(0)==="#"&&(i=i.substring(1)),i=i.replace(/[^-+\._~!$&'()*,;:=@\/?a-zA-Z0-9]/g,t.percentEncode),o.fragment=i,s=o.toString(),this.href=s}},username:{get:function(){var i=this._url;return i.username||""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&(i=i.replace(/[\x00-\x1F\x7F-\uFFFF "#<>?`\/@\\:]/g,t.percentEncode),o.username=i,s=o.toString()),this.href=s}},password:{get:function(){var i=this._url;return i.password||""},set:function(i){var s=this.href,o=new t(s);o.isAbsolute()&&(i===""?o.password=null:(i=i.replace(/[\x00-\x1F\x7F-\uFFFF "#<>?`\/@\\]/g,t.percentEncode),o.password=i),s=o.toString()),this.href=s}},origin:{get:function(){var i=this._url;if(i==null)return"";var s=function(o){var a=[i.scheme,i.host,+i.port||o];return a[0]+"://"+a[1]+(a[2]===o?"":":"+a[2])};switch(i.scheme){case"ftp":return s(21);case"gopher":return s(70);case"http":case"ws":return s(80);case"https":case"wss":return s(443);default:return i.scheme+"://"}}}}),r._inherit=function(i){Object.getOwnPropertyNames(r.prototype).forEach(function(s){if(!(s==="constructor"||s==="href")){var o=Object.getOwnPropertyDescriptor(r.prototype,s);Object.defineProperty(i,s,o)}})}}}),n9=qe({"external/npm/node_modules/domino/lib/defineElement.js"(n,e){var t=$F(),r=VI().isApiWritable;e.exports=function(a,u,c,l){var d=a.ctor;if(d){var f=a.props||{};if(a.attributes)for(var h in a.attributes){var g=a.attributes[h];(typeof g!="object"||Array.isArray(g))&&(g={type:g}),g.name||(g.name=h.toLowerCase()),f[h]=t.property(g)}f.constructor={value:d,writable:r},d.prototype=Object.create((a.superclass||u).prototype,f),a.events&&o(d,a.events),c[a.name]=d}else d=u;return(a.tags||a.tag&&[a.tag]||[]).forEach(function(y){l[y]=d}),d};function i(a,u,c,l){this.body=a,this.document=u,this.form=c,this.element=l}i.prototype.build=function(){return()=>{}};function s(a,u,c,l){var d=a.ownerDocument||Object.create(null),f=a.form||Object.create(null);a[u]=new i(l,d,f,a).build()}function o(a,u){var c=a.prototype;u.forEach(function(l){Object.defineProperty(c,"on"+l,{get:function(){return this._getEventHandler(l)},set:function(d){this._setEventHandler(l,d)}}),t.registerChangeHandler(a,"on"+l,s)})}}}),WI=qe({"external/npm/node_modules/domino/lib/htmlelts.js"(n){var e=Pr(),t=Lm(),r=GI(),i=Vn(),s=t9(),o=n9(),a=n.elements={},u=Object.create(null);n.createElement=function(C,I,T){var x=u[I]||S;return new x(C,I,T)};function c(C){return o(C,y,a,u)}function l(C){return{get:function(){var I=this._getattr(C);if(I===null)return"";var T=this.doc._resolve(I);return T===null?I:T},set:function(I){this._setattr(C,I)}}}function d(C){return{get:function(){var I=this._getattr(C);return I===null?null:I.toLowerCase()==="use-credentials"?"use-credentials":"anonymous"},set:function(I){I==null?this.removeAttribute(C):this._setattr(C,I)}}}var f={type:["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],missing:""},h={A:!0,LINK:!0,BUTTON:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0,COMMAND:!0},g=function(C,I,T){y.call(this,C,I,T),this._form=null},y=n.HTMLElement=c({superclass:t,name:"HTMLElement",ctor:function(I,T,x){t.call(this,I,T,i.NAMESPACE.HTML,x)},props:{dangerouslySetInnerHTML:{set:function(C){this._innerHTML=C}},innerHTML:{get:function(){return this.serialize()},set:function(C){var I=this.ownerDocument.implementation.mozHTMLParser(this.ownerDocument._address,this);I.parse(C===null?"":String(C),!0);for(var T=this instanceof u.template?this.content:this;T.hasChildNodes();)T.removeChild(T.firstChild);T.appendChild(I._asDocumentFragment())}},style:{get:function(){return this._style||(this._style=new r(this)),this._style},set:function(C){C==null&&(C=""),this._setattr("style",String(C))}},blur:{value:function(){}},focus:{value:function(){}},forceSpellCheck:{value:function(){}},click:{value:function(){if(!this._click_in_progress){this._click_in_progress=!0;try{this._pre_click_activation_steps&&this._pre_click_activation_steps();var C=this.ownerDocument.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);var I=this.dispatchEvent(C);I?this._post_click_activation_steps&&this._post_click_activation_steps(C):this._cancelled_activation_steps&&this._cancelled_activation_steps()}finally{this._click_in_progress=!1}}}},submit:{value:i.nyi}},attributes:{title:String,lang:String,dir:{type:["ltr","rtl","auto"],missing:""},draggable:{type:["true","false"],treatNullAsEmptyString:!0},spellcheck:{type:["true","false"],missing:""},enterKeyHint:{type:["enter","done","go","next","previous","search","send"],missing:""},autoCapitalize:{type:["off","on","none","sentences","words","characters"],missing:""},autoFocus:Boolean,accessKey:String,nonce:String,hidden:Boolean,translate:{type:["no","yes"],missing:""},tabIndex:{type:"long",default:function(){return this.tagName in h||this.contentEditable?0:-1}}},events:["abort","canplay","canplaythrough","change","click","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","input","invalid","keydown","keypress","keyup","loadeddata","loadedmetadata","loadstart","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","pause","play","playing","progress","ratechange","readystatechange","reset","seeked","seeking","select","show","stalled","submit","suspend","timeupdate","volumechange","waiting","blur","error","focus","load","scroll"]}),S=c({name:"HTMLUnknownElement",ctor:function(I,T,x){y.call(this,I,T,x)}}),_={form:{get:function(){return this._form}}};c({tag:"a",name:"HTMLAnchorElement",ctor:function(I,T,x){y.call(this,I,T,x)},props:{_post_click_activation_steps:{value:function(C){this.href&&(this.ownerDocument.defaultView.location=this.href)}}},attributes:{href:l,ping:String,download:String,target:String,rel:String,media:String,hreflang:String,type:String,referrerPolicy:f,coords:String,charset:String,name:String,rev:String,shape:String}}),s._inherit(u.a.prototype),c({tag:"area",name:"HTMLAreaElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{alt:String,target:String,download:String,rel:String,media:String,href:l,hreflang:String,type:String,shape:String,coords:String,ping:String,referrerPolicy:f,noHref:Boolean}}),s._inherit(u.area.prototype),c({tag:"br",name:"HTMLBRElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{clear:String}}),c({tag:"base",name:"HTMLBaseElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{target:String}}),c({tag:"body",name:"HTMLBodyElement",ctor:function(I,T,x){y.call(this,I,T,x)},events:["afterprint","beforeprint","beforeunload","blur","error","focus","hashchange","load","message","offline","online","pagehide","pageshow","popstate","resize","scroll","storage","unload"],attributes:{text:{type:String,treatNullAsEmptyString:!0},link:{type:String,treatNullAsEmptyString:!0},vLink:{type:String,treatNullAsEmptyString:!0},aLink:{type:String,treatNullAsEmptyString:!0},bgColor:{type:String,treatNullAsEmptyString:!0},background:String}}),c({tag:"button",name:"HTMLButtonElement",ctor:function(I,T,x){g.call(this,I,T,x)},props:_,attributes:{name:String,value:String,disabled:Boolean,autofocus:Boolean,type:{type:["submit","reset","button","menu"],missing:"submit"},formTarget:String,formAction:l,formNoValidate:Boolean,formMethod:{type:["get","post","dialog"],invalid:"get",missing:""},formEnctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:""}}}),c({tag:"dl",name:"HTMLDListElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{compact:Boolean}}),c({tag:"data",name:"HTMLDataElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{value:String}}),c({tag:"datalist",name:"HTMLDataListElement",ctor:function(I,T,x){y.call(this,I,T,x)}}),c({tag:"details",name:"HTMLDetailsElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{open:Boolean}}),c({tag:"div",name:"HTMLDivElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{align:String}}),c({tag:"embed",name:"HTMLEmbedElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{src:l,type:String,width:String,height:String,align:String,name:String}}),c({tag:"fieldset",name:"HTMLFieldSetElement",ctor:function(I,T,x){g.call(this,I,T,x)},props:_,attributes:{disabled:Boolean,name:String}}),c({tag:"form",name:"HTMLFormElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{action:String,autocomplete:{type:["on","off"],missing:"on"},name:String,acceptCharset:{name:"accept-charset"},target:String,noValidate:Boolean,method:{type:["get","post","dialog"],invalid:"get",missing:"get"},enctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:"application/x-www-form-urlencoded"},encoding:{name:"enctype",type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:"application/x-www-form-urlencoded"}}}),c({tag:"hr",name:"HTMLHRElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{align:String,color:String,noShade:Boolean,size:String,width:String}}),c({tag:"head",name:"HTMLHeadElement",ctor:function(I,T,x){y.call(this,I,T,x)}}),c({tags:["h1","h2","h3","h4","h5","h6"],name:"HTMLHeadingElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{align:String}}),c({tag:"html",name:"HTMLHtmlElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{xmlns:l,version:String}}),c({tag:"iframe",name:"HTMLIFrameElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{src:l,srcdoc:String,name:String,width:String,height:String,seamless:Boolean,allow:Boolean,allowFullscreen:Boolean,allowUserMedia:Boolean,allowPaymentRequest:Boolean,referrerPolicy:f,loading:{type:["eager","lazy"],treatNullAsEmptyString:!0},align:String,scrolling:String,frameBorder:String,longDesc:l,marginHeight:{type:String,treatNullAsEmptyString:!0},marginWidth:{type:String,treatNullAsEmptyString:!0}}}),c({tag:"img",name:"HTMLImageElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{alt:String,src:l,srcset:String,crossOrigin:d,useMap:String,isMap:Boolean,sizes:String,height:{type:"unsigned long",default:0},width:{type:"unsigned long",default:0},referrerPolicy:f,loading:{type:["eager","lazy"],missing:""},name:String,lowsrc:l,align:String,hspace:{type:"unsigned long",default:0},vspace:{type:"unsigned long",default:0},longDesc:l,border:{type:String,treatNullAsEmptyString:!0}}}),c({tag:"input",name:"HTMLInputElement",ctor:function(I,T,x){g.call(this,I,T,x)},props:{form:_.form,_post_click_activation_steps:{value:function(C){if(this.type==="checkbox")this.checked=!this.checked;else if(this.type==="radio")for(var I=this.form.getElementsByName(this.name),T=I.length-1;T>=0;T--){var x=I[T];x.checked=x===this}}}},attributes:{name:String,disabled:Boolean,autofocus:Boolean,accept:String,alt:String,max:String,min:String,pattern:String,placeholder:String,step:String,dirName:String,defaultValue:{name:"value"},multiple:Boolean,required:Boolean,readOnly:Boolean,checked:Boolean,value:String,src:l,defaultChecked:{name:"checked",type:Boolean},size:{type:"unsigned long",default:20,min:1,setmin:1},width:{type:"unsigned long",min:0,setmin:0,default:0},height:{type:"unsigned long",min:0,setmin:0,default:0},minLength:{type:"unsigned long",min:0,setmin:0,default:-1},maxLength:{type:"unsigned long",min:0,setmin:0,default:-1},autocomplete:String,type:{type:["text","hidden","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"],missing:"text"},formTarget:String,formNoValidate:Boolean,formMethod:{type:["get","post"],invalid:"get",missing:""},formEnctype:{type:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],invalid:"application/x-www-form-urlencoded",missing:""},inputMode:{type:["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"],missing:""},align:String,useMap:String}}),c({tag:"keygen",name:"HTMLKeygenElement",ctor:function(I,T,x){g.call(this,I,T,x)},props:_,attributes:{name:String,disabled:Boolean,autofocus:Boolean,challenge:String,keytype:{type:["rsa"],missing:""}}}),c({tag:"li",name:"HTMLLIElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{value:{type:"long",default:0},type:String}}),c({tag:"label",name:"HTMLLabelElement",ctor:function(I,T,x){g.call(this,I,T,x)},props:_,attributes:{htmlFor:{name:"for",type:String}}}),c({tag:"legend",name:"HTMLLegendElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{align:String}}),c({tag:"link",name:"HTMLLinkElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{href:l,rel:String,media:String,hreflang:String,type:String,crossOrigin:d,nonce:String,integrity:String,referrerPolicy:f,imageSizes:String,imageSrcset:String,charset:String,rev:String,target:String}}),c({tag:"map",name:"HTMLMapElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{name:String}}),c({tag:"menu",name:"HTMLMenuElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{type:{type:["context","popup","toolbar"],missing:"toolbar"},label:String,compact:Boolean}}),c({tag:"meta",name:"HTMLMetaElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{name:String,content:String,httpEquiv:{name:"http-equiv",type:String},scheme:String}}),c({tag:"meter",name:"HTMLMeterElement",ctor:function(I,T,x){g.call(this,I,T,x)},props:_}),c({tags:["ins","del"],name:"HTMLModElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{cite:l,dateTime:String}}),c({tag:"ol",name:"HTMLOListElement",ctor:function(I,T,x){y.call(this,I,T,x)},props:{_numitems:{get:function(){var C=0;return this.childNodes.forEach(function(I){I.nodeType===e.ELEMENT_NODE&&I.tagName==="LI"&&C++}),C}}},attributes:{type:String,reversed:Boolean,start:{type:"long",default:function(){return this.reversed?this._numitems:1}},compact:Boolean}}),c({tag:"object",name:"HTMLObjectElement",ctor:function(I,T,x){g.call(this,I,T,x)},props:_,attributes:{data:l,type:String,name:String,useMap:String,typeMustMatch:Boolean,width:String,height:String,align:String,archive:String,code:String,declare:Boolean,hspace:{type:"unsigned long",default:0},standby:String,vspace:{type:"unsigned long",default:0},codeBase:l,codeType:String,border:{type:String,treatNullAsEmptyString:!0}}}),c({tag:"optgroup",name:"HTMLOptGroupElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{disabled:Boolean,label:String}}),c({tag:"option",name:"HTMLOptionElement",ctor:function(I,T,x){y.call(this,I,T,x)},props:{form:{get:function(){for(var C=this.parentNode;C&&C.nodeType===e.ELEMENT_NODE;){if(C.localName==="select")return C.form;C=C.parentNode}}},value:{get:function(){return this._getattr("value")||this.text},set:function(C){this._setattr("value",C)}},text:{get:function(){return this.textContent.replace(/[ \t\n\f\r]+/g," ").trim()},set:function(C){this.textContent=C}}},attributes:{disabled:Boolean,defaultSelected:{name:"selected",type:Boolean},label:String}}),c({tag:"output",name:"HTMLOutputElement",ctor:function(I,T,x){g.call(this,I,T,x)},props:_,attributes:{name:String}}),c({tag:"p",name:"HTMLParagraphElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{align:String}}),c({tag:"param",name:"HTMLParamElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{name:String,value:String,type:String,valueType:String}}),c({tags:["pre","listing","xmp"],name:"HTMLPreElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{width:{type:"long",default:0}}}),c({tag:"progress",name:"HTMLProgressElement",ctor:function(I,T,x){g.call(this,I,T,x)},props:_,attributes:{max:{type:Number,float:!0,default:1,min:0}}}),c({tags:["q","blockquote"],name:"HTMLQuoteElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{cite:l}}),c({tag:"script",name:"HTMLScriptElement",ctor:function(I,T,x){y.call(this,I,T,x)},props:{text:{get:function(){for(var C="",I=0,T=this.childNodes.length;I<T;I++){var x=this.childNodes[I];x.nodeType===e.TEXT_NODE&&(C+=x._data)}return C},set:function(C){this.removeChildren(),C!==null&&C!==""&&this.appendChild(this.ownerDocument.createTextNode(C))}}},attributes:{src:l,type:String,charset:String,referrerPolicy:f,defer:Boolean,async:Boolean,nomodule:Boolean,crossOrigin:d,nonce:String,integrity:String}}),c({tag:"select",name:"HTMLSelectElement",ctor:function(I,T,x){g.call(this,I,T,x)},props:{form:_.form,options:{get:function(){return this.getElementsByTagName("option")}}},attributes:{autocomplete:String,name:String,disabled:Boolean,autofocus:Boolean,multiple:Boolean,required:Boolean,size:{type:"unsigned long",default:0}}}),c({tag:"span",name:"HTMLSpanElement",ctor:function(I,T,x){y.call(this,I,T,x)}}),c({tag:"style",name:"HTMLStyleElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{media:String,type:String,scoped:Boolean}}),c({tag:"caption",name:"HTMLTableCaptionElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{align:String}}),c({name:"HTMLTableCellElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{colSpan:{type:"unsigned long",default:1},rowSpan:{type:"unsigned long",default:1},scope:{type:["row","col","rowgroup","colgroup"],missing:""},abbr:String,align:String,axis:String,height:String,width:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},noWrap:Boolean,vAlign:String,bgColor:{type:String,treatNullAsEmptyString:!0}}}),c({tags:["col","colgroup"],name:"HTMLTableColElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{span:{type:"limited unsigned long with fallback",default:1,min:1},align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String,width:String}}),c({tag:"table",name:"HTMLTableElement",ctor:function(I,T,x){y.call(this,I,T,x)},props:{rows:{get:function(){return this.getElementsByTagName("tr")}}},attributes:{align:String,border:String,frame:String,rules:String,summary:String,width:String,bgColor:{type:String,treatNullAsEmptyString:!0},cellPadding:{type:String,treatNullAsEmptyString:!0},cellSpacing:{type:String,treatNullAsEmptyString:!0}}}),c({tag:"template",name:"HTMLTemplateElement",ctor:function(I,T,x){y.call(this,I,T,x),this._contentFragment=I._templateDoc.createDocumentFragment()},props:{content:{get:function(){return this._contentFragment}},serialize:{value:function(){return this.content.serialize()}}}}),c({tag:"tr",name:"HTMLTableRowElement",ctor:function(I,T,x){y.call(this,I,T,x)},props:{cells:{get:function(){return this.querySelectorAll("td,th")}}},attributes:{align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String,bgColor:{type:String,treatNullAsEmptyString:!0}}}),c({tags:["thead","tfoot","tbody"],name:"HTMLTableSectionElement",ctor:function(I,T,x){y.call(this,I,T,x)},props:{rows:{get:function(){return this.getElementsByTagName("tr")}}},attributes:{align:String,ch:{name:"char",type:String},chOff:{name:"charoff",type:String},vAlign:String}}),c({tag:"textarea",name:"HTMLTextAreaElement",ctor:function(I,T,x){g.call(this,I,T,x)},props:{form:_.form,type:{get:function(){return"textarea"}},defaultValue:{get:function(){return this.textContent},set:function(C){this.textContent=C}},value:{get:function(){return this.defaultValue},set:function(C){this.defaultValue=C}},textLength:{get:function(){return this.value.length}}},attributes:{autocomplete:String,name:String,disabled:Boolean,autofocus:Boolean,placeholder:String,wrap:String,dirName:String,required:Boolean,readOnly:Boolean,rows:{type:"limited unsigned long with fallback",default:2},cols:{type:"limited unsigned long with fallback",default:20},maxLength:{type:"unsigned long",min:0,setmin:0,default:-1},minLength:{type:"unsigned long",min:0,setmin:0,default:-1},inputMode:{type:["verbatim","latin","latin-name","latin-prose","full-width-latin","kana","kana-name","katakana","numeric","tel","email","url"],missing:""}}}),c({tag:"time",name:"HTMLTimeElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{dateTime:String,pubDate:Boolean}}),c({tag:"title",name:"HTMLTitleElement",ctor:function(I,T,x){y.call(this,I,T,x)},props:{text:{get:function(){return this.textContent}}}}),c({tag:"ul",name:"HTMLUListElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{type:String,compact:Boolean}}),c({name:"HTMLMediaElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{src:l,crossOrigin:d,preload:{type:["metadata","none","auto",{value:"",alias:"auto"}],missing:"auto"},loop:Boolean,autoplay:Boolean,mediaGroup:String,controls:Boolean,defaultMuted:{name:"muted",type:Boolean}}}),c({name:"HTMLAudioElement",tag:"audio",superclass:a.HTMLMediaElement,ctor:function(I,T,x){a.HTMLMediaElement.call(this,I,T,x)}}),c({name:"HTMLVideoElement",tag:"video",superclass:a.HTMLMediaElement,ctor:function(I,T,x){a.HTMLMediaElement.call(this,I,T,x)},attributes:{poster:l,width:{type:"unsigned long",min:0,default:0},height:{type:"unsigned long",min:0,default:0}}}),c({tag:"td",name:"HTMLTableDataCellElement",superclass:a.HTMLTableCellElement,ctor:function(I,T,x){a.HTMLTableCellElement.call(this,I,T,x)}}),c({tag:"th",name:"HTMLTableHeaderCellElement",superclass:a.HTMLTableCellElement,ctor:function(I,T,x){a.HTMLTableCellElement.call(this,I,T,x)}}),c({tag:"frameset",name:"HTMLFrameSetElement",ctor:function(I,T,x){y.call(this,I,T,x)}}),c({tag:"frame",name:"HTMLFrameElement",ctor:function(I,T,x){y.call(this,I,T,x)}}),c({tag:"canvas",name:"HTMLCanvasElement",ctor:function(I,T,x){y.call(this,I,T,x)},props:{getContext:{value:i.nyi},probablySupportsContext:{value:i.nyi},setContext:{value:i.nyi},transferControlToProxy:{value:i.nyi},toDataURL:{value:i.nyi},toBlob:{value:i.nyi}},attributes:{width:{type:"unsigned long",default:300},height:{type:"unsigned long",default:150}}}),c({tag:"dialog",name:"HTMLDialogElement",ctor:function(I,T,x){y.call(this,I,T,x)},props:{show:{value:i.nyi},showModal:{value:i.nyi},close:{value:i.nyi}},attributes:{open:Boolean,returnValue:String}}),c({tag:"menuitem",name:"HTMLMenuItemElement",ctor:function(I,T,x){y.call(this,I,T,x)},props:{_label:{get:function(){var C=this._getattr("label");return C!==null&&C!==""?C:(C=this.textContent,C.replace(/[ \t\n\f\r]+/g," ").trim())}},label:{get:function(){var C=this._getattr("label");return C!==null?C:this._label},set:function(C){this._setattr("label",C)}}},attributes:{type:{type:["command","checkbox","radio"],missing:"command"},icon:l,disabled:Boolean,checked:Boolean,radiogroup:String,default:Boolean}}),c({tag:"source",name:"HTMLSourceElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{srcset:String,sizes:String,media:String,src:l,type:String,width:String,height:String}}),c({tag:"track",name:"HTMLTrackElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{src:l,srclang:String,label:String,default:Boolean,kind:{type:["subtitles","captions","descriptions","chapters","metadata"],missing:"subtitles",invalid:"metadata"}},props:{NONE:{get:function(){return 0}},LOADING:{get:function(){return 1}},LOADED:{get:function(){return 2}},ERROR:{get:function(){return 3}},readyState:{get:i.nyi},track:{get:i.nyi}}}),c({tag:"font",name:"HTMLFontElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{color:{type:String,treatNullAsEmptyString:!0},face:{type:String},size:{type:String}}}),c({tag:"dir",name:"HTMLDirectoryElement",ctor:function(I,T,x){y.call(this,I,T,x)},attributes:{compact:Boolean}}),c({tags:["abbr","address","article","aside","b","bdi","bdo","cite","content","code","dd","dfn","dt","em","figcaption","figure","footer","header","hgroup","i","kbd","main","mark","nav","noscript","rb","rp","rt","rtc","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr","acronym","basefont","big","center","nobr","noembed","noframes","plaintext","strike","tt"]})}}),r9=qe({"external/npm/node_modules/domino/lib/svg.js"(n){var e=Lm(),t=n9(),r=Vn(),i=GI(),s=n.elements={},o=Object.create(null);n.createElement=function(c,l,d){var f=o[l]||u;return new f(c,l,d)};function a(c){return t(c,u,s,o)}var u=a({superclass:e,name:"SVGElement",ctor:function(l,d,f){e.call(this,l,d,r.NAMESPACE.SVG,f)},props:{style:{get:function(){return this._style||(this._style=new i(this)),this._style}}}});a({name:"SVGSVGElement",ctor:function(l,d,f){u.call(this,l,d,f)},tag:"svg",props:{createSVGRect:{value:function(){return n.createElement(this.ownerDocument,"rect",null)}}}}),a({tags:["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"]})}}),bse=qe({"external/npm/node_modules/domino/lib/MutationConstants.js"(n,e){e.exports={VALUE:1,ATTR:2,REMOVE_ATTR:3,REMOVE:4,MOVE:5,INSERT:6}}}),KI=qe({"external/npm/node_modules/domino/lib/Document.js"(n,e){e.exports=N;var t=Pr(),r=Cf(),i=qI(),s=Lm(),o=QF(),a=YF(),u=Pm(),c=JF(),l=ZF(),d=Hb(),f=mse(),h=gse(),g=jb(),y=zI(),S=HI(),_=e9(),C=jI(),I=WI(),T=r9(),x=Vn(),V=bse(),R=x.NAMESPACE,A=VI().isApiWritable;function N(U,q){i.call(this),this.nodeType=t.DOCUMENT_NODE,this.isHTML=U,this._address=q||"about:blank",this.readyState="loading",this.implementation=new d(this),this.ownerDocument=null,this._contentType=U?"text/html":"application/xml",this.doctype=null,this.documentElement=null,this._templateDocCache=null,this._nodeIterators=null,this._nid=1,this._nextnid=2,this._nodes=[null,this],this.byId=Object.create(null),this.modclock=0}var E={event:"Event",customevent:"CustomEvent",uievent:"UIEvent",mouseevent:"MouseEvent"},D={events:"event",htmlevents:"event",mouseevents:"mouseevent",mutationevents:"mutationevent",uievents:"uievent"},P=function(U,q,ce){return{get:function(){var Ce=U.call(this);return Ce?Ce[q]:ce},set:function(Ce){var kt=U.call(this);kt&&(kt[q]=Ce)}}};function p(U,q){var ce,Ce,kt;return U===""&&(U=null),C.isValidQName(q)||x.InvalidCharacterError(),ce=null,Ce=q,kt=q.indexOf(":"),kt>=0&&(ce=q.substring(0,kt),Ce=q.substring(kt+1)),ce!==null&&U===null&&x.NamespaceError(),ce==="xml"&&U!==R.XML&&x.NamespaceError(),(ce==="xmlns"||q==="xmlns")&&U!==R.XMLNS&&x.NamespaceError(),U===R.XMLNS&&!(ce==="xmlns"||q==="xmlns")&&x.NamespaceError(),{namespace:U,prefix:ce,localName:Ce}}N.prototype=Object.create(i.prototype,{_setMutationHandler:{value:function(U){this.mutationHandler=U}},_dispatchRendererEvent:{value:function(U,q,ce){var Ce=this._nodes[U];Ce&&Ce._dispatchEvent(new u(q,ce),!0)}},nodeName:{value:"#document"},nodeValue:{get:function(){return null},set:function(){}},documentURI:{get:function(){return this._address},set:x.nyi},compatMode:{get:function(){return this._quirks?"BackCompat":"CSS1Compat"}},createTextNode:{value:function(U){return new o(this,String(U))}},createComment:{value:function(U){return new a(this,U)}},createDocumentFragment:{value:function(){return new c(this)}},createProcessingInstruction:{value:function(U,q){return(!C.isValidName(U)||q.indexOf("?>")!==-1)&&x.InvalidCharacterError(),new l(this,U,q)}},createAttribute:{value:function(U){return U=String(U),C.isValidName(U)||x.InvalidCharacterError(),this.isHTML&&(U=x.toASCIILowerCase(U)),new s._Attr(null,U,null,null,"")}},createAttributeNS:{value:function(U,q){U=U==null||U===""?null:String(U),q=String(q);var ce=p(U,q);return new s._Attr(null,ce.localName,ce.prefix,ce.namespace,"")}},createElement:{value:function(U){return U=String(U),C.isValidName(U)||x.InvalidCharacterError(),this.isHTML?(/[A-Z]/.test(U)&&(U=x.toASCIILowerCase(U)),I.createElement(this,U,null)):this.contentType==="application/xhtml+xml"?I.createElement(this,U,null):new s(this,U,null,null)},writable:A},createElementNS:{value:function(U,q){U=U==null||U===""?null:String(U),q=String(q);var ce=p(U,q);return this._createElementNS(ce.localName,ce.namespace,ce.prefix)},writable:A},_createElementNS:{value:function(U,q,ce){return q===R.HTML?I.createElement(this,U,ce):q===R.SVG?T.createElement(this,U,ce):new s(this,U,q,ce)}},createEvent:{value:function(q){q=q.toLowerCase();var ce=D[q]||q,Ce=_[E[ce]];if(Ce){var kt=new Ce;return kt._initialized=!1,kt}else x.NotSupportedError()}},createTreeWalker:{value:function(U,q,ce){if(!U)throw new TypeError("root argument is required");if(!(U instanceof t))throw new TypeError("root not a node");return q=q===void 0?g.SHOW_ALL:+q,ce=ce===void 0?null:ce,new f(U,q,ce)}},createNodeIterator:{value:function(U,q,ce){if(!U)throw new TypeError("root argument is required");if(!(U instanceof t))throw new TypeError("root not a node");return q=q===void 0?g.SHOW_ALL:+q,ce=ce===void 0?null:ce,new h(U,q,ce)}},_attachNodeIterator:{value:function(U){this._nodeIterators||(this._nodeIterators=[]),this._nodeIterators.push(U)}},_detachNodeIterator:{value:function(U){var q=this._nodeIterators.indexOf(U);this._nodeIterators.splice(q,1)}},_preremoveNodeIterators:{value:function(U){this._nodeIterators&&this._nodeIterators.forEach(function(q){q._preremove(U)})}},_updateDocTypeElement:{value:function(){this.doctype=this.documentElement=null;for(var q=this.firstChild;q!==null;q=q.nextSibling)q.nodeType===t.DOCUMENT_TYPE_NODE?this.doctype=q:q.nodeType===t.ELEMENT_NODE&&(this.documentElement=q)}},insertBefore:{value:function(q,ce){return t.prototype.insertBefore.call(this,q,ce),this._updateDocTypeElement(),q}},replaceChild:{value:function(q,ce){return t.prototype.replaceChild.call(this,q,ce),this._updateDocTypeElement(),ce}},removeChild:{value:function(q){return t.prototype.removeChild.call(this,q),this._updateDocTypeElement(),q}},getElementById:{value:function(U){var q=this.byId[U];return q?q instanceof Le?q.getFirst():q:null}},_hasMultipleElementsWithId:{value:function(U){return this.byId[U]instanceof Le}},getElementsByName:{value:s.prototype.getElementsByName},getElementsByTagName:{value:s.prototype.getElementsByTagName},getElementsByTagNameNS:{value:s.prototype.getElementsByTagNameNS},getElementsByClassName:{value:s.prototype.getElementsByClassName},adoptNode:{value:function(q){return q.nodeType===t.DOCUMENT_NODE&&x.NotSupportedError(),q.nodeType===t.ATTRIBUTE_NODE||(q.parentNode&&q.parentNode.removeChild(q),q.ownerDocument!==this&&De(q,this)),q}},importNode:{value:function(q,ce){return this.adoptNode(q.cloneNode(ce))},writable:A},origin:{get:function(){return null}},characterSet:{get:function(){return"UTF-8"}},contentType:{get:function(){return this._contentType}},URL:{get:function(){return this._address}},domain:{get:x.nyi,set:x.nyi},referrer:{get:x.nyi},cookie:{get:x.nyi,set:x.nyi},lastModified:{get:x.nyi},location:{get:function(){return this.defaultView?this.defaultView.location:null},set:x.nyi},_titleElement:{get:function(){return this.getElementsByTagName("title").item(0)||null}},title:{get:function(){var U=this._titleElement,q=U?U.textContent:"";return q.replace(/[ \t\n\r\f]+/g," ").replace(/(^ )|( $)/g,"")},set:function(U){var q=this._titleElement,ce=this.head;!q&&!ce||(q||(q=this.createElement("title"),ce.appendChild(q)),q.textContent=U)}},dir:P(function(){var U=this.documentElement;if(U&&U.tagName==="HTML")return U},"dir",""),fgColor:P(function(){return this.body},"text",""),linkColor:P(function(){return this.body},"link",""),vlinkColor:P(function(){return this.body},"vLink",""),alinkColor:P(function(){return this.body},"aLink",""),bgColor:P(function(){return this.body},"bgColor",""),charset:{get:function(){return this.characterSet}},inputEncoding:{get:function(){return this.characterSet}},scrollingElement:{get:function(){return this._quirks?this.body:this.documentElement}},body:{get:function(){return v(this.documentElement,"body")},set:x.nyi},head:{get:function(){return v(this.documentElement,"head")}},images:{get:x.nyi},embeds:{get:x.nyi},plugins:{get:x.nyi},links:{get:x.nyi},forms:{get:x.nyi},scripts:{get:x.nyi},applets:{get:function(){return[]}},activeElement:{get:function(){return null}},innerHTML:{get:function(){return this.serialize()},set:x.nyi},outerHTML:{get:function(){return this.serialize()},set:x.nyi},write:{value:function(U){if(this.isHTML||x.InvalidStateError(),!!this._parser){var q=arguments.join("");this._parser.parse(q)}}},writeln:{value:function(q){this.write(Array.prototype.join.call(arguments,"")+`
`)}},open:{value:function(){this.documentElement=null}},close:{value:function(){this.readyState="interactive",this._dispatchEvent(new u("readystatechange"),!0),this._dispatchEvent(new u("DOMContentLoaded"),!0),this.readyState="complete",this._dispatchEvent(new u("readystatechange"),!0),this.defaultView&&this.defaultView._dispatchEvent(new u("load"),!0)}},clone:{value:function(){var q=new N(this.isHTML,this._address);return q._quirks=this._quirks,q._contentType=this._contentType,q}},cloneNode:{value:function(q){var ce=t.prototype.cloneNode.call(this,!1);if(q)for(var Ce=this.firstChild;Ce!==null;Ce=Ce.nextSibling)ce._appendChild(ce.importNode(Ce,!0));return ce._updateDocTypeElement(),ce}},isEqual:{value:function(q){return!0}},mutateValue:{value:function(U){this.mutationHandler&&this.mutationHandler({type:V.VALUE,target:U,data:U.data})}},mutateAttr:{value:function(U,q){this.mutationHandler&&this.mutationHandler({type:V.ATTR,target:U.ownerElement,attr:U})}},mutateRemoveAttr:{value:function(U){this.mutationHandler&&this.mutationHandler({type:V.REMOVE_ATTR,target:U.ownerElement,attr:U})}},mutateRemove:{value:function(U){this.mutationHandler&&this.mutationHandler({type:V.REMOVE,target:U.parentNode,node:U}),de(U)}},mutateInsert:{value:function(U){J(U),this.mutationHandler&&this.mutationHandler({type:V.INSERT,target:U.parentNode,node:U})}},mutateMove:{value:function(U){this.mutationHandler&&this.mutationHandler({type:V.MOVE,target:U})}},addId:{value:function(q,ce){var Ce=this.byId[q];Ce?(Ce instanceof Le||(Ce=new Le(Ce),this.byId[q]=Ce),Ce.add(ce)):this.byId[q]=ce}},delId:{value:function(q,ce){var Ce=this.byId[q];x.assert(Ce),Ce instanceof Le?(Ce.del(ce),Ce.length===1&&(this.byId[q]=Ce.downgrade())):this.byId[q]=void 0}},_resolve:{value:function(U){return new y(this._documentBaseURL).resolve(U)}},_documentBaseURL:{get:function(){var U=this._address;U==="about:blank"&&(U="/");var q=this.querySelector("base[href]");return q?new y(U).resolve(q.getAttribute("href")):U}},_templateDoc:{get:function(){if(!this._templateDocCache){var U=new N(this.isHTML,this._address);this._templateDocCache=U._templateDocCache=U}return this._templateDocCache}},querySelector:{value:function(U){return S(U,this)[0]}},querySelectorAll:{value:function(U){var q=S(U,this);return q.item?q:new r(q)}}});var m=["abort","canplay","canplaythrough","change","click","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","input","invalid","keydown","keypress","keyup","loadeddata","loadedmetadata","loadstart","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","pause","play","playing","progress","ratechange","readystatechange","reset","seeked","seeking","select","show","stalled","submit","suspend","timeupdate","volumechange","waiting","blur","error","focus","load","scroll"];m.forEach(function(U){Object.defineProperty(N.prototype,"on"+U,{get:function(){return this._getEventHandler(U)},set:function(q){this._setEventHandler(U,q)}})});function v(U,q){if(U&&U.isHTML){for(var ce=U.firstChild;ce!==null;ce=ce.nextSibling)if(ce.nodeType===t.ELEMENT_NODE&&ce.localName===q&&ce.namespaceURI===R.HTML)return ce}return null}function B(U){if(U._nid=U.ownerDocument._nextnid++,U.ownerDocument._nodes[U._nid]=U,U.nodeType===t.ELEMENT_NODE){var q=U.getAttribute("id");q&&U.ownerDocument.addId(q,U),U._roothook&&U._roothook()}}function z(U){if(U.nodeType===t.ELEMENT_NODE){var q=U.getAttribute("id");q&&U.ownerDocument.delId(q,U)}U.ownerDocument._nodes[U._nid]=void 0,U._nid=void 0}function J(U){if(B(U),U.nodeType===t.ELEMENT_NODE)for(var q=U.firstChild;q!==null;q=q.nextSibling)J(q)}function de(U){z(U);for(var q=U.firstChild;q!==null;q=q.nextSibling)de(q)}function De(U,q){U.ownerDocument=q,U._lastModTime=void 0,Object.prototype.hasOwnProperty.call(U,"_tagName")&&(U._tagName=void 0);for(var ce=U.firstChild;ce!==null;ce=ce.nextSibling)De(ce,q)}function Le(U){this.nodes=Object.create(null),this.nodes[U._nid]=U,this.length=1,this.firstNode=void 0}Le.prototype.add=function(U){this.nodes[U._nid]||(this.nodes[U._nid]=U,this.length++,this.firstNode=void 0)},Le.prototype.del=function(U){this.nodes[U._nid]&&(delete this.nodes[U._nid],this.length--,this.firstNode=void 0)},Le.prototype.getFirst=function(){if(!this.firstNode){var U;for(U in this.nodes)(this.firstNode===void 0||this.firstNode.compareDocumentPosition(this.nodes[U])&t.DOCUMENT_POSITION_PRECEDING)&&(this.firstNode=this.nodes[U])}return this.firstNode},Le.prototype.downgrade=function(){if(this.length===1){var U;for(U in this.nodes)return this.nodes[U]}return this}}}),QI=qe({"external/npm/node_modules/domino/lib/DocumentType.js"(n,e){e.exports=s;var t=Pr(),r=KF(),i=$I();function s(o,a,u,c){r.call(this),this.nodeType=t.DOCUMENT_TYPE_NODE,this.ownerDocument=o||null,this.name=a,this.publicId=u||"",this.systemId=c||""}s.prototype=Object.create(r.prototype,{nodeName:{get:function(){return this.name}},nodeValue:{get:function(){return null},set:function(){}},clone:{value:function(){return new s(this.ownerDocument,this.name,this.publicId,this.systemId)}},isEqual:{value:function(a){return this.name===a.name&&this.publicId===a.publicId&&this.systemId===a.systemId}}}),Object.defineProperties(s.prototype,i)}}),YI=qe({"external/npm/node_modules/domino/lib/HTMLParser.js"(n,e){e.exports=It;var t=KI(),r=QI(),i=Pr(),s=Vn().NAMESPACE,o=WI(),a=o.elements,u=Function.prototype.apply.bind(Array.prototype.push),c=-1,l=1,d=2,f=3,h=4,g=5,y=[],S=/^HTML$|^-\/\/W3O\/\/DTD W3 HTML Strict 3\.0\/\/EN\/\/$|^-\/W3C\/DTD HTML 4\.0 Transitional\/EN$|^\+\/\/Silmaril\/\/dtd html Pro v0r11 19970101\/\/|^-\/\/AdvaSoft Ltd\/\/DTD HTML 3\.0 asWedit \+ extensions\/\/|^-\/\/AS\/\/DTD HTML 3\.0 asWedit \+ extensions\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Level 1\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Level 2\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict Level 1\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict Level 2\/\/|^-\/\/IETF\/\/DTD HTML 2\.0 Strict\/\/|^-\/\/IETF\/\/DTD HTML 2\.0\/\/|^-\/\/IETF\/\/DTD HTML 2\.1E\/\/|^-\/\/IETF\/\/DTD HTML 3\.0\/\/|^-\/\/IETF\/\/DTD HTML 3\.2 Final\/\/|^-\/\/IETF\/\/DTD HTML 3\.2\/\/|^-\/\/IETF\/\/DTD HTML 3\/\/|^-\/\/IETF\/\/DTD HTML Level 0\/\/|^-\/\/IETF\/\/DTD HTML Level 1\/\/|^-\/\/IETF\/\/DTD HTML Level 2\/\/|^-\/\/IETF\/\/DTD HTML Level 3\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 0\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 1\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 2\/\/|^-\/\/IETF\/\/DTD HTML Strict Level 3\/\/|^-\/\/IETF\/\/DTD HTML Strict\/\/|^-\/\/IETF\/\/DTD HTML\/\/|^-\/\/Metrius\/\/DTD Metrius Presentational\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 HTML Strict\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 HTML\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 2\.0 Tables\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 HTML Strict\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 HTML\/\/|^-\/\/Microsoft\/\/DTD Internet Explorer 3\.0 Tables\/\/|^-\/\/Netscape Comm\. Corp\.\/\/DTD HTML\/\/|^-\/\/Netscape Comm\. Corp\.\/\/DTD Strict HTML\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML 2\.0\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML Extended 1\.0\/\/|^-\/\/O'Reilly and Associates\/\/DTD HTML Extended Relaxed 1\.0\/\/|^-\/\/SoftQuad Software\/\/DTD HoTMetaL PRO 6\.0::19990601::extensions to HTML 4\.0\/\/|^-\/\/SoftQuad\/\/DTD HoTMetaL PRO 4\.0::19971010::extensions to HTML 4\.0\/\/|^-\/\/Spyglass\/\/DTD HTML 2\.0 Extended\/\/|^-\/\/SQ\/\/DTD HTML 2\.0 HoTMetaL \+ extensions\/\/|^-\/\/Sun Microsystems Corp\.\/\/DTD HotJava HTML\/\/|^-\/\/Sun Microsystems Corp\.\/\/DTD HotJava Strict HTML\/\/|^-\/\/W3C\/\/DTD HTML 3 1995-03-24\/\/|^-\/\/W3C\/\/DTD HTML 3\.2 Draft\/\/|^-\/\/W3C\/\/DTD HTML 3\.2 Final\/\/|^-\/\/W3C\/\/DTD HTML 3\.2\/\/|^-\/\/W3C\/\/DTD HTML 3\.2S Draft\/\/|^-\/\/W3C\/\/DTD HTML 4\.0 Frameset\/\/|^-\/\/W3C\/\/DTD HTML 4\.0 Transitional\/\/|^-\/\/W3C\/\/DTD HTML Experimental 19960712\/\/|^-\/\/W3C\/\/DTD HTML Experimental 970421\/\/|^-\/\/W3C\/\/DTD W3 HTML\/\/|^-\/\/W3O\/\/DTD W3 HTML 3\.0\/\/|^-\/\/WebTechs\/\/DTD Mozilla HTML 2\.0\/\/|^-\/\/WebTechs\/\/DTD Mozilla HTML\/\//i,_="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",C=/^-\/\/W3C\/\/DTD HTML 4\.01 Frameset\/\/|^-\/\/W3C\/\/DTD HTML 4\.01 Transitional\/\//i,I=/^-\/\/W3C\/\/DTD XHTML 1\.0 Frameset\/\/|^-\/\/W3C\/\/DTD XHTML 1\.0 Transitional\/\//i,T=Object.create(null);T[s.HTML]={__proto__:null,address:!0,applet:!0,area:!0,article:!0,aside:!0,base:!0,basefont:!0,bgsound:!0,blockquote:!0,body:!0,br:!0,button:!0,caption:!0,center:!0,col:!0,colgroup:!0,dd:!0,details:!0,dir:!0,div:!0,dl:!0,dt:!0,embed:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,frame:!0,frameset:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,head:!0,header:!0,hgroup:!0,hr:!0,html:!0,iframe:!0,img:!0,input:!0,li:!0,link:!0,listing:!0,main:!0,marquee:!0,menu:!0,meta:!0,nav:!0,noembed:!0,noframes:!0,noscript:!0,object:!0,ol:!0,p:!0,param:!0,plaintext:!0,pre:!0,script:!0,section:!0,select:!0,source:!0,style:!0,summary:!0,table:!0,tbody:!0,td:!0,template:!0,textarea:!0,tfoot:!0,th:!0,thead:!0,title:!0,tr:!0,track:!0,ul:!0,wbr:!0,xmp:!0},T[s.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0},T[s.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0};var x=Object.create(null);x[s.HTML]={__proto__:null,address:!0,div:!0,p:!0};var V=Object.create(null);V[s.HTML]={__proto__:null,dd:!0,dt:!0};var R=Object.create(null);R[s.HTML]={__proto__:null,table:!0,thead:!0,tbody:!0,tfoot:!0,tr:!0};var A=Object.create(null);A[s.HTML]={__proto__:null,dd:!0,dt:!0,li:!0,menuitem:!0,optgroup:!0,option:!0,p:!0,rb:!0,rp:!0,rt:!0,rtc:!0};var N=Object.create(null);N[s.HTML]={__proto__:null,caption:!0,colgroup:!0,dd:!0,dt:!0,li:!0,optgroup:!0,option:!0,p:!0,rb:!0,rp:!0,rt:!0,rtc:!0,tbody:!0,td:!0,tfoot:!0,th:!0,thead:!0,tr:!0};var E=Object.create(null);E[s.HTML]={__proto__:null,table:!0,template:!0,html:!0};var D=Object.create(null);D[s.HTML]={__proto__:null,tbody:!0,tfoot:!0,thead:!0,template:!0,html:!0};var P=Object.create(null);P[s.HTML]={__proto__:null,tr:!0,template:!0,html:!0};var p=Object.create(null);p[s.HTML]={__proto__:null,button:!0,fieldset:!0,input:!0,keygen:!0,object:!0,output:!0,select:!0,textarea:!0,img:!0};var m=Object.create(null);m[s.HTML]={__proto__:null,applet:!0,caption:!0,html:!0,table:!0,td:!0,th:!0,marquee:!0,object:!0,template:!0},m[s.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0},m[s.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0};var v=Object.create(m);v[s.HTML]=Object.create(m[s.HTML]),v[s.HTML].ol=!0,v[s.HTML].ul=!0;var B=Object.create(m);B[s.HTML]=Object.create(m[s.HTML]),B[s.HTML].button=!0;var z=Object.create(null);z[s.HTML]={__proto__:null,html:!0,table:!0,template:!0};var J=Object.create(null);J[s.HTML]={__proto__:null,optgroup:!0,option:!0};var de=Object.create(null);de[s.MATHML]={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0};var De=Object.create(null);De[s.SVG]={__proto__:null,foreignObject:!0,desc:!0,title:!0};var Le={__proto__:null,"xlink:actuate":s.XLINK,"xlink:arcrole":s.XLINK,"xlink:href":s.XLINK,"xlink:role":s.XLINK,"xlink:show":s.XLINK,"xlink:title":s.XLINK,"xlink:type":s.XLINK,"xml:base":s.XML,"xml:lang":s.XML,"xml:space":s.XML,xmlns:s.XMLNS,"xmlns:xlink":s.XMLNS},U={__proto__:null,attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},q={__proto__:null,altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},ce={__proto__:null,0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},Ce={__proto__:null,AElig:198,"AElig;":198,AMP:38,"AMP;":38,Aacute:193,"Aacute;":193,"Abreve;":258,Acirc:194,"Acirc;":194,"Acy;":1040,"Afr;":[55349,56580],Agrave:192,"Agrave;":192,"Alpha;":913,"Amacr;":256,"And;":10835,"Aogon;":260,"Aopf;":[55349,56632],"ApplyFunction;":8289,Aring:197,"Aring;":197,"Ascr;":[55349,56476],"Assign;":8788,Atilde:195,"Atilde;":195,Auml:196,"Auml;":196,"Backslash;":8726,"Barv;":10983,"Barwed;":8966,"Bcy;":1041,"Because;":8757,"Bernoullis;":8492,"Beta;":914,"Bfr;":[55349,56581],"Bopf;":[55349,56633],"Breve;":728,"Bscr;":8492,"Bumpeq;":8782,"CHcy;":1063,COPY:169,"COPY;":169,"Cacute;":262,"Cap;":8914,"CapitalDifferentialD;":8517,"Cayleys;":8493,"Ccaron;":268,Ccedil:199,"Ccedil;":199,"Ccirc;":264,"Cconint;":8752,"Cdot;":266,"Cedilla;":184,"CenterDot;":183,"Cfr;":8493,"Chi;":935,"CircleDot;":8857,"CircleMinus;":8854,"CirclePlus;":8853,"CircleTimes;":8855,"ClockwiseContourIntegral;":8754,"CloseCurlyDoubleQuote;":8221,"CloseCurlyQuote;":8217,"Colon;":8759,"Colone;":10868,"Congruent;":8801,"Conint;":8751,"ContourIntegral;":8750,"Copf;":8450,"Coproduct;":8720,"CounterClockwiseContourIntegral;":8755,"Cross;":10799,"Cscr;":[55349,56478],"Cup;":8915,"CupCap;":8781,"DD;":8517,"DDotrahd;":10513,"DJcy;":1026,"DScy;":1029,"DZcy;":1039,"Dagger;":8225,"Darr;":8609,"Dashv;":10980,"Dcaron;":270,"Dcy;":1044,"Del;":8711,"Delta;":916,"Dfr;":[55349,56583],"DiacriticalAcute;":180,"DiacriticalDot;":729,"DiacriticalDoubleAcute;":733,"DiacriticalGrave;":96,"DiacriticalTilde;":732,"Diamond;":8900,"DifferentialD;":8518,"Dopf;":[55349,56635],"Dot;":168,"DotDot;":8412,"DotEqual;":8784,"DoubleContourIntegral;":8751,"DoubleDot;":168,"DoubleDownArrow;":8659,"DoubleLeftArrow;":8656,"DoubleLeftRightArrow;":8660,"DoubleLeftTee;":10980,"DoubleLongLeftArrow;":10232,"DoubleLongLeftRightArrow;":10234,"DoubleLongRightArrow;":10233,"DoubleRightArrow;":8658,"DoubleRightTee;":8872,"DoubleUpArrow;":8657,"DoubleUpDownArrow;":8661,"DoubleVerticalBar;":8741,"DownArrow;":8595,"DownArrowBar;":10515,"DownArrowUpArrow;":8693,"DownBreve;":785,"DownLeftRightVector;":10576,"DownLeftTeeVector;":10590,"DownLeftVector;":8637,"DownLeftVectorBar;":10582,"DownRightTeeVector;":10591,"DownRightVector;":8641,"DownRightVectorBar;":10583,"DownTee;":8868,"DownTeeArrow;":8615,"Downarrow;":8659,"Dscr;":[55349,56479],"Dstrok;":272,"ENG;":330,ETH:208,"ETH;":208,Eacute:201,"Eacute;":201,"Ecaron;":282,Ecirc:202,"Ecirc;":202,"Ecy;":1069,"Edot;":278,"Efr;":[55349,56584],Egrave:200,"Egrave;":200,"Element;":8712,"Emacr;":274,"EmptySmallSquare;":9723,"EmptyVerySmallSquare;":9643,"Eogon;":280,"Eopf;":[55349,56636],"Epsilon;":917,"Equal;":10869,"EqualTilde;":8770,"Equilibrium;":8652,"Escr;":8496,"Esim;":10867,"Eta;":919,Euml:203,"Euml;":203,"Exists;":8707,"ExponentialE;":8519,"Fcy;":1060,"Ffr;":[55349,56585],"FilledSmallSquare;":9724,"FilledVerySmallSquare;":9642,"Fopf;":[55349,56637],"ForAll;":8704,"Fouriertrf;":8497,"Fscr;":8497,"GJcy;":1027,GT:62,"GT;":62,"Gamma;":915,"Gammad;":988,"Gbreve;":286,"Gcedil;":290,"Gcirc;":284,"Gcy;":1043,"Gdot;":288,"Gfr;":[55349,56586],"Gg;":8921,"Gopf;":[55349,56638],"GreaterEqual;":8805,"GreaterEqualLess;":8923,"GreaterFullEqual;":8807,"GreaterGreater;":10914,"GreaterLess;":8823,"GreaterSlantEqual;":10878,"GreaterTilde;":8819,"Gscr;":[55349,56482],"Gt;":8811,"HARDcy;":1066,"Hacek;":711,"Hat;":94,"Hcirc;":292,"Hfr;":8460,"HilbertSpace;":8459,"Hopf;":8461,"HorizontalLine;":9472,"Hscr;":8459,"Hstrok;":294,"HumpDownHump;":8782,"HumpEqual;":8783,"IEcy;":1045,"IJlig;":306,"IOcy;":1025,Iacute:205,"Iacute;":205,Icirc:206,"Icirc;":206,"Icy;":1048,"Idot;":304,"Ifr;":8465,Igrave:204,"Igrave;":204,"Im;":8465,"Imacr;":298,"ImaginaryI;":8520,"Implies;":8658,"Int;":8748,"Integral;":8747,"Intersection;":8898,"InvisibleComma;":8291,"InvisibleTimes;":8290,"Iogon;":302,"Iopf;":[55349,56640],"Iota;":921,"Iscr;":8464,"Itilde;":296,"Iukcy;":1030,Iuml:207,"Iuml;":207,"Jcirc;":308,"Jcy;":1049,"Jfr;":[55349,56589],"Jopf;":[55349,56641],"Jscr;":[55349,56485],"Jsercy;":1032,"Jukcy;":1028,"KHcy;":1061,"KJcy;":1036,"Kappa;":922,"Kcedil;":310,"Kcy;":1050,"Kfr;":[55349,56590],"Kopf;":[55349,56642],"Kscr;":[55349,56486],"LJcy;":1033,LT:60,"LT;":60,"Lacute;":313,"Lambda;":923,"Lang;":10218,"Laplacetrf;":8466,"Larr;":8606,"Lcaron;":317,"Lcedil;":315,"Lcy;":1051,"LeftAngleBracket;":10216,"LeftArrow;":8592,"LeftArrowBar;":8676,"LeftArrowRightArrow;":8646,"LeftCeiling;":8968,"LeftDoubleBracket;":10214,"LeftDownTeeVector;":10593,"LeftDownVector;":8643,"LeftDownVectorBar;":10585,"LeftFloor;":8970,"LeftRightArrow;":8596,"LeftRightVector;":10574,"LeftTee;":8867,"LeftTeeArrow;":8612,"LeftTeeVector;":10586,"LeftTriangle;":8882,"LeftTriangleBar;":10703,"LeftTriangleEqual;":8884,"LeftUpDownVector;":10577,"LeftUpTeeVector;":10592,"LeftUpVector;":8639,"LeftUpVectorBar;":10584,"LeftVector;":8636,"LeftVectorBar;":10578,"Leftarrow;":8656,"Leftrightarrow;":8660,"LessEqualGreater;":8922,"LessFullEqual;":8806,"LessGreater;":8822,"LessLess;":10913,"LessSlantEqual;":10877,"LessTilde;":8818,"Lfr;":[55349,56591],"Ll;":8920,"Lleftarrow;":8666,"Lmidot;":319,"LongLeftArrow;":10229,"LongLeftRightArrow;":10231,"LongRightArrow;":10230,"Longleftarrow;":10232,"Longleftrightarrow;":10234,"Longrightarrow;":10233,"Lopf;":[55349,56643],"LowerLeftArrow;":8601,"LowerRightArrow;":8600,"Lscr;":8466,"Lsh;":8624,"Lstrok;":321,"Lt;":8810,"Map;":10501,"Mcy;":1052,"MediumSpace;":8287,"Mellintrf;":8499,"Mfr;":[55349,56592],"MinusPlus;":8723,"Mopf;":[55349,56644],"Mscr;":8499,"Mu;":924,"NJcy;":1034,"Nacute;":323,"Ncaron;":327,"Ncedil;":325,"Ncy;":1053,"NegativeMediumSpace;":8203,"NegativeThickSpace;":8203,"NegativeThinSpace;":8203,"NegativeVeryThinSpace;":8203,"NestedGreaterGreater;":8811,"NestedLessLess;":8810,"NewLine;":10,"Nfr;":[55349,56593],"NoBreak;":8288,"NonBreakingSpace;":160,"Nopf;":8469,"Not;":10988,"NotCongruent;":8802,"NotCupCap;":8813,"NotDoubleVerticalBar;":8742,"NotElement;":8713,"NotEqual;":8800,"NotEqualTilde;":[8770,824],"NotExists;":8708,"NotGreater;":8815,"NotGreaterEqual;":8817,"NotGreaterFullEqual;":[8807,824],"NotGreaterGreater;":[8811,824],"NotGreaterLess;":8825,"NotGreaterSlantEqual;":[10878,824],"NotGreaterTilde;":8821,"NotHumpDownHump;":[8782,824],"NotHumpEqual;":[8783,824],"NotLeftTriangle;":8938,"NotLeftTriangleBar;":[10703,824],"NotLeftTriangleEqual;":8940,"NotLess;":8814,"NotLessEqual;":8816,"NotLessGreater;":8824,"NotLessLess;":[8810,824],"NotLessSlantEqual;":[10877,824],"NotLessTilde;":8820,"NotNestedGreaterGreater;":[10914,824],"NotNestedLessLess;":[10913,824],"NotPrecedes;":8832,"NotPrecedesEqual;":[10927,824],"NotPrecedesSlantEqual;":8928,"NotReverseElement;":8716,"NotRightTriangle;":8939,"NotRightTriangleBar;":[10704,824],"NotRightTriangleEqual;":8941,"NotSquareSubset;":[8847,824],"NotSquareSubsetEqual;":8930,"NotSquareSuperset;":[8848,824],"NotSquareSupersetEqual;":8931,"NotSubset;":[8834,8402],"NotSubsetEqual;":8840,"NotSucceeds;":8833,"NotSucceedsEqual;":[10928,824],"NotSucceedsSlantEqual;":8929,"NotSucceedsTilde;":[8831,824],"NotSuperset;":[8835,8402],"NotSupersetEqual;":8841,"NotTilde;":8769,"NotTildeEqual;":8772,"NotTildeFullEqual;":8775,"NotTildeTilde;":8777,"NotVerticalBar;":8740,"Nscr;":[55349,56489],Ntilde:209,"Ntilde;":209,"Nu;":925,"OElig;":338,Oacute:211,"Oacute;":211,Ocirc:212,"Ocirc;":212,"Ocy;":1054,"Odblac;":336,"Ofr;":[55349,56594],Ograve:210,"Ograve;":210,"Omacr;":332,"Omega;":937,"Omicron;":927,"Oopf;":[55349,56646],"OpenCurlyDoubleQuote;":8220,"OpenCurlyQuote;":8216,"Or;":10836,"Oscr;":[55349,56490],Oslash:216,"Oslash;":216,Otilde:213,"Otilde;":213,"Otimes;":10807,Ouml:214,"Ouml;":214,"OverBar;":8254,"OverBrace;":9182,"OverBracket;":9140,"OverParenthesis;":9180,"PartialD;":8706,"Pcy;":1055,"Pfr;":[55349,56595],"Phi;":934,"Pi;":928,"PlusMinus;":177,"Poincareplane;":8460,"Popf;":8473,"Pr;":10939,"Precedes;":8826,"PrecedesEqual;":10927,"PrecedesSlantEqual;":8828,"PrecedesTilde;":8830,"Prime;":8243,"Product;":8719,"Proportion;":8759,"Proportional;":8733,"Pscr;":[55349,56491],"Psi;":936,QUOT:34,"QUOT;":34,"Qfr;":[55349,56596],"Qopf;":8474,"Qscr;":[55349,56492],"RBarr;":10512,REG:174,"REG;":174,"Racute;":340,"Rang;":10219,"Rarr;":8608,"Rarrtl;":10518,"Rcaron;":344,"Rcedil;":342,"Rcy;":1056,"Re;":8476,"ReverseElement;":8715,"ReverseEquilibrium;":8651,"ReverseUpEquilibrium;":10607,"Rfr;":8476,"Rho;":929,"RightAngleBracket;":10217,"RightArrow;":8594,"RightArrowBar;":8677,"RightArrowLeftArrow;":8644,"RightCeiling;":8969,"RightDoubleBracket;":10215,"RightDownTeeVector;":10589,"RightDownVector;":8642,"RightDownVectorBar;":10581,"RightFloor;":8971,"RightTee;":8866,"RightTeeArrow;":8614,"RightTeeVector;":10587,"RightTriangle;":8883,"RightTriangleBar;":10704,"RightTriangleEqual;":8885,"RightUpDownVector;":10575,"RightUpTeeVector;":10588,"RightUpVector;":8638,"RightUpVectorBar;":10580,"RightVector;":8640,"RightVectorBar;":10579,"Rightarrow;":8658,"Ropf;":8477,"RoundImplies;":10608,"Rrightarrow;":8667,"Rscr;":8475,"Rsh;":8625,"RuleDelayed;":10740,"SHCHcy;":1065,"SHcy;":1064,"SOFTcy;":1068,"Sacute;":346,"Sc;":10940,"Scaron;":352,"Scedil;":350,"Scirc;":348,"Scy;":1057,"Sfr;":[55349,56598],"ShortDownArrow;":8595,"ShortLeftArrow;":8592,"ShortRightArrow;":8594,"ShortUpArrow;":8593,"Sigma;":931,"SmallCircle;":8728,"Sopf;":[55349,56650],"Sqrt;":8730,"Square;":9633,"SquareIntersection;":8851,"SquareSubset;":8847,"SquareSubsetEqual;":8849,"SquareSuperset;":8848,"SquareSupersetEqual;":8850,"SquareUnion;":8852,"Sscr;":[55349,56494],"Star;":8902,"Sub;":8912,"Subset;":8912,"SubsetEqual;":8838,"Succeeds;":8827,"SucceedsEqual;":10928,"SucceedsSlantEqual;":8829,"SucceedsTilde;":8831,"SuchThat;":8715,"Sum;":8721,"Sup;":8913,"Superset;":8835,"SupersetEqual;":8839,"Supset;":8913,THORN:222,"THORN;":222,"TRADE;":8482,"TSHcy;":1035,"TScy;":1062,"Tab;":9,"Tau;":932,"Tcaron;":356,"Tcedil;":354,"Tcy;":1058,"Tfr;":[55349,56599],"Therefore;":8756,"Theta;":920,"ThickSpace;":[8287,8202],"ThinSpace;":8201,"Tilde;":8764,"TildeEqual;":8771,"TildeFullEqual;":8773,"TildeTilde;":8776,"Topf;":[55349,56651],"TripleDot;":8411,"Tscr;":[55349,56495],"Tstrok;":358,Uacute:218,"Uacute;":218,"Uarr;":8607,"Uarrocir;":10569,"Ubrcy;":1038,"Ubreve;":364,Ucirc:219,"Ucirc;":219,"Ucy;":1059,"Udblac;":368,"Ufr;":[55349,56600],Ugrave:217,"Ugrave;":217,"Umacr;":362,"UnderBar;":95,"UnderBrace;":9183,"UnderBracket;":9141,"UnderParenthesis;":9181,"Union;":8899,"UnionPlus;":8846,"Uogon;":370,"Uopf;":[55349,56652],"UpArrow;":8593,"UpArrowBar;":10514,"UpArrowDownArrow;":8645,"UpDownArrow;":8597,"UpEquilibrium;":10606,"UpTee;":8869,"UpTeeArrow;":8613,"Uparrow;":8657,"Updownarrow;":8661,"UpperLeftArrow;":8598,"UpperRightArrow;":8599,"Upsi;":978,"Upsilon;":933,"Uring;":366,"Uscr;":[55349,56496],"Utilde;":360,Uuml:220,"Uuml;":220,"VDash;":8875,"Vbar;":10987,"Vcy;":1042,"Vdash;":8873,"Vdashl;":10982,"Vee;":8897,"Verbar;":8214,"Vert;":8214,"VerticalBar;":8739,"VerticalLine;":124,"VerticalSeparator;":10072,"VerticalTilde;":8768,"VeryThinSpace;":8202,"Vfr;":[55349,56601],"Vopf;":[55349,56653],"Vscr;":[55349,56497],"Vvdash;":8874,"Wcirc;":372,"Wedge;":8896,"Wfr;":[55349,56602],"Wopf;":[55349,56654],"Wscr;":[55349,56498],"Xfr;":[55349,56603],"Xi;":926,"Xopf;":[55349,56655],"Xscr;":[55349,56499],"YAcy;":1071,"YIcy;":1031,"YUcy;":1070,Yacute:221,"Yacute;":221,"Ycirc;":374,"Ycy;":1067,"Yfr;":[55349,56604],"Yopf;":[55349,56656],"Yscr;":[55349,56500],"Yuml;":376,"ZHcy;":1046,"Zacute;":377,"Zcaron;":381,"Zcy;":1047,"Zdot;":379,"ZeroWidthSpace;":8203,"Zeta;":918,"Zfr;":8488,"Zopf;":8484,"Zscr;":[55349,56501],aacute:225,"aacute;":225,"abreve;":259,"ac;":8766,"acE;":[8766,819],"acd;":8767,acirc:226,"acirc;":226,acute:180,"acute;":180,"acy;":1072,aelig:230,"aelig;":230,"af;":8289,"afr;":[55349,56606],agrave:224,"agrave;":224,"alefsym;":8501,"aleph;":8501,"alpha;":945,"amacr;":257,"amalg;":10815,amp:38,"amp;":38,"and;":8743,"andand;":10837,"andd;":10844,"andslope;":10840,"andv;":10842,"ang;":8736,"ange;":10660,"angle;":8736,"angmsd;":8737,"angmsdaa;":10664,"angmsdab;":10665,"angmsdac;":10666,"angmsdad;":10667,"angmsdae;":10668,"angmsdaf;":10669,"angmsdag;":10670,"angmsdah;":10671,"angrt;":8735,"angrtvb;":8894,"angrtvbd;":10653,"angsph;":8738,"angst;":197,"angzarr;":9084,"aogon;":261,"aopf;":[55349,56658],"ap;":8776,"apE;":10864,"apacir;":10863,"ape;":8778,"apid;":8779,"apos;":39,"approx;":8776,"approxeq;":8778,aring:229,"aring;":229,"ascr;":[55349,56502],"ast;":42,"asymp;":8776,"asympeq;":8781,atilde:227,"atilde;":227,auml:228,"auml;":228,"awconint;":8755,"awint;":10769,"bNot;":10989,"backcong;":8780,"backepsilon;":1014,"backprime;":8245,"backsim;":8765,"backsimeq;":8909,"barvee;":8893,"barwed;":8965,"barwedge;":8965,"bbrk;":9141,"bbrktbrk;":9142,"bcong;":8780,"bcy;":1073,"bdquo;":8222,"becaus;":8757,"because;":8757,"bemptyv;":10672,"bepsi;":1014,"bernou;":8492,"beta;":946,"beth;":8502,"between;":8812,"bfr;":[55349,56607],"bigcap;":8898,"bigcirc;":9711,"bigcup;":8899,"bigodot;":10752,"bigoplus;":10753,"bigotimes;":10754,"bigsqcup;":10758,"bigstar;":9733,"bigtriangledown;":9661,"bigtriangleup;":9651,"biguplus;":10756,"bigvee;":8897,"bigwedge;":8896,"bkarow;":10509,"blacklozenge;":10731,"blacksquare;":9642,"blacktriangle;":9652,"blacktriangledown;":9662,"blacktriangleleft;":9666,"blacktriangleright;":9656,"blank;":9251,"blk12;":9618,"blk14;":9617,"blk34;":9619,"block;":9608,"bne;":[61,8421],"bnequiv;":[8801,8421],"bnot;":8976,"bopf;":[55349,56659],"bot;":8869,"bottom;":8869,"bowtie;":8904,"boxDL;":9559,"boxDR;":9556,"boxDl;":9558,"boxDr;":9555,"boxH;":9552,"boxHD;":9574,"boxHU;":9577,"boxHd;":9572,"boxHu;":9575,"boxUL;":9565,"boxUR;":9562,"boxUl;":9564,"boxUr;":9561,"boxV;":9553,"boxVH;":9580,"boxVL;":9571,"boxVR;":9568,"boxVh;":9579,"boxVl;":9570,"boxVr;":9567,"boxbox;":10697,"boxdL;":9557,"boxdR;":9554,"boxdl;":9488,"boxdr;":9484,"boxh;":9472,"boxhD;":9573,"boxhU;":9576,"boxhd;":9516,"boxhu;":9524,"boxminus;":8863,"boxplus;":8862,"boxtimes;":8864,"boxuL;":9563,"boxuR;":9560,"boxul;":9496,"boxur;":9492,"boxv;":9474,"boxvH;":9578,"boxvL;":9569,"boxvR;":9566,"boxvh;":9532,"boxvl;":9508,"boxvr;":9500,"bprime;":8245,"breve;":728,brvbar:166,"brvbar;":166,"bscr;":[55349,56503],"bsemi;":8271,"bsim;":8765,"bsime;":8909,"bsol;":92,"bsolb;":10693,"bsolhsub;":10184,"bull;":8226,"bullet;":8226,"bump;":8782,"bumpE;":10926,"bumpe;":8783,"bumpeq;":8783,"cacute;":263,"cap;":8745,"capand;":10820,"capbrcup;":10825,"capcap;":10827,"capcup;":10823,"capdot;":10816,"caps;":[8745,65024],"caret;":8257,"caron;":711,"ccaps;":10829,"ccaron;":269,ccedil:231,"ccedil;":231,"ccirc;":265,"ccups;":10828,"ccupssm;":10832,"cdot;":267,cedil:184,"cedil;":184,"cemptyv;":10674,cent:162,"cent;":162,"centerdot;":183,"cfr;":[55349,56608],"chcy;":1095,"check;":10003,"checkmark;":10003,"chi;":967,"cir;":9675,"cirE;":10691,"circ;":710,"circeq;":8791,"circlearrowleft;":8634,"circlearrowright;":8635,"circledR;":174,"circledS;":9416,"circledast;":8859,"circledcirc;":8858,"circleddash;":8861,"cire;":8791,"cirfnint;":10768,"cirmid;":10991,"cirscir;":10690,"clubs;":9827,"clubsuit;":9827,"colon;":58,"colone;":8788,"coloneq;":8788,"comma;":44,"commat;":64,"comp;":8705,"compfn;":8728,"complement;":8705,"complexes;":8450,"cong;":8773,"congdot;":10861,"conint;":8750,"copf;":[55349,56660],"coprod;":8720,copy:169,"copy;":169,"copysr;":8471,"crarr;":8629,"cross;":10007,"cscr;":[55349,56504],"csub;":10959,"csube;":10961,"csup;":10960,"csupe;":10962,"ctdot;":8943,"cudarrl;":10552,"cudarrr;":10549,"cuepr;":8926,"cuesc;":8927,"cularr;":8630,"cularrp;":10557,"cup;":8746,"cupbrcap;":10824,"cupcap;":10822,"cupcup;":10826,"cupdot;":8845,"cupor;":10821,"cups;":[8746,65024],"curarr;":8631,"curarrm;":10556,"curlyeqprec;":8926,"curlyeqsucc;":8927,"curlyvee;":8910,"curlywedge;":8911,curren:164,"curren;":164,"curvearrowleft;":8630,"curvearrowright;":8631,"cuvee;":8910,"cuwed;":8911,"cwconint;":8754,"cwint;":8753,"cylcty;":9005,"dArr;":8659,"dHar;":10597,"dagger;":8224,"daleth;":8504,"darr;":8595,"dash;":8208,"dashv;":8867,"dbkarow;":10511,"dblac;":733,"dcaron;":271,"dcy;":1076,"dd;":8518,"ddagger;":8225,"ddarr;":8650,"ddotseq;":10871,deg:176,"deg;":176,"delta;":948,"demptyv;":10673,"dfisht;":10623,"dfr;":[55349,56609],"dharl;":8643,"dharr;":8642,"diam;":8900,"diamond;":8900,"diamondsuit;":9830,"diams;":9830,"die;":168,"digamma;":989,"disin;":8946,"div;":247,divide:247,"divide;":247,"divideontimes;":8903,"divonx;":8903,"djcy;":1106,"dlcorn;":8990,"dlcrop;":8973,"dollar;":36,"dopf;":[55349,56661],"dot;":729,"doteq;":8784,"doteqdot;":8785,"dotminus;":8760,"dotplus;":8724,"dotsquare;":8865,"doublebarwedge;":8966,"downarrow;":8595,"downdownarrows;":8650,"downharpoonleft;":8643,"downharpoonright;":8642,"drbkarow;":10512,"drcorn;":8991,"drcrop;":8972,"dscr;":[55349,56505],"dscy;":1109,"dsol;":10742,"dstrok;":273,"dtdot;":8945,"dtri;":9663,"dtrif;":9662,"duarr;":8693,"duhar;":10607,"dwangle;":10662,"dzcy;":1119,"dzigrarr;":10239,"eDDot;":10871,"eDot;":8785,eacute:233,"eacute;":233,"easter;":10862,"ecaron;":283,"ecir;":8790,ecirc:234,"ecirc;":234,"ecolon;":8789,"ecy;":1101,"edot;":279,"ee;":8519,"efDot;":8786,"efr;":[55349,56610],"eg;":10906,egrave:232,"egrave;":232,"egs;":10902,"egsdot;":10904,"el;":10905,"elinters;":9191,"ell;":8467,"els;":10901,"elsdot;":10903,"emacr;":275,"empty;":8709,"emptyset;":8709,"emptyv;":8709,"emsp13;":8196,"emsp14;":8197,"emsp;":8195,"eng;":331,"ensp;":8194,"eogon;":281,"eopf;":[55349,56662],"epar;":8917,"eparsl;":10723,"eplus;":10865,"epsi;":949,"epsilon;":949,"epsiv;":1013,"eqcirc;":8790,"eqcolon;":8789,"eqsim;":8770,"eqslantgtr;":10902,"eqslantless;":10901,"equals;":61,"equest;":8799,"equiv;":8801,"equivDD;":10872,"eqvparsl;":10725,"erDot;":8787,"erarr;":10609,"escr;":8495,"esdot;":8784,"esim;":8770,"eta;":951,eth:240,"eth;":240,euml:235,"euml;":235,"euro;":8364,"excl;":33,"exist;":8707,"expectation;":8496,"exponentiale;":8519,"fallingdotseq;":8786,"fcy;":1092,"female;":9792,"ffilig;":64259,"fflig;":64256,"ffllig;":64260,"ffr;":[55349,56611],"filig;":64257,"fjlig;":[102,106],"flat;":9837,"fllig;":64258,"fltns;":9649,"fnof;":402,"fopf;":[55349,56663],"forall;":8704,"fork;":8916,"forkv;":10969,"fpartint;":10765,frac12:189,"frac12;":189,"frac13;":8531,frac14:188,"frac14;":188,"frac15;":8533,"frac16;":8537,"frac18;":8539,"frac23;":8532,"frac25;":8534,frac34:190,"frac34;":190,"frac35;":8535,"frac38;":8540,"frac45;":8536,"frac56;":8538,"frac58;":8541,"frac78;":8542,"frasl;":8260,"frown;":8994,"fscr;":[55349,56507],"gE;":8807,"gEl;":10892,"gacute;":501,"gamma;":947,"gammad;":989,"gap;":10886,"gbreve;":287,"gcirc;":285,"gcy;":1075,"gdot;":289,"ge;":8805,"gel;":8923,"geq;":8805,"geqq;":8807,"geqslant;":10878,"ges;":10878,"gescc;":10921,"gesdot;":10880,"gesdoto;":10882,"gesdotol;":10884,"gesl;":[8923,65024],"gesles;":10900,"gfr;":[55349,56612],"gg;":8811,"ggg;":8921,"gimel;":8503,"gjcy;":1107,"gl;":8823,"glE;":10898,"gla;":10917,"glj;":10916,"gnE;":8809,"gnap;":10890,"gnapprox;":10890,"gne;":10888,"gneq;":10888,"gneqq;":8809,"gnsim;":8935,"gopf;":[55349,56664],"grave;":96,"gscr;":8458,"gsim;":8819,"gsime;":10894,"gsiml;":10896,gt:62,"gt;":62,"gtcc;":10919,"gtcir;":10874,"gtdot;":8919,"gtlPar;":10645,"gtquest;":10876,"gtrapprox;":10886,"gtrarr;":10616,"gtrdot;":8919,"gtreqless;":8923,"gtreqqless;":10892,"gtrless;":8823,"gtrsim;":8819,"gvertneqq;":[8809,65024],"gvnE;":[8809,65024],"hArr;":8660,"hairsp;":8202,"half;":189,"hamilt;":8459,"hardcy;":1098,"harr;":8596,"harrcir;":10568,"harrw;":8621,"hbar;":8463,"hcirc;":293,"hearts;":9829,"heartsuit;":9829,"hellip;":8230,"hercon;":8889,"hfr;":[55349,56613],"hksearow;":10533,"hkswarow;":10534,"hoarr;":8703,"homtht;":8763,"hookleftarrow;":8617,"hookrightarrow;":8618,"hopf;":[55349,56665],"horbar;":8213,"hscr;":[55349,56509],"hslash;":8463,"hstrok;":295,"hybull;":8259,"hyphen;":8208,iacute:237,"iacute;":237,"ic;":8291,icirc:238,"icirc;":238,"icy;":1080,"iecy;":1077,iexcl:161,"iexcl;":161,"iff;":8660,"ifr;":[55349,56614],igrave:236,"igrave;":236,"ii;":8520,"iiiint;":10764,"iiint;":8749,"iinfin;":10716,"iiota;":8489,"ijlig;":307,"imacr;":299,"image;":8465,"imagline;":8464,"imagpart;":8465,"imath;":305,"imof;":8887,"imped;":437,"in;":8712,"incare;":8453,"infin;":8734,"infintie;":10717,"inodot;":305,"int;":8747,"intcal;":8890,"integers;":8484,"intercal;":8890,"intlarhk;":10775,"intprod;":10812,"iocy;":1105,"iogon;":303,"iopf;":[55349,56666],"iota;":953,"iprod;":10812,iquest:191,"iquest;":191,"iscr;":[55349,56510],"isin;":8712,"isinE;":8953,"isindot;":8949,"isins;":8948,"isinsv;":8947,"isinv;":8712,"it;":8290,"itilde;":297,"iukcy;":1110,iuml:239,"iuml;":239,"jcirc;":309,"jcy;":1081,"jfr;":[55349,56615],"jmath;":567,"jopf;":[55349,56667],"jscr;":[55349,56511],"jsercy;":1112,"jukcy;":1108,"kappa;":954,"kappav;":1008,"kcedil;":311,"kcy;":1082,"kfr;":[55349,56616],"kgreen;":312,"khcy;":1093,"kjcy;":1116,"kopf;":[55349,56668],"kscr;":[55349,56512],"lAarr;":8666,"lArr;":8656,"lAtail;":10523,"lBarr;":10510,"lE;":8806,"lEg;":10891,"lHar;":10594,"lacute;":314,"laemptyv;":10676,"lagran;":8466,"lambda;":955,"lang;":10216,"langd;":10641,"langle;":10216,"lap;":10885,laquo:171,"laquo;":171,"larr;":8592,"larrb;":8676,"larrbfs;":10527,"larrfs;":10525,"larrhk;":8617,"larrlp;":8619,"larrpl;":10553,"larrsim;":10611,"larrtl;":8610,"lat;":10923,"latail;":10521,"late;":10925,"lates;":[10925,65024],"lbarr;":10508,"lbbrk;":10098,"lbrace;":123,"lbrack;":91,"lbrke;":10635,"lbrksld;":10639,"lbrkslu;":10637,"lcaron;":318,"lcedil;":316,"lceil;":8968,"lcub;":123,"lcy;":1083,"ldca;":10550,"ldquo;":8220,"ldquor;":8222,"ldrdhar;":10599,"ldrushar;":10571,"ldsh;":8626,"le;":8804,"leftarrow;":8592,"leftarrowtail;":8610,"leftharpoondown;":8637,"leftharpoonup;":8636,"leftleftarrows;":8647,"leftrightarrow;":8596,"leftrightarrows;":8646,"leftrightharpoons;":8651,"leftrightsquigarrow;":8621,"leftthreetimes;":8907,"leg;":8922,"leq;":8804,"leqq;":8806,"leqslant;":10877,"les;":10877,"lescc;":10920,"lesdot;":10879,"lesdoto;":10881,"lesdotor;":10883,"lesg;":[8922,65024],"lesges;":10899,"lessapprox;":10885,"lessdot;":8918,"lesseqgtr;":8922,"lesseqqgtr;":10891,"lessgtr;":8822,"lesssim;":8818,"lfisht;":10620,"lfloor;":8970,"lfr;":[55349,56617],"lg;":8822,"lgE;":10897,"lhard;":8637,"lharu;":8636,"lharul;":10602,"lhblk;":9604,"ljcy;":1113,"ll;":8810,"llarr;":8647,"llcorner;":8990,"llhard;":10603,"lltri;":9722,"lmidot;":320,"lmoust;":9136,"lmoustache;":9136,"lnE;":8808,"lnap;":10889,"lnapprox;":10889,"lne;":10887,"lneq;":10887,"lneqq;":8808,"lnsim;":8934,"loang;":10220,"loarr;":8701,"lobrk;":10214,"longleftarrow;":10229,"longleftrightarrow;":10231,"longmapsto;":10236,"longrightarrow;":10230,"looparrowleft;":8619,"looparrowright;":8620,"lopar;":10629,"lopf;":[55349,56669],"loplus;":10797,"lotimes;":10804,"lowast;":8727,"lowbar;":95,"loz;":9674,"lozenge;":9674,"lozf;":10731,"lpar;":40,"lparlt;":10643,"lrarr;":8646,"lrcorner;":8991,"lrhar;":8651,"lrhard;":10605,"lrm;":8206,"lrtri;":8895,"lsaquo;":8249,"lscr;":[55349,56513],"lsh;":8624,"lsim;":8818,"lsime;":10893,"lsimg;":10895,"lsqb;":91,"lsquo;":8216,"lsquor;":8218,"lstrok;":322,lt:60,"lt;":60,"ltcc;":10918,"ltcir;":10873,"ltdot;":8918,"lthree;":8907,"ltimes;":8905,"ltlarr;":10614,"ltquest;":10875,"ltrPar;":10646,"ltri;":9667,"ltrie;":8884,"ltrif;":9666,"lurdshar;":10570,"luruhar;":10598,"lvertneqq;":[8808,65024],"lvnE;":[8808,65024],"mDDot;":8762,macr:175,"macr;":175,"male;":9794,"malt;":10016,"maltese;":10016,"map;":8614,"mapsto;":8614,"mapstodown;":8615,"mapstoleft;":8612,"mapstoup;":8613,"marker;":9646,"mcomma;":10793,"mcy;":1084,"mdash;":8212,"measuredangle;":8737,"mfr;":[55349,56618],"mho;":8487,micro:181,"micro;":181,"mid;":8739,"midast;":42,"midcir;":10992,middot:183,"middot;":183,"minus;":8722,"minusb;":8863,"minusd;":8760,"minusdu;":10794,"mlcp;":10971,"mldr;":8230,"mnplus;":8723,"models;":8871,"mopf;":[55349,56670],"mp;":8723,"mscr;":[55349,56514],"mstpos;":8766,"mu;":956,"multimap;":8888,"mumap;":8888,"nGg;":[8921,824],"nGt;":[8811,8402],"nGtv;":[8811,824],"nLeftarrow;":8653,"nLeftrightarrow;":8654,"nLl;":[8920,824],"nLt;":[8810,8402],"nLtv;":[8810,824],"nRightarrow;":8655,"nVDash;":8879,"nVdash;":8878,"nabla;":8711,"nacute;":324,"nang;":[8736,8402],"nap;":8777,"napE;":[10864,824],"napid;":[8779,824],"napos;":329,"napprox;":8777,"natur;":9838,"natural;":9838,"naturals;":8469,nbsp:160,"nbsp;":160,"nbump;":[8782,824],"nbumpe;":[8783,824],"ncap;":10819,"ncaron;":328,"ncedil;":326,"ncong;":8775,"ncongdot;":[10861,824],"ncup;":10818,"ncy;":1085,"ndash;":8211,"ne;":8800,"neArr;":8663,"nearhk;":10532,"nearr;":8599,"nearrow;":8599,"nedot;":[8784,824],"nequiv;":8802,"nesear;":10536,"nesim;":[8770,824],"nexist;":8708,"nexists;":8708,"nfr;":[55349,56619],"ngE;":[8807,824],"nge;":8817,"ngeq;":8817,"ngeqq;":[8807,824],"ngeqslant;":[10878,824],"nges;":[10878,824],"ngsim;":8821,"ngt;":8815,"ngtr;":8815,"nhArr;":8654,"nharr;":8622,"nhpar;":10994,"ni;":8715,"nis;":8956,"nisd;":8954,"niv;":8715,"njcy;":1114,"nlArr;":8653,"nlE;":[8806,824],"nlarr;":8602,"nldr;":8229,"nle;":8816,"nleftarrow;":8602,"nleftrightarrow;":8622,"nleq;":8816,"nleqq;":[8806,824],"nleqslant;":[10877,824],"nles;":[10877,824],"nless;":8814,"nlsim;":8820,"nlt;":8814,"nltri;":8938,"nltrie;":8940,"nmid;":8740,"nopf;":[55349,56671],not:172,"not;":172,"notin;":8713,"notinE;":[8953,824],"notindot;":[8949,824],"notinva;":8713,"notinvb;":8951,"notinvc;":8950,"notni;":8716,"notniva;":8716,"notnivb;":8958,"notnivc;":8957,"npar;":8742,"nparallel;":8742,"nparsl;":[11005,8421],"npart;":[8706,824],"npolint;":10772,"npr;":8832,"nprcue;":8928,"npre;":[10927,824],"nprec;":8832,"npreceq;":[10927,824],"nrArr;":8655,"nrarr;":8603,"nrarrc;":[10547,824],"nrarrw;":[8605,824],"nrightarrow;":8603,"nrtri;":8939,"nrtrie;":8941,"nsc;":8833,"nsccue;":8929,"nsce;":[10928,824],"nscr;":[55349,56515],"nshortmid;":8740,"nshortparallel;":8742,"nsim;":8769,"nsime;":8772,"nsimeq;":8772,"nsmid;":8740,"nspar;":8742,"nsqsube;":8930,"nsqsupe;":8931,"nsub;":8836,"nsubE;":[10949,824],"nsube;":8840,"nsubset;":[8834,8402],"nsubseteq;":8840,"nsubseteqq;":[10949,824],"nsucc;":8833,"nsucceq;":[10928,824],"nsup;":8837,"nsupE;":[10950,824],"nsupe;":8841,"nsupset;":[8835,8402],"nsupseteq;":8841,"nsupseteqq;":[10950,824],"ntgl;":8825,ntilde:241,"ntilde;":241,"ntlg;":8824,"ntriangleleft;":8938,"ntrianglelefteq;":8940,"ntriangleright;":8939,"ntrianglerighteq;":8941,"nu;":957,"num;":35,"numero;":8470,"numsp;":8199,"nvDash;":8877,"nvHarr;":10500,"nvap;":[8781,8402],"nvdash;":8876,"nvge;":[8805,8402],"nvgt;":[62,8402],"nvinfin;":10718,"nvlArr;":10498,"nvle;":[8804,8402],"nvlt;":[60,8402],"nvltrie;":[8884,8402],"nvrArr;":10499,"nvrtrie;":[8885,8402],"nvsim;":[8764,8402],"nwArr;":8662,"nwarhk;":10531,"nwarr;":8598,"nwarrow;":8598,"nwnear;":10535,"oS;":9416,oacute:243,"oacute;":243,"oast;":8859,"ocir;":8858,ocirc:244,"ocirc;":244,"ocy;":1086,"odash;":8861,"odblac;":337,"odiv;":10808,"odot;":8857,"odsold;":10684,"oelig;":339,"ofcir;":10687,"ofr;":[55349,56620],"ogon;":731,ograve:242,"ograve;":242,"ogt;":10689,"ohbar;":10677,"ohm;":937,"oint;":8750,"olarr;":8634,"olcir;":10686,"olcross;":10683,"oline;":8254,"olt;":10688,"omacr;":333,"omega;":969,"omicron;":959,"omid;":10678,"ominus;":8854,"oopf;":[55349,56672],"opar;":10679,"operp;":10681,"oplus;":8853,"or;":8744,"orarr;":8635,"ord;":10845,"order;":8500,"orderof;":8500,ordf:170,"ordf;":170,ordm:186,"ordm;":186,"origof;":8886,"oror;":10838,"orslope;":10839,"orv;":10843,"oscr;":8500,oslash:248,"oslash;":248,"osol;":8856,otilde:245,"otilde;":245,"otimes;":8855,"otimesas;":10806,ouml:246,"ouml;":246,"ovbar;":9021,"par;":8741,para:182,"para;":182,"parallel;":8741,"parsim;":10995,"parsl;":11005,"part;":8706,"pcy;":1087,"percnt;":37,"period;":46,"permil;":8240,"perp;":8869,"pertenk;":8241,"pfr;":[55349,56621],"phi;":966,"phiv;":981,"phmmat;":8499,"phone;":9742,"pi;":960,"pitchfork;":8916,"piv;":982,"planck;":8463,"planckh;":8462,"plankv;":8463,"plus;":43,"plusacir;":10787,"plusb;":8862,"pluscir;":10786,"plusdo;":8724,"plusdu;":10789,"pluse;":10866,plusmn:177,"plusmn;":177,"plussim;":10790,"plustwo;":10791,"pm;":177,"pointint;":10773,"popf;":[55349,56673],pound:163,"pound;":163,"pr;":8826,"prE;":10931,"prap;":10935,"prcue;":8828,"pre;":10927,"prec;":8826,"precapprox;":10935,"preccurlyeq;":8828,"preceq;":10927,"precnapprox;":10937,"precneqq;":10933,"precnsim;":8936,"precsim;":8830,"prime;":8242,"primes;":8473,"prnE;":10933,"prnap;":10937,"prnsim;":8936,"prod;":8719,"profalar;":9006,"profline;":8978,"profsurf;":8979,"prop;":8733,"propto;":8733,"prsim;":8830,"prurel;":8880,"pscr;":[55349,56517],"psi;":968,"puncsp;":8200,"qfr;":[55349,56622],"qint;":10764,"qopf;":[55349,56674],"qprime;":8279,"qscr;":[55349,56518],"quaternions;":8461,"quatint;":10774,"quest;":63,"questeq;":8799,quot:34,"quot;":34,"rAarr;":8667,"rArr;":8658,"rAtail;":10524,"rBarr;":10511,"rHar;":10596,"race;":[8765,817],"racute;":341,"radic;":8730,"raemptyv;":10675,"rang;":10217,"rangd;":10642,"range;":10661,"rangle;":10217,raquo:187,"raquo;":187,"rarr;":8594,"rarrap;":10613,"rarrb;":8677,"rarrbfs;":10528,"rarrc;":10547,"rarrfs;":10526,"rarrhk;":8618,"rarrlp;":8620,"rarrpl;":10565,"rarrsim;":10612,"rarrtl;":8611,"rarrw;":8605,"ratail;":10522,"ratio;":8758,"rationals;":8474,"rbarr;":10509,"rbbrk;":10099,"rbrace;":125,"rbrack;":93,"rbrke;":10636,"rbrksld;":10638,"rbrkslu;":10640,"rcaron;":345,"rcedil;":343,"rceil;":8969,"rcub;":125,"rcy;":1088,"rdca;":10551,"rdldhar;":10601,"rdquo;":8221,"rdquor;":8221,"rdsh;":8627,"real;":8476,"realine;":8475,"realpart;":8476,"reals;":8477,"rect;":9645,reg:174,"reg;":174,"rfisht;":10621,"rfloor;":8971,"rfr;":[55349,56623],"rhard;":8641,"rharu;":8640,"rharul;":10604,"rho;":961,"rhov;":1009,"rightarrow;":8594,"rightarrowtail;":8611,"rightharpoondown;":8641,"rightharpoonup;":8640,"rightleftarrows;":8644,"rightleftharpoons;":8652,"rightrightarrows;":8649,"rightsquigarrow;":8605,"rightthreetimes;":8908,"ring;":730,"risingdotseq;":8787,"rlarr;":8644,"rlhar;":8652,"rlm;":8207,"rmoust;":9137,"rmoustache;":9137,"rnmid;":10990,"roang;":10221,"roarr;":8702,"robrk;":10215,"ropar;":10630,"ropf;":[55349,56675],"roplus;":10798,"rotimes;":10805,"rpar;":41,"rpargt;":10644,"rppolint;":10770,"rrarr;":8649,"rsaquo;":8250,"rscr;":[55349,56519],"rsh;":8625,"rsqb;":93,"rsquo;":8217,"rsquor;":8217,"rthree;":8908,"rtimes;":8906,"rtri;":9657,"rtrie;":8885,"rtrif;":9656,"rtriltri;":10702,"ruluhar;":10600,"rx;":8478,"sacute;":347,"sbquo;":8218,"sc;":8827,"scE;":10932,"scap;":10936,"scaron;":353,"sccue;":8829,"sce;":10928,"scedil;":351,"scirc;":349,"scnE;":10934,"scnap;":10938,"scnsim;":8937,"scpolint;":10771,"scsim;":8831,"scy;":1089,"sdot;":8901,"sdotb;":8865,"sdote;":10854,"seArr;":8664,"searhk;":10533,"searr;":8600,"searrow;":8600,sect:167,"sect;":167,"semi;":59,"seswar;":10537,"setminus;":8726,"setmn;":8726,"sext;":10038,"sfr;":[55349,56624],"sfrown;":8994,"sharp;":9839,"shchcy;":1097,"shcy;":1096,"shortmid;":8739,"shortparallel;":8741,shy:173,"shy;":173,"sigma;":963,"sigmaf;":962,"sigmav;":962,"sim;":8764,"simdot;":10858,"sime;":8771,"simeq;":8771,"simg;":10910,"simgE;":10912,"siml;":10909,"simlE;":10911,"simne;":8774,"simplus;":10788,"simrarr;":10610,"slarr;":8592,"smallsetminus;":8726,"smashp;":10803,"smeparsl;":10724,"smid;":8739,"smile;":8995,"smt;":10922,"smte;":10924,"smtes;":[10924,65024],"softcy;":1100,"sol;":47,"solb;":10692,"solbar;":9023,"sopf;":[55349,56676],"spades;":9824,"spadesuit;":9824,"spar;":8741,"sqcap;":8851,"sqcaps;":[8851,65024],"sqcup;":8852,"sqcups;":[8852,65024],"sqsub;":8847,"sqsube;":8849,"sqsubset;":8847,"sqsubseteq;":8849,"sqsup;":8848,"sqsupe;":8850,"sqsupset;":8848,"sqsupseteq;":8850,"squ;":9633,"square;":9633,"squarf;":9642,"squf;":9642,"srarr;":8594,"sscr;":[55349,56520],"ssetmn;":8726,"ssmile;":8995,"sstarf;":8902,"star;":9734,"starf;":9733,"straightepsilon;":1013,"straightphi;":981,"strns;":175,"sub;":8834,"subE;":10949,"subdot;":10941,"sube;":8838,"subedot;":10947,"submult;":10945,"subnE;":10955,"subne;":8842,"subplus;":10943,"subrarr;":10617,"subset;":8834,"subseteq;":8838,"subseteqq;":10949,"subsetneq;":8842,"subsetneqq;":10955,"subsim;":10951,"subsub;":10965,"subsup;":10963,"succ;":8827,"succapprox;":10936,"succcurlyeq;":8829,"succeq;":10928,"succnapprox;":10938,"succneqq;":10934,"succnsim;":8937,"succsim;":8831,"sum;":8721,"sung;":9834,sup1:185,"sup1;":185,sup2:178,"sup2;":178,sup3:179,"sup3;":179,"sup;":8835,"supE;":10950,"supdot;":10942,"supdsub;":10968,"supe;":8839,"supedot;":10948,"suphsol;":10185,"suphsub;":10967,"suplarr;":10619,"supmult;":10946,"supnE;":10956,"supne;":8843,"supplus;":10944,"supset;":8835,"supseteq;":8839,"supseteqq;":10950,"supsetneq;":8843,"supsetneqq;":10956,"supsim;":10952,"supsub;":10964,"supsup;":10966,"swArr;":8665,"swarhk;":10534,"swarr;":8601,"swarrow;":8601,"swnwar;":10538,szlig:223,"szlig;":223,"target;":8982,"tau;":964,"tbrk;":9140,"tcaron;":357,"tcedil;":355,"tcy;":1090,"tdot;":8411,"telrec;":8981,"tfr;":[55349,56625],"there4;":8756,"therefore;":8756,"theta;":952,"thetasym;":977,"thetav;":977,"thickapprox;":8776,"thicksim;":8764,"thinsp;":8201,"thkap;":8776,"thksim;":8764,thorn:254,"thorn;":254,"tilde;":732,times:215,"times;":215,"timesb;":8864,"timesbar;":10801,"timesd;":10800,"tint;":8749,"toea;":10536,"top;":8868,"topbot;":9014,"topcir;":10993,"topf;":[55349,56677],"topfork;":10970,"tosa;":10537,"tprime;":8244,"trade;":8482,"triangle;":9653,"triangledown;":9663,"triangleleft;":9667,"trianglelefteq;":8884,"triangleq;":8796,"triangleright;":9657,"trianglerighteq;":8885,"tridot;":9708,"trie;":8796,"triminus;":10810,"triplus;":10809,"trisb;":10701,"tritime;":10811,"trpezium;":9186,"tscr;":[55349,56521],"tscy;":1094,"tshcy;":1115,"tstrok;":359,"twixt;":8812,"twoheadleftarrow;":8606,"twoheadrightarrow;":8608,"uArr;":8657,"uHar;":10595,uacute:250,"uacute;":250,"uarr;":8593,"ubrcy;":1118,"ubreve;":365,ucirc:251,"ucirc;":251,"ucy;":1091,"udarr;":8645,"udblac;":369,"udhar;":10606,"ufisht;":10622,"ufr;":[55349,56626],ugrave:249,"ugrave;":249,"uharl;":8639,"uharr;":8638,"uhblk;":9600,"ulcorn;":8988,"ulcorner;":8988,"ulcrop;":8975,"ultri;":9720,"umacr;":363,uml:168,"uml;":168,"uogon;":371,"uopf;":[55349,56678],"uparrow;":8593,"updownarrow;":8597,"upharpoonleft;":8639,"upharpoonright;":8638,"uplus;":8846,"upsi;":965,"upsih;":978,"upsilon;":965,"upuparrows;":8648,"urcorn;":8989,"urcorner;":8989,"urcrop;":8974,"uring;":367,"urtri;":9721,"uscr;":[55349,56522],"utdot;":8944,"utilde;":361,"utri;":9653,"utrif;":9652,"uuarr;":8648,uuml:252,"uuml;":252,"uwangle;":10663,"vArr;":8661,"vBar;":10984,"vBarv;":10985,"vDash;":8872,"vangrt;":10652,"varepsilon;":1013,"varkappa;":1008,"varnothing;":8709,"varphi;":981,"varpi;":982,"varpropto;":8733,"varr;":8597,"varrho;":1009,"varsigma;":962,"varsubsetneq;":[8842,65024],"varsubsetneqq;":[10955,65024],"varsupsetneq;":[8843,65024],"varsupsetneqq;":[10956,65024],"vartheta;":977,"vartriangleleft;":8882,"vartriangleright;":8883,"vcy;":1074,"vdash;":8866,"vee;":8744,"veebar;":8891,"veeeq;":8794,"vellip;":8942,"verbar;":124,"vert;":124,"vfr;":[55349,56627],"vltri;":8882,"vnsub;":[8834,8402],"vnsup;":[8835,8402],"vopf;":[55349,56679],"vprop;":8733,"vrtri;":8883,"vscr;":[55349,56523],"vsubnE;":[10955,65024],"vsubne;":[8842,65024],"vsupnE;":[10956,65024],"vsupne;":[8843,65024],"vzigzag;":10650,"wcirc;":373,"wedbar;":10847,"wedge;":8743,"wedgeq;":8793,"weierp;":8472,"wfr;":[55349,56628],"wopf;":[55349,56680],"wp;":8472,"wr;":8768,"wreath;":8768,"wscr;":[55349,56524],"xcap;":8898,"xcirc;":9711,"xcup;":8899,"xdtri;":9661,"xfr;":[55349,56629],"xhArr;":10234,"xharr;":10231,"xi;":958,"xlArr;":10232,"xlarr;":10229,"xmap;":10236,"xnis;":8955,"xodot;":10752,"xopf;":[55349,56681],"xoplus;":10753,"xotime;":10754,"xrArr;":10233,"xrarr;":10230,"xscr;":[55349,56525],"xsqcup;":10758,"xuplus;":10756,"xutri;":9651,"xvee;":8897,"xwedge;":8896,yacute:253,"yacute;":253,"yacy;":1103,"ycirc;":375,"ycy;":1099,yen:165,"yen;":165,"yfr;":[55349,56630],"yicy;":1111,"yopf;":[55349,56682],"yscr;":[55349,56526],"yucy;":1102,yuml:255,"yuml;":255,"zacute;":378,"zcaron;":382,"zcy;":1079,"zdot;":380,"zeetrf;":8488,"zeta;":950,"zfr;":[55349,56631],"zhcy;":1078,"zigrarr;":8669,"zopf;":[55349,56683],"zscr;":[55349,56527],"zwj;":8205,"zwnj;":8204},kt=/(A(?:Elig;?|MP;?|acute;?|breve;|c(?:irc;?|y;)|fr;|grave;?|lpha;|macr;|nd;|o(?:gon;|pf;)|pplyFunction;|ring;?|s(?:cr;|sign;)|tilde;?|uml;?)|B(?:a(?:ckslash;|r(?:v;|wed;))|cy;|e(?:cause;|rnoullis;|ta;)|fr;|opf;|reve;|scr;|umpeq;)|C(?:Hcy;|OPY;?|a(?:cute;|p(?:;|italDifferentialD;)|yleys;)|c(?:aron;|edil;?|irc;|onint;)|dot;|e(?:dilla;|nterDot;)|fr;|hi;|ircle(?:Dot;|Minus;|Plus;|Times;)|lo(?:ckwiseContourIntegral;|seCurly(?:DoubleQuote;|Quote;))|o(?:lon(?:;|e;)|n(?:gruent;|int;|tourIntegral;)|p(?:f;|roduct;)|unterClockwiseContourIntegral;)|ross;|scr;|up(?:;|Cap;))|D(?:D(?:;|otrahd;)|Jcy;|Scy;|Zcy;|a(?:gger;|rr;|shv;)|c(?:aron;|y;)|el(?:;|ta;)|fr;|i(?:a(?:critical(?:Acute;|Do(?:t;|ubleAcute;)|Grave;|Tilde;)|mond;)|fferentialD;)|o(?:pf;|t(?:;|Dot;|Equal;)|uble(?:ContourIntegral;|Do(?:t;|wnArrow;)|L(?:eft(?:Arrow;|RightArrow;|Tee;)|ong(?:Left(?:Arrow;|RightArrow;)|RightArrow;))|Right(?:Arrow;|Tee;)|Up(?:Arrow;|DownArrow;)|VerticalBar;)|wn(?:Arrow(?:;|Bar;|UpArrow;)|Breve;|Left(?:RightVector;|TeeVector;|Vector(?:;|Bar;))|Right(?:TeeVector;|Vector(?:;|Bar;))|Tee(?:;|Arrow;)|arrow;))|s(?:cr;|trok;))|E(?:NG;|TH;?|acute;?|c(?:aron;|irc;?|y;)|dot;|fr;|grave;?|lement;|m(?:acr;|pty(?:SmallSquare;|VerySmallSquare;))|o(?:gon;|pf;)|psilon;|qu(?:al(?:;|Tilde;)|ilibrium;)|s(?:cr;|im;)|ta;|uml;?|x(?:ists;|ponentialE;))|F(?:cy;|fr;|illed(?:SmallSquare;|VerySmallSquare;)|o(?:pf;|rAll;|uriertrf;)|scr;)|G(?:Jcy;|T;?|amma(?:;|d;)|breve;|c(?:edil;|irc;|y;)|dot;|fr;|g;|opf;|reater(?:Equal(?:;|Less;)|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;)|scr;|t;)|H(?:ARDcy;|a(?:cek;|t;)|circ;|fr;|ilbertSpace;|o(?:pf;|rizontalLine;)|s(?:cr;|trok;)|ump(?:DownHump;|Equal;))|I(?:Ecy;|Jlig;|Ocy;|acute;?|c(?:irc;?|y;)|dot;|fr;|grave;?|m(?:;|a(?:cr;|ginaryI;)|plies;)|n(?:t(?:;|e(?:gral;|rsection;))|visible(?:Comma;|Times;))|o(?:gon;|pf;|ta;)|scr;|tilde;|u(?:kcy;|ml;?))|J(?:c(?:irc;|y;)|fr;|opf;|s(?:cr;|ercy;)|ukcy;)|K(?:Hcy;|Jcy;|appa;|c(?:edil;|y;)|fr;|opf;|scr;)|L(?:Jcy;|T;?|a(?:cute;|mbda;|ng;|placetrf;|rr;)|c(?:aron;|edil;|y;)|e(?:ft(?:A(?:ngleBracket;|rrow(?:;|Bar;|RightArrow;))|Ceiling;|Do(?:ubleBracket;|wn(?:TeeVector;|Vector(?:;|Bar;)))|Floor;|Right(?:Arrow;|Vector;)|T(?:ee(?:;|Arrow;|Vector;)|riangle(?:;|Bar;|Equal;))|Up(?:DownVector;|TeeVector;|Vector(?:;|Bar;))|Vector(?:;|Bar;)|arrow;|rightarrow;)|ss(?:EqualGreater;|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;))|fr;|l(?:;|eftarrow;)|midot;|o(?:ng(?:Left(?:Arrow;|RightArrow;)|RightArrow;|left(?:arrow;|rightarrow;)|rightarrow;)|pf;|wer(?:LeftArrow;|RightArrow;))|s(?:cr;|h;|trok;)|t;)|M(?:ap;|cy;|e(?:diumSpace;|llintrf;)|fr;|inusPlus;|opf;|scr;|u;)|N(?:Jcy;|acute;|c(?:aron;|edil;|y;)|e(?:gative(?:MediumSpace;|Thi(?:ckSpace;|nSpace;)|VeryThinSpace;)|sted(?:GreaterGreater;|LessLess;)|wLine;)|fr;|o(?:Break;|nBreakingSpace;|pf;|t(?:;|C(?:ongruent;|upCap;)|DoubleVerticalBar;|E(?:lement;|qual(?:;|Tilde;)|xists;)|Greater(?:;|Equal;|FullEqual;|Greater;|Less;|SlantEqual;|Tilde;)|Hump(?:DownHump;|Equal;)|Le(?:ftTriangle(?:;|Bar;|Equal;)|ss(?:;|Equal;|Greater;|Less;|SlantEqual;|Tilde;))|Nested(?:GreaterGreater;|LessLess;)|Precedes(?:;|Equal;|SlantEqual;)|R(?:everseElement;|ightTriangle(?:;|Bar;|Equal;))|S(?:quareSu(?:bset(?:;|Equal;)|perset(?:;|Equal;))|u(?:bset(?:;|Equal;)|cceeds(?:;|Equal;|SlantEqual;|Tilde;)|perset(?:;|Equal;)))|Tilde(?:;|Equal;|FullEqual;|Tilde;)|VerticalBar;))|scr;|tilde;?|u;)|O(?:Elig;|acute;?|c(?:irc;?|y;)|dblac;|fr;|grave;?|m(?:acr;|ega;|icron;)|opf;|penCurly(?:DoubleQuote;|Quote;)|r;|s(?:cr;|lash;?)|ti(?:lde;?|mes;)|uml;?|ver(?:B(?:ar;|rac(?:e;|ket;))|Parenthesis;))|P(?:artialD;|cy;|fr;|hi;|i;|lusMinus;|o(?:incareplane;|pf;)|r(?:;|ecedes(?:;|Equal;|SlantEqual;|Tilde;)|ime;|o(?:duct;|portion(?:;|al;)))|s(?:cr;|i;))|Q(?:UOT;?|fr;|opf;|scr;)|R(?:Barr;|EG;?|a(?:cute;|ng;|rr(?:;|tl;))|c(?:aron;|edil;|y;)|e(?:;|verse(?:E(?:lement;|quilibrium;)|UpEquilibrium;))|fr;|ho;|ight(?:A(?:ngleBracket;|rrow(?:;|Bar;|LeftArrow;))|Ceiling;|Do(?:ubleBracket;|wn(?:TeeVector;|Vector(?:;|Bar;)))|Floor;|T(?:ee(?:;|Arrow;|Vector;)|riangle(?:;|Bar;|Equal;))|Up(?:DownVector;|TeeVector;|Vector(?:;|Bar;))|Vector(?:;|Bar;)|arrow;)|o(?:pf;|undImplies;)|rightarrow;|s(?:cr;|h;)|uleDelayed;)|S(?:H(?:CHcy;|cy;)|OFTcy;|acute;|c(?:;|aron;|edil;|irc;|y;)|fr;|hort(?:DownArrow;|LeftArrow;|RightArrow;|UpArrow;)|igma;|mallCircle;|opf;|q(?:rt;|uare(?:;|Intersection;|Su(?:bset(?:;|Equal;)|perset(?:;|Equal;))|Union;))|scr;|tar;|u(?:b(?:;|set(?:;|Equal;))|c(?:ceeds(?:;|Equal;|SlantEqual;|Tilde;)|hThat;)|m;|p(?:;|erset(?:;|Equal;)|set;)))|T(?:HORN;?|RADE;|S(?:Hcy;|cy;)|a(?:b;|u;)|c(?:aron;|edil;|y;)|fr;|h(?:e(?:refore;|ta;)|i(?:ckSpace;|nSpace;))|ilde(?:;|Equal;|FullEqual;|Tilde;)|opf;|ripleDot;|s(?:cr;|trok;))|U(?:a(?:cute;?|rr(?:;|ocir;))|br(?:cy;|eve;)|c(?:irc;?|y;)|dblac;|fr;|grave;?|macr;|n(?:der(?:B(?:ar;|rac(?:e;|ket;))|Parenthesis;)|ion(?:;|Plus;))|o(?:gon;|pf;)|p(?:Arrow(?:;|Bar;|DownArrow;)|DownArrow;|Equilibrium;|Tee(?:;|Arrow;)|arrow;|downarrow;|per(?:LeftArrow;|RightArrow;)|si(?:;|lon;))|ring;|scr;|tilde;|uml;?)|V(?:Dash;|bar;|cy;|dash(?:;|l;)|e(?:e;|r(?:bar;|t(?:;|ical(?:Bar;|Line;|Separator;|Tilde;))|yThinSpace;))|fr;|opf;|scr;|vdash;)|W(?:circ;|edge;|fr;|opf;|scr;)|X(?:fr;|i;|opf;|scr;)|Y(?:Acy;|Icy;|Ucy;|acute;?|c(?:irc;|y;)|fr;|opf;|scr;|uml;)|Z(?:Hcy;|acute;|c(?:aron;|y;)|dot;|e(?:roWidthSpace;|ta;)|fr;|opf;|scr;)|a(?:acute;?|breve;|c(?:;|E;|d;|irc;?|ute;?|y;)|elig;?|f(?:;|r;)|grave;?|l(?:e(?:fsym;|ph;)|pha;)|m(?:a(?:cr;|lg;)|p;?)|n(?:d(?:;|and;|d;|slope;|v;)|g(?:;|e;|le;|msd(?:;|a(?:a;|b;|c;|d;|e;|f;|g;|h;))|rt(?:;|vb(?:;|d;))|s(?:ph;|t;)|zarr;))|o(?:gon;|pf;)|p(?:;|E;|acir;|e;|id;|os;|prox(?:;|eq;))|ring;?|s(?:cr;|t;|ymp(?:;|eq;))|tilde;?|uml;?|w(?:conint;|int;))|b(?:Not;|a(?:ck(?:cong;|epsilon;|prime;|sim(?:;|eq;))|r(?:vee;|wed(?:;|ge;)))|brk(?:;|tbrk;)|c(?:ong;|y;)|dquo;|e(?:caus(?:;|e;)|mptyv;|psi;|rnou;|t(?:a;|h;|ween;))|fr;|ig(?:c(?:ap;|irc;|up;)|o(?:dot;|plus;|times;)|s(?:qcup;|tar;)|triangle(?:down;|up;)|uplus;|vee;|wedge;)|karow;|l(?:a(?:ck(?:lozenge;|square;|triangle(?:;|down;|left;|right;))|nk;)|k(?:1(?:2;|4;)|34;)|ock;)|n(?:e(?:;|quiv;)|ot;)|o(?:pf;|t(?:;|tom;)|wtie;|x(?:D(?:L;|R;|l;|r;)|H(?:;|D;|U;|d;|u;)|U(?:L;|R;|l;|r;)|V(?:;|H;|L;|R;|h;|l;|r;)|box;|d(?:L;|R;|l;|r;)|h(?:;|D;|U;|d;|u;)|minus;|plus;|times;|u(?:L;|R;|l;|r;)|v(?:;|H;|L;|R;|h;|l;|r;)))|prime;|r(?:eve;|vbar;?)|s(?:cr;|emi;|im(?:;|e;)|ol(?:;|b;|hsub;))|u(?:ll(?:;|et;)|mp(?:;|E;|e(?:;|q;))))|c(?:a(?:cute;|p(?:;|and;|brcup;|c(?:ap;|up;)|dot;|s;)|r(?:et;|on;))|c(?:a(?:ps;|ron;)|edil;?|irc;|ups(?:;|sm;))|dot;|e(?:dil;?|mptyv;|nt(?:;|erdot;|))|fr;|h(?:cy;|eck(?:;|mark;)|i;)|ir(?:;|E;|c(?:;|eq;|le(?:arrow(?:left;|right;)|d(?:R;|S;|ast;|circ;|dash;)))|e;|fnint;|mid;|scir;)|lubs(?:;|uit;)|o(?:lon(?:;|e(?:;|q;))|m(?:ma(?:;|t;)|p(?:;|fn;|le(?:ment;|xes;)))|n(?:g(?:;|dot;)|int;)|p(?:f;|rod;|y(?:;|sr;|)))|r(?:arr;|oss;)|s(?:cr;|u(?:b(?:;|e;)|p(?:;|e;)))|tdot;|u(?:darr(?:l;|r;)|e(?:pr;|sc;)|larr(?:;|p;)|p(?:;|brcap;|c(?:ap;|up;)|dot;|or;|s;)|r(?:arr(?:;|m;)|ly(?:eq(?:prec;|succ;)|vee;|wedge;)|ren;?|vearrow(?:left;|right;))|vee;|wed;)|w(?:conint;|int;)|ylcty;)|d(?:Arr;|Har;|a(?:gger;|leth;|rr;|sh(?:;|v;))|b(?:karow;|lac;)|c(?:aron;|y;)|d(?:;|a(?:gger;|rr;)|otseq;)|e(?:g;?|lta;|mptyv;)|f(?:isht;|r;)|har(?:l;|r;)|i(?:am(?:;|ond(?:;|suit;)|s;)|e;|gamma;|sin;|v(?:;|ide(?:;|ontimes;|)|onx;))|jcy;|lc(?:orn;|rop;)|o(?:llar;|pf;|t(?:;|eq(?:;|dot;)|minus;|plus;|square;)|ublebarwedge;|wn(?:arrow;|downarrows;|harpoon(?:left;|right;)))|r(?:bkarow;|c(?:orn;|rop;))|s(?:c(?:r;|y;)|ol;|trok;)|t(?:dot;|ri(?:;|f;))|u(?:arr;|har;)|wangle;|z(?:cy;|igrarr;))|e(?:D(?:Dot;|ot;)|a(?:cute;?|ster;)|c(?:aron;|ir(?:;|c;?)|olon;|y;)|dot;|e;|f(?:Dot;|r;)|g(?:;|rave;?|s(?:;|dot;))|l(?:;|inters;|l;|s(?:;|dot;))|m(?:acr;|pty(?:;|set;|v;)|sp(?:1(?:3;|4;)|;))|n(?:g;|sp;)|o(?:gon;|pf;)|p(?:ar(?:;|sl;)|lus;|si(?:;|lon;|v;))|q(?:c(?:irc;|olon;)|s(?:im;|lant(?:gtr;|less;))|u(?:als;|est;|iv(?:;|DD;))|vparsl;)|r(?:Dot;|arr;)|s(?:cr;|dot;|im;)|t(?:a;|h;?)|u(?:ml;?|ro;)|x(?:cl;|ist;|p(?:ectation;|onentiale;)))|f(?:allingdotseq;|cy;|emale;|f(?:ilig;|l(?:ig;|lig;)|r;)|ilig;|jlig;|l(?:at;|lig;|tns;)|nof;|o(?:pf;|r(?:all;|k(?:;|v;)))|partint;|r(?:a(?:c(?:1(?:2;?|3;|4;?|5;|6;|8;)|2(?:3;|5;)|3(?:4;?|5;|8;)|45;|5(?:6;|8;)|78;)|sl;)|own;)|scr;)|g(?:E(?:;|l;)|a(?:cute;|mma(?:;|d;)|p;)|breve;|c(?:irc;|y;)|dot;|e(?:;|l;|q(?:;|q;|slant;)|s(?:;|cc;|dot(?:;|o(?:;|l;))|l(?:;|es;)))|fr;|g(?:;|g;)|imel;|jcy;|l(?:;|E;|a;|j;)|n(?:E;|ap(?:;|prox;)|e(?:;|q(?:;|q;))|sim;)|opf;|rave;|s(?:cr;|im(?:;|e;|l;))|t(?:;|c(?:c;|ir;)|dot;|lPar;|quest;|r(?:a(?:pprox;|rr;)|dot;|eq(?:less;|qless;)|less;|sim;)|)|v(?:ertneqq;|nE;))|h(?:Arr;|a(?:irsp;|lf;|milt;|r(?:dcy;|r(?:;|cir;|w;)))|bar;|circ;|e(?:arts(?:;|uit;)|llip;|rcon;)|fr;|ks(?:earow;|warow;)|o(?:arr;|mtht;|ok(?:leftarrow;|rightarrow;)|pf;|rbar;)|s(?:cr;|lash;|trok;)|y(?:bull;|phen;))|i(?:acute;?|c(?:;|irc;?|y;)|e(?:cy;|xcl;?)|f(?:f;|r;)|grave;?|i(?:;|i(?:int;|nt;)|nfin;|ota;)|jlig;|m(?:a(?:cr;|g(?:e;|line;|part;)|th;)|of;|ped;)|n(?:;|care;|fin(?:;|tie;)|odot;|t(?:;|cal;|e(?:gers;|rcal;)|larhk;|prod;))|o(?:cy;|gon;|pf;|ta;)|prod;|quest;?|s(?:cr;|in(?:;|E;|dot;|s(?:;|v;)|v;))|t(?:;|ilde;)|u(?:kcy;|ml;?))|j(?:c(?:irc;|y;)|fr;|math;|opf;|s(?:cr;|ercy;)|ukcy;)|k(?:appa(?:;|v;)|c(?:edil;|y;)|fr;|green;|hcy;|jcy;|opf;|scr;)|l(?:A(?:arr;|rr;|tail;)|Barr;|E(?:;|g;)|Har;|a(?:cute;|emptyv;|gran;|mbda;|ng(?:;|d;|le;)|p;|quo;?|rr(?:;|b(?:;|fs;)|fs;|hk;|lp;|pl;|sim;|tl;)|t(?:;|ail;|e(?:;|s;)))|b(?:arr;|brk;|r(?:ac(?:e;|k;)|k(?:e;|sl(?:d;|u;))))|c(?:aron;|e(?:dil;|il;)|ub;|y;)|d(?:ca;|quo(?:;|r;)|r(?:dhar;|ushar;)|sh;)|e(?:;|ft(?:arrow(?:;|tail;)|harpoon(?:down;|up;)|leftarrows;|right(?:arrow(?:;|s;)|harpoons;|squigarrow;)|threetimes;)|g;|q(?:;|q;|slant;)|s(?:;|cc;|dot(?:;|o(?:;|r;))|g(?:;|es;)|s(?:approx;|dot;|eq(?:gtr;|qgtr;)|gtr;|sim;)))|f(?:isht;|loor;|r;)|g(?:;|E;)|h(?:ar(?:d;|u(?:;|l;))|blk;)|jcy;|l(?:;|arr;|corner;|hard;|tri;)|m(?:idot;|oust(?:;|ache;))|n(?:E;|ap(?:;|prox;)|e(?:;|q(?:;|q;))|sim;)|o(?:a(?:ng;|rr;)|brk;|ng(?:left(?:arrow;|rightarrow;)|mapsto;|rightarrow;)|oparrow(?:left;|right;)|p(?:ar;|f;|lus;)|times;|w(?:ast;|bar;)|z(?:;|enge;|f;))|par(?:;|lt;)|r(?:arr;|corner;|har(?:;|d;)|m;|tri;)|s(?:aquo;|cr;|h;|im(?:;|e;|g;)|q(?:b;|uo(?:;|r;))|trok;)|t(?:;|c(?:c;|ir;)|dot;|hree;|imes;|larr;|quest;|r(?:Par;|i(?:;|e;|f;))|)|ur(?:dshar;|uhar;)|v(?:ertneqq;|nE;))|m(?:DDot;|a(?:cr;?|l(?:e;|t(?:;|ese;))|p(?:;|sto(?:;|down;|left;|up;))|rker;)|c(?:omma;|y;)|dash;|easuredangle;|fr;|ho;|i(?:cro;?|d(?:;|ast;|cir;|dot;?)|nus(?:;|b;|d(?:;|u;)))|l(?:cp;|dr;)|nplus;|o(?:dels;|pf;)|p;|s(?:cr;|tpos;)|u(?:;|ltimap;|map;))|n(?:G(?:g;|t(?:;|v;))|L(?:eft(?:arrow;|rightarrow;)|l;|t(?:;|v;))|Rightarrow;|V(?:Dash;|dash;)|a(?:bla;|cute;|ng;|p(?:;|E;|id;|os;|prox;)|tur(?:;|al(?:;|s;)))|b(?:sp;?|ump(?:;|e;))|c(?:a(?:p;|ron;)|edil;|ong(?:;|dot;)|up;|y;)|dash;|e(?:;|Arr;|ar(?:hk;|r(?:;|ow;))|dot;|quiv;|s(?:ear;|im;)|xist(?:;|s;))|fr;|g(?:E;|e(?:;|q(?:;|q;|slant;)|s;)|sim;|t(?:;|r;))|h(?:Arr;|arr;|par;)|i(?:;|s(?:;|d;)|v;)|jcy;|l(?:Arr;|E;|arr;|dr;|e(?:;|ft(?:arrow;|rightarrow;)|q(?:;|q;|slant;)|s(?:;|s;))|sim;|t(?:;|ri(?:;|e;)))|mid;|o(?:pf;|t(?:;|in(?:;|E;|dot;|v(?:a;|b;|c;))|ni(?:;|v(?:a;|b;|c;))|))|p(?:ar(?:;|allel;|sl;|t;)|olint;|r(?:;|cue;|e(?:;|c(?:;|eq;))))|r(?:Arr;|arr(?:;|c;|w;)|ightarrow;|tri(?:;|e;))|s(?:c(?:;|cue;|e;|r;)|hort(?:mid;|parallel;)|im(?:;|e(?:;|q;))|mid;|par;|qsu(?:be;|pe;)|u(?:b(?:;|E;|e;|set(?:;|eq(?:;|q;)))|cc(?:;|eq;)|p(?:;|E;|e;|set(?:;|eq(?:;|q;)))))|t(?:gl;|ilde;?|lg;|riangle(?:left(?:;|eq;)|right(?:;|eq;)))|u(?:;|m(?:;|ero;|sp;))|v(?:Dash;|Harr;|ap;|dash;|g(?:e;|t;)|infin;|l(?:Arr;|e;|t(?:;|rie;))|r(?:Arr;|trie;)|sim;)|w(?:Arr;|ar(?:hk;|r(?:;|ow;))|near;))|o(?:S;|a(?:cute;?|st;)|c(?:ir(?:;|c;?)|y;)|d(?:ash;|blac;|iv;|ot;|sold;)|elig;|f(?:cir;|r;)|g(?:on;|rave;?|t;)|h(?:bar;|m;)|int;|l(?:arr;|c(?:ir;|ross;)|ine;|t;)|m(?:acr;|ega;|i(?:cron;|d;|nus;))|opf;|p(?:ar;|erp;|lus;)|r(?:;|arr;|d(?:;|er(?:;|of;)|f;?|m;?)|igof;|or;|slope;|v;)|s(?:cr;|lash;?|ol;)|ti(?:lde;?|mes(?:;|as;))|uml;?|vbar;)|p(?:ar(?:;|a(?:;|llel;|)|s(?:im;|l;)|t;)|cy;|er(?:cnt;|iod;|mil;|p;|tenk;)|fr;|h(?:i(?:;|v;)|mmat;|one;)|i(?:;|tchfork;|v;)|l(?:an(?:ck(?:;|h;)|kv;)|us(?:;|acir;|b;|cir;|d(?:o;|u;)|e;|mn;?|sim;|two;))|m;|o(?:intint;|pf;|und;?)|r(?:;|E;|ap;|cue;|e(?:;|c(?:;|approx;|curlyeq;|eq;|n(?:approx;|eqq;|sim;)|sim;))|ime(?:;|s;)|n(?:E;|ap;|sim;)|o(?:d;|f(?:alar;|line;|surf;)|p(?:;|to;))|sim;|urel;)|s(?:cr;|i;)|uncsp;)|q(?:fr;|int;|opf;|prime;|scr;|u(?:at(?:ernions;|int;)|est(?:;|eq;)|ot;?))|r(?:A(?:arr;|rr;|tail;)|Barr;|Har;|a(?:c(?:e;|ute;)|dic;|emptyv;|ng(?:;|d;|e;|le;)|quo;?|rr(?:;|ap;|b(?:;|fs;)|c;|fs;|hk;|lp;|pl;|sim;|tl;|w;)|t(?:ail;|io(?:;|nals;)))|b(?:arr;|brk;|r(?:ac(?:e;|k;)|k(?:e;|sl(?:d;|u;))))|c(?:aron;|e(?:dil;|il;)|ub;|y;)|d(?:ca;|ldhar;|quo(?:;|r;)|sh;)|e(?:al(?:;|ine;|part;|s;)|ct;|g;?)|f(?:isht;|loor;|r;)|h(?:ar(?:d;|u(?:;|l;))|o(?:;|v;))|i(?:ght(?:arrow(?:;|tail;)|harpoon(?:down;|up;)|left(?:arrows;|harpoons;)|rightarrows;|squigarrow;|threetimes;)|ng;|singdotseq;)|l(?:arr;|har;|m;)|moust(?:;|ache;)|nmid;|o(?:a(?:ng;|rr;)|brk;|p(?:ar;|f;|lus;)|times;)|p(?:ar(?:;|gt;)|polint;)|rarr;|s(?:aquo;|cr;|h;|q(?:b;|uo(?:;|r;)))|t(?:hree;|imes;|ri(?:;|e;|f;|ltri;))|uluhar;|x;)|s(?:acute;|bquo;|c(?:;|E;|a(?:p;|ron;)|cue;|e(?:;|dil;)|irc;|n(?:E;|ap;|sim;)|polint;|sim;|y;)|dot(?:;|b;|e;)|e(?:Arr;|ar(?:hk;|r(?:;|ow;))|ct;?|mi;|swar;|tm(?:inus;|n;)|xt;)|fr(?:;|own;)|h(?:arp;|c(?:hcy;|y;)|ort(?:mid;|parallel;)|y;?)|i(?:gma(?:;|f;|v;)|m(?:;|dot;|e(?:;|q;)|g(?:;|E;)|l(?:;|E;)|ne;|plus;|rarr;))|larr;|m(?:a(?:llsetminus;|shp;)|eparsl;|i(?:d;|le;)|t(?:;|e(?:;|s;)))|o(?:ftcy;|l(?:;|b(?:;|ar;))|pf;)|pa(?:des(?:;|uit;)|r;)|q(?:c(?:ap(?:;|s;)|up(?:;|s;))|su(?:b(?:;|e;|set(?:;|eq;))|p(?:;|e;|set(?:;|eq;)))|u(?:;|ar(?:e;|f;)|f;))|rarr;|s(?:cr;|etmn;|mile;|tarf;)|t(?:ar(?:;|f;)|r(?:aight(?:epsilon;|phi;)|ns;))|u(?:b(?:;|E;|dot;|e(?:;|dot;)|mult;|n(?:E;|e;)|plus;|rarr;|s(?:et(?:;|eq(?:;|q;)|neq(?:;|q;))|im;|u(?:b;|p;)))|cc(?:;|approx;|curlyeq;|eq;|n(?:approx;|eqq;|sim;)|sim;)|m;|ng;|p(?:1;?|2;?|3;?|;|E;|d(?:ot;|sub;)|e(?:;|dot;)|hs(?:ol;|ub;)|larr;|mult;|n(?:E;|e;)|plus;|s(?:et(?:;|eq(?:;|q;)|neq(?:;|q;))|im;|u(?:b;|p;))))|w(?:Arr;|ar(?:hk;|r(?:;|ow;))|nwar;)|zlig;?)|t(?:a(?:rget;|u;)|brk;|c(?:aron;|edil;|y;)|dot;|elrec;|fr;|h(?:e(?:re(?:4;|fore;)|ta(?:;|sym;|v;))|i(?:ck(?:approx;|sim;)|nsp;)|k(?:ap;|sim;)|orn;?)|i(?:lde;|mes(?:;|b(?:;|ar;)|d;|)|nt;)|o(?:ea;|p(?:;|bot;|cir;|f(?:;|ork;))|sa;)|prime;|r(?:ade;|i(?:angle(?:;|down;|left(?:;|eq;)|q;|right(?:;|eq;))|dot;|e;|minus;|plus;|sb;|time;)|pezium;)|s(?:c(?:r;|y;)|hcy;|trok;)|w(?:ixt;|ohead(?:leftarrow;|rightarrow;)))|u(?:Arr;|Har;|a(?:cute;?|rr;)|br(?:cy;|eve;)|c(?:irc;?|y;)|d(?:arr;|blac;|har;)|f(?:isht;|r;)|grave;?|h(?:ar(?:l;|r;)|blk;)|l(?:c(?:orn(?:;|er;)|rop;)|tri;)|m(?:acr;|l;?)|o(?:gon;|pf;)|p(?:arrow;|downarrow;|harpoon(?:left;|right;)|lus;|si(?:;|h;|lon;)|uparrows;)|r(?:c(?:orn(?:;|er;)|rop;)|ing;|tri;)|scr;|t(?:dot;|ilde;|ri(?:;|f;))|u(?:arr;|ml;?)|wangle;)|v(?:Arr;|Bar(?:;|v;)|Dash;|a(?:ngrt;|r(?:epsilon;|kappa;|nothing;|p(?:hi;|i;|ropto;)|r(?:;|ho;)|s(?:igma;|u(?:bsetneq(?:;|q;)|psetneq(?:;|q;)))|t(?:heta;|riangle(?:left;|right;))))|cy;|dash;|e(?:e(?:;|bar;|eq;)|llip;|r(?:bar;|t;))|fr;|ltri;|nsu(?:b;|p;)|opf;|prop;|rtri;|s(?:cr;|u(?:bn(?:E;|e;)|pn(?:E;|e;)))|zigzag;)|w(?:circ;|e(?:d(?:bar;|ge(?:;|q;))|ierp;)|fr;|opf;|p;|r(?:;|eath;)|scr;)|x(?:c(?:ap;|irc;|up;)|dtri;|fr;|h(?:Arr;|arr;)|i;|l(?:Arr;|arr;)|map;|nis;|o(?:dot;|p(?:f;|lus;)|time;)|r(?:Arr;|arr;)|s(?:cr;|qcup;)|u(?:plus;|tri;)|vee;|wedge;)|y(?:ac(?:ute;?|y;)|c(?:irc;|y;)|en;?|fr;|icy;|opf;|scr;|u(?:cy;|ml;?))|z(?:acute;|c(?:aron;|y;)|dot;|e(?:etrf;|ta;)|fr;|hcy;|igrarr;|opf;|scr;|w(?:j;|nj;)))|[\s\S]/g,jr=/[^\r"&\u0000]+/g,sp=/[^\r'&\u0000]+/g,op=/[^\r\t\n\f &>\u0000]+/g,ap=/[^\r\t\n\f \/>A-Z\u0000]+/g,rn=/[^\r\t\n\f \/=>A-Z\u0000]+/g,X=/[^\]\r\u0000\uffff]*/g,Z=/[^&<\r\u0000\uffff]*/g,se=/[^<\r\u0000\uffff]*/g,we=/[^\r\u0000\uffff]*/g,_e=/(?:(\/)?([a-z]+)>)|[\s\S]/g,Ke=/(?:([-a-z]+)[ \t\n\f]*=[ \t\n\f]*('[^'&\r\u0000]*'|"[^"&\r\u0000]*"|[^\t\n\r\f "&'\u0000>][^&> \t\n\r\f\u0000]*[ \t\n\f]))|[\s\S]/g,Gt=/[^\x09\x0A\x0C\x0D\x20]/,$n=/[^\x09\x0A\x0C\x0D\x20]/g,yr=/[^\x00\x09\x0A\x0C\x0D\x20]/,Li=/^[\x09\x0A\x0C\x0D\x20]+/,up=/\x00/g;function zn(ne){var ie=16384;if(ne.length<ie)return String.fromCharCode.apply(String,ne);for(var Pe="",Se=0;Se<ne.length;Se+=ie)Pe+=String.fromCharCode.apply(String,ne.slice(Se,Se+ie));return Pe}function aK(ne){for(var ie=[],Pe=0;Pe<ne.length;Pe++)ie[Pe]=ne.charCodeAt(Pe);return ie}function Ft(ne,ie){if(typeof ie=="string")return ne.namespaceURI===s.HTML&&ne.localName===ie;var Pe=ie[ne.namespaceURI];return Pe&&Pe[ne.localName]}function HO(ne){return Ft(ne,de)}function $O(ne){if(Ft(ne,De))return!0;if(ne.namespaceURI===s.MATHML&&ne.localName==="annotation-xml"){var ie=ne.getAttribute("encoding");if(ie&&(ie=ie.toLowerCase()),ie==="text/html"||ie==="application/xhtml+xml")return!0}return!1}function uK(ne){return ne in q?q[ne]:ne}function zO(ne){for(var ie=0,Pe=ne.length;ie<Pe;ie++)ne[ie][0]in U&&(ne[ie][0]=U[ne[ie][0]])}function GO(ne){for(var ie=0,Pe=ne.length;ie<Pe;ie++)if(ne[ie][0]==="definitionurl"){ne[ie][0]="definitionURL";break}}function vS(ne){for(var ie=0,Pe=ne.length;ie<Pe;ie++)ne[ie][0]in Le&&ne[ie].push(Le[ne[ie][0]])}function WO(ne,ie){for(var Pe=0,Se=ne.length;Pe<Se;Pe++){var ln=ne[Pe][0],Ie=ne[Pe][1];ie.hasAttribute(ln)||ie._setAttribute(ln,Ie)}}It.ElementStack=function(){this.elements=[],this.top=null},It.ElementStack.prototype.push=function(ne){this.elements.push(ne),this.top=ne},It.ElementStack.prototype.pop=function(ne){this.elements.pop(),this.top=this.elements[this.elements.length-1]},It.ElementStack.prototype.popTag=function(ne){for(var ie=this.elements.length-1;ie>0;ie--){var Pe=this.elements[ie];if(Ft(Pe,ne))break}this.elements.length=ie,this.top=this.elements[ie-1]},It.ElementStack.prototype.popElementType=function(ne){for(var ie=this.elements.length-1;ie>0&&!(this.elements[ie]instanceof ne);ie--);this.elements.length=ie,this.top=this.elements[ie-1]},It.ElementStack.prototype.popElement=function(ne){for(var ie=this.elements.length-1;ie>0&&this.elements[ie]!==ne;ie--);this.elements.length=ie,this.top=this.elements[ie-1]},It.ElementStack.prototype.removeElement=function(ne){if(this.top===ne)this.pop();else{var ie=this.elements.lastIndexOf(ne);ie!==-1&&this.elements.splice(ie,1)}},It.ElementStack.prototype.clearToContext=function(ne){for(var ie=this.elements.length-1;ie>0&&!Ft(this.elements[ie],ne);ie--);this.elements.length=ie+1,this.top=this.elements[ie]},It.ElementStack.prototype.contains=function(ne){return this.inSpecificScope(ne,Object.create(null))},It.ElementStack.prototype.inSpecificScope=function(ne,ie){for(var Pe=this.elements.length-1;Pe>=0;Pe--){var Se=this.elements[Pe];if(Ft(Se,ne))return!0;if(Ft(Se,ie))return!1}return!1},It.ElementStack.prototype.elementInSpecificScope=function(ne,ie){for(var Pe=this.elements.length-1;Pe>=0;Pe--){var Se=this.elements[Pe];if(Se===ne)return!0;if(Ft(Se,ie))return!1}return!1},It.ElementStack.prototype.elementTypeInSpecificScope=function(ne,ie){for(var Pe=this.elements.length-1;Pe>=0;Pe--){var Se=this.elements[Pe];if(Se instanceof ne)return!0;if(Ft(Se,ie))return!1}return!1},It.ElementStack.prototype.inScope=function(ne){return this.inSpecificScope(ne,m)},It.ElementStack.prototype.elementInScope=function(ne){return this.elementInSpecificScope(ne,m)},It.ElementStack.prototype.elementTypeInScope=function(ne){return this.elementTypeInSpecificScope(ne,m)},It.ElementStack.prototype.inButtonScope=function(ne){return this.inSpecificScope(ne,B)},It.ElementStack.prototype.inListItemScope=function(ne){return this.inSpecificScope(ne,v)},It.ElementStack.prototype.inTableScope=function(ne){return this.inSpecificScope(ne,z)},It.ElementStack.prototype.inSelectScope=function(ne){for(var ie=this.elements.length-1;ie>=0;ie--){var Pe=this.elements[ie];if(Pe.namespaceURI!==s.HTML)return!1;var Se=Pe.localName;if(Se===ne)return!0;if(Se!=="optgroup"&&Se!=="option")return!1}return!1},It.ElementStack.prototype.generateImpliedEndTags=function(ne,ie){for(var Pe=ie?N:A,Se=this.elements.length-1;Se>=0;Se--){var ln=this.elements[Se];if(ne&&Ft(ln,ne)||!Ft(this.elements[Se],Pe))break}this.elements.length=Se+1,this.top=this.elements[Se]},It.ActiveFormattingElements=function(){this.list=[],this.attrs=[]},It.ActiveFormattingElements.prototype.MARKER={localName:"|"},It.ActiveFormattingElements.prototype.insertMarker=function(){this.list.push(this.MARKER),this.attrs.push(this.MARKER)},It.ActiveFormattingElements.prototype.push=function(ne,ie){for(var Pe=0,Se=this.list.length-1;Se>=0&&this.list[Se]!==this.MARKER;Se--)if(Nc(ne,this.list[Se],this.attrs[Se])&&(Pe++,Pe===3)){this.list.splice(Se,1),this.attrs.splice(Se,1);break}this.list.push(ne);for(var ln=[],Ie=0;Ie<ie.length;Ie++)ln[Ie]=ie[Ie];this.attrs.push(ln);function Nc(za,Rc,Jo){if(za.localName!==Rc.localName||za._numattrs!==Jo.length)return!1;for(var Qr=0,k0=Jo.length;Qr<k0;Qr++){var kc=Jo[Qr][0],G=Jo[Qr][1];if(!za.hasAttribute(kc)||za.getAttribute(kc)!==G)return!1}return!0}},It.ActiveFormattingElements.prototype.clearToMarker=function(){for(var ne=this.list.length-1;ne>=0&&this.list[ne]!==this.MARKER;ne--);ne<0&&(ne=0),this.list.length=ne,this.attrs.length=ne},It.ActiveFormattingElements.prototype.findElementByTag=function(ne){for(var ie=this.list.length-1;ie>=0;ie--){var Pe=this.list[ie];if(Pe===this.MARKER)break;if(Pe.localName===ne)return Pe}return null},It.ActiveFormattingElements.prototype.indexOf=function(ne){return this.list.lastIndexOf(ne)},It.ActiveFormattingElements.prototype.remove=function(ne){var ie=this.list.lastIndexOf(ne);ie!==-1&&(this.list.splice(ie,1),this.attrs.splice(ie,1))},It.ActiveFormattingElements.prototype.replace=function(ne,ie,Pe){var Se=this.list.lastIndexOf(ne);Se!==-1&&(this.list[Se]=ie,this.attrs[Se]=Pe)},It.ActiveFormattingElements.prototype.insertAfter=function(ne,ie){var Pe=this.list.lastIndexOf(ne);Pe!==-1&&(this.list.splice(Pe,0,ie),this.attrs.splice(Pe,0,ie))};function It(ne,ie,Pe){var Se=null,ln=0,Ie=0,Nc=!1,za=!1,Rc=0,Jo=[],Qr="",k0=!0,kc=0,G=gt,Ga,Tn,Ut="",M0="",Bt=[],vi="",Yr="",sn=[],Wa=[],Ka=[],Qa=[],fs=[],O0=!1,re=sQ,Zo=null,Xo=[],j=new It.ElementStack,mt=new It.ActiveFormattingElements,Mc=ie!==void 0,P0=null,ea=null,L0=!0;ie&&(L0=ie.ownerDocument._scripting_enabled),Pe&&Pe.scripting_enabled===!1&&(L0=!1);var Cn=!0,bS=!1,F0,_S,pe=[],Ya=!1,Oc=!1,U0={document:function(){return At},_asDocumentFragment:function(){for(var b=At.createDocumentFragment(),w=At.firstChild;w.hasChildNodes();)b.appendChild(w.firstChild);return b},pause:function(){kc++},resume:function(){kc--,this.parse("")},parse:function(b,w,L){var W;return kc>0?(Qr+=b,!0):(Rc===0?(Qr&&(b=Qr+b,Qr=""),w&&(b+="\uFFFF",Nc=!0),Se=b,ln=b.length,Ie=0,k0&&(k0=!1,Se.charCodeAt(0)===65279&&(Ie=1)),Rc++,W=QO(L),Qr=Se.substring(Ie,ln),Rc--):(Rc++,Jo.push(Se,ln,Ie),Se=b,ln=b.length,Ie=0,QO(),W=!1,Qr=Se.substring(Ie,ln),Ie=Jo.pop(),ln=Jo.pop(),Se=Jo.pop(),Qr&&(Se=Qr+Se.substring(Ie),ln=Se.length,Ie=0,Qr=""),Rc--),W)}},At=new t(!0,ne);if(At._parser=U0,At._scripting_enabled=L0,ie){if(ie.ownerDocument._quirks&&(At._quirks=!0),ie.ownerDocument._limitedQuirks&&(At._limitedQuirks=!0),ie.namespaceURI===s.HTML)switch(ie.localName){case"title":case"textarea":G=eu;break;case"style":case"xmp":case"iframe":case"noembed":case"noframes":case"script":case"plaintext":G=CS;break}var KO=At.createElement("html");At._appendChild(KO),j.push(KO),ie instanceof a.HTMLTemplateElement&&Xo.push(PS),pp();for(var cp=ie;cp!==null;cp=cp.parentElement)if(cp instanceof a.HTMLFormElement){ea=cp;break}}function QO(b){for(var w,L,W,Q;Ie<ln;){if(kc>0||b&&b())return!0;switch(typeof G.lookahead){case"undefined":if(w=Se.charCodeAt(Ie++),za&&(za=!1,w===10)){Ie++;continue}switch(w){case 13:Ie<ln?Se.charCodeAt(Ie)===10&&Ie++:za=!0,G(10);break;case 65535:if(Nc&&Ie===ln){G(c);break}default:G(w);break}break;case"number":w=Se.charCodeAt(Ie);var ye=G.lookahead,He=!0;if(ye<0&&(He=!1,ye=-ye),ye<ln-Ie)L=He?Se.substring(Ie,Ie+ye):null,Q=!1;else if(Nc)L=He?Se.substring(Ie,ln):null,Q=!0,w===65535&&Ie===ln-1&&(w=c);else return!0;G(w,L,Q);break;case"string":w=Se.charCodeAt(Ie),W=G.lookahead;var yt=Se.indexOf(W,Ie);if(yt!==-1)L=Se.substring(Ie,yt+W.length),Q=!1;else{if(!Nc)return!0;L=Se.substring(Ie,ln),w===65535&&Ie===ln-1&&(w=c),Q=!0}G(w,L,Q);break}}return!1}function Ja(b,w){for(var L=0;L<fs.length;L++)if(fs[L][0]===b)return;w!==void 0?fs.push([b,w]):fs.push([b])}function cK(){Ke.lastIndex=Ie-1;var b=Ke.exec(Se);if(!b)throw new Error("should never happen");var w=b[1];if(!w)return!1;var L=b[2],W=L.length;switch(L[0]){case'"':case"'":L=L.substring(1,W-1),Ie+=b[0].length-1,G=AS;break;default:G=oo,Ie+=b[0].length-1,L=L.substring(0,W-1);break}for(var Q=0;Q<fs.length;Q++)if(fs[Q][0]===w)return!0;return fs.push([w,L]),!0}function lK(){O0=!1,Ut="",fs.length=0}function lp(){O0=!0,Ut="",fs.length=0}function ta(){Bt.length=0}function ES(){vi=""}function wS(){Yr=""}function YO(){sn.length=0}function Cd(){Wa.length=0,Ka=null,Qa=null}function B0(){Ka=[]}function Za(){Qa=[]}function Mt(){bS=!0}function dK(){return j.top&&j.top.namespaceURI!=="http://www.w3.org/1999/xhtml"}function Fi(b){return M0===b}function Id(){if(pe.length>0){var b=zn(pe);if(pe.length=0,Oc&&(Oc=!1,b[0]===`
`&&(b=b.substring(1)),b.length===0))return;kn(l,b),Ya=!1}Oc=!1}function dp(b){b.lastIndex=Ie-1;var w=b.exec(Se);if(w&&w.index===Ie-1)return w=w[0],Ie+=w.length-1,Nc&&Ie===ln&&(w=w.slice(0,-1),Ie--),w;throw new Error("should never happen")}function fp(b){b.lastIndex=Ie-1;var w=b.exec(Se)[0];return w?(fK(w),Ie+=w.length-1,!0):!1}function fK(b){pe.length>0&&Id(),!(Oc&&(Oc=!1,b[0]===`
`&&(b=b.substring(1)),b.length===0))&&kn(l,b)}function na(){if(O0)kn(f,Ut);else{var b=Ut;Ut="",M0=b,kn(d,b,fs)}}function hK(){if(Ie===ln)return!1;_e.lastIndex=Ie;var b=_e.exec(Se);if(!b)throw new Error("should never happen");var w=b[2];if(!w)return!1;var L=b[1];return L?(Ie+=w.length+2,kn(f,w)):(Ie+=w.length+1,M0=w,kn(d,w,y)),!0}function pK(){O0?kn(f,Ut,null,!0):kn(d,Ut,fs,!0)}function Ot(){kn(g,zn(Wa),Ka?zn(Ka):void 0,Qa?zn(Qa):void 0)}function rt(){Id(),re(c),At.modclock=1}var kn=U0.insertToken=function(w,L,W,Q){Id();var ye=j.top;!ye||ye.namespaceURI===s.HTML?re(w,L,W,Q):w!==d&&w!==l?f6(w,L,W,Q):HO(ye)&&(w===l||w===d&&L!=="mglyph"&&L!=="malignmark")||w===d&&L==="svg"&&ye.namespaceURI===s.MATHML&&ye.localName==="annotation-xml"||$O(ye)?(_S=!0,re(w,L,W,Q),_S=!1):f6(w,L,W,Q)};function ro(b){var w=j.top;Xa&&Ft(w,R)?q0(function(L){return L.createComment(b)}):(w instanceof a.HTMLTemplateElement&&(w=w.content),w._appendChild(w.ownerDocument.createComment(b)))}function io(b){var w=j.top;if(Xa&&Ft(w,R))q0(function(W){return W.createTextNode(b)});else{w instanceof a.HTMLTemplateElement&&(w=w.content);var L=w.lastChild;L&&L.nodeType===i.TEXT_NODE?L.appendData(b):w._appendChild(w.ownerDocument.createTextNode(b))}}function hp(b,w,L){var W=o.createElement(b,w,null);if(L)for(var Q=0,ye=L.length;Q<ye;Q++)W._setAttribute(L[Q][0],L[Q][1]);return W}var Xa=!1;function Qe(b,w){var L=V0(function(W){return hp(W,b,w)});return Ft(L,p)&&(L._form=ea),L}function V0(b){var w;return Xa&&Ft(j.top,R)?w=q0(b):j.top instanceof a.HTMLTemplateElement?(w=b(j.top.content.ownerDocument),j.top.content._appendChild(w)):(w=b(j.top.ownerDocument),j.top._appendChild(w)),j.push(w),w}function SS(b,w,L){return V0(function(W){var Q=W._createElementNS(b,L,null);if(w)for(var ye=0,He=w.length;ye<He;ye++){var yt=w[ye];yt.length===2?Q._setAttribute(yt[0],yt[1]):Q._setAttributeNS(yt[2],yt[0],yt[1])}return Q})}function JO(b){for(var w=j.elements.length-1;w>=0;w--)if(j.elements[w]instanceof b)return w;return-1}function q0(b){var w,L,W=-1,Q=-1,ye;if(W=JO(a.HTMLTableElement),Q=JO(a.HTMLTemplateElement),Q>=0&&(W<0||Q>W)?w=j.elements[Q]:W>=0&&(w=j.elements[W].parentNode,w?L=j.elements[W]:w=j.elements[W-1]),w||(w=j.elements[0]),w instanceof a.HTMLTemplateElement&&(w=w.content),ye=b(w.ownerDocument),ye.nodeType===i.TEXT_NODE){var He;if(L?He=L.previousSibling:He=w.lastChild,He&&He.nodeType===i.TEXT_NODE)return He.appendData(ye.data),ye}return L?w.insertBefore(ye,L):w._appendChild(ye),ye}function pp(){for(var b=!1,w=j.elements.length-1;w>=0;w--){var L=j.elements[w];if(w===0&&(b=!0,Mc&&(L=ie)),L.namespaceURI===s.HTML){var W=L.localName;switch(W){case"select":for(var Q=w;Q>0;){var ye=j.elements[--Q];if(ye instanceof a.HTMLTemplateElement)break;if(ye instanceof a.HTMLTableElement){re=ty;return}}re=ra;return;case"tr":re=yp;return;case"tbody":case"tfoot":case"thead":re=Uc;return;case"caption":re=OS;return;case"colgroup":re=ey;return;case"table":re=Ui;return;case"template":re=Xo[Xo.length-1];return;case"body":re=je;return;case"frameset":re=LS;return;case"html":P0===null?re=Z0:re=MS;return;default:if(!b){if(W==="head"){re=In;return}if(W==="td"||W==="th"){re=Dd;return}}}}if(b){re=je;return}}}function j0(b,w){Qe(b,w),G=mp,Zo=re,re=X0}function mK(b,w){Qe(b,w),G=eu,Zo=re,re=X0}function TS(b,w){return{elt:hp(b,mt.list[w].localName,mt.attrs[w]),attrs:mt.attrs[w]}}function Hr(){if(mt.list.length!==0){var b=mt.list[mt.list.length-1];if(b!==mt.MARKER&&j.elements.lastIndexOf(b)===-1){for(var w=mt.list.length-2;w>=0&&(b=mt.list[w],!(b===mt.MARKER||j.elements.lastIndexOf(b)!==-1));w--);for(w=w+1;w<mt.list.length;w++){var L=V0(function(W){return TS(W,w).elt});mt.list[w]=L}}}}var H0={localName:"BM"};function gK(b){if(Ft(j.top,b)&&mt.indexOf(j.top)===-1)return j.pop(),!0;for(var w=0;w<8;){w++;var L=mt.findElementByTag(b);if(!L)return!1;var W=j.elements.lastIndexOf(L);if(W===-1)return mt.remove(L),!0;if(!j.elementInScope(L))return!0;for(var Q=null,ye,He=W+1;He<j.elements.length;He++)if(Ft(j.elements[He],T)){Q=j.elements[He],ye=He;break}if(Q){var yt=j.elements[W-1];mt.insertAfter(L,H0);for(var _n=Q,vr=Q,Bi=ye,hs,Bc=0;Bc++,_n=j.elements[--Bi],_n!==L;){if(hs=mt.indexOf(_n),Bc>3&&hs!==-1&&(mt.remove(_n),hs=-1),hs===-1){j.removeElement(_n);continue}var su=TS(yt.ownerDocument,hs);mt.replace(_n,su.elt,su.attrs),j.elements[Bi]=su.elt,_n=su.elt,vr===Q&&(mt.remove(H0),mt.insertAfter(su.elt,H0)),_n._appendChild(vr),vr=_n}Xa&&Ft(yt,R)?q0(function(){return vr}):yt instanceof a.HTMLTemplateElement?yt.content._appendChild(vr):yt._appendChild(vr);for(var vp=TS(Q.ownerDocument,mt.indexOf(L));Q.hasChildNodes();)vp.elt._appendChild(Q.firstChild);Q._appendChild(vp.elt),mt.remove(L),mt.replace(H0,vp.elt,vp.attrs),j.removeElement(L);var lQ=j.elements.lastIndexOf(Q);j.elements.splice(lQ+1,0,vp.elt)}else return j.popElement(L),mt.remove(L),!0}return!0}function yK(){j.pop(),re=Zo}function Pc(){delete At._parser,j.elements.length=0,At.defaultView&&At.defaultView.dispatchEvent(new a.Event("load",{}))}function Re(b,w){G=w,Ie--}function gt(b){switch(b){case 38:Ga=gt,G=gp;break;case 60:if(hK())break;G=vK;break;case 0:pe.push(b),Ya=!0;break;case-1:rt();break;default:fp(Z)||pe.push(b);break}}function eu(b){switch(b){case 38:Ga=eu,G=gp;break;case 60:G=_K;break;case 0:pe.push(65533),Ya=!0;break;case-1:rt();break;default:pe.push(b);break}}function mp(b){switch(b){case 60:G=SK;break;case 0:pe.push(65533);break;case-1:rt();break;default:fp(se)||pe.push(b);break}}function tu(b){switch(b){case 60:G=IK;break;case 0:pe.push(65533);break;case-1:rt();break;default:fp(se)||pe.push(b);break}}function CS(b){switch(b){case 0:pe.push(65533);break;case-1:rt();break;default:fp(we)||pe.push(b);break}}function vK(b){switch(b){case 33:G=t6;break;case 47:G=bK;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:lK(),Re(b,ZO);break;case 63:Re(b,W0);break;default:pe.push(60),Re(b,gt);break}}function bK(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:lp(),Re(b,ZO);break;case 62:G=gt;break;case-1:pe.push(60),pe.push(47),rt();break;default:Re(b,W0);break}}function ZO(b){switch(b){case 9:case 10:case 12:case 32:G=oo;break;case 47:G=ru;break;case 62:G=gt,na();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ut+=String.fromCharCode(b+32);break;case 0:Ut+="\uFFFD";break;case-1:rt();break;default:Ut+=dp(ap);break}}function _K(b){b===47?(ta(),G=EK):(pe.push(60),Re(b,eu))}function EK(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:lp(),Re(b,wK);break;default:pe.push(60),pe.push(47),Re(b,eu);break}}function wK(b){switch(b){case 9:case 10:case 12:case 32:if(Fi(Ut)){G=oo;return}break;case 47:if(Fi(Ut)){G=ru;return}break;case 62:if(Fi(Ut)){G=gt,na();return}break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ut+=String.fromCharCode(b+32),Bt.push(b);return;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Ut+=String.fromCharCode(b),Bt.push(b);return}pe.push(60),pe.push(47),u(pe,Bt),Re(b,eu)}function SK(b){b===47?(ta(),G=TK):(pe.push(60),Re(b,mp))}function TK(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:lp(),Re(b,CK);break;default:pe.push(60),pe.push(47),Re(b,mp);break}}function CK(b){switch(b){case 9:case 10:case 12:case 32:if(Fi(Ut)){G=oo;return}break;case 47:if(Fi(Ut)){G=ru;return}break;case 62:if(Fi(Ut)){G=gt,na();return}break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ut+=String.fromCharCode(b+32),Bt.push(b);return;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Ut+=String.fromCharCode(b),Bt.push(b);return}pe.push(60),pe.push(47),u(pe,Bt),Re(b,mp)}function IK(b){switch(b){case 47:ta(),G=DK;break;case 33:G=AK,pe.push(60),pe.push(33);break;default:pe.push(60),Re(b,tu);break}}function DK(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:lp(),Re(b,xK);break;default:pe.push(60),pe.push(47),Re(b,tu);break}}function xK(b){switch(b){case 9:case 10:case 12:case 32:if(Fi(Ut)){G=oo;return}break;case 47:if(Fi(Ut)){G=ru;return}break;case 62:if(Fi(Ut)){G=gt,na();return}break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ut+=String.fromCharCode(b+32),Bt.push(b);return;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Ut+=String.fromCharCode(b),Bt.push(b);return}pe.push(60),pe.push(47),u(pe,Bt),Re(b,tu)}function AK(b){b===45?(G=NK,pe.push(45)):Re(b,tu)}function NK(b){b===45?(G=XO,pe.push(45)):Re(b,tu)}function so(b){switch(b){case 45:G=RK,pe.push(45);break;case 60:G=IS;break;case 0:pe.push(65533);break;case-1:rt();break;default:pe.push(b);break}}function RK(b){switch(b){case 45:G=XO,pe.push(45);break;case 60:G=IS;break;case 0:G=so,pe.push(65533);break;case-1:rt();break;default:G=so,pe.push(b);break}}function XO(b){switch(b){case 45:pe.push(45);break;case 60:G=IS;break;case 62:G=tu,pe.push(62);break;case 0:G=so,pe.push(65533);break;case-1:rt();break;default:G=so,pe.push(b);break}}function IS(b){switch(b){case 47:ta(),G=kK;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:ta(),pe.push(60),Re(b,OK);break;default:pe.push(60),Re(b,so);break}}function kK(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:lp(),Re(b,MK);break;default:pe.push(60),pe.push(47),Re(b,so);break}}function MK(b){switch(b){case 9:case 10:case 12:case 32:if(Fi(Ut)){G=oo;return}break;case 47:if(Fi(Ut)){G=ru;return}break;case 62:if(Fi(Ut)){G=gt,na();return}break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Ut+=String.fromCharCode(b+32),Bt.push(b);return;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Ut+=String.fromCharCode(b),Bt.push(b);return}pe.push(60),pe.push(47),u(pe,Bt),Re(b,so)}function OK(b){switch(b){case 9:case 10:case 12:case 32:case 47:case 62:zn(Bt)==="script"?G=nu:G=so,pe.push(b);break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Bt.push(b+32),pe.push(b);break;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Bt.push(b),pe.push(b);break;default:Re(b,so);break}}function nu(b){switch(b){case 45:G=PK,pe.push(45);break;case 60:G=DS,pe.push(60);break;case 0:pe.push(65533);break;case-1:rt();break;default:pe.push(b);break}}function PK(b){switch(b){case 45:G=LK,pe.push(45);break;case 60:G=DS,pe.push(60);break;case 0:G=nu,pe.push(65533);break;case-1:rt();break;default:G=nu,pe.push(b);break}}function LK(b){switch(b){case 45:pe.push(45);break;case 60:G=DS,pe.push(60);break;case 62:G=tu,pe.push(62);break;case 0:G=nu,pe.push(65533);break;case-1:rt();break;default:G=nu,pe.push(b);break}}function DS(b){b===47?(ta(),G=FK,pe.push(47)):Re(b,nu)}function FK(b){switch(b){case 9:case 10:case 12:case 32:case 47:case 62:zn(Bt)==="script"?G=so:G=nu,pe.push(b);break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Bt.push(b+32),pe.push(b);break;case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:Bt.push(b),pe.push(b);break;default:Re(b,nu);break}}function oo(b){switch(b){case 9:case 10:case 12:case 32:break;case 47:G=ru;break;case 62:G=gt,na();break;case-1:rt();break;case 61:ES(),vi+=String.fromCharCode(b),G=xS;break;default:if(cK())break;ES(),Re(b,xS);break}}function xS(b){switch(b){case 9:case 10:case 12:case 32:case 47:case 62:case-1:Re(b,UK);break;case 61:G=e6;break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:vi+=String.fromCharCode(b+32);break;case 0:vi+="\uFFFD";break;case 34:case 39:case 60:default:vi+=dp(rn);break}}function UK(b){switch(b){case 9:case 10:case 12:case 32:break;case 47:Ja(vi),G=ru;break;case 61:G=e6;break;case 62:G=gt,Ja(vi),na();break;case-1:Ja(vi),rt();break;default:Ja(vi),ES(),Re(b,xS);break}}function e6(b){switch(b){case 9:case 10:case 12:case 32:break;case 34:wS(),G=$0;break;case 39:wS(),G=z0;break;case 62:default:wS(),Re(b,G0);break}}function $0(b){switch(b){case 34:Ja(vi,Yr),G=AS;break;case 38:Ga=$0,G=gp;break;case 0:Yr+="\uFFFD";break;case-1:rt();break;case 10:Yr+=String.fromCharCode(b);break;default:Yr+=dp(jr);break}}function z0(b){switch(b){case 39:Ja(vi,Yr),G=AS;break;case 38:Ga=z0,G=gp;break;case 0:Yr+="\uFFFD";break;case-1:rt();break;case 10:Yr+=String.fromCharCode(b);break;default:Yr+=dp(sp);break}}function G0(b){switch(b){case 9:case 10:case 12:case 32:Ja(vi,Yr),G=oo;break;case 38:Ga=G0,G=gp;break;case 62:Ja(vi,Yr),G=gt,na();break;case 0:Yr+="\uFFFD";break;case-1:Ie--,G=gt;break;case 34:case 39:case 60:case 61:case 96:default:Yr+=dp(op);break}}function AS(b){switch(b){case 9:case 10:case 12:case 32:G=oo;break;case 47:G=ru;break;case 62:G=gt,na();break;case-1:rt();break;default:Re(b,oo);break}}function ru(b){switch(b){case 62:G=gt,pK();break;case-1:rt();break;default:Re(b,oo);break}}function W0(b,w,L){var W=w.length;L?Ie+=W-1:Ie+=W;var Q=w.substring(0,W-1);Q=Q.replace(/\u0000/g,"\uFFFD"),Q=Q.replace(/\u000D\u000A/g,`
`),Q=Q.replace(/\u000D/g,`
`),kn(h,Q),G=gt}W0.lookahead=">";function t6(b,w,L){if(w[0]==="-"&&w[1]==="-"){Ie+=2,YO(),G=BK;return}w.toUpperCase()==="DOCTYPE"?(Ie+=7,G=GK):w==="[CDATA["&&dK()?(Ie+=7,G=kS):G=W0}t6.lookahead=7;function BK(b){switch(YO(),b){case 45:G=VK;break;case 62:G=gt,kn(h,zn(sn));break;default:Re(b,Lc);break}}function VK(b){switch(b){case 45:G=K0;break;case 62:G=gt,kn(h,zn(sn));break;case-1:kn(h,zn(sn)),rt();break;default:sn.push(45),Re(b,Lc);break}}function Lc(b){switch(b){case 60:sn.push(b),G=qK;break;case 45:G=NS;break;case 0:sn.push(65533);break;case-1:kn(h,zn(sn)),rt();break;default:sn.push(b);break}}function qK(b){switch(b){case 33:sn.push(b),G=jK;break;case 60:sn.push(b);break;default:Re(b,Lc);break}}function jK(b){switch(b){case 45:G=HK;break;default:Re(b,Lc);break}}function HK(b){switch(b){case 45:G=$K;break;default:Re(b,NS);break}}function $K(b){switch(b){case 62:case-1:Re(b,K0);break;default:Re(b,K0);break}}function NS(b){switch(b){case 45:G=K0;break;case-1:kn(h,zn(sn)),rt();break;default:sn.push(45),Re(b,Lc);break}}function K0(b){switch(b){case 62:G=gt,kn(h,zn(sn));break;case 33:G=zK;break;case 45:sn.push(45);break;case-1:kn(h,zn(sn)),rt();break;default:sn.push(45),sn.push(45),Re(b,Lc);break}}function zK(b){switch(b){case 45:sn.push(45),sn.push(45),sn.push(33),G=NS;break;case 62:G=gt,kn(h,zn(sn));break;case-1:kn(h,zn(sn)),rt();break;default:sn.push(45),sn.push(45),sn.push(33),Re(b,Lc);break}}function GK(b){switch(b){case 9:case 10:case 12:case 32:G=n6;break;case-1:Cd(),Mt(),Ot(),rt();break;default:Re(b,n6);break}}function n6(b){switch(b){case 9:case 10:case 12:case 32:break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Cd(),Wa.push(b+32),G=RS;break;case 0:Cd(),Wa.push(65533),G=RS;break;case 62:Cd(),Mt(),G=gt,Ot();break;case-1:Cd(),Mt(),Ot(),rt();break;default:Cd(),Wa.push(b),G=RS;break}}function RS(b){switch(b){case 9:case 10:case 12:case 32:G=r6;break;case 62:G=gt,Ot();break;case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:Wa.push(b+32);break;case 0:Wa.push(65533);break;case-1:Mt(),Ot(),rt();break;default:Wa.push(b);break}}function r6(b,w,L){switch(b){case 9:case 10:case 12:case 32:Ie+=1;break;case 62:G=gt,Ie+=1,Ot();break;case-1:Mt(),Ot(),rt();break;default:w=w.toUpperCase(),w==="PUBLIC"?(Ie+=6,G=WK):w==="SYSTEM"?(Ie+=6,G=YK):(Mt(),G=iu);break}}r6.lookahead=6;function WK(b){switch(b){case 9:case 10:case 12:case 32:G=KK;break;case 34:B0(),G=i6;break;case 39:B0(),G=s6;break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=iu;break}}function KK(b){switch(b){case 9:case 10:case 12:case 32:break;case 34:B0(),G=i6;break;case 39:B0(),G=s6;break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=iu;break}}function i6(b){switch(b){case 34:G=o6;break;case 0:Ka.push(65533);break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Ka.push(b);break}}function s6(b){switch(b){case 39:G=o6;break;case 0:Ka.push(65533);break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Ka.push(b);break}}function o6(b){switch(b){case 9:case 10:case 12:case 32:G=QK;break;case 62:G=gt,Ot();break;case 34:Za(),G=Q0;break;case 39:Za(),G=Y0;break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=iu;break}}function QK(b){switch(b){case 9:case 10:case 12:case 32:break;case 62:G=gt,Ot();break;case 34:Za(),G=Q0;break;case 39:Za(),G=Y0;break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=iu;break}}function YK(b){switch(b){case 9:case 10:case 12:case 32:G=JK;break;case 34:Za(),G=Q0;break;case 39:Za(),G=Y0;break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=iu;break}}function JK(b){switch(b){case 9:case 10:case 12:case 32:break;case 34:Za(),G=Q0;break;case 39:Za(),G=Y0;break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Mt(),G=iu;break}}function Q0(b){switch(b){case 34:G=a6;break;case 0:Qa.push(65533);break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Qa.push(b);break}}function Y0(b){switch(b){case 39:G=a6;break;case 0:Qa.push(65533);break;case 62:Mt(),G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:Qa.push(b);break}}function a6(b){switch(b){case 9:case 10:case 12:case 32:break;case 62:G=gt,Ot();break;case-1:Mt(),Ot(),rt();break;default:G=iu;break}}function iu(b){switch(b){case 62:G=gt,Ot();break;case-1:Ot(),rt();break}}function kS(b){switch(b){case 93:G=ZK;break;case-1:rt();break;case 0:Ya=!0;default:fp(X)||pe.push(b);break}}function ZK(b){switch(b){case 93:G=XK;break;default:pe.push(93),Re(b,kS);break}}function XK(b){switch(b){case 93:pe.push(93);break;case 62:Id(),G=gt;break;default:pe.push(93),pe.push(93),Re(b,kS);break}}function gp(b){switch(ta(),Bt.push(38),b){case 9:case 10:case 12:case 32:case 60:case 38:case-1:Re(b,Fc);break;case 35:Bt.push(b),G=eQ;break;default:Re(b,u6);break}}function u6(b){kt.lastIndex=Ie;var w=kt.exec(Se);if(!w)throw new Error("should never happen");var L=w[1];if(!L){G=Fc;return}switch(Ie+=L.length,u(Bt,aK(L)),Ga){case $0:case z0:case G0:if(L[L.length-1]!==";"&&/[=A-Za-z0-9]/.test(Se[Ie])){G=Fc;return}break}ta();var W=Ce[L];typeof W=="number"?Bt.push(W):u(Bt,W),G=Fc}u6.lookahead=-32;function eQ(b){switch(Tn=0,b){case 120:case 88:Bt.push(b),G=tQ;break;default:Re(b,nQ);break}}function tQ(b){switch(b){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 66:case 67:case 68:case 69:case 70:case 97:case 98:case 99:case 100:case 101:case 102:Re(b,rQ);break;default:Re(b,Fc);break}}function nQ(b){switch(b){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:Re(b,iQ);break;default:Re(b,Fc);break}}function rQ(b){switch(b){case 65:case 66:case 67:case 68:case 69:case 70:Tn*=16,Tn+=b-55;break;case 97:case 98:case 99:case 100:case 101:case 102:Tn*=16,Tn+=b-87;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:Tn*=16,Tn+=b-48;break;case 59:G=J0;break;default:Re(b,J0);break}}function iQ(b){switch(b){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:Tn*=10,Tn+=b-48;break;case 59:G=J0;break;default:Re(b,J0);break}}function J0(b){Tn in ce?Tn=ce[Tn]:(Tn>1114111||Tn>=55296&&Tn<57344)&&(Tn=65533),ta(),Tn<=65535?Bt.push(Tn):(Tn=Tn-65536,Bt.push(55296+(Tn>>10)),Bt.push(56320+(Tn&1023))),Re(b,Fc)}function Fc(b){switch(Ga){case $0:case z0:case G0:Yr+=zn(Bt);break;default:u(pe,Bt);break}Re(b,Ga)}function sQ(b,w,L,W){switch(b){case 1:if(w=w.replace(Li,""),w.length===0)return;break;case 4:At._appendChild(At.createComment(w));return;case 5:var Q=w,ye=L,He=W;At.appendChild(new r(At,Q,ye,He)),bS||Q.toLowerCase()!=="html"||S.test(ye)||He&&He.toLowerCase()===_||He===void 0&&C.test(ye)?At._quirks=!0:(I.test(ye)||He!==void 0&&C.test(ye))&&(At._limitedQuirks=!0),re=c6;return}At._quirks=!0,re=c6,re(b,w,L,W)}function c6(b,w,L,W){var Q;switch(b){case 1:if(w=w.replace(Li,""),w.length===0)return;break;case 5:return;case 4:At._appendChild(At.createComment(w));return;case 2:if(w==="html"){Q=hp(At,w,L),j.push(Q),At.appendChild(Q),re=Z0;return}break;case 3:switch(w){case"html":case"head":case"body":case"br":break;default:return}}Q=hp(At,"html",null),j.push(Q),At.appendChild(Q),re=Z0,re(b,w,L,W)}function Z0(b,w,L,W){switch(b){case 1:if(w=w.replace(Li,""),w.length===0)return;break;case 5:return;case 4:ro(w);return;case 2:switch(w){case"html":je(b,w,L,W);return;case"head":var Q=Qe(w,L);P0=Q,re=In;return}break;case 3:switch(w){case"html":case"head":case"body":case"br":break;default:return}}Z0(d,"head",null),re(b,w,L,W)}function In(b,w,L,W){switch(b){case 1:var Q=w.match(Li);if(Q&&(io(Q[0]),w=w.substring(Q[0].length)),w.length===0)return;break;case 4:ro(w);return;case 5:return;case 2:switch(w){case"html":je(b,w,L,W);return;case"meta":case"base":case"basefont":case"bgsound":case"link":Qe(w,L),j.pop();return;case"title":mK(w,L);return;case"noscript":if(!L0){Qe(w,L),re=l6;return}case"noframes":case"style":j0(w,L);return;case"script":V0(function(ye){var He=hp(ye,w,L);return He._parser_inserted=!0,He._force_async=!1,Mc&&(He._already_started=!0),Id(),He}),G=tu,Zo=re,re=X0;return;case"template":Qe(w,L),mt.insertMarker(),Cn=!1,re=PS,Xo.push(re);return;case"head":return}break;case 3:switch(w){case"head":j.pop(),re=MS;return;case"body":case"html":case"br":break;case"template":if(!j.contains("template"))return;j.generateImpliedEndTags(null,"thorough"),j.popTag("template"),mt.clearToMarker(),Xo.pop(),pp();return;default:return}break}In(f,"head",null),re(b,w,L,W)}function l6(b,w,L,W){switch(b){case 5:return;case 4:In(b,w);return;case 1:var Q=w.match(Li);if(Q&&(In(b,Q[0]),w=w.substring(Q[0].length)),w.length===0)return;break;case 2:switch(w){case"html":je(b,w,L,W);return;case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"style":In(b,w,L);return;case"head":case"noscript":return}break;case 3:switch(w){case"noscript":j.pop(),re=In;return;case"br":break;default:return}break}l6(f,"noscript",null),re(b,w,L,W)}function MS(b,w,L,W){switch(b){case 1:var Q=w.match(Li);if(Q&&(io(Q[0]),w=w.substring(Q[0].length)),w.length===0)return;break;case 4:ro(w);return;case 5:return;case 2:switch(w){case"html":je(b,w,L,W);return;case"body":Qe(w,L),Cn=!1,re=je;return;case"frameset":Qe(w,L),re=LS;return;case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":j.push(P0),In(d,w,L),j.removeElement(P0);return;case"head":return}break;case 3:switch(w){case"template":return In(b,w,L,W);case"body":case"html":case"br":break;default:return}break}MS(d,"body",null),Cn=!0,re(b,w,L,W)}function je(b,w,L,W){var Q,ye,He,yt;switch(b){case 1:if(Ya&&(w=w.replace(up,""),w.length===0))return;Cn&&Gt.test(w)&&(Cn=!1),Hr(),io(w);return;case 5:return;case 4:ro(w);return;case-1:if(Xo.length)return PS(b);Pc();return;case 2:switch(w){case"html":if(j.contains("template"))return;WO(L,j.elements[0]);return;case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":In(d,w,L);return;case"body":if(Q=j.elements[1],!Q||!(Q instanceof a.HTMLBodyElement)||j.contains("template"))return;Cn=!1,WO(L,Q);return;case"frameset":if(!Cn||(Q=j.elements[1],!Q||!(Q instanceof a.HTMLBodyElement)))return;for(Q.parentNode&&Q.parentNode.removeChild(Q);!(j.top instanceof a.HTMLHtmlElement);)j.pop();Qe(w,L),re=LS;return;case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"nav":case"ol":case"p":case"section":case"summary":case"ul":j.inButtonScope("p")&&je(f,"p"),Qe(w,L);return;case"menu":j.inButtonScope("p")&&je(f,"p"),Ft(j.top,"menuitem")&&j.pop(),Qe(w,L);return;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":j.inButtonScope("p")&&je(f,"p"),j.top instanceof a.HTMLHeadingElement&&j.pop(),Qe(w,L);return;case"pre":case"listing":j.inButtonScope("p")&&je(f,"p"),Qe(w,L),Oc=!0,Cn=!1;return;case"form":if(ea&&!j.contains("template"))return;j.inButtonScope("p")&&je(f,"p"),yt=Qe(w,L),j.contains("template")||(ea=yt);return;case"li":for(Cn=!1,ye=j.elements.length-1;ye>=0;ye--){if(He=j.elements[ye],He instanceof a.HTMLLIElement){je(f,"li");break}if(Ft(He,T)&&!Ft(He,x))break}j.inButtonScope("p")&&je(f,"p"),Qe(w,L);return;case"dd":case"dt":for(Cn=!1,ye=j.elements.length-1;ye>=0;ye--){if(He=j.elements[ye],Ft(He,V)){je(f,He.localName);break}if(Ft(He,T)&&!Ft(He,x))break}j.inButtonScope("p")&&je(f,"p"),Qe(w,L);return;case"plaintext":j.inButtonScope("p")&&je(f,"p"),Qe(w,L),G=CS;return;case"button":j.inScope("button")?(je(f,"button"),re(b,w,L,W)):(Hr(),Qe(w,L),Cn=!1);return;case"a":var _n=mt.findElementByTag("a");_n&&(je(f,w),mt.remove(_n),j.removeElement(_n));case"b":case"big":case"code":case"em":case"font":case"i":case"s":case"small":case"strike":case"strong":case"tt":case"u":Hr(),mt.push(Qe(w,L),L);return;case"nobr":Hr(),j.inScope(w)&&(je(f,w),Hr()),mt.push(Qe(w,L),L);return;case"applet":case"marquee":case"object":Hr(),Qe(w,L),mt.insertMarker(),Cn=!1;return;case"table":!At._quirks&&j.inButtonScope("p")&&je(f,"p"),Qe(w,L),Cn=!1,re=Ui;return;case"area":case"br":case"embed":case"img":case"keygen":case"wbr":Hr(),Qe(w,L),j.pop(),Cn=!1;return;case"input":Hr(),yt=Qe(w,L),j.pop();var vr=yt.getAttribute("type");(!vr||vr.toLowerCase()!=="hidden")&&(Cn=!1);return;case"param":case"source":case"track":Qe(w,L),j.pop();return;case"hr":j.inButtonScope("p")&&je(f,"p"),Ft(j.top,"menuitem")&&j.pop(),Qe(w,L),j.pop(),Cn=!1;return;case"image":je(d,"img",L,W);return;case"textarea":Qe(w,L),Oc=!0,Cn=!1,G=eu,Zo=re,re=X0;return;case"xmp":j.inButtonScope("p")&&je(f,"p"),Hr(),Cn=!1,j0(w,L);return;case"iframe":Cn=!1,j0(w,L);return;case"noembed":j0(w,L);return;case"select":Hr(),Qe(w,L),Cn=!1,re===Ui||re===OS||re===Uc||re===yp||re===Dd?re=ty:re=ra;return;case"optgroup":case"option":j.top instanceof a.HTMLOptionElement&&je(f,"option"),Hr(),Qe(w,L);return;case"menuitem":Ft(j.top,"menuitem")&&j.pop(),Hr(),Qe(w,L);return;case"rb":case"rtc":j.inScope("ruby")&&j.generateImpliedEndTags(),Qe(w,L);return;case"rp":case"rt":j.inScope("ruby")&&j.generateImpliedEndTags("rtc"),Qe(w,L);return;case"math":Hr(),GO(L),vS(L),SS(w,L,s.MATHML),W&&j.pop();return;case"svg":Hr(),zO(L),vS(L),SS(w,L,s.SVG),W&&j.pop();return;case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return}Hr(),Qe(w,L);return;case 3:switch(w){case"template":In(f,w,L);return;case"body":if(!j.inScope("body"))return;re=d6;return;case"html":if(!j.inScope("body"))return;re=d6,re(b,w,L);return;case"address":case"article":case"aside":case"blockquote":case"button":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"listing":case"main":case"menu":case"nav":case"ol":case"pre":case"section":case"summary":case"ul":if(!j.inScope(w))return;j.generateImpliedEndTags(),j.popTag(w);return;case"form":if(j.contains("template")){if(!j.inScope("form"))return;j.generateImpliedEndTags(),j.popTag("form")}else{var Bi=ea;if(ea=null,!Bi||!j.elementInScope(Bi))return;j.generateImpliedEndTags(),j.removeElement(Bi)}return;case"p":j.inButtonScope(w)?(j.generateImpliedEndTags(w),j.popTag(w)):(je(d,w,null),re(b,w,L,W));return;case"li":if(!j.inListItemScope(w))return;j.generateImpliedEndTags(w),j.popTag(w);return;case"dd":case"dt":if(!j.inScope(w))return;j.generateImpliedEndTags(w),j.popTag(w);return;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":if(!j.elementTypeInScope(a.HTMLHeadingElement))return;j.generateImpliedEndTags(),j.popElementType(a.HTMLHeadingElement);return;case"sarcasm":break;case"a":case"b":case"big":case"code":case"em":case"font":case"i":case"nobr":case"s":case"small":case"strike":case"strong":case"tt":case"u":var hs=gK(w);if(hs)return;break;case"applet":case"marquee":case"object":if(!j.inScope(w))return;j.generateImpliedEndTags(),j.popTag(w),mt.clearToMarker();return;case"br":je(d,w,null);return}for(ye=j.elements.length-1;ye>=0;ye--)if(He=j.elements[ye],Ft(He,w)){j.generateImpliedEndTags(w),j.popElement(He);break}else if(Ft(He,T))return;return}}function X0(b,w,L,W){switch(b){case 1:io(w);return;case-1:j.top instanceof a.HTMLScriptElement&&(j.top._already_started=!0),j.pop(),re=Zo,re(b);return;case 3:w==="script"?yK():(j.pop(),re=Zo);return;default:return}}function Ui(b,w,L,W){function Q(He){for(var yt=0,_n=He.length;yt<_n;yt++)if(He[yt][0]==="type")return He[yt][1].toLowerCase();return null}switch(b){case 1:if(_S){je(b,w,L,W);return}else if(Ft(j.top,R)){F0=[],Zo=re,re=oQ,re(b,w,L,W);return}break;case 4:ro(w);return;case 5:return;case 2:switch(w){case"caption":j.clearToContext(E),mt.insertMarker(),Qe(w,L),re=OS;return;case"colgroup":j.clearToContext(E),Qe(w,L),re=ey;return;case"col":Ui(d,"colgroup",null),re(b,w,L,W);return;case"tbody":case"tfoot":case"thead":j.clearToContext(E),Qe(w,L),re=Uc;return;case"td":case"th":case"tr":Ui(d,"tbody",null),re(b,w,L,W);return;case"table":if(!j.inTableScope(w))return;Ui(f,w),re(b,w,L,W);return;case"style":case"script":case"template":In(b,w,L,W);return;case"input":var ye=Q(L);if(ye!=="hidden")break;Qe(w,L),j.pop();return;case"form":if(ea||j.contains("template"))return;ea=Qe(w,L),j.popElement(ea);return}break;case 3:switch(w){case"table":if(!j.inTableScope(w))return;j.popTag(w),pp();return;case"body":case"caption":case"col":case"colgroup":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return;case"template":In(b,w,L,W);return}break;case-1:je(b,w,L,W);return}Xa=!0,je(b,w,L,W),Xa=!1}function oQ(b,w,L,W){if(b===l){if(Ya&&(w=w.replace(up,""),w.length===0))return;F0.push(w)}else{var Q=F0.join("");F0.length=0,Gt.test(Q)?(Xa=!0,je(l,Q),Xa=!1):io(Q),re=Zo,re(b,w,L,W)}}function OS(b,w,L,W){function Q(){return j.inTableScope("caption")?(j.generateImpliedEndTags(),j.popTag("caption"),mt.clearToMarker(),re=Ui,!0):!1}switch(b){case 2:switch(w){case"caption":case"col":case"colgroup":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":Q()&&re(b,w,L,W);return}break;case 3:switch(w){case"caption":Q();return;case"table":Q()&&re(b,w,L,W);return;case"body":case"col":case"colgroup":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return}break}je(b,w,L,W)}function ey(b,w,L,W){switch(b){case 1:var Q=w.match(Li);if(Q&&(io(Q[0]),w=w.substring(Q[0].length)),w.length===0)return;break;case 4:ro(w);return;case 5:return;case 2:switch(w){case"html":je(b,w,L,W);return;case"col":Qe(w,L),j.pop();return;case"template":In(b,w,L,W);return}break;case 3:switch(w){case"colgroup":if(!Ft(j.top,"colgroup"))return;j.pop(),re=Ui;return;case"col":return;case"template":In(b,w,L,W);return}break;case-1:je(b,w,L,W);return}Ft(j.top,"colgroup")&&(ey(f,"colgroup"),re(b,w,L,W))}function Uc(b,w,L,W){function Q(){!j.inTableScope("tbody")&&!j.inTableScope("thead")&&!j.inTableScope("tfoot")||(j.clearToContext(D),Uc(f,j.top.localName,null),re(b,w,L,W))}switch(b){case 2:switch(w){case"tr":j.clearToContext(D),Qe(w,L),re=yp;return;case"th":case"td":Uc(d,"tr",null),re(b,w,L,W);return;case"caption":case"col":case"colgroup":case"tbody":case"tfoot":case"thead":Q();return}break;case 3:switch(w){case"table":Q();return;case"tbody":case"tfoot":case"thead":j.inTableScope(w)&&(j.clearToContext(D),j.pop(),re=Ui);return;case"body":case"caption":case"col":case"colgroup":case"html":case"td":case"th":case"tr":return}break}Ui(b,w,L,W)}function yp(b,w,L,W){function Q(){return j.inTableScope("tr")?(j.clearToContext(P),j.pop(),re=Uc,!0):!1}switch(b){case 2:switch(w){case"th":case"td":j.clearToContext(P),Qe(w,L),re=Dd,mt.insertMarker();return;case"caption":case"col":case"colgroup":case"tbody":case"tfoot":case"thead":case"tr":Q()&&re(b,w,L,W);return}break;case 3:switch(w){case"tr":Q();return;case"table":Q()&&re(b,w,L,W);return;case"tbody":case"tfoot":case"thead":j.inTableScope(w)&&Q()&&re(b,w,L,W);return;case"body":case"caption":case"col":case"colgroup":case"html":case"td":case"th":return}break}Ui(b,w,L,W)}function Dd(b,w,L,W){switch(b){case 2:switch(w){case"caption":case"col":case"colgroup":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":j.inTableScope("td")?(Dd(f,"td"),re(b,w,L,W)):j.inTableScope("th")&&(Dd(f,"th"),re(b,w,L,W));return}break;case 3:switch(w){case"td":case"th":if(!j.inTableScope(w))return;j.generateImpliedEndTags(),j.popTag(w),mt.clearToMarker(),re=yp;return;case"body":case"caption":case"col":case"colgroup":case"html":return;case"table":case"tbody":case"tfoot":case"thead":case"tr":if(!j.inTableScope(w))return;Dd(f,j.inTableScope("td")?"td":"th"),re(b,w,L,W);return}break}je(b,w,L,W)}function ra(b,w,L,W){switch(b){case 1:if(Ya&&(w=w.replace(up,""),w.length===0))return;io(w);return;case 4:ro(w);return;case 5:return;case-1:je(b,w,L,W);return;case 2:switch(w){case"html":je(b,w,L,W);return;case"option":j.top instanceof a.HTMLOptionElement&&ra(f,w),Qe(w,L);return;case"optgroup":j.top instanceof a.HTMLOptionElement&&ra(f,"option"),j.top instanceof a.HTMLOptGroupElement&&ra(f,w),Qe(w,L);return;case"select":ra(f,w);return;case"input":case"keygen":case"textarea":if(!j.inSelectScope("select"))return;ra(f,"select"),re(b,w,L,W);return;case"script":case"template":In(b,w,L,W);return}break;case 3:switch(w){case"optgroup":j.top instanceof a.HTMLOptionElement&&j.elements[j.elements.length-2]instanceof a.HTMLOptGroupElement&&ra(f,"option"),j.top instanceof a.HTMLOptGroupElement&&j.pop();return;case"option":j.top instanceof a.HTMLOptionElement&&j.pop();return;case"select":if(!j.inSelectScope(w))return;j.popTag(w),pp();return;case"template":In(b,w,L,W);return}break}}function ty(b,w,L,W){switch(w){case"caption":case"table":case"tbody":case"tfoot":case"thead":case"tr":case"td":case"th":switch(b){case 2:ty(f,"select"),re(b,w,L,W);return;case 3:j.inTableScope(w)&&(ty(f,"select"),re(b,w,L,W));return}}ra(b,w,L,W)}function PS(b,w,L,W){function Q(ye){re=ye,Xo[Xo.length-1]=re,re(b,w,L,W)}switch(b){case 1:case 4:case 5:je(b,w,L,W);return;case-1:j.contains("template")?(j.popTag("template"),mt.clearToMarker(),Xo.pop(),pp(),re(b,w,L,W)):Pc();return;case 2:switch(w){case"base":case"basefont":case"bgsound":case"link":case"meta":case"noframes":case"script":case"style":case"template":case"title":In(b,w,L,W);return;case"caption":case"colgroup":case"tbody":case"tfoot":case"thead":Q(Ui);return;case"col":Q(ey);return;case"tr":Q(Uc);return;case"td":case"th":Q(yp);return}Q(je);return;case 3:switch(w){case"template":In(b,w,L,W);return;default:return}}}function d6(b,w,L,W){switch(b){case 1:if(Gt.test(w))break;je(b,w);return;case 4:j.elements[0]._appendChild(At.createComment(w));return;case 5:return;case-1:Pc();return;case 2:if(w==="html"){je(b,w,L,W);return}break;case 3:if(w==="html"){if(Mc)return;re=uQ;return}break}re=je,re(b,w,L,W)}function LS(b,w,L,W){switch(b){case 1:w=w.replace($n,""),w.length>0&&io(w);return;case 4:ro(w);return;case 5:return;case-1:Pc();return;case 2:switch(w){case"html":je(b,w,L,W);return;case"frameset":Qe(w,L);return;case"frame":Qe(w,L),j.pop();return;case"noframes":In(b,w,L,W);return}break;case 3:if(w==="frameset"){if(Mc&&j.top instanceof a.HTMLHtmlElement)return;j.pop(),!Mc&&!(j.top instanceof a.HTMLFrameSetElement)&&(re=aQ);return}break}}function aQ(b,w,L,W){switch(b){case 1:w=w.replace($n,""),w.length>0&&io(w);return;case 4:ro(w);return;case 5:return;case-1:Pc();return;case 2:switch(w){case"html":je(b,w,L,W);return;case"noframes":In(b,w,L,W);return}break;case 3:if(w==="html"){re=cQ;return}break}}function uQ(b,w,L,W){switch(b){case 1:if(Gt.test(w))break;je(b,w,L,W);return;case 4:At._appendChild(At.createComment(w));return;case 5:je(b,w,L,W);return;case-1:Pc();return;case 2:if(w==="html"){je(b,w,L,W);return}break}re=je,re(b,w,L,W)}function cQ(b,w,L,W){switch(b){case 1:w=w.replace($n,""),w.length>0&&je(b,w,L,W);return;case 4:At._appendChild(At.createComment(w));return;case 5:je(b,w,L,W);return;case-1:Pc();return;case 2:switch(w){case"html":je(b,w,L,W);return;case"noframes":In(b,w,L,W);return}break}}function f6(b,w,L,W){function Q(_n){for(var vr=0,Bi=_n.length;vr<Bi;vr++)switch(_n[vr][0]){case"color":case"face":case"size":return!0}return!1}var ye;switch(b){case 1:Cn&&yr.test(w)&&(Cn=!1),Ya&&(w=w.replace(up,"\uFFFD")),io(w);return;case 4:ro(w);return;case 5:return;case 2:switch(w){case"font":if(!Q(L))break;case"b":case"big":case"blockquote":case"body":case"br":case"center":case"code":case"dd":case"div":case"dl":case"dt":case"em":case"embed":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"head":case"hr":case"i":case"img":case"li":case"listing":case"menu":case"meta":case"nobr":case"ol":case"p":case"pre":case"ruby":case"s":case"small":case"span":case"strong":case"strike":case"sub":case"sup":case"table":case"tt":case"u":case"ul":case"var":if(Mc)break;do j.pop(),ye=j.top;while(ye.namespaceURI!==s.HTML&&!HO(ye)&&!$O(ye));kn(b,w,L,W);return}ye=j.elements.length===1&&Mc?ie:j.top,ye.namespaceURI===s.MATHML?GO(L):ye.namespaceURI===s.SVG&&(w=uK(w),zO(L)),vS(L),SS(w,L,ye.namespaceURI),W&&j.pop();return;case 3:if(ye=j.top,w==="script"&&ye.namespaceURI===s.SVG&&ye.localName==="script")j.pop();else for(var He=j.elements.length-1,yt=j.elements[He];;){if(yt.localName.toLowerCase()===w){j.popElement(yt);break}if(yt=j.elements[--He],yt.namespaceURI===s.HTML){re(b,w,L,W);break}}return}}return U0.testTokenizer=function(b,w,L,W){var Q=[];switch(w){case"PCDATA state":G=gt;break;case"RCDATA state":G=eu;break;case"RAWTEXT state":G=mp;break;case"PLAINTEXT state":G=CS;break}if(L&&(M0=L),kn=function(He,yt,_n,vr){switch(Id(),He){case 1:Q.length>0&&Q[Q.length-1][0]==="Character"?Q[Q.length-1][1]+=yt:Q.push(["Character",yt]);break;case 4:Q.push(["Comment",yt]);break;case 5:Q.push(["DOCTYPE",yt,_n===void 0?null:_n,vr===void 0?null:vr,!bS]);break;case 2:for(var Bi=Object.create(null),hs=0;hs<_n.length;hs++){var Bc=_n[hs];Bc.length===1?Bi[Bc[0]]="":Bi[Bc[0]]=Bc[1]}var su=["StartTag",yt,Bi];vr&&su.push(!0),Q.push(su);break;case 3:Q.push(["EndTag",yt]);break}},!W)this.parse(b,!0);else{for(var ye=0;ye<b.length;ye++)this.parse(b[ye]);this.parse("",!0)}return Q},U0}}}),Hb=qe({"external/npm/node_modules/domino/lib/DOMImplementation.js"(n,e){e.exports=a;var t=KI(),r=QI(),i=YI(),s=Vn(),o=jI();function a(c){this.contextObject=c}var u={xml:{"":!0,"1.0":!0,"2.0":!0},core:{"":!0,"2.0":!0},html:{"":!0,"1.0":!0,"2.0":!0},xhtml:{"":!0,"1.0":!0,"2.0":!0}};a.prototype={hasFeature:function(l,d){var f=u[(l||"").toLowerCase()];return f&&f[d||""]||!1},createDocumentType:function(l,d,f){return o.isValidQName(l)||s.InvalidCharacterError(),new r(this.contextObject,l,d,f)},createDocument:function(l,d,f){var h=new t(!1,null),g;return d?g=h.createElementNS(l,d):g=null,f&&h.appendChild(f),g&&h.appendChild(g),l===s.NAMESPACE.HTML?h._contentType="application/xhtml+xml":l===s.NAMESPACE.SVG?h._contentType="image/svg+xml":h._contentType="application/xml",h},createHTMLDocument:function(l){var d=new t(!0,null);d.appendChild(new r(d,"html"));var f=d.createElement("html");d.appendChild(f);var h=d.createElement("head");if(f.appendChild(h),l!==void 0){var g=d.createElement("title");h.appendChild(g),g.appendChild(d.createTextNode(l))}return f.appendChild(d.createElement("body")),d.modclock=1,d},mozSetOutputMutationHandler:function(c,l){c.mutationHandler=l},mozGetInputMutationHandler:function(c){s.nyi()},mozHTMLParser:i}}}),_se=qe({"external/npm/node_modules/domino/lib/Location.js"(n,e){var t=zI(),r=t9();e.exports=i;function i(s,o){this._window=s,this._href=o}i.prototype=Object.create(r.prototype,{constructor:{value:i},href:{get:function(){return this._href},set:function(s){this.assign(s)}},assign:{value:function(s){var o=new t(this._href),a=o.resolve(s);this._href=a}},replace:{value:function(s){this.assign(s)}},reload:{value:function(){this.assign(this.href)}},toString:{value:function(){return this.href}}})}}),Ese=qe({"external/npm/node_modules/domino/lib/NavigatorID.js"(n,e){var t=Object.create(null,{appCodeName:{value:"Mozilla"},appName:{value:"Netscape"},appVersion:{value:"4.0"},platform:{value:""},product:{value:"Gecko"},productSub:{value:"20100101"},userAgent:{value:""},vendor:{value:""},vendorSub:{value:""},taintEnabled:{value:function(){return!1}}});e.exports=t}}),wse=qe({"external/npm/node_modules/domino/lib/WindowTimers.js"(n,e){var t={setTimeout,clearTimeout,setInterval,clearInterval};e.exports=t}}),i9=qe({"external/npm/node_modules/domino/lib/impl.js"(n,e){var t=Vn();n=e.exports={CSSStyleDeclaration:GI(),CharacterData:qb(),Comment:YF(),DOMImplementation:Hb(),DOMTokenList:zF(),Document:KI(),DocumentFragment:JF(),DocumentType:QI(),Element:Lm(),HTMLParser:YI(),NamedNodeMap:WF(),Node:Pr(),NodeList:Cf(),NodeFilter:jb(),ProcessingInstruction:ZF(),Text:QF(),Window:s9()},t.merge(n,e9()),t.merge(n,WI().elements),t.merge(n,r9().elements)}}),s9=qe({"external/npm/node_modules/domino/lib/Window.js"(n,e){var t=Hb(),r=qF(),i=_se(),s=Vn();e.exports=o;function o(a){this.document=a||new t(null).createHTMLDocument(""),this.document._scripting_enabled=!0,this.document.defaultView=this,this.location=new i(this,this.document._address||"about:blank")}o.prototype=Object.create(r.prototype,{console:{value:console},history:{value:{back:s.nyi,forward:s.nyi,go:s.nyi}},navigator:{value:Ese()},window:{get:function(){return this}},self:{get:function(){return this}},frames:{get:function(){return this}},parent:{get:function(){return this}},top:{get:function(){return this}},length:{value:0},frameElement:{value:null},opener:{value:null},onload:{get:function(){return this._getEventHandler("load")},set:function(a){this._setEventHandler("load",a)}},getComputedStyle:{value:function(u){return u.style}}}),s.expose(wse(),o),s.expose(i9(),o)}}),Sse=qe({"external/npm/node_modules/domino/lib/index.js"(n){var e=Hb(),t=YI();s9();var r=i9();n.createDOMImplementation=function(){return new e(null)},n.createDocument=function(i,s){if(i||s){var o=new t;return o.parse(i||"",!0),o.document()}return new e(null).createHTMLDocument("")},n.createIncrementalHTMLParser=function(){var i=new t;return{write:function(s){s.length>0&&i.parse(s,!1,function(){return!0})},end:function(s){i.parse(s||"",!0,function(){return!0})},process:function(s){return i.parse("",!1,s)},document:function(){return i.document()}}},n.createWindow=function(i,s){var o=n.createDocument(i);return s!==void 0&&(o._address=s),new r.Window(o)},n.impl=r}}),Vb=Sse();function Tse(){Object.assign(globalThis,Vb.impl),globalThis.KeyboardEvent=Vb.impl.Event}function o9(n,e="/"){return Vb.createWindow(n,e).document}function Cse(n){return n.serialize()}var Ise=(()=>{class n extends _l{static makeCurrent(){Tse(),om(new n)}supportsDOMEvents=!1;static defaultDoc;createHtmlDocument(){return o9("<html><head><title>fakeTitle</title></head><body></body></html>")}getDefaultDocument(){return n.defaultDoc||(n.defaultDoc=Vb.createDocument()),n.defaultDoc}isElementNode(t){return t?t.nodeType===n.defaultDoc.ELEMENT_NODE:!1}isShadowRoot(t){return t.shadowRoot==t}getGlobalEventTarget(t,r){return r==="window"?t.defaultView:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=t.head.children.length;for(let i=0;i<r;i++){let s=t.head.children[i];if(s.tagName==="BASE")return s.getAttribute("href")||""}return""}dispatchEvent(t,r){t.dispatchEvent(r);let s=(t.ownerDocument||t).defaultView;s&&s.dispatchEvent(r)}getUserAgent(){return"Fake user agent"}getCookie(t){throw new Error("getCookie has not been implemented")}}return n})(),Dl=new le("Server.INITIAL_CONFIG"),JI=new le("Server.RENDER_MODULE_HOOK"),Dse=new le("ENABLE_DOM_EMULATION"),ZI=(()=>{class n{_doc;_enableDomEmulation=XI($(Nt));constructor(t){this._doc=t}renderToString(){let t="renderToString";zi(t);let r=this._enableDomEmulation?Cse(this._doc):this._doc.documentElement.outerHTML;return Gi(t),r}getDocument(){return this._doc}static \u0275fac=function(r){return new(r||n)(Ae(dn))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function XI(n){return n.get(Dse,!0)}var xse=(()=>{class n{xhrImpl;\u0275loadImpl(){return O(this,null,function*(){if(!this.xhrImpl){let{default:t}=yield import("./chunk-FE3ZEMPP.mjs");this.xhrImpl=t}})}build(){let t=this.xhrImpl;if(!t)throw new Error("Unexpected state in ServerXhr: XHR implementation is not loaded.");return new t.XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function Ase(n,e){let t=$(po),{href:r,protocol:i,hostname:s,port:o}=t;if(!i.startsWith("http"))return e(n);let a=`${i}//${s}`;o&&(a+=`:${o}`);let u=t.getBaseHrefFromDOM()||r,c=new URL(u,a),l=new URL(n.url,c).toString();return e(n.clone({url:l}))}var Nse=[{provide:vl,useClass:xse},{provide:cI,useValue:Ase,multi:!0}],FF="resolve:";function UF(n){let{hostname:e,protocol:t,port:r,pathname:i,search:s,hash:o}=new URL(n,FF+"//");return{hostname:e,protocol:t===FF?"":t,port:r,pathname:i,search:s,hash:o}}var Rse=(()=>{class n{_doc;href="/";hostname="/";protocol="/";port="/";pathname="/";search="";hash="";_hashUpdate=new En;constructor(t,r){this._doc=t;let i=r;if(i&&i.url){let s=UF(i.url);this.protocol=s.protocol,this.hostname=s.hostname,this.port=s.port,this.pathname=s.pathname,this.search=s.search,this.hash=s.hash,this.href=t.location.href}}getBaseHrefFromDOM(){return kr().getBaseHref(this._doc)}onPopState(t){return()=>{}}onHashChange(t){let r=this._hashUpdate.subscribe(t);return()=>r.unsubscribe()}get url(){return`${this.pathname}${this.search}${this.hash}`}setHash(t,r){if(this.hash===t)return;this.hash=t;let i=this.url;queueMicrotask(()=>this._hashUpdate.next({type:"hashchange",state:null,oldUrl:r,newUrl:i}))}replaceState(t,r,i){let s=this.url,o=UF(i);this.pathname=o.pathname,this.search=o.search,this.setHash(o.hash,s)}pushState(t,r,i){this.replaceState(t,r,i)}forward(){throw new Error("Not implemented")}back(){throw new Error("Not implemented")}getState(){}static \u0275fac=function(r){return new(r||n)(Ae(dn),Ae(Dl,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),kse=(()=>{class n extends Cu{doc;constructor(t){super(t),this.doc=t}supports(t){return!0}addEventListener(t,r,i,s){return kr().onAndCancel(t,r,i,s)}static \u0275fac=function(r){return new(r||n)(Ae(dn))};static \u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();var Mse=[{provide:JI,useFactory:Ose,multi:!0}];function eD(n,e,t){let r=n.createElement("script");return r.textContent=e,t&&r.setAttribute("nonce",t),r}function Ose(){let n=$(dn),e=$(_u),t=$(Ov),r=$(Nt);return()=>{let i="serializeTransferStateFactory";zi(i);let s=t.toJson();if(t.isEmpty)return;let o=eD(n,s,null);o.id=e+"-state",o.setAttribute("type","application/json"),n.body.appendChild(o),Gi(i)}}var Pse=[{provide:dn,useFactory:Use,deps:[Nt]},{provide:ri,useValue:sb},{provide:em,useFactory:Lse,multi:!0,deps:[Nt]},{provide:po,useClass:Rse,deps:[dn,[Kn,Dl]]},{provide:ZI,deps:[dn]},{provide:Gv,useValue:!0}];function Lse(n){let e=XI(n);return()=>{e?Ise.makeCurrent():_l.makeCurrent()}}var Fse=[{provide:bl,multi:!0,useClass:kse}],a9=[Mse,Fse,Nse,{provide:M2,useValue:null},{provide:jv,useValue:null},{provide:ab,useClass:fm}];function Use(n){let e=n.get(Dl,null),t=XI(n),r;return e&&e.document?r=typeof e.document=="string"?t?o9(e.document,e.url):window.document:e.document:r=kr().createHtmlDocument(),Mv(r),r}function $b(n){return Wv(z2,"server",Pse)(n)}function c9(){return Ar([...a9])}var Bse="ng-event-dispatch-contract";function l9(n){let e=n.platformProviders??[],t="createServerPlatform";zi(t);let r=$b([{provide:Dl,useValue:{document:n.document,url:n.url}},e]);return Gi(t),r}function d9(n){return n.getElementById(Bse)}function u9(n){d9(n)?.remove()}function Vse(n,e){let t="prepareForHydration";zi(t);let r=e.injector,i=n.getDocument();if(!r.get(dP,!1)){u9(i);return}qse(i);let s=ZL(e,i);s.regular.size||s.capture.size?Hse(r.get(_u),i,s,r.get(tm,null)):u9(i),Gi(t)}function qse(n){let e=n.createComment(yP);n.body.firstChild?n.body.insertBefore(e,n.body.firstChild):n.body.append(e)}function jse(n){let e=n.injector,t=$se(e.get(tD,p9));n.components.forEach(r=>{let i=r.injector.get(si),s=r.location.nativeElement;s&&i.setAttribute(s,"ng-server-context",t)})}function Hse(n,e,t,r){let i="insertEventRecordScript";zi(i);let{regular:s,capture:o}=t,a=d9(e);if(a){let u=`window.__jsaction_bootstrap(document.body,"${n}",${JSON.stringify(Array.from(s))},${JSON.stringify(Array.from(o))});`,c=eD(e,u,r);a.after(c)}Gi(i)}function f9(n,e){return O(this,null,function*(){let t=n.injector.get(ZI);Vse(t,e),jse(e);let i=e.injector.get(JI,null);if(i){let s=[];for(let o of i)try{let a=o();a&&s.push(a)}catch(a){console.warn("Ignoring BEFORE_APP_SERIALIZED Exception: ",a)}if(s.length)for(let o of yield Promise.allSettled(s))o.status==="rejected"&&console.warn("Ignoring BEFORE_APP_SERIALIZED Exception: ",o.reason)}return t.renderToString()})}function h9(n){return new Promise(e=>{setTimeout(()=>{n.destroy(),e()},0)})}var p9="other",tD=new le("SERVER_CONTEXT");function $se(n){let e=n.replace(/[^a-zA-Z0-9\-]/g,"");return e.length>0?e:p9}function m9(n,e){return O(this,null,function*(){let{document:t,url:r,extraProviders:i}=e,s=l9({document:t,url:r,platformProviders:i});try{let a=(yield s.bootstrapModule(n)).injector.get(Ts),u="whenStable";return zi(u),yield a.whenStable(),Gi(u),yield f9(s,a)}finally{yield h9(s)}})}function g9(n,e){return O(this,null,function*(){let t="renderApplication",r="bootstrap",i="_render";zi(t);let s=l9(e);try{zi(r);let o=yield n();Gi(r),zi(i);let a="whenStable";zi(a),yield o.whenStable(),Gi(a);let u=yield f9(s,o);return Gi(i),u}finally{yield h9(s),Gi(t)}})}function zse(n){throw new Error(`[unenv] ${n} is not implemented yet!`)}function Gse(n){return Object.assign(()=>{throw zse(n)},{__unenv__:!0})}var Wse=Gse("fs.readFile");function Kse(n){let e=function(...t){let r=t.pop();n().catch(i=>r(i)).then(i=>r(void 0,i))};return e.__promisify__=n,e.native=e,e}var Qse=Kse(Wse),Yse=/^[A-Za-z]:\//;function Mu(n=""){return n&&n.replace(/\\/g,"/").replace(Yse,e=>e.toUpperCase())}var Jse=/^[/\\]{2}/,Zse=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,b7=/^[A-Za-z]:$/,y9=/^\/([A-Za-z]:)?$/,_7="/",E7=":",JD=function(n){if(n.length===0)return".";n=Mu(n);let e=n.match(Jse),t=Nl(n),r=n[n.length-1]==="/";return n=a1(n,!t),n.length===0?t?"/":r?"./":".":(r&&(n+="/"),b7.test(n)&&(n+="/"),e?t?`//${n}`:`//./${n}`:t&&!Nl(n)?`/${n}`:n)},w7=function(...n){if(n.length===0)return".";let e;for(let t of n)t&&t.length>0&&(e===void 0?e=t:e+=`/${t}`);return e===void 0?".":JD(e.replace(/\/\/+/g,"/"))};function Xse(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}var Vm=function(...n){n=n.map(r=>Mu(r));let e="",t=!1;for(let r=n.length-1;r>=-1&&!t;r--){let i=r>=0?n[r]:Xse();!i||i.length===0||(e=`${i}/${e}`,t=Nl(i))}return e=a1(e,!t),t&&!Nl(e)?`/${e}`:e.length>0?e:"."};function a1(n,e){let t="",r=0,i=-1,s=0,o=null;for(let a=0;a<=n.length;++a){if(a<n.length)o=n[a];else{if(o==="/")break;o="/"}if(o==="/"){if(!(i===a-1||s===1))if(s===2){if(t.length<2||r!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){let u=t.lastIndexOf("/");u===-1?(t="",r=0):(t=t.slice(0,u),r=t.length-1-t.lastIndexOf("/")),i=a,s=0;continue}else if(t.length>0){t="",r=0,i=a,s=0;continue}}e&&(t+=t.length>0?"/..":"..",r=2)}else t.length>0?t+=`/${n.slice(i+1,a)}`:t=n.slice(i+1,a),r=a-i-1;i=a,s=0}else o==="."&&s!==-1?++s:s=-1}return t}var Nl=function(n){return Zse.test(n)},S7=function(n){return Mu(n)},eoe=/.(\.[^./]+)$/,ZD=function(n){let e=eoe.exec(Mu(n));return e&&e[1]||""},T7=function(n,e){let t=Vm(n).replace(y9,"$1").split("/"),r=Vm(e).replace(y9,"$1").split("/");if(r[0][1]===":"&&t[0][1]===":"&&t[0]!==r[0])return r.join("/");let i=[...t];for(let s of i){if(r[0]!==s)break;t.shift(),r.shift()}return[...t.map(()=>".."),...r].join("/")},XD=function(n){let e=Mu(n).replace(/\/$/,"").split("/").slice(0,-1);return e.length===1&&b7.test(e[0])&&(e[0]+="/"),e.join("/")||(Nl(n)?"/":".")},C7=function(n){let e=[n.root,n.dir,n.base??n.name+n.ext].filter(Boolean);return Mu(n.root?Vm(...e):e.join("/"))},ex=function(n,e){let t=Mu(n).split("/").pop();return e&&t.endsWith(e)?t.slice(0,-e.length):t},I7=function(n){let e=Mu(n).split("/").shift()||"/",t=ex(n),r=ZD(t);return{root:e,dir:XD(n),base:t,ext:r,name:t.slice(0,t.length-r.length)}},toe={__proto__:null,basename:ex,delimiter:E7,dirname:XD,extname:ZD,format:C7,isAbsolute:Nl,join:w7,normalize:JD,normalizeString:a1,parse:I7,relative:T7,resolve:Vm,sep:_7,toNamespacedPath:S7},noe=Object.freeze({__proto__:null,basename:ex,default:toe,delimiter:E7,dirname:XD,extname:ZD,format:C7,isAbsolute:Nl,join:w7,normalize:JD,normalizeString:a1,parse:I7,relative:T7,resolve:Vm,sep:_7,toNamespacedPath:S7}),xf=me(K({},noe),{platform:"posix",posix:void 0,win32:void 0});xf.posix=xf;xf.win32=xf;function u1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function roe(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var zb={exports:{}},v9;function D7(){if(v9)return zb.exports;v9=1;var n=String,e=function(){return{isColorSupported:!1,reset:n,bold:n,dim:n,italic:n,underline:n,inverse:n,hidden:n,strikethrough:n,black:n,red:n,green:n,yellow:n,blue:n,magenta:n,cyan:n,white:n,gray:n,bgBlack:n,bgRed:n,bgGreen:n,bgYellow:n,bgBlue:n,bgMagenta:n,bgCyan:n,bgWhite:n,blackBright:n,redBright:n,greenBright:n,yellowBright:n,blueBright:n,magentaBright:n,cyanBright:n,whiteBright:n,bgBlackBright:n,bgRedBright:n,bgGreenBright:n,bgYellowBright:n,bgBlueBright:n,bgMagentaBright:n,bgCyanBright:n,bgWhiteBright:n}};return zb.exports=e(),zb.exports.createColors=e,zb.exports}var ioe={},soe=Object.freeze({__proto__:null,default:ioe}),Ps=roe(soe),nD,b9;function tx(){if(b9)return nD;b9=1;let n=D7(),e=Ps;class t extends Error{constructor(i,s,o,a,u,c){super(i),this.name="CssSyntaxError",this.reason=i,u&&(this.file=u),a&&(this.source=a),c&&(this.plugin=c),typeof s<"u"&&typeof o<"u"&&(typeof s=="number"?(this.line=s,this.column=o):(this.line=s.line,this.column=s.column,this.endLine=o.line,this.endColumn=o.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,t)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(i){if(!this.source)return"";let s=this.source;i==null&&(i=n.isColorSupported);let o=h=>h,a=h=>h,u=h=>h;if(i){let{bold:h,gray:g,red:y}=n.createColors(!0);a=S=>h(y(S)),o=S=>g(S),e&&(u=S=>e(S))}let c=s.split(/\r?\n/),l=Math.max(this.line-3,0),d=Math.min(this.line+2,c.length),f=String(d).length;return c.slice(l,d).map((h,g)=>{let y=l+1+g,S=" "+(" "+y).slice(-f)+" | ";if(y===this.line){if(h.length>160){let C=20,I=Math.max(0,this.column-C),T=Math.max(this.column+C,this.endColumn+C),x=h.slice(I,T),V=o(S.replace(/\d/g," "))+h.slice(0,Math.min(this.column-1,C-1)).replace(/[^\t]/g," ");return a(">")+o(S)+u(x)+`
 `+V+a("^")}let _=o(S.replace(/\d/g," "))+h.slice(0,this.column-1).replace(/[^\t]/g," ");return a(">")+o(S)+u(h)+`
 `+_+a("^")}return" "+o(S)+u(h)}).join(`
`)}toString(){let i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i}}return nD=t,t.default=t,nD}var rD,_9;function x7(){if(_9)return rD;_9=1;let n={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function e(r){return r[0].toUpperCase()+r.slice(1)}class t{constructor(i){this.builder=i}atrule(i,s){let o="@"+i.name,a=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName<"u"?o+=i.raws.afterName:a&&(o+=" "),i.nodes)this.block(i,o+a);else{let u=(i.raws.between||"")+(s?";":"");this.builder(o+a+u,i)}}beforeAfter(i,s){let o;i.type==="decl"?o=this.raw(i,null,"beforeDecl"):i.type==="comment"?o=this.raw(i,null,"beforeComment"):s==="before"?o=this.raw(i,null,"beforeRule"):o=this.raw(i,null,"beforeClose");let a=i.parent,u=0;for(;a&&a.type!=="root";)u+=1,a=a.parent;if(o.includes(`
`)){let c=this.raw(i,null,"indent");if(c.length)for(let l=0;l<u;l++)o+=c}return o}block(i,s){let o=this.raw(i,"between","beforeOpen");this.builder(s+o+"{",i,"start");let a;i.nodes&&i.nodes.length?(this.body(i),a=this.raw(i,"after")):a=this.raw(i,"after","emptyBody"),a&&this.builder(a),this.builder("}",i,"end")}body(i){let s=i.nodes.length-1;for(;s>0&&i.nodes[s].type==="comment";)s-=1;let o=this.raw(i,"semicolon");for(let a=0;a<i.nodes.length;a++){let u=i.nodes[a],c=this.raw(u,"before");c&&this.builder(c),this.stringify(u,s!==a||o)}}comment(i){let s=this.raw(i,"left","commentLeft"),o=this.raw(i,"right","commentRight");this.builder("/*"+s+i.text+o+"*/",i)}decl(i,s){let o=this.raw(i,"between","colon"),a=i.prop+o+this.rawValue(i,"value");i.important&&(a+=i.raws.important||" !important"),s&&(a+=";"),this.builder(a,i)}document(i){this.body(i)}raw(i,s,o){let a;if(o||(o=s),s&&(a=i.raws[s],typeof a<"u"))return a;let u=i.parent;if(o==="before"&&(!u||u.type==="root"&&u.first===i||u&&u.type==="document"))return"";if(!u)return n[o];let c=i.root();if(c.rawCache||(c.rawCache={}),typeof c.rawCache[o]<"u")return c.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(i,o);{let l="raw"+e(o);this[l]?a=this[l](c,i):c.walk(d=>{if(a=d.raws[s],typeof a<"u")return!1})}return typeof a>"u"&&(a=n[o]),c.rawCache[o]=a,a}rawBeforeClose(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return s=o.raws.after,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s}rawBeforeComment(i,s){let o;return i.walkComments(a=>{if(typeof a.raws.before<"u")return o=a.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(s,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeDecl(i,s){let o;return i.walkDecls(a=>{if(typeof a.raws.before<"u")return o=a.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(s,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeOpen(i){let s;return i.walk(o=>{if(o.type!=="decl"&&(s=o.raws.between,typeof s<"u"))return!1}),s}rawBeforeRule(i){let s;return i.walk(o=>{if(o.nodes&&(o.parent!==i||i.first!==o)&&typeof o.raws.before<"u")return s=o.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s}rawColon(i){let s;return i.walkDecls(o=>{if(typeof o.raws.between<"u")return s=o.raws.between.replace(/[^\s:]/g,""),!1}),s}rawEmptyBody(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length===0&&(s=o.raws.after,typeof s<"u"))return!1}),s}rawIndent(i){if(i.raws.indent)return i.raws.indent;let s;return i.walk(o=>{let a=o.parent;if(a&&a!==i&&a.parent&&a.parent===i&&typeof o.raws.before<"u"){let u=o.raws.before.split(`
`);return s=u[u.length-1],s=s.replace(/\S/g,""),!1}}),s}rawSemicolon(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(s=o.raws.semicolon,typeof s<"u"))return!1}),s}rawValue(i,s){let o=i[s],a=i.raws[s];return a&&a.value===o?a.raw:o}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}stringify(i,s){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,s)}}return rD=t,t.default=t,rD}var iD,E9;function c1(){if(E9)return iD;E9=1;let n=x7();function e(t,r){new n(r).stringify(t)}return iD=e,e.default=e,iD}var Gb={},w9;function nx(){return w9||(w9=1,Gb.isClean=Symbol("isClean"),Gb.my=Symbol("my")),Gb}var sD,S9;function l1(){if(S9)return sD;S9=1;let n=tx(),e=x7(),t=c1(),{isClean:r,my:i}=nx();function s(u,c){let l=new u.constructor;for(let d in u){if(!Object.prototype.hasOwnProperty.call(u,d)||d==="proxyCache")continue;let f=u[d],h=typeof f;d==="parent"&&h==="object"?c&&(l[d]=c):d==="source"?l[d]=f:Array.isArray(f)?l[d]=f.map(g=>s(g,l)):(h==="object"&&f!==null&&(f=s(f)),l[d]=f)}return l}function o(u,c){if(c&&typeof c.offset<"u")return c.offset;let l=1,d=1,f=0;for(let h=0;h<u.length;h++){if(d===c.line&&l===c.column){f=h;break}u[h]===`
`?(l=1,d+=1):l+=1}return f}class a{constructor(c={}){this.raws={},this[r]=!1,this[i]=!0;for(let l in c)if(l==="nodes"){this.nodes=[];for(let d of c[l])typeof d.clone=="function"?this.append(d.clone()):this.append(d)}else this[l]=c[l]}addToError(c){if(c.postcssNode=this,c.stack&&this.source&&/\n\s{4}at /.test(c.stack)){let l=this.source;c.stack=c.stack.replace(/\n\s{4}at /,`$&${l.input.from}:${l.start.line}:${l.start.column}$&`)}return c}after(c){return this.parent.insertAfter(this,c),this}assign(c={}){for(let l in c)this[l]=c[l];return this}before(c){return this.parent.insertBefore(this,c),this}cleanRaws(c){delete this.raws.before,delete this.raws.after,c||delete this.raws.between}clone(c={}){let l=s(this);for(let d in c)l[d]=c[d];return l}cloneAfter(c={}){let l=this.clone(c);return this.parent.insertAfter(this,l),l}cloneBefore(c={}){let l=this.clone(c);return this.parent.insertBefore(this,l),l}error(c,l={}){if(this.source){let{end:d,start:f}=this.rangeBy(l);return this.source.input.error(c,{column:f.column,line:f.line},{column:d.column,line:d.line},l)}return new n(c)}getProxyProcessor(){return{get(c,l){return l==="proxyOf"?c:l==="root"?()=>c.root().toProxy():c[l]},set(c,l,d){return c[l]===d||(c[l]=d,(l==="prop"||l==="value"||l==="name"||l==="params"||l==="important"||l==="text")&&c.markDirty()),!0}}}markClean(){this[r]=!0}markDirty(){if(this[r]){this[r]=!1;let c=this;for(;c=c.parent;)c[r]=!1}}next(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c+1]}positionBy(c){let l=this.source.start;if(c.index)l=this.positionInside(c.index);else if(c.word){let d="document"in this.source.input?this.source.input.document:this.source.input.css,h=d.slice(o(d,this.source.start),o(d,this.source.end)).indexOf(c.word);h!==-1&&(l=this.positionInside(h))}return l}positionInside(c){let l=this.source.start.column,d=this.source.start.line,f="document"in this.source.input?this.source.input.document:this.source.input.css,h=o(f,this.source.start),g=h+c;for(let y=h;y<g;y++)f[y]===`
`?(l=1,d+=1):l+=1;return{column:l,line:d}}prev(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c-1]}rangeBy(c){let l={column:this.source.start.column,line:this.source.start.line},d=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:l.column+1,line:l.line};if(c.word){let f="document"in this.source.input?this.source.input.document:this.source.input.css,g=f.slice(o(f,this.source.start),o(f,this.source.end)).indexOf(c.word);g!==-1&&(l=this.positionInside(g),d=this.positionInside(g+c.word.length))}else c.start?l={column:c.start.column,line:c.start.line}:c.index&&(l=this.positionInside(c.index)),c.end?d={column:c.end.column,line:c.end.line}:typeof c.endIndex=="number"?d=this.positionInside(c.endIndex):c.index&&(d=this.positionInside(c.index+1));return(d.line<l.line||d.line===l.line&&d.column<=l.column)&&(d={column:l.column+1,line:l.line}),{end:d,start:l}}raw(c,l){return new e().raw(this,c,l)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...c){if(this.parent){let l=this,d=!1;for(let f of c)f===this?d=!0:d?(this.parent.insertAfter(l,f),l=f):this.parent.insertBefore(l,f);d||this.remove()}return this}root(){let c=this;for(;c.parent&&c.parent.type!=="document";)c=c.parent;return c}toJSON(c,l){let d={},f=l==null;l=l||new Map;let h=0;for(let g in this){if(!Object.prototype.hasOwnProperty.call(this,g)||g==="parent"||g==="proxyCache")continue;let y=this[g];if(Array.isArray(y))d[g]=y.map(S=>typeof S=="object"&&S.toJSON?S.toJSON(null,l):S);else if(typeof y=="object"&&y.toJSON)d[g]=y.toJSON(null,l);else if(g==="source"){let S=l.get(y.input);S==null&&(S=h,l.set(y.input,h),h++),d[g]={end:y.end,inputId:S,start:y.start}}else d[g]=y}return f&&(d.inputs=[...l.keys()].map(g=>g.toJSON())),d}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(c=t){c.stringify&&(c=c.stringify);let l="";return c(this,d=>{l+=d}),l}warn(c,l,d){let f={node:this};for(let h in d)f[h]=d[h];return c.warn(l,f)}get proxyOf(){return this}}return sD=a,a.default=a,sD}var oD,T9;function d1(){if(T9)return oD;T9=1;let n=l1();class e extends n{constructor(r){super(r),this.type="comment"}}return oD=e,e.default=e,oD}var aD,C9;function f1(){if(C9)return aD;C9=1;let n=l1();class e extends n{constructor(r){r&&typeof r.value<"u"&&typeof r.value!="string"&&(r=me(K({},r),{value:String(r.value)})),super(r),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}return aD=e,e.default=e,aD}var uD,I9;function Ol(){if(I9)return uD;I9=1;let n=d1(),e=f1(),t=l1(),{isClean:r,my:i}=nx(),s,o,a,u;function c(f){return f.map(h=>(h.nodes&&(h.nodes=c(h.nodes)),delete h.source,h))}function l(f){if(f[r]=!1,f.proxyOf.nodes)for(let h of f.proxyOf.nodes)l(h)}let d=(()=>{class f extends t{append(...g){for(let y of g){let S=this.normalize(y,this.last);for(let _ of S)this.proxyOf.nodes.push(_)}return this.markDirty(),this}cleanRaws(g){if(super.cleanRaws(g),this.nodes)for(let y of this.nodes)y.cleanRaws(g)}each(g){if(!this.proxyOf.nodes)return;let y=this.getIterator(),S,_;for(;this.indexes[y]<this.proxyOf.nodes.length&&(S=this.indexes[y],_=g(this.proxyOf.nodes[S],S),_!==!1);)this.indexes[y]+=1;return delete this.indexes[y],_}every(g){return this.nodes.every(g)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let g=this.lastEach;return this.indexes[g]=0,g}getProxyProcessor(){return{get(g,y){return y==="proxyOf"?g:g[y]?y==="each"||typeof y=="string"&&y.startsWith("walk")?(...S)=>g[y](...S.map(_=>typeof _=="function"?(C,I)=>_(C.toProxy(),I):_)):y==="every"||y==="some"?S=>g[y]((_,...C)=>S(_.toProxy(),...C)):y==="root"?()=>g.root().toProxy():y==="nodes"?g.nodes.map(S=>S.toProxy()):y==="first"||y==="last"?g[y].toProxy():g[y]:g[y]},set(g,y,S){return g[y]===S||(g[y]=S,(y==="name"||y==="params"||y==="selector")&&g.markDirty()),!0}}}index(g){return typeof g=="number"?g:(g.proxyOf&&(g=g.proxyOf),this.proxyOf.nodes.indexOf(g))}insertAfter(g,y){let S=this.index(g),_=this.normalize(y,this.proxyOf.nodes[S]).reverse();S=this.index(g);for(let I of _)this.proxyOf.nodes.splice(S+1,0,I);let C;for(let I in this.indexes)C=this.indexes[I],S<C&&(this.indexes[I]=C+_.length);return this.markDirty(),this}insertBefore(g,y){let S=this.index(g),_=S===0?"prepend":!1,C=this.normalize(y,this.proxyOf.nodes[S],_).reverse();S=this.index(g);for(let T of C)this.proxyOf.nodes.splice(S,0,T);let I;for(let T in this.indexes)I=this.indexes[T],S<=I&&(this.indexes[T]=I+C.length);return this.markDirty(),this}normalize(g,y){if(typeof g=="string")g=c(o(g).nodes);else if(typeof g>"u")g=[];else if(Array.isArray(g)){g=g.slice(0);for(let _ of g)_.parent&&_.parent.removeChild(_,"ignore")}else if(g.type==="root"&&this.type!=="document"){g=g.nodes.slice(0);for(let _ of g)_.parent&&_.parent.removeChild(_,"ignore")}else if(g.type)g=[g];else if(g.prop){if(typeof g.value>"u")throw new Error("Value field is missed in node creation");typeof g.value!="string"&&(g.value=String(g.value)),g=[new e(g)]}else if(g.selector||g.selectors)g=[new u(g)];else if(g.name)g=[new s(g)];else if(g.text)g=[new n(g)];else throw new Error("Unknown node type in node creation");return g.map(_=>(_[i]||f.rebuild(_),_=_.proxyOf,_.parent&&_.parent.removeChild(_),_[r]&&l(_),_.raws||(_.raws={}),typeof _.raws.before>"u"&&y&&typeof y.raws.before<"u"&&(_.raws.before=y.raws.before.replace(/\S/g,"")),_.parent=this.proxyOf,_))}prepend(...g){g=g.reverse();for(let y of g){let S=this.normalize(y,this.first,"prepend").reverse();for(let _ of S)this.proxyOf.nodes.unshift(_);for(let _ in this.indexes)this.indexes[_]=this.indexes[_]+S.length}return this.markDirty(),this}push(g){return g.parent=this,this.proxyOf.nodes.push(g),this}removeAll(){for(let g of this.proxyOf.nodes)g.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(g){g=this.index(g),this.proxyOf.nodes[g].parent=void 0,this.proxyOf.nodes.splice(g,1);let y;for(let S in this.indexes)y=this.indexes[S],y>=g&&(this.indexes[S]=y-1);return this.markDirty(),this}replaceValues(g,y,S){return S||(S=y,y={}),this.walkDecls(_=>{y.props&&!y.props.includes(_.prop)||y.fast&&!_.value.includes(y.fast)||(_.value=_.value.replace(g,S))}),this.markDirty(),this}some(g){return this.nodes.some(g)}walk(g){return this.each((y,S)=>{let _;try{_=g(y,S)}catch(C){throw y.addToError(C)}return _!==!1&&y.walk&&(_=y.walk(g)),_})}walkAtRules(g,y){return y?g instanceof RegExp?this.walk((S,_)=>{if(S.type==="atrule"&&g.test(S.name))return y(S,_)}):this.walk((S,_)=>{if(S.type==="atrule"&&S.name===g)return y(S,_)}):(y=g,this.walk((S,_)=>{if(S.type==="atrule")return y(S,_)}))}walkComments(g){return this.walk((y,S)=>{if(y.type==="comment")return g(y,S)})}walkDecls(g,y){return y?g instanceof RegExp?this.walk((S,_)=>{if(S.type==="decl"&&g.test(S.prop))return y(S,_)}):this.walk((S,_)=>{if(S.type==="decl"&&S.prop===g)return y(S,_)}):(y=g,this.walk((S,_)=>{if(S.type==="decl")return y(S,_)}))}walkRules(g,y){return y?g instanceof RegExp?this.walk((S,_)=>{if(S.type==="rule"&&g.test(S.selector))return y(S,_)}):this.walk((S,_)=>{if(S.type==="rule"&&S.selector===g)return y(S,_)}):(y=g,this.walk((S,_)=>{if(S.type==="rule")return y(S,_)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}return f.registerParse=h=>{o=h},f.registerRule=h=>{u=h},f.registerAtRule=h=>{s=h},f.registerRoot=h=>{a=h},f})();return uD=d,d.default=d,d.rebuild=f=>{f.type==="atrule"?Object.setPrototypeOf(f,s.prototype):f.type==="rule"?Object.setPrototypeOf(f,u.prototype):f.type==="decl"?Object.setPrototypeOf(f,e.prototype):f.type==="comment"?Object.setPrototypeOf(f,n.prototype):f.type==="root"&&Object.setPrototypeOf(f,a.prototype),f[i]=!0,f.nodes&&f.nodes.forEach(h=>{d.rebuild(h)})},uD}var cD,D9;function rx(){if(D9)return cD;D9=1;let n=Ol();class e extends n{constructor(r){super(r),this.type="atrule"}append(...r){return this.proxyOf.nodes||(this.nodes=[]),super.append(...r)}prepend(...r){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...r)}}return cD=e,e.default=e,n.registerAtRule(e),cD}var lD,x9;function ix(){if(x9)return lD;x9=1;let n=Ol(),e,t,r=(()=>{class i extends n{constructor(o){super(K({type:"document"},o)),this.nodes||(this.nodes=[])}toResult(o={}){return new e(new t,this,o).stringify()}}return i.registerLazyResult=s=>{e=s},i.registerProcessor=s=>{t=s},i})();return lD=r,r.default=r,lD}var dD,A9;function ooe(){if(A9)return dD;A9=1;let n="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return dD={nanoid:(r=21)=>{let i="",s=r|0;for(;s--;)i+=n[Math.random()*64|0];return i},customAlphabet:(r,i=21)=>(s=i)=>{let o="",a=s|0;for(;a--;)o+=r[Math.random()*r.length|0];return o}},dD}var fD,N9;function A7(){if(N9)return fD;N9=1;let{existsSync:n,readFileSync:e}=Ps,{dirname:t,join:r}=Ps,{SourceMapConsumer:i,SourceMapGenerator:s}=Ps;function o(u){return Buffer?Buffer.from(u,"base64").toString():window.atob(u)}class a{constructor(c,l){if(l.map===!1)return;this.loadAnnotation(c),this.inline=this.startWith(this.annotation,"data:");let d=l.map?l.map.prev:void 0,f=this.loadMap(l.from,d);!this.mapFile&&l.from&&(this.mapFile=l.from),this.mapFile&&(this.root=t(this.mapFile)),f&&(this.text=f)}consumer(){return this.consumerCache||(this.consumerCache=new i(this.text)),this.consumerCache}decodeInline(c){let l=/^data:application\/json;charset=utf-?8;base64,/,d=/^data:application\/json;base64,/,f=/^data:application\/json;charset=utf-?8,/,h=/^data:application\/json,/,g=c.match(f)||c.match(h);if(g)return decodeURIComponent(c.substr(g[0].length));let y=c.match(l)||c.match(d);if(y)return o(c.substr(y[0].length));let S=c.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+S)}getAnnotationURL(c){return c.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(c){return typeof c!="object"?!1:typeof c.mappings=="string"||typeof c._mappings=="string"||Array.isArray(c.sections)}loadAnnotation(c){let l=c.match(/\/\*\s*# sourceMappingURL=/g);if(!l)return;let d=c.lastIndexOf(l.pop()),f=c.indexOf("*/",d);d>-1&&f>-1&&(this.annotation=this.getAnnotationURL(c.substring(d,f)))}loadFile(c){if(this.root=t(c),n(c))return this.mapFile=c,e(c,"utf-8").toString().trim()}loadMap(c,l){if(l===!1)return!1;if(l){if(typeof l=="string")return l;if(typeof l=="function"){let d=l(c);if(d){let f=this.loadFile(d);if(!f)throw new Error("Unable to load previous source map: "+d.toString());return f}}else{if(l instanceof i)return s.fromSourceMap(l).toString();if(l instanceof s)return l.toString();if(this.isMap(l))return JSON.stringify(l);throw new Error("Unsupported previous source map format: "+l.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let d=this.annotation;return c&&(d=r(t(c),d)),this.loadFile(d)}}}startWith(c,l){return c?c.substr(0,l.length)===l:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return fD=a,a.default=a,fD}var hD,R9;function h1(){if(R9)return hD;R9=1;let{nanoid:n}=ooe(),{isAbsolute:e,resolve:t}=Ps,{SourceMapConsumer:r,SourceMapGenerator:i}=Ps,{fileURLToPath:s,pathToFileURL:o}=Ps,a=tx(),u=A7(),c=Ps,l=Symbol("fromOffsetCache"),d=!!(r&&i),f=!!(t&&e);class h{constructor(y,S={}){if(y===null||typeof y>"u"||typeof y=="object"&&!y.toString)throw new Error(`PostCSS received ${y} instead of CSS string`);if(this.css=y.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,S.document&&(this.document=S.document.toString()),S.from&&(!f||/^\w+:\/\//.test(S.from)||e(S.from)?this.file=S.from:this.file=t(S.from)),f&&d){let _=new u(this.css,S);if(_.text){this.map=_;let C=_.consumer().file;!this.file&&C&&(this.file=this.mapResolve(C))}}this.file||(this.id="<input css "+n(6)+">"),this.map&&(this.map.file=this.from)}error(y,S,_,C={}){let I,T,x;if(S&&typeof S=="object"){let R=S,A=_;if(typeof R.offset=="number"){let N=this.fromOffset(R.offset);S=N.line,_=N.col}else S=R.line,_=R.column;if(typeof A.offset=="number"){let N=this.fromOffset(A.offset);T=N.line,I=N.col}else T=A.line,I=A.column}else if(!_){let R=this.fromOffset(S);S=R.line,_=R.col}let V=this.origin(S,_,T,I);return V?x=new a(y,V.endLine===void 0?V.line:{column:V.column,line:V.line},V.endLine===void 0?V.column:{column:V.endColumn,line:V.endLine},V.source,V.file,C.plugin):x=new a(y,T===void 0?S:{column:_,line:S},T===void 0?_:{column:I,line:T},this.css,this.file,C.plugin),x.input={column:_,endColumn:I,endLine:T,line:S,source:this.css},this.file&&(o&&(x.input.url=o(this.file).toString()),x.input.file=this.file),x}fromOffset(y){let S,_;if(this[l])_=this[l];else{let I=this.css.split(`
`);_=new Array(I.length);let T=0;for(let x=0,V=I.length;x<V;x++)_[x]=T,T+=I[x].length+1;this[l]=_}S=_[_.length-1];let C=0;if(y>=S)C=_.length-1;else{let I=_.length-2,T;for(;C<I;)if(T=C+(I-C>>1),y<_[T])I=T-1;else if(y>=_[T+1])C=T+1;else{C=T;break}}return{col:y-_[C]+1,line:C+1}}mapResolve(y){return/^\w+:\/\//.test(y)?y:t(this.map.consumer().sourceRoot||this.map.root||".",y)}origin(y,S,_,C){if(!this.map)return!1;let I=this.map.consumer(),T=I.originalPositionFor({column:S,line:y});if(!T.source)return!1;let x;typeof _=="number"&&(x=I.originalPositionFor({column:C,line:_}));let V;e(T.source)?V=o(T.source):V=new URL(T.source,this.map.consumer().sourceRoot||o(this.map.mapFile));let R={column:T.column,endColumn:x&&x.column,endLine:x&&x.line,line:T.line,url:V.toString()};if(V.protocol==="file:")if(s)R.file=s(V);else throw new Error("file: protocol is not available in this PostCSS build");let A=I.sourceContentFor(T.source);return A&&(R.source=A),R}toJSON(){let y={};for(let S of["hasBOM","css","file","id"])this[S]!=null&&(y[S]=this[S]);return this.map&&(y.map=K({},this.map),y.map.consumerCache&&(y.map.consumerCache=void 0)),y}get from(){return this.file||this.id}}return hD=h,h.default=h,c&&c.registerInput&&c.registerInput(h),hD}var pD,k9;function $m(){if(k9)return pD;k9=1;let n=Ol(),e,t,r=(()=>{class i extends n{constructor(o){super(o),this.type="root",this.nodes||(this.nodes=[])}normalize(o,a,u){let c=super.normalize(o);if(a){if(u==="prepend")this.nodes.length>1?a.raws.before=this.nodes[1].raws.before:delete a.raws.before;else if(this.first!==a)for(let l of c)l.raws.before=a.raws.before}return c}removeChild(o,a){let u=this.index(o);return!a&&u===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[u].raws.before),super.removeChild(o)}toResult(o={}){return new e(new t,this,o).stringify()}}return i.registerLazyResult=s=>{e=s},i.registerProcessor=s=>{t=s},i})();return pD=r,r.default=r,n.registerRoot(r),pD}var mD,M9;function N7(){if(M9)return mD;M9=1;let n={comma(e){return n.split(e,[","],!0)},space(e){let t=[" ",`
`,"	"];return n.split(e,t)},split(e,t,r){let i=[],s="",o=!1,a=0,u=!1,c="",l=!1;for(let d of e)l?l=!1:d==="\\"?l=!0:u?d===c&&(u=!1):d==='"'||d==="'"?(u=!0,c=d):d==="("?a+=1:d===")"?a>0&&(a-=1):a===0&&t.includes(d)&&(o=!0),o?(s!==""&&i.push(s.trim()),s="",o=!1):s+=d;return(r||s!=="")&&i.push(s.trim()),i}};return mD=n,n.default=n,mD}var gD,O9;function sx(){if(O9)return gD;O9=1;let n=Ol(),e=N7();class t extends n{constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return e.comma(this.selector)}set selectors(i){let s=this.selector?this.selector.match(/,\s*/):null,o=s?s[0]:","+this.raw("between","beforeOpen");this.selector=i.join(o)}}return gD=t,t.default=t,n.registerRule(t),gD}var yD,P9;function aoe(){if(P9)return yD;P9=1;let n=rx(),e=d1(),t=f1(),r=h1(),i=A7(),s=$m(),o=sx();function a(u,c){if(Array.isArray(u))return u.map(g=>a(g));let f=u,{inputs:l}=f,d=ia(f,["inputs"]);if(l){c=[];for(let g of l){let y=me(K({},g),{__proto__:r.prototype});y.map&&(y.map=me(K({},y.map),{__proto__:i.prototype})),c.push(y)}}if(d.nodes&&(d.nodes=u.nodes.map(g=>a(g,c))),d.source){let h=d.source,{inputId:g}=h,y=ia(h,["inputId"]);d.source=y,g!=null&&(d.source.input=c[g])}if(d.type==="root")return new s(d);if(d.type==="decl")return new t(d);if(d.type==="rule")return new o(d);if(d.type==="comment")return new e(d);if(d.type==="atrule")return new n(d);throw new Error("Unknown node type: "+u.type)}return yD=a,a.default=a,yD}var vD,L9;function R7(){if(L9)return vD;L9=1;let{dirname:n,relative:e,resolve:t,sep:r}=Ps,{SourceMapConsumer:i,SourceMapGenerator:s}=Ps,{pathToFileURL:o}=Ps,a=h1(),u=!!(i&&s),c=!!(n&&t&&e&&r);class l{constructor(f,h,g,y){this.stringify=f,this.mapOpts=g.map||{},this.root=h,this.opts=g,this.css=y,this.originalCSS=y,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let f;this.isInline()?f="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?f=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?f=this.mapOpts.annotation(this.opts.to,this.root):f=this.outputFile()+".map";let h=`
`;this.css.includes(`\r
`)&&(h=`\r
`),this.css+=h+"/*# sourceMappingURL="+f+" */"}applyPrevMaps(){for(let f of this.previous()){let h=this.toUrl(this.path(f.file)),g=f.root||n(f.file),y;this.mapOpts.sourcesContent===!1?(y=new i(f.text),y.sourcesContent&&(y.sourcesContent=null)):y=f.consumer(),this.map.applySourceMap(y,h,this.toUrl(this.path(g)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let f;for(let h=this.root.nodes.length-1;h>=0;h--)f=this.root.nodes[h],f.type==="comment"&&f.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(h)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),c&&u&&this.isMap())return this.generateMap();{let f="";return this.stringify(this.root,h=>{f+=h}),[f]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let f=this.previous()[0].consumer();f.file=this.outputFile(),this.map=s.fromSourceMap(f,{ignoreInvalidMapping:!0})}else this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0});let f=1,h=1,g="<no source>",y={generated:{column:0,line:0},original:{column:0,line:0},source:""},S,_;this.stringify(this.root,(C,I,T)=>{if(this.css+=C,I&&T!=="end"&&(y.generated.line=f,y.generated.column=h-1,I.source&&I.source.start?(y.source=this.sourcePath(I),y.original.line=I.source.start.line,y.original.column=I.source.start.column-1,this.map.addMapping(y)):(y.source=g,y.original.line=1,y.original.column=0,this.map.addMapping(y))),_=C.match(/\n/g),_?(f+=_.length,S=C.lastIndexOf(`
`),h=C.length-S):h+=C.length,I&&T!=="start"){let x=I.parent||{raws:{}};(!(I.type==="decl"||I.type==="atrule"&&!I.nodes)||I!==x.last||x.raws.semicolon)&&(I.source&&I.source.end?(y.source=this.sourcePath(I),y.original.line=I.source.end.line,y.original.column=I.source.end.column-1,y.generated.line=f,y.generated.column=h-2,this.map.addMapping(y)):(y.source=g,y.original.line=1,y.original.column=0,y.generated.line=f,y.generated.column=h-1,this.map.addMapping(y)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(f=>f.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let f=this.mapOpts.annotation;return typeof f<"u"&&f!==!0?!1:this.previous().length?this.previous().some(h=>h.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(f=>f.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(f){if(this.mapOpts.absolute||f.charCodeAt(0)===60||/^\w+:\/\//.test(f))return f;let h=this.memoizedPaths.get(f);if(h)return h;let g=this.opts.to?n(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(g=n(t(g,this.mapOpts.annotation)));let y=e(g,f);return this.memoizedPaths.set(f,y),y}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(f=>{if(f.source&&f.source.input.map){let h=f.source.input.map;this.previousMaps.includes(h)||this.previousMaps.push(h)}});else{let f=new a(this.originalCSS,this.opts);f.map&&this.previousMaps.push(f.map)}return this.previousMaps}setSourcesContent(){let f={};if(this.root)this.root.walk(h=>{if(h.source){let g=h.source.input.from;if(g&&!f[g]){f[g]=!0;let y=this.usesFileUrls?this.toFileUrl(g):this.toUrl(this.path(g));this.map.setSourceContent(y,h.source.input.css)}}});else if(this.css){let h=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(h,this.css)}}sourcePath(f){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(f.source.input.from):this.toUrl(this.path(f.source.input.from))}toBase64(f){return Buffer?Buffer.from(f).toString("base64"):window.btoa(unescape(encodeURIComponent(f)))}toFileUrl(f){let h=this.memoizedFileURLs.get(f);if(h)return h;if(o){let g=o(f).toString();return this.memoizedFileURLs.set(f,g),g}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(f){let h=this.memoizedURLs.get(f);if(h)return h;r==="\\"&&(f=f.replace(/\\/g,"/"));let g=encodeURI(f).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(f,g),g}}return vD=l,vD}var bD,F9;function uoe(){if(F9)return bD;F9=1;let n=39,e=34,t=92,r=47,i=10,s=32,o=12,a=9,u=13,c=91,l=93,d=40,f=41,h=123,g=125,y=59,S=42,_=58,C=64,I=/[\t\n\f\r "#'()/;[\\\]{}]/g,T=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,x=/.[\r\n"'(/\\]/,V=/[\da-f]/i;return bD=function(A,N={}){let E=A.css.valueOf(),D=N.ignoreErrors,P,p,m,v,B,z,J,de,De,Le,U=E.length,q=0,ce=[],Ce=[];function kt(){return q}function jr(rn){throw A.error("Unclosed "+rn,q)}function sp(){return Ce.length===0&&q>=U}function op(rn){if(Ce.length)return Ce.pop();if(q>=U)return;let X=rn?rn.ignoreUnclosed:!1;switch(P=E.charCodeAt(q),P){case i:case s:case a:case u:case o:{v=q;do v+=1,P=E.charCodeAt(v);while(P===s||P===i||P===a||P===u||P===o);z=["space",E.slice(q,v)],q=v-1;break}case c:case l:case h:case g:case _:case y:case f:{let Z=String.fromCharCode(P);z=[Z,Z,q];break}case d:{if(Le=ce.length?ce.pop()[1]:"",De=E.charCodeAt(q+1),Le==="url"&&De!==n&&De!==e&&De!==s&&De!==i&&De!==a&&De!==o&&De!==u){v=q;do{if(J=!1,v=E.indexOf(")",v+1),v===-1)if(D||X){v=q;break}else jr("bracket");for(de=v;E.charCodeAt(de-1)===t;)de-=1,J=!J}while(J);z=["brackets",E.slice(q,v+1),q,v],q=v}else v=E.indexOf(")",q+1),p=E.slice(q,v+1),v===-1||x.test(p)?z=["(","(",q]:(z=["brackets",p,q,v],q=v);break}case n:case e:{B=P===n?"'":'"',v=q;do{if(J=!1,v=E.indexOf(B,v+1),v===-1)if(D||X){v=q+1;break}else jr("string");for(de=v;E.charCodeAt(de-1)===t;)de-=1,J=!J}while(J);z=["string",E.slice(q,v+1),q,v],q=v;break}case C:{I.lastIndex=q+1,I.test(E),I.lastIndex===0?v=E.length-1:v=I.lastIndex-2,z=["at-word",E.slice(q,v+1),q,v],q=v;break}case t:{for(v=q,m=!0;E.charCodeAt(v+1)===t;)v+=1,m=!m;if(P=E.charCodeAt(v+1),m&&P!==r&&P!==s&&P!==i&&P!==a&&P!==u&&P!==o&&(v+=1,V.test(E.charAt(v)))){for(;V.test(E.charAt(v+1));)v+=1;E.charCodeAt(v+1)===s&&(v+=1)}z=["word",E.slice(q,v+1),q,v],q=v;break}default:{P===r&&E.charCodeAt(q+1)===S?(v=E.indexOf("*/",q+2)+1,v===0&&(D||X?v=E.length:jr("comment")),z=["comment",E.slice(q,v+1),q,v],q=v):(T.lastIndex=q+1,T.test(E),T.lastIndex===0?v=E.length-1:v=T.lastIndex-2,z=["word",E.slice(q,v+1),q,v],ce.push(z),q=v);break}}return q++,z}function ap(rn){Ce.push(rn)}return{back:ap,endOfFile:sp,nextToken:op,position:kt}},bD}var _D,U9;function coe(){if(U9)return _D;U9=1;let n=rx(),e=d1(),t=f1(),r=$m(),i=sx(),s=uoe(),o={empty:!0,space:!0};function a(c){for(let l=c.length-1;l>=0;l--){let d=c[l],f=d[3]||d[2];if(f)return f}}class u{constructor(l){this.input=l,this.root=new r,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:l,start:{column:1,line:1,offset:0}}}atrule(l){let d=new n;d.name=l[1].slice(1),d.name===""&&this.unnamedAtrule(d,l),this.init(d,l[2]);let f,h,g,y=!1,S=!1,_=[],C=[];for(;!this.tokenizer.endOfFile();){if(l=this.tokenizer.nextToken(),f=l[0],f==="("||f==="["?C.push(f==="("?")":"]"):f==="{"&&C.length>0?C.push("}"):f===C[C.length-1]&&C.pop(),C.length===0)if(f===";"){d.source.end=this.getPosition(l[2]),d.source.end.offset++,this.semicolon=!0;break}else if(f==="{"){S=!0;break}else if(f==="}"){if(_.length>0){for(g=_.length-1,h=_[g];h&&h[0]==="space";)h=_[--g];h&&(d.source.end=this.getPosition(h[3]||h[2]),d.source.end.offset++)}this.end(l);break}else _.push(l);else _.push(l);if(this.tokenizer.endOfFile()){y=!0;break}}d.raws.between=this.spacesAndCommentsFromEnd(_),_.length?(d.raws.afterName=this.spacesAndCommentsFromStart(_),this.raw(d,"params",_),y&&(l=_[_.length-1],d.source.end=this.getPosition(l[3]||l[2]),d.source.end.offset++,this.spaces=d.raws.between,d.raws.between="")):(d.raws.afterName="",d.params=""),S&&(d.nodes=[],this.current=d)}checkMissedSemicolon(l){let d=this.colon(l);if(d===!1)return;let f=0,h;for(let g=d-1;g>=0&&(h=l[g],!(h[0]!=="space"&&(f+=1,f===2)));g--);throw this.input.error("Missed semicolon",h[0]==="word"?h[3]+1:h[2])}colon(l){let d=0,f,h,g;for(let[y,S]of l.entries()){if(h=S,g=h[0],g==="("&&(d+=1),g===")"&&(d-=1),d===0&&g===":")if(!f)this.doubleColon(h);else{if(f[0]==="word"&&f[1]==="progid")continue;return y}f=h}return!1}comment(l){let d=new e;this.init(d,l[2]),d.source.end=this.getPosition(l[3]||l[2]),d.source.end.offset++;let f=l[1].slice(2,-2);if(/^\s*$/.test(f))d.text="",d.raws.left=f,d.raws.right="";else{let h=f.match(/^(\s*)([^]*\S)(\s*)$/);d.text=h[2],d.raws.left=h[1],d.raws.right=h[3]}}createTokenizer(){this.tokenizer=s(this.input)}decl(l,d){let f=new t;this.init(f,l[0][2]);let h=l[l.length-1];for(h[0]===";"&&(this.semicolon=!0,l.pop()),f.source.end=this.getPosition(h[3]||h[2]||a(l)),f.source.end.offset++;l[0][0]!=="word";)l.length===1&&this.unknownWord(l),f.raws.before+=l.shift()[1];for(f.source.start=this.getPosition(l[0][2]),f.prop="";l.length;){let C=l[0][0];if(C===":"||C==="space"||C==="comment")break;f.prop+=l.shift()[1]}f.raws.between="";let g;for(;l.length;)if(g=l.shift(),g[0]===":"){f.raws.between+=g[1];break}else g[0]==="word"&&/\w/.test(g[1])&&this.unknownWord([g]),f.raws.between+=g[1];(f.prop[0]==="_"||f.prop[0]==="*")&&(f.raws.before+=f.prop[0],f.prop=f.prop.slice(1));let y=[],S;for(;l.length&&(S=l[0][0],!(S!=="space"&&S!=="comment"));)y.push(l.shift());this.precheckMissedSemicolon(l);for(let C=l.length-1;C>=0;C--){if(g=l[C],g[1].toLowerCase()==="!important"){f.important=!0;let I=this.stringFrom(l,C);I=this.spacesFromEnd(l)+I,I!==" !important"&&(f.raws.important=I);break}else if(g[1].toLowerCase()==="important"){let I=l.slice(0),T="";for(let x=C;x>0;x--){let V=I[x][0];if(T.trim().startsWith("!")&&V!=="space")break;T=I.pop()[1]+T}T.trim().startsWith("!")&&(f.important=!0,f.raws.important=T,l=I)}if(g[0]!=="space"&&g[0]!=="comment")break}l.some(C=>C[0]!=="space"&&C[0]!=="comment")&&(f.raws.between+=y.map(C=>C[1]).join(""),y=[]),this.raw(f,"value",y.concat(l),d),f.value.includes(":")&&!d&&this.checkMissedSemicolon(l)}doubleColon(l){throw this.input.error("Double colon",{offset:l[2]},{offset:l[2]+l[1].length})}emptyRule(l){let d=new i;this.init(d,l[2]),d.selector="",d.raws.between="",this.current=d}end(l){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(l[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(l)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(l){if(this.spaces+=l[1],this.current.nodes){let d=this.current.nodes[this.current.nodes.length-1];d&&d.type==="rule"&&!d.raws.ownSemicolon&&(d.raws.ownSemicolon=this.spaces,this.spaces="",d.source.end=this.getPosition(l[2]),d.source.end.offset+=d.raws.ownSemicolon.length)}}getPosition(l){let d=this.input.fromOffset(l);return{column:d.col,line:d.line,offset:l}}init(l,d){this.current.push(l),l.source={input:this.input,start:this.getPosition(d)},l.raws.before=this.spaces,this.spaces="",l.type!=="comment"&&(this.semicolon=!1)}other(l){let d=!1,f=null,h=!1,g=null,y=[],S=l[1].startsWith("--"),_=[],C=l;for(;C;){if(f=C[0],_.push(C),f==="("||f==="[")g||(g=C),y.push(f==="("?")":"]");else if(S&&h&&f==="{")g||(g=C),y.push("}");else if(y.length===0)if(f===";")if(h){this.decl(_,S);return}else break;else if(f==="{"){this.rule(_);return}else if(f==="}"){this.tokenizer.back(_.pop()),d=!0;break}else f===":"&&(h=!0);else f===y[y.length-1]&&(y.pop(),y.length===0&&(g=null));C=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(d=!0),y.length>0&&this.unclosedBracket(g),d&&h){if(!S)for(;_.length&&(C=_[_.length-1][0],!(C!=="space"&&C!=="comment"));)this.tokenizer.back(_.pop());this.decl(_,S)}else this.unknownWord(_)}parse(){let l;for(;!this.tokenizer.endOfFile();)switch(l=this.tokenizer.nextToken(),l[0]){case"space":this.spaces+=l[1];break;case";":this.freeSemicolon(l);break;case"}":this.end(l);break;case"comment":this.comment(l);break;case"at-word":this.atrule(l);break;case"{":this.emptyRule(l);break;default:this.other(l);break}this.endFile()}precheckMissedSemicolon(){}raw(l,d,f,h){let g,y,S=f.length,_="",C=!0,I,T;for(let x=0;x<S;x+=1)g=f[x],y=g[0],y==="space"&&x===S-1&&!h?C=!1:y==="comment"?(T=f[x-1]?f[x-1][0]:"empty",I=f[x+1]?f[x+1][0]:"empty",!o[T]&&!o[I]?_.slice(-1)===","?C=!1:_+=g[1]:C=!1):_+=g[1];if(!C){let x=f.reduce((V,R)=>V+R[1],"");l.raws[d]={raw:x,value:_}}l[d]=_}rule(l){l.pop();let d=new i;this.init(d,l[0][2]),d.raws.between=this.spacesAndCommentsFromEnd(l),this.raw(d,"selector",l),this.current=d}spacesAndCommentsFromEnd(l){let d,f="";for(;l.length&&(d=l[l.length-1][0],!(d!=="space"&&d!=="comment"));)f=l.pop()[1]+f;return f}spacesAndCommentsFromStart(l){let d,f="";for(;l.length&&(d=l[0][0],!(d!=="space"&&d!=="comment"));)f+=l.shift()[1];return f}spacesFromEnd(l){let d,f="";for(;l.length&&(d=l[l.length-1][0],d==="space");)f=l.pop()[1]+f;return f}stringFrom(l,d){let f="";for(let h=d;h<l.length;h++)f+=l[h][1];return l.splice(d,l.length-d),f}unclosedBlock(){let l=this.current.source.start;throw this.input.error("Unclosed block",l.line,l.column)}unclosedBracket(l){throw this.input.error("Unclosed bracket",{offset:l[2]},{offset:l[2]+1})}unexpectedClose(l){throw this.input.error("Unexpected }",{offset:l[2]},{offset:l[2]+1})}unknownWord(l){throw this.input.error("Unknown word",{offset:l[0][2]},{offset:l[0][2]+l[0][1].length})}unnamedAtrule(l,d){throw this.input.error("At-rule without name",{offset:d[2]},{offset:d[2]+d[1].length})}}return _D=u,_D}var ED,B9;function ox(){if(B9)return ED;B9=1;let n=Ol(),e=h1(),t=coe();function r(i,s){let o=new e(i,s),a=new t(o);try{a.parse()}catch(u){throw process.env.NODE_ENV!=="production"&&u.name==="CssSyntaxError"&&s&&s.from&&(/\.scss$/i.test(s.from)?u.message+=`
You tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser`:/\.sass/i.test(s.from)?u.message+=`
You tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser`:/\.less$/i.test(s.from)&&(u.message+=`
You tried to parse Less with the standard CSS parser; try again with the postcss-less parser`)),u}return a.root}return ED=r,r.default=r,n.registerParse(r),ED}var wD,V9;function k7(){if(V9)return wD;V9=1;class n{constructor(t,r={}){if(this.type="warning",this.text=t,r.node&&r.node.source){let i=r.node.rangeBy(r);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in r)this[i]=r[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return wD=n,n.default=n,wD}var SD,q9;function ax(){if(q9)return SD;q9=1;let n=k7();class e{constructor(r,i,s){this.processor=r,this.messages=[],this.root=i,this.opts=s,this.css=void 0,this.map=void 0}toString(){return this.css}warn(r,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let s=new n(r,i);return this.messages.push(s),s}warnings(){return this.messages.filter(r=>r.type==="warning")}get content(){return this.css}}return SD=e,e.default=e,SD}var TD,j9;function M7(){if(j9)return TD;j9=1;let n={};return TD=function(t){n[t]||(n[t]=!0,typeof console<"u"&&console.warn&&console.warn(t))},TD}var CD,H9;function O7(){if(H9)return CD;H9=1;let n=Ol(),e=ix(),t=R7(),r=ox(),i=ax(),s=$m(),o=c1(),{isClean:a,my:u}=nx(),c=M7(),l={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},d={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},f={Once:!0,postcssPlugin:!0,prepare:!0},h=0;function g(T){return typeof T=="object"&&typeof T.then=="function"}function y(T){let x=!1,V=l[T.type];return T.type==="decl"?x=T.prop.toLowerCase():T.type==="atrule"&&(x=T.name.toLowerCase()),x&&T.append?[V,V+"-"+x,h,V+"Exit",V+"Exit-"+x]:x?[V,V+"-"+x,V+"Exit",V+"Exit-"+x]:T.append?[V,h,V+"Exit"]:[V,V+"Exit"]}function S(T){let x;return T.type==="document"?x=["Document",h,"DocumentExit"]:T.type==="root"?x=["Root",h,"RootExit"]:x=y(T),{eventIndex:0,events:x,iterator:0,node:T,visitorIndex:0,visitors:[]}}function _(T){return T[a]=!1,T.nodes&&T.nodes.forEach(x=>_(x)),T}let C={},I=(()=>{class T{constructor(V,R,A){this.stringified=!1,this.processed=!1;let N;if(typeof R=="object"&&R!==null&&(R.type==="root"||R.type==="document"))N=_(R);else if(R instanceof T||R instanceof i)N=_(R.root),R.map&&(typeof A.map>"u"&&(A.map={}),A.map.inline||(A.map.inline=!1),A.map.prev=R.map);else{let E=r;A.syntax&&(E=A.syntax.parse),A.parser&&(E=A.parser),E.parse&&(E=E.parse);try{N=E(R,A)}catch(D){this.processed=!0,this.error=D}N&&!N[u]&&n.rebuild(N)}this.result=new i(V,N,A),this.helpers=me(K({},C),{postcss:C,result:this.result}),this.plugins=this.processor.plugins.map(E=>typeof E=="object"&&E.prepare?K(K({},E),E.prepare(this.result)):E)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(V){return this.async().catch(V)}finally(V){return this.async().then(V,V)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(V,R){let A=this.result.lastPlugin;try{if(R&&R.addToError(V),this.error=V,V.name==="CssSyntaxError"&&!V.plugin)V.plugin=A.postcssPlugin,V.setMessage();else if(A.postcssVersion&&process.env.NODE_ENV!=="production"){let N=A.postcssPlugin,E=A.postcssVersion,D=this.result.processor.version,P=E.split("."),p=D.split(".");(P[0]!==p[0]||parseInt(P[1])>parseInt(p[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+D+", but "+N+" uses "+E+". Perhaps this is the source of the error below.")}}catch(N){console&&console.error&&console.error(N)}return V}prepareVisitors(){this.listeners={};let V=(R,A,N)=>{this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push([R,N])};for(let R of this.plugins)if(typeof R=="object")for(let A in R){if(!d[A]&&/^[A-Z]/.test(A))throw new Error(`Unknown event ${A} in ${R.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!f[A])if(typeof R[A]=="object")for(let N in R[A])N==="*"?V(R,A,R[A][N]):V(R,A+"-"+N.toLowerCase(),R[A][N]);else typeof R[A]=="function"&&V(R,A,R[A])}this.hasListener=Object.keys(this.listeners).length>0}runAsync(){return O(this,null,function*(){this.plugin=0;for(let V=0;V<this.plugins.length;V++){let R=this.plugins[V],A=this.runOnRoot(R);if(g(A))try{yield A}catch(N){throw this.handleError(N)}}if(this.prepareVisitors(),this.hasListener){let V=this.result.root;for(;!V[a];){V[a]=!0;let R=[S(V)];for(;R.length>0;){let A=this.visitTick(R);if(g(A))try{yield A}catch(N){let E=R[R.length-1].node;throw this.handleError(N,E)}}}if(this.listeners.OnceExit)for(let[R,A]of this.listeners.OnceExit){this.result.lastPlugin=R;try{if(V.type==="document"){let N=V.nodes.map(E=>A(E,this.helpers));yield Promise.all(N)}else yield A(V,this.helpers)}catch(N){throw this.handleError(N)}}}return this.processed=!0,this.stringify()})}runOnRoot(V){this.result.lastPlugin=V;try{if(typeof V=="object"&&V.Once){if(this.result.root.type==="document"){let R=this.result.root.nodes.map(A=>V.Once(A,this.helpers));return g(R[0])?Promise.all(R):R}return V.Once(this.result.root,this.helpers)}else if(typeof V=="function")return V(this.result.root,this.result)}catch(R){throw this.handleError(R)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let V=this.result.opts,R=o;V.syntax&&(R=V.syntax.stringify),V.stringifier&&(R=V.stringifier),R.stringify&&(R=R.stringify);let N=new t(R,this.result.root,this.result.opts).generate();return this.result.css=N[0],this.result.map=N[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let V of this.plugins){let R=this.runOnRoot(V);if(g(R))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let V=this.result.root;for(;!V[a];)V[a]=!0,this.walkSync(V);if(this.listeners.OnceExit)if(V.type==="document")for(let R of V.nodes)this.visitSync(this.listeners.OnceExit,R);else this.visitSync(this.listeners.OnceExit,V)}return this.result}then(V,R){return process.env.NODE_ENV!=="production"&&("from"in this.opts||c("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(V,R)}toString(){return this.css}visitSync(V,R){for(let[A,N]of V){this.result.lastPlugin=A;let E;try{E=N(R,this.helpers)}catch(D){throw this.handleError(D,R.proxyOf)}if(R.type!=="root"&&R.type!=="document"&&!R.parent)return!0;if(g(E))throw this.getAsyncError()}}visitTick(V){let R=V[V.length-1],{node:A,visitors:N}=R;if(A.type!=="root"&&A.type!=="document"&&!A.parent){V.pop();return}if(N.length>0&&R.visitorIndex<N.length){let[D,P]=N[R.visitorIndex];R.visitorIndex+=1,R.visitorIndex===N.length&&(R.visitors=[],R.visitorIndex=0),this.result.lastPlugin=D;try{return P(A.toProxy(),this.helpers)}catch(p){throw this.handleError(p,A)}}if(R.iterator!==0){let D=R.iterator,P;for(;P=A.nodes[A.indexes[D]];)if(A.indexes[D]+=1,!P[a]){P[a]=!0,V.push(S(P));return}R.iterator=0,delete A.indexes[D]}let E=R.events;for(;R.eventIndex<E.length;){let D=E[R.eventIndex];if(R.eventIndex+=1,D===h){A.nodes&&A.nodes.length&&(A[a]=!0,R.iterator=A.getIterator());return}else if(this.listeners[D]){R.visitors=this.listeners[D];return}}V.pop()}walkSync(V){V[a]=!0;let R=y(V);for(let A of R)if(A===h)V.nodes&&V.each(N=>{N[a]||this.walkSync(N)});else{let N=this.listeners[A];if(N&&this.visitSync(N,V.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}return T.registerPostcss=x=>{C=x},T})();return CD=I,I.default=I,s.registerLazyResult(I),e.registerLazyResult(I),CD}var ID,$9;function loe(){if($9)return ID;$9=1;let n=R7(),e=ox(),t=ax(),r=c1(),i=M7();class s{constructor(a,u,c){u=u.toString(),this.stringified=!1,this._processor=a,this._css=u,this._opts=c,this._map=void 0;let l,d=r;this.result=new t(this._processor,l,this._opts),this.result.css=u;let f=this;Object.defineProperty(this.result,"root",{get(){return f.root}});let h=new n(d,l,this._opts,u);if(h.isMap()){let[g,y]=h.generate();g&&(this.result.css=g),y&&(this.result.map=y)}else h.clearAnnotation(),this.result.css=h.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(a){return this.async().catch(a)}finally(a){return this.async().then(a,a)}sync(){if(this.error)throw this.error;return this.result}then(a,u){return process.env.NODE_ENV!=="production"&&("from"in this._opts||i("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(a,u)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let a,u=e;try{a=u(this._css,this._opts)}catch(c){this.error=c}if(this.error)throw this.error;return this._root=a,a}get[Symbol.toStringTag](){return"NoWorkResult"}}return ID=s,s.default=s,ID}var DD,z9;function doe(){if(z9)return DD;z9=1;let n=ix(),e=O7(),t=loe(),r=$m();class i{constructor(o=[]){this.version="8.5.2",this.plugins=this.normalize(o)}normalize(o){let a=[];for(let u of o)if(u.postcss===!0?u=u():u.postcss&&(u=u.postcss),typeof u=="object"&&Array.isArray(u.plugins))a=a.concat(u.plugins);else if(typeof u=="object"&&u.postcssPlugin)a.push(u);else if(typeof u=="function")a.push(u);else if(typeof u=="object"&&(u.parse||u.stringify)){if(process.env.NODE_ENV!=="production")throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.")}else throw new Error(u+" is not a PostCSS plugin");return a}process(o,a={}){return!this.plugins.length&&!a.parser&&!a.stringifier&&!a.syntax?new t(this,o,a):new e(this,o,a)}use(o){return this.plugins=this.plugins.concat(this.normalize([o])),this}}return DD=i,i.default=i,r.registerProcessor(i),n.registerProcessor(i),DD}var xD,G9;function foe(){if(G9)return xD;G9=1;let n=rx(),e=d1(),t=Ol(),r=tx(),i=f1(),s=ix(),o=aoe(),a=h1(),u=O7(),c=N7(),l=l1(),d=ox(),f=doe(),h=ax(),g=$m(),y=sx(),S=c1(),_=k7();function C(...I){return I.length===1&&Array.isArray(I[0])&&(I=I[0]),new f(I)}return C.plugin=function(T,x){let V=!1;function R(...N){console&&console.warn&&!V&&(V=!0,console.warn(T+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(T+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let E=x(...N);return E.postcssPlugin=T,E.postcssVersion=new f().version,E}let A;return Object.defineProperty(R,"postcss",{get(){return A||(A=R()),A}}),R.process=function(N,E,D){return C([R(D)]).process(N,E)},R},C.stringify=S,C.parse=d,C.fromJSON=o,C.list=c,C.comment=I=>new e(I),C.atRule=I=>new n(I),C.decl=I=>new i(I),C.rule=I=>new y(I),C.root=I=>new g(I),C.document=I=>new s(I),C.CssSyntaxError=r,C.Declaration=i,C.Container=t,C.Processor=f,C.Document=s,C.Comment=e,C.Warning=_,C.AtRule=n,C.Result=h,C.Input=a,C.Rule=y,C.Root=g,C.Node=l,u.registerPostcss(C),xD=C,C.default=C,xD}var hoe=foe(),gn=u1(hoe),poe=gn.stringify;gn.fromJSON;gn.plugin;var moe=gn.parse;gn.list;gn.document;gn.comment;gn.atRule;gn.rule;gn.decl;gn.root;gn.CssSyntaxError;gn.Declaration;gn.Container;gn.Processor;gn.Document;gn.Comment;gn.Warning;gn.AtRule;gn.Result;gn.Input;gn.Rule;gn.Root;gn.Node;var Wb={},Kb={},Qb={},W9;function P7(){if(W9)return Qb;W9=1,Object.defineProperty(Qb,"__esModule",{value:!0});function n(e){this.after=e.after,this.before=e.before,this.type=e.type,this.value=e.value,this.sourceIndex=e.sourceIndex}return Qb.default=n,Qb}var K9;function L7(){if(K9)return Kb;K9=1,Object.defineProperty(Kb,"__esModule",{value:!0});var n=P7(),e=t(n);function t(i){return i&&i.__esModule?i:{default:i}}function r(i){var s=this;this.constructor(i),this.nodes=i.nodes,this.after===void 0&&(this.after=this.nodes.length>0?this.nodes[this.nodes.length-1].after:""),this.before===void 0&&(this.before=this.nodes.length>0?this.nodes[0].before:""),this.sourceIndex===void 0&&(this.sourceIndex=this.before.length),this.nodes.forEach(function(o){o.parent=s})}return r.prototype=Object.create(e.default.prototype),r.constructor=e.default,r.prototype.walk=function(s,o){for(var a=typeof s=="string"||s instanceof RegExp,u=a?o:s,c=typeof s=="string"?new RegExp(s):s,l=0;l<this.nodes.length;l++){var d=this.nodes[l],f=a?c.test(d.type):!0;if(f&&u&&u(d,l,this.nodes)===!1||d.nodes&&d.walk(s,o)===!1)return!1}return!0},r.prototype.each=function(){for(var s=arguments.length<=0||arguments[0]===void 0?function(){}:arguments[0],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(s(a,o,this.nodes)===!1)return!1}return!0},Kb.default=r,Kb}var If={},Q9;function goe(){if(Q9)return If;Q9=1,Object.defineProperty(If,"__esModule",{value:!0}),If.parseMediaFeature=s,If.parseMediaQuery=o,If.parseMediaList=a;var n=P7(),e=i(n),t=L7(),r=i(t);function i(u){return u&&u.__esModule?u:{default:u}}function s(u){var c=arguments.length<=1||arguments[1]===void 0?0:arguments[1],l=[{mode:"normal",character:null}],d=[],f=0,h="",g=null,y=null,S=c,_=u;u[0]==="("&&u[u.length-1]===")"&&(_=u.substring(1,u.length-1),S++);for(var C=0;C<_.length;C++){var I=_[C];if((I==="'"||I==='"')&&(l[f].isCalculationEnabled===!0?(l.push({mode:"string",isCalculationEnabled:!1,character:I}),f++):l[f].mode==="string"&&l[f].character===I&&_[C-1]!=="\\"&&(l.pop(),f--)),I==="{"?(l.push({mode:"interpolation",isCalculationEnabled:!0}),f++):I==="}"&&(l.pop(),f--),l[f].mode==="normal"&&I===":"){var T=_.substring(C+1);y={type:"value",before:/^(\s*)/.exec(T)[1],after:/(\s*)$/.exec(T)[1],value:T.trim()},y.sourceIndex=y.before.length+C+1+S,g={type:"colon",sourceIndex:C+S,after:y.before,value:":"};break}h+=I}return h={type:"media-feature",before:/^(\s*)/.exec(h)[1],after:/(\s*)$/.exec(h)[1],value:h.trim()},h.sourceIndex=h.before.length+S,d.push(h),g!==null&&(g.before=h.after,d.push(g)),y!==null&&d.push(y),d}function o(u){var c=arguments.length<=1||arguments[1]===void 0?0:arguments[1],l=[],d=0,f=!1,h=void 0;function g(){return{before:"",after:"",value:""}}h=g();for(var y=0;y<u.length;y++){var S=u[y];f?(h.value+=S,(S==="{"||S==="(")&&d++,(S===")"||S==="}")&&d--):S.search(/\s/)!==-1?h.before+=S:(S==="("&&(h.type="media-feature-expression",d++),h.value=S,h.sourceIndex=c+y,f=!0),f&&d===0&&(S===")"||y===u.length-1||u[y+1].search(/\s/)!==-1)&&(["not","only","and"].indexOf(h.value)!==-1&&(h.type="keyword"),h.type==="media-feature-expression"&&(h.nodes=s(h.value,h.sourceIndex)),l.push(Array.isArray(h.nodes)?new r.default(h):new e.default(h)),h=g(),f=!1)}for(var _=0;_<l.length;_++)if(h=l[_],_>0&&(l[_-1].after=h.before),h.type===void 0){if(_>0){if(l[_-1].type==="media-feature-expression"){h.type="keyword";continue}if(l[_-1].value==="not"||l[_-1].value==="only"){h.type="media-type";continue}if(l[_-1].value==="and"){h.type="media-feature-expression";continue}l[_-1].type==="media-type"&&(l[_+1]?h.type=l[_+1].type==="media-feature-expression"?"keyword":"media-feature-expression":h.type="media-feature-expression")}if(_===0){if(!l[_+1]){h.type="media-type";continue}if(l[_+1]&&(l[_+1].type==="media-feature-expression"||l[_+1].type==="keyword")){h.type="media-type";continue}if(l[_+2]){if(l[_+2].type==="media-feature-expression"){h.type="media-type",l[_+1].type="keyword";continue}if(l[_+2].type==="keyword"){h.type="keyword",l[_+1].type="media-type";continue}}if(l[_+3]&&l[_+3].type==="media-feature-expression"){h.type="keyword",l[_+1].type="media-type",l[_+2].type="keyword";continue}}}return l}function a(u){var c=[],l=0,d=0,f=/^(\s*)url\s*\(/.exec(u);if(f!==null){for(var h=f[0].length,g=1;g>0;){var y=u[h];y==="("&&g++,y===")"&&g--,h++}c.unshift(new e.default({type:"url",value:u.substring(0,h).trim(),sourceIndex:f[1].length,before:f[1],after:/^(\s*)/.exec(u.substring(h))[1]})),l=h}for(var S=l;S<u.length;S++){var _=u[S];if(_==="("&&d++,_===")"&&d--,d===0&&_===","){var C=u.substring(l,S),I=/^(\s*)/.exec(C)[1];c.push(new r.default({type:"media-query",value:C.trim(),sourceIndex:l+I.length,nodes:o(C,l),before:I,after:/(\s*)$/.exec(C)[1]})),l=S+1}}var T=u.substring(l),x=/^(\s*)/.exec(T)[1];return c.push(new r.default({type:"media-query",value:T.trim(),sourceIndex:l+x.length,nodes:o(T,l),before:x,after:/(\s*)$/.exec(T)[1]})),c}return If}var Y9;function yoe(){if(Y9)return Wb;Y9=1,Object.defineProperty(Wb,"__esModule",{value:!0}),Wb.default=i;var n=L7(),e=r(n),t=goe();function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return new e.default({nodes:(0,t.parseMediaList)(s),type:"media-query-list",value:s.trim()})}return Wb}var voe=yoe(),AD=u1(voe),Ht=function(n){return n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype",n}(Ht||{});function boe(n){return n.type===Ht.Tag||n.type===Ht.Script||n.type===Ht.Style}var _oe=Ht.Root,Eoe=Ht.Text,woe=Ht.Directive,Soe=Ht.Comment,Toe=Ht.Script,Coe=Ht.Style,Ioe=Ht.Tag,Doe=Ht.CDATA,xoe=Ht.Doctype,Xb=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return U7(this,e)}},qm=class extends Xb{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}},Rl=class extends qm{constructor(){super(...arguments),this.type=Ht.Text}get nodeType(){return 3}},e1=class extends qm{constructor(){super(...arguments),this.type=Ht.Comment}get nodeType(){return 8}},t1=class extends qm{constructor(e,t){super(t),this.name=e,this.type=Ht.Directive}get nodeType(){return 1}},jm=class extends Xb{constructor(e){super(),this.children=e}get firstChild(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}},n1=class extends jm{constructor(){super(...arguments),this.type=Ht.CDATA}get nodeType(){return 4}},Hm=class extends jm{constructor(){super(...arguments),this.type=Ht.Root}get nodeType(){return 9}},Af=class extends jm{constructor(e,t,r=[],i=e==="script"?Ht.Script:e==="style"?Ht.Style:Ht.Tag){super(r),this.name=e,this.attribs=t,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var t,r;return{name:e,value:this.attribs[e],namespace:(t=this["x-attribsNamespace"])===null||t===void 0?void 0:t[e],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[e]}})}};function Ci(n){return boe(n)}function p1(n){return n.type===Ht.CDATA}function kl(n){return n.type===Ht.Text}function ux(n){return n.type===Ht.Comment}function Aoe(n){return n.type===Ht.Directive}function F7(n){return n.type===Ht.Root}function Ls(n){return Object.prototype.hasOwnProperty.call(n,"children")}function U7(n,e=!1){let t;if(kl(n))t=new Rl(n.data);else if(ux(n))t=new e1(n.data);else if(Ci(n)){let r=e?ND(n.children):[],i=new Af(n.name,K({},n.attribs),r);r.forEach(s=>s.parent=i),n.namespace!=null&&(i.namespace=n.namespace),n["x-attribsNamespace"]&&(i["x-attribsNamespace"]=K({},n["x-attribsNamespace"])),n["x-attribsPrefix"]&&(i["x-attribsPrefix"]=K({},n["x-attribsPrefix"])),t=i}else if(p1(n)){let r=e?ND(n.children):[],i=new n1(r);r.forEach(s=>s.parent=i),t=i}else if(F7(n)){let r=e?ND(n.children):[],i=new Hm(r);r.forEach(s=>s.parent=i),n["x-mode"]&&(i["x-mode"]=n["x-mode"]),t=i}else if(Aoe(n)){let r=new t1(n.name,n.data);n["x-name"]!=null&&(r["x-name"]=n["x-name"],r["x-publicId"]=n["x-publicId"],r["x-systemId"]=n["x-systemId"]),t=r}else throw new Error(`Not implemented yet: ${n.type}`);return t.startIndex=n.startIndex,t.endIndex=n.endIndex,n.sourceCodeLocation!=null&&(t.sourceCodeLocation=n.sourceCodeLocation),t}function ND(n){let e=n.map(t=>U7(t,!0));for(let t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}var J9={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},VD=class{constructor(e,t,r){this.dom=[],this.root=new Hm(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=J9),typeof e=="object"&&(t=e,e=void 0),this.callback=e??null,this.options=t??J9,this.elementCB=r??null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new Hm(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;let e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,t){let r=this.options.xmlMode?Ht.Tag:void 0,i=new Af(e,t,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(e){let{lastNode:t}=this;if(t&&t.type===Ht.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{let r=new Rl(e);this.addNode(r),this.lastNode=r}}oncomment(e){if(this.lastNode&&this.lastNode.type===Ht.Comment){this.lastNode.data+=e;return}let t=new e1(e);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){let e=new Rl(""),t=new n1([e]);this.addNode(t),e.parent=t,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,t){let r=new t1(e,t);this.addNode(r)}handleCallback(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e}addNode(e){let t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),r&&(e.prev=r,r.next=e),e.parent=t,this.lastNode=null}};var RD;var e4e=(RD=String.fromCodePoint)!==null&&RD!==void 0?RD:function(n){let e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};var Z9=/["&'<>$\x80-\uFFFF]/g,Noe=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),Roe=String.prototype.codePointAt!=null?(n,e)=>n.codePointAt(e):(n,e)=>(n.charCodeAt(e)&64512)===55296?(n.charCodeAt(e)-55296)*1024+n.charCodeAt(e+1)-56320+65536:n.charCodeAt(e);function B7(n){let e="",t=0,r;for(;(r=Z9.exec(n))!==null;){let i=r.index,s=n.charCodeAt(i),o=Noe.get(s);o!==void 0?(e+=n.substring(t,i)+o,t=i+1):(e+=`${n.substring(t,i)}&#x${Roe(n,i).toString(16)};`,t=Z9.lastIndex+=+((s&64512)===55296))}return e+n.substr(t)}function V7(n,e){return function(r){let i,s=0,o="";for(;i=n.exec(r);)s!==i.index&&(o+=r.substring(s,i.index)),o+=e.get(i[0].charCodeAt(0)),s=i.index+1;return o+r.substring(s)}}var koe=V7(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Moe=V7(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var Ooe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(n=>[n.toLowerCase(),n])),Poe=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(n=>[n.toLowerCase(),n])),Loe=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Foe(n){return n.replace(/"/g,"&quot;")}function Uoe(n,e){var t;if(!n)return;let r=((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)===!1?Foe:e.xmlMode||e.encodeEntities!=="utf8"?B7:koe;return Object.keys(n).map(i=>{var s,o;let a=(s=n[i])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(i=(o=Poe.get(i))!==null&&o!==void 0?o:i),!e.emptyAttrs&&!e.xmlMode&&a===""?i:`${i}="${r(a)}"`}).join(" ")}var X9=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function m1(n,e={}){let t="length"in n?n:[n],r="";for(let i=0;i<t.length;i++)r+=Boe(t[i],e);return r}function Boe(n,e){switch(n.type){case _oe:return m1(n.children,e);case xoe:case woe:return Hoe(n);case Soe:return Goe(n);case Doe:return zoe(n);case Toe:case Coe:case Ioe:return joe(n,e);case Eoe:return $oe(n,e)}}var Voe=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),qoe=new Set(["svg","math"]);function joe(n,e){var t;e.xmlMode==="foreign"&&(n.name=(t=Ooe.get(n.name))!==null&&t!==void 0?t:n.name,n.parent&&Voe.has(n.parent.name)&&(e=me(K({},e),{xmlMode:!1}))),!e.xmlMode&&qoe.has(n.name)&&(e=me(K({},e),{xmlMode:"foreign"}));let r=`<${n.name}`,i=Uoe(n.attribs,e);return i&&(r+=` ${i}`),n.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&X9.has(n.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",n.children.length>0&&(r+=m1(n.children,e)),(e.xmlMode||!X9.has(n.name))&&(r+=`</${n.name}>`)),r}function Hoe(n){return`<${n.data}>`}function $oe(n,e){var t;let r=n.data||"";return((t=e.encodeEntities)!==null&&t!==void 0?t:e.decodeEntities)!==!1&&!(!e.xmlMode&&n.parent&&Loe.has(n.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?B7(r):Moe(r)),r}function zoe(n){return`<![CDATA[${n.children[0].data}]]>`}function Goe(n){return`<!--${n.data}-->`}function q7(n,e){return m1(n,e)}function Woe(n,e){return Ls(n)?n.children.map(t=>q7(t,e)).join(""):""}function Bm(n){return Array.isArray(n)?n.map(Bm).join(""):Ci(n)?n.name==="br"?`
`:Bm(n.children):p1(n)?Bm(n.children):kl(n)?n.data:""}function r1(n){return Array.isArray(n)?n.map(r1).join(""):Ls(n)&&!ux(n)?r1(n.children):kl(n)?n.data:""}function qD(n){return Array.isArray(n)?n.map(qD).join(""):Ls(n)&&(n.type===Ht.Tag||p1(n))?qD(n.children):kl(n)?n.data:""}function j7(n){return Ls(n)?n.children:[]}function H7(n){return n.parent||null}function Koe(n){let e=H7(n);if(e!=null)return j7(e);let t=[n],{prev:r,next:i}=n;for(;r!=null;)t.unshift(r),{prev:r}=r;for(;i!=null;)t.push(i),{next:i}=i;return t}function Qoe(n,e){var t;return(t=n.attribs)===null||t===void 0?void 0:t[e]}function Yoe(n,e){return n.attribs!=null&&Object.prototype.hasOwnProperty.call(n.attribs,e)&&n.attribs[e]!=null}function Joe(n){return n.name}function Zoe(n){let{next:e}=n;for(;e!==null&&!Ci(e);)({next:e}=e);return e}function Xoe(n){let{prev:e}=n;for(;e!==null&&!Ci(e);)({prev:e}=e);return e}function Ml(n){if(n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),n.parent){let e=n.parent.children,t=e.lastIndexOf(n);t>=0&&e.splice(t,1)}n.next=null,n.prev=null,n.parent=null}function eae(n,e){let t=e.prev=n.prev;t&&(t.next=e);let r=e.next=n.next;r&&(r.prev=e);let i=e.parent=n.parent;if(i){let s=i.children;s[s.lastIndexOf(n)]=e,n.parent=null}}function jD(n,e){if(Ml(e),e.next=null,e.parent=n,n.children.push(e)>1){let t=n.children[n.children.length-2];t.next=e,e.prev=t}else e.prev=null}function tae(n,e){Ml(e);let{parent:t}=n,r=n.next;if(e.next=r,e.prev=n,n.next=e,e.parent=t,r){if(r.prev=e,t){let i=t.children;i.splice(i.lastIndexOf(r),0,e)}}else t&&t.children.push(e)}function nae(n,e){if(Ml(e),e.parent=n,e.prev=null,n.children.unshift(e)!==1){let t=n.children[1];t.prev=e,e.next=t}else e.next=null}function $7(n,e){Ml(e);let{parent:t}=n;if(t){let r=t.children;r.splice(r.indexOf(n),0,e)}n.prev&&(n.prev.next=e),e.parent=t,e.prev=n.prev,e.next=n,n.prev=e}function zm(n,e,t=!0,r=1/0){return z7(n,Array.isArray(e)?e:[e],t,r)}function z7(n,e,t,r){let i=[],s=[Array.isArray(e)?e:[e]],o=[0];for(;;){if(o[0]>=s[0].length){if(o.length===1)return i;s.shift(),o.shift();continue}let a=s[0][o[0]++];if(n(a)&&(i.push(a),--r<=0))return i;t&&Ls(a)&&a.children.length>0&&(o.unshift(0),s.unshift(a.children))}}function rae(n,e){return e.find(n)}function cx(n,e,t=!0){let r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){let s=r[i];if(Ci(s)&&n(s))return s;if(t&&Ls(s)&&s.children.length>0){let o=cx(n,s.children,!0);if(o)return o}}return null}function G7(n,e){return(Array.isArray(e)?e:[e]).some(t=>Ci(t)&&n(t)||Ls(t)&&G7(n,t.children))}function iae(n,e){let t=[],r=[Array.isArray(e)?e:[e]],i=[0];for(;;){if(i[0]>=r[0].length){if(r.length===1)return t;r.shift(),i.shift();continue}let s=r[0][i[0]++];Ci(s)&&n(s)&&t.push(s),Ls(s)&&s.children.length>0&&(i.unshift(0),r.unshift(s.children))}}var i1={tag_name(n){return typeof n=="function"?e=>Ci(e)&&n(e.name):n==="*"?Ci:e=>Ci(e)&&e.name===n},tag_type(n){return typeof n=="function"?e=>n(e.type):e=>e.type===n},tag_contains(n){return typeof n=="function"?e=>kl(e)&&n(e.data):e=>kl(e)&&e.data===n}};function lx(n,e){return typeof e=="function"?t=>Ci(t)&&e(t.attribs[n]):t=>Ci(t)&&t.attribs[n]===e}function sae(n,e){return t=>n(t)||e(t)}function W7(n){let e=Object.keys(n).map(t=>{let r=n[t];return Object.prototype.hasOwnProperty.call(i1,t)?i1[t](r):lx(t,r)});return e.length===0?null:e.reduce(sae)}function oae(n,e){let t=W7(n);return t?t(e):!0}function aae(n,e,t,r=1/0){let i=W7(n);return i?zm(i,e,t,r):[]}function uae(n,e,t=!0){return Array.isArray(e)||(e=[e]),cx(lx("id",n),e,t)}function Nf(n,e,t=!0,r=1/0){return zm(i1.tag_name(n),e,t,r)}function cae(n,e,t=!0,r=1/0){return zm(lx("class",n),e,t,r)}function lae(n,e,t=!0,r=1/0){return zm(i1.tag_type(n),e,t,r)}function dae(n){let e=n.length;for(;--e>=0;){let t=n[e];if(e>0&&n.lastIndexOf(t,e-1)>=0){n.splice(e,1);continue}for(let r=t.parent;r;r=r.parent)if(n.includes(r)){n.splice(e,1);break}}return n}var Os=function(n){return n[n.DISCONNECTED=1]="DISCONNECTED",n[n.PRECEDING=2]="PRECEDING",n[n.FOLLOWING=4]="FOLLOWING",n[n.CONTAINS=8]="CONTAINS",n[n.CONTAINED_BY=16]="CONTAINED_BY",n}(Os||{});function K7(n,e){let t=[],r=[];if(n===e)return 0;let i=Ls(n)?n:n.parent;for(;i;)t.unshift(i),i=i.parent;for(i=Ls(e)?e:e.parent;i;)r.unshift(i),i=i.parent;let s=Math.min(t.length,r.length),o=0;for(;o<s&&t[o]===r[o];)o++;if(o===0)return Os.DISCONNECTED;let a=t[o-1],u=a.children,c=t[o],l=r[o];return u.indexOf(c)>u.indexOf(l)?a===e?Os.FOLLOWING|Os.CONTAINED_BY:Os.FOLLOWING:a===n?Os.PRECEDING|Os.CONTAINS:Os.PRECEDING}function fae(n){return n=n.filter((e,t,r)=>!r.includes(e,t+1)),n.sort((e,t)=>{let r=K7(e,t);return r&Os.PRECEDING?-1:r&Os.FOLLOWING?1:0}),n}function hae(n){let e=s1(vae,n);return e?e.name==="feed"?pae(e):mae(e):null}function pae(n){var e;let t=n.children,r={type:"atom",items:Nf("entry",t).map(o=>{var a;let{children:u}=o,c={media:Q7(u)};li(c,"id","id",u),li(c,"title","title",u);let l=(a=s1("link",u))===null||a===void 0?void 0:a.attribs.href;l&&(c.link=l);let d=ku("summary",u)||ku("content",u);d&&(c.description=d);let f=ku("updated",u);return f&&(c.pubDate=new Date(f)),c})};li(r,"id","id",t),li(r,"title","title",t);let i=(e=s1("link",t))===null||e===void 0?void 0:e.attribs.href;i&&(r.link=i),li(r,"description","subtitle",t);let s=ku("updated",t);return s&&(r.updated=new Date(s)),li(r,"author","email",t,!0),r}function mae(n){var e,t;let r=(t=(e=s1("channel",n.children))===null||e===void 0?void 0:e.children)!==null&&t!==void 0?t:[],i={type:n.name.substr(0,3),id:"",items:Nf("item",n.children).map(o=>{let{children:a}=o,u={media:Q7(a)};li(u,"id","guid",a),li(u,"title","title",a),li(u,"link","link",a),li(u,"description","description",a);let c=ku("pubDate",a)||ku("dc:date",a);return c&&(u.pubDate=new Date(c)),u})};li(i,"title","title",r),li(i,"link","link",r),li(i,"description","description",r);let s=ku("lastBuildDate",r);return s&&(i.updated=new Date(s)),li(i,"author","managingEditor",r,!0),i}var gae=["url","type","lang"],yae=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function Q7(n){return Nf("media:content",n).map(e=>{let{attribs:t}=e,r={medium:t.medium,isDefault:!!t.isDefault};for(let i of gae)t[i]&&(r[i]=t[i]);for(let i of yae)t[i]&&(r[i]=parseInt(t[i],10));return t.expression&&(r.expression=t.expression),r})}function s1(n,e){return Nf(n,e,!0,1)[0]}function ku(n,e,t=!1){return r1(Nf(n,e,t,1)).trim()}function li(n,e,t,r,i=!1){let s=ku(t,r,i);s&&(n[e]=s)}function vae(n){return n==="rss"||n==="feed"||n==="rdf:RDF"}var Y7=Object.freeze({__proto__:null,get DocumentPosition(){return Os},append:tae,appendChild:jD,compareDocumentPosition:K7,existsOne:G7,filter:zm,find:z7,findAll:iae,findOne:cx,findOneChild:rae,getAttributeValue:Qoe,getChildren:j7,getElementById:uae,getElements:aae,getElementsByClassName:cae,getElementsByTagName:Nf,getElementsByTagType:lae,getFeed:hae,getInnerHTML:Woe,getName:Joe,getOuterHTML:q7,getParent:H7,getSiblings:Koe,getText:Bm,hasAttrib:Yoe,hasChildren:Ls,innerText:qD,isCDATA:p1,isComment:ux,isDocument:F7,isTag:Ci,isText:kl,nextElementSibling:Zoe,prepend:$7,prependChild:nae,prevElementSibling:Xoe,removeElement:Ml,removeSubsets:dae,replaceElement:eae,testElement:oae,textContent:r1,uniqueSort:fae}),kD,e7;function bae(){return e7||(e7=1,kD={trueFunc:function(){return!0},falseFunc:function(){return!1}}),kD}var _ae=bae(),dt=u1(_ae),Ge=function(n){return n.Attribute="attribute",n.Pseudo="pseudo",n.PseudoElement="pseudo-element",n.Tag="tag",n.Universal="universal",n.Adjacent="adjacent",n.Child="child",n.Descendant="descendant",n.Parent="parent",n.Sibling="sibling",n.ColumnCombinator="column-combinator",n}(Ge||{}),cr=function(n){return n.Any="any",n.Element="element",n.End="end",n.Equals="equals",n.Exists="exists",n.Hyphen="hyphen",n.Not="not",n.Start="start",n}(cr||{}),t7=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,Eae=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,wae=new Map([[126,cr.Element],[94,cr.Start],[36,cr.End],[42,cr.Any],[33,cr.Not],[124,cr.Hyphen]]),Sae=new Set(["has","not","matches","is","where","host","host-context"]);function Tae(n){switch(n.type){case Ge.Adjacent:case Ge.Child:case Ge.Descendant:case Ge.Parent:case Ge.Sibling:case Ge.ColumnCombinator:return!0;default:return!1}}var Cae=new Set(["contains","icontains"]);function Iae(n,e,t){let r=parseInt(e,16)-65536;return r!==r||t?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function Fm(n){return n.replace(Eae,Iae)}function MD(n){return n===39||n===34}function n7(n){return n===32||n===9||n===10||n===12||n===13}function dx(n){let e=[],t=J7(e,`${n}`,0);if(t<n.length)throw new Error(`Unmatched selector: ${n.slice(t)}`);return e}function J7(n,e,t){let r=[];function i(f){let h=e.slice(t+f).match(t7);if(!h)throw new Error(`Expected name, found ${e.slice(t)}`);let[g]=h;return t+=f+g.length,Fm(g)}function s(f){for(t+=f;t<e.length&&n7(e.charCodeAt(t));)t++}function o(){t+=1;let f=t,h=1;for(;h>0&&t<e.length;t++)e.charCodeAt(t)===40&&!a(t)?h++:e.charCodeAt(t)===41&&!a(t)&&h--;if(h)throw new Error("Parenthesis not matched");return Fm(e.slice(f,t-1))}function a(f){let h=0;for(;e.charCodeAt(--f)===92;)h++;return(h&1)===1}function u(){if(r.length>0&&Tae(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function c(f){if(r.length>0&&r[r.length-1].type===Ge.Descendant){r[r.length-1].type=f;return}u(),r.push({type:f})}function l(f,h){r.push({type:Ge.Attribute,name:f,action:h,value:i(1),namespace:null,ignoreCase:"quirks"})}function d(){if(r.length&&r[r.length-1].type===Ge.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");n.push(r)}if(s(0),e.length===t)return t;e:for(;t<e.length;){let f=e.charCodeAt(t);switch(f){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==Ge.Descendant)&&(u(),r.push({type:Ge.Descendant})),s(1);break}case 62:{c(Ge.Child),s(1);break}case 60:{c(Ge.Parent),s(1);break}case 126:{c(Ge.Sibling),s(1);break}case 43:{c(Ge.Adjacent),s(1);break}case 46:{l("class",cr.Element);break}case 35:{l("id",cr.Equals);break}case 91:{s(1);let h,g=null;e.charCodeAt(t)===124?h=i(1):e.startsWith("*|",t)?(g="*",h=i(2)):(h=i(0),e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==61&&(g=h,h=i(1))),s(0);let y=cr.Exists,S=wae.get(e.charCodeAt(t));if(S){if(y=S,e.charCodeAt(t+1)!==61)throw new Error("Expected `=`");s(2)}else e.charCodeAt(t)===61&&(y=cr.Equals,s(1));let _="",C=null;if(y!=="exists"){if(MD(e.charCodeAt(t))){let x=e.charCodeAt(t),V=t+1;for(;V<e.length&&(e.charCodeAt(V)!==x||a(V));)V+=1;if(e.charCodeAt(V)!==x)throw new Error("Attribute value didn't end");_=Fm(e.slice(t+1,V)),t=V+1}else{let x=t;for(;t<e.length&&(!n7(e.charCodeAt(t))&&e.charCodeAt(t)!==93||a(t));)t+=1;_=Fm(e.slice(x,t))}s(0);let T=e.charCodeAt(t)|32;T===115?(C=!1,s(1)):T===105&&(C=!0,s(1))}if(e.charCodeAt(t)!==93)throw new Error("Attribute selector didn't terminate");t+=1;let I={type:Ge.Attribute,name:h,action:y,value:_,namespace:g,ignoreCase:C};r.push(I);break}case 58:{if(e.charCodeAt(t+1)===58){r.push({type:Ge.PseudoElement,name:i(2).toLowerCase(),data:e.charCodeAt(t)===40?o():null});continue}let h=i(1).toLowerCase(),g=null;if(e.charCodeAt(t)===40)if(Sae.has(h)){if(MD(e.charCodeAt(t+1)))throw new Error(`Pseudo-selector ${h} cannot be quoted`);if(g=[],t=J7(g,e,t+1),e.charCodeAt(t)!==41)throw new Error(`Missing closing parenthesis in :${h} (${e})`);t+=1}else{if(g=o(),Cae.has(h)){let y=g.charCodeAt(0);y===g.charCodeAt(g.length-1)&&MD(y)&&(g=g.slice(1,-1))}g=Fm(g)}r.push({type:Ge.Pseudo,name:h,data:g});break}case 44:{d(),r=[],s(1);break}default:{if(e.startsWith("/*",t)){let y=e.indexOf("*/",t+2);if(y<0)throw new Error("Comment was not terminated");t=y+2,r.length===0&&s(0);break}let h=null,g;if(f===42)t+=1,g="*";else if(f===124){if(g="",e.charCodeAt(t+1)===124){c(Ge.ColumnCombinator),s(2);break}}else if(t7.test(e.slice(t)))g=i(0);else break e;e.charCodeAt(t)===124&&e.charCodeAt(t+1)!==124&&(h=g,e.charCodeAt(t+1)===42?(g="*",t+=2):g=i(1)),r.push(g==="*"?{type:Ge.Universal,namespace:h}:{type:Ge.Tag,name:g,namespace:h})}}}return d(),t}var Dae=["\\",'"'],t4e=[...Dae,"(",")"],Z7=new Map([[Ge.Universal,50],[Ge.Tag,30],[Ge.Attribute,1],[Ge.Pseudo,0]]);function fx(n){return!Z7.has(n.type)}var xae=new Map([[cr.Exists,10],[cr.Equals,8],[cr.Not,7],[cr.Start,6],[cr.End,6],[cr.Any,5]]);function Aae(n){let e=n.map(X7);for(let t=1;t<n.length;t++){let r=e[t];if(!(r<0))for(let i=t-1;i>=0&&r<e[i];i--){let s=n[i+1];n[i+1]=n[i],n[i]=s,e[i+1]=e[i],e[i]=r}}}function X7(n){var e,t;let r=(e=Z7.get(n.type))!==null&&e!==void 0?e:-1;return n.type===Ge.Attribute?(r=(t=xae.get(n.action))!==null&&t!==void 0?t:4,n.action===cr.Equals&&n.name==="id"&&(r=9),n.ignoreCase&&(r>>=1)):n.type===Ge.Pseudo&&(n.data?n.name==="has"||n.name==="contains"?r=0:Array.isArray(n.data)?(r=Math.min(...n.data.map(i=>Math.min(...i.map(X7)))),r<0&&(r=0)):r=2:r=3),r}var Nae=/[-[\]{}()*+?.,\\^$|#\s]/g;function r7(n){return n.replace(Nae,"\\$&")}var Rae=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function xl(n,e){return typeof n.ignoreCase=="boolean"?n.ignoreCase:n.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&Rae.has(n.name)}var kae={equals(n,e,t){let{adapter:r}=t,{name:i}=e,{value:s}=e;return xl(e,t)?(s=s.toLowerCase(),o=>{let a=r.getAttributeValue(o,i);return a!=null&&a.length===s.length&&a.toLowerCase()===s&&n(o)}):o=>r.getAttributeValue(o,i)===s&&n(o)},hyphen(n,e,t){let{adapter:r}=t,{name:i}=e,{value:s}=e,o=s.length;return xl(e,t)?(s=s.toLowerCase(),function(u){let c=r.getAttributeValue(u,i);return c!=null&&(c.length===o||c.charAt(o)==="-")&&c.substr(0,o).toLowerCase()===s&&n(u)}):function(u){let c=r.getAttributeValue(u,i);return c!=null&&(c.length===o||c.charAt(o)==="-")&&c.substr(0,o)===s&&n(u)}},element(n,e,t){let{adapter:r}=t,{name:i,value:s}=e;if(/\s/.test(s))return dt.falseFunc;let o=new RegExp(`(?:^|\\s)${r7(s)}(?:$|\\s)`,xl(e,t)?"i":"");return function(u){let c=r.getAttributeValue(u,i);return c!=null&&c.length>=s.length&&o.test(c)&&n(u)}},exists(n,{name:e},{adapter:t}){return r=>t.hasAttrib(r,e)&&n(r)},start(n,e,t){let{adapter:r}=t,{name:i}=e,{value:s}=e,o=s.length;return o===0?dt.falseFunc:xl(e,t)?(s=s.toLowerCase(),a=>{let u=r.getAttributeValue(a,i);return u!=null&&u.length>=o&&u.substr(0,o).toLowerCase()===s&&n(a)}):a=>{var u;return!!(!((u=r.getAttributeValue(a,i))===null||u===void 0)&&u.startsWith(s))&&n(a)}},end(n,e,t){let{adapter:r}=t,{name:i}=e,{value:s}=e,o=-s.length;return o===0?dt.falseFunc:xl(e,t)?(s=s.toLowerCase(),a=>{var u;return((u=r.getAttributeValue(a,i))===null||u===void 0?void 0:u.substr(o).toLowerCase())===s&&n(a)}):a=>{var u;return!!(!((u=r.getAttributeValue(a,i))===null||u===void 0)&&u.endsWith(s))&&n(a)}},any(n,e,t){let{adapter:r}=t,{name:i,value:s}=e;if(s==="")return dt.falseFunc;if(xl(e,t)){let o=new RegExp(r7(s),"i");return function(u){let c=r.getAttributeValue(u,i);return c!=null&&c.length>=s.length&&o.test(c)&&n(u)}}return o=>{var a;return!!(!((a=r.getAttributeValue(o,i))===null||a===void 0)&&a.includes(s))&&n(o)}},not(n,e,t){let{adapter:r}=t,{name:i}=e,{value:s}=e;return s===""?o=>!!r.getAttributeValue(o,i)&&n(o):xl(e,t)?(s=s.toLowerCase(),o=>{let a=r.getAttributeValue(o,i);return(a==null||a.length!==s.length||a.toLowerCase()!==s)&&n(o)}):o=>r.getAttributeValue(o,i)!==s&&n(o)}},Mae=new Set([9,10,12,13,32]),i7=48,Oae=57;function Pae(n){if(n=n.trim().toLowerCase(),n==="even")return[2,0];if(n==="odd")return[2,1];let e=0,t=0,r=s(),i=o();if(e<n.length&&n.charAt(e)==="n"&&(e++,t=r*(i??1),a(),e<n.length?(r=s(),a(),i=o()):r=i=0),i===null||e<n.length)throw new Error(`n-th rule couldn't be parsed ('${n}')`);return[t,r*i];function s(){return n.charAt(e)==="-"?(e++,-1):(n.charAt(e)==="+"&&e++,1)}function o(){let u=e,c=0;for(;e<n.length&&n.charCodeAt(e)>=i7&&n.charCodeAt(e)<=Oae;)c=c*10+(n.charCodeAt(e)-i7),e++;return e===u?null:c}function a(){for(;e<n.length&&Mae.has(n.charCodeAt(e));)e++}}function Lae(n){let e=n[0],t=n[1]-1;if(t<0&&e<=0)return dt.falseFunc;if(e===-1)return s=>s<=t;if(e===0)return s=>s===t;if(e===1)return t<0?dt.trueFunc:s=>s>=t;let r=Math.abs(e),i=(t%r+r)%r;return e>1?s=>s>=t&&s%r===i:s=>s<=t&&s%r===i}function Yb(n){return Lae(Pae(n))}function Jb(n,e){return t=>{let r=e.getParent(t);return r!=null&&e.isTag(r)&&n(t)}}var HD={contains(n,e,{adapter:t}){return function(i){return n(i)&&t.getText(i).includes(e)}},icontains(n,e,{adapter:t}){let r=e.toLowerCase();return function(s){return n(s)&&t.getText(s).toLowerCase().includes(r)}},"nth-child"(n,e,{adapter:t,equals:r}){let i=Yb(e);return i===dt.falseFunc?dt.falseFunc:i===dt.trueFunc?Jb(n,t):function(o){let a=t.getSiblings(o),u=0;for(let c=0;c<a.length&&!r(o,a[c]);c++)t.isTag(a[c])&&u++;return i(u)&&n(o)}},"nth-last-child"(n,e,{adapter:t,equals:r}){let i=Yb(e);return i===dt.falseFunc?dt.falseFunc:i===dt.trueFunc?Jb(n,t):function(o){let a=t.getSiblings(o),u=0;for(let c=a.length-1;c>=0&&!r(o,a[c]);c--)t.isTag(a[c])&&u++;return i(u)&&n(o)}},"nth-of-type"(n,e,{adapter:t,equals:r}){let i=Yb(e);return i===dt.falseFunc?dt.falseFunc:i===dt.trueFunc?Jb(n,t):function(o){let a=t.getSiblings(o),u=0;for(let c=0;c<a.length;c++){let l=a[c];if(r(o,l))break;t.isTag(l)&&t.getName(l)===t.getName(o)&&u++}return i(u)&&n(o)}},"nth-last-of-type"(n,e,{adapter:t,equals:r}){let i=Yb(e);return i===dt.falseFunc?dt.falseFunc:i===dt.trueFunc?Jb(n,t):function(o){let a=t.getSiblings(o),u=0;for(let c=a.length-1;c>=0;c--){let l=a[c];if(r(o,l))break;t.isTag(l)&&t.getName(l)===t.getName(o)&&u++}return i(u)&&n(o)}},root(n,e,{adapter:t}){return r=>{let i=t.getParent(r);return(i==null||!t.isTag(i))&&n(r)}},scope(n,e,t,r){let{equals:i}=t;return!r||r.length===0?HD.root(n,e,t):r.length===1?s=>i(r[0],s)&&n(s):s=>r.includes(s)&&n(s)},hover:OD("isHovered"),visited:OD("isVisited"),active:OD("isActive")};function OD(n){return function(t,r,{adapter:i}){let s=i[n];return typeof s!="function"?dt.falseFunc:function(a){return s(a)&&t(a)}}}var s7={empty(n,{adapter:e}){return!e.getChildren(n).some(t=>e.isTag(t)||e.getText(t)!=="")},"first-child"(n,{adapter:e,equals:t}){if(e.prevElementSibling)return e.prevElementSibling(n)==null;let r=e.getSiblings(n).find(i=>e.isTag(i));return r!=null&&t(n,r)},"last-child"(n,{adapter:e,equals:t}){let r=e.getSiblings(n);for(let i=r.length-1;i>=0;i--){if(t(n,r[i]))return!0;if(e.isTag(r[i]))break}return!1},"first-of-type"(n,{adapter:e,equals:t}){let r=e.getSiblings(n),i=e.getName(n);for(let s=0;s<r.length;s++){let o=r[s];if(t(n,o))return!0;if(e.isTag(o)&&e.getName(o)===i)break}return!1},"last-of-type"(n,{adapter:e,equals:t}){let r=e.getSiblings(n),i=e.getName(n);for(let s=r.length-1;s>=0;s--){let o=r[s];if(t(n,o))return!0;if(e.isTag(o)&&e.getName(o)===i)break}return!1},"only-of-type"(n,{adapter:e,equals:t}){let r=e.getName(n);return e.getSiblings(n).every(i=>t(n,i)||!e.isTag(i)||e.getName(i)!==r)},"only-child"(n,{adapter:e,equals:t}){return e.getSiblings(n).every(r=>t(n,r)||!e.isTag(r))}};function o7(n,e,t,r){if(t===null){if(n.length>r)throw new Error(`Pseudo-class :${e} requires an argument`)}else if(n.length===r)throw new Error(`Pseudo-class :${e} doesn't have any arguments`)}var Fae={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},eU={};function Uae(n,e){return n===dt.falseFunc?dt.falseFunc:t=>e.isTag(t)&&n(t)}function tU(n,e){let t=e.getSiblings(n);if(t.length<=1)return[];let r=t.indexOf(n);return r<0||r===t.length-1?[]:t.slice(r+1).filter(e.isTag)}function $D(n){return{xmlMode:!!n.xmlMode,lowerCaseAttributeNames:!!n.lowerCaseAttributeNames,lowerCaseTags:!!n.lowerCaseTags,quirksMode:!!n.quirksMode,cacheResults:!!n.cacheResults,pseudos:n.pseudos,adapter:n.adapter,equals:n.equals}}var PD=(n,e,t,r,i)=>{let s=i(e,$D(t),r);return s===dt.trueFunc?n:s===dt.falseFunc?dt.falseFunc:o=>s(o)&&n(o)},LD={is:PD,matches:PD,where:PD,not(n,e,t,r,i){let s=i(e,$D(t),r);return s===dt.falseFunc?n:s===dt.trueFunc?dt.falseFunc:o=>!s(o)&&n(o)},has(n,e,t,r,i){let{adapter:s}=t,o=$D(t);o.relativeSelector=!0;let a=e.some(l=>l.some(fx))?[eU]:void 0,u=i(e,o,a);if(u===dt.falseFunc)return dt.falseFunc;let c=Uae(u,s);if(a&&u!==dt.trueFunc){let{shouldTestNextSiblings:l=!1}=u;return d=>{if(!n(d))return!1;a[0]=d;let f=s.getChildren(d),h=l?[...f,...tU(d,s)]:f;return s.existsOne(c,h)}}return l=>n(l)&&s.existsOne(c,s.getChildren(l))}};function Bae(n,e,t,r,i){var s;let{name:o,data:a}=e;if(Array.isArray(a)){if(!(o in LD))throw new Error(`Unknown pseudo-class :${o}(${a})`);return LD[o](n,a,t,r,i)}let u=(s=t.pseudos)===null||s===void 0?void 0:s[o],c=typeof u=="string"?u:Fae[o];if(typeof c=="string"){if(a!=null)throw new Error(`Pseudo ${o} doesn't have any arguments`);let l=dx(c);return LD.is(n,l,t,r,i)}if(typeof u=="function")return o7(u,o,a,1),l=>u(l,a)&&n(l);if(o in HD)return HD[o](n,a,t,r);if(o in s7){let l=s7[o];return o7(l,o,a,2),d=>l(d,t,a)&&n(d)}throw new Error(`Unknown pseudo-class :${o}`)}function FD(n,e){let t=e.getParent(n);return t&&e.isTag(t)?t:null}function Vae(n,e,t,r,i){let{adapter:s,equals:o}=t;switch(e.type){case Ge.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Ge.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Ge.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!t.xmlMode||t.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),kae[e.action](n,e,t)}case Ge.Pseudo:return Bae(n,e,t,r,i);case Ge.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:a}=e;return(!t.xmlMode||t.lowerCaseTags)&&(a=a.toLowerCase()),function(c){return s.getName(c)===a&&n(c)}}case Ge.Descendant:{if(t.cacheResults===!1||typeof WeakSet>"u")return function(c){let l=c;for(;l=FD(l,s);)if(n(l))return!0;return!1};let a=new WeakSet;return function(c){let l=c;for(;l=FD(l,s);)if(!a.has(l)){if(s.isTag(l)&&n(l))return!0;a.add(l)}return!1}}case"_flexibleDescendant":return function(u){let c=u;do if(n(c))return!0;while(c=FD(c,s));return!1};case Ge.Parent:return function(u){return s.getChildren(u).some(c=>s.isTag(c)&&n(c))};case Ge.Child:return function(u){let c=s.getParent(u);return c!=null&&s.isTag(c)&&n(c)};case Ge.Sibling:return function(u){let c=s.getSiblings(u);for(let l=0;l<c.length;l++){let d=c[l];if(o(u,d))break;if(s.isTag(d)&&n(d))return!0}return!1};case Ge.Adjacent:return s.prevElementSibling?function(u){let c=s.prevElementSibling(u);return c!=null&&n(c)}:function(u){let c=s.getSiblings(u),l;for(let d=0;d<c.length;d++){let f=c[d];if(o(u,f))break;s.isTag(f)&&(l=f)}return!!l&&n(l)};case Ge.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return n}}}function qae(n,e,t){let r=typeof n=="string"?dx(n):n;return rU(r,e,t)}function nU(n){return n.type===Ge.Pseudo&&(n.name==="scope"||Array.isArray(n.data)&&n.data.some(e=>e.some(nU)))}var jae={type:Ge.Descendant},Hae={type:"_flexibleDescendant"},$ae={type:Ge.Pseudo,name:"scope",data:null};function zae(n,{adapter:e},t){let r=!!t?.every(i=>{let s=e.isTag(i)&&e.getParent(i);return i===eU||s&&e.isTag(s)});for(let i of n){if(!(i.length>0&&fx(i[0])&&i[0].type!==Ge.Descendant))if(r&&!i.some(nU))i.unshift(jae);else continue;i.unshift($ae)}}function rU(n,e,t){var r;n.forEach(Aae),t=(r=e.context)!==null&&r!==void 0?r:t;let i=Array.isArray(t),s=t&&(Array.isArray(t)?t:[t]);if(e.relativeSelector!==!1)zae(n,e,s);else if(n.some(u=>u.length>0&&fx(u[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let o=!1,a=n.map(u=>{if(u.length>=2){let[c,l]=u;c.type!==Ge.Pseudo||c.name!=="scope"||(i&&l.type===Ge.Descendant?u[1]=Hae:(l.type===Ge.Adjacent||l.type===Ge.Sibling)&&(o=!0))}return Gae(u,e,s)}).reduce(Wae,dt.falseFunc);return a.shouldTestNextSiblings=o,a}function Gae(n,e,t){var r;return n.reduce((i,s)=>i===dt.falseFunc?dt.falseFunc:Vae(i,s,e,t,rU),(r=e.rootFunc)!==null&&r!==void 0?r:dt.trueFunc)}function Wae(n,e){return e===dt.falseFunc||n===dt.trueFunc?n:n===dt.falseFunc||e===dt.trueFunc?e:function(r){return n(r)||e(r)}}var iU=(n,e)=>n===e,Kae={adapter:Y7,equals:iU};function Qae(n){var e,t,r,i;let s=n??Kae;return(e=s.adapter)!==null&&e!==void 0||(s.adapter=Y7),(t=s.equals)!==null&&t!==void 0||(s.equals=(i=(r=s.adapter)===null||r===void 0?void 0:r.equals)!==null&&i!==void 0?i:iU),s}function sU(n){return function(t,r,i){let s=Qae(i);typeof t!="function"&&(t=qae(t,s,r));let o=Yae(r,s.adapter,t.shouldTestNextSiblings);return n(t,o,s)}}function Yae(n,e,t=!1){return t&&(n=Jae(n,e)),Array.isArray(n)?e.removeSubsets(n):e.getChildren(n)}function Jae(n,e){let t=Array.isArray(n)?n.slice(0):[n],r=t.length;for(let i=0;i<r;i++){let s=tU(t[i],e);t.push(...s)}return t}var oU=sU((n,e,t)=>n===dt.falseFunc||!e||e.length===0?[]:t.adapter.findAll(n,e)),hx=sU((n,e,t)=>n===dt.falseFunc||!e||e.length===0?null:t.adapter.findOne(n,e)),Zae=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(n=>n.charCodeAt(0))),Xae=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(n=>n.charCodeAt(0))),UD,eue=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),a7=(UD=String.fromCodePoint)!==null&&UD!==void 0?UD:function(n){let e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function tue(n){var e;return n>=55296&&n<=57343||n>1114111?65533:(e=eue.get(n))!==null&&e!==void 0?e:n}var Tr=function(n){return n[n.NUM=35]="NUM",n[n.SEMI=59]="SEMI",n[n.EQUALS=61]="EQUALS",n[n.ZERO=48]="ZERO",n[n.NINE=57]="NINE",n[n.LOWER_A=97]="LOWER_A",n[n.LOWER_F=102]="LOWER_F",n[n.LOWER_X=120]="LOWER_X",n[n.LOWER_Z=122]="LOWER_Z",n[n.UPPER_A=65]="UPPER_A",n[n.UPPER_F=70]="UPPER_F",n[n.UPPER_Z=90]="UPPER_Z",n}(Tr||{}),nue=32,Al=function(n){return n[n.VALUE_LENGTH=49152]="VALUE_LENGTH",n[n.BRANCH_LENGTH=16256]="BRANCH_LENGTH",n[n.JUMP_TABLE=127]="JUMP_TABLE",n}(Al||{});function zD(n){return n>=Tr.ZERO&&n<=Tr.NINE}function rue(n){return n>=Tr.UPPER_A&&n<=Tr.UPPER_F||n>=Tr.LOWER_A&&n<=Tr.LOWER_F}function iue(n){return n>=Tr.UPPER_A&&n<=Tr.UPPER_Z||n>=Tr.LOWER_A&&n<=Tr.LOWER_Z||zD(n)}function sue(n){return n===Tr.EQUALS||iue(n)}var Sr=function(n){return n[n.EntityStart=0]="EntityStart",n[n.NumericStart=1]="NumericStart",n[n.NumericDecimal=2]="NumericDecimal",n[n.NumericHex=3]="NumericHex",n[n.NamedEntity=4]="NamedEntity",n}(Sr||{}),_a=function(n){return n[n.Legacy=0]="Legacy",n[n.Strict=1]="Strict",n[n.Attribute=2]="Attribute",n}(_a||{}),GD=class{constructor(e,t,r){this.decodeTree=e,this.emitCodePoint=t,this.errors=r,this.state=Sr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=_a.Strict}startEntity(e){this.decodeMode=e,this.state=Sr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Sr.EntityStart:return e.charCodeAt(t)===Tr.NUM?(this.state=Sr.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Sr.NamedEntity,this.stateNamedEntity(e,t));case Sr.NumericStart:return this.stateNumericStart(e,t);case Sr.NumericDecimal:return this.stateNumericDecimal(e,t);case Sr.NumericHex:return this.stateNumericHex(e,t);case Sr.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|nue)===Tr.LOWER_X?(this.state=Sr.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Sr.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,r,i){if(t!==r){let s=r-t;this.result=this.result*Math.pow(i,s)+Number.parseInt(e.substr(t,s),i),this.consumed+=s}}stateNumericHex(e,t){let r=t;for(;t<e.length;){let i=e.charCodeAt(t);if(zD(i)||rue(i))t+=1;else return this.addToNumericResult(e,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,t,16),-1}stateNumericDecimal(e,t){let r=t;for(;t<e.length;){let i=e.charCodeAt(t);if(zD(i))t+=1;else return this.addToNumericResult(e,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,t,10),-1}emitNumericEntity(e,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Tr.SEMI)this.consumed+=1;else if(this.decodeMode===_a.Strict)return 0;return this.emitCodePoint(tue(this.result),this.consumed),this.errors&&(e!==Tr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){let{decodeTree:r}=this,i=r[this.treeIndex],s=(i&Al.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){let o=e.charCodeAt(t);if(this.treeIndex=oue(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===_a.Attribute&&(s===0||sue(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Al.VALUE_LENGTH)>>14,s!==0){if(o===Tr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==_a.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;let{result:t,decodeTree:r}=this,i=(r[t]&Al.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,r){let{decodeTree:i}=this;return this.emitCodePoint(t===1?i[e]&~Al.VALUE_LENGTH:i[e+1],r),t===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case Sr.NamedEntity:return this.result!==0&&(this.decodeMode!==_a.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Sr.NumericDecimal:return this.emitNumericEntity(0,2);case Sr.NumericHex:return this.emitNumericEntity(0,3);case Sr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Sr.EntityStart:return 0}}};function oue(n,e,t,r){let i=(e&Al.BRANCH_LENGTH)>>7,s=e&Al.JUMP_TABLE;if(i===0)return s!==0&&r===s?t:-1;if(s){let u=r-s;return u<0||u>=i?-1:n[t+u]-1}let o=t,a=o+i-1;for(;o<=a;){let u=o+a>>>1,c=n[u];if(c<r)o=u+1;else if(c>r)a=u-1;else return n[u+i]}return-1}var $e=function(n){return n[n.Tab=9]="Tab",n[n.NewLine=10]="NewLine",n[n.FormFeed=12]="FormFeed",n[n.CarriageReturn=13]="CarriageReturn",n[n.Space=32]="Space",n[n.ExclamationMark=33]="ExclamationMark",n[n.Number=35]="Number",n[n.Amp=38]="Amp",n[n.SingleQuote=39]="SingleQuote",n[n.DoubleQuote=34]="DoubleQuote",n[n.Dash=45]="Dash",n[n.Slash=47]="Slash",n[n.Zero=48]="Zero",n[n.Nine=57]="Nine",n[n.Semi=59]="Semi",n[n.Lt=60]="Lt",n[n.Eq=61]="Eq",n[n.Gt=62]="Gt",n[n.Questionmark=63]="Questionmark",n[n.UpperA=65]="UpperA",n[n.LowerA=97]="LowerA",n[n.UpperF=70]="UpperF",n[n.LowerF=102]="LowerF",n[n.UpperZ=90]="UpperZ",n[n.LowerZ=122]="LowerZ",n[n.LowerX=120]="LowerX",n[n.OpeningSquareBracket=91]="OpeningSquareBracket",n}($e||{}),ae=function(n){return n[n.Text=1]="Text",n[n.BeforeTagName=2]="BeforeTagName",n[n.InTagName=3]="InTagName",n[n.InSelfClosingTag=4]="InSelfClosingTag",n[n.BeforeClosingTagName=5]="BeforeClosingTagName",n[n.InClosingTagName=6]="InClosingTagName",n[n.AfterClosingTagName=7]="AfterClosingTagName",n[n.BeforeAttributeName=8]="BeforeAttributeName",n[n.InAttributeName=9]="InAttributeName",n[n.AfterAttributeName=10]="AfterAttributeName",n[n.BeforeAttributeValue=11]="BeforeAttributeValue",n[n.InAttributeValueDq=12]="InAttributeValueDq",n[n.InAttributeValueSq=13]="InAttributeValueSq",n[n.InAttributeValueNq=14]="InAttributeValueNq",n[n.BeforeDeclaration=15]="BeforeDeclaration",n[n.InDeclaration=16]="InDeclaration",n[n.InProcessingInstruction=17]="InProcessingInstruction",n[n.BeforeComment=18]="BeforeComment",n[n.CDATASequence=19]="CDATASequence",n[n.InSpecialComment=20]="InSpecialComment",n[n.InCommentLike=21]="InCommentLike",n[n.BeforeSpecialS=22]="BeforeSpecialS",n[n.BeforeSpecialT=23]="BeforeSpecialT",n[n.SpecialStartSequence=24]="SpecialStartSequence",n[n.InSpecialTag=25]="InSpecialTag",n[n.InEntity=26]="InEntity",n}(ae||{});function ba(n){return n===$e.Space||n===$e.NewLine||n===$e.Tab||n===$e.FormFeed||n===$e.CarriageReturn}function Zb(n){return n===$e.Slash||n===$e.Gt||ba(n)}function aue(n){return n>=$e.LowerA&&n<=$e.LowerZ||n>=$e.UpperA&&n<=$e.UpperZ}var Ea=function(n){return n[n.NoValue=0]="NoValue",n[n.Unquoted=1]="Unquoted",n[n.Single=2]="Single",n[n.Double=3]="Double",n}(Ea||{}),Yn={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])},WD=class{constructor({xmlMode:e=!1,decodeEntities:t=!0},r){this.cbs=r,this.state=ae.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=ae.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=e,this.decodeEntities=t,this.entityDecoder=new GD(e?Xae:Zae,(i,s)=>this.emitCodePoint(i,s))}reset(){this.state=ae.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=ae.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(e){e===$e.Lt||!this.decodeEntities&&this.fastForwardTo($e.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=ae.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===$e.Amp&&this.startEntity()}stateSpecialStartSequence(e){let t=this.sequenceIndex===this.currentSequence.length;if(!(t?Zb(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=ae.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===$e.Gt||ba(e)){let t=this.index-this.currentSequence.length;if(this.sectionStart<t){let r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Yn.TitleEnd?this.decodeEntities&&e===$e.Amp&&this.startEntity():this.fastForwardTo($e.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===$e.Lt)}stateCDATASequence(e){e===Yn.Cdata[this.sequenceIndex]?++this.sequenceIndex===Yn.Cdata.length&&(this.state=ae.InCommentLike,this.currentSequence=Yn.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=ae.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Yn.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=ae.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!Zb(e):aue(e)}startSpecial(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=ae.SpecialStartSequence}stateBeforeTagName(e){if(e===$e.ExclamationMark)this.state=ae.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===$e.Questionmark)this.state=ae.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){let t=e|32;this.sectionStart=this.index,this.xmlMode?this.state=ae.InTagName:t===Yn.ScriptEnd[2]?this.state=ae.BeforeSpecialS:t===Yn.TitleEnd[2]||t===Yn.XmpEnd[2]?this.state=ae.BeforeSpecialT:this.state=ae.InTagName}else e===$e.Slash?this.state=ae.BeforeClosingTagName:(this.state=ae.Text,this.stateText(e))}stateInTagName(e){Zb(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=ae.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){ba(e)||(e===$e.Gt?this.state=ae.Text:(this.state=this.isTagStartChar(e)?ae.InClosingTagName:ae.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===$e.Gt||ba(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=ae.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===$e.Gt||this.fastForwardTo($e.Gt))&&(this.state=ae.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===$e.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=ae.InSpecialTag,this.sequenceIndex=0):this.state=ae.Text,this.sectionStart=this.index+1):e===$e.Slash?this.state=ae.InSelfClosingTag:ba(e)||(this.state=ae.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===$e.Gt?(this.cbs.onselfclosingtag(this.index),this.state=ae.Text,this.sectionStart=this.index+1,this.isSpecial=!1):ba(e)||(this.state=ae.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===$e.Eq||Zb(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=ae.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===$e.Eq?this.state=ae.BeforeAttributeValue:e===$e.Slash||e===$e.Gt?(this.cbs.onattribend(Ea.NoValue,this.sectionStart),this.sectionStart=-1,this.state=ae.BeforeAttributeName,this.stateBeforeAttributeName(e)):ba(e)||(this.cbs.onattribend(Ea.NoValue,this.sectionStart),this.state=ae.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===$e.DoubleQuote?(this.state=ae.InAttributeValueDq,this.sectionStart=this.index+1):e===$e.SingleQuote?(this.state=ae.InAttributeValueSq,this.sectionStart=this.index+1):ba(e)||(this.sectionStart=this.index,this.state=ae.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===$e.DoubleQuote?Ea.Double:Ea.Single,this.index+1),this.state=ae.BeforeAttributeName):this.decodeEntities&&e===$e.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,$e.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,$e.SingleQuote)}stateInAttributeValueNoQuotes(e){ba(e)||e===$e.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Ea.Unquoted,this.index),this.state=ae.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===$e.Amp&&this.startEntity()}stateBeforeDeclaration(e){e===$e.OpeningSquareBracket?(this.state=ae.CDATASequence,this.sequenceIndex=0):this.state=e===$e.Dash?ae.BeforeComment:ae.InDeclaration}stateInDeclaration(e){(e===$e.Gt||this.fastForwardTo($e.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=ae.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===$e.Gt||this.fastForwardTo($e.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=ae.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===$e.Dash?(this.state=ae.InCommentLike,this.currentSequence=Yn.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=ae.InDeclaration}stateInSpecialComment(e){(e===$e.Gt||this.fastForwardTo($e.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=ae.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){let t=e|32;t===Yn.ScriptEnd[3]?this.startSpecial(Yn.ScriptEnd,4):t===Yn.StyleEnd[3]?this.startSpecial(Yn.StyleEnd,4):(this.state=ae.InTagName,this.stateInTagName(e))}stateBeforeSpecialT(e){switch(e|32){case Yn.TitleEnd[3]:{this.startSpecial(Yn.TitleEnd,4);break}case Yn.TextareaEnd[3]:{this.startSpecial(Yn.TextareaEnd,4);break}case Yn.XmpEnd[3]:{this.startSpecial(Yn.XmpEnd,4);break}default:this.state=ae.InTagName,this.stateInTagName(e)}}startEntity(){this.baseState=this.state,this.state=ae.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?_a.Strict:this.baseState===ae.Text||this.baseState===ae.InSpecialTag?_a.Legacy:_a.Attribute)}stateInEntity(){let e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,e===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===ae.Text||this.state===ae.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===ae.InAttributeValueDq||this.state===ae.InAttributeValueSq||this.state===ae.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){let e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case ae.Text:{this.stateText(e);break}case ae.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case ae.InSpecialTag:{this.stateInSpecialTag(e);break}case ae.CDATASequence:{this.stateCDATASequence(e);break}case ae.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case ae.InAttributeName:{this.stateInAttributeName(e);break}case ae.InCommentLike:{this.stateInCommentLike(e);break}case ae.InSpecialComment:{this.stateInSpecialComment(e);break}case ae.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case ae.InTagName:{this.stateInTagName(e);break}case ae.InClosingTagName:{this.stateInClosingTagName(e);break}case ae.BeforeTagName:{this.stateBeforeTagName(e);break}case ae.AfterAttributeName:{this.stateAfterAttributeName(e);break}case ae.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case ae.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case ae.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case ae.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case ae.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case ae.BeforeSpecialT:{this.stateBeforeSpecialT(e);break}case ae.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case ae.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case ae.InDeclaration:{this.stateInDeclaration(e);break}case ae.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case ae.BeforeComment:{this.stateBeforeComment(e);break}case ae.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case ae.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===ae.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){let e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===ae.InCommentLike?this.currentSequence===Yn.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===ae.InTagName||this.state===ae.BeforeAttributeName||this.state===ae.BeforeAttributeValue||this.state===ae.AfterAttributeName||this.state===ae.InAttributeName||this.state===ae.InAttributeValueSq||this.state===ae.InAttributeValueDq||this.state===ae.InAttributeValueNq||this.state===ae.InClosingTagName||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,t){this.baseState!==ae.Text&&this.baseState!==ae.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))}},Df=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Zt=new Set(["p"]),u7=new Set(["thead","tbody"]),c7=new Set(["dd","dt"]),l7=new Set(["rt","rp"]),uue=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Zt],["h1",Zt],["h2",Zt],["h3",Zt],["h4",Zt],["h5",Zt],["h6",Zt],["select",Df],["input",Df],["output",Df],["button",Df],["datalist",Df],["textarea",Df],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",c7],["dt",c7],["address",Zt],["article",Zt],["aside",Zt],["blockquote",Zt],["details",Zt],["div",Zt],["dl",Zt],["fieldset",Zt],["figcaption",Zt],["figure",Zt],["footer",Zt],["form",Zt],["header",Zt],["hr",Zt],["main",Zt],["nav",Zt],["ol",Zt],["pre",Zt],["section",Zt],["table",Zt],["ul",Zt],["rt",l7],["rp",l7],["tbody",u7],["tfoot",u7]]),cue=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),d7=new Set(["math","svg"]),f7=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),lue=/\s|\//,KD=class{constructor(e,t={}){var r,i,s,o,a,u;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(s=t.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((o=t.Tokenizer)!==null&&o!==void 0?o:WD)(this.options,this),this.foreignContext=[!this.htmlMode],(u=(a=this.cbs).onparserinit)===null||u===void 0||u.call(a,this)}ontext(e,t){var r,i;let s=this.getSlice(e,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,s),this.startIndex=t}ontextentity(e,t){var r,i;this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,a7(e)),this.startIndex=t}isVoidElement(e){return this.htmlMode&&cue.has(e)}onopentagname(e,t){this.endIndex=t;let r=this.getSlice(e,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(e){var t,r,i,s;this.openTagStart=this.startIndex,this.tagname=e;let o=this.htmlMode&&uue.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[0]);){let a=this.stack.shift();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,a,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(d7.has(e)?this.foreignContext.unshift(!0):f7.has(e)&&this.foreignContext.unshift(!1))),(s=(i=this.cbs).onopentagname)===null||s===void 0||s.call(i,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,t){var r,i,s,o,a,u,c,l;this.endIndex=t;let d=this.getSlice(e,t);if(this.lowerCaseTagNames&&(d=d.toLowerCase()),this.htmlMode&&(d7.has(d)||f7.has(d))&&this.foreignContext.shift(),this.isVoidElement(d))this.htmlMode&&d==="br"&&((o=(s=this.cbs).onopentagname)===null||o===void 0||o.call(s,"br"),(u=(a=this.cbs).onopentag)===null||u===void 0||u.call(a,"br",{},!0),(l=(c=this.cbs).onclosetag)===null||l===void 0||l.call(c,"br",!1));else{let f=this.stack.indexOf(d);if(f!==-1)for(let h=0;h<=f;h++){let g=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,g,h!==f)}else this.htmlMode&&d==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var t,r;let i=this.tagname;this.endOpenTag(e),this.stack[0]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!e),this.stack.shift())}onattribname(e,t){this.startIndex=e;let r=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(e,t){this.attribvalue+=this.getSlice(e,t)}onattribentity(e){this.attribvalue+=a7(e)}onattribend(e,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,e===Ea.Double?'"':e===Ea.Single?"'":e===Ea.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){let t=e.search(lue),r=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(e,t){this.endIndex=t;let r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){let i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=t+1}onprocessinginstruction(e,t){this.endIndex=t;let r=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){let i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=t+1}oncomment(e,t,r){var i,s,o,a;this.endIndex=t,(s=(i=this.cbs).oncomment)===null||s===void 0||s.call(i,this.getSlice(e,t-r)),(a=(o=this.cbs).oncommentend)===null||a===void 0||a.call(o),this.startIndex=t+1}oncdata(e,t,r){var i,s,o,a,u,c,l,d,f,h;this.endIndex=t;let g=this.getSlice(e,t-r);!this.htmlMode||this.options.recognizeCDATA?((s=(i=this.cbs).oncdatastart)===null||s===void 0||s.call(i),(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,g),(c=(u=this.cbs).oncdataend)===null||c===void 0||c.call(u)):((d=(l=this.cbs).oncomment)===null||d===void 0||d.call(l,`[CDATA[${g}]]`),(h=(f=this.cbs).oncommentend)===null||h===void 0||h.call(f)),this.startIndex=t+1}onend(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(t=(e=this.cbs).onend)===null||t===void 0||t.call(e)}reset(){var e,t,r,i;(t=(e=this.cbs).onreset)===null||t===void 0||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}};function due(n,e){let t=new VD(void 0,e);return new KD(t,e).end(n),t.root}var fue=D7(),Um=u1(fue);function h7(n){return moe(n)}function p7(n,e){let t=[];return poe(n,(r,i,s)=>{if(!(i?.type==="decl"&&i.value.includes("</style>"))){if(!e.compress){t.push(r);return}if(i?.type!=="comment"){if(i?.type==="decl"){let o=i.prop+i.raws.between;t.push(r.replace(o,o.trim()));return}if(s==="start"){i?.type==="rule"&&i.selectors?i.selectors.length===1?t.push(i.selectors[0]??"","{"):t.push(i.selectors.join(","),"{"):t.push(r.trim());return}if(s==="end"&&r==="}"&&i?.raws?.semicolon){let o=t.length-2;o>=0&&t[o]&&(t[o]=t[o].slice(0,-1))}t.push(r.trim())}}}),t.join("")}function hue(n){return e=>{let t="selectors"in e?e.selectors:void 0;n(e)===!1&&(e.$$remove=!0),"selectors"in e&&(e.$$markedSelectors=e.selectors,e.selectors=t),e._other&&(e._other.$$markedSelectors=e._other.selectors)}}function aU(n){n.$$markedSelectors&&(n.selectors=n.$$markedSelectors),n._other&&aU(n._other)}function px(n,e){"nodes"in n&&(n.nodes=n.nodes?.filter(t=>(cU(t)&&px(t,e),t._other=void 0,t.filterSelectors=dU,e(t)!==!1)))}function uU(n,e,t){if(!e)return px(n,t);[n.nodes,e.nodes]=lU(n.nodes,e.nodes,(r,i,s,o)=>{let a=o?.[i];return cU(r)&&uU(r,a,t),r._other=a,r.filterSelectors=dU,t(r)!==!1})}function cU(n){return"nodes"in n&&!!n.nodes?.length&&(!("name"in n)||n.name!=="keyframes"&&n.name!=="-webkit-keyframes")&&n.nodes.some(e=>e.type==="rule"||e.type==="atrule")}function lU(n,e,t){let r=[],i=[];for(let s=0;s<n.length;s++){let o=n[s];t(o,s,n,e)?r.push(o):i.push(o)}return[r,i]}function dU(n){if(this._other){let[e,t]=lU(this.selectors,this._other.selectors,n);this.selectors=e,this._other.selectors=t}else this.selectors=this.selectors.filter(n)}var pue=new Set(["all","print","screen","speech"]),mue=new Set(["and","not",","]),gue=new Set(["width","aspect-ratio","color","color-index","grid","height","monochrome","orientation","resolution","scan"].flatMap(n=>[n,`min-${n}`,`max-${n}`]));function yue(n){let{type:e,value:t}=n;if(e==="media-type")return pue.has(t);if(e==="keyword")return mue.has(t);if(e==="media-feature")return gue.has(t)}function vue(n){let t=("default"in AD?AD.default:AD)(n),r=new Set(["media-type","keyword","media-feature"]),i=[t];for(;i.length>0;){let s=i.pop();if(r.has(s.type)&&!yue(s))return!1;s.nodes&&i.push(...s.nodes)}return!0}var QD=null,YD=null;function bue(n){QD=new Set,YD=new Set;let e=[n];for(;e.length;){let t=e.shift();if(t.hasAttribute?.("class")&&t.getAttribute("class").trim().split(" ").forEach(i=>{QD.add(i)}),t.hasAttribute?.("id")){let r=t.getAttribute("id").trim();YD.add(r)}"children"in t&&e.push(...t.children.filter(r=>r.type==="tag"))}}function _ue(n){let e=due(n,{decodeEntities:!1});Sue(e),wue(Af.prototype);let t=e.querySelector("[data-beasties-container]");return t||(e.documentElement?.setAttribute("data-beasties-container",""),t=e.documentElement||e),e.beastiesContainer=t,bue(t),e}function Eue(n){return m1(n,{decodeEntities:!1})}var m7=!1;function wue(n){m7||(m7=!0,Object.defineProperties(n,{nodeName:{get(){return this.tagName.toUpperCase()}},id:{get(){return this.getAttribute("id")},set(e){this.setAttribute("id",e)}},className:{get(){return this.getAttribute("class")},set(e){this.setAttribute("class",e)}},insertBefore:{value(e,t){return t?($7(t,e),e):this.appendChild(e)}},appendChild:{value(e){return jD(this,e),e}},removeChild:{value(e){Ml(e)}},remove:{value(){Ml(this)}},textContent:{get(){return Bm(this)},set(e){this.children=[],jD(this,new Rl(e))}},setAttribute:{value(e,t){this.attribs==null&&(this.attribs={}),t==null&&(t=""),this.attribs[e]=t}},removeAttribute:{value(e){this.attribs!=null&&delete this.attribs[e]}},getAttribute:{value(e){return this.attribs!=null&&this.attribs[e]}},hasAttribute:{value(e){return this.attribs!=null&&this.attribs[e]!=null}},getAttributeNode:{value(e){let t=this.getAttribute(e);if(t!=null)return{specified:!0,value:t}}},exists:{value(e){return fU(e,this)}},querySelector:{value(e){return hx(e,this)}},querySelectorAll:{value(e){return oU(e,this)}}}))}function Sue(n){Object.defineProperties(n,{nodeType:{get(){return 9}},contentType:{get(){return"text/html"}},nodeName:{get(){return"#document"}},documentElement:{get(){return this.children.find(e=>"tagName"in e&&String(e.tagName).toLowerCase()==="html")}},head:{get(){return this.querySelector("head")}},body:{get(){return this.querySelector("body")}},createElement:{value(e){return new Af(e,{})}},createTextNode:{value(e){return new Rl(e)}},exists:{value(e){return fU(e,this)}},querySelector:{value(e){return hx(e,this)}},querySelectorAll:{value(e){return e===":root"?this:oU(e,this)}}})}var g7=new Map;function fU(n,e){let t=g7.get(n);if(t===void 0&&(t=Tue(n),g7.set(n,t)),t)for(let r of t){if(r.name==="class")return QD.has(r.value);if(r.name==="id")return YD.has(r.value)}return!!hx(n,e)}function Tue(n){let e=dx(n),t=[];for(let r=0;r<e.length;r++){let i=e[r];if(i?.length!==1)continue;let s=i[0];s?.type==="attribute"&&(s.name==="class"||s.name==="id")&&t.push(s)}return t.length>0?t:null}var y7=["trace","debug","info","warn","error","silent"],v7={trace(n){console.trace(n)},debug(n){console.debug(n)},warn(n){console.warn(Um.yellow(n))},error(n){console.error(Um.bold(Um.red(n)))},info(n){console.info(Um.bold(Um.blue(n)))},silent(){}};function Cue(n){let e=y7.indexOf(n);return y7.reduce((t,r,i)=>(i>=e?t[r]=v7[r]:t[r]=v7.silent,t),{})}function Iue(n,e){return!xf.relative(n,e).startsWith("..")}var Due=/(?<!\\)::?[a-z-]+(?:\(.+\))?/gi,xue=/>\s*(?=>|$)/g,Aue=/\(\s*,|,\s*\)/g,o1=class{#e=new Map;options;logger;fs;constructor(e={}){this.options=Object.assign({logLevel:"info",path:"",publicPath:"",reduceInlineStyles:!0,pruneSource:!1,additionalStylesheets:[],allowRules:[]},e),this.logger=this.options.logger||Cue(this.options.logLevel)}readFile(e){let t=this.fs;return new Promise((r,i)=>{let s=(o,a)=>{o?i(o):r(a.toString())};t&&t.readFile?t.readFile(e,s):Qse(e,"utf-8",s)})}process(e){return O(this,null,function*(){let t=Date.now(),r=_ue(e);if(this.options.additionalStylesheets.length>0&&(yield this.embedAdditionalStylesheet(r)),this.options.external!==!1){let a=[...r.querySelectorAll('link[rel="stylesheet"]')];yield Promise.all(a.map(u=>this.embedLinkedStylesheet(u,r)))}let i=this.getAffectedStyleTags(r);for(let a of i)this.processStyle(a,r);this.options.mergeStylesheets!==!1&&i.length!==0&&this.mergeStylesheets(r);let s=Eue(r),o=Date.now();return this.logger.info?.(`Time ${o-t}ms`),s})}getAffectedStyleTags(e){let t=[...e.querySelectorAll("style")];return this.options.reduceInlineStyles===!1?t.filter(r=>r.$$external):t}mergeStylesheets(e){let t=this.getAffectedStyleTags(e);if(t.length===0){this.logger.warn?.("Merging inline stylesheets into a single <style> tag skipped, no inline stylesheets to merge");return}let r=t[0],i=r.textContent;for(let s=1;s<t.length;s++){let o=t[s];i+=o.textContent,o.remove()}r.textContent=i}getCssAsset(e,t){return O(this,null,function*(){let r=this.options.path,i=this.options.publicPath,s=e.replace(/^\//,""),o=`${(i||"").replace(/(^\/|\/$)/g,"")}/`;if(s.startsWith(o)&&(s=s.substring(o.length).replace(/^\//,"")),/^https?:\/\//.test(s)||e.startsWith("//"))return;let a=xf.resolve(r,s);if(!Iue(r,a))return;let u;try{u=yield this.readFile(a)}catch{this.logger.warn?.(`Unable to locate stylesheet: ${a}`)}return u})}checkInlineThreshold(e,t,r){if(this.options.inlineThreshold&&r.length<this.options.inlineThreshold){let i=t.$$name;return t.$$reduce=!1,this.logger.info?.(`\x1B[32mInlined all of ${i} (${r.length} was below the threshold of ${this.options.inlineThreshold})\x1B[39m`),e.remove(),!0}return!1}embedAdditionalStylesheet(e){return O(this,null,function*(){let t=[],r=yield Promise.all(this.options.additionalStylesheets.map(i=>{if(t.includes(i))return[];t.push(i);let s=e.createElement("style");return s.$$external=!0,this.getCssAsset(i,s).then(o=>[o,s])}));for(let[i,s]of r)i&&(s.textContent=i,e.head.appendChild(s))})}embedLinkedStylesheet(e,t){return O(this,null,function*(){let r=e.getAttribute("href");if(!r?.endsWith(".css"))return;let i=t.createElement("style");i.$$external=!0;let s=yield this.getCssAsset(r,i);if(!s||(i.textContent=s,i.$$name=r,i.$$links=[e],e.parentNode?.insertBefore(i,e),this.checkInlineThreshold(e,i,s)))return;let o=e.getAttribute("media");o&&!vue(o)&&(o=void 0);let a=this.options.preload,u="function $loadcss(u,m,l){(l=document.createElement('link')).rel='stylesheet';l.href=u;document.head.appendChild(l)}";if(a==="js-lazy"&&(u=u.replace("l.href","l.media='print';l.onload=function(){l.media=m};l.href")),a===!1)return;let l=!1,d=!1,f=e.cloneNode(!1);if(a==="body")t.body.appendChild(e);else if(a==="js"||a==="js-lazy"){let h=t.createElement("script");h.setAttribute("data-href",r),h.setAttribute("data-media",o||"all");let g=`${u}$loadcss(document.currentScript.dataset.href,document.currentScript.dataset.media)`;h.textContent=g,e.parentNode.insertBefore(h,e.nextSibling),i.$$links.push(h),u="",l=!0,d=!0}else if(a==="media")e.setAttribute("media","print"),e.setAttribute("onload",`this.media='${o||"all"}'`),l=!0;else if(a==="swap-high")e.setAttribute("rel","alternate stylesheet preload"),e.setAttribute("title","styles"),e.setAttribute("onload","this.title='';this.rel='stylesheet'"),l=!0;else if(a==="swap-low")e.setAttribute("rel","alternate stylesheet"),e.setAttribute("title","styles"),e.setAttribute("onload","this.title='';this.rel='stylesheet'"),l=!0;else if(a==="swap")e.setAttribute("onload","this.rel='stylesheet'"),d=!0,l=!0;else{let h=e.cloneNode(!1);h.removeAttribute("id"),t.body.appendChild(h),i.$$links.push(h),d=!0}if(this.options.noscriptFallback!==!1&&l&&!r.includes("</noscript>")){let h=t.createElement("noscript");f.removeAttribute("id"),h.appendChild(f),e.parentNode.insertBefore(h,e.nextSibling),i.$$links.push(h)}d&&(e.setAttribute("rel","preload"),e.setAttribute("as","style"))})}pruneSource(e,t,r){let i=this.options.minimumExternalSize,s=e.$$name,o=i&&r.length<i;if(o&&this.logger.info?.(`\x1B[32mInlined all of ${s} (non-critical external stylesheet would have been ${r.length}b, which was below the threshold of ${i})\x1B[39m`),(o||!r)&&(e.textContent=t,e.$$links))for(let a of e.$$links)a.parentNode?.removeChild(a);return!!o}processStyle(e,t){if(e.$$reduce===!1)return;let r=e.$$name?e.$$name.replace(/^\//,""):"inline CSS",i=this.options,s=t.beastiesContainer,o=i.keyframes??"critical";o===!0&&(o="all"),o===!1&&(o="none");let a=e.textContent,u=a;if(!a)return;let c=h7(a),l=i.pruneSource?h7(a):null,d="",f=[],h=new Set,g=!1,y=!1,S=!1,_=!1,C=i.fonts===!0||i.preloadFonts===!0,I=i.fonts!==!1&&i.inlineFonts===!0;px(c,hue(A=>{if(A.type==="comment"){let E=A.text.match(/^(?<!! )beasties:(.*)/),D=E&&E[1];if(D)switch(D){case"include":g=!0;break;case"exclude":S=!0;break;case"include start":y=!0;break;case"include end":y=!1;break;case"exclude start":_=!0;break;case"exclude end":_=!1;break}}if(A.type==="rule"){if(g)return g=!1,!0;if(S)return S=!1,!1;if(y)return!0;if(_||(A.filterSelectors?.(E=>{if(i.allowRules.some(P=>P instanceof RegExp?P.test(E):P===E)||E===":root"||E==="html"||E==="body"||E[0]===":"&&/^::?(?:before|after)$/.test(E))return!0;if(E=this.normalizeCssSelector(E),!E)return!1;try{return s.exists(E)}catch(P){return f.push(`${E} -> ${P.message||P.toString()}`),!1}}),!A.selector))return!1;if(A.nodes){for(let E of A.nodes)if("prop"in E&&(I&&/\bfont(?:-family)?\b/i.test(E.prop)&&(d+=` ${E.value}`),E.prop==="animation"||E.prop==="animation-name"))for(let D of E.value.split(/\s+/)){let P=D.trim();P&&h.add(P)}}}return A.type==="atrule"&&(A.name==="font-face"||A.name==="layer")?void 0:("nodes"in A&&A.nodes?.some(E=>!E.$$remove))??!0})),f.length!==0&&this.logger.warn?.(`${f.length} rules skipped due to selector errors:
  ${f.join(`
  `)}`);let T=new Set;if(uU(c,l,A=>{if(A.$$remove===!0)return!1;if("selectors"in A&&aU(A),A.type==="atrule"&&A.name==="keyframes")return o==="none"?!1:o==="all"?!0:h.has(A.params);if(A.type==="atrule"&&A.name==="font-face"){let N,E;if(A.nodes){for(let D of A.nodes)"prop"in D&&(D.prop==="src"?E=(D.value.match(/url\s*\(\s*(['"]?)(.+?)\1\s*\)/)||[])[2]:D.prop==="font-family"&&(N=D.value));if(E&&C&&!T.has(E)){T.add(E);let D=t.createElement("link");D.setAttribute("rel","preload"),D.setAttribute("as","font"),D.setAttribute("crossorigin","anonymous"),D.setAttribute("href",E.trim()),t.head.appendChild(D)}}if(!I||!N||!E||!d.includes(N))return!1}}),a=p7(c,{compress:this.options.compress!==!1}),a.trim().length===0){e.parentNode&&e.remove();return}let x="",V=!1;if(i.pruneSource){let A=p7(l,{compress:this.options.compress!==!1});V=this.pruneSource(e,u,A),V&&(x=`, reducing non-inlined size ${A.length/u.length*100|0}% to ${BD(A.length)}`)}V||(e.textContent=a);let R=a.length/u.length*100|0;this.logger.info?.(`\x1B[32mInlined ${BD(a.length)} (${R}% of original ${BD(u.length)}) of ${r}${x}.\x1B[39m`)}normalizeCssSelector(e){let t=this.#e.get(e);return t!==void 0||(t=e.replace(Due,"").replace(Aue,r=>r.includes("(")?"(":")").replace(xue,"> *").trim(),this.#e.set(e,t)),t}};function BD(n){if(n<=0)return"0 bytes";let e=["bytes","kB","MB","GB"],t=Math.floor(Math.log(n)/Math.log(1024)),r=n/1024**t,i=t===0?0:2;return`${r.toFixed(i)} ${e[t]}`}var g1=class{manifest;constructor(e){this.manifest=e}getServerAsset(e){let t=this.manifest.assets[e];if(!t)throw new Error(`Server asset '${e}' does not exist.`);return t}hasServerAsset(e){return!!this.manifest.assets[e]}getIndexServerHtml(){return this.getServerAsset("index.server.html")}},Nue=new Set(["Angular is running in development mode."]),y1=class extends af{log(e){Nue.has(e)||super.log(e)}},mx;function _U(n){mx=n}function EU(){if(!mx)throw new Error("Angular app manifest is not set. Please ensure you are using the '@angular/build:application' builder to build your server application.");return mx}function Pl(n){return n.length>1&&n[0]==="/"?n.slice(1):n}function wU(n){return n[0]==="/"?n:`/${n}`}function Rue(n){return n[n.length-1]==="/"?n:`${n}/`}function Ll(...n){let e=[];for(let t of n){if(t==="")continue;let r=t;t[0]==="/"&&(r=r.slice(1)),t[t.length-1]==="/"&&(r=r.slice(0,-1)),r!==""&&e.push(r)}return wU(e.join("/"))}function SU(n){if(n.pathname.endsWith("/index.html")){let e=new URL(n);return e.pathname=e.pathname.slice(0,-11),e}return n}function kue(n,e){if(n[0]!=="/")throw new Error(`Invalid toPath: The string must start with a '/'. Received: '${n}'`);if(e[0]!=="/")throw new Error(`Invalid fromPath: The string must start with a '/'. Received: '${e}'`);if(!n.includes("/*"))return n;let t=e.split("/"),r=n.split("/"),i=r.map((s,o)=>r[o]==="*"?t[o]:s);return Ll(...i)}function Mue(n,e,t,r,i){let s=[{provide:tD,useValue:i},{provide:af,useFactory:()=>new y1},...r],o=SU(t).toString();return TU(e)?m9(e,{url:o,document:n,extraProviders:s}):g9(e,{url:o,document:n,platformProviders:s})}function TU(n){return"\u0275mod"in n}function CU(n,e,t){return new Promise((r,i)=>{let s=()=>{i(new DOMException(`${t} was aborted.
${e.reason}`,"AbortError"))};if(e.aborted){s();return}e.addEventListener("abort",s,{once:!0}),n.then(r).catch(i).finally(()=>{e.removeEventListener("abort",s)})})}var Oue="ng-app-shell",IU=function(n){return n[n.AppShell=0]="AppShell",n}(IU||{}),fn=function(n){return n[n.Server=0]="Server",n[n.Client=1]="Client",n[n.Prerender=2]="Prerender",n}(fn||{}),gx=function(n){return n[n.Server=0]="Server",n[n.Client=1]="Client",n[n.None=2]="None",n}(gx||{}),DU=new le("SERVER_ROUTES_CONFIG");function xU(n,...e){let t={routes:n};e.some(s=>s.\u0275kind===IU.AppShell)&&(t.appShellRoute=Oue);let i=[{provide:DU,useValue:t}];for(let s of e)i.push(...s.\u0275providers);return Ar(i)}var Gm=class n{root=this.createEmptyRouteTreeNode();insert(e,t){let r=this.root,i=this.getPathSegments(e),s=[];for(let o of i){let a=o[0]===":"?"*":o,u=r.children.get(a);u||(u=this.createEmptyRouteTreeNode(),r.children.set(a,u)),r=u,s.push(a)}r.metadata=me(K({},t),{route:wU(s.join("/"))})}match(e){let t=this.getPathSegments(e);return this.traverseBySegments(t)?.metadata}toObject(){return Array.from(this.traverse())}static fromObject(e){let t=new n;for(let r of e){let i=r,{route:s}=i,o=ia(i,["route"]);t.insert(s,o)}return t}*traverse(e=this.root){e.metadata&&(yield e.metadata);for(let t of e.children.values())yield*Vc(this.traverse(t))}getPathSegments(e){return e.split("/").filter(Boolean)}traverseBySegments(e,t=this.root,r=0){if(r>=e.length)return t.metadata?t:t.children.get("**");if(!t.children.size)return;let i=e[r],s=t.children.get(i);if(s){let a=this.traverseBySegments(e,s,r+1);if(a)return a}let o=t.children.get("*");if(o){let a=this.traverseBySegments(e,o,r+1);if(a)return a}return t.children.get("**")}createEmptyRouteTreeNode(){return{children:new Map}}},hU=10,pU=/\/(\*\*)$/,yx=/(?<!\\):([^/]+)/g,mU=new Set([301,302,303,307,308]);function gU(n){return ny(this,null,function*(){try{let{metadata:e,currentRoutePath:t,route:r,compiler:i,parentInjector:s,serverConfigRouteTree:o,entryPointToBrowserMapping:a,invokeGetPrerenderParams:u,includePrerenderFallbackRoutes:c}=n,{redirectTo:l,loadChildren:d,loadComponent:f,children:h,\u0275entryName:g}=r;if(g&&f&&yU(g,a,e,!0),e.renderMode===fn.Prerender?yield*Vc(Pue(o,typeof l=="string"?l:void 0,e,s,u,c)):typeof l=="string"?e.status&&!mU.has(e.status)?yield{error:`The '${e.status}' status code is not a valid redirect response code. Please use one of the following redirect response codes: ${[...mU.values()].join(", ")}.`}:yield me(K({},e),{redirectTo:bx(e.route,l)}):yield e,h?.length&&(yield*Vc(vx(me(K({},n),{routes:h,parentRoute:t,parentPreloads:e.preload})))),d){g&&yU(g,a,e,!1);let y=yield new US(Lb(r,i,s).toPromise());if(y){let{routes:S,injector:_=s}=y;yield*Vc(vx(me(K({},n),{routes:S,parentInjector:_,parentRoute:t,parentPreloads:e.preload})))}}}catch(e){yield{error:`Error in handleRoute for '${n.currentRoutePath}': ${e.message}`}}})}function vx(n){return ny(this,null,function*(){let{routes:e,parentPreloads:t,parentRoute:r,serverConfigRouteTree:i}=n;for(let s of e){let{matcher:o,path:a=o?"**":""}=s,u=Ll(r,a);if(o&&i){let l=!1;for(let d of i.traverse())if(d.route.startsWith(u)){if(l=!0,d.presentInClientRouter=!0,d.renderMode===fn.Prerender){yield{error:`The route '${Pl(u)}' is set for prerendering but has a defined matcher. Routes with matchers cannot use prerendering. Please specify a different 'renderMode'.`};continue}yield*Vc(gU(me(K({},n),{currentRoutePath:u,route:s,metadata:me(K({},d),{preload:t,route:d.route,presentInClientRouter:void 0})})))}l||(yield{error:`The route '${Pl(u)}' has a defined matcher but does not match any route in the server routing configuration. Please ensure this route is added to the server routing configuration.`});continue}let c;if(i){if(c=i.match(u),!c){yield{error:`The '${Pl(u)}' route does not match any route defined in the server routing configuration. Please ensure this route is added to the server routing configuration.`};continue}c.presentInClientRouter=!0}yield*Vc(gU(me(K({},n),{metadata:me(K({renderMode:fn.Prerender},c),{preload:t,route:a===""?Rue(u):u,presentInClientRouter:void 0}),currentRoutePath:u,route:s})))}})}function yU(n,e,t,r){let i=t.preload??[];if(!e||i.length>=hU)return;let s=e[n];if(!s?.length)return;let o=new Set(i);for(let{dynamicImport:a,path:u}of s)if(!(a&&!r)&&(o.add(u),o.size===hU))break;t.preload=Array.from(o)}function Pue(n,e,t,r,i,s){return ny(this,null,function*(){if(t.renderMode!==fn.Prerender)throw new Error("'handleSSGRoute' was called for a route which rendering mode is not prerender.");let d=t,{route:o,fallback:a}=d,u=ia(d,["route","fallback"]),c="getPrerenderParams"in u?u.getPrerenderParams:void 0;"getPrerenderParams"in u&&delete u.getPrerenderParams,e!==void 0&&(u.redirectTo=bx(o,e));let l=pU.test(o);if(l&&!c||!l&&!yx.test(o)){yield me(K({},u),{route:o});return}if(i){if(!c){yield{error:`The '${Pl(o)}' route uses prerendering and includes parameters, but 'getPrerenderParams' is missing. Please define 'getPrerenderParams' function for this route in your server routing configuration or specify a different 'renderMode'.`};return}if(n){let h=l?o:Ll(o,"**"),g=n.match(h);g&&g.renderMode===fn.Prerender&&!("getPrerenderParams"in g)&&n.insert(h,me(K({},g),{presentInClientRouter:!0,getPrerenderParams:c}))}let f=yield new US(ir(r,()=>c()));try{for(let h of f){let g=Lue(h,o),y=o.replace(yx,g).replace(pU,g);yield me(K({},u),{route:y,redirectTo:e===void 0?void 0:bx(y,e)})}}catch(h){yield{error:`${h.message}`};return}}s&&(a!==gx.None||!i)&&(yield me(K({},u),{route:o,renderMode:a===gx.Client?fn.Client:fn.Server}))})}function Lue(n,e){return t=>{let r=t.slice(1),i=n[r];if(typeof i!="string")throw new Error(`The 'getPrerenderParams' function defined for the '${Pl(e)}' route returned a non-string value for parameter '${r}'. Please make sure the 'getPrerenderParams' function returns values for all parameters specified in this route.`);return r==="**"?`/${i}`:i}}function bx(n,e){if(e[0]==="/")return e;let t=n.replace(yx,"*").split("/");return t.pop(),Ll(...t,e)}function Fue({routes:n,appShellRoute:e}){let t=[...n];e!==void 0&&t.unshift({path:e,renderMode:fn.Prerender});let r=new Gm,i=[];for(let s of t){let o=s,{path:a}=o,u=ia(o,["path"]);if(a[0]==="/"){i.push(`Invalid '${a}' route configuration: the path cannot start with a slash.`);continue}if("getPrerenderParams"in u&&(a.includes("/*/")||a.endsWith("/*"))){i.push(`Invalid '${a}' route configuration: 'getPrerenderParams' cannot be used with a '*' route.`);continue}r.insert(a,u)}return{serverConfigRouteTree:r,errors:i}}function Uue(n,e,t,r=!1,i=!0,s=void 0){return O(this,null,function*(){let{protocol:o,host:a}=t,u=$b([{provide:Dl,useValue:{document:e,url:`${o}//${a}/`}},{provide:af,useFactory:()=>new y1},{provide:j2,useValue:!1}]);try{let h;TU(n)?h=(yield u.bootstrapModule(n)).injector.get(Ts):h=yield n();let g=h.injector,y=g.get(ht);y.navigationTransitions.afterPreactivation()?.next?.(),yield h.whenStable();let S=[],_=g.get(ff,null,{optional:!0})??g.get(po).getBaseHrefFromDOM(),{pathname:C}=new URL(_,"http://localhost"),I=g.get(zv),T=g.get(DU,null,{optional:!0}),x;if(T){let R=Fue(T);x=R.serverConfigRouteTree,S.push(...R.errors)}if(S.length)return{baseHref:C,routes:[],errors:S};let V=[];if(y.config.length){let R=vx({routes:y.config,compiler:I,parentInjector:g,parentRoute:"",serverConfigRouteTree:x,invokeGetPrerenderParams:r,includePrerenderFallbackRoutes:i,entryPointToBrowserMapping:s}),A=new Set;try{for(var c=p6(R),l,d,f;l=!(d=yield c.next()).done;l=!1){let N=d.value;if("error"in N){S.push(N.error);continue}let E=N.route;A.has(E)||(V.push(N),A.add(E))}}catch{f=[d]}finally{try{l&&(d=c.return)&&(yield d.call(c))}finally{if(f)throw f[0]}}if(yield new Promise(N=>setTimeout(N,0)),x)for(let{route:N,presentInClientRouter:E}of x.traverse())E||N.endsWith("/**")||S.push(`The '${Pl(N)}' server route does not match any routes defined in the Angular routing configuration (typically provided as a part of the 'provideRouter' call). Please make sure that the mentioned server route is present in the Angular routing configuration.`)}else{let R=x?.match("")??{route:"",renderMode:fn.Prerender};V.push(me(K({},R),{route:""}))}return{baseHref:C,routes:V,errors:S,appShellRoute:T?.appShellRoute}}finally{u.destroy()}})}function AU(n){let{url:e,manifest:t=EU(),invokeGetPrerenderParams:r=!1,includePrerenderFallbackRoutes:i=!0,signal:s}=n;function o(){return O(this,null,function*(){let a=new Gm,u=yield new g1(t).getIndexServerHtml().text(),c=yield t.bootstrap(),{baseHref:l,appShellRoute:d,routes:f,errors:h}=yield Uue(c,u,e,r,i,t.entryPointToBrowserMapping);for(let g of f){let y=g,{route:S}=y,_=ia(y,["route"]);_.redirectTo!==void 0&&(_.redirectTo=Ll(l,_.redirectTo));for(let[I,T]of Object.entries(_))T===void 0&&delete _[I];let C=Ll(l,S);a.insert(C,_)}return{appShellRoute:d,routeTree:a,errors:h}})}return s?CU(o(),s,"Routes extraction"):o()}var _x=class{store=new Map;run(e,t){return O(this,null,function*(){let r=this.store.get(e);switch(e){case"html:transform:pre":{if(!r)return t.html;let i=K({},t);for(let s of r)i.html=yield s(i);return i.html}default:throw new Error(`Running hook "${e}" is not supported.`)}})}on(e,t){let r=this.store.get(e);r?r.push(t):this.store.set(e,[t])}has(e){return!!this.store.get(e)?.length}},Ex=class n{routeTree;constructor(e){this.routeTree=e}static#e;static from(e,t){if(e.routes){let r=Gm.fromObject(e.routes);return Promise.resolve(new n(r))}return n.#e??=AU({url:t,manifest:e}).then(({routeTree:r,errors:i})=>{if(i.length>0)throw new Error(`Error(s) occurred while extracting routes:
`+i.map(s=>`- ${s}`).join(`
`));return new n(r)}).finally(()=>{n.#e=void 0}),n.#e}match(e){let{pathname:t}=SU(e);return this.routeTree.match(decodeURIComponent(t))}};function Bue(n){return O(this,null,function*(){let e=new TextEncoder().encode(n),t=yield crypto.subtle.digest("SHA-256",e),r=[];for(let i of new Uint8Array(t))r.push(i.toString(16).padStart(2,"0"));return r.join("")})}var vU=/^this\.media=["'](.*)["'];?$/,NU="ngCspMedia",bU=`(() => {
  const CSP_MEDIA_ATTR = '${NU}';
  const documentElement = document.documentElement;

  // Listener for load events on link tags.
  const listener = (e) => {
    const target = e.target;
    if (
      !target ||
      target.tagName !== 'LINK' ||
      !target.hasAttribute(CSP_MEDIA_ATTR)
    ) {
      return;
    }

    target.media = target.getAttribute(CSP_MEDIA_ATTR);
    target.removeAttribute(CSP_MEDIA_ATTR);

    if (!document.head.querySelector(\`link[\${CSP_MEDIA_ATTR}]\`)) {
      documentElement.removeEventListener('load', listener);
    }
  };

  documentElement.addEventListener('load', listener, true);
})();`,wx=class extends o1{},Sx=class n extends wx{readFile;outputPath;addedCspScriptsDocuments=new WeakSet;documentNonces=new WeakMap;constructor(e,t){super({logger:{warn:r=>console.warn(r),error:r=>console.error(r),info:()=>{}},logLevel:"warn",path:t,publicPath:void 0,compress:!1,pruneSource:!1,reduceInlineStyles:!1,mergeStylesheets:!1,preload:"media",noscriptFallback:!0,inlineFonts:!0}),this.readFile=e,this.outputPath=t}embedLinkedStylesheet(e,t){return O(this,null,function*(){if(e.getAttribute("media")==="print"&&e.next?.name==="noscript"){let s=e.getAttribute("onload")?.match(vU);s&&(e.removeAttribute("onload"),e.setAttribute("media",s[1]),e?.next?.remove())}let r=yield FS(n.prototype,this,"embedLinkedStylesheet").call(this,e,t),i=this.findCspNonce(t);if(i){let s=e.getAttribute("onload")?.match(vU);s&&(e.removeAttribute("onload"),e.setAttribute(NU,s[1]),this.conditionallyInsertCspLoadingScript(t,i,e)),t.head.children.forEach(o=>{o.tagName==="style"&&!o.hasAttribute("nonce")&&o.setAttribute("nonce",i)})}return r})}findCspNonce(e){if(this.documentNonces.has(e))return this.documentNonces.get(e);let t=e.querySelector("[ngCspNonce], [ngcspnonce]"),r=t?.getAttribute("ngCspNonce")||t?.getAttribute("ngcspnonce")||null;return this.documentNonces.set(e,r),r}conditionallyInsertCspLoadingScript(e,t,r){if(this.addedCspScriptsDocuments.has(e))return;if(e.head.textContent.includes(bU)){this.addedCspScriptsDocuments.add(e);return}let i=e.createElement("script");i.setAttribute("nonce",t),i.textContent=bU,e.head.insertBefore(i,r),this.addedCspScriptsDocuments.add(e)}},Tx=class{capacity;cache=new Map;head;tail;constructor(e){this.capacity=e}get(e){let t=this.cache.get(e);if(t)return this.moveToHead(t),t.value}put(e,t){let r=this.cache.get(e);if(r){r.value=t,this.moveToHead(r);return}let i={key:e,value:t,prev:void 0,next:void 0};if(this.cache.set(e,i),this.addToHead(i),this.cache.size>this.capacity){let s=this.removeTail();s&&this.cache.delete(s.key)}}addToHead(e){e.next=this.head,e.prev=void 0,this.head&&(this.head.prev=e),this.head=e,this.tail||(this.tail=e)}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}moveToHead(e){this.removeNode(e),this.addToHead(e)}removeTail(){let e=this.tail;return e&&this.removeNode(e),e}},Vue=50,que={[fn.Prerender]:"ssg",[fn.Server]:"ssr",[fn.Client]:""},Cx=class{options;allowStaticRouteRender;hooks;constructor(e={}){this.options=e,this.allowStaticRouteRender=this.options.allowStaticRouteRender??!1,this.hooks=e.hooks??new _x}manifest=EU();assets=new g1(this.manifest);router;inlineCriticalCssProcessor;boostrap;criticalCssLRUCache=new Tx(Vue);handle(e,t){return O(this,null,function*(){let r=new URL(e.url);this.router??=yield Ex.from(this.manifest,r);let i=this.router.match(r);if(!i)return null;let{redirectTo:s,status:o,renderMode:a}=i;if(s!==void 0)return new Response(null,{status:o??302,headers:{Location:kue(s,r.pathname)}});if(a===fn.Prerender){let u=yield this.handleServe(e,i);if(u)return u}return CU(this.handleRendering(e,i,t),e.signal,`Request for: ${e.url}`)})}handleServe(e,t){return O(this,null,function*(){let{headers:r,renderMode:i}=t;if(i!==fn.Prerender)return null;let{method:s}=e;if(s!=="GET"&&s!=="HEAD")return null;let o=this.buildServerAssetPathFromRequest(e),{manifest:{locale:a},assets:u}=this;if(!u.hasServerAsset(o))return null;let{text:c,hash:l,size:d}=u.getServerAsset(o),f=`"${l}"`;return e.headers.get("if-none-match")===f?new Response(void 0,{status:304,statusText:"Not Modified"}):new Response(yield c(),{headers:K(K({"Content-Length":d.toString(),ETag:f,"Content-Type":"text/html;charset=UTF-8"},a!==void 0?{"Content-Language":a}:{}),r)})})}handleRendering(e,t,r){return O(this,null,function*(){let{renderMode:i,headers:s,status:o,preload:a}=t;if(!this.allowStaticRouteRender&&i===fn.Prerender)return null;let u=new URL(e.url),c=[],{manifest:{bootstrap:l,inlineCriticalCss:d,locale:f},assets:h}=this,g={status:o,headers:new Headers(K(K({"Content-Type":"text/html;charset=UTF-8"},f!==void 0?{"Content-Language":f}:{}),s))};if(i===fn.Server)c.push({provide:s5,useValue:e},{provide:a5,useValue:r},{provide:o5,useValue:g});else if(i===fn.Client){let S=yield this.assets.getServerAsset("index.csr.html").text();return S=yield this.runTransformsOnHtml(S,u,a),new Response(S,g)}f!==void 0&&c.push({provide:cf,useValue:f}),this.boostrap??=yield l();let y=yield h.getIndexServerHtml().text();if(y=yield this.runTransformsOnHtml(y,u,a),y=yield Mue(y,this.boostrap,u,c,que[i]),d)if(this.inlineCriticalCssProcessor??=new Sx(S=>{let _=S.split("/").pop()??S;return this.assets.getServerAsset(_).text()}),i===fn.Server&&typeof crypto>"u"&&console.error("The global 'crypto' module is unavailable. If you are running on Node.js, please ensure you are using version 20 or later, which includes built-in support for the Web Crypto module."),i===fn.Server&&typeof crypto<"u"){let S=yield Bue(y),_=this.criticalCssLRUCache.get(S);_===void 0&&(_=yield this.inlineCriticalCssProcessor.process(y),this.criticalCssLRUCache.put(S,_)),y=_}else y=yield this.inlineCriticalCssProcessor.process(y);return new Response(y,g)})}buildServerAssetPathFromRequest(e){let{pathname:t}=new URL(e.url);t.endsWith("/index.html")||(t=Ll(t,"index.html"));let{baseHref:r}=this.manifest;return r.length>1&&t.startsWith(r)&&(t=t.slice(r.length)),Pl(t)}runTransformsOnHtml(e,t,r){return O(this,null,function*(){return this.hooks.has("html:transform:pre")&&(e=yield this.hooks.run("html:transform:pre",{html:e,url:t})),r?.length&&(e=$ue(e,r)),e})}},RU;function jue(n){return RU??=new Cx(n)}function Hue(){RU=void 0}function $ue(n,e){let t=n.lastIndexOf("</body>");return t===-1?n:[n.slice(0,t),...e.map(r=>`<link rel="modulepreload" href="${r}">`),n.slice(t)].join(`
`)}_U(zue);var kU=()=>{};var Gue={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var PU=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Wue=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},v1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,h=c&63;u||(h=64,o||(f=64)),r.push(t[l],t[d],t[f],t[h])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Wue(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let c=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new Dx;let f=s<<2|a>>4;if(r.push(f),c!==64){let h=a<<4&240|c>>2;if(r.push(h),d!==64){let g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Dx=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Kue=function(n){let e=PU(n);return v1.encodeByteArray(e,!0)},Km=function(n){return Kue(n).replace(/\./g,"")},b1=function(n){try{return v1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ax(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Que=()=>Ax().__FIREBASE_DEFAULTS__,Yue=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Jue=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&b1(n[1]);return e&&JSON.parse(e)},Nx=()=>{try{return kU()||Que()||Yue()||Jue()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Rx=n=>{var e,t;return(t=(e=Nx())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_1=n=>{let e=Rx(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},kx=()=>{var n;return(n=Nx())===null||n===void 0?void 0:n.config};var Fl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function bo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Rf(n){return O(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function E1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Km(JSON.stringify(t)),Km(JSON.stringify(o)),""].join(".")}var Wm={};function Zue(){let n={prod:[],emulator:[]};for(let e of Object.keys(Wm))Wm[e]?n.emulator.push(e):n.prod.push(e);return n}function Xue(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var MU=!1;function kf(n,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||Wm[n]===e||Wm[n]||MU)return;Wm[n]=e;function t(f){return`__firebase__banner__${f}`}let r="__firebase__banner",s=Zue().prod.length>0;function o(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function u(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{MU=!0,o()},f}function l(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=Xue(r),h=t("text"),g=document.getElementById(h)||document.createElement("span"),y=t("learnmore"),S=document.getElementById(y)||document.createElement("a"),_=t("preprendIcon"),C=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let I=f.element;a(I),l(S,y);let T=c();u(C,_),I.append(C,g,S,T),document.body.appendChild(I)}s?(g.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Ii(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ii())}function ece(){var n;let e=(n=Nx())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UU(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VU(){return!ece()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qm(){try{return typeof indexedDB=="object"}catch{return!1}}function qU(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var tce="FirebaseError",Gr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=tce,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fs.prototype.create)}},Fs=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?nce(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gr(i,a,r)}};function nce(n,e){return n.replace(rce,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var rce=/\{\$([^}]+)}/g;function _o(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(OU(s)&&OU(o)){if(!_o(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function OU(n){return n!==null&&typeof n=="object"}function Mx(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mf(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Of(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function jU(n,e){let t=new xx(n,e);return t.subscribe.bind(t)}var xx=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ice(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ix),i.error===void 0&&(i.error=Ix),i.complete===void 0&&(i.complete=Ix);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ice(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ix(){}var g4e=4*60*60*1e3;function en(n){return n&&n._delegate?n._delegate:n}Gue.NODE_CLIENT=!0;var Cr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ul="[DEFAULT]";var Ox=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Fl;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oce(e))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return O(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ul){return this.instances.has(e)}getOptions(e=Ul){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sce(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ul){return this.component?this.component.multipleInstances?e:Ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function sce(n){return n===Ul?void 0:n}function oce(n){return n.instantiationMode==="EAGER"}var w1=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ox(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var ace=[],vt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(vt||{}),uce={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},cce=vt.INFO,lce={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},dce=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=lce[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Eo=class{constructor(e){this.name=e,this._logLevel=cce,this._logHandler=dce,this._userLogHandler=null,ace.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}};var fce=(n,e)=>e.some(t=>n instanceof t),HU,$U;function hce(){return HU||(HU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pce(){return $U||($U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var zU=new WeakMap,Lx=new WeakMap,GU=new WeakMap,Px=new WeakMap,Ux=new WeakMap;function mce(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(wo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&zU.set(t,n)}).catch(()=>{}),Ux.set(e,n),e}function gce(n){if(Lx.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Lx.set(n,e)}var Fx={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lx.get(n);if(e==="objectStoreNames")return n.objectStoreNames||GU.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function WU(n){Fx=n(Fx)}function yce(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(S1(this),e,...t);return GU.set(r,e.sort?e.sort():[e]),wo(r)}:pce().includes(n)?function(...e){return n.apply(S1(this),e),wo(zU.get(this))}:function(...e){return wo(n.apply(S1(this),e))}}function vce(n){return typeof n=="function"?yce(n):(n instanceof IDBTransaction&&gce(n),fce(n,hce())?new Proxy(n,Fx):n)}function wo(n){if(n instanceof IDBRequest)return mce(n);if(Px.has(n))return Px.get(n);let e=vce(n);return e!==n&&(Px.set(n,e),Ux.set(e,n)),e}var S1=n=>Ux.get(n);function QU(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=wo(o);return r&&o.addEventListener("upgradeneeded",u=>{r(wo(o.result),u.oldVersion,u.newVersion,wo(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var bce=["get","getKey","getAll","getAllKeys","count"],_ce=["put","add","delete","clear"],Bx=new Map;function KU(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bx.get(e))return Bx.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=_ce.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bce.includes(t)))return;let s=function(o,...a){return O(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),i&&u.done]))[0]})};return Bx.set(e,s),s}WU(n=>me(K({},n),{get:(e,t,r)=>KU(e,t)||n.get(e,t,r),has:(e,t)=>!!KU(e,t)||n.has(e,t)}));var qx=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ece(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Ece(n){let e=n.getComponent();return e?.type==="VERSION"}var jx="@firebase/app",YU="0.13.2";var wa=new Eo("@firebase/app"),wce="@firebase/app-compat",Sce="@firebase/analytics-compat",Tce="@firebase/analytics",Cce="@firebase/app-check-compat",Ice="@firebase/app-check",Dce="@firebase/auth",xce="@firebase/auth-compat",Ace="@firebase/database",Nce="@firebase/data-connect",Rce="@firebase/database-compat",kce="@firebase/functions",Mce="@firebase/functions-compat",Oce="@firebase/installations",Pce="@firebase/installations-compat",Lce="@firebase/messaging",Fce="@firebase/messaging-compat",Uce="@firebase/performance",Bce="@firebase/performance-compat",Vce="@firebase/remote-config",qce="@firebase/remote-config-compat",jce="@firebase/storage",Hce="@firebase/storage-compat",$ce="@firebase/firestore",zce="@firebase/ai",Gce="@firebase/firestore-compat",Wce="firebase",Kce="11.10.0";var Hx="[DEFAULT]",Qce={[jx]:"fire-core",[wce]:"fire-core-compat",[Tce]:"fire-analytics",[Sce]:"fire-analytics-compat",[Ice]:"fire-app-check",[Cce]:"fire-app-check-compat",[Dce]:"fire-auth",[xce]:"fire-auth-compat",[Ace]:"fire-rtdb",[Nce]:"fire-data-connect",[Rce]:"fire-rtdb-compat",[kce]:"fire-fn",[Mce]:"fire-fn-compat",[Oce]:"fire-iid",[Pce]:"fire-iid-compat",[Lce]:"fire-fcm",[Fce]:"fire-fcm-compat",[Uce]:"fire-perf",[Bce]:"fire-perf-compat",[Vce]:"fire-rc",[qce]:"fire-rc-compat",[jce]:"fire-gcs",[Hce]:"fire-gcs-compat",[$ce]:"fire-fst",[Gce]:"fire-fst-compat",[zce]:"fire-vertex","fire-js":"fire-js",[Wce]:"fire-js-all"};var Ym=new Map,Yce=new Map,$x=new Map;function JU(n,e){try{n.container.addComponent(e)}catch(t){wa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Di(n){let e=n.name;if($x.has(e))return wa.debug(`There were multiple attempts to register component ${e}.`),!1;$x.set(e,n);for(let t of Ym.values())JU(t,n);for(let t of Yce.values())JU(t,n);return!0}function Pu(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function di(n){return n==null?!1:n.settings!==void 0}var Jce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ou=new Fs("app","Firebase",Jce);var zx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ou.create("app-deleted",{appName:this._name})}};var Lu=Kce;function Kx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Hx,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ou.create("bad-app-name",{appName:String(i)});if(t||(t=kx()),!t)throw Ou.create("no-options");let s=Ym.get(i);if(s){if(_o(t,s.options)&&_o(r,s.config))return s;throw Ou.create("duplicate-app",{appName:i})}let o=new w1(i);for(let u of $x.values())o.addComponent(u);let a=new zx(t,r,o);return Ym.set(i,a),a}function Sa(n=Hx){let e=Ym.get(n);if(!e&&n===Hx&&kx())return Kx();if(!e)throw Ou.create("no-app",{appName:n});return e}function T1(){return Array.from(Ym.values())}function an(n,e,t){var r;let i=(r=Qce[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wa.warn(a.join(" "));return}Di(new Cr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Zce="firebase-heartbeat-database",Xce=1,Jm="firebase-heartbeat-store",Vx=null;function tB(){return Vx||(Vx=QU(Zce,Xce,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jm)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ou.create("idb-open",{originalErrorMessage:n.message})})),Vx}function ele(n){return O(this,null,function*(){try{let t=(yield tB()).transaction(Jm),r=yield t.objectStore(Jm).get(nB(n));return yield t.done,r}catch(e){if(e instanceof Gr)wa.warn(e.message);else{let t=Ou.create("idb-get",{originalErrorMessage:e?.message});wa.warn(t.message)}}})}function ZU(n,e){return O(this,null,function*(){try{let r=(yield tB()).transaction(Jm,"readwrite");yield r.objectStore(Jm).put(e,nB(n)),yield r.done}catch(t){if(t instanceof Gr)wa.warn(t.message);else{let r=Ou.create("idb-set",{originalErrorMessage:t?.message});wa.warn(r.message)}}})}function nB(n){return`${n.name}!${n.options.appId}`}var tle=1024,nle=30,Gx=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Wx(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return O(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=XU();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>nle){let o=ile(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wa.warn(r)}})}getHeartbeatsHeader(){return O(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=XU(),{heartbeatsToSend:r,unsentEntries:i}=rle(this._heartbeatsCache.heartbeats),s=Km(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return wa.warn(t),""}})}};function XU(){return new Date().toISOString().substring(0,10)}function rle(n,e=tle){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),eB(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),eB(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Wx=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return O(this,null,function*(){return Qm()?qU().then(()=>!0).catch(()=>!1):!1})}read(){return O(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield ele(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return O(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ZU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return O(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ZU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function eB(n){return Km(JSON.stringify({version:2,heartbeats:n})).length}function ile(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function sle(n){Di(new Cr("platform-logger",e=>new qx(e),"PRIVATE")),Di(new Cr("heartbeat",e=>new Gx(e),"PRIVATE")),an(jx,YU,n),an(jx,YU,"esm2017"),an("fire-js","")}sle("");var ole="firebase",ale="11.10.0";an(ole,ale,"app");function Qx(n){n===void 0&&(Av(Qx),n=$(Nt));let e=n.get(kv);return t=>new at(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:u=>{r.next(u),o()},complete:()=>{r.complete(),o()},error:u=>{r.error(u),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var So=new vu("ANGULARFIRE2_VERSION");function Vl(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Fu=(n,e)=>{let t=e?[e]:T1(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Pf=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Pf||{}),rB=H2()&&typeof Zone<"u"?Pf.WARN:Pf.SILENT;var C1=class{zone;delegate;constructor(e,t=lT){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},To=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=$(_t);this.outsideAngular=t.runOutsideAngular(()=>new C1(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new C1(typeof Zone>"u"?void 0:Zone.current,cT))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iB=!1;function ule(n,e){!iB&&(rB>Pf.SILENT||H2())&&(iB=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),rB>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function cle(n){let e=$(_t,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Bl(n){let e=$(_t,{optional:!0});return e?e.run(()=>n()):n()}var lle=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ir(t,()=>Bl(()=>n.apply(void 0,r)))),hn=(n,e,t)=>(t||=e?Pf.WARN:Pf.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=$(To),o=$(kv),a=$(xr)}catch{return ule(n,t),n.apply(this,i)}for(let c=0;c<arguments.length;c++)typeof i[c]=="function"&&(e&&(r||=Bl(()=>o.add())),i[c]=lle(i[c],r,a));let u=cle(()=>n.apply(this,i));return e?u instanceof at?u.pipe(cu(s.outsideAngular),uu(s.insideAngular),Qx(a)):u instanceof Promise?Bl(()=>new Promise((c,l)=>{o.run(()=>u).then(d=>ir(a,()=>Bl(()=>c(d))),d=>ir(a,()=>Bl(()=>l(d))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Bl(()=>u):u instanceof at?u.pipe(cu(s.outsideAngular),uu(s.insideAngular)):Bl(()=>u)});var Us=class{constructor(e){return e}},Ta=class{constructor(){return T1()}};function dle(n){return n&&n.length===1?n[0]:new Us(Sa())}var Yx=new le("angularfire2._apps"),fle={provide:Us,useFactory:dle,deps:[[new Kn,Yx]]},hle={provide:Ta,deps:[[new Kn,Yx]]};function ple(n){return(e,t)=>{let r=t.get(ri);an("angularfire",So.full,"core"),an("angularfire",So.full,"app"),an("angular",UL.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Us(i)}}function sB(n,...e){return Ar([fle,hle,{provide:Yx,useFactory:ple(n),multi:!0,deps:[_t,Nt,To,...e]}])}var oB=hn(Kx,!0);var mle=new Map,gle={activated:!1,tokenObservers:[]},yle={initialized:!1,enabled:!1};function Bs(n){return mle.get(n)||Object.assign({},gle)}function lB(){return yle}var vle="https://content-firebaseappcheck.googleapis.com/v1";var ble="exchangeDebugToken",aB={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},EPe=24*60*60*1e3;var Xx=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return O(this,null,function*(){this.stop();try{this.pending=new Fl,this.pending.promise.catch(t=>{}),yield _le(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Fl,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function _le(n){return new Promise(e=>{setTimeout(e,n)})}var Ele={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Uu=new Fs("appCheck","AppCheck",Ele);function dB(n){if(!Bs(n).activated)throw Uu.create("use-before-activation",{appName:n.name})}function fB(r,i){return O(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let h=yield o.getHeartbeatsHeader();h&&(s["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:s},u;try{u=yield fetch(n,a)}catch(h){throw Uu.create("fetch-network-error",{originalErrorMessage:h?.message})}if(u.status!==200)throw Uu.create("fetch-status-error",{httpStatus:u.status});let c;try{c=yield u.json()}catch(h){throw Uu.create("fetch-parse-error",{originalErrorMessage:h?.message})}let l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Uu.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(l[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function hB(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${vle}/projects/${t}/apps/${r}:${ble}?key=${i}`,body:{debug_token:e}}}var wle="firebase-app-check-database",Sle=1,eA="firebase-app-check-store";var I1=null;function Tle(){return I1||(I1=new Promise((n,e)=>{try{let t=indexedDB.open(wle,Sle);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Uu.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(eA,{keyPath:"compositeKey"})}}}catch(t){e(Uu.create("storage-open",{originalErrorMessage:t?.message}))}}),I1)}function Cle(n,e){return Ile(Dle(n),e)}function Ile(n,e){return O(this,null,function*(){let r=(yield Tle()).transaction(eA,"readwrite"),s=r.objectStore(eA).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Uu.create("storage-set",{originalErrorMessage:(c=u.target.error)===null||c===void 0?void 0:c.message}))}})})}function Dle(n){return`${n.options.appId}-${n.name}`}var Zm=new Eo("@firebase/app-check");function Jx(n,e){return Qm()?Cle(n,e).catch(t=>{Zm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function pB(){return lB().enabled}function mB(){return O(this,null,function*(){let n=lB();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var xle={error:"UNKNOWN_ERROR"};function Ale(n){return v1.encodeString(JSON.stringify(n),!1)}function tA(n,e=!1,t=!1){return O(this,null,function*(){let r=n.app;dB(r);let i=Bs(r),s=i.token,o;if(s&&!Xm(s)&&(i.token=void 0,s=void 0),!s){let c=yield i.cachedTokenPromise;c&&(Xm(c)?s=c:yield Jx(r,void 0))}if(!e&&s&&Xm(s))return{token:s.token};let a=!1;if(pB())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=fB(hB(r,yield mB()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let c=yield i.exchangeTokenPromise;return yield Jx(r,c),i.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Zm.warn(c.message):t&&Zm.error(c),Zx(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield Bs(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Zm.warn(c.message):t&&Zm.error(c),o=c}let u;return s?o?Xm(s)?u={token:s.token,internalError:o}:u=Zx(o):(u={token:s.token},i.token=s,yield Jx(r,s)):u=Zx(o),a&&Mle(r,u),u})}function Nle(n){return O(this,null,function*(){let e=n.app;dB(e);let{provider:t}=Bs(e);if(pB()){let r=yield mB(),{token:i}=yield fB(hB(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function Rle(n,e,t,r){let{app:i}=n,s=Bs(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Xm(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),uB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>uB(n))}function gB(n,e){let t=Bs(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function uB(n){let{app:e}=n,t=Bs(e),r=t.tokenRefresher;r||(r=kle(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function kle(n){let{app:e}=n;return new Xx(()=>O(null,null,function*(){let t=Bs(e),r;if(t.token?r=yield tA(n,!0):r=yield tA(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Bs(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},aB.RETRIAL_MIN_WAIT,aB.RETRIAL_MAX_WAIT)}function Mle(n,e){let t=Bs(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Xm(n){return n.expireTimeMillis-Date.now()>0}function Zx(n){return{token:Ale(xle),error:n}}var nA=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Bs(this.app);for(let t of e)gB(this.app,t.next);return Promise.resolve()}};function Ole(n,e){return new nA(n,e)}function Ple(n){return{getToken:e=>tA(n,e),getLimitedUseToken:()=>Nle(n),addTokenListener:e=>Rle(n,"INTERNAL",e),removeTokenListener:e=>gB(n.app,e)}}var Lle="@firebase/app-check",Fle="0.10.1";var Ule="app-check",cB="app-check-internal";function Ble(){Di(new Cr(Ule,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Ole(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cB).initialize()})),Di(new Cr(cB,n=>{let e=n.getProvider("app-check").getImmediate();return Ple(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),an(Lle,Fle)}Ble();var Vle="app-check";var Bu=class{constructor(){return Fu(Vle)}};var qle=["localhost","0.0.0.0","127.0.0.1"],OPe=typeof window<"u"&&qle.includes(window.location.hostname);function IB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var DB=IB,xB=new Fs("auth","Firebase",IB());var A1=new Eo("@firebase/auth");function jle(n,...e){A1.logLevel<=vt.WARN&&A1.warn(`Auth (${Lu}): ${n}`,...e)}function x1(n,...e){A1.logLevel<=vt.ERROR&&A1.error(`Auth (${Lu}): ${n}`,...e)}function Lf(n,...e){throw vA(n,...e)}function yA(n,...e){return vA(n,...e)}function AB(n,e,t){let r=Object.assign(Object.assign({},DB()),{[e]:t});return new Fs("auth","Firebase",r).create(e,{appName:n.name})}function jl(n){return AB(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vA(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xB.create(n,...e)}function st(n,e,...t){if(!n)throw vA(e,...t)}function Ca(n){let e="INTERNAL ASSERTION FAILED: "+n;throw x1(e),new Error(e)}function N1(n,e){n||Ca(e)}function Hle(){return yB()==="http:"||yB()==="https:"}function yB(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function $le(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hle()||UU()||"connection"in navigator)?navigator.onLine:!0}function zle(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var sA=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,N1(t>e,"Short delay should be less than long delay!"),this.isMobile=LU()||BU()}get(){return $le()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Gle(n,e){N1(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var rg=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Wle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Kle=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qle=new sA(3e4,6e4);function ju(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ia(s,o,a,u){return O(this,arguments,function*(n,e,t,r,i={}){return NB(n,i,()=>O(null,null,function*(){let c={},l={};r&&(e==="GET"?l=r:c={body:JSON.stringify(r)});let d=Mx(Object.assign({key:n.config.apiKey},l)).slice(1),f=yield n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);let h=Object.assign({method:e,headers:f},c);return FU()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&bo(n.emulatorConfig.host)&&(h.credentials="include"),rg.fetch()(yield RB(n,n.config.apiHost,t,d),h)}))})}function NB(n,e,t){return O(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Wle),e);try{let i=new oA(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw D1(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw D1(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw D1(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw D1(n,"user-disabled",o);let l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AB(n,l,c);Lf(n,l)}}catch(i){if(i instanceof Gr)throw i;Lf(n,"network-request-failed",{message:String(i)})}})}function q1(s,o,a,u){return O(this,arguments,function*(n,e,t,r,i={}){let c=yield Ia(n,e,t,r,i);return"mfaPendingCredential"in c&&Lf(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function RB(n,e,t,r){return O(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?Gle(n.config,i):`${n.config.apiScheme}://${i}`;return Kle.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function Yle(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var oA=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yA(this.auth,"network-request-failed")),Qle.get())})}};function D1(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=yA(n,e,r);return i.customData._tokenResponse=t,i}function vB(n){return n!==void 0&&n.enterprise!==void 0}var aA=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Yle(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Jle(n,e){return O(this,null,function*(){return Ia(n,"GET","/v2/recaptchaConfig",ju(n,e))})}function Zle(n,e){return O(this,null,function*(){return Ia(n,"POST","/v1/accounts:delete",e)})}function R1(n,e){return O(this,null,function*(){return Ia(n,"POST","/v1/accounts:lookup",e)})}function tg(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function bA(n,e=!1){return O(this,null,function*(){let t=en(n),r=yield t.getIdToken(e),i=kB(r);st(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:tg(rA(i.auth_time)),issuedAtTime:tg(rA(i.iat)),expirationTime:tg(rA(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function rA(n){return Number(n)*1e3}function kB(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return x1("JWT malformed, contained fewer than 3 sections"),null;try{let i=b1(t);return i?JSON.parse(i):(x1("Failed to decode base64 JWT payload"),null)}catch(i){return x1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function bB(n){let e=kB(n);return st(e,"internal-error"),st(typeof e.exp<"u","internal-error"),st(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function k1(n,e,t=!1){return O(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Gr&&Xle(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Xle({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var uA=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>O(this,null,function*(){yield this.iteration()}),t)}iteration(){return O(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ig=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tg(this.lastLoginAt),this.creationTime=tg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function M1(n){return O(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield k1(n,R1(t,{idToken:r}));st(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?MB(s.providerUserInfo):[],a=ede(n.providerData,o),u=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!a?.length,l=u?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ig(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)})}function _A(n){return O(this,null,function*(){let e=en(n);yield M1(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function ede(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function MB(n){return n.map(e=>{var{providerId:t}=e,r=dT(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function tde(n,e){return O(this,null,function*(){let t=yield NB(n,{},()=>O(null,null,function*(){let r=Mx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield RB(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&bo(n.emulatorConfig.host)&&(u.credentials="include"),rg.fetch()(o,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function nde(n,e){return O(this,null,function*(){return Ia(n,"POST","/v2/accounts:revokeToken",ju(n,e))})}var ng=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){st(e.idToken,"internal-error"),st(typeof e.idToken<"u","internal-error"),st(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){st(e.length!==0,"internal-error");let t=bB(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return O(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(st(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return O(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield tde(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(st(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(st(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(st(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ca("not implemented")}};function Vu(n,e){st(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var qu=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=dT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ig(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return O(this,null,function*(){let t=yield k1(this,this.stsTokenManager.getToken(this.auth,e));return st(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return bA(this,e)}reload(){return _A(this)}_assign(e){this!==e&&(st(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return O(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield M1(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return O(this,null,function*(){if(di(this.auth.app))return Promise.reject(jl(this.auth));let e=yield this.getIdToken();return yield k1(this,Zle(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;let d=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(i=t.email)!==null&&i!==void 0?i:void 0,h=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,S=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,_=(c=t.createdAt)!==null&&c!==void 0?c:void 0,C=(l=t.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:I,emailVerified:T,isAnonymous:x,providerData:V,stsTokenManager:R}=t;st(I&&R,e,"internal-error");let A=ng.fromJSON(this.name,R);st(typeof I=="string",e,"internal-error"),Vu(d,e.name),Vu(f,e.name),st(typeof T=="boolean",e,"internal-error"),st(typeof x=="boolean",e,"internal-error"),Vu(h,e.name),Vu(g,e.name),Vu(y,e.name),Vu(S,e.name),Vu(_,e.name),Vu(C,e.name);let N=new n({uid:I,auth:e,email:f,emailVerified:T,displayName:d,isAnonymous:x,photoURL:g,phoneNumber:h,tenantId:y,stsTokenManager:A,createdAt:_,lastLoginAt:C});return V&&Array.isArray(V)&&(N.providerData=V.map(E=>Object.assign({},E))),S&&(N._redirectEventId=S),N}static _fromIdTokenResponse(e,t,r=!1){return O(this,null,function*(){let i=new ng;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield M1(s),s})}static _fromGetAccountInfoResponse(e,t,r){return O(this,null,function*(){let i=t.users[0];st(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?MB(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ng;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ig(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,c),u})}};var _B=new Map;function ql(n){N1(n instanceof Function,"Expected a class definition");let e=_B.get(n);return e?(N1(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_B.set(n,e),e)}var rde=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return O(this,null,function*(){return!0})}_set(t,r){return O(this,null,function*(){this.storage[t]=r})}_get(t){return O(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return O(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),cA=rde;function iA(n,e,t){return`firebase:${n}:${e}:${t}`}var O1=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=iA(this.userKey,i.apiKey,s),this.fullPersistenceKey=iA("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return O(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield R1(this.auth,{idToken:e}).catch(()=>{});return t?qu._fromGetAccountInfoResponse(this.auth,t,e):null}return qu._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return O(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return O(this,null,function*(){if(!t.length)return new n(ql(cA),e,r);let i=(yield Promise.all(t.map(c=>O(null,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||ql(cA),o=iA(r,e.config.apiKey,e.name),a=null;for(let c of t)try{let l=yield c._get(o);if(l){let d;if(typeof l=="string"){let f=yield R1(e,{idToken:l}).catch(()=>{});if(!f)break;d=yield qu._fromGetAccountInfoResponse(e,f,l)}else d=qu._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}let u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(c=>O(null,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new n(s,e,r))})}};function EB(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ade(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ide(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cde(e))return"Blackberry";if(lde(e))return"Webos";if(sde(e))return"Safari";if((e.includes("chrome/")||ode(e))&&!e.includes("edge/"))return"Chrome";if(ude(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ide(n=Ii()){return/firefox\//i.test(n)}function sde(n=Ii()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ode(n=Ii()){return/crios\//i.test(n)}function ade(n=Ii()){return/iemobile/i.test(n)}function ude(n=Ii()){return/android/i.test(n)}function cde(n=Ii()){return/blackberry/i.test(n)}function lde(n=Ii()){return/webos/i.test(n)}function OB(n,e=[]){let t;switch(n){case"Browser":t=EB(Ii());break;case"Worker":t=`${EB(Ii())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Lu}/${r}`}var lA=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return O(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function dde(t){return O(this,arguments,function*(n,e={}){return Ia(n,"GET","/v2/passwordPolicy",ju(n,e))})}var fde=6,dA=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:fde,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var P1=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L1(this),this.idTokenSubscription=new L1(this),this.beforeStateQueue=new lA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ql(t)),this._initializationPromise=this.queue(()=>O(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield O1.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return O(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return O(this,null,function*(){try{let t=yield R1(this,{idToken:e}),r=yield qu._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return O(this,null,function*(){var t;if(di(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return O(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return O(this,null,function*(){try{yield M1(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=zle()}_delete(){return O(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return O(this,null,function*(){if(di(this.app))return Promise.reject(jl(this));let t=e?en(e):null;return t&&st(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return O(this,null,function*(){if(!this._deleted)return e&&st(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>O(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return O(this,null,function*(){return di(this.app)?Promise.reject(jl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return di(this.app)?Promise.reject(jl(this)):this.queue(()=>O(this,null,function*(){yield this.assertedPersistence.setPersistence(ql(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return O(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return O(this,null,function*(){let e=yield dde(this),t=new dA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return O(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield nde(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return O(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return O(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ql(e)||this._popupRedirectResolver;st(t,this,"argument-error"),this.redirectPersistenceManager=yield O1.create(this,[ql(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return O(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>O(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return O(this,null,function*(){if(e===this.currentUser)return this.queue(()=>O(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return O(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return O(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return O(this,null,function*(){var e;if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&jle(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Hl(n){return en(n)}var L1=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=jU(t=>this.observer=t)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var PB={loadJS(){return O(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hde(n){return PB.loadJS(n)}function pde(){return PB.recaptchaEnterpriseScript}var fA=class{constructor(){this.enterprise=new hA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},hA=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},mde="recaptcha-enterprise",LB="NO_RECAPTCHA",pA=class{constructor(e){this.type=mde,this.auth=Hl(e)}verify(e="verify",t=!1){return O(this,null,function*(){function r(s){return O(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>O(null,null,function*(){Jle(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new aA(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;vB(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(LB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fA().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&vB(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=pde();u.length!==0&&(u+=a),hde(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function eg(n,e,t,r=!1,i=!1){return O(this,null,function*(){let s=new pA(n),o;if(i)o=LB;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function F1(n,e,t,r,i){return O(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield eg(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>O(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield eg(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield eg(n,e,t);return r(n,a).catch(u=>O(null,null,function*(){var c;if(((c=n._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let l=yield eg(n,e,t,!1,!0);return r(n,l)}return Promise.reject(u)}))}else{let a=yield eg(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function EA(n,e){let t=Pu(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(_o(s,e??{}))return i;Lf(i,"already-initialized")}return t.initialize({options:e})}function gde(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ql);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function wA(n,e,t){let r=Hl(n);st(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=FB(e),{host:o,port:a}=yde(e),u=a===null?"":`:${a}`,c={url:`${s}//${o}${u}/`},l=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){st(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),st(_o(c,r.config.emulator)&&_o(l,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,bo(o)?(Rf(`${s}//${o}${u}`),kf("Auth",!0)):i||vde()}function FB(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yde(n){let e=FB(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:wB(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:wB(o)}}}function wB(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function vde(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var U1=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ca("not implemented")}_getIdTokenResponse(e){return Ca("not implemented")}_linkToIdToken(e,t){return Ca("not implemented")}_getReauthenticationResolver(e){return Ca("not implemented")}};function bde(n,e){return O(this,null,function*(){return Ia(n,"POST","/v1/accounts:signUp",e)})}function _de(n,e){return O(this,null,function*(){return q1(n,"POST","/v1/accounts:signInWithPassword",ju(n,e))})}function Ede(n,e){return O(this,null,function*(){return Ia(n,"POST","/v1/accounts:sendOobCode",ju(n,e))})}function wde(n,e){return O(this,null,function*(){return Ede(n,e)})}function Sde(n,e){return O(this,null,function*(){return q1(n,"POST","/v1/accounts:signInWithEmailLink",ju(n,e))})}function Tde(n,e){return O(this,null,function*(){return q1(n,"POST","/v1/accounts:signInWithEmailLink",ju(n,e))})}var sg=class n extends U1{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return O(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F1(e,t,"signInWithPassword",_de,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Sde(e,{email:this._email,oobCode:this._password});default:Lf(e,"internal-error")}})}_linkToIdToken(e,t){return O(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F1(e,r,"signUpPassword",bde,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Tde(e,{idToken:t,email:this._email,oobCode:this._password});default:Lf(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Cde(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ide(n){let e=Mf(Of(n)).link,t=e?Mf(Of(e)).deep_link_id:null,r=Mf(Of(n)).deep_link_id;return(r?Mf(Of(r)).link:null)||r||t||e||n}var B1=class n{constructor(e){var t,r,i,s,o,a;let u=Mf(Of(e)),c=(t=u.apiKey)!==null&&t!==void 0?t:null,l=(r=u.oobCode)!==null&&r!==void 0?r:null,d=Cde((i=u.mode)!==null&&i!==void 0?i:null);st(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Ide(e);try{return new n(t)}catch{return null}}};var UB=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return sg._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=B1.parseLink(r);return st(i,"argument-error"),sg._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})();function Dde(n,e){return O(this,null,function*(){return q1(n,"POST","/v1/accounts:signUp",ju(n,e))})}var V1=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return O(this,null,function*(){let s=yield qu._fromIdTokenResponse(e,r,i),o=SB(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return O(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=SB(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function SB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var mA=class n extends Gr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function xde(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mA._fromErrorAndOperation(n,s,e,r):s})}function Ade(n,e,t=!1){return O(this,null,function*(){if(di(n.app))return Promise.reject(jl(n));let r="signIn",i=yield xde(n,r,e),s=yield V1._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function SA(n,e){return O(this,null,function*(){return Ade(Hl(n),e)})}function Nde(n,e,t){var r;st(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),st(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),st(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(st(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(st(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function BB(n){return O(this,null,function*(){let e=Hl(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function TA(n,e,t){return O(this,null,function*(){let r=Hl(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Nde(r,i,t),yield F1(r,i,"getOobCode",wde,"EMAIL_PASSWORD_PROVIDER")})}function CA(n,e,t){return O(this,null,function*(){if(di(n.app))return Promise.reject(jl(n));let r=Hl(n),o=yield F1(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dde,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&BB(n),u}),a=yield V1._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function IA(n,e,t){return di(n.app)?Promise.reject(jl(n)):SA(en(n),UB.credential(e,t)).catch(r=>O(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&BB(n),r}))}function Rde(n,e){return O(this,null,function*(){return Ia(n,"POST","/v1/accounts:update",e)})}function DA(r,i){return O(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let s=en(n),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=yield k1(s,Rde(s.auth,a));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;let c=s.providerData.find(({providerId:l})=>l==="password");c&&(c.displayName=s.displayName,c.photoURL=s.photoURL),yield s._updateTokensIfNecessary(u)})}function xA(n,e,t,r){return en(n).onAuthStateChanged(e,t,r)}function AA(n){return en(n).signOut()}var TB="@firebase/auth",CB="1.10.8";var gA=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return O(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function kde(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mde(n){Di(new Cr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;st(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OB(n)},c=new P1(r,i,s,u);return gde(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Di(new Cr("auth-internal",e=>{let t=Hl(e.getProvider("auth").getImmediate());return(r=>new gA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),an(TB,CB,kde(n)),an(TB,CB,"esm2017")}rg.initialize(fetch,Headers,Response);function j1(n=Sa()){let e=Pu(n,"auth");if(e.isInitialized())return e.getImmediate();let t=EA(n),r=Rx("auth");return r&&wA(t,`http://${r}`),t}Mde("Node");var HPe=yA("operation-not-supported-in-this-environment");P1.prototype.setPersistence=()=>O(null,null,function*(){});var VB="auth",Da=class{constructor(e){return e}},$l=class{constructor(){return Fu(VB)}};var NA=new le("angularfire2.auth-instances");function Efe(n,e){let t=Vl(VB,n,e);return t&&new Da(t)}function wfe(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Da(r)}}var Sfe={provide:$l,deps:[[new Kn,NA]]},Tfe={provide:Da,useFactory:Efe,deps:[[new Kn,NA],Us]};function qB(n,...e){return an("angularfire",So.full,"auth"),Ar([Tfe,Sfe,{provide:NA,useFactory:wfe(n),multi:!0,deps:[_t,Nt,To,Ta,[new Kn,Bu],...e]}])}var jB=hn(CA,!0,2);var HB=hn(xA,!0);var $B=hn(TA,!0,2);var zB=hn(IA,!0,2);var GB=hn(AA,!0,2);var WB=hn(DA,!0,2);import{TextEncoder as jbe,inspect as Hbe,TextDecoder as QFe}from"util";var KB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},QB={};var xa,RA;(function(){var n;function e(R,A){function N(){}N.prototype=A.prototype,R.D=A.prototype,R.prototype=new N,R.prototype.constructor=R,R.C=function(E,D,P){for(var p=Array(arguments.length-2),m=2;m<arguments.length;m++)p[m-2]=arguments[m];return A.prototype[D].apply(E,p)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,A,N){N||(N=0);var E=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)E[D]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(D=0;16>D;++D)E[D]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=R.g[0],N=R.g[1],D=R.g[2];var P=R.g[3],p=A+(P^N&(D^P))+E[0]+3614090360&4294967295;A=N+(p<<7&4294967295|p>>>25),p=P+(D^A&(N^D))+E[1]+3905402710&4294967295,P=A+(p<<12&4294967295|p>>>20),p=D+(N^P&(A^N))+E[2]+606105819&4294967295,D=P+(p<<17&4294967295|p>>>15),p=N+(A^D&(P^A))+E[3]+3250441966&4294967295,N=D+(p<<22&4294967295|p>>>10),p=A+(P^N&(D^P))+E[4]+4118548399&4294967295,A=N+(p<<7&4294967295|p>>>25),p=P+(D^A&(N^D))+E[5]+1200080426&4294967295,P=A+(p<<12&4294967295|p>>>20),p=D+(N^P&(A^N))+E[6]+2821735955&4294967295,D=P+(p<<17&4294967295|p>>>15),p=N+(A^D&(P^A))+E[7]+4249261313&4294967295,N=D+(p<<22&4294967295|p>>>10),p=A+(P^N&(D^P))+E[8]+1770035416&4294967295,A=N+(p<<7&4294967295|p>>>25),p=P+(D^A&(N^D))+E[9]+2336552879&4294967295,P=A+(p<<12&4294967295|p>>>20),p=D+(N^P&(A^N))+E[10]+4294925233&4294967295,D=P+(p<<17&4294967295|p>>>15),p=N+(A^D&(P^A))+E[11]+2304563134&4294967295,N=D+(p<<22&4294967295|p>>>10),p=A+(P^N&(D^P))+E[12]+1804603682&4294967295,A=N+(p<<7&4294967295|p>>>25),p=P+(D^A&(N^D))+E[13]+4254626195&4294967295,P=A+(p<<12&4294967295|p>>>20),p=D+(N^P&(A^N))+E[14]+2792965006&4294967295,D=P+(p<<17&4294967295|p>>>15),p=N+(A^D&(P^A))+E[15]+1236535329&4294967295,N=D+(p<<22&4294967295|p>>>10),p=A+(D^P&(N^D))+E[1]+4129170786&4294967295,A=N+(p<<5&4294967295|p>>>27),p=P+(N^D&(A^N))+E[6]+3225465664&4294967295,P=A+(p<<9&4294967295|p>>>23),p=D+(A^N&(P^A))+E[11]+643717713&4294967295,D=P+(p<<14&4294967295|p>>>18),p=N+(P^A&(D^P))+E[0]+3921069994&4294967295,N=D+(p<<20&4294967295|p>>>12),p=A+(D^P&(N^D))+E[5]+3593408605&4294967295,A=N+(p<<5&4294967295|p>>>27),p=P+(N^D&(A^N))+E[10]+38016083&4294967295,P=A+(p<<9&4294967295|p>>>23),p=D+(A^N&(P^A))+E[15]+3634488961&4294967295,D=P+(p<<14&4294967295|p>>>18),p=N+(P^A&(D^P))+E[4]+3889429448&4294967295,N=D+(p<<20&4294967295|p>>>12),p=A+(D^P&(N^D))+E[9]+568446438&4294967295,A=N+(p<<5&4294967295|p>>>27),p=P+(N^D&(A^N))+E[14]+3275163606&4294967295,P=A+(p<<9&4294967295|p>>>23),p=D+(A^N&(P^A))+E[3]+4107603335&4294967295,D=P+(p<<14&4294967295|p>>>18),p=N+(P^A&(D^P))+E[8]+1163531501&4294967295,N=D+(p<<20&4294967295|p>>>12),p=A+(D^P&(N^D))+E[13]+2850285829&4294967295,A=N+(p<<5&4294967295|p>>>27),p=P+(N^D&(A^N))+E[2]+4243563512&4294967295,P=A+(p<<9&4294967295|p>>>23),p=D+(A^N&(P^A))+E[7]+1735328473&4294967295,D=P+(p<<14&4294967295|p>>>18),p=N+(P^A&(D^P))+E[12]+2368359562&4294967295,N=D+(p<<20&4294967295|p>>>12),p=A+(N^D^P)+E[5]+4294588738&4294967295,A=N+(p<<4&4294967295|p>>>28),p=P+(A^N^D)+E[8]+2272392833&4294967295,P=A+(p<<11&4294967295|p>>>21),p=D+(P^A^N)+E[11]+1839030562&4294967295,D=P+(p<<16&4294967295|p>>>16),p=N+(D^P^A)+E[14]+4259657740&4294967295,N=D+(p<<23&4294967295|p>>>9),p=A+(N^D^P)+E[1]+2763975236&4294967295,A=N+(p<<4&4294967295|p>>>28),p=P+(A^N^D)+E[4]+1272893353&4294967295,P=A+(p<<11&4294967295|p>>>21),p=D+(P^A^N)+E[7]+4139469664&4294967295,D=P+(p<<16&4294967295|p>>>16),p=N+(D^P^A)+E[10]+3200236656&4294967295,N=D+(p<<23&4294967295|p>>>9),p=A+(N^D^P)+E[13]+681279174&4294967295,A=N+(p<<4&4294967295|p>>>28),p=P+(A^N^D)+E[0]+3936430074&4294967295,P=A+(p<<11&4294967295|p>>>21),p=D+(P^A^N)+E[3]+3572445317&4294967295,D=P+(p<<16&4294967295|p>>>16),p=N+(D^P^A)+E[6]+76029189&4294967295,N=D+(p<<23&4294967295|p>>>9),p=A+(N^D^P)+E[9]+3654602809&4294967295,A=N+(p<<4&4294967295|p>>>28),p=P+(A^N^D)+E[12]+3873151461&4294967295,P=A+(p<<11&4294967295|p>>>21),p=D+(P^A^N)+E[15]+530742520&4294967295,D=P+(p<<16&4294967295|p>>>16),p=N+(D^P^A)+E[2]+3299628645&4294967295,N=D+(p<<23&4294967295|p>>>9),p=A+(D^(N|~P))+E[0]+4096336452&4294967295,A=N+(p<<6&4294967295|p>>>26),p=P+(N^(A|~D))+E[7]+1126891415&4294967295,P=A+(p<<10&4294967295|p>>>22),p=D+(A^(P|~N))+E[14]+2878612391&4294967295,D=P+(p<<15&4294967295|p>>>17),p=N+(P^(D|~A))+E[5]+4237533241&4294967295,N=D+(p<<21&4294967295|p>>>11),p=A+(D^(N|~P))+E[12]+1700485571&4294967295,A=N+(p<<6&4294967295|p>>>26),p=P+(N^(A|~D))+E[3]+2399980690&4294967295,P=A+(p<<10&4294967295|p>>>22),p=D+(A^(P|~N))+E[10]+4293915773&4294967295,D=P+(p<<15&4294967295|p>>>17),p=N+(P^(D|~A))+E[1]+2240044497&4294967295,N=D+(p<<21&4294967295|p>>>11),p=A+(D^(N|~P))+E[8]+1873313359&4294967295,A=N+(p<<6&4294967295|p>>>26),p=P+(N^(A|~D))+E[15]+4264355552&4294967295,P=A+(p<<10&4294967295|p>>>22),p=D+(A^(P|~N))+E[6]+2734768916&4294967295,D=P+(p<<15&4294967295|p>>>17),p=N+(P^(D|~A))+E[13]+1309151649&4294967295,N=D+(p<<21&4294967295|p>>>11),p=A+(D^(N|~P))+E[4]+4149444226&4294967295,A=N+(p<<6&4294967295|p>>>26),p=P+(N^(A|~D))+E[11]+3174756917&4294967295,P=A+(p<<10&4294967295|p>>>22),p=D+(A^(P|~N))+E[2]+718787259&4294967295,D=P+(p<<15&4294967295|p>>>17),p=N+(P^(D|~A))+E[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(D+(p<<21&4294967295|p>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+P&4294967295}r.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var N=A-this.blockSize,E=this.B,D=this.h,P=0;P<A;){if(D==0)for(;P<=N;)i(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<A;)if(E[D++]=R.charCodeAt(P++),D==this.blockSize){i(this,E),D=0;break}}else for(;P<A;)if(E[D++]=R[P++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=A},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var N=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=N&255,N/=256;for(this.u(R),R=Array(16),A=N=0;4>A;++A)for(var E=0;32>E;E+=8)R[N++]=this.g[A]>>>E&255;return R};function s(R,A){var N=a;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=A(R)}function o(R,A){this.h=A;for(var N=[],E=!0,D=R.length-1;0<=D;D--){var P=R[D]|0;E&&P==A||(N[D]=P,E=!1)}this.g=N}var a={};function u(R){return-128<=R&&128>R?s(R,function(A){return new o([A|0],0>A?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return d;if(0>R)return S(c(-R));for(var A=[],N=1,E=0;R>=N;E++)A[E]=R/N|0,N*=4294967296;return new o(A,0)}function l(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return S(l(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=c(Math.pow(A,8)),E=d,D=0;D<R.length;D+=8){var P=Math.min(8,R.length-D),p=parseInt(R.substring(D,D+P),A);8>P?(P=c(Math.pow(A,P)),E=E.j(P).add(c(p))):(E=E.j(N),E=E.add(c(p)))}return E}var d=u(0),f=u(1),h=u(16777216);n=o.prototype,n.m=function(){if(y(this))return-S(this).m();for(var R=0,A=1,N=0;N<this.g.length;N++){var E=this.i(N);R+=(0<=E?E:4294967296+E)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(g(this))return"0";if(y(this))return"-"+S(this).toString(R);for(var A=c(Math.pow(R,6)),N=this,E="";;){var D=T(N,A).g;N=_(N,D.j(A));var P=((0<N.g.length?N.g[0]:N.h)>>>0).toString(R);if(N=D,g(N))return P+E;for(;6>P.length;)P="0"+P;E=P+E}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function g(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function y(R){return R.h==-1}n.l=function(R){return R=_(this,R),y(R)?-1:g(R)?0:1};function S(R){for(var A=R.g.length,N=[],E=0;E<A;E++)N[E]=~R.g[E];return new o(N,~R.h).add(f)}n.abs=function(){return y(this)?S(this):this},n.add=function(R){for(var A=Math.max(this.g.length,R.g.length),N=[],E=0,D=0;D<=A;D++){var P=E+(this.i(D)&65535)+(R.i(D)&65535),p=(P>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);E=p>>>16,P&=65535,p&=65535,N[D]=p<<16|P}return new o(N,N[N.length-1]&-2147483648?-1:0)};function _(R,A){return R.add(S(A))}n.j=function(R){if(g(this)||g(R))return d;if(y(this))return y(R)?S(this).j(S(R)):S(S(this).j(R));if(y(R))return S(this.j(S(R)));if(0>this.l(h)&&0>R.l(h))return c(this.m()*R.m());for(var A=this.g.length+R.g.length,N=[],E=0;E<2*A;E++)N[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<R.g.length;D++){var P=this.i(E)>>>16,p=this.i(E)&65535,m=R.i(D)>>>16,v=R.i(D)&65535;N[2*E+2*D]+=p*v,C(N,2*E+2*D),N[2*E+2*D+1]+=P*v,C(N,2*E+2*D+1),N[2*E+2*D+1]+=p*m,C(N,2*E+2*D+1),N[2*E+2*D+2]+=P*m,C(N,2*E+2*D+2)}for(E=0;E<A;E++)N[E]=N[2*E+1]<<16|N[2*E];for(E=A;E<2*A;E++)N[E]=0;return new o(N,0)};function C(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function I(R,A){this.g=R,this.h=A}function T(R,A){if(g(A))throw Error("division by zero");if(g(R))return new I(d,d);if(y(R))return A=T(S(R),A),new I(S(A.g),S(A.h));if(y(A))return A=T(R,S(A)),new I(S(A.g),A.h);if(30<R.g.length){if(y(R)||y(A))throw Error("slowDivide_ only works with positive integers.");for(var N=f,E=A;0>=E.l(R);)N=x(N),E=x(E);var D=V(N,1),P=V(E,1);for(E=V(E,2),N=V(N,2);!g(E);){var p=P.add(E);0>=p.l(R)&&(D=D.add(N),P=p),E=V(E,1),N=V(N,1)}return A=_(R,D.j(A)),new I(D,A)}for(D=d;0<=R.l(A);){for(N=Math.max(1,Math.floor(R.m()/A.m())),E=Math.ceil(Math.log(N)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),P=c(N),p=P.j(A);y(p)||0<p.l(R);)N-=E,P=c(N),p=P.j(A);g(P)&&(P=f),D=D.add(P),R=_(R,p)}return new I(D,R)}n.A=function(R){return T(this,R).h},n.and=function(R){for(var A=Math.max(this.g.length,R.g.length),N=[],E=0;E<A;E++)N[E]=this.i(E)&R.i(E);return new o(N,this.h&R.h)},n.or=function(R){for(var A=Math.max(this.g.length,R.g.length),N=[],E=0;E<A;E++)N[E]=this.i(E)|R.i(E);return new o(N,this.h|R.h)},n.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),N=[],E=0;E<A;E++)N[E]=this.i(E)^R.i(E);return new o(N,this.h^R.h)};function x(R){for(var A=R.g.length+1,N=[],E=0;E<A;E++)N[E]=R.i(E)<<1|R.i(E-1)>>>31;return new o(N,R.h)}function V(R,A){var N=A>>5;A%=32;for(var E=R.g.length-N,D=[],P=0;P<E;P++)D[P]=0<A?R.i(P+N)>>>A|R.i(P+N+1)<<32-A:R.i(P+N);return new o(D,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RA=QB.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=l,xa=QB.Integer=o}).apply(typeof KB<"u"?KB:typeof self<"u"?self:typeof window<"u"?window:{});var sd=h6(g$(),1),iz=h6(DR(),1);import{randomBytes as $be}from"crypto";var y$="@firebase/firestore",v$="4.8.0";var gr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gr.UNAUTHENTICATED=new gr(null);gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid");gr.FIRST_PARTY=new gr("first-party-uid");gr.MOCK_USER=new gr("mock-user");var zbe="11.10.0";var Vh=zbe;function Gbe(n){Vh=n}function Wbe(n){return Hbe(n,{depth:100})}var od=new Eo("@firebase/firestore");function Eh(){return od.logLevel}function Te(n,...e){if(od.logLevel<=vt.DEBUG){let t=e.map(PM);od.debug(`Firestore (${Vh}): ${n}`,...t)}}function Ys(n,...e){if(od.logLevel<=vt.ERROR){let t=e.map(PM);od.error(`Firestore (${Vh}): ${n}`,...t)}}function mc(n,...e){if(od.logLevel<=vt.WARN){let t=e.map(PM);od.warn(`Firestore (${Vh}): ${n}`,...t)}}function PM(n){if(typeof n=="string")return n;try{return Wbe(n)}catch{return n}}function ze(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,sz(n,r,t)}function sz(n,e,t){let r=`FIRESTORE (${Vh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{let i=JSON.stringify(t);r+=" CONTEXT: "+i}catch{r+=" CONTEXT: "+t}throw Ys(r),new Error(r)}function $t(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||sz(e,i,r)}function Je(n,e){return n}var te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ve=class extends Gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var os=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var HE=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},i3=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gr.UNAUTHENTICATED))}shutdown(){}},s3=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},o3=class{constructor(e){this.authProvider=e,this.currentUser=gr.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(e,t){$t(this.tokenListener===void 0,42304);let r=this.tokenCounter,i=u=>this.tokenCounter!==r?(r=this.tokenCounter,t(u)):Promise.resolve(),s=new os;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),s.resolve(),s=new os,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>O(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.tokenListener&&(this.auth.addAuthTokenListener(this.tokenListener),o())};this.authProvider.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.authProvider.getImmediate({optional:!0});u?a(u):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new os)}},0),o()}getToken(){let e=this.tokenCounter,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.tokenCounter!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{tokenData:r}),new HE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.tokenListener&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=void 0}getUser(){let e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{currentUid:e}),new gr(e)}},a3=class{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let e=this.getAuthToken();return e&&this._headers.set("Authorization",e),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}},u3=class{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r}getToken(){return Promise.resolve(new a3(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,t){e.enqueueRetryable(()=>t(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},$E=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},c3=class{constructor(e,t){this.appCheckProvider=t,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null,this.serverAppAppCheckToken=null,di(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken)}start(e,t){$t(this.tokenListener===void 0,3512);let r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.latestAppCheckToken;return this.latestAppCheckToken=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.tokenListener=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.tokenListener&&this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.appCheckProvider.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.serverAppAppCheckToken)return Promise.resolve(new $E(this.serverAppAppCheckToken));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($t(typeof t.token=="string",44558,{tokenResult:t}),this.latestAppCheckToken=t.token,new $E(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.tokenListener&&this.appCheck.removeTokenListener(this.tokenListener),this.tokenListener=void 0}};function Kbe(n){if(!n)return new i3;switch(n.type){case"firstParty":return new u3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ve(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}function Qbe(n){return $be(n)}function LM(){return new jbe}var Dh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="",i=20;for(;r.length<i;){let s=Qbe(40);for(let o=0;o<s.length;++o)r.length<i&&s[o]<t&&(r+=e.charAt(s[o]%e.length))}return r}};function pt(n,e){return n<e?-1:n>e?1:0}function FM(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return pt(r,i);{let s=LM(),o=s.encode(b$(n,t)),a=s.encode(b$(e,t)),u=Ybe(o,a);return u!==0?u:pt(r,i)}}t+=r>65535?2:1}return pt(n.length,e.length)}function b$(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Ybe(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return pt(n[t],e[t]);return pt(n.length,e.length)}function ad(n,e,t){return n.length!==e.length?!1:n.every((r,i)=>t(r,e[i]))}var _$="__name__",zE=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ze(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ze(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return pt(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):FM(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}},vn=class n extends zE{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ve(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Jbe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Oi=class n extends zE{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Jbe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_$}static keyField(){return new n([_$])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ve(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(!(u==="\\"||u==="."||u==="`"))throw new ve(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a==="."&&!o?(s(),i++):(r+=a,i++)}if(s(),o)throw new ve(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Be=class n{constructor(e){this.path=e}static fromPath(e){return new n(vn.fromString(e))}static fromName(e){return new n(vn.fromString(e).popFirst(5))}static empty(){return new n(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2===0}static fromSegments(e){return new n(new vn(e.slice()))}};function oz(n,e,t){if(!t)throw new ve(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Zbe(n,e,t,r){if(e===!0&&r===!0)throw new ve(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function E$(n){if(!Be.isDocumentKey(n))throw new ve(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function w$(n){if(Be.isDocumentKey(n))throw new ve(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function az(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ww(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=Xbe(n);return e?`a custom ${e} object`:"an object"}}else return typeof n=="function"?"a function":ze(12329,{type:typeof n})}function Xbe(n){return n.constructor?n.constructor.name:null}function Vr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ww(n);throw new ve(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Xn(n,e){let t={typeString:n};return e&&(t.value=e),t}function d0(n,e){if(!az(n))throw new ve(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}else if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new ve(te.INVALID_ARGUMENT,t);return!0}var S$=-62135596800,T$=1e6,cn=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-t*1e3)*T$);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<S$)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return this.seconds*1e3+this.nanoseconds/T$}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(d0(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-S$,t=String(e).padStart(12,"0"),r=String(this.nanoseconds).padStart(9,"0");return t+"."+r}};cn._jsonSchemaVersion="firestore/timestamp/1.0";cn._jsonSchema={type:Xn("string",cn._jsonSchemaVersion),seconds:Xn("number"),nanoseconds:Xn("number")};var et=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new cn(0,0))}static max(){return new n(new cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return this.timestamp.seconds*1e6+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kg=-1;function e1e(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new cn(t+1,0):new cn(t,r));return new ud(i,Be.empty(),e)}function t1e(n){return new ud(n.readTime,n.key,Kg)}var ud=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(et.min(),Be.empty(),Kg)}static max(){return new n(et.max(),Be.empty(),Kg)}};function n1e(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0||(t=Be.comparator(n.documentKey,e.documentKey),t!==0)?t:pt(n.largestBatchId,e.largestBatchId)}var r1e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",l3=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function qh(n){return O(this,null,function*(){if(n.code===te.FAILED_PRECONDITION&&n.message===r1e)Te("LocalStore","Unexpectedly lost primary lease");else throw n})}var oe=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function i1e(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jh(n){return n.name==="IndexedDbTransactionError"}var XFe=15*1e3,e9e=60*1e3;var UM=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.setPreviousValue(i),this.writeNewSequenceNumber=i=>r.writeSequenceNumber(i))}setPreviousValue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t}}n.INVALID=-1;return n})(),VE="",s1e="",o1e="",a1e="";function u1e(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=C$(e)),e=c1e(n.get(t),e);return C$(e)}function c1e(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+=VE+o1e;break;case VE:t+=VE+a1e;break;default:t+=s}}return t}function C$(n){return n+VE+s1e}var l1e="remoteDocuments";var uz="owner";var cz="mutationQueues";var lz="mutations";var dz="documentMutations",d1e="remoteDocumentsV14";var fz="remoteDocumentGlobal";var hz="targets";var pz="targetDocuments";var mz="targetGlobal",gz="collectionParents";var yz="clientMetadata";var vz="bundles";var bz="namedQueries";var f1e="indexConfiguration";var h1e="indexState";var p1e="indexEntries";var _z="documentOverlays";var m1e="globals";var g1e=[cz,lz,dz,l1e,hz,uz,mz,pz],y1e=g1e,v1e=[...y1e,yz],b1e=[...v1e,fz],_1e=[...b1e,gz],E1e=[..._1e,vz,bz],t9e=[...E1e,_z],w1e=[cz,lz,dz,d1e,hz,uz,mz,pz,yz,fz,gz,vz,bz,_z],S1e=w1e,T1e=[...S1e,f1e,h1e,p1e];var n9e=[...T1e,m1e];function I$(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Tc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ez(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Rn=class n{constructor(e,t){this.comparator=e,this.root=t||zg.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zg.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zg.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}},Th=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)this.isReverse?e=e.left:e=e.right;else if(s===0){this.nodeStack.push(e);break}else this.nodeStack.push(e),this.isReverse?e=e.right:e=e.left}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zg=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this,o=i(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return!t.left.isRed()&&!t.left.left.isRed()&&(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let i,s=this;if(r(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed()&&!s.left.left.isRed()&&(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),!s.right.isEmpty()&&!s.right.isRed()&&!s.right.left.isRed()&&(s=s.moveRedRight()),r(t,s.key)===0){if(s.right.isEmpty())return n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw ze(27949);return t+(this.isRed()?0:1)}}return n.EMPTY=null,n.RED=!0,n.BLACK=!1,n})(),d3=class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new zg(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};zg.EMPTY=new d3;var mr=class n{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(t!==void 0?r=this.data.getIteratorFrom(t):r=this.data.getIterator();r.hasNext();){let i=r.getNext();if(!e(i.key))return}}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GE(this.data.getIterator())}getIteratorFrom(e){return new GE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},GE=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var is=class n{constructor(e){this.fields=e,e.sort(Oi.comparator)}static empty(){return new n([])}unionWith(e){let t=new mr(Oi.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ad(this.fields,e.fields,(t,r)=>t.isEqual(r))}};function C1e(n){return Buffer.from(n,"base64").toString("binary")}function I1e(n){return Buffer.from(n,"binary").toString("base64")}var qr=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=C1e(e);return new n(t)}static fromUint8Array(e){let t=D1e(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return I1e(this.binaryString)}toUint8Array(){return x1e(this.binaryString)}approximateByteSize(){return this.binaryString.length*2}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qr.EMPTY_BYTE_STRING=new qr("");function D1e(n){let e="";for(let t=0;t<n.length;++t)e+=String.fromCharCode(n[t]);return e}function x1e(n){let e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}var A1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(n){if($t(!!n,39018),typeof n=="string"){let e=0,t=A1e.exec(n);if($t(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}else{let e=bn(n.seconds),t=bn(n.nanos);return{seconds:e,nanos:t}}}function bn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qa(n){return typeof n=="string"?qr.fromBase64String(n):qr.fromUint8Array(n)}var wz="server_timestamp",Sz="__type__",Tz="__previous_value__",Cz="__local_write_time__";function BM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sz])===null||t===void 0?void 0:t.stringValue)===wz}function N1e(n,e){let t={fields:{[Sz]:{stringValue:wz},[Cz]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return e&&BM(e)&&(e=Sw(e)),e&&(t.fields[Tz]=e),{mapValue:t}}function Sw(n){let e=n.mapValue.fields[Tz];return BM(e)?Sw(e):e}function Qg(n){let e=Va(n.mapValue.fields[Cz].timestampValue);return new cn(e.seconds,e.nanos)}var f3=class{constructor(e,t,r,i,s,o,a,u,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=l}},h3="(default)",WE=class n{constructor(e,t){this.projectId=e,this.database=t||h3}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===h3}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function R1e(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ve(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new WE(n.options.projectId,e)}var VM=-1;function Tw(n){return n==null}function Yg(n){return n===0&&1/n===-1/0}function k1e(n){return typeof n=="number"&&Number.isInteger(n)&&!Yg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var qM="__type__",Iz="__max__",FE={mapValue:{fields:{__type__:{stringValue:Iz}}}},jM="__vector__",xh="value";function yc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?BM(n)?4:Az(n)?9007199254740991:xz(n)?10:11:ze(28295,{value:n})}function Ks(n,e){if(n===e)return!0;let t=yc(n),r=yc(e);if(t!==r)return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qg(n).isEqual(Qg(e));case 3:return M1e(n,e);case 5:return n.stringValue===e.stringValue;case 6:return P1e(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return O1e(n,e);case 2:return L1e(n,e);case 9:return ad(n.arrayValue.values||[],e.arrayValue.values||[],Ks);case 10:case 11:return F1e(n,e);case 9007199254740991:return!0;default:return ze(52216,{left:n})}}function M1e(n,e){if(typeof n.timestampValue=="string"&&typeof e.timestampValue=="string"&&n.timestampValue.length===e.timestampValue.length)return n.timestampValue===e.timestampValue;let t=Va(n.timestampValue),r=Va(e.timestampValue);return t.seconds===r.seconds&&t.nanos===r.nanos}function O1e(n,e){return bn(n.geoPointValue.latitude)===bn(e.geoPointValue.latitude)&&bn(n.geoPointValue.longitude)===bn(e.geoPointValue.longitude)}function P1e(n,e){return qa(n.bytesValue).isEqual(qa(e.bytesValue))}function L1e(n,e){if("integerValue"in n&&"integerValue"in e)return bn(n.integerValue)===bn(e.integerValue);if("doubleValue"in n&&"doubleValue"in e){let t=bn(n.doubleValue),r=bn(e.doubleValue);return t===r?Yg(t)===Yg(r):isNaN(t)&&isNaN(r)}return!1}function F1e(n,e){let t=n.mapValue.fields||{},r=e.mapValue.fields||{};if(I$(t)!==I$(r))return!1;for(let i in t)if(t.hasOwnProperty(i)&&(r[i]===void 0||!Ks(t[i],r[i])))return!1;return!0}function Jg(n,e){return(n.values||[]).find(t=>Ks(t,e))!==void 0}function Ah(n,e){if(n===e)return 0;let t=yc(n),r=yc(e);if(t!==r)return pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pt(n.booleanValue,e.booleanValue);case 2:return U1e(n,e);case 3:return D$(n.timestampValue,e.timestampValue);case 4:return D$(Qg(n),Qg(e));case 5:return FM(n.stringValue,e.stringValue);case 6:return q1e(n.bytesValue,e.bytesValue);case 7:return B1e(n.referenceValue,e.referenceValue);case 8:return V1e(n.geoPointValue,e.geoPointValue);case 9:return Dz(n.arrayValue,e.arrayValue);case 10:return j1e(n.mapValue,e.mapValue);case 11:return H1e(n.mapValue,e.mapValue);default:throw ze(23264,{leftType:t})}}function U1e(n,e){let t=bn(n.integerValue||n.doubleValue),r=bn(e.integerValue||e.doubleValue);return t<r?-1:t>r?1:t===r?0:isNaN(t)?isNaN(r)?0:-1:1}function D$(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pt(n,e);let t=Va(n),r=Va(e),i=pt(t.seconds,r.seconds);return i!==0?i:pt(t.nanos,r.nanos)}function B1e(n,e){let t=n.split("/"),r=e.split("/");for(let i=0;i<t.length&&i<r.length;i++){let s=pt(t[i],r[i]);if(s!==0)return s}return pt(t.length,r.length)}function V1e(n,e){let t=pt(bn(n.latitude),bn(e.latitude));return t!==0?t:pt(bn(n.longitude),bn(e.longitude))}function q1e(n,e){let t=qa(n),r=qa(e);return t.compareTo(r)}function Dz(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Ah(t[i],r[i]);if(s)return s}return pt(t.length,r.length)}function j1e(n,e){var t,r,i,s;let o=n.fields||{},a=e.fields||{},u=(t=o[xh])===null||t===void 0?void 0:t.arrayValue,c=(r=a[xh])===null||r===void 0?void 0:r.arrayValue,l=pt(((i=u?.values)===null||i===void 0?void 0:i.length)||0,((s=c?.values)===null||s===void 0?void 0:s.length)||0);return l!==0?l:Dz(u,c)}function H1e(n,e){if(n===FE.mapValue&&e===FE.mapValue)return 0;if(n===FE.mapValue)return 1;if(e===FE.mapValue)return-1;let t=n.fields||{},r=Object.keys(t),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){let a=FM(r[o],s[o]);if(a!==0)return a;let u=Ah(t[r[o]],i[s[o]]);if(u!==0)return u}return pt(r.length,s.length)}function Nh(n){return HM(n)}function HM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?z1e(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$1e(n.bytesValue):"referenceValue"in n?W1e(n.referenceValue):"geoPointValue"in n?G1e(n.geoPointValue):"arrayValue"in n?Q1e(n.arrayValue):"mapValue"in n?K1e(n.mapValue):ze(61005,{value:n})}function $1e(n){return qa(n).toBase64()}function z1e(n){let e=Va(n);return`time(${e.seconds},${e.nanos})`}function G1e(n){return`geo(${n.latitude},${n.longitude})`}function W1e(n){return Be.fromName(n).toString()}function K1e(n){let e=Object.keys(n.fields||{}).sort(),t="{",r=!0;for(let i of e)r?r=!1:t+=",",t+=`${i}:${HM(n.fields[i])}`;return t+"}"}function Q1e(n){let e="[",t=!0;for(let r of n.values||[])t?t=!1:e+=",",e+=HM(r);return e+"]"}function Cw(n){switch(yc(n)){case 0:return 4;case 1:return 4;case 2:return 8;case 3:return 16;case 4:let e=Sw(n);return e?16+Cw(e):16;case 5:return n.stringValue.length*2;case 6:return qa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 8:return 16;case 9:return J1e(n.arrayValue);case 10:case 11:return Y1e(n.mapValue);default:throw ze(13486,{value:n})}}function Y1e(n){let e=0;return Tc(n.fields,(t,r)=>{e+=t.length+Cw(r)}),e}function J1e(n){return(n.values||[]).reduce((e,t)=>e+Cw(t),0)}function x$(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function p3(n){return!!n&&"integerValue"in n}function Z1e(n){return!!n&&"doubleValue"in n}function X1e(n){return p3(n)||Z1e(n)}function $M(n){return!!n&&"arrayValue"in n}function A$(n){return!!n&&"nullValue"in n}function N$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qE(n){return!!n&&"mapValue"in n}function xz(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[qM])===null||t===void 0?void 0:t.stringValue)===jM}function Gg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Tc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gg(r)),e}else if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gg(n.arrayValue.values[t]);return e}else return Object.assign({},n)}function Az(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Iz}var r9e={mapValue:{fields:{[qM]:{stringValue:jM},[xh]:{arrayValue:{}}}}};var Mi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){let r=this.getFieldsMap(e.popLast());r[e.lastSegment()]=Gg(t)}setAll(e){let t=Oi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Gg(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());qE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ks(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];(!qE(i)||!i.mapValue.fields)&&(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Tc(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Gg(this.value))}};function Nz(n){let e=[];return Tc(n.fields,(t,r)=>{let i=new Oi([t]);if(qE(r)){let o=Nz(r.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)}),new is(e)}var Js=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,et.min(),et.min(),et.min(),Mi.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,et.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,et.min(),et.min(),Mi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,et.min(),et.min(),Mi.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(et.min())&&(this.documentType===2||this.documentType===0)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};function e_e(n,e,t){let r=e.data.field(n),i=t.data.field(n);return r!==null&&i!==null?Ah(r,i):ze(42886)}var Rh=class{constructor(e,t){this.position=e,this.inclusive=t}};function Rz(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField())r=Be.comparator(Be.fromName(o.referenceValue),t.key);else{let a=t.data.field(s.field);r=Ah(o,a)}if(s.dir==="desc"&&(r=r*-1),r!==0)break}return r}function t_e(n,e,t){let r=Rz(n,e,t);return n.inclusive?r>=0:r>0}function n_e(n,e,t){let r=Rz(n,e,t);return n.inclusive?r<=0:r<0}function R$(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++){let r=n.position[t],i=e.position[t];if(!Ks(r,i))return!1}return!0}var cd=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function r_e(n){return n.field.canonicalString()+n.dir}function i_e(n){return`${n.field.canonicalString()} (${n.dir})`}function s_e(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var KE=class{},er=class n extends KE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new g3(e,t,r):t==="array-contains"?new b3(e,r):t==="in"?new _3(e,r):t==="not-in"?new E3(e,r):t==="array-contains-any"?new w3(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new y3(e,r):new v3(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ah(t,this.value)):t!==null&&yc(this.value)===yc(t)&&this.matchesComparison(Ah(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Zs=class n extends KE{constructor(e,t){super(),this.filters=e,this.op=t,this.memoizedFlattenedFilters=null}static create(e,t){return new n(e,t)}matches(e){return kz(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.memoizedFlattenedFilters!==null?this.memoizedFlattenedFilters:(this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[]),this.memoizedFlattenedFilters)}getFilters(){return Object.assign([],this.filters)}};function kz(n){return n.op==="and"}function Mz(n){return o_e(n)&&kz(n)}function o_e(n){for(let e of n.filters)if(e instanceof Zs)return!1;return!0}function m3(n){if(n instanceof er)return n.field.canonicalString()+n.op.toString()+Nh(n.value);if(Mz(n))return n.filters.map(e=>m3(e)).join(",");{let e=n.filters.map(t=>m3(t)).join(",");return`${n.op}(${e})`}}function Oz(n,e){if(n instanceof er)return a_e(n,e);if(n instanceof Zs)return u_e(n,e);ze(19439)}function a_e(n,e){return e instanceof er&&n.op===e.op&&n.field.isEqual(e.field)&&Ks(n.value,e.value)}function u_e(n,e){return e instanceof Zs&&n.op===e.op&&n.filters.length===e.filters.length?n.filters.reduce((r,i,s)=>r&&Oz(i,e.filters[s]),!0):!1}function Pz(n){return n instanceof er?l_e(n):n instanceof Zs?c_e(n):"Filter"}function c_e(n){return n.op.toString()+" {"+n.getFilters().map(Pz).join(" ,")+"}"}function l_e(n){return`${n.field.canonicalString()} ${n.op} ${Nh(n.value)}`}var g3=class extends er{constructor(e,t,r){super(e,t,r),this.key=Be.fromName(r.referenceValue)}matches(e){let t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}},y3=class extends er{constructor(e,t){super(e,"in",t),this.keys=Lz("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},v3=class extends er{constructor(e,t){super(e,"not-in",t),this.keys=Lz("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Lz(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Be.fromName(r.referenceValue))}var b3=class extends er{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return $M(t)&&Jg(t.arrayValue,this.value)}},_3=class extends er{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Jg(this.value.arrayValue,t)}},E3=class extends er{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Jg(this.value.arrayValue,t)}},w3=class extends er{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!$M(t)||!t.arrayValue.values?!1:t.arrayValue.values.some(r=>Jg(this.value.arrayValue,r))}};var S3=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null}};function k$(n,e=null,t=[],r=[],i=null,s=null,o=null){return new S3(n,e,t,r,i,s,o)}function zM(n){let e=Je(n);if(e.memoizedCanonicalId===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>m3(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>r_e(r)).join(","),Tw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Nh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Nh(r)).join(",")),e.memoizedCanonicalId=t}return e.memoizedCanonicalId}function d_e(n){let e=n.path.canonicalString();return n.collectionGroup!==null&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>Pz(t)).join(", ")}]`),Tw(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>i_e(t)).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Nh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Nh(t)).join(",")),`Target(${e})`}function GM(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!s_e(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Oz(n.filters[t],e.filters[t]))return!1;return n.collectionGroup!==e.collectionGroup||!n.path.isEqual(e.path)||!R$(n.startAt,e.startAt)?!1:R$(n.endAt,e.endAt)}function T3(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var vc=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}};function f_e(n,e,t,r,i,s,o,a){return new vc(n,e,t,r,i,s,o,a)}function Iw(n){return new vc(n)}function h_e(n,e){return new vc(e,null,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function M$(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function p_e(n){let e=new mr(Oi.comparator);return n.filters.forEach(t=>{t.getFlattenedFilters().forEach(i=>{i.isInequality()&&(e=e.add(i.field))})}),e}function m_e(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Fz(n){return n.collectionGroup!==null}function Zg(n){let e=Je(n);if(e.memoizedNormalizedOrderBy===null){e.memoizedNormalizedOrderBy=[];let t=new Set;for(let s of e.explicitOrderBy)e.memoizedNormalizedOrderBy.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";p_e(e).forEach(s=>{!t.has(s.canonicalString())&&!s.isKeyField()&&e.memoizedNormalizedOrderBy.push(new cd(s,r))}),t.has(Oi.keyField().canonicalString())||e.memoizedNormalizedOrderBy.push(new cd(Oi.keyField(),r))}return e.memoizedNormalizedOrderBy}function Qs(n){let e=Je(n);return e.memoizedTarget||(e.memoizedTarget=g_e(e,Zg(n))),e.memoizedTarget}function g_e(n,e){if(n.limitType==="F")return k$(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new cd(i.field,s)});let t=n.endAt?new Rh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rh(n.startAt.position,n.startAt.inclusive):null;return k$(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function WM(n,e){let t=n.filters.concat([e]);return new vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function y_e(n,e){let t=n.explicitOrderBy.concat([e]);return new vc(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function C3(n,e,t){return new vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dw(n,e){return GM(Qs(n),Qs(e))&&n.limitType===e.limitType}function Uz(n){return`${zM(Qs(n))}|lt:${n.limitType}`}function wh(n){return`Query(target=${d_e(Qs(n))}; limitType=${n.limitType})`}function xw(n,e){return e.isFoundDocument()&&v_e(n,e)&&b_e(n,e)&&__e(n,e)&&E_e(n,e)}function v_e(n,e){let t=e.key.path;return n.collectionGroup!==null?e.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(t):Be.isDocumentKey(n.path)?n.path.isEqual(t):n.path.isImmediateParentOf(t)}function b_e(n,e){for(let t of Zg(n))if(!t.field.isKeyField()&&e.data.field(t.field)===null)return!1;return!0}function __e(n,e){for(let t of n.filters)if(!t.matches(e))return!1;return!0}function E_e(n,e){return!(n.startAt&&!n_e(n.startAt,Zg(n),e)||n.endAt&&!t_e(n.endAt,Zg(n),e))}function w_e(n){return n.collectionGroup||(n.path.length%2===1?n.path.lastSegment():n.path.get(n.path.length-2))}function Bz(n){return(e,t)=>{let r=!1;for(let i of Zg(n)){let s=S_e(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function S_e(n,e,t){let r=n.field.isKeyField()?Be.comparator(e.key,t.key):e_e(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:n.dir})}}var ja=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0){this.inner[r]=[[e,t]],this.innerSize++;return}for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e)){i[s]=[e,t];return}i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tc(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Ez(this.inner)}size(){return this.innerSize}};var T_e=new Rn(Be.comparator);function Ha(){return T_e}var Vz=new Rn(Be.comparator);function $g(...n){let e=Vz;for(let t of n)e=e.insert(t.key,t);return e}function C_e(){return Xg()}function qz(n){let e=Vz;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function rd(){return Xg()}function jz(){return Xg()}function Xg(){return new ja(n=>n.toString(),(n,e)=>n.isEqual(e))}var I_e=new Rn(Be.comparator);function D_e(){return I_e}var x_e=new mr(Be.comparator);function Et(...n){let e=x_e;for(let t of n)e=e.add(t);return e}var A_e=new mr(pt);function N_e(){return A_e}function KM(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yg(e)?"-0":e}}function Hz(n){return{integerValue:""+n}}function R_e(n,e){return k1e(e)?Hz(e):KM(n,e)}var kh=class{constructor(){this._=void 0}};function k_e(n,e,t){return n instanceof Mh?N1e(t,e):n instanceof ld?zz(n,e):n instanceof dd?Gz(n,e):P_e(n,e)}function M_e(n,e,t){return n instanceof ld?zz(n,e):n instanceof dd?Gz(n,e):t}function $z(n,e){return n instanceof Oh?X1e(e)?e:{integerValue:0}:null}function O_e(n,e){return n instanceof ld&&e instanceof ld||n instanceof dd&&e instanceof dd?ad(n.elements,e.elements,Ks):n instanceof Oh&&e instanceof Oh?Ks(n.operand,e.operand):n instanceof Mh&&e instanceof Mh}var Mh=class extends kh{},ld=class extends kh{constructor(e){super(),this.elements=e}};function zz(n,e){let t=Wz(e);for(let r of n.elements)t.some(i=>Ks(i,r))||t.push(r);return{arrayValue:{values:t}}}var dd=class extends kh{constructor(e){super(),this.elements=e}};function Gz(n,e){let t=Wz(e);for(let r of n.elements)t=t.filter(i=>!Ks(i,r));return{arrayValue:{values:t}}}var Oh=class extends kh{constructor(e,t){super(),this.serializer=e,this.operand=t}};function P_e(n,e){let t=$z(n,e),r=O$(t)+O$(n.operand);return p3(t)&&p3(n.operand)?Hz(r):KM(n.serializer,r)}function O$(n){return bn(n.integerValue||n.doubleValue)}function Wz(n){return $M(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function L_e(n,e){return n.field.isEqual(e.field)&&O_e(n.transform,e.transform)}function F_e(n,e){return n===void 0&&e===void 0?!0:n&&e?ad(n,e,(t,r)=>L_e(t,r)):!1}var I3=class{constructor(e,t){this.version=e,this.transformResults=t}},qo=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Aw(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists!==void 0?n.exists===e.isFoundDocument():!0}var Ph=class{};function Kz(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new e0(n.key,qo.none()):new fd(n.key,n.data,qo.none());{let t=n.data,r=Mi.empty(),i=new mr(Oi.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ho(n.key,r,new is(i.toArray()),qo.none())}}function U_e(n,e,t){n instanceof fd?V_e(n,e,t):n instanceof Ho?j_e(n,e,t):$_e(n,e,t)}function Wg(n,e,t,r){return n instanceof fd?q_e(n,e,t,r):n instanceof Ho?H_e(n,e,t,r):z_e(n,e,t)}function B_e(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=$z(r.transform,i||null);s!=null&&(t===null&&(t=Mi.empty()),t.set(r.field,s))}return t||null}function P$(n,e){return n.type!==e.type||!n.key.isEqual(e.key)||!n.precondition.isEqual(e.precondition)||!F_e(n.fieldTransforms,e.fieldTransforms)?!1:n.type===0?n.value.isEqual(e.value):n.type===1?n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask):!0}var fd=class extends Ph{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}};function V_e(n,e,t){let r=n.value.clone(),i=Yz(n.fieldTransforms,e,t.transformResults);r.setAll(i),e.convertToFoundDocument(t.version,r).setHasCommittedMutations()}function q_e(n,e,t,r){if(!Aw(n.precondition,e))return t;let i=n.value.clone(),s=Jz(n.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}var Ho=class extends Ph{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function j_e(n,e,t){if(!Aw(n.precondition,e)){e.convertToUnknownDocument(t.version);return}let r=Yz(n.fieldTransforms,e,t.transformResults),i=e.data;i.setAll(Qz(n)),i.setAll(r),e.convertToFoundDocument(t.version,i).setHasCommittedMutations()}function H_e(n,e,t,r){if(!Aw(n.precondition,e))return t;let i=Jz(n.fieldTransforms,r,e),s=e.data;return s.setAll(Qz(n)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),t===null?null:t.unionWith(n.fieldMask.fields).unionWith(n.fieldTransforms.map(o=>o.field))}function Qz(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Yz(n,e,t){let r=new Map;$t(n.length===t.length,32656,{serverTransformResultCount:t.length,fieldTransformCount:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,M_e(o,a,t[i]))}return r}function Jz(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,k_e(s,o,e))}return r}var e0=class extends Ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};function $_e(n,e,t){e.convertToNoDocument(t.version).setHasCommittedMutations()}function z_e(n,e,t){return Aw(n.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):t}var D3=class extends Ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var x3=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];if(s.key.isEqual(e.key)){let o=r[i];U_e(s,e,o)}}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wg(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Wg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=jz();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let u=Kz(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Et())}isEqual(e){return this.batchId===e.batchId&&ad(this.mutations,e.mutations,(t,r)=>P$(t,r))&&ad(this.baseMutations,e.baseMutations,(t,r)=>P$(t,r))}},A3=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$t(e.mutations.length===r.length,58842,{mutationsSent:e.mutations.length,resultsReceived:r.length});let i=D_e(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var N3=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var R3=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var pr=function(n){return n[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n}(pr||{});function G_e(n){switch(n){case te.OK:return ze(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ze(15467,{code:n})}}function W_e(n){return G_e(n)&&n!==te.ABORTED}function jE(n){if(n===void 0)return Ys("GRPC error has no .code"),te.UNKNOWN;switch(n){case pr.OK:return te.OK;case pr.CANCELLED:return te.CANCELLED;case pr.UNKNOWN:return te.UNKNOWN;case pr.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case pr.INTERNAL:return te.INTERNAL;case pr.UNAVAILABLE:return te.UNAVAILABLE;case pr.UNAUTHENTICATED:return te.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case pr.NOT_FOUND:return te.NOT_FOUND;case pr.ALREADY_EXISTS:return te.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return te.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case pr.ABORTED:return te.ABORTED;case pr.OUT_OF_RANGE:return te.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return te.UNIMPLEMENTED;case pr.DATA_LOSS:return te.DATA_LOSS;default:return ze(39323,{code:n})}}var k3=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Jk=null;var K_e=new xa([4294967295,4294967295],0);function L$(n){let e=LM().encode(n),t=new RA;return t.update(e),new Uint8Array(t.digest())}function F$(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0),o=new xa([t,r],0),a=new xa([i,s],0);return[o,a]}var M3=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new id(`Invalid padding: ${t}`);if(r<0)throw new id(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new id(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new id(`Invalid padding when bitmap length is 0: ${t}`);this.bitCount=e.length*8-t,this.bitCountInInteger=xa.fromNumber(this.bitCount)}getBitIndex(e,t,r){let i=e.add(t.multiply(xa.fromNumber(r)));return i.compare(K_e)===1&&(i=new xa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){let t=this.bitmap[Math.floor(e/8)],r=e%8;return(t&1<<r)!==0}mightContain(e){if(this.bitCount===0)return!1;let t=L$(e),[r,i]=F$(t);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);if(!this.isBitSet(o))return!1}return!0}static create(e,t,r){let i=e%8===0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.bitCount===0)return;let t=L$(e),[r,i]=F$(t);for(let s=0;s<this.hashCount;s++){let o=this.getBitIndex(r,i,s);this.setBit(o)}}setBit(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},id=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var QE=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,t0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(et.min(),i,new Rn(pt),Ha(),Et())}},t0=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Et(),Et(),Et())}};var Ih=class{constructor(e,t,r,i){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=r,this.newDoc=i}},YE=class{constructor(e,t){this.targetId=e,this.existenceFilter=t}},JE=class{constructor(e,t,r=qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},ZE=class{constructor(){this.pendingResponses=0,this.documentChanges=U$(),this._resumeToken=qr.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return this.pendingResponses!==0}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){e.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=e)}toTargetChange(){let e=Et(),t=Et(),r=Et();return this.documentChanges.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ze(38017,{changeType:s})}}),new t0(this._resumeToken,this._current,e,t,r)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=U$()}addDocumentChange(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)}removeDocumentChange(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,$t(this.pendingResponses>=0,3241,{pendingResponses:this.pendingResponses})}markCurrent(){this._hasPendingChanges=!0,this._current=!0}},Q_e="WatchChangeAggregator",O3=class{constructor(e){this.metadataProvider=e,this.targetStates=new Map,this.pendingDocumentUpdates=Ha(),this.pendingDocumentUpdatesByTarget=UE(),this.pendingDocumentTargetMapping=UE(),this.pendingTargetResets=new Rn(pt)}handleDocumentChange(e){for(let t of e.updatedTargetIds)e.newDoc&&e.newDoc.isFoundDocument()?this.addDocumentToTarget(t,e.newDoc):this.removeDocumentFromTarget(t,e.key,e.newDoc);for(let t of e.removedTargetIds)this.removeDocumentFromTarget(t,e.key,e.newDoc)}handleTargetChange(e){this.forEachTarget(e,t=>{let r=this.ensureTargetState(t);switch(e.state){case 0:this.isActiveTarget(t)&&r.updateResumeToken(e.resumeToken);break;case 1:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case 2:r.recordTargetResponse(),r.isPending||this.removeTarget(t);break;case 3:this.isActiveTarget(t)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case 4:this.isActiveTarget(t)&&(this.resetTarget(t),r.updateResumeToken(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.targetStates.forEach((r,i)=>{this.isActiveTarget(i)&&t(i)})}handleExistenceFilter(e){let t=e.targetId,r=e.existenceFilter.count,i=this.targetDataForActiveTarget(t);if(i){let s=i.target;if(T3(s))if(r===0){let o=new Be(s.path);this.removeDocumentFromTarget(t,o,Js.newNoDocument(o,et.min()))}else $t(r===1,20013,{expectedCount:r});else{let o=this.getCurrentDocumentCountForTarget(t);if(o!==r){let a=this.parseBloomFilter(e),u=a?this.applyBloomFilter(a,e,o):1;if(u!==0){this.resetTarget(t);let c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(t,c)}Jk?.notifyOnExistenceFilterMismatch(Y_e(o,e.existenceFilter,this.metadataProvider.getDatabaseId(),a,u))}}}}parseBloomFilter(e){let t=e.existenceFilter.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o;try{o=qa(r).toUint8Array()}catch(u){if(u instanceof k3)return mc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}let a;try{a=new M3(o,i,s)}catch(u){return u instanceof id?mc("BloomFilter error: ",u):mc("Applying bloom filter failed: ",u),null}return a.bitCount===0?null:a}applyBloomFilter(e,t,r){let i=t.existenceFilter.count,s=this.filterRemovedDocuments(e,t.targetId);return i===r-s?0:2}filterRemovedDocuments(e,t){let r=this.metadataProvider.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.metadataProvider.getDatabaseId(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.removeDocumentFromTarget(t,s,null),i++)}),i}createRemoteEvent(e){let t=new Map;this.targetStates.forEach((s,o)=>{let a=this.targetDataForActiveTarget(o);if(a){if(s.current&&T3(a.target)){let u=new Be(a.target.path);!this.ensureDocumentUpdateByTarget(u).has(o)&&!this.targetContainsDocument(o,u)&&this.removeDocumentFromTarget(o,u,Js.newNoDocument(u,e))}s.hasPendingChanges&&(t.set(o,s.toTargetChange()),s.clearPendingChanges())}});let r=Et();this.pendingDocumentTargetMapping.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let c=this.targetDataForActiveTarget(u);return c&&c.purpose!=="TargetPurposeLimboResolution"?(a=!1,!1):!0}),a&&(r=r.add(s))}),this.pendingDocumentUpdates.forEach((s,o)=>o.setReadTime(e));let i=new QE(e,t,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Ha(),this.pendingDocumentUpdatesByTarget=UE(),this.pendingDocumentTargetMapping=UE(),this.pendingTargetResets=new Rn(pt),i}addDocumentToTarget(e,t){if(!this.isActiveTarget(e))return;let r=this.targetContainsDocument(e,t.key)?2:0;this.ensureTargetState(e).addDocumentChange(t.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(t.key,this.ensureDocumentUpdateByTarget(t.key).add(e)),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}removeDocumentFromTarget(e,t,r){if(!this.isActiveTarget(e))return;let i=this.ensureTargetState(e);this.targetContainsDocument(e,t)?i.addDocumentChange(t,1):i.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).add(e)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,r))}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){let r=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}recordPendingTargetRequest(e){this.ensureTargetState(e).recordPendingTargetRequest()}ensureTargetState(e){let t=this.targetStates.get(e);return t||(t=new ZE,this.targetStates.set(e,t)),t}ensureDocumentTargetMapping(e){let t=this.pendingDocumentTargetMapping.get(e);return t||(t=new mr(pt),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t}ensureDocumentUpdateByTarget(e){let t=this.pendingDocumentUpdatesByTarget.get(e);return t||(t=new mr(pt),this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(e,t)),t}isActiveTarget(e){let t=this.targetDataForActiveTarget(e)!==null;return t||Te(Q_e,"Detected inactive target",e),t}targetDataForActiveTarget(e){let t=this.targetStates.get(e);return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new ZE),this.metadataProvider.getRemoteKeysForTarget(e).forEach(r=>{this.removeDocumentFromTarget(e,r,null)})}targetContainsDocument(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)}};function UE(){return new Rn(Be.comparator)}function U$(){return new Rn(Be.comparator)}function Y_e(n,e,t,r,i){var s,o,a,u,c,l;let d={localCacheCount:n,existenceFilterCount:e.count,databaseId:t.database,projectId:t.projectId},f=e.unchangedNames;return f&&(d.bloomFilter={applied:i===0,hashCount:(s=f?.hashCount)!==null&&s!==void 0?s:0,bitmapLength:(u=(a=(o=f?.bits)===null||o===void 0?void 0:o.bitmap)===null||a===void 0?void 0:a.length)!==null&&u!==void 0?u:0,padding:(l=(c=f?.bits)===null||c===void 0?void 0:c.padding)!==null&&l!==void 0?l:0,mightContain:h=>{var g;return(g=r?.mightContain(h))!==null&&g!==void 0?g:!1}}),d}var J_e=(()=>{let n={};return n.asc="ASCENDING",n.desc="DESCENDING",n})(),Z_e=(()=>{let n={};return n["<"]="LESS_THAN",n["<="]="LESS_THAN_OR_EQUAL",n[">"]="GREATER_THAN",n[">="]="GREATER_THAN_OR_EQUAL",n["=="]="EQUAL",n["!="]="NOT_EQUAL",n["array-contains"]="ARRAY_CONTAINS",n.in="IN",n["not-in"]="NOT_IN",n["array-contains-any"]="ARRAY_CONTAINS_ANY",n})(),X_e=(()=>{let n={};return n.and="AND",n.or="OR",n})();var XE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function eEe(n){let e=n.code===void 0?te.UNKNOWN:jE(n.code);return new ve(e,n.message||"")}function P3(n,e){return n.useProto3Json||Tw(e)?e:{value:e}}function tEe(n){let e;return typeof n=="object"?e=n.value:e=n,Tw(e)?null:e}function Ba(n,e){if(n.useProto3Json){let r=new Date(e.seconds*1e3).toISOString().replace(/\.\d*/,"").replace("Z",""),i=("000000000"+e.nanoseconds).slice(-9);return`${r}.${i}Z`}else return{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zz(n){let e=Va(n);return new cn(e.seconds,e.nanos)}function Xz(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nEe(n,e){return n.useProto3Json?($t(e===void 0||typeof e=="string",58123),qr.fromBase64String(e||"")):($t(e===void 0||e instanceof Buffer||e instanceof Uint8Array,16193),qr.fromUint8Array(e||new Uint8Array))}function rEe(n,e){return Ba(n,e.toTimestamp())}function jo(n){return $t(!!n,49232),et.fromTimestamp(Zz(n))}function QM(n,e){return L3(n,e).canonicalString()}function L3(n,e){let t=sEe(n).child("documents");return e===void 0?t:t.child(e)}function eG(n){let e=vn.fromString(n);return $t(oG(e),10190,{key:e.toString()}),e}function n0(n,e){return QM(n.databaseId,e.path)}function Zk(n,e){let t=eG(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(nG(t))}function tG(n,e){return QM(n.databaseId,e)}function iEe(n){let e=eG(n);return e.length===4?vn.emptyPath():nG(e)}function F3(n){return new vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sEe(n){return new vn(["projects",n.projectId,"databases",n.database])}function nG(n){return $t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function B$(n,e,t){return{name:n0(n,e),fields:t.value.mapValue.fields}}function oEe(n,e){let t;if("targetChange"in e){e.targetChange;let r=aEe(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=nEe(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&eEe(o);t=new JE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Zk(n,r.document.name),s=jo(r.document.updateTime),o=r.document.createTime?jo(r.document.createTime):et.min(),a=new Mi({mapValue:{fields:r.document.fields}}),u=Js.newFoundDocument(i,s,o,a),c=r.targetIds||[],l=r.removedTargetIds||[];t=new Ih(c,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Zk(n,r.document),s=r.readTime?jo(r.readTime):et.min(),o=Js.newNoDocument(i,s),a=r.removedTargetIds||[];t=new Ih([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Zk(n,r.document),s=r.removedTargetIds||[];t=new Ih([],s,i,null)}else if("filter"in e){e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new R3(i,s),a=r.targetId;t=new YE(a,o)}else return ze(11601,{change:e});return t}function aEe(n){return n==="NO_CHANGE"?0:n==="ADD"?1:n==="REMOVE"?2:n==="CURRENT"?3:n==="RESET"?4:ze(39313,{state:n})}function uEe(n){if(!("targetChange"in n))return et.min();let e=n.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?et.min():jo(e.readTime)}function cEe(n,e){let t;if(e instanceof fd)t={update:B$(n,e.key,e.value)};else if(e instanceof e0)t={delete:n0(n,e.key)};else if(e instanceof Ho)t={update:B$(n,e.key,e.data),updateMask:VEe(e.fieldMask)};else if(e instanceof D3)t={verify:n0(n,e.key)};else return ze(16599,{mutationType:e.type});return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>hEe(n,r))),e.precondition.isNone||(t.currentDocument=lEe(n,e.precondition)),t}function lEe(n,e){return e.updateTime!==void 0?{updateTime:rEe(n,e.updateTime)}:e.exists!==void 0?{exists:e.exists}:ze(27497)}function dEe(n,e){let t=n.updateTime?jo(n.updateTime):jo(e);return t.isEqual(et.min())&&(t=jo(e)),new I3(t,n.transformResults||[])}function fEe(n,e){return n&&n.length>0?($t(e!==void 0,14353),n.map(t=>dEe(t,e))):[]}function hEe(n,e){let t=e.transform;if(t instanceof Mh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof ld)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof dd)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof Oh)return{fieldPath:e.field.canonicalString(),increment:t.operand};throw ze(20930,{transform:e.transform})}function pEe(n,e){return{documents:[tG(n,e.path)]}}function rG(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tG(n,i);let s=bEe(e.filters);s&&(t.structuredQuery.where=s);let o=EEe(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=P3(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=SEe(e.startAt)),e.endAt&&(t.structuredQuery.endAt=TEe(e.endAt)),{queryTarget:t,parent:i}}function mEe(n){let e=iEe(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){$t(r===1,65062);let l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=_Ee(t.where));let o=[];t.orderBy&&(o=wEe(t.orderBy));let a=null;t.limit&&(a=tEe(t.limit));let u=null;t.startAt&&(u=CEe(t.startAt));let c=null;return t.endAt&&(c=IEe(t.endAt)),f_e(e,i,o,s,a,"F",u,c)}function gEe(n,e){let t=yEe(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yEe(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:n})}}function vEe(n,e){let t,r=e.target;if(T3(r)?t={documents:pEe(n,r)}:t={query:rG(n,r).queryTarget},t.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){t.resumeToken=Xz(n,e.resumeToken);let i=P3(n,e.expectedCount);i!==null&&(t.expectedCount=i)}else if(e.snapshotVersion.compareTo(et.min())>0){t.readTime=Ba(n,e.snapshotVersion.toTimestamp());let i=P3(n,e.expectedCount);i!==null&&(t.expectedCount=i)}return t}function bEe(n){if(n.length!==0)return sG(Zs.create(n,"and"))}function _Ee(n){let e=iG(n);return e instanceof Zs&&Mz(e)?e.getFilters():[e]}function iG(n){return n.unaryFilter!==void 0?FEe(n):n.fieldFilter!==void 0?UEe(n):n.compositeFilter!==void 0?BEe(n):ze(30097,{filter:n})}function EEe(n){if(n.length!==0)return n.map(e=>MEe(e))}function wEe(n){return n.map(e=>OEe(e))}function SEe(n){return{before:n.inclusive,values:n.position}}function TEe(n){return{before:!n.inclusive,values:n.position}}function CEe(n){let e=!!n.before,t=n.values||[];return new Rh(t,e)}function IEe(n){let e=!n.before,t=n.values||[];return new Rh(t,e)}function DEe(n){return J_e[n]}function xEe(n){switch(n){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function AEe(n){return Z_e[n]}function NEe(n){return X_e[n]}function REe(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}function kEe(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}function Sh(n){return{fieldPath:n.canonicalString()}}function Ch(n){return Oi.fromServerFormat(n.fieldPath)}function MEe(n){return{field:Sh(n.field),direction:DEe(n.dir)}}function OEe(n){return new cd(Ch(n.field),xEe(n.direction))}function sG(n){return n instanceof er?LEe(n):n instanceof Zs?PEe(n):ze(54877,{filter:n})}function PEe(n){let e=n.getFilters().map(t=>sG(t));return e.length===1?e[0]:{compositeFilter:{op:NEe(n.op),filters:e}}}function LEe(n){if(n.op==="=="){if(N$(n.value))return{unaryFilter:{field:Sh(n.field),op:"IS_NAN"}};if(A$(n.value))return{unaryFilter:{field:Sh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N$(n.value))return{unaryFilter:{field:Sh(n.field),op:"IS_NOT_NAN"}};if(A$(n.value))return{unaryFilter:{field:Sh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sh(n.field),op:AEe(n.op),value:n.value}}}function FEe(n){switch(n.unaryFilter.op){case"IS_NAN":let e=Ch(n.unaryFilter.field);return er.create(e,"==",{doubleValue:NaN});case"IS_NULL":let t=Ch(n.unaryFilter.field);return er.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=Ch(n.unaryFilter.field);return er.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=Ch(n.unaryFilter.field);return er.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}function UEe(n){return er.create(Ch(n.fieldFilter.field),REe(n.fieldFilter.op),n.fieldFilter.value)}function BEe(n){return Zs.create(n.compositeFilter.filters.map(e=>iG(e)),kEe(n.compositeFilter.op))}function VEe(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oG(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var r0=class n{constructor(e,t,r,i,s=et.min(),o=et.min(),a=qr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var U3=class{constructor(e){this.remoteSerializer=e}};function qEe(n){let e=mEe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?C3(e,e.limit,"L"):e}function jEe(n){return{name:n.name,query:qEe(n.bundledQuery),readTime:jo(n.readTime)}}function HEe(n){return{id:n.id,version:n.version,createTime:jo(n.createTime)}}var $Ee=5,zEe=10,GEe=13,Xk=15,WEe=20,KEe=25,QEe=30,YEe=37,JEe=45,ZEe=50,XEe=53,ewe=55,twe=60,nwe=2,ew=class{constructor(){}writeIndexValue(e,t){this.writeIndexValueAux(e,t),t.writeInfinity()}writeIndexValueAux(e,t){if("nullValue"in e)this.writeValueTypeLabel(t,$Ee);else if("booleanValue"in e)this.writeValueTypeLabel(t,zEe),t.writeNumber(e.booleanValue?1:0);else if("integerValue"in e)this.writeValueTypeLabel(t,Xk),t.writeNumber(bn(e.integerValue));else if("doubleValue"in e){let r=bn(e.doubleValue);isNaN(r)?this.writeValueTypeLabel(t,GEe):(this.writeValueTypeLabel(t,Xk),Yg(r)?t.writeNumber(0):t.writeNumber(r))}else if("timestampValue"in e){let r=e.timestampValue;this.writeValueTypeLabel(t,WEe),typeof r=="string"&&(r=Va(r)),t.writeString(`${r.seconds||""}`),t.writeNumber(r.nanos||0)}else if("stringValue"in e)this.writeIndexString(e.stringValue,t),this.writeTruncationMarker(t);else if("bytesValue"in e)this.writeValueTypeLabel(t,QEe),t.writeBytes(qa(e.bytesValue)),this.writeTruncationMarker(t);else if("referenceValue"in e)this.writeIndexEntityRef(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.writeValueTypeLabel(t,JEe),t.writeNumber(r.latitude||0),t.writeNumber(r.longitude||0)}else"mapValue"in e?Az(e)?this.writeValueTypeLabel(t,Number.MAX_SAFE_INTEGER):xz(e)?this.writeIndexVector(e.mapValue,t):(this.writeIndexMap(e.mapValue,t),this.writeTruncationMarker(t)):"arrayValue"in e?(this.writeIndexArray(e.arrayValue,t),this.writeTruncationMarker(t)):ze(19022,{indexValue:e})}writeIndexString(e,t){this.writeValueTypeLabel(t,KEe),this.writeUnlabeledIndexString(e,t)}writeUnlabeledIndexString(e,t){t.writeString(e)}writeIndexMap(e,t){let r=e.fields||{};this.writeValueTypeLabel(t,ewe);for(let i of Object.keys(r))this.writeIndexString(i,t),this.writeIndexValueAux(r[i],t)}writeIndexVector(e,t){var r,i;let s=e.fields||{};this.writeValueTypeLabel(t,XEe);let o=xh,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.writeValueTypeLabel(t,Xk),t.writeNumber(bn(a)),this.writeIndexString(o,t),this.writeIndexValueAux(s[o],t)}writeIndexArray(e,t){let r=e.values||[];this.writeValueTypeLabel(t,ZEe);for(let i of r)this.writeIndexValueAux(i,t)}writeIndexEntityRef(e,t){this.writeValueTypeLabel(t,YEe),Be.fromName(e).path.forEach(i=>{this.writeValueTypeLabel(t,twe),this.writeUnlabeledIndexString(i,t)})}writeValueTypeLabel(e,t){e.writeNumber(t)}writeTruncationMarker(e){e.writeNumber(nwe)}};ew.INSTANCE=new ew;var B3=class{constructor(){this.collectionParentIndex=new V3}addToCollectionParentIndex(e,t){return this.collectionParentIndex.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.collectionParentIndex.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(ud.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(ud.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}},V3=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new mr(vn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mr(vn.comparator)).toArray()}};var i9e=new Uint8Array(0);var e3=2,i0=class n{constructor(e){this.lastId=e}next(){return this.lastId+=e3,this.lastId}static forTargetCache(){return new n(2-e3)}static forSyncEngine(){return new n(1-e3)}};var V$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nw=-1,aG=40*1024*1024,ss=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};ss.DEFAULT_COLLECTION_PERCENTILE=10;ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3;ss.DEFAULT=new ss(aG,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);ss.DISABLED=new ss(Nw,0,0);var q$="LruGarbageCollector",j$=1*1024*1024,rwe=1*60*1e3,iwe=5*60*1e3;function H$([n,e],[t,r]){let i=pt(n,t);return i===0?pt(e,r):i}var q3=class{constructor(e){this.maxElements=e,this.buffer=new mr(H$),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(e){let t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();H$(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},j3=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==Nw&&this.scheduleGC(rwe)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return this.gcTask!==null}scheduleGC(e){Te(q$,`Garbage collection scheduled in ${e}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>O(this,null,function*(){this.gcTask=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){jh(t)?Te(q$,"Ignoring IndexedDB error during garbage collection: ",t):yield qh(t)}yield this.scheduleGC(iwe)}))}},H3=class{constructor(e,t){this.delegate=e,this.params=t}calculateTargetCount(e,t){return this.delegate.getSequenceNumberCount(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(UM.INVALID);let r=new q3(t);return this.delegate.forEachTarget(e,i=>r.addElement(i.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(e,i=>r.addElement(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.delegate.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.delegate.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===Nw?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(V$)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V$):this.runGarbageCollection(e,t))}getCacheSize(e){return this.delegate.getCacheSize(e)}runGarbageCollection(e,t){let r,i,s,o,a,u,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(s=d,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>{if(c=Date.now(),Eh()<=vt.DEBUG){let f=`LRU Garbage Collection
	Counted targets in ${o-l}ms
	Determined least recently used ${i} in ${a-o}ms
	Removed ${s} targets in ${u-a}ms
	Removed ${d} documents in ${c-u}ms
Total Duration: ${c-l}ms`;Te("LruGarbageCollector",f)}return oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})})}};function swe(n,e){return new H3(n,e)}var $3=class{constructor(){this.changes=new ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Js.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var z3=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var G3=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Wg(r.mutation,i,is.empty(),cn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Et()){let i=rd();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=$g();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=rd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Et()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ha(),o=Xg(),a=C_e();return t.forEach((u,c)=>{let l=r.get(c.key);i.has(c.key)&&(l===void 0||l.mutation instanceof Ho)?s=s.insert(c.key,c):l!==void 0?(o.set(c.key,l.mutation.getFieldMask()),Wg(l.mutation,c,l.mutation.getFieldMask(),cn.now())):o.set(c.key,is.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new z3(l,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Xg(),i=new Rn((o,a)=>o-a),s=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(u=>{let c=t.get(u);if(c===null)return;let l=r.get(u)||is.empty();l=a.applyToLocalView(c,l),r.set(u,l);let d=(i.get(a.batchId)||Et()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),c=u.key,l=u.value,d=jz();l.forEach(f=>{if(!s.has(f)){let h=Kz(t.get(f),r.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return m_e(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fz(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):oe.resolve(rd()),a=Kg,u=s;return o.next(c=>oe.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?oe.resolve():this.remoteDocumentCache.getEntry(e,l).next(f=>{u=u.insert(l,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Et())).next(l=>({batchId:a,changes:qz(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next(r=>{let i=$g();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=$g();return this.indexManager.getCollectionParents(e,s).next(a=>oe.forEach(a,u=>{let c=h_e(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,c)=>{let l=c.getKey();o.get(l)===null&&(o=o.insert(l,Js.newInvalidDocument(l)))});let a=$g();return o.forEach((u,c)=>{let l=s.get(u);l!==void 0&&Wg(l.mutation,c,is.empty(),cn.now()),xw(t,c)&&(a=a.insert(u,c))}),a})}};var W3=class{constructor(e){this.serializer=e,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(e,t){return oe.resolve(this.bundles.get(t))}saveBundleMetadata(e,t){return this.bundles.set(t.id,HEe(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.namedQueries.get(t))}saveNamedQuery(e,t){return this.namedQueries.set(t.name,jEe(t)),oe.resolve()}};var K3=class{constructor(){this.overlays=new Rn(Be.comparator),this.overlayByBatchId=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){let r=rd();return oe.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.saveOverlay(e,t,s)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.overlayByBatchId.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.overlayByBatchId.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){let i=rd(),s=t.length+1,o=new Be(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Rn((c,l)=>c-l),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=rd(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=rd(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=i)););return oe.resolve(a)}saveOverlay(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.overlayByBatchId.get(i.largestBatchId).delete(r.key);this.overlayByBatchId.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new N3(t,r));let s=this.overlayByBatchId.get(t);s===void 0&&(s=Et(),this.overlayByBatchId.set(t,s)),this.overlayByBatchId.set(t,s.add(r.key))}};var Q3=class{constructor(){this.sessionToken=qr.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}};var s0=class{constructor(){this.refsByKey=new mr(Zn.compareByKey),this.refsByTarget=new mr(Zn.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,t){let r=new Zn(e,t);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)}addReferences(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.removeRef(new Zn(e,t))}removeReferences(e,t){e.forEach(r=>this.removeReference(r,t))}removeReferencesForId(e){let t=new Be(new vn([])),r=new Zn(t,e),i=new Zn(t,e+1),s=[];return this.refsByTarget.forEachInRange([r,i],o=>{this.removeRef(o),s.push(o.key)}),s}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){let t=new Be(new vn([])),r=new Zn(t,e),i=new Zn(t,e+1),s=Et();return this.refsByTarget.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Zn(e,0),r=this.refsByKey.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Zn=class{constructor(e,t){this.key=e,this.targetOrBatchId=t}static compareByKey(e,t){return Be.comparator(e.key,t.key)||pt(e.targetOrBatchId,t.targetOrBatchId)}static compareByTargetId(e,t){return pt(e.targetOrBatchId,t.targetOrBatchId)||Be.comparator(e.key,t.key)}};var Y3=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new mr(Zn.compareByKey)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new x3(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Zn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(o)}lookupMutationBatch(e,t){return oe.resolve(this.findMutationBatch(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.indexOfBatchId(r),s=i<0?0:i;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?VM:this.nextBatchId-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Zn(t,0),i=new Zn(t,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([r,i],o=>{let a=this.findMutationBatch(o.targetOrBatchId);s.push(a)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mr(pt);return t.forEach(i=>{let s=new Zn(i,0),o=new Zn(i,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([s,o],a=>{r=r.add(a.targetOrBatchId)})}),oe.resolve(this.findMutationBatches(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;Be.isDocumentKey(s)||(s=s.child(""));let o=new Zn(new Be(s),0),a=new mr(pt);return this.batchesByDocumentKey.forEachWhile(u=>{let c=u.key.path;return r.isPrefixOf(c)?(c.length===i&&(a=a.add(u.targetOrBatchId)),!0):!1},o),oe.resolve(this.findMutationBatches(a))}findMutationBatches(e){let t=[];return e.forEach(r=>{let i=this.findMutationBatch(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){let r=this.indexOfExistingBatchId(t.batchId,"removed");$t(r===0,55003),this.mutationQueue.shift();let i=this.batchesByDocumentKey;return oe.forEach(t.mutations,s=>{let o=new Zn(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.batchesByDocumentKey=i})}removeCachedMutationKeys(e){}containsKey(e,t){let r=new Zn(t,0),i=this.batchesByDocumentKey.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}indexOfExistingBatchId(e,t){return this.indexOfBatchId(e)}indexOfBatchId(e){if(this.mutationQueue.length===0)return 0;let t=this.mutationQueue[0].batchId;return e-t}findMutationBatch(e){let t=this.indexOfBatchId(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var owe="-9223372036854775808";function awe(){return new Rn(Be.comparator)}var J3=class{constructor(e){this.sizer=e,this.docs=awe(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.sizer(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Js.newInvalidDocument(t))}getEntries(e,t){let r=Ha();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Js.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ha(),o=t.path,a=new Be(o.child("__id"+owe+"__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||n1e(t1e(l),r)<=0||!i.has(l.key)&&!xw(t,l)||(s=s.insert(l.key,l.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ze(9500)}forEachDocumentKey(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Z3(this)}getSize(e){return oe.resolve(this.size)}};function uwe(n){return new J3(n)}var Z3=class extends $3{constructor(e){super(),this.documentCache=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.documentCache.addEntry(e,i)):this.documentCache.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.documentCache.getEntry(e,t)}getAllFromCache(e,t){return this.documentCache.getEntries(e,t)}};var X3=class{constructor(e){this.persistence=e,this.targets=new ja(t=>zM(t),GM),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new s0,this.targetCount=0,this.targetIdGenerator=i0.forTargetCache()}forEachTarget(e,t){return this.targets.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.highestSequenceNumber)}allocateTargetId(e){return this.highestTargetId=this.targetIdGenerator.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),oe.resolve()}saveTargetData(e){this.targets.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.targetIdGenerator=new i0(t),this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)}addTargetData(e,t){return this.saveTargetData(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.saveTargetData(t),oe.resolve()}removeTargetData(e,t){return this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.targets.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.targets.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(s).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){let r=this.targets.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.references.addReferences(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.references.removeReferences(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),oe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.references.removeReferencesForId(t),oe.resolve()}getMatchingKeysForTargetId(e,t){let r=this.references.referencesForId(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.references.containsKey(t))}};var cwe="MemoryPersistence",tw=class{constructor(e,t){this.mutationQueues={},this.overlays={},this.listenSequence=new UM(0),this._started=!1,this._started=!0,this.globalsCache=new Q3,this.referenceDelegate=e(this),this.targetCache=new X3(this);let r=i=>this.referenceDelegate.documentSize(i);this.indexManager=new B3,this.remoteDocumentCache=uwe(r),this.serializer=new U3(t),this.bundleCache=new W3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new K3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.mutationQueues[e.toKey()];return r||(r=new Y3(t,this.referenceDelegate),this.mutationQueues[e.toKey()]=r),r}getGlobalsCache(){return this.globalsCache}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){Te(cwe,"Starting transaction:",e);let i=new eM(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(i).next(s=>this.referenceDelegate.onTransactionCommitted(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}mutationQueuesContainKey(e,t){return oe.or(Object.values(this.mutationQueues).map(r=>()=>r.containsKey(e,t)))}},eM=class extends l3{constructor(e){super(),this.currentSequenceNumber=e}},tM=class n{constructor(e){this.persistence=e,this.localViewReferences=new s0,this._orphanedDocuments=null}static factory(e){return new n(e)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw ze(60996)}addReference(e,t,r){return this.localViewReferences.addReference(r,t),this.orphanedDocuments.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.localViewReferences.removeReference(r,t),this.orphanedDocuments.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.orphanedDocuments.add(t.toString()),oe.resolve()}removeTarget(e,t){this.localViewReferences.removeReferencesForId(t.targetId).forEach(s=>this.orphanedDocuments.add(s.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.orphanedDocuments.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){let r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.orphanedDocuments,i=>{let s=Be.fromPath(i);return this.isReferenced(e,s).next(o=>{o||r.removeEntry(s,et.min())})}).next(()=>(this._orphanedDocuments=null,r.apply(e)))}updateLimboDocument(e,t){return this.isReferenced(e,t).next(r=>{r?this.orphanedDocuments.delete(t.toString()):this.orphanedDocuments.add(t.toString())})}documentSize(e){return 0}isReferenced(e,t){return oe.or([()=>oe.resolve(this.localViewReferences.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.mutationQueuesContainKey(e,t)])}},nw=class n{constructor(e,t){this.persistence=e,this.orphanedSequenceNumbers=new ja(r=>u1e(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=swe(this,t)}static factory(e,t){return new n(e,t)}onTransactionStarted(){}onTransactionCommitted(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}getSequenceNumberCount(e){let t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,r=>{t++}).next(()=>t)}forEachOrphanedDocumentSequenceNumber(e,t){return oe.forEach(this.orphanedSequenceNumbers,(r,i)=>this.isPinned(e,r,i).next(s=>s?oe.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.forEachDocumentKey(e,a=>this.isPinned(e,a,t).next(u=>{u||(r++,s.removeEntry(a,et.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),oe.resolve()}documentSize(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cw(e.data.value)),t}isPinned(e,t,r){return oe.or([()=>this.persistence.mutationQueuesContainKey(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.orphanedSequenceNumbers.get(t);return oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var s9e=30*60*1e3;function lwe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(n[t]!==e[t])return!1;return!0}var YM="LocalStore",dwe=5*60*1e6,nM=class{constructor(e,t,r,i){this.persistence=e,this.queryEngine=t,this.serializer=i,this.targetDataByTarget=new Rn(pt),this.targetIdByTarget=new ja(s=>zM(s),GM),this.collectionGroupReadTime=new Map,this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.bundleCache=e.getBundleCache(),this.initializeUserComponents(r)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G3(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.targetDataByTarget))}};function fwe(n,e,t,r){return new nM(n,e,t,r)}function uG(n,e){return O(this,null,function*(){let t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,t.initializeUserComponents(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],u=[],c=Et();for(let l of s){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){u.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(i,c).next(l=>({affectedDocuments:l,removedBatchIds:a,addedBatchIds:u}))})})})}function hwe(n,e){let t=Je(n),r=cn.now(),i=e.reduce((a,u)=>a.add(u.key),Et()),s,o;return t.persistence.runTransaction("Locally write mutations","readwrite",a=>{let u=Ha(),c=Et();return t.remoteDocuments.getEntries(a,i).next(l=>{u=l,u.forEach((d,f)=>{f.isValidDocument()||(c=c.add(d))})}).next(()=>t.localDocuments.getOverlayedDocuments(a,u)).next(l=>{s=l;let d=[];for(let f of e){let h=B_e(f,s.get(f.key).overlayedDocument);h!=null&&d.push(new Ho(f.key,h,Nz(h.value.mapValue),qo.exists(!0)))}return t.mutationQueue.addMutationBatch(a,r,d,e)}).next(l=>{o=l;let d=l.applyToLocalDocumentSet(s,c);return t.documentOverlayCache.saveOverlays(a,l.batchId,d)})}).then(()=>({batchId:o.batchId,changes:qz(s)}))}function pwe(n,e){let t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return Twe(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,mwe(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function mwe(n){let e=Et();for(let t=0;t<n.mutationResults.length;++t)n.mutationResults[t].transformResults.length>0&&(e=e.add(n.batch.mutations[t].key));return e}function gwe(n,e){let t=Je(n);return t.persistence.runTransaction("Reject batch","readwrite-primary",r=>{let i;return t.mutationQueue.lookupMutationBatch(r,e).next(s=>($t(s!==null,37113),i=s.keys(),t.mutationQueue.removeMutationBatch(r,s))).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,i)).next(()=>t.localDocuments.getDocuments(r,i))})}function cG(n){let e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.targetCache.getLastRemoteSnapshotVersion(t))}function ywe(n,e){let t=Je(n),r=e.snapshotVersion,i=t.targetDataByTarget;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=t.targetDataByTarget;let a=[];e.targetChanges.forEach((l,d)=>{let f=i.get(d);if(!f)return;a.push(t.targetCache.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.targetCache.addMatchingKeys(s,l.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(qr.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(d,h),bwe(f,h,l)&&a.push(t.targetCache.updateTargetData(s,h))});let u=Ha(),c=Et();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(vwe(s,o,e.documentUpdates).next(l=>{u=l.changedDocuments,c=l.existenceChangedKeys})),!r.isEqual(et.min())){let l=t.targetCache.getLastRemoteSnapshotVersion(s).next(d=>t.targetCache.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return oe.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.targetDataByTarget=i,s))}function vwe(n,e,t){let r=Et(),i=Et();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ha();return t.forEach((a,u)=>{let c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(et.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Te(YM,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{changedDocuments:o,existenceChangedKeys:i}})}function bwe(n,e,t){return n.resumeToken.approximateByteSize()===0||e.snapshotVersion.toMicroseconds()-n.snapshotVersion.toMicroseconds()>=dwe?!0:t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size>0}function _we(n,e){return O(this,null,function*(){let t=Je(n);try{yield t.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>oe.forEach(e,i=>oe.forEach(i.addedKeys,s=>t.persistence.referenceDelegate.addReference(r,i.targetId,s)).next(()=>oe.forEach(i.removedKeys,s=>t.persistence.referenceDelegate.removeReference(r,i.targetId,s)))))}catch(r){if(jh(r))Te(YM,"Failed to update sequence numbers: "+r);else throw r}for(let r of e){let i=r.targetId;if(!r.fromCache){let s=t.targetDataByTarget.get(i),o=s.snapshotVersion,a=s.withLastLimboFreeSnapshotVersion(o);t.targetDataByTarget=t.targetDataByTarget.insert(i,a)}}})}function Ewe(n,e){let t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=VM),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wwe(n,e){let t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.targetCache.getTargetData(r,e).next(s=>s?(i=s,oe.resolve(i)):t.targetCache.allocateTargetId(r).next(o=>(i=new r0(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.targetCache.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.targetDataByTarget.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.targetDataByTarget=t.targetDataByTarget.insert(r.targetId,r),t.targetIdByTarget.set(e,r.targetId)),r})}function Swe(n,e,t){let r=Je(n),i=r.targetIdByTarget.get(t);return i!==void 0?oe.resolve(r.targetDataByTarget.get(i)):r.targetCache.getTargetData(e,t)}function rM(n,e,t){return O(this,null,function*(){let r=Je(n),i=r.targetDataByTarget.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(jh(o))Te(YM,`Failed to update sequence numbers for target ${e}: ${o}`);else throw o}r.targetDataByTarget=r.targetDataByTarget.remove(e),r.targetIdByTarget.delete(i.target)})}function lG(n,e,t){let r=Je(n),i=et.min(),s=Et();return r.persistence.runTransaction("Execute query","readwrite",o=>Swe(r,o,Qs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.targetCache.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.queryEngine.getDocumentsMatchingQuery(o,e,t?i:et.min(),t?s:Et())).next(a=>(Cwe(r,w_e(e),a),{documents:a,remoteKeys:s})))}function Twe(n,e,t,r){let i=t.batch,s=i.keys(),o=oe.resolve();return s.forEach(a=>{o=o.next(()=>r.getEntry(e,a)).next(u=>{let c=t.docVersions.get(a);$t(c!==null,48541),u.version.compareTo(c)<0&&(i.applyToRemoteDocument(u,t),u.isValidDocument()&&(u.setReadTime(t.commitVersion),r.addEntry(u)))})}),o.next(()=>n.mutationQueue.removeMutationBatch(e,i))}function Cwe(n,e,t){let r=n.collectionGroupReadTime.get(e)||et.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.collectionGroupReadTime.set(e,r)}var iM=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Iwe=100;function Dwe(){return VU()?8:i1e(Ii())>0?6:4}var sM=class{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=Iwe,this.relativeIndexReadCostPerDocument=Dwe()}initialize(e,t){this.localDocumentsView=e,this.indexManager=t,this.initialized=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.performQueryUsingIndex(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.performQueryUsingRemoteKeys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new iM;return this.executeFullCollectionScan(e,t,o).next(a=>{if(s.result=a,this.indexAutoCreationEnabled)return this.createCacheIndexes(e,t,o,a.size)})}).next(()=>s.result)}createCacheIndexes(e,t,r,i){return r.documentReadCount<this.indexAutoCreationMinCollectionSize?(Eh()<=vt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",wh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),oe.resolve()):(Eh()<=vt.DEBUG&&Te("QueryEngine","Query:",wh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.relativeIndexReadCostPerDocument*i?(Eh()<=vt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",wh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qs(t))):oe.resolve())}performQueryUsingIndex(e,t){if(M$(t))return oe.resolve(null);let r=Qs(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=C3(t,null,"F"),r=Qs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Et(...s);return this.localDocumentsView.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let c=this.applyQuery(t,a);return this.needsRefill(t,c,o,u.readTime)?this.performQueryUsingIndex(e,C3(t,null,"F")):this.appendRemainingResults(e,c,t,u)}))})))}performQueryUsingRemoteKeys(e,t,r,i){return M$(t)||i.isEqual(et.min())?oe.resolve(null):this.localDocumentsView.getDocuments(e,r).next(s=>{let o=this.applyQuery(t,s);return this.needsRefill(t,o,r,i)?oe.resolve(null):(Eh()<=vt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wh(t)),this.appendRemainingResults(e,o,t,e1e(i,Kg)).next(a=>a))})}applyQuery(e,t){let r=new mr(Bz(e));return t.forEach((i,s)=>{xw(e,s)&&(r=r.add(s))}),r}needsRefill(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return s?s.hasPendingWrites||s.version.compareTo(i)>0:!1}executeFullCollectionScan(e,t,r){return Eh()<=vt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",wh(t)),this.localDocumentsView.getDocumentsMatchingQuery(e,t,ud.min(),r)}appendRemainingResults(e,t,r,i){return this.localDocumentsView.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var rw=class{constructor(){this.activeTargetIds=N_e()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var oM=class{constructor(){this.localState=new rw,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.localState.addQueryTarget(e),this.queryState[e]||"not-current"}updateQueryState(e,t,r){this.queryState[e]=t}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){return this.localState=new rw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var aM=class{addCallback(e){}shutdown(){}};var uM=class{constructor(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}onConnected(e){this.wrappedOnConnected=e}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}};var BE=null;function xwe(){return 268435456+Math.round(2147483648*Math.random())}function t3(){return BE===null?BE=xwe():BE++,"0x"+BE.toString(16)}function Awe(n){return new Promise((e,t)=>{n((r,i)=>{r?t(r):e(i)})})}var Nwe="1.9.15",Kr="GrpcConnection",Rwe=`gl-node/${process.versions.node} fire/${Vh} grpc/${Nwe}`;function n3(n,e,t,r){$t(e===null||e.type==="OAuth",36936);let i=new sd.Metadata;return e&&e.headers.forEach((s,o)=>i.set(o,s)),t&&t.headers.forEach((s,o)=>i.set(o,s)),r&&i.set("X-Firebase-GMPID",r),i.set("X-Goog-Api-Client",Rwe),i.set("Google-Cloud-Resource-Prefix",n),i.set("x-goog-request-params",n),i}var cM=class{get shouldResourcePathBeIncludedInRequest(){return!0}constructor(e,t){this.databaseInfo=t,this.cachedStub=null,this.firestore=e.google.firestore.v1,this.databasePath=`projects/${t.databaseId.projectId}/databases/${t.databaseId.database}`}ensureActiveStub(){if(!this.cachedStub){Te(Kr,"Creating Firestore stub.");let e=this.databaseInfo.ssl?sd.credentials.createSsl():sd.credentials.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,t,r,i,s){let o=t3(),a=this.ensureActiveStub(),u=n3(this.databasePath,i,s,this.databaseInfo.appId),c=Object.assign({database:this.databasePath},r);return Awe(l=>(Te(Kr,`RPC '${e}' ${o} invoked with request:`,r),a[e](c,u,(d,f)=>{d?(Te(Kr,`RPC '${e}' ${o} failed with error:`,d),l(new ve(jE(d.code),d.message))):(Te(Kr,`RPC '${e}' ${o} completed with response:`,f),l(void 0,f))})))}invokeStreamingRPC(e,t,r,i,s,o){let a=t3(),u=[],c=new os;Te(Kr,`RPC '${e}' ${a} invoked (streaming) with request:`,r);let l=this.ensureActiveStub(),d=n3(this.databasePath,i,s,this.databaseInfo.appId),f=Object.assign(Object.assign({},r),{database:this.databasePath}),h=l[e](f,d),g=!1;return h.on("data",y=>{Te(Kr,`RPC ${e} ${a} received result:`,y),u.push(y),o!==void 0&&u.length===o&&(g=!0,c.resolve(u))}),h.on("end",()=>{Te(Kr,`RPC '${e}' ${a} completed.`),g||(g=!0,c.resolve(u))}),h.on("error",y=>{Te(Kr,`RPC '${e}' ${a} failed with error:`,y);let S=jE(y.code);c.reject(new ve(S,y.message))}),c.promise}openStream(e,t,r){let i=t3(),s=this.ensureActiveStub(),o=n3(this.databasePath,t,r,this.databaseInfo.appId),a=s[e](o),u=!1,c=f=>{u||(u=!0,l.callOnClose(f),a.end())},l=new uM({sendFn:f=>{if(u)Te(Kr,`RPC '${e}' stream ${i} not sending because gRPC stream is closed:`,f);else{Te(Kr,`RPC '${e}' stream ${i} sending:`,f);try{a.write(f)}catch(h){throw Ys("Failure sending:",f),Ys("Error:",h),h}}},closeFn:()=>{Te(Kr,`RPC '${e}' stream ${i} closed locally via close().`),c()}}),d=!1;return a.on("data",f=>{u||(Te(Kr,`RPC '${e}' stream ${i} received:`,f),d||(l.callOnConnected(),d=!0),l.callOnMessage(f))}),a.on("end",()=>{Te(Kr,`RPC '${e}' stream ${i} ended.`),c()}),a.on("error",f=>{if(!u){mc(Kr,`RPC '${e}' stream ${i} error. Code:`,f.code,"Message:",f.message);let h=jE(f.code);c(new ve(h,f.message))}}),Te(Kr,`Opening RPC '${e}' stream ${i} to ${this.databaseInfo.host}`),setTimeout(()=>{l.callOnOpen()},0),l}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}},dG={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}},kwe={nested:dG},Mwe=Object.freeze({__proto__:null,nested:dG,default:kwe});var Owe={longs:String,enums:String,defaults:!0,oneofs:!1};function Pwe(){let n=iz.fromJSON(Mwe,Owe);return sd.loadPackageDefinition(n)}function Lwe(n){let e=Pwe();return new cM(e,n)}function Fwe(){return new aM}function Rw(n){return new XE(n,!1)}var Uwe="ExponentialBackoff",Bwe=1e3,Vwe=1.5,qwe=60*1e3,iw=class{constructor(e,t,r=Bwe,i=Vwe,s=qwe){this.queue=e,this.timerId=t,this.initialDelayMs=r,this.backoffFactor=i,this.maxDelayMs=s,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();let t=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,t-r);i>0&&Te(Uwe,`Backing off for ${i} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,()=>(this.lastAttemptTime=Date.now(),e())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){this.timerPromise!==null&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){this.timerPromise!==null&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}};var $$="PersistentStream",jwe=60*1e3,Hwe=10*1e3,sw=class{constructor(e,t,r,i,s,o,a,u){this.queue=e,this.idleTimerId=r,this.healthTimerId=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.responseCount=0,this.backoff=new iw(e,t)}isStarted(){return this.state===1||this.state===5||this.isOpen()}isOpen(){return this.state===2||this.state===3}start(){if(this.responseCount=0,this.state===4){this.performBackoff();return}this.auth()}stop(){return O(this,null,function*(){this.isStarted()&&(yield this.close(0))})}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&this.idleTimer===null&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,jwe,()=>this.handleIdleCloseTimer()))}sendRequest(e){this.cancelIdleCheck(),this.stream.send(e)}handleIdleCloseTimer(){return O(this,null,function*(){if(this.isOpen())return this.close(0)})}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}close(e,t){return O(this,null,function*(){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,e!==4?this.backoff.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Ys(t.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.onClose(t)})}tearDown(){}auth(){this.state=1;let e=this.getCloseGuardedDispatcher(this.closeCount),t=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.closeCount===t&&this.startStream(r,i)},r=>{e(()=>{let i=new ve(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.handleStreamClose(i)})})}startStream(e,t){let r=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,t),this.stream.onConnected(()=>{r(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{r(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,Hwe,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(i=>{r(()=>this.handleStreamClose(i))}),this.stream.onMessage(i=>{r(()=>++this.responseCount===1?this.onFirst(i):this.onNext(i))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(()=>O(this,null,function*(){this.state=0,this.start()}))}handleStreamClose(e){return Te($$,`close with error: ${e}`),this.stream=null,this.close(4,e)}getCloseGuardedDispatcher(e){return t=>{this.queue.enqueueAndForget(()=>this.closeCount===e?t():(Te($$,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},lM=class extends sw{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}startRpc(e,t){return this.connection.openStream("Listen",e,t)}onFirst(e){return this.onNext(e)}onNext(e){this.backoff.reset();let t=oEe(this.serializer,e),r=uEe(e);return this.listener.onWatchChange(t,r)}watch(e){let t={};t.database=F3(this.serializer),t.addTarget=vEe(this.serializer,e);let r=gEe(this.serializer,e);r&&(t.labels=r),this.sendRequest(t)}unwatch(e){let t={};t.database=F3(this.serializer),t.removeTarget=e,this.sendRequest(t)}},dM=class extends sw{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get handshakeComplete(){return this.responseCount>0}start(){this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete&&this.writeMutations([])}startRpc(e,t){return this.connection.openStream("Write",e,t)}onFirst(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.onHandshakeComplete()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.backoff.reset();let t=fEe(e.writeResults,e.commitTime),r=jo(e.commitTime);return this.listener.onMutationResult(r,t)}writeHandshake(){let e={};e.database=F3(this.serializer),this.sendRequest(e)}writeMutations(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>cEe(this.serializer,r))};this.sendRequest(t)}};var fM=class{},hM=class extends fM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(e,t,r,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.invokeRPC(e,L3(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(te.UNKNOWN,s.toString())})}invokeStreamingRPC(e,t,r,i,s){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.invokeStreamingRPC(e,L3(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(te.UNKNOWN,o.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}};function $we(n,e,t,r){return new hM(n,e,t,r)}function zwe(n,e,t){let r=Je(n);return r.verifyInitialized(),new dM(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}function Gwe(n,e,t){let r=Je(n);return r.verifyInitialized(),new lM(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,t)}var Wwe="OnlineStateTracker",z$=1,G$=10*1e3,pM=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){this.watchStreamFailures===0&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",G$,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${G$/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(e){this.state==="Online"?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=z$&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${z$} times. Most recent error: ${e.toString()}`),this.setAndBroadcast("Offline")))}set(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e==="Online"&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)}setAndBroadcast(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}logClientOfflineWarningIfNecessary(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(Ys(t),this.shouldWarnClientIsOffline=!1):Te(Wwe,t)}clearOnlineStateTimer(){this.onlineStateTimer!==null&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}};var hd="RemoteStore",Kwe=10,mM=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=s,this.connectivityMonitor.addCallback(o=>{r.enqueueAndForget(()=>O(this,null,function*(){yd(this)&&(Te(hd,"Restarting streams for network reachability change."),yield lSe(this))}))}),this.onlineStateTracker=new pM(r,i)}};function Qwe(n,e,t,r,i){return new mM(n,e,t,r,i)}function kw(n){return O(this,null,function*(){if(yd(n))for(let e of n.onNetworkStatusChange)yield e(!0)})}function f0(n){return O(this,null,function*(){for(let e of n.onNetworkStatusChange)yield e(!1)})}function Ywe(n){return O(this,null,function*(){let e=Je(n);Te(hd,"RemoteStore shutting down."),e.offlineCauses.add(5),yield f0(e),e.connectivityMonitor.shutdown(),e.onlineStateTracker.set("Unknown")})}function fG(n,e){let t=Je(n);t.listenTargets.has(e.targetId)||(t.listenTargets.set(e.targetId,e),eO(t)?XM(t):Hh(t).isOpen()&&ZM(t,e))}function JM(n,e){let t=Je(n),r=Hh(t);t.listenTargets.delete(e),r.isOpen()&&hG(t,e),t.listenTargets.size===0&&(r.isOpen()?r.markIdle():yd(t)&&t.onlineStateTracker.set("Unknown"))}function ZM(n,e){if(n.watchChangeAggregator.recordPendingTargetRequest(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hh(n).watch(e)}function hG(n,e){n.watchChangeAggregator.recordPendingTargetRequest(e),Hh(n).unwatch(e)}function XM(n){n.watchChangeAggregator=new O3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),getTargetDataForTarget:e=>n.listenTargets.get(e)||null,getDatabaseId:()=>n.datastore.serializer.databaseId}),Hh(n).start(),n.onlineStateTracker.handleWatchStreamStart()}function eO(n){return yd(n)&&!Hh(n).isStarted()&&n.listenTargets.size>0}function yd(n){return Je(n).offlineCauses.size===0}function pG(n){n.watchChangeAggregator=void 0}function Jwe(n){return O(this,null,function*(){n.onlineStateTracker.set("Online")})}function Zwe(n){return O(this,null,function*(){n.listenTargets.forEach((e,t)=>{ZM(n,e)})})}function Xwe(n,e){return O(this,null,function*(){pG(n),eO(n)?(n.onlineStateTracker.handleWatchStreamFailure(e),XM(n)):n.onlineStateTracker.set("Unknown")})}function eSe(n,e,t){return O(this,null,function*(){if(n.onlineStateTracker.set("Online"),e instanceof JE&&e.state===2&&e.cause){try{yield nSe(n,e)}catch(r){Te(hd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ow(n,r)}return}if(e instanceof Ih?n.watchChangeAggregator.handleDocumentChange(e):e instanceof YE?n.watchChangeAggregator.handleExistenceFilter(e):n.watchChangeAggregator.handleTargetChange(e),!t.isEqual(et.min()))try{let r=yield cG(n.localStore);t.compareTo(r)>=0&&(yield tSe(n,t))}catch(r){Te(hd,"Failed to raise snapshot:",r),yield ow(n,r)}})}function ow(n,e,t){return O(this,null,function*(){if(jh(e))n.offlineCauses.add(1),yield f0(n),n.onlineStateTracker.set("Offline"),t||(t=()=>cG(n.localStore)),n.asyncQueue.enqueueRetryable(()=>O(null,null,function*(){Te(hd,"Retrying IndexedDB access"),yield t(),n.offlineCauses.delete(1),yield kw(n)}));else throw e})}function mG(n,e){return e().catch(t=>ow(n,t,e))}function tSe(n,e){let t=n.watchChangeAggregator.createRemoteEvent(e);return t.targetChanges.forEach((r,i)=>{if(r.resumeToken.approximateByteSize()>0){let s=n.listenTargets.get(i);s&&n.listenTargets.set(i,s.withResumeToken(r.resumeToken,e))}}),t.targetMismatches.forEach((r,i)=>{let s=n.listenTargets.get(r);if(!s)return;n.listenTargets.set(r,s.withResumeToken(qr.EMPTY_BYTE_STRING,s.snapshotVersion)),hG(n,r);let o=new r0(s.target,r,i,s.sequenceNumber);ZM(n,o)}),n.remoteSyncer.applyRemoteEvent(t)}function nSe(n,e){return O(this,null,function*(){let t=e.cause;for(let r of e.targetIds)n.listenTargets.has(r)&&(yield n.remoteSyncer.rejectListen(r,t),n.listenTargets.delete(r),n.watchChangeAggregator.removeTarget(r))})}function Mw(n){return O(this,null,function*(){let e=Je(n),t=Cc(e),r=e.writePipeline.length>0?e.writePipeline[e.writePipeline.length-1].batchId:VM;for(;rSe(e);)try{let i=yield Ewe(e.localStore,r);if(i===null){e.writePipeline.length===0&&t.markIdle();break}else r=i.batchId,iSe(e,i)}catch(i){yield ow(e,i)}gG(e)&&yG(e)})}function rSe(n){return yd(n)&&n.writePipeline.length<Kwe}function iSe(n,e){n.writePipeline.push(e);let t=Cc(n);t.isOpen()&&t.handshakeComplete&&t.writeMutations(e.mutations)}function gG(n){return yd(n)&&!Cc(n).isStarted()&&n.writePipeline.length>0}function yG(n){Cc(n).start()}function sSe(n){return O(this,null,function*(){Cc(n).writeHandshake()})}function oSe(n){return O(this,null,function*(){let e=Cc(n);for(let t of n.writePipeline)e.writeMutations(t.mutations)})}function aSe(n,e,t){return O(this,null,function*(){let r=n.writePipeline.shift(),i=A3.from(r,e,t);yield mG(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Mw(n)})}function uSe(n,e){return O(this,null,function*(){e&&Cc(n).handshakeComplete&&(yield cSe(n,e)),gG(n)&&yG(n)})}function cSe(n,e){return O(this,null,function*(){if(W_e(e.code)){let t=n.writePipeline.shift();Cc(n).inhibitBackoff(),yield mG(n,()=>n.remoteSyncer.rejectFailedWrite(t.batchId,e)),yield Mw(n)}})}function lSe(n){return O(this,null,function*(){let e=Je(n);e.offlineCauses.add(4),yield f0(e),e.onlineStateTracker.set("Unknown"),e.offlineCauses.delete(4),yield kw(e)})}function W$(n,e){return O(this,null,function*(){let t=Je(n);t.asyncQueue.verifyOperationInProgress(),Te(hd,"RemoteStore received new credentials");let r=yd(t);t.offlineCauses.add(3),yield f0(t),r&&t.onlineStateTracker.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.offlineCauses.delete(3),yield kw(t)})}function dSe(n,e){return O(this,null,function*(){let t=Je(n);e?(t.offlineCauses.delete(2),yield kw(t)):e||(t.offlineCauses.add(2),yield f0(t),t.onlineStateTracker.set("Unknown"))})}function Hh(n){return n.watchStream||(n.watchStream=Gwe(n.datastore,n.asyncQueue,{onConnected:Jwe.bind(null,n),onOpen:Zwe.bind(null,n),onClose:Xwe.bind(null,n),onWatchChange:eSe.bind(null,n)}),n.onNetworkStatusChange.push(e=>O(null,null,function*(){e?(n.watchStream.inhibitBackoff(),eO(n)?XM(n):n.onlineStateTracker.set("Unknown")):(yield n.watchStream.stop(),pG(n))}))),n.watchStream}function Cc(n){return n.writeStream||(n.writeStream=zwe(n.datastore,n.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:sSe.bind(null,n),onClose:uSe.bind(null,n),onHandshakeComplete:oSe.bind(null,n),onMutationResult:aSe.bind(null,n)}),n.onNetworkStatusChange.push(e=>O(null,null,function*(){e?(n.writeStream.inhibitBackoff(),yield Mw(n)):(yield n.writeStream.stop(),n.writePipeline.length>0&&(Te(hd,`Stopping write stream with ${n.writePipeline.length} pending writes`),n.writePipeline=[]))}))),n.writeStream}var fSe="AsyncQueue",gM=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function tO(n,e){if(Ys(fSe,`${e}: ${n}`),jh(n))return new ve(te.UNAVAILABLE,`${e}: ${n}`);throw n}var aw=class n{static emptySet(e){return new n(e.comparator)}constructor(e){e?this.comparator=(t,r)=>e(t,r)||Be.comparator(t.key,r.key):this.comparator=(t,r)=>Be.comparator(t.key,r.key),this.keyedMap=$g(),this.sortedSet=new Rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var uw=class{constructor(){this.changeMap=new Rn(Be.comparator)}track(e){let t=e.doc.key,r=this.changeMap.get(t);if(!r){this.changeMap=this.changeMap.insert(t,e);return}e.type!==0&&r.type===3?this.changeMap=this.changeMap.insert(t,e):e.type===3&&r.type!==1?this.changeMap=this.changeMap.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.changeMap=this.changeMap.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.changeMap=this.changeMap.remove(t):e.type===1&&r.type===2?this.changeMap=this.changeMap.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):ze(63341,{change:e,oldChange:r})}getChanges(){let e=[];return this.changeMap.inorderTraversal((t,r)=>{e.push(r)}),e}},Lh=class n{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,aw.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!Dw(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var yM=class{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(e=>e.listensToRemoteStore())}};function hSe(){return new vM}var vM=class{constructor(){this.queries=vG(),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}terminate(){ySe(this,new ve(te.ABORTED,"Firestore shutting down"))}};function vG(){return new ja(n=>Uz(n),Dw)}function nO(n,e){return O(this,null,function*(){let t=Je(n),r=3,i=e.query,s=t.queries.get(i);s?!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(r=2):(s=new yM,r=e.listensToRemoteStore()?0:1);try{switch(r){case 0:s.viewSnap=yield t.onListen(i,!0);break;case 1:s.viewSnap=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i);break;default:break}}catch(o){let a=tO(o,`Initialization of query '${wh(e.query)}' failed`);e.onError(a);return}t.queries.set(i,s),s.listeners.push(e),e.applyOnlineStateChange(t.onlineState),s.viewSnap&&e.onViewSnapshot(s.viewSnap)&&iO(t)})}function rO(n,e){return O(this,null,function*(){let t=Je(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),s.listeners.length===0?i=e.listensToRemoteStore()?0:1:!s.hasRemoteListeners()&&e.listensToRemoteStore()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function pSe(n,e){let t=Je(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.listeners)a.onViewSnapshot(i)&&(r=!0);o.viewSnap=i}}r&&iO(t)}function mSe(n,e,t){let r=Je(n),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(t);r.queries.delete(e)}function gSe(n,e){let t=Je(n);t.onlineState=e;let r=!1;t.queries.forEach((i,s)=>{for(let o of s.listeners)o.applyOnlineStateChange(e)&&(r=!0)}),r&&iO(t)}function ySe(n,e){let t=Je(n),r=t.queries;t.queries=vG(),r.forEach((i,s)=>{for(let o of s.listeners)o.onError(e)})}function iO(n){n.snapshotsInSyncListeners.forEach(e=>{e.next()})}var bG=function(n){return n.Default="default",n.Cache="cache",n}(bG||{}),o0=class{constructor(e,t,r){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=r||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Lh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),t=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),t=!0),this.snap=e,t}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t}shouldRaiseInitialEvent(e,t){if(!e.fromCache||!this.listensToRemoteStore())return!0;let r=t!=="Offline";return this.options.waitForSyncWhenOnline&&r?!1:!e.docs.isEmpty()||e.hasCachedResults||t==="Offline"}shouldRaiseEvent(e){if(e.docChanges.length>0)return!0;let t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return e.syncStateChanged||t?this.options.includeMetadataChanges===!0:!1}raiseInitialEvent(e){e=Lh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(e)}listensToRemoteStore(){return this.options.source!==bG.Cache}};var bM=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.addedKeys=r,this.removedKeys=i}static fromSnapshot(e,t){let r=Et(),i=Et();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key);break}return new n(e,t.fromCache,r,i)}};var cw=class{constructor(e){this.key=e}},lw=class{constructor(e){this.key=e}},_M=class{constructor(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=Et(),this.mutatedKeys=Et(),this.docComparator=Bz(e),this.documentSet=new aw(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,t){let r=t?t.changeSet:new uw,i=t?t.documentSet:this.documentSet,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let f=i.get(l),h=xw(this.query,d)?d:null,g=f?this.mutatedKeys.has(f.key):!1,y=h?h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations:!1,S=!1;f&&h?f.data.isEqual(h.data)?g!==y&&(r.track({type:3,doc:h}),S=!0):this.shouldWaitForSyncedDocument(f,h)||(r.track({type:2,doc:h}),S=!0,(u&&this.docComparator(h,u)>0||c&&this.docComparator(h,c)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),S=!0):f&&!h&&(r.track({type:1,doc:f}),S=!0,(u||c)&&(a=!0)),S&&(h?(o=o.add(h),y?s=s.add(l):s=s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{documentSet:o,changeSet:r,needsRefill:a,mutatedKeys:s}}shouldWaitForSyncedDocument(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;let o=e.changeSet.getChanges();o.sort((d,f)=>vSe(d.type,f.type)||this.docComparator(d.doc,f.doc)),this.applyTargetChange(r),i=i??!1;let a=t&&!i?this.updateLimboDocuments():[],c=this.limboDocuments.size===0&&this.current&&!i?1:0,l=c!==this.syncState;return this.syncState=c,o.length===0&&!l?{limboChanges:a}:{snapshot:new Lh(this.query,e.documentSet,s,o,e.mutatedKeys,c===0,l,!1,r?r.resumeToken.approximateByteSize()>0:!1),limboChanges:a}}applyOnlineStateChange(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new uw,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(e){return!(this._syncedDocuments.has(e)||!this.documentSet.has(e)||this.documentSet.get(e).hasLocalMutations)}applyTargetChange(e){e&&(e.addedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.delete(t)),this.current=e.current)}updateLimboDocuments(){if(!this.current)return[];let e=this.limboDocuments;this.limboDocuments=Et(),this.documentSet.forEach(r=>{this.shouldBeInLimbo(r.key)&&(this.limboDocuments=this.limboDocuments.add(r.key))});let t=[];return e.forEach(r=>{this.limboDocuments.has(r)||t.push(new lw(r))}),this.limboDocuments.forEach(r=>{e.has(r)||t.push(new cw(r))}),t}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=Et();let t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)}computeInitialSnapshot(){return Lh.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===0,this.hasCachedResults)}};function vSe(n,e){let t=r=>{switch(r){case 0:return 1;case 2:return 2;case 3:return 2;case 1:return 0;default:return ze(20277,{change:r})}};return t(n)-t(e)}var sO="SyncEngine",EM=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},wM=class{constructor(e){this.key=e,this.receivedDocument=!1}},SM=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.syncEngineListener={},this.queryViewsByQuery=new ja(a=>Uz(a),Dw),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new Rn(Be.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new s0,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=i0.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return this._isPrimaryClient===!0}};function bSe(n,e,t,r,i,s,o){let a=new SM(n,e,t,r,i,s);return o&&(a._isPrimaryClient=!0),a}function _Se(n,e,t=!0){return O(this,null,function*(){let r=IG(n),i,s=r.queryViewsByQuery.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.computeInitialSnapshot()):i=yield _G(r,e,t,!0),i})}function ESe(n,e){return O(this,null,function*(){let t=IG(n);yield _G(t,e,!0,!1)})}function _G(n,e,t,r){return O(this,null,function*(){let i=yield wwe(n.localStore,Qs(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield wSe(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&fG(n.remoteStore,i),a})}function wSe(n,e,t,r,i){return O(this,null,function*(){n.applyDocChanges=(d,f,h)=>kSe(n,d,f,h);let s=yield lG(n.localStore,e,!0),o=new _M(e,s.remoteKeys),a=o.computeDocChanges(s.documents),u=t0.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,u);CG(n,t,c.limboChanges);let l=new EM(e,t,o);return n.queryViewsByQuery.set(e,l),n.queriesByTarget.has(t)?n.queriesByTarget.get(t).push(e):n.queriesByTarget.set(t,[e]),c.snapshot})}function SSe(n,e,t){return O(this,null,function*(){let r=Je(n),i=r.queryViewsByQuery.get(e),s=r.queriesByTarget.get(i.targetId);if(s.length>1){r.queriesByTarget.set(i.targetId,s.filter(o=>!Dw(o,e))),r.queryViewsByQuery.delete(e);return}r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rM(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&JM(r.remoteStore,i.targetId),TM(r,i.targetId)}).catch(qh))):(TM(r,i.targetId),yield rM(r.localStore,i.targetId,!0))})}function TSe(n,e){return O(this,null,function*(){let t=Je(n),r=t.queryViewsByQuery.get(e),i=t.queriesByTarget.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),JM(t.remoteStore,r.targetId))})}function CSe(n,e,t){return O(this,null,function*(){let r=PSe(n);try{let i=yield hwe(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),NSe(r,i.batchId,t),yield h0(r,i.changes),yield Mw(r.remoteStore)}catch(i){let s=tO(i,"Failed to persist write");t.reject(s)}})}function EG(n,e){return O(this,null,function*(){let t=Je(n);try{let r=yield ywe(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.activeLimboResolutionsByTarget.get(s);o&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.receivedDocument=!0:i.modifiedDocuments.size>0?$t(o.receivedDocument,14607):i.removedDocuments.size>0&&($t(o.receivedDocument,42227),o.receivedDocument=!1))}),yield h0(t,r,e)}catch(r){yield qh(r)}})}function K$(n,e,t){let r=Je(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.queryViewsByQuery.forEach((s,o)=>{let a=o.view.applyOnlineStateChange(e);a.snapshot&&i.push(a.snapshot)}),gSe(r.eventManager,e),i.length&&r.syncEngineListener.onWatchChange(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ISe(n,e,t){return O(this,null,function*(){let r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.activeLimboResolutionsByTarget.get(e),s=i&&i.key;if(s){let o=new Rn(Be.comparator);o=o.insert(s,Js.newNoDocument(s,et.min()));let a=Et().add(s),u=new QE(et.min(),new Map,new Rn(pt),o,a);yield EG(r,u),r.activeLimboTargetsByKey=r.activeLimboTargetsByKey.remove(s),r.activeLimboResolutionsByTarget.delete(e),oO(r)}else yield rM(r.localStore,e,!1).then(()=>TM(r,e,t)).catch(qh)})}function DSe(n,e){return O(this,null,function*(){let t=Je(n),r=e.batch.batchId;try{let i=yield pwe(t.localStore,e);SG(t,r,null),wG(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield h0(t,i)}catch(i){yield qh(i)}})}function xSe(n,e,t){return O(this,null,function*(){let r=Je(n);try{let i=yield gwe(r.localStore,e);SG(r,e,t),wG(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield h0(r,i)}catch(i){yield qh(i)}})}function wG(n,e){(n.pendingWritesCallbacks.get(e)||[]).forEach(t=>{t.resolve()}),n.pendingWritesCallbacks.delete(e)}function ASe(n,e){n.pendingWritesCallbacks.forEach(t=>{t.forEach(r=>{r.reject(new ve(te.CANCELLED,e))})}),n.pendingWritesCallbacks.clear()}function NSe(n,e,t){let r=n.mutationUserCallbacks[n.currentUser.toKey()];r||(r=new Rn(pt)),r=r.insert(e,t),n.mutationUserCallbacks[n.currentUser.toKey()]=r}function SG(n,e,t){let r=Je(n),i=r.mutationUserCallbacks[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.mutationUserCallbacks[r.currentUser.toKey()]=i}}function TM(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.queriesByTarget.get(e))n.queryViewsByQuery.delete(r),t&&n.syncEngineListener.onWatchError(r,t);n.queriesByTarget.delete(e),n.isPrimaryClient&&n.limboDocumentRefs.removeReferencesForId(e).forEach(i=>{n.limboDocumentRefs.containsKey(i)||TG(n,i)})}function TG(n,e){n.enqueuedLimboResolutions.delete(e.path.canonicalString());let t=n.activeLimboTargetsByKey.get(e);t!==null&&(JM(n.remoteStore,t),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.remove(e),n.activeLimboResolutionsByTarget.delete(t),oO(n))}function CG(n,e,t){for(let r of t)r instanceof cw?(n.limboDocumentRefs.addReference(r.key,e),RSe(n,r)):r instanceof lw?(Te(sO,"Document no longer in limbo: "+r.key),n.limboDocumentRefs.removeReference(r.key,e),n.limboDocumentRefs.containsKey(r.key)||TG(n,r.key)):ze(19791,{limboChange:r})}function RSe(n,e){let t=e.key,r=t.path.canonicalString();!n.activeLimboTargetsByKey.get(t)&&!n.enqueuedLimboResolutions.has(r)&&(Te(sO,"New document in limbo: "+t),n.enqueuedLimboResolutions.add(r),oO(n))}function oO(n){for(;n.enqueuedLimboResolutions.size>0&&n.activeLimboTargetsByKey.size<n.maxConcurrentLimboResolutions;){let e=n.enqueuedLimboResolutions.values().next().value;n.enqueuedLimboResolutions.delete(e);let t=new Be(vn.fromString(e)),r=n.limboTargetIdGenerator.next();n.activeLimboResolutionsByTarget.set(r,new wM(t)),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.insert(t,r),fG(n.remoteStore,new r0(Qs(Iw(t.path)),r,"TargetPurposeLimboResolution",UM.INVALID))}}function h0(n,e,t){return O(this,null,function*(){let r=Je(n),i=[],s=[],o=[];r.queryViewsByQuery.isEmpty()||(r.queryViewsByQuery.forEach((a,u)=>{o.push(r.applyDocChanges(u,e,t).then(c=>{var l;if((c||t)&&r.isPrimaryClient){let d=c?!c.fromCache:(l=t?.targetChanges.get(u.targetId))===null||l===void 0?void 0:l.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){i.push(c);let d=bM.fromSnapshot(u.targetId,c);s.push(d)}}))}),yield Promise.all(o),r.syncEngineListener.onWatchChange(i),yield _we(r.localStore,s))})}function kSe(n,e,t,r){return O(this,null,function*(){let i=e.view.computeDocChanges(t);i.needsRefill&&(i=yield lG(n.localStore,e.query,!1).then(({documents:u})=>e.view.computeDocChanges(u,i)));let s=r&&r.targetChanges.get(e.targetId),o=r&&r.targetMismatches.get(e.targetId)!=null,a=e.view.applyChanges(i,n.isPrimaryClient,s,o);return CG(n,e.targetId,a.limboChanges),a.snapshot})}function MSe(n,e){return O(this,null,function*(){let t=Je(n);if(!t.currentUser.isEqual(e)){Te(sO,"User change. New user:",e.toKey());let i=yield uG(t.localStore,e);t.currentUser=e,ASe(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield h0(t,i.affectedDocuments)}})}function OSe(n,e){let t=Je(n),r=t.activeLimboResolutionsByTarget.get(e);if(r&&r.receivedDocument)return Et().add(r.key);{let i=Et(),s=t.queriesByTarget.get(e);if(!s)return i;for(let o of s){let a=t.queryViewsByQuery.get(o);i=i.unionWith(a.view.syncedDocuments)}return i}}function IG(n){let e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OSe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ISe.bind(null,e),e.syncEngineListener.onWatchChange=pSe.bind(null,e.eventManager),e.syncEngineListener.onWatchError=mSe.bind(null,e.eventManager),e}function PSe(n){let e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DSe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xSe.bind(null,e),e}var DG=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return O(this,null,function*(){this.serializer=Rw(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return fwe(this.persistence,new sM,t.initialUser,this.serializer)}createPersistence(t){return new tw(tM.factory,this.serializer)}createSharedClientState(t){return new oM}terminate(){return O(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),CM=class extends DG{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){$t(this.persistence.referenceDelegate instanceof nw,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new j3(r,e.asyncQueue,t)}createPersistence(e){let t=this.cacheSizeBytes!==void 0?ss.withCacheSize(this.cacheSizeBytes):ss.DEFAULT;return new tw(r=>nw.factory(r,t),this.serializer)}};var LSe=(()=>{class n{initialize(t,r){return O(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>K$(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=MSe.bind(null,this.syncEngine),yield dSe(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return hSe()}createDatastore(t){let r=Rw(t.databaseInfo.databaseId),i=Lwe(t.databaseInfo);return $we(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return Qwe(this.localStore,this.datastore,t.asyncQueue,r=>K$(this.syncEngine,r,0),Fwe())}createSyncEngine(t,r){return bSe(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return O(this,null,function*(){var t,r;yield Ywe(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}n.provider={build:()=>new n};return n})();var a0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.scheduleEvent(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.scheduleEvent(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}mute(){this.muted=!0}scheduleEvent(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var bc="FirestoreClient",FSe=100,USe=11,BSe=20,VSe=22,IM=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=Dh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>O(this,null,function*(){Te(bc,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Te(bc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:FSe}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>O(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=tO(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function r3(n,e){return O(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Te(bc,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>O(null,null,function*(){r.isEqual(i)||(yield uG(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{mc("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{mc("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function Q$(n,e){return O(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield jSe(n);Te(bc,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>W$(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>W$(e.remoteStore,i)),n._onlineComponents=e})}function qSe(n){return n.name==="FirebaseError"?n.code===te.FAILED_PRECONDITION||n.code===te.UNIMPLEMENTED:typeof DOMException<"u"&&n instanceof DOMException?n.code===VSe||n.code===BSe||n.code===USe:!0}function jSe(n){return O(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(bc,"Using user provided OfflineComponentProvider");try{yield r3(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!qSe(t))throw t;mc("Error using user provided cache. Falling back to memory cache: "+t),yield r3(n,new DG)}}else Te(bc,"Using default OfflineComponentProvider"),yield r3(n,new CM(void 0));return n._offlineComponents})}function xG(n){return O(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(bc,"Using user provided OnlineComponentProvider"),yield Q$(n,n._uninitializedComponentsProvider._online)):(Te(bc,"Using default OnlineComponentProvider"),yield Q$(n,new LSe))),n._onlineComponents})}function HSe(n){return xG(n).then(e=>e.syncEngine)}function dw(n){return O(this,null,function*(){let e=yield xG(n),t=e.eventManager;return t.onListen=_Se.bind(null,e.syncEngine),t.onUnlisten=SSe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ESe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TSe.bind(null,e.syncEngine),t})}function $Se(n,e,t,r){let i=new a0(r),s=new o0(e,i,t);return n.asyncQueue.enqueueAndForget(()=>O(null,null,function*(){let o=yield dw(n);return nO(o,s)})),()=>{i.mute(),n.asyncQueue.enqueueAndForget(()=>O(null,null,function*(){let o=yield dw(n);return rO(o,s)}))}}function AG(n,e,t={}){let r=new os;return n.asyncQueue.enqueueAndForget(()=>O(null,null,function*(){let i=yield dw(n);return WSe(i,n.asyncQueue,e,t,r)})),r.promise}function zSe(n,e,t={}){let r=new os;return n.asyncQueue.enqueueAndForget(()=>O(null,null,function*(){let i=yield dw(n);return KSe(i,n.asyncQueue,e,t,r)})),r.promise}function GSe(n,e){let t=new os;return n.asyncQueue.enqueueAndForget(()=>O(null,null,function*(){let r=yield HSe(n);return CSe(r,e,t)})),t.promise}function WSe(n,e,t,r,i){let s=new a0({next:a=>{s.mute(),e.enqueueAndForget(()=>rO(n,o));let u=a.docs.has(t);!u&&a.fromCache?i.reject(new ve(te.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&r.source==="server"?i.reject(new ve(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:a=>i.reject(a)}),o=new o0(Iw(t.path),s,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return nO(n,o)}function KSe(n,e,t,r,i){let s=new a0({next:a=>{s.mute(),e.enqueueAndForget(()=>rO(n,o)),a.fromCache&&r.source==="server"?i.reject(new ve(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(a)},error:a=>i.reject(a)}),o=new o0(t,s,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return nO(n,o)}function QSe(n,e){return n.timeoutSeconds===e.timeoutSeconds}function NG(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var YSe="ComponentProvider",Y$=new Map;function JSe(n){let e=Y$.get(n);e&&(Te(YSe,"Removing Datastore"),Y$.delete(n),e.terminate())}function ZSe(n,e,t,r){return new f3(n,e,t,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,NG(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}var RG="firestore.googleapis.com",J$=!0,Z$=5,X$=30,XSe=!0,fw=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RG,this.ssl=J$}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:J$;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aG;else{if(e.cacheSizeBytes!==Nw&&e.cacheSizeBytes<j$)throw new ve(te.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${j$}`);this.cacheSizeBytes=e.cacheSizeBytes}Zbe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=XSe:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NG((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),eTe(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&QSe(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};function eTe(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<Z$)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is ${Z$})`);if(n.timeoutSeconds>X$)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is ${X$})`)}}var Fh=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=Kbe(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return O(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return JSe(this),Promise.resolve()}};function kG(n,e,t,r={}){var i;n=Vr(n,Fh);let s=bo(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s&&(Rf(`https://${u}`),kf("Firestore",!0)),o.host!==RG&&o.host!==u&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:r});if(!_o(c,a)&&(n._setSettings(c),r.mockUserToken)){let l,d;if(typeof r.mockUserToken=="string")l=r.mockUserToken,d=gr.MOCK_USER;else{l=E1(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ve(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new gr(f)}n._authCredentials=new s3(new HE(l,d))}}var _c=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},tr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(d0(t,n._jsonSchema))return new n(e,r||null,new Be(vn.fromString(t.referencePath)))}};tr._jsonSchemaVersion="firestore/documentReference/1.0";tr._jsonSchema={type:Xn("string",tr._jsonSchemaVersion),referencePath:Xn("string")};var gc=class n extends _c{constructor(e,t,r){super(e,t,Iw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Be(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function vd(n,e,...t){if(n=en(n),oz("collection","path",e),n instanceof Fh){let r=vn.fromString(e,...t);return w$(r),new gc(n,null,r)}else{if(!(n instanceof tr)&&!(n instanceof gc))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(vn.fromString(e,...t));return w$(r),new gc(n.firestore,null,r)}}function $o(n,e,...t){if(n=en(n),arguments.length===1&&(e=Dh.newId()),oz("doc","path",e),n instanceof Fh){let r=vn.fromString(e,...t);return E$(r),new tr(n,null,new Be(r))}else{if(!(n instanceof tr)&&!(n instanceof gc))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(vn.fromString(e,...t));return E$(r),new tr(n.firestore,n instanceof gc?n.converter:null,new Be(r))}}var tTe="AsyncQueue",hw=class{constructor(e=Promise.resolve()){this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new iw(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()},this.tail=e}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed(),this.enqueueInternal(e)}enterRestrictedMode(e){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=e||!1)}enqueue(e){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let t=new os;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.retryableOps.push(e),this.retryNextOp()))}retryNextOp(){return O(this,null,function*(){if(this.retryableOps.length!==0){try{yield this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(e){if(jh(e))Te(tTe,"Operation failed with retryable error: "+e);else throw e}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}})}enqueueInternal(e){let t=this.tail.then(()=>(this.operationInProgress=!0,e().catch(r=>{this.failure=r,this.operationInProgress=!1;let i=ez(r);throw Ys("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.operationInProgress=!1,r))));return this.tail=t,t}enqueueAfterDelay(e,t,r){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);let i=gM.createAndSchedule(this,e,t,r,s=>this.removeDelayedOperation(s));return this.delayedOperations.push(i),i}verifyNotFailed(){this.failure&&ze(47125,{messageOrStack:ez(this.failure)})}verifyOperationInProgress(){}drain(){return O(this,null,function*(){let e;do e=this.tail,yield e;while(e!==this.tail)})}containsDelayedOperation(e){for(let t of this.delayedOperations)if(t.timerId===e)return!0;return!1}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{this.delayedOperations.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.delayedOperations)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){let t=this.delayedOperations.indexOf(e);this.delayedOperations.splice(t,1)}};function ez(n){let e=n.message||"";return n.stack&&(n.stack.includes(n.message)?e=n.stack:e=n.message+`
`+n.stack),e}var as=class extends Fh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new hw,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return O(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new hw(e),this._firestoreClient=void 0,yield e}})}};function aO(n,e){let t=typeof n=="object"?n:Sa(),r=typeof n=="string"?n:e||h3,i=Pu(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=_1("firestore");s&&kG(i,...s)}return i}function p0(n){if(n._terminated)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nTe(n),n._firestoreClient}function nTe(n){var e,t,r;let i=n._freezeSettings(),s=ZSe(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new IM(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&rTe(n._componentsProvider))}function rTe(n){let e=n?._online.build();return{_offline:n?._offline.build(e),_online:e}}function iTe(n,e=!0){Gbe(Lu),Di(new Cr("firestore",(t,{instanceIdentifier:r,options:i})=>{let s=t.getProvider("app").getImmediate(),o=new as(new o3(t.getProvider("auth-internal")),new c3(s,t.getProvider("app-check-internal")),R1e(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),an(y$,v$,n),an(y$,v$,"esm2017")}var Ec=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(qr.fromBase64String(e))}catch(t){throw new ve(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(d0(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Ec._jsonSchemaVersion="firestore/bytes/1.0";Ec._jsonSchema={type:Xn("string",Ec._jsonSchemaVersion),bytes:Xn("string")};var Uh=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var u0=class{constructor(e){this._methodName=e}};var wc=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(d0(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};wc._jsonSchemaVersion="firestore/geoPoint/1.0";wc._jsonSchema={type:Xn("string",wc._jsonSchemaVersion),latitude:Xn("number"),longitude:Xn("number")};var Sc=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return lwe(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(d0(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new ve(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Sc._jsonSchemaVersion="firestore/vectorValue/1.0";Sc._jsonSchema={type:Xn("string",Sc._jsonSchemaVersion),vectorValues:Xn("object")};var sTe=/^__.*__$/,DM=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ho(e,this.data,this.fieldMask,t,this.fieldTransforms):new fd(e,this.data,t,this.fieldTransforms)}},pw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ho(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function MG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{dataSource:n})}}var xM=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.contextWith({path:r,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return yw(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(MG(this.dataSource)&&sTe.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},mw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rw(e)}createContext(e,t,r,i=!1){return new xM({dataSource:e,methodName:t,targetDoc:r,path:Oi.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ow(n){let e=n._freezeSettings(),t=Rw(n._databaseId);return new mw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OG(n,e,t,r,i,s={}){let o=n.createContext(s.merge||s.mergeFields?2:0,e,t,i);cO("Data must be an object, but it was:",o,r);let a=uO(r,o),u,c;if(s.merge)u=new is(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let f=AM(e,d,t);if(!o.contains(f))throw new ve(te.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);LG(l,f)||l.push(f)}u=new is(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new DM(new Mi(a),u,c)}var gw=class n extends u0{_toFieldTransform(e){if(e.dataSource===2)e.fieldMask.push(e.path);else throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(e){return e instanceof n}};function oTe(n,e,t,r){let i=n.createContext(1,e,t);cO("Data must be an object, but it was:",i,r);let s=[],o=Mi.empty();Tc(r,(u,c)=>{let l=lO(e,u,t);c=en(c);let d=i.childContextForFieldPath(l);if(c instanceof gw)s.push(l);else{let f=m0(c,d);f!=null&&(s.push(l),o.set(l,f))}});let a=new is(s);return new pw(o,a,i.fieldTransforms)}function aTe(n,e,t,r,i,s){let o=n.createContext(1,e,t),a=[AM(e,r,t)],u=[i];if(s.length%2!==0)throw new ve(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(AM(e,s[f])),u.push(s[f+1]);let c=[],l=Mi.empty();for(let f=a.length-1;f>=0;--f)if(!LG(c,a[f])){let h=a[f],g=u[f];g=en(g);let y=o.childContextForFieldPath(h);if(g instanceof gw)c.push(h);else{let S=m0(g,y);S!=null&&(c.push(h),l.set(h,S))}}let d=new is(c);return new pw(l,d,o.fieldTransforms)}function uTe(n,e,t,r=!1){let i=n.createContext(r?4:3,e);return m0(t,i)}function m0(n,e){if(n=en(n),PG(n))return cO("Unsupported field value:",e,n),uO(n,e);if(n instanceof u0)return lTe(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return cTe(n,e)}else return dTe(n,e)}function uO(n,e){let t={};return Ez(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(n,(r,i)=>{let s=m0(i,e.childContextForField(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function cTe(n,e){let t=[],r=0;for(let i of n){let s=m0(i,e.childContextForArray(r));s==null&&(s={nullValue:"NULL_VALUE"}),t.push(s),r++}return{arrayValue:{values:t}}}function lTe(n,e){if(!MG(e.dataSource))throw e.createError(`${n._methodName}() can only be used with update() and set()`);if(!e.path)throw e.createError(`${n._methodName}() is not currently supported inside arrays`);let t=n._toFieldTransform(e);t&&e.fieldTransforms.push(t)}function dTe(n,e){if(n=en(n),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return R_e(e.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let t=cn.fromDate(n);return{timestampValue:Ba(e.serializer,t)}}else if(n instanceof cn){let t=new cn(n.seconds,Math.floor(n.nanoseconds/1e3)*1e3);return{timestampValue:Ba(e.serializer,t)}}else{if(n instanceof wc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ec)return{bytesValue:Xz(e.serializer,n._byteString)};if(n instanceof tr){let t=e.databaseId,r=n.firestore._databaseId;if(!r.isEqual(t))throw e.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${t.projectId}/${t.database}`);return{referenceValue:QM(n.firestore._databaseId||e.databaseId,n._key.path)}}else{if(n instanceof Sc)return fTe(n,e);throw e.createError(`Unsupported field value: ${ww(n)}`)}}}function fTe(n,e){return{mapValue:{fields:{[qM]:{stringValue:jM},[xh]:{arrayValue:{values:n.toArray().map(r=>{if(typeof r!="number")throw e.createError("VectorValues must only contain numeric values.");return KM(e.serializer,r)})}}}}}}function PG(n){return typeof n=="object"&&n!==null&&!(n instanceof Array)&&!(n instanceof Date)&&!(n instanceof cn)&&!(n instanceof wc)&&!(n instanceof Ec)&&!(n instanceof tr)&&!(n instanceof u0)&&!(n instanceof Sc)}function cO(n,e,t){if(!PG(t)||!az(t)){let r=ww(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function AM(n,e,t){if(e=en(e),e instanceof Uh)return e._internalPath;if(typeof e=="string")return lO(n,e);throw yw("Field path arguments must be of type string or ",n,!1,void 0,t)}var hTe=new RegExp("[~\\*/\\[\\]]");function lO(n,e,t){if(e.search(hTe)>=0)throw yw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Uh(...e.split("."))._internalPath}catch{throw yw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yw(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ve(te.INVALID_ARGUMENT,a+n+u)}function LG(n,e){return n.some(t=>t.isEqual(e))}var vw=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document)if(this._converter){let e=new NM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}else return this._userDataWriter.convertValue(this._document.data.value);else return}get(e){if(this._document){let t=this._document.data.field(Pw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},NM=class extends vw{data(){return super.data()}};function Pw(n,e){return typeof e=="string"?lO(n,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}function FG(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var c0=class{},bw=class extends c0{};function bd(n,e,...t){let r=[];e instanceof c0&&r.push(e),r=r.concat(t),bTe(r);for(let i of r)n=i._apply(n);return n}var _w=class n extends bw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return UG(e._query,t),new _c(e.firestore,e.converter,WM(e._query,t))}_parse(e){let t=Ow(e.firestore);return pTe(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function $h(n,e,t){let r=e,i=Pw("where",n);return _w._create(i,r,t)}var RM=class n extends c0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Zs.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(yTe(e._query,t),new _c(e.firestore,e.converter,WM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var kM=class n extends bw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=mTe(e._query,this._field,this._direction);return new _c(e.firestore,e.converter,y_e(e._query,t))}};function zh(n,e="asc"){let t=e,r=Pw("orderBy",n);return kM._create(r,t)}function pTe(n,e,t,r,i,s,o){let a;if(i.isKeyField()){if(s==="array-contains"||s==="array-contains-any")throw new ve(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if(s==="in"||s==="not-in"){nz(o,s);let c=[];for(let l of o)c.push(tz(r,n,l));a={arrayValue:{values:c}}}else a=tz(r,n,o)}else(s==="in"||s==="not-in"||s==="array-contains-any")&&nz(o,s),a=uTe(t,e,o,s==="in"||s==="not-in");return er.create(i,s,a)}function mTe(n,e,t){if(n.startAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cd(e,t)}function tz(n,e,t){if(t=en(t),typeof t=="string"){if(t==="")throw new ve(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fz(e)&&t.indexOf("/")!==-1)throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(vn.fromString(t));if(!Be.isDocumentKey(r))throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return x$(n,new Be(r))}else{if(t instanceof tr)return x$(n,t._key);throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ww(t)}.`)}}function nz(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gTe(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function UG(n,e){let t=vTe(n.filters,gTe(e.op));if(t!==null)throw t===e.op?new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function yTe(n,e){let t=n,r=e.getFlattenedFilters();for(let i of r)UG(t,i),t=WM(t,i)}function vTe(n,e){for(let t of n)for(let r of t.getFlattenedFilters())if(e.indexOf(r.op)>=0)return r.op;return null}function bTe(n){let e=n.filter(r=>r instanceof RM).length,t=n.filter(r=>r instanceof _w).length;if(e>1||e>0&&t>0)throw new ve(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}var MM=class{convertValue(e,t="none"){switch(yc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Tc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[xh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>bn(o.doubleValue));return new Sc(s)}convertGeoPoint(e){return new wc(bn(e.latitude),bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Sw(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qg(e));default:return null}}convertTimestamp(e){let t=Va(e);return new cn(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=vn.fromString(e);$t(oG(r),9688,{name:e});let i=new WE(r.get(1),r.get(3)),s=new Be(r.popFirst(5));return i.isEqual(t)||Ys(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function BG(n,e,t){let r;return n?t&&(t.merge||t.mergeFields)?r=n.toFirestore(e,t):r=n.toFirestore(e):r=e,r}function rz(n){return _Te(n,["next","error","complete"])}function _Te(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var OM=LM();function Ic(n){let e=JSON.stringify(n);return`${OM.encode(e).byteLength}${e}`}var ETe={metadata:{id:"test-bundle",createTime:{seconds:1577836805,nanos:6},version:1,totalDocuments:1,totalBytes:416}};Ic(ETe);var wTe={documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/doc1",readTime:{seconds:5,nanos:6},exists:!0}};Ic(wTe);var STe={document:{name:"projects/test-project/databases/(default)/documents/collectionId/doc1",createTime:{seconds:1,nanos:2e6},updateTime:{seconds:3,nanos:4e3},fields:{foo:{stringValue:"value"},bar:{integerValue:-42}}}};Ic(STe);var TTe={documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/doc2",readTime:{seconds:5,nanos:6},exists:!0}};Ic(TTe);var CTe={document:{name:"projects/test-project/databases/(default)/documents/collectionId/doc2",createTime:{seconds:1,nanos:2e6},updateTime:{seconds:3,nanos:4e3},fields:{foo:{stringValue:"value1"},bar:{integerValue:42},emptyArray:{arrayValue:{}},emptyMap:{mapValue:{}}}}};Ic(CTe);var ITe={documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/nodoc",readTime:{seconds:5,nanos:6},exists:!1}};Ic(ITe);var DTe={namedQuery:{name:"limitQuery",bundledQuery:{parent:"projects/fireeats-97d5e/databases/(default)/documents",structuredQuery:{from:[{collectionId:"node_3.7.5_7Li7XoCjutvNxwD0tpo9"}],orderBy:[{field:{fieldPath:"sort"},direction:"DESCENDING"}],limit:{value:1}},limitType:"FIRST"},readTime:{seconds:1590011379,nanos:191164e3}}};Ic(DTe);var xTe={namedQuery:{name:"limitToLastQuery",bundledQuery:{parent:"projects/fireeats-97d5e/databases/(default)/documents",structuredQuery:{from:[{collectionId:"node_3.7.5_7Li7XoCjutvNxwD0tpo9"}],orderBy:[{field:{fieldPath:"sort"},direction:"ASCENDING"}],limit:{value:1}},limitType:"LAST"},readTime:{seconds:1590011379,nanos:543063e3}}};Ic(xTe);var ATe=1,Ew=class{constructor(e,t){this.firestore=e,this.bundleId=t,this.documents=new Map,this.namedQueries=new Map,this.latestReadTime=new cn(0,0),this.databaseId=e._databaseId,this.serializer=new XE(this.databaseId,!0),this.userDataReader=new mw(this.databaseId,!0,this.serializer)}addBundleDocument(e,t){let r=this.documents.get(e.documentPath),i=r?.metadata.queries,s=e.readTime,o=r?.metadata.readTime?Zz(r.metadata.readTime):null,a=!s&&o==null,u=s!==void 0&&(o==null||o<s);if((a||u)&&this.documents.set(e.documentPath,{document:this.toBundleDocument(e),metadata:{name:n0(this.serializer,e.documentKey),readTime:s?Ba(this.serializer,s):void 0,exists:e.documentExists}}),s&&s>this.latestReadTime&&(this.latestReadTime=s),t){let c=this.documents.get(e.documentPath);c.metadata.queries=i||[],c.metadata.queries.push(t)}}addBundleQuery(e){if(this.namedQueries.has(e.name))throw new Error(`Query name conflict: ${name} has already been added.`);let t=new cn(0,0);for(let s of e.docBundleDataArray)this.addBundleDocument(s,e.name),s.readTime&&s.readTime>t&&(t=s.readTime);let r=rG(this.serializer,Qs(e.query)),i={parent:e.parent,structuredQuery:r.queryTarget.structuredQuery};this.namedQueries.set(e.name,{name:e.name,bundledQuery:i,readTime:Ba(this.serializer,t)})}toBundleDocument(e){let t=this.userDataReader.createContext(4,"internal toBundledDocument"),r=uO(e.documentData,t);return{name:n0(this.serializer,e.documentKey),fields:r.mapValue.fields,updateTime:Ba(this.serializer,e.versionTime),createTime:Ba(this.serializer,e.createdTime)}}lengthPrefixedString(e){let t=JSON.stringify(e);return`${OM.encode(t).byteLength}${t}`}build(){let e="";for(let r of this.namedQueries.values())e+=this.lengthPrefixedString({namedQuery:r});for(let r of this.documents.values()){let i=r.metadata;e+=this.lengthPrefixedString({documentMetadata:i});let s=r.document;s&&(e+=this.lengthPrefixedString({document:s}))}let t={id:this.bundleId,createTime:Ba(this.serializer,this.latestReadTime),version:ATe,totalDocuments:this.documents.size,totalBytes:OM.encode(e).length};return e=this.lengthPrefixedString({metadata:t})+e,e}};function NTe(n,e,t,r){let i=new Ew(n,Dh.newId());return i.addBundleDocument(VG(r,t,e)),i.build()}function RTe(n,e,t,r,i,s,o){let a=[];for(let l=0;l<s.length;l++)a.push(VG(i[l],o[l],s[l]));let u={name:t,query:e,parent:r,docBundleDataArray:a},c=new Ew(n,t);return c.addBundleQuery(u),c.build()}function VG(n,e,t){return{documentData:e,documentKey:t.mutableCopy().key,documentPath:n,documentExists:!0,createdTime:t.createTime.toTimestamp(),readTime:t.readTime.toTimestamp(),versionTime:t.version.toTimestamp()}}var pd=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},md=class n extends vw{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document)if(this._converter){let t=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}else return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps);else return}get(e,t={}){if(this._document){let r=this._document.data.field(Pw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};if(t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument())return t;let r=this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous");return t.bundle=NTe(this._firestore,e,r,this.ref.path),t}};md._jsonSchemaVersion="firestore/documentSnapshot/1.0";md._jsonSchema={type:Xn("string",md._jsonSchemaVersion),bundleSource:Xn("string","DocumentSnapshot"),bundleName:Xn("string"),bundle:Xn("string")};var Bh=class extends md{data(e={}){return super.data(e)}},gd=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new pd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bh(this._firestore,this._userDataWriter,r.key,r,new pd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return(!this._cachedChanges||this._cachedChangesIncludeMetadataChanges!==t)&&(this._cachedChanges=kTe(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dh.newId();let t=this._firestore._databaseId.database,i=`projects/${this._firestore._databaseId.projectId}/databases/${t}/documents`,s=[],o=[],a=[];return this.docs.forEach(u=>{u._document!==null&&(s.push(u._document),o.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))}),e.bundle=RTe(this._firestore,this.query._query,e.bundleName,i,a,s,o),e}};gd._jsonSchemaVersion="firestore/querySnapshot/1.0";gd._jsonSchema={type:Xn("string",gd._jsonSchemaVersion),bundleSource:Xn("string","QuerySnapshot"),bundleName:Xn("string"),bundle:Xn("string")};function kTe(n,e){if(n._snapshot.oldDocs.isEmpty()){let t=0;return n._snapshot.docChanges.map(r=>{let i=new Bh(n._firestore,n._userDataWriter,r.doc.key,r.doc,new pd(n._snapshot.mutatedKeys.has(r.doc.key),n._snapshot.fromCache),n.query.converter);return r.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}})}else{let t=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(r=>e||r.type!==3).map(r=>{let i=new Bh(n._firestore,n._userDataWriter,r.doc.key,r.doc,new pd(n._snapshot.mutatedKeys.has(r.doc.key),n._snapshot.fromCache),n.query.converter),s=-1,o=-1;return r.type!==0&&(s=t.indexOf(r.doc.key),t=t.delete(r.doc.key)),r.type!==1&&(t=t.add(r.doc),o=t.indexOf(r.doc.key)),{type:MTe(r.type),doc:i,oldIndex:s,newIndex:o}})}}function MTe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:n})}}function qG(n){n=Vr(n,tr);let e=Vr(n.firestore,as),t=p0(e);return AG(t,n._key).then(r=>hO(e,n,r))}var l0=class extends MM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}};function dO(n){n=Vr(n,tr);let e=Vr(n.firestore,as),t=p0(e);return AG(t,n._key,{source:"server"}).then(r=>hO(e,n,r))}function fO(n){n=Vr(n,_c);let e=Vr(n.firestore,as),t=p0(e),r=new l0(e);return FG(n._query),zSe(t,n._query).then(i=>new gd(e,r,n,i))}function Lw(n,e,t){n=Vr(n,tr);let r=Vr(n.firestore,as),i=BG(n.converter,e,t),s=Ow(r),a=OG(s,"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,qo.none());return Uw(r,[a])}function Gh(n,e,t,...r){n=Vr(n,tr);let i=Vr(n.firestore,as),s=Ow(i);e=en(e);let o;typeof e=="string"||e instanceof Uh?o=aTe(s,"updateDoc",n._key,e,t,r):o=oTe(s,"updateDoc",n._key,e);let a=o.toMutation(n._key,qo.exists(!0));return Uw(i,[a])}function Fw(n){let e=Vr(n.firestore,as),t=[new e0(n._key,qo.none())];return Uw(e,t)}function g0(n,e){let t=Vr(n.firestore,as),r=$o(n),i=BG(n.converter,e),s=Ow(n.firestore),a=OG(s,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,qo.exists(!1));return Uw(t,[a]).then(()=>r)}function y0(n,...e){var t,r,i;n=en(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]=="object"&&!rz(e[o])&&(s=e[o++]);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(rz(e[o])){let f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,c,l;if(n instanceof tr)c=Vr(n.firestore,as),l=Iw(n._key.path),u={next:f=>{e[o]&&e[o](hO(c,n,f))},error:e[o+1],complete:e[o+2]};else{let f=Vr(n,_c);c=Vr(f.firestore,as),l=f._query;let h=new l0(c);u={next:g=>{e[o]&&e[o](new gd(c,h,f,g))},error:e[o+1],complete:e[o+2]},FG(n._query)}let d=p0(c);return $Se(d,l,a,u)}function Uw(n,e){let t=p0(n);return GSe(t,e)}function hO(n,e,t){let r=t.docs.get(e._key),i=new l0(n);return new md(n,i,e._key,r,new pd(t.hasPendingWrites,t.fromCache),e.converter)}iTe("node");var Bw=function(){return Bw=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Bw.apply(this,arguments)};var LTe={includeMetadataChanges:!1};function jG(n,e){return e===void 0&&(e=LTe),new at(function(t){var r=y0(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function HG(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Bw(Bw({},r),(t={},t[e.idField]=n.id,t))}function $G(n){return jG(n,{includeMetadataChanges:!0}).pipe(Ve(function(e){return e.docs}))}function zG(n,e){return e===void 0&&(e={}),$G(n).pipe(Ve(function(t){return t.map(function(r){return HG(r,e)})}))}var Xs=class{constructor(e){return e}},GG="firestore",pO=class{constructor(){return Fu(GG)}};var mO=new le("angularfire2.firestore-instances");function FTe(n,e){let t=Vl(GG,n,e);return t&&new Xs(t)}function UTe(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Xs(r)}}var BTe={provide:pO,deps:[[new Kn,mO]]},VTe={provide:Xs,useFactory:FTe,deps:[[new Kn,mO],Us]};function WG(n,...e){return an("angularfire",So.full,"fst"),Ar([VTe,BTe,{provide:mO,useFactory:UTe(n),multi:!0,deps:[_t,Nt,To,Ta,[new Kn,$l],[new Kn,Bu],...e]}])}var _d=hn(zG,!0);var KG=hn(g0,!0,2);var Ed=hn(vd,!0,2);var Vw=hn(Fw,!0,2);var Pi=hn($o,!0,2);var wd=hn(qG,!0);var gO=hn(zh,!0,2),v0=hn(bd,!0,2);var QG=hn(Lw,!0,2);var zo=hn(Gh,!0,2);var yO=hn($h,!0,2);var us=class n{constructor(e){this.firestore=e}CreateDocument(e,t){return O(this,null,function*(){let r=$o(this.firestore,e);yield Lw(r,t)})}addDocument(e,t){return O(this,null,function*(){let r=vd(this.firestore,e);return(yield g0(r,t)).id})}getDocument(e){return O(this,null,function*(){let t=$o(this.firestore,e),r=yield dO(t);return r.exists()?r.data():null})}updateDocument(e,t){return O(this,null,function*(){let r=$o(this.firestore,e);yield Gh(r,t)})}deleteDocument(e){return O(this,null,function*(){let t=$o(this.firestore,e);yield Fw(t)})}getCollection(e,t){let r=vd(this.firestore,e),i=t?t(r):bd(r);return new at(s=>{let o=y0(i,a=>{let u=a.docs.map(c=>me(K({},c.data()),{id:c.id}));s.next(u)},a=>{s.error(a)});return()=>o()})}getCommentsByLinkId(e){return O(this,null,function*(){let t=bd(vd(this.firestore,"messages"),$h("linkId","==",e),zh("createdAt","desc"));return(yield fO(t)).docs.map(i=>me(K({},i.data()),{id:i.id}))})}markCommentAsRead(e){return O(this,null,function*(){let t=$o(this.firestore,`messages/${e}`);yield Gh(t,{read:!0,updatedAt:new Date})})}editComment(e,t){return O(this,null,function*(){let r=$o(this.firestore,`messages/${e}`);yield Gh(r,{text:t,isEdited:!0,editedAt:new Date})})}replyToComment(e,t){return O(this,null,function*(){let r=vd(this.firestore,"messages");return(yield g0(r,me(K({},t),{parentId:e,createdAt:new Date,likes:0,likedBy:[],read:!1}))).id})}static \u0275fac=function(t){return new(t||n)(Ae(Xs))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};var zt=class n{fireStoreService=$(us);userSubject=new Mn(null);user$=this.userSubject.asObservable();isLoggedIn$=this.user$.pipe(Ve(e=>!!e));auth=$(Da);currentUserSignal=_i(void 0);constructor(){let e=this.auth.currentUser;e&&(this.userSubject.next(e),this.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,createdAt:new Date})),HB(this.auth,t=>{this.userSubject.next(t),t?this.currentUserSignal.set({id:t.uid,email:t.email,userName:t.displayName,createdAt:new Date}):this.currentUserSignal.set(null)})}getCurrentUser(){return this.userSubject.value}register(e,t,r){return Xe(jB(this.auth,e,r).then(i=>O(this,null,function*(){return yield WB(i.user,{displayName:t}),i}))).pipe(Pn(i=>{throw i}))}login(e,t){return Xe(zB(this.auth,e,t)).pipe(Pn(r=>{throw r}))}logOut(){return Xe(GB(this.auth)).pipe(Pn(e=>{throw e}))}sendPasswordResetEmail(e){return Xe($B(this.auth,e)).pipe(Pn(t=>{throw t}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};var gi=class n{usersFirestore=$(Xs);authService=$(zt);usersCollection=Ed(this.usersFirestore,"users");_userLogged=void 0;userProfileImage=_i("assets/images/icons/UserIcon.png");userProfileImageBase64=_i("");constructor(){Su(()=>{let e=this.authService.currentUserSignal();e?(this._userLogged=e,this.getUserById(e.id||"").subscribe(t=>{t?.userImageUrl?.base64?this.userProfileImage.set(t.userImageUrl.base64):t?.userImageUrl?.url?this.userProfileImage.set(t.userImageUrl.url):this.userProfileImage.set("assets/images/icons/UserIcon.png")})):(this._userLogged=void 0,this.userProfileImage.set("assets/images/icons/UserIcon.png"))})}getUsers(){return _d(this.usersCollection,{idField:"id"})}getUserById(e){if(!e)throw new Error("User ID is required");let t=Pi(this.usersFirestore,`users/${e}`);return Xe(wd(t)).pipe(Ve(r=>{if(!r.exists()){let s={id:e,email:"",userName:"Nouvel utilisateur",createdAt:new Date,role:"reader"};return Xe(QG(t,s)).subscribe(),s}let i=r.data();return K({id:r.id,userName:i.userName||"Nouvel utilisateur",email:i.email||"",createdAt:i.createdAt?.toDate()||new Date,role:i.role||"reader"},i)}),Pn(r=>(console.error("Error in getUserById:",r),xe({id:e,email:"",userName:"Utilisateur temporaire",createdAt:new Date,role:"reader"}))))}updateUserProfile(e,t){if(!e)throw new Error("User ID is required");return t.userImageUrl?.base64?this.userProfileImage.set(t.userImageUrl.base64):t.userImageUrl?.url&&this.userProfileImage.set(t.userImageUrl.url),this.canModifyUser(e).pipe(Ve(r=>{if(!r)throw new Error("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");console.log("Mise \xE0 jour du profil utilisateur:",t);let i=Pi(this.usersFirestore,`users/${e}`);return zo(i,t)}),Ln(r=>Xe(r)))}changeUserRole(e,t){return this.isCurrentUserAdmin().pipe(Ln(r=>{if(!r)throw new Error("Seuls les administrateurs peuvent changer les r\xF4les");let i=Pi(this.usersFirestore,`users/${e}`);return Xe(zo(i,{role:t}))}))}deleteUser(e){return this.isCurrentUserAdmin().pipe(Ln(t=>{if(!t)throw new Error("Seuls les administrateurs peuvent supprimer des utilisateurs");let r=Pi(this.usersFirestore,`users/${e}`);return Xe(Vw(r))}))}isCurrentUserAdmin(){let e=this.authService.getCurrentUser();return e?this.getUserById(e.uid).pipe(Ve(t=>t.role==="admin"),Pn(()=>xe(!1))):xe(!1)}canModifyUser(e){let t=this.authService.getCurrentUser();return t?t.uid===e?xe(!0):this.isCurrentUserAdmin():xe(!1)}gerUserConnectedFullName(){return this._userLogged?.userName}getUserProfileImage(){return this.userProfileImage}getCurrentUserImage(){return this.userProfileImage()}updateProfileImageSignal(e){this.userProfileImage.set(e)}updateUserProfileWithBase64Image(e,t,r){return O(this,null,function*(){if(!e)throw new Error("User ID is required");if(!(yield zc(this.canModifyUser(e))))throw new Error("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");let s=me(K({},t),{userImageUrl:{base64:r,url:"",createdAt:cn.now()}}),o=Pi(this.usersFirestore,`users/${e}`);yield zo(o,s),this.userProfileImage.set(r),console.log("Profil utilisateur mis \xE0 jour avec succ\xE8s")})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};var sW=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Fe(si),Fe(Nr))};static \u0275dir=wn({type:n})}return n})(),Yw=(()=>{class n extends sW{static \u0275fac=(()=>{let t;return function(i){return(t||(t=cl(n)))(i||n)}})();static \u0275dir=wn({type:n,features:[As]})}return n})(),S0=new le("");var jTe={provide:S0,useExisting:da(()=>cs),multi:!0};function HTe(){let n=kr()?kr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var $Te=new le(""),cs=(()=>{class n extends sW{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!HTe())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Fe(si),Fe(Nr),Fe($Te,8))};static \u0275dir=wn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&he("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[pl([jTe]),As]})}return n})();function SO(n){return n==null||TO(n)===0}function TO(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var oW=new le(""),aW=new le(""),zTe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nn=class{static min(e){return GTe(e)}static max(e){return WTe(e)}static required(e){return KTe(e)}static requiredTrue(e){return QTe(e)}static email(e){return YTe(e)}static minLength(e){return JTe(e)}static maxLength(e){return ZTe(e)}static pattern(e){return XTe(e)}static nullValidator(e){return uW()}static compose(e){return pW(e)}static composeAsync(e){return gW(e)}};function GTe(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function WTe(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function KTe(n){return SO(n.value)?{required:!0}:null}function QTe(n){return n.value===!0?null:{required:!0}}function YTe(n){return SO(n.value)||zTe.test(n.value)?null:{email:!0}}function JTe(n){return e=>{let t=e.value?.length??TO(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function ZTe(n){return e=>{let t=e.value?.length??TO(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function XTe(n){if(!n)return uW;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(SO(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function uW(n){return null}function cW(n){return n!=null}function lW(n){return wu(n)?Xe(n):n}function dW(n){let e={};return n.forEach(t=>{e=t!=null?K(K({},e),t):e}),Object.keys(e).length===0?null:e}function fW(n,e){return e.map(t=>t(n))}function eCe(n){return!n.validate}function hW(n){return n.map(e=>eCe(e)?e:t=>e.validate(t))}function pW(n){if(!n)return null;let e=n.filter(cW);return e.length==0?null:function(t){return dW(fW(t,e))}}function mW(n){return n!=null?pW(hW(n)):null}function gW(n){if(!n)return null;let e=n.filter(cW);return e.length==0?null:function(t){let r=fW(t,e).map(lW);return hT(r).pipe(Ve(dW))}}function yW(n){return n!=null?gW(hW(n)):null}function YG(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vW(n){return n._rawValidators}function bW(n){return n._rawAsyncValidators}function vO(n){return n?Array.isArray(n)?n:[n]:[]}function Hw(n,e){return Array.isArray(n)?n.includes(e):n===e}function JG(n,e){let t=vO(e);return vO(n).forEach(i=>{Hw(t,i)||t.push(i)}),t}function ZG(n,e){return vO(e).filter(t=>!Hw(n,t))}var $w=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mW(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yW(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Qh=class extends $w{name;get formDirective(){return null}get path(){return null}},Yh=class extends $w{_parent=null;name=null;valueAccessor=null},zw=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},tCe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uUe=me(K({},tCe),{"[class.ng-submitted]":"isSubmitted"}),Go=(()=>{class n extends zw{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Fe(Yh,2))};static \u0275dir=wn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[As]})}return n})(),Wo=(()=>{class n extends zw{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Fe(Qh,10))};static \u0275dir=wn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[As]})}return n})();var b0="VALID",qw="INVALID",Wh="PENDING",_0="DISABLED",Dc=class{},Gw=class extends Dc{value;source;constructor(e,t){super(),this.value=e,this.source=t}},E0=class extends Dc{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},w0=class extends Dc{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Kh=class extends Dc{status;source;constructor(e,t){super(),this.status=e,this.source=t}},bO=class extends Dc{source;constructor(e){super(),this.source=e}},_O=class extends Dc{source;constructor(e){super(),this.source=e}};function CO(n){return(Jw(n)?n.validators:n)||null}function nCe(n){return Array.isArray(n)?mW(n):n||null}function IO(n,e){return(Jw(e)?e.asyncValidators:n)||null}function rCe(n){return Array.isArray(n)?yW(n):n||null}function Jw(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function _W(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new be(1e3,"");if(!r[t])throw new be(1001,"")}function EW(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new be(1002,"")})}var Jh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Wi(this.statusReactive)}set status(e){Wi(()=>this.statusReactive.set(e))}_status=df(()=>this.statusReactive());statusReactive=_i(void 0);get valid(){return this.status===b0}get invalid(){return this.status===qw}get pending(){return this.status==Wh}get disabled(){return this.status===_0}get enabled(){return this.status!==_0}errors;get pristine(){return Wi(this.pristineReactive)}set pristine(e){Wi(()=>this.pristineReactive.set(e))}_pristine=df(()=>this.pristineReactive());pristineReactive=_i(!0);get dirty(){return!this.pristine}get touched(){return Wi(this.touchedReactive)}set touched(e){Wi(()=>this.touchedReactive.set(e))}_touched=df(()=>this.touchedReactive());touchedReactive=_i(!1);get untouched(){return!this.touched}_events=new En;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZG(e,this._rawAsyncValidators))}hasValidator(e){return Hw(this._rawValidators,e)}hasAsyncValidator(e){return Hw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(me(K({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new w0(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new w0(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(me(K({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new E0(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new E0(!0,r))}markAsPending(e={}){this.status=Wh;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kh(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(me(K({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_0,this.errors=null,this._forEachChild(i=>{i.disable(me(K({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gw(this.value,r)),this._events.next(new Kh(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(K({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=b0,this._forEachChild(r=>{r.enable(me(K({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(K({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===b0||this.status===Wh)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gw(this.value,t)),this._events.next(new Kh(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(me(K({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_0:b0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Wh,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=lW(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Kh(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Vt,this.statusChanges=new Vt}_calculateStatus(){return this._allControlsDisabled()?_0:this.errors?qw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wh)?Wh:this._anyControlsHaveStatus(qw)?qw:b0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new E0(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new w0(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jw(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=nCe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=rCe(this._rawAsyncValidators)}},Ww=class extends Jh{constructor(e,t,r){super(CO(t),IO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){EW(this,!0,e),Object.keys(e).forEach(r=>{_W(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var EO=class extends Ww{};var Zw=new le("",{providedIn:"root",factory:()=>T0}),T0="always";function iCe(n,e){return[...e.path,n]}function XG(n,e,t=T0){DO(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),oCe(n,e),uCe(n,e),aCe(n,e),sCe(n,e)}function eW(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Qw(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Kw(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sCe(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function DO(n,e){let t=vW(n);e.validator!==null?n.setValidators(YG(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=bW(n);e.asyncValidator!==null?n.setAsyncValidators(YG(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Kw(e._rawValidators,i),Kw(e._rawAsyncValidators,i)}function Qw(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=vW(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=bW(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Kw(e._rawValidators,r),Kw(e._rawAsyncValidators,r),t}function oCe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&wW(n,e)})}function aCe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&wW(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function wW(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uCe(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function cCe(n,e){n==null,DO(n,e)}function lCe(n,e){return Qw(n,e)}function dCe(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function fCe(n){return Object.getPrototypeOf(n.constructor)===Yw}function hCe(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function pCe(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===cs?t=s:fCe(s)?r=s:i=s}),i||r||t||null}function mCe(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function tW(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function nW(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var jw=class extends Jh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(CO(t),IO(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(nW(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){nW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gCe=n=>n instanceof jw;var Ko=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=wn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var yCe={provide:S0,useExisting:da(()=>xO),multi:!0};var vCe=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xO=(()=>{class n extends Yw{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=$(Zw,{optional:!0})??T0;constructor(t,r,i,s){super(t,r),this._registry=i,this._injector=s}ngOnInit(){this._control=this._injector.get(Yh),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(Fe(si),Fe(Nr),Fe(vCe),Fe(Nt))};static \u0275dir=wn({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&he("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[pl([yCe]),As]})}return n})();var SW=new le("");var bCe={provide:Qh,useExisting:da(()=>eo)},eo=(()=>{class n extends Qh{callSetDisabledState;get submitted(){return Wi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=df(()=>this._submittedReactive());_submittedReactive=_i(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Vt;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return XG(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){eW(t.control||null,t,!1),mCe(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),hCe(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new bO(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new _O(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(eW(r||null,t),gCe(i)&&(XG(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);cCe(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&lCe(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DO(this.form,this),this._oldForm&&Qw(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(Fe(oW,10),Fe(aW,10),Fe(Zw,8))};static \u0275dir=wn({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&he("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[pl([bCe]),As,Ds]})}return n})();var _Ce={provide:Yh,useExisting:da(()=>to)},to=(()=>{class n extends Yh{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Vt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=pCe(this,s)}ngOnChanges(t){this._added||this._setUpControl(),dCe(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return iCe(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(Fe(Qh,13),Fe(oW,10),Fe(aW,10),Fe(S0,10),Fe(SW,8))};static \u0275dir=wn({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[pl([_Ce]),As,Ds]})}return n})();var ECe={provide:S0,useExisting:da(()=>Xw),multi:!0};function TW(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function wCe(n){return n.split(":")[0]}var Xw=(()=>{class n extends Yw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=TW(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=wCe(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=cl(n)))(i||n)}})();static \u0275dir=wn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&he("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[pl([ECe]),As]})}return n})(),CW=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(TW(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Fe(Nr),Fe(si),Fe(Xw,9))};static \u0275dir=wn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),SCe={provide:S0,useExisting:da(()=>IW),multi:!0};function rW(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function TCe(n){return n.split(":")[0]}var IW=(()=>{class n extends Yw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let u=o[a],c=this._getOptionValue(u.value);i.push(c)}}else{let o=r.options;for(let a=0;a<o.length;a++){let u=o[a];if(u.selected){let c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=TCe(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=cl(n)))(i||n)}})();static \u0275dir=wn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&he("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[pl([SCe]),As]})}return n})(),DW=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(rW(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(rW(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Fe(Nr),Fe(si),Fe(IW,9))};static \u0275dir=wn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var xW=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xs({type:n});static \u0275inj=Cs({})}return n})(),wO=class extends Jh{constructor(e,t,r){super(CO(t),IO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){EW(this,!1,e),e.forEach((r,i)=>{_W(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function iW(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ls=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return iW(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ww(i,s)}record(t,r=null){let i=this._reduceControls(t);return new EO(i,r)}control(t,r,i){let s={};return this.useNonNullable?(iW(r)?s=r:(s.validators=r,s.asyncValidators=i),new jw(t,me(K({},s),{nonNullable:!0}))):new jw(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new wO(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof jw)return t;if(t instanceof Jh)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zw,useValue:t.callSetDisabledState??T0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=xs({type:n});static \u0275inj=Cs({imports:[xW]})}return n})(),ds=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:SW,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Zw,useValue:t.callSetDisabledState??T0}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=xs({type:n});static \u0275inj=Cs({imports:[xW]})}return n})();function CCe(n,e){if(n&1){let t=tt();k(0,"button",15),he("click",function(){let i=ke(t).$implicit,s=ue();return Me(s.toggleFilter("niveau",i))}),F(1),M()}if(n&2){let t=e.$implicit,r=ue();qt("bg-deep-green",!r.isSelected("niveau",t))("bg-deep-blue",r.isSelected("niveau",t)),H(),lt(" ",t," ")}}function ICe(n,e){if(n&1){let t=tt();k(0,"button",15),he("click",function(){let i=ke(t).$implicit,s=ue();return Me(s.toggleFilter("langage",i))}),F(1),M()}if(n&2){let t=e.$implicit,r=ue();qt("bg-deep-green",!r.isSelected("langage",t))("bg-deep-blue",r.isSelected("langage",t)),H(),lt(" ",t," ")}}function DCe(n,e){if(n&1){let t=tt();k(0,"button",15),he("click",function(){let i=ke(t).$implicit,s=ue();return Me(s.toggleFilter("prix",i))}),F(1),M()}if(n&2){let t=e.$implicit,r=ue();qt("bg-deep-green",!r.isSelected("prix",t))("bg-deep-blue",r.isSelected("prix",t)),H(),lt(" ",t," ")}}function xCe(n,e){if(n&1){let t=tt();k(0,"button",15),he("click",function(){let i=ke(t).$implicit,s=ue();return Me(s.toggleFilter("type",i))}),F(1),M()}if(n&2){let t=e.$implicit,r=ue();qt("bg-deep-green",!r.isSelected("type",t))("bg-deep-blue",r.isSelected("type",t)),H(),lt(" ",t," ")}}function ACe(n,e){if(n&1){let t=tt();k(0,"div",16),he("click",function(){ke(t);let i=ue();return Me(i.closeFilters())}),M()}}var Sd=class n{filterChange=new Vt;close=new Vt;isOpen=!1;niveauOptions=["Junior","M\xE9dior","Senior"];langageOptions=["HTML","CSS","JavaScript","Python","Git","Algorithme","C","Java","PHP","React","Angular","Vue.js","Node.js","TypeScript","SQL","MongoDB","Docker","Kubernetes","AWS","Azure"];prixOptions=["Gratuit","Payant"];typeOptions=["Cours","Projet","Forum","Exercice","Tutoriel","Documentation","Vid\xE9o","Podcast"];selectedFilters={niveau:[],langage:[],prix:[],type:[]};openFilters(){this.isOpen=!0}closeFilters(){this.isOpen=!1,this.close.emit()}toggleFilter(e,t){let r=this.selectedFilters[e].indexOf(t);r===-1?(this.selectedFilters[e].push(t),console.log("FilterPanel: Ajout du filtre",e,t,"Nouveaux filtres:",this.selectedFilters)):(this.selectedFilters[e].splice(r,1),console.log("FilterPanel: Suppression du filtre",e,t,"Nouveaux filtres:",this.selectedFilters))}isSelected(e,t){return this.selectedFilters[e].includes(t)}resetFilters(){this.selectedFilters={niveau:[],langage:[],prix:[],type:[]}}applyFilters(){console.log("FilterPanel: \xC9mission des filtres:",this.selectedFilters),this.filterChange.emit(K({},this.selectedFilters)),this.closeFilters()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-filter-panel"]],outputs:{filterChange:"filterChange",close:"close"},decls:38,vars:9,consts:[[1,"filter-panel","fixed","inset-x-0","bottom-0","bg-apple-green","rounded-t-3xl","shadow-lg","transition-transform","duration-500","ease-in-out","transform","z-40","pb-5"],[1,"p-5","font-primary","text-white"],[1,"flex","justify-center","items-center","mb-6"],[1,"flex","items-center","justify-center","gap-2"],[1,"material-symbols-outlined"],[1,"text-4xl"],[1,"mb-6"],[1,"text-2xl","mb-3"],[1,"border","border-deep-green"],[1,"flex","flex-wrap","gap-3","pt-1"],["class","px-4 rounded-lg text-xl transition-colors shadow-lg",3,"bg-deep-green","bg-deep-blue","click",4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-20"],["type","button",1,"px-12","bg-deep-green","text-white","rounded-sm","text-xl","shadow-xl","hover:bg-deep-blue",3,"click"],["type","button",1,"px-12","bg-deep-blue","text-white","rounded-sm","text-xl","shadow-xl",3,"click"],["class","fixed inset-0 bg-black/50 z-30",3,"click",4,"ngIf"],[1,"px-4","rounded-lg","text-xl","transition-colors","shadow-lg",3,"click"],[1,"fixed","inset-0","bg-black/50","z-30",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),F(5,"filter_alt"),M(),k(6,"h2",5),F(7,"FILTRER"),M()()(),k(8,"div",6)(9,"h3",7),F(10,"Niveau"),M(),Ne(11,"div",8),k(12,"div",9),ge(13,CCe,2,5,"button",10),M()(),k(14,"div",6)(15,"h3",7),F(16,"Langage"),M(),Ne(17,"div",8),k(18,"div",9),ge(19,ICe,2,5,"button",10),M()(),k(20,"div",6)(21,"h3",7),F(22,"Prix"),M(),Ne(23,"div",8),k(24,"div",9),ge(25,DCe,2,5,"button",10),M()(),k(26,"div",6)(27,"h3",7),F(28,"Type"),M(),Ne(29,"div",8),k(30,"div",9),ge(31,xCe,2,5,"button",10),M()(),k(32,"div",11)(33,"button",12),he("click",function(){return r.resetFilters()}),F(34," R\xE9initialiser "),M(),k(35,"button",13),he("click",function(){return r.applyFilters()}),F(36," Appliquer "),M()()()(),ge(37,ACe,1,0,"div",14)),t&2&&(qt("translate-y-full",!r.isOpen)("motion-preset-slide-up",r.isOpen),H(13),Y("ngForOf",r.niveauOptions),H(6),Y("ngForOf",r.langageOptions),H(6),Y("ngForOf",r.prixOptions),H(6),Y("ngForOf",r.typeOptions),H(6),Y("ngIf",r.isOpen))},dependencies:[jt,ai,Sn,xc],styles:[".filter-panel[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto}"]})};var Zh=class n{viewModeSubject=new Mn("carousel");viewMode$=this.viewModeSubject.asObservable();constructor(){}setViewMode(e){this.viewModeSubject.next(e)}getCurrentViewMode(){return this.viewModeSubject.value}toggleViewMode(){let t=this.viewModeSubject.value==="grid"?"carousel":"grid";this.viewModeSubject.next(t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};function NCe(n,e){if(n&1){let t=tt();k(0,"li")(1,"a",28),he("click",function(){ke(t);let i=ue();return Me(i.toggleMenu())}),F(2),M()()}if(n&2){let t=e.$implicit;H(),Y("routerLink",t.route),H(),lt(" ",t.label," ")}}function RCe(n,e){if(n&1&&(k(0,"a",29),F(1,"LinkedIn"),M()),n&2){let t=ue();Y("href",t.socialLinks.linkedin,xn)}}function kCe(n,e){if(n&1&&(k(0,"a",29),F(1,"Github"),M()),n&2){let t=ue();Y("href",t.socialLinks.github,xn)}}function MCe(n,e){if(n&1&&(k(0,"a",29),F(1,"Twitter"),M()),n&2){let t=ue();Y("href",t.socialLinks.twitter,xn)}}var eS=class n{filterPanel;userService=$(gi);cdr=$($i);authService=$(zt);router=$(ht);searchToggle=new Vt;filterChange=new Vt;isMenuOpen=!1;viewModeService=$(Zh);viewMode$=this.viewModeService.viewMode$;menuItems=[{label:"CARDS",route:"/home"},{label:"POLITIQUE DE CONFIDENTIALIT\xC9",route:"/policy"}];socialLinks={};ngOnInit(){let e=this.authService.getCurrentUser()?.uid;e&&this.userService.getUserById(e).subscribe(t=>{this.socialLinks=t?.socialLinks||{},this.cdr.detectChanges()})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen,this.cdr.detectChanges()}toggleView(){this.viewModeService.toggleViewMode(),this.viewModeService.getCurrentViewMode()==="carousel"&&this.router.navigate(["/home"])}toggleSearch(){this.filterPanel?this.filterPanel.isOpen?this.filterPanel.closeFilters():this.filterPanel.openFilters():this.searchToggle.emit()}onFilterChange(e){this.filterChange.emit(e)}logOut(){this.authService.logOut().subscribe({next:()=>{this.router.navigate(["/login-choice"])},error:e=>{console.error("Erreur lors de la d\xE9connexion:",e)}})}navigateToProfile(){this.router.navigate(["/users"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-nav-bar"]],viewQuery:function(t,r){if(t&1&&im(Sd,5),t&2){let i;fl(i=hl())&&(r.filterPanel=i.first)}},outputs:{searchToggle:"searchToggle",filterChange:"filterChange"},decls:38,vars:21,consts:[[1,"fixed","inset-0","z-50","transition-opacity","duration-300","font-primary","font-bold"],[1,"absolute","inset-0","bg-black/50",3,"click"],[1,"fixed","inset-y-0","left-0","w-full","bg-apple-green","transform","transition-transform","duration-300","ease-in-out"],[1,"p-4"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-xl","font-semibold","text-deep-green"],["type","button",1,"text-white","hover:text-gray-300",3,"click"],[1,"material-symbols-outlined"],[1,"w-full"],[1,"space-y-4","grid","place-content-center","h-screen"],[4,"ngFor","ngForOf"],[1,"flex","gap-2"],["target","_blank","class","text-black hover:text-soft-white",3,"href",4,"ngIf"],[1,"border-t","border-apple-green/30","mt-4","pt-20"],[1,"block","py-2","text-black","hover:text-white","rounded-lg","transition-colors","cursor-pointer","text-2xl",3,"click"],[3,"filterChange","close"],[1,"fixed","bottom-0","left-0","right-0"],[1,"max-w-md","mx-auto","px-4"],[1,"flex","justify-between","items-center","py-3"],["type","button",1,"px-6","bg-apple-green","rounded-3xl","shadow","hover:bg-light-green","transition-colors","w-18","h-12",3,"click"],["src","assets/images/icons/burgermenu.png","alt","icon"],[1,"flex","justify-between","gap-2","bg-apple-green","shadow-lg","py-1","px-2","rounded-3xl","max-w-52","max-h-12"],["type","button",1,"py-2","px-4","bg-white/30","rounded-2xl","shadow","hover:bg-light-green","transition-colors",3,"click","title"],[1,"material-symbols-outlined","text-deep-green"],["type","button",1,"transition-colors",3,"click"],["src","assets/images/icons/searchList.png","alt","icon",1,"max-w-3xl"],[1,"block","w-10","h-10","rounded-full","border","border-white","overflow-hidden","hover:ring-2","hover:ring-apple-green","transition-all",3,"click"],["alt","Profile",1,"w-full","h-full","object-cover",3,"src"],[1,"block","py-2","text-black","hover:text-white","rounded-lg","transition-colors","text-6xl",3,"click","routerLink"],["target","_blank",1,"text-black","hover:text-soft-white",3,"href"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1),he("click",function(){return r.toggleMenu()}),M(),k(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),F(6,"Menu"),M(),k(7,"button",6),he("click",function(){return r.toggleMenu()}),k(8,"span",7),F(9,"close"),M()()(),k(10,"nav",8)(11,"ul",9),ge(12,NCe,3,2,"li",10),k(13,"li",11),ge(14,RCe,2,1,"a",12)(15,kCe,2,1,"a",12)(16,MCe,2,1,"a",12),M(),k(17,"li",13)(18,"a",14),he("click",function(){return r.logOut()}),F(19," se d\xE9connecter "),M()()()()()()(),k(20,"app-filter-panel",15),he("filterChange",function(s){return r.onFilterChange(s)})("close",function(){return r.searchToggle.emit()}),M(),k(21,"nav",16)(22,"div",17)(23,"ul",18)(24,"li")(25,"button",19),he("click",function(){return r.toggleMenu()}),Ne(26,"img",20),M()(),k(27,"li",21)(28,"button",22),Rr(29,"async"),he("click",function(){return r.toggleView()}),k(30,"span",23),F(31),Rr(32,"async"),M()(),k(33,"button",24),he("click",function(){return r.toggleSearch()}),Ne(34,"img",25),M()(),k(35,"li")(36,"button",26),he("click",function(){return r.navigateToProfile()}),Ne(37,"img",27),M()()()()()),t&2&&(qt("opacity-0",!r.isMenuOpen)("pointer-events-none",!r.isMenuOpen)("opacity-100",r.isMenuOpen),H(2),qt("-translate-x-full",!r.isMenuOpen)("translate-x-0",r.isMenuOpen),H(10),Y("ngForOf",r.menuItems),H(2),Y("ngIf",r.socialLinks.linkedin),H(),Y("ngIf",r.socialLinks.github),H(),Y("ngIf",r.socialLinks.twitter),H(12),U2("title",ho(29,17,r.viewMode$)==="grid"?"Vue carrousel (retour \xE0 l'accueil)":"Vue grille"),H(3),lt(" ",ho(32,19,r.viewMode$)==="grid"?"view_carousel":"grid_view"," "),H(6),Y("src",r.userService.getCurrentUserImage(),xn))},dependencies:[jt,ai,Sn,gl,or,Or,Sd],styles:['[_nghost-%COMP%]{display:block;position:relative;z-index:50}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})};var tS=class n{router=$(ht);authService=$(zt);initializeNavigation(){return new Promise(e=>{if(this.authService.getCurrentUser()){this.router.navigate(["/home"]),e(!0);return}this.authService.isLoggedIn$.pipe(vs(1)).subscribe(r=>{r?this.router.navigate(["/home"]):this.router.navigate(["/login-choice"]),e(!0)})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};function OCe(n,e){n&1&&Ne(0,"app-nav-bar")}var nS=class n{authService=$(zt);initialNavigationService=$(tS);title="TheLastCoders";ngOnInit(){this.initialNavigationService.initializeNavigation()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-root"]],decls:5,vars:7,consts:[[4,"ngIf"]],template:function(t,r){t&1&&(k(0,"section"),Rr(1,"async"),Ne(2,"router-outlet"),ge(3,OCe,1,0,"app-nav-bar",0),Rr(4,"async"),M()),t&2&&(TL(ho(1,3,r.authService.isLoggedIn$)?"min-h-screen bg-black":"min-h-screen color-back"),H(3),Y("ngIf",ho(4,5,r.authService.isLoggedIn$)))},dependencies:[jt,Sn,gl,Nm,eS],encapsulation:2})};var $a=()=>{let n=$(zt),e=$(ht);return n.isLoggedIn$.pipe(Ve(t=>t?!0:(e.navigate(["/login"]),!1)))};var rS=()=>{let n=$(zt),e=$(ht);return n.isLoggedIn$.pipe(Ve(t=>t?(e.navigate(["/home"]),!1):!0))};function PCe(n,e){n&1&&(k(0,"section",4)(1,"a",8),F(2,"Se connecter"),M(),k(3,"a",9),F(4,"S'enregister"),M()())}function LCe(n,e){if(n&1){let t=tt();k(0,"section",5)(1,"a",10),he("click",function(){ke(t);let i=ue();return Me(i.logOut())}),F(2,"Se Deconnecter"),M()()}}var iS=class n{authService=$(zt);router=$(ht);currentYear=new Date().getFullYear();ngOnInit(){this.authService.isLoggedIn$.subscribe(e=>{e&&this.router.navigate(["/home"])}),this.authService.user$.subscribe(e=>{e?this.authService.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,createdAt:new Date}):this.authService.currentUserSignal.set(null)})}logOut(){this.authService.logOut().subscribe(()=>{this.router.navigate(["/login-choice"])})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-login-choice"]],decls:14,vars:3,consts:[[1,"flex","flex-col","justify-around","items-center","h-screen","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-2xl"],[1,"text-8xl","font-bold"],[1,"font-primary","flex","flex-col","items-center","gap-5"],[1,"font-primary","text-2xl","transition-colors","hover:opacity-50"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],["routerLink","/login","routerLinkActive","active",1,"text-2xl","hover:bg-deep-green","px-4","py-1.5","rounded-xl","cursor-pointer"],["routerLink","/register","routerLinkActive","active",1,"text-2xl","hover:bg-deep-green","px-4","py-1.5","rounded-xl","cursor-pointer"],[1,"cursor-pointer",3,"click"]],template:function(t,r){t&1&&(k(0,"nav",0)(1,"section",1)(2,"p",2),F(3,"The Last of"),M(),k(4,"h1",3),F(5,"Coders"),M()(),ge(6,PCe,5,0,"section",4)(7,LCe,3,0,"section",5),k(8,"section",6)(9,"p"),F(10),k(11,"span",7),F(12,"The Last Coders."),M(),F(13," Tous droits r\xE9serv\xE9s."),M()()()),t&2&&(H(6),An(r.authService.currentUserSignal()===null?6:-1),H(),An(r.authService.currentUserSignal()?7:-1),H(3),lt("\xA9 ",r.currentYear," "))},dependencies:[or,Or,FI],encapsulation:2})};function FCe(n,e){if(n&1&&(k(0,"div",19),F(1),M()),n&2){let t=ue();H(),lt(" ",t.errorMessage," ")}}function UCe(n,e){n&1&&(k(0,"p"),F(1,"L'email est requis"),M())}function BCe(n,e){n&1&&(k(0,"p"),F(1,"L'email n'est pas valide"),M())}function VCe(n,e){if(n&1&&(k(0,"div",20),ge(1,UCe,2,0,"p",21)(2,BCe,2,0,"p",21),M()),n&2){let t,r,i=ue();H(),Y("ngIf",(t=i.loginForm.get("email"))==null||t.errors==null?null:t.errors.required),H(),Y("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function qCe(n,e){n&1&&(k(0,"p"),F(1,"Le mot de passe est requis"),M())}function jCe(n,e){if(n&1&&(k(0,"div",20),ge(1,qCe,2,0,"p",21),M()),n&2){let t,r=ue();H(),Y("ngIf",(t=r.loginForm.get("password"))==null||t.errors==null?null:t.errors.required)}}var sS=class n{fb=$(ls);authService=$(zt);router=$(ht);loginForm;errorMessage="";currentYear=new Date().getFullYear();constructor(){this.loginForm=this.fb.group({email:["",[nn.required,nn.email]],password:["",[nn.required,nn.minLength(6)]]})}onSubmit(){if(this.loginForm.valid){let{email:e,password:t}=this.loginForm.value;this.errorMessage="",this.authService.login(e,t).subscribe({next:()=>{console.log("Connexion r\xE9ussie"),this.router.navigate(["/home"])},error:r=>{switch(console.error("Erreur lors de la connexion:",r),r.code){case"auth/invalid-email":this.errorMessage="L'adresse email n'est pas valide.";break;case"auth/user-disabled":this.errorMessage="Ce compte a \xE9t\xE9 d\xE9sactiv\xE9.";break;case"auth/user-not-found":this.errorMessage="Aucun compte n'existe avec cet email.";break;case"auth/wrong-password":this.errorMessage="Le mot de passe est incorrect.";break;case"auth/invalid-credential":this.errorMessage="Email ou mot de passe incorrect.";break;default:this.errorMessage="Une erreur est survenue lors de la connexion. Veuillez r\xE9essayer."}}})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-login"]],decls:35,vars:6,consts:[[1,"min-h-screen"],[1,"max-w-2xl","mx-auto","flex","flex-col","items-center","justify-around","h-screen","px-4","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-xl"],[1,"text-5xl","font-bold"],["class","font-primary text-red-500 text-center bg-red-100 p-3 rounded-lg mb-4",4,"ngIf"],[1,"flex","flex-col","gap-5","w-full","max-w-md",3,"ngSubmit","formGroup"],[1,"flex","font-primary"],[1,"w-full","max-w-md"],["type","email","formControlName","email","placeholder","Email",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["class","text-apple-green text-xs mt-1",4,"ngIf"],["type","password","formControlName","password","placeholder","Mot de passe",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],[1,"font-primary","text-sm","text-gray-500","hover:text-apple-green","cursor-pointer"],["type","submit",1,"text-2xl","bg-deep-green","transition-colors","hover:bg-apple-green","px-4","py-1.5","rounded-xl","cursor-pointer","font-primary","btn","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","gap-2","font-secondary","mt-12"],[1,"text-sm"],["routerLink","/register",1,"text-sm","text-apple-green","hover:text-deep-green"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],[1,"font-primary","text-red-500","text-center","bg-red-100","p-3","rounded-lg","mb-4"],[1,"text-apple-green","text-xs","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1&&(k(0,"section",0)(1,"div",1)(2,"section",2)(3,"p",3),F(4,"The Last of"),M(),k(5,"h1",4),F(6,"Coders"),M()(),k(7,"section"),ge(8,FCe,2,1,"div",5),k(9,"form",6),he("ngSubmit",function(){return r.onSubmit()}),k(10,"div",7)(11,"p",3),F(12,"Se connecter"),M()(),k(13,"div",8),Ne(14,"input",9),ge(15,VCe,3,2,"div",10),M(),k(16,"div",8),Ne(17,"input",11),ge(18,jCe,2,1,"div",10),M(),k(19,"div",12)(20,"p"),F(21,"Mot de passe oubli\xE9 ?"),M()(),k(22,"button",13),F(23," Se connecter "),M(),k(24,"div",14)(25,"p",15),F(26,"Pas encore de compte ?"),M(),k(27,"a",16),F(28,"S'enregistrer"),M()()()(),k(29,"section",17)(30,"p"),F(31),k(32,"span",18),F(33,"The Last Coders."),M(),F(34," Tous droits r\xE9serv\xE9s."),M()()()()),t&2){let i,s;H(8),Y("ngIf",r.errorMessage),H(),Y("formGroup",r.loginForm),H(6),Y("ngIf",((i=r.loginForm.get("email"))==null?null:i.touched)&&((i=r.loginForm.get("email"))==null?null:i.errors)),H(3),Y("ngIf",((s=r.loginForm.get("password"))==null?null:s.touched)&&((s=r.loginForm.get("password"))==null?null:s.errors)),H(4),Y("disabled",!r.loginForm.valid),H(9),lt("\xA9 ",r.currentYear," ")}},dependencies:[ds,Ko,cs,Go,Wo,eo,to,or,Or,jt,Sn],encapsulation:2})};function HCe(n,e){if(n&1&&(k(0,"div",19),F(1),M()),n&2){let t=ue();H(),lt(" ",t.errorMessage," ")}}function $Ce(n,e){n&1&&(k(0,"p"),F(1,"Le nom d'utilisateur est requis "),M())}function zCe(n,e){n&1&&(k(0,"p"),F(1,"Le nom d'utilisateur doit contenir au moins 7 caract\xE8res"),M())}function GCe(n,e){if(n&1&&(k(0,"div",20),ge(1,$Ce,2,0,"p",21)(2,zCe,2,0,"p",21),M()),n&2){let t,r,i=ue();H(),Y("ngIf",(t=i.registerForm.get("userName"))==null||t.errors==null?null:t.errors.required),H(),Y("ngIf",(r=i.registerForm.get("userName"))==null||r.errors==null?null:r.errors.minlength)}}function WCe(n,e){n&1&&(k(0,"p"),F(1,"L'email est requis"),M())}function KCe(n,e){n&1&&(k(0,"p"),F(1,"L'email n'est pas valide"),M())}function QCe(n,e){if(n&1&&(k(0,"div",20),ge(1,WCe,2,0,"p",21)(2,KCe,2,0,"p",21),M()),n&2){let t,r,i=ue();H(),Y("ngIf",(t=i.registerForm.get("email"))==null||t.errors==null?null:t.errors.required),H(),Y("ngIf",(r=i.registerForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function YCe(n,e){n&1&&(k(0,"p"),F(1,"Le mot de passe est requis"),M())}function JCe(n,e){n&1&&(k(0,"p"),F(1,"Le mot de passe doit contenir au moins 6 caract\xE8res"),M())}function ZCe(n,e){if(n&1&&(k(0,"div",20),ge(1,YCe,2,0,"p",21)(2,JCe,2,0,"p",21),M()),n&2){let t,r,i=ue();H(),Y("ngIf",(t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.required),H(),Y("ngIf",(r=i.registerForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}var oS=class n{authService=$(zt);firestoreService=$(us);fb=$(ls);router=$(ht);registerForm;errorMessage="";currentYear=new Date().getFullYear();constructor(){this.registerForm=this.fb.group({userName:["",[nn.required,nn.minLength(7)]],email:["",[nn.required,nn.email]],password:["",[nn.required,nn.minLength(6)]]})}ngOnInit(){this.authService.user$.subscribe(e=>{e?this.authService.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,role:"reader",createdAt:new Date}):this.authService.currentUserSignal.set(null)})}onSubmit(){if(this.registerForm.valid){let e=this.registerForm.get("email")?.value,t=this.registerForm.get("userName")?.value,r=this.registerForm.get("password")?.value;this.authService.register(e,t,r).subscribe({next:i=>O(this,null,function*(){try{if(yield new Promise(a=>setTimeout(a,1e3)),!this.authService.getCurrentUser())throw new Error("User not authenticated after registration");let o={id:i.user.uid,email:i.user.email,userName:t,createdAt:new Date,role:"reader",skills:[],socialLinks:{github:"",linkedin:"",twitter:""}};this.authService.currentUserSignal.set(o),yield this.firestoreService.CreateDocument(`users/${i.user.uid}`,o),this.router.navigate(["/skills"])}catch{this.authService.currentUserSignal.set(null),this.authService.logOut().subscribe()}}),error:i=>{alert(i.message||"Registration failed. Please try again.")}})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-register"]],decls:35,vars:7,consts:[[1,"min-h-screen"],[1,"max-w-2xl","mx-auto","flex","flex-col","items-center","justify-around","h-screen","px-4","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-xl"],[1,"text-5xl","font-bold"],["class","font-primary text-red-500 text-center bg-red-100 p-3 rounded-lg mb-4",4,"ngIf"],[1,"flex","flex-col","gap-5","w-full","max-w-md",3,"ngSubmit","formGroup"],[1,"flex","font-primary"],[1,"w-full","max-w-md"],["type","text","formControlName","userName","placeholder","Nom d'utilisateur",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["class","text-apple-green text-xs mt-1",4,"ngIf"],["type","email","formControlName","email","placeholder","Email",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["type","password","formControlName","password","placeholder","Mot de passe",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["type","submit",1,"text-2xl","bg-deep-green","transition-colors","hover:bg-apple-green","px-4","py-1.5","rounded-xl","cursor-pointer","font-primary","btn","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","gap-2","font-secondary","mt-12"],[1,"text-sm"],["routerLink","/login",1,"text-sm","text-apple-green","hover:text-deep-green"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],[1,"font-primary","text-red-500","text-center","bg-red-100","p-3","rounded-lg","mb-4"],[1,"text-apple-green","text-xs","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1&&(k(0,"section",0)(1,"div",1)(2,"section",2)(3,"p",3),F(4,"The Last of"),M(),k(5,"h1",4),F(6,"Coders"),M()(),k(7,"section"),ge(8,HCe,2,1,"div",5),k(9,"form",6),he("ngSubmit",function(){return r.onSubmit()}),k(10,"div",7)(11,"p",3),F(12,"S'enregistrer"),M()(),k(13,"div",8),Ne(14,"input",9),ge(15,GCe,3,2,"div",10),M(),k(16,"div",8),Ne(17,"input",11),ge(18,QCe,3,2,"div",10),M(),k(19,"div",8),Ne(20,"input",12),ge(21,ZCe,3,2,"div",10),M(),k(22,"button",13),F(23," S'enregistrer "),M(),k(24,"div",14)(25,"p",15),F(26,"D\xE9j\xE0 un compte ?"),M(),k(27,"a",16),F(28,"Se connecter"),M()()()(),k(29,"section",17)(30,"p"),F(31),k(32,"span",18),F(33,"The Last Coders."),M(),F(34," Tous droits r\xE9serv\xE9s."),M()()()()),t&2){let i,s,o;H(8),Y("ngIf",r.errorMessage),H(),Y("formGroup",r.registerForm),H(6),Y("ngIf",((i=r.registerForm.get("userName"))==null?null:i.touched)&&((i=r.registerForm.get("userName"))==null?null:i.errors)),H(3),Y("ngIf",((s=r.registerForm.get("email"))==null?null:s.touched)&&((s=r.registerForm.get("email"))==null?null:s.errors)),H(3),Y("ngIf",((o=r.registerForm.get("password"))==null?null:o.touched)&&((o=r.registerForm.get("password"))==null?null:o.errors)),H(),Y("disabled",!r.registerForm.valid),H(9),lt("\xA9 ",r.currentYear," ")}},dependencies:[ds,Ko,cs,Go,Wo,eo,to,or,Or,jt,Sn],encapsulation:2})};var aS=class n{questions=[{id:"1",question:"Avez-vous d\xE9j\xE0 une exp\xE9rience en programmation ?",options:[{value:"beginner",label:"Oui, je suis d\xE9butant"},{value:"intermediate",label:"Oui, niveau interm\xE9diaire"},{value:"advanced",label:"Oui, niveau avanc\xE9"},{value:"new",label:"Non, c'est tout nouveau pour moi"}]},{id:"2",question:"Quel domaine du d\xE9veloppement vous int\xE9resse le plus ?",options:[{value:"frontend",label:"D\xE9veloppement web frontend"},{value:"backend",label:"D\xE9veloppement web backend"},{value:"fullstack",label:"D\xE9veloppement fullstack"},{value:"mobile",label:"D\xE9veloppement mobile"},{value:"datascience",label:"Data Science / Intelligence Artificielle"},{value:"gamedev",label:"Jeux vid\xE9o"},{value:"other",label:"Autre"}]},{id:"3",question:"Quels langages de programmation connaissez-vous ou souhaitez-vous apprendre ?",options:[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"csharp",label:"C#"},{value:"php",label:"PHP"},{value:"ruby",label:"Ruby"},{value:"typescript",label:"TypeScript"},{value:"swiftkotlin",label:"Swift/Kotlin"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"other",label:"Autre"}]},{id:"4",question:"Quelle est votre m\xE9thode d'apprentissage pr\xE9f\xE9r\xE9e ?",options:[{value:"video",label:"Tutoriels vid\xE9o"},{value:"docs",label:"Documentation \xE9crite"},{value:"projects",label:"Projets pratiques"},{value:"online_courses",label:"Cours en ligne"},{value:"books",label:"Livres techniques"},{value:"forums",label:"Forums et communaut\xE9s"}]},{id:"5",question:"Quel est votre objectif principal en apprenant le d\xE9veloppement ?",options:[{value:"career_change",label:"Changer de carri\xE8re"},{value:"personal_project",label:"D\xE9velopper un projet personnel"},{value:"skill_improvement",label:"Am\xE9liorer mes comp\xE9tences professionnelles"},{value:"curiosity",label:"Simple curiosit\xE9/int\xE9r\xEAt"},{value:"studies",label:"Compl\xE9ter mes \xE9tudes"},{value:"startup",label:"Cr\xE9er une startup/entreprise"}]},{id:"6",question:"Combien de temps pouvez-vous consacrer \xE0 l'apprentissage chaque semaine ?",options:[{value:"lt5",label:"Moins de 5 heures"},{value:"5to10",label:"5-10 heures"},{value:"10to20",label:"10-20 heures"},{value:"gt20",label:"Plus de 20 heures"}]},{id:"7",question:"Quels types de ressources recherchez-vous principalement ?",options:[{value:"beginner_tutorials",label:"Tutoriels pour d\xE9butants"},{value:"tech_docs",label:"Documentation technique"},{value:"guided_projects",label:"Projets pratiques guid\xE9s"},{value:"challenges",label:"D\xE9fis et exercices"},{value:"advanced_resources",label:"Ressources avanc\xE9es"},{value:"tools",label:"Outils et biblioth\xE8ques"}]},{id:"8",question:"Pr\xE9f\xE9rez-vous des ressources gratuites ou \xEAtes-vous pr\xEAt \xE0 investir dans des formations payantes ?",options:[{value:"free_only",label:"Uniquement des ressources gratuites"},{value:"mostly_free",label:"Principalement gratuites, occasionnellement payantes"},{value:"willing_to_pay",label:"Je suis pr\xEAt \xE0 payer pour des ressources de qualit\xE9"},{value:"subscriptions",label:"Je pr\xE9f\xE8re les abonnements mensuels"}]},{id:"9",question:"Quels sujets sp\xE9cifiques souhaitez-vous explorer davantage ?",options:[{value:"js_frameworks",label:"Frameworks JavaScript (React, Vue, Angular)"},{value:"backend_frameworks",label:"Frameworks backend (Node.js, Django, Rails)"},{value:"mobile_dev",label:"D\xE9veloppement mobile (React Native, Flutter)"},{value:"databases",label:"Bases de donn\xE9es (SQL, NoSQL)"},{value:"devops",label:"DevOps et d\xE9ploiement"},{value:"security",label:"S\xE9curit\xE9 web"},{value:"uiux",label:"Design UI/UX"},{value:"ai_ml",label:"Intelligence artificielle/Machine Learning"},{value:"blockchain",label:"Blockchain/Web3"}]},{id:"10",question:"Comment avez-vous d\xE9couvert notre plateforme ?",options:[{value:"search_engine",label:"Moteur de recherche"},{value:"friend",label:"Recommandation d'un ami"},{value:"social_media",label:"R\xE9seaux sociaux"},{value:"dev_forum",label:"Forum de d\xE9veloppeurs"},{value:"youtube",label:"YouTube"},{value:"blog",label:"Article ou blog"},{value:"other",label:"Autre"}]}];constructor(){}getQuestions(){return this.questions}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};var XCe=(n,e)=>e.value;function e2e(n,e){if(n&1&&(k(0,"div",13)(1,"span",14),F(2),M()()),n&2){let t=ue();H(2),St(t.errorMessage)}}function t2e(n,e){if(n&1){let t=tt();k(0,"div",5)(1,"input",15),he("change",function(){let i=ke(t).$implicit,s=ue();return Me(s.onSelect(s.currentQuestion.id,i.value))}),M(),k(2,"label",16),F(3),M()()}if(n&2){let t=e.$implicit,r=ue();H(),Y("type",r.currentQuestion.id==="1"?"radio":"checkbox")("name",r.currentQuestion.id==="1"?"experience":"")("id",t.value)("checked",r.isSelected(r.currentQuestion.id,t.value)),H(),qt("bg-deep-blue",!r.isSelected(r.currentQuestion.id,t.value))("bg-apple-green",r.isSelected(r.currentQuestion.id,t.value)),Y("for",t.value),H(),lt(" ",t.label," ")}}function n2e(n,e){if(n&1){let t=tt();k(0,"button",17),he("click",function(){ke(t);let i=ue();return Me(i.onPrevious())}),F(1," Pr\xE9c\xE9dent "),M()}}function r2e(n,e){if(n&1){let t=tt();k(0,"button",18),he("click",function(){ke(t);let i=ue();return Me(i.saveAnswers())}),F(1," Terminer "),M()}}function i2e(n,e){if(n&1){let t=tt();k(0,"button",17),he("click",function(){ke(t);let i=ue();return Me(i.onNext())}),F(1," Suivant "),M()}}var uS=class n{quizService=$(aS);fireStoreService=$(us);fb=$(ls);authService=$(zt);router=$(ht);questions=this.quizService.getQuestions();currentQuestionIndex=0;answers={};errorMessage="";form=this.fb.group({answer:["",nn.required]});get currentQuestion(){return this.questions[this.currentQuestionIndex]}onNext(){this.currentQuestionIndex<this.questions.length-1&&this.currentQuestionIndex++}onPrevious(){this.currentQuestionIndex>0&&this.currentQuestionIndex--}onSelect(e,t){if(e==="1")this.answers[e]=[t];else{this.answers[e]||(this.answers[e]=[]);let r=this.answers[e].indexOf(t);r===-1?this.answers[e].push(t):this.answers[e].splice(r,1)}}isSelected(e,t){return this.answers[e]?.includes(t)}saveAnswers(){return O(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Utilisateur non connect\xE9");if(Object.keys(this.answers).length!==this.questions.length){this.errorMessage="Veuillez r\xE9pondre \xE0 toutes les questions avant de continuer.";return}for(let i of this.questions){let s=i.id;if(!this.answers[s]||this.answers[s].length===0){this.errorMessage=`Veuillez r\xE9pondre \xE0 la question ${s} avant de continuer.`;return}}let r={userId:e.uid,experience:this.answers[1]?.[0]||"",domain:this.answers[2]?.[0]||"",languages:this.answers[3]||[],learningMethod:this.answers[4]?.[0]||"",goal:this.answers[5]?.[0]||"",timePerWeek:this.answers[6]?.[0]||"",resources:this.answers[7]||[],paymentPreference:this.answers[8]?.[0]||"",topics:this.answers[9]||[],discovery:this.answers[10]?.[0]||"",createdAt:new Date};yield this.fireStoreService.CreateDocument(`quiz_responses/${e.uid}`,r),this.router.navigate(["/home"])}catch{this.errorMessage="Une erreur est survenue lors de la sauvegarde des r\xE9ponses. Veuillez r\xE9essayer."}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-skills-quiz"]],decls:16,vars:8,consts:[[1,"container","h-screen","mx-auto","p-4","max-w-2xl","bg-soft-white","text-black","flex","flex-col","items-center","justify-center","font-secondary","motion-preset-fade","motion-duration-2000"],[1,"mb-8","flex","flex-col","justify-between","items-center"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"text-3xl","font-bold","mb-20","font-primary","text-center"],[1,"flex","flex-wrap","gap-2","justify-center","w-full"],[1,"flex","items-center"],[1,"flex","justify-evenly","mt-20","w-full"],["class","bg-apple-green text-white rounded-2xl shadow px-6 py-2 hover:bg-deep-blue transition-colors",3,"click",4,"ngIf"],[1,"bg-deep-blue","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-black","transition-colors"],[1,"bg-apple-green","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-deep-blue","transition-colors"],[1,"mt-8","w-full","bg-deep-blue","rounded-full","h-2.5"],[1,"bg-apple-green","h-2.5","rounded-full"],[1,"text-sm","mt-6"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],[1,"sr-only",3,"change","type","name","id","checked"],[1,"ml-2","cursor-pointer","bg-deep-blue","text-white","rounded-full","px-4","py-2","shadow-sm/30","w-full","text-center","hover:bg-apple-green","transition-colors","hover:text-black",3,"for"],[1,"bg-apple-green","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-deep-blue","transition-colors",3,"click"],[1,"bg-deep-blue","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-black","transition-colors",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1),ge(2,e2e,3,1,"div",2),k(3,"h2",3),F(4),M(),k(5,"div",4),pa(6,t2e,4,10,"div",5,XCe),M()(),k(8,"div",6),ge(9,n2e,2,0,"button",7)(10,r2e,2,0,"button",8)(11,i2e,2,0,"button",9),M(),k(12,"div",10),Ne(13,"div",11),M(),k(14,"div",12),F(15),M()()),t&2&&(H(2),Y("ngIf",r.errorMessage),H(2),lt(" ",r.currentQuestion.question," "),H(2),ma(r.currentQuestion.options),H(3),Y("ngIf",r.currentQuestionIndex>0),H(),An(r.currentQuestionIndex===r.questions.length-1?10:11),H(3),F2("width",(r.currentQuestionIndex+1)/r.questions.length*100,"%"),H(2),B2(" Question ",r.currentQuestionIndex+1," sur ",r.questions.length," "))},dependencies:[jt,Sn,ds],encapsulation:2})};var MW="firebasestorage.googleapis.com",OW="storageBucket",s2e=2*60*1e3,o2e=10*60*1e3;var Hn=class n extends Gr{constructor(e,t,r=0){super(AO(e),`Firebase Storage: ${t} (${AO(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return AO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},nr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(nr||{});function AO(n){return"storage/"+n}function PO(){let n="An unknown error occurred, please check the error payload for server response.";return new Hn(nr.UNKNOWN,n)}function a2e(n){return new Hn(nr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function u2e(n){return new Hn(nr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function c2e(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Hn(nr.UNAUTHENTICATED,n)}function l2e(){return new Hn(nr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function d2e(n){return new Hn(nr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function f2e(){return new Hn(nr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h2e(){return new Hn(nr.CANCELED,"User canceled the upload/download.")}function p2e(n){return new Hn(nr.INVALID_URL,"Invalid URL '"+n+"'.")}function m2e(n){return new Hn(nr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function g2e(){return new Hn(nr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OW+"' property when initializing the app?")}function y2e(){return new Hn(nr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v2e(){return new Hn(nr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function NO(n){return new Hn(nr.INVALID_ARGUMENT,n)}function PW(){return new Hn(nr.APP_DELETED,"The Firebase app was deleted.")}function b2e(n){return new Hn(nr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ep(n,e){return new Hn(nr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function I0(n){throw new Hn(nr.INTERNAL_ERROR,"Internal error: "+n)}var no=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw m2e(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}let l="v[A-Za-z0-9_]+",d=t.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${l}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},y=t===MW?"(?:storage.googleapis.com|storage.cloud.google.com)":t,S="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${S}`,"i"),I=[{regex:a,indices:u,postModify:s},{regex:h,indices:g,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<I.length;T++){let x=I[T],V=x.regex.exec(e);if(V){let R=V[x.indices.bucket],A=V[x.indices.path];A||(A=""),r=new n(R,A),x.postModify(r);break}}if(r==null)throw p2e(e);return r}},RO=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function _2e(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function l(...S){c||(c=!0,e.apply(null,S))}function d(S){i=setTimeout(()=>{i=null,n(h,u())},S)}function f(){s&&clearTimeout(s)}function h(S,..._){if(c){f();return}if(S){f(),l.call(null,S,..._);return}if(u()||o){f(),l.call(null,S,..._);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,d(I)}let g=!1;function y(S){g||(g=!0,f(),!c&&(i!==null?(S||(a=2),clearTimeout(i),d(0)):S||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},t),y}function E2e(n){n(!1)}function w2e(n){return n!==void 0}function S2e(n){return typeof n=="object"&&!Array.isArray(n)}function LO(n){return typeof n=="string"||n instanceof String}function AW(n){return FO()&&n instanceof Blob}function FO(){return typeof Blob<"u"}function NW(n,e,t,r){if(r<e)throw NO(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw NO(`Invalid value for '${n}'. Expected ${t} or less.`)}function fS(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function LW(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var tp=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(tp||{});function T2e(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var kO=class{constructor(e,t,r,i,s,o,a,u,c,l,d,f=!0,h=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Xh(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===tp.NO_ERROR,u=s.getStatus();if(!a||T2e(u,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===tp.ABORT;r(!1,new Xh(!1,null,l));return}let c=this.successCodes_.indexOf(u)!==-1;r(!0,new Xh(c,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());w2e(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=PO();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?PW():h2e();o(u)}else{let u=f2e();o(u)}};this.canceled_?t(!1,new Xh(!1,null,!0)):this.backoffId_=_2e(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E2e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Xh=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function C2e(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function I2e(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function D2e(n,e){e&&(n["X-Firebase-GMPID"]=e)}function x2e(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function A2e(n,e,t,r,i,s,o=!0,a=!1){let u=LW(n.urlParams),c=n.url+u,l=Object.assign({},n.headers);return D2e(l,e),C2e(l,t),I2e(l,s),x2e(l,r),new kO(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o,a)}function N2e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function R2e(...n){let e=N2e();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(FO())return new Blob(n);throw new Hn(nr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function k2e(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function M2e(n){if(/[^-A-Za-z0-9+/=]/.test(n))throw ep("base64","Invalid character found");return Buffer.from(n,"base64").toString("binary")}var Qo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},D0=class{constructor(e,t){this.data=e,this.contentType=t||null}};function O2e(n,e){switch(n){case Qo.RAW:return new D0(FW(e));case Qo.BASE64:case Qo.BASE64URL:return new D0(UW(n,e));case Qo.DATA_URL:return new D0(L2e(e),F2e(e))}throw PO()}function FW(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function P2e(n){let e;try{e=decodeURIComponent(n)}catch{throw ep(Qo.DATA_URL,"Malformed data URL.")}return FW(e)}function UW(n,e){switch(n){case Qo.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ep(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qo.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ep(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=M2e(e)}catch(i){throw i.message.includes("polyfill")?i:ep(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var lS=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw ep(Qo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=U2e(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function L2e(n){let e=new lS(n);return e.base64?UW(Qo.BASE64,e.rest):P2e(e.rest)}function F2e(n){return new lS(n).contentType}function U2e(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var dS=class n{constructor(e,t){let r=0,i="";AW(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(AW(this.data_)){let r=this.data_,i=k2e(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(FO()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(R2e.apply(null,t))}else{let t=e.map(o=>LO(o)?O2e(Qo.RAW,o).data:o.data_),r=0;t.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new n(i,!0)}}uploadData(){return this.data_}};function BW(n){let e;try{e=JSON.parse(n)}catch{return null}return S2e(e)?e:null}function B2e(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function V2e(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function VW(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function q2e(n,e){return e}var Dr=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||q2e}},cS=null;function j2e(n){return!LO(n)||n.length<2?n:VW(n)}function qW(){if(cS)return cS;let n=[];n.push(new Dr("bucket")),n.push(new Dr("generation")),n.push(new Dr("metageneration")),n.push(new Dr("name","fullPath",!0));function e(s,o){return j2e(o)}let t=new Dr("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}let i=new Dr("size");return i.xform=r,n.push(i),n.push(new Dr("timeCreated")),n.push(new Dr("updated")),n.push(new Dr("md5Hash",null,!0)),n.push(new Dr("cacheControl",null,!0)),n.push(new Dr("contentDisposition",null,!0)),n.push(new Dr("contentEncoding",null,!0)),n.push(new Dr("contentLanguage",null,!0)),n.push(new Dr("contentType",null,!0)),n.push(new Dr("metadata","customMetadata",!0)),cS=n,cS}function H2e(n,e){function t(){let r=n.bucket,i=n.fullPath,s=new no(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function $2e(n,e,t){let r={};r.type="file";let i=t.length;for(let s=0;s<i;s++){let o=t[s];r[o.local]=o.xform(r,e[o.server])}return H2e(r,n),r}function jW(n,e,t){let r=BW(e);return r===null?null:$2e(n,r,t)}function z2e(n,e,t,r){let i=BW(e);if(i===null||!LO(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(c=>{let l=n.bucket,d=n.fullPath,f="/b/"+o(l)+"/o/"+o(d),h=fS(f,t,r),g=LW({alt:"media",token:c});return h+g})[0]}function G2e(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var x0=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function HW(n){if(!n)throw PO()}function W2e(n,e){function t(r,i){let s=jW(n,i,e);return HW(s!==null),s}return t}function K2e(n,e){function t(r,i){let s=jW(n,i,e);return HW(s!==null),z2e(s,i,n.host,n._protocol)}return t}function $W(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=l2e():i=c2e():t.getStatus()===402?i=u2e(n.bucket):t.getStatus()===403?i=d2e(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function zW(n){let e=$W(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=a2e(n.path)),s.serverResponse=i.serverResponse,s}return t}function Q2e(n,e,t){let r=e.fullServerUrl(),i=fS(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new x0(i,s,K2e(n,t),o);return a.errorHandler=zW(e),a}function Y2e(n,e){let t=e.fullServerUrl(),r=fS(t,n.host,n._protocol),i="DELETE",s=n.maxOperationRetryTime;function o(u,c){}let a=new x0(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=zW(e),a}function J2e(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Z2e(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=J2e(null,e)),r}function X2e(n,e,t,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let I="";for(let T=0;T<2;T++)I=I+Math.random().toString().slice(2);return I}let u=a();o["Content-Type"]="multipart/related; boundary="+u;let c=Z2e(e,r,i),l=G2e(c,t),d="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+u+"--",h=dS.getBlob(d,r,f);if(h===null)throw y2e();let g={name:c.fullPath},y=fS(s,n.host,n._protocol),S="POST",_=n.maxUploadRetryTime,C=new x0(y,S,W2e(n,t),_);return C.urlParams=g,C.headers=o,C.body=h.uploadData(),C.errorHandler=$W(e),C}var $Be=256*1024;var RW=null,MO=class{constructor(){this.errorText_="",this.sent_=!1,this.errorCode_=tp.NO_ERROR}send(e,t,r,i,s){return O(this,null,function*(){if(this.sent_)throw I0("cannot .send() more than once");this.sent_=!0;try{let o=yield eIe(e,t,r,s,i);this.headers_=o.headers,this.statusCode_=o.status,this.errorCode_=tp.NO_ERROR,this.body_=yield o.arrayBuffer()}catch(o){this.errorText_=o?.message,this.statusCode_=0,this.errorCode_=tp.NETWORK_ERROR}})}getErrorCode(){if(this.errorCode_===void 0)throw I0("cannot .getErrorCode() before receiving response");return this.errorCode_}getStatus(){if(this.statusCode_===void 0)throw I0("cannot .getStatus() before receiving response");return this.statusCode_}getErrorText(){return this.errorText_}abort(){}getResponseHeader(e){if(!this.headers_)throw I0("cannot .getResponseHeader() before receiving response");return this.headers_.get(e)}addUploadProgressListener(e){}removeUploadProgressListener(e){}},OO=class extends MO{getResponse(){if(!this.body_)throw I0("cannot .getResponse() before receiving response");return Buffer.from(this.body_).toString("utf-8")}};function UO(){return RW?RW():new OO}function eIe(n,e,t,r,i){let s={method:e,headers:r||{},body:i};return bo(n)&&t&&(s.credentials="include"),fetch(n,s)}var np=class n{constructor(e,t){this._service=e,t instanceof no?this._location=t:this._location=no.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new no(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VW(this._location.path)}get storage(){return this._service}get parent(){let e=B2e(this._location.path);if(e===null)return null;let t=new no(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw b2e(e)}};function tIe(n,e,t){n._throwIfRoot("uploadBytes");let r=X2e(n.storage,n._location,qW(),new dS(e,!0),t);return n.storage.makeRequestWithTokens(r,UO).then(i=>({metadata:i,ref:n}))}function nIe(n){n._throwIfRoot("getDownloadURL");let e=Q2e(n.storage,n._location,qW());return n.storage.makeRequestWithTokens(e,UO).then(t=>{if(t===null)throw v2e();return t})}function rIe(n){n._throwIfRoot("deleteObject");let e=Y2e(n.storage,n._location);return n.storage.makeRequestWithTokens(e,UO)}function iIe(n,e){let t=V2e(n._location.path,e),r=new no(n._location.bucket,t);return new np(n.storage,r)}function sIe(n){return/^[A-Za-z]+:\/\//.test(n)}function oIe(n,e){return new np(n,e)}function GW(n,e){if(n instanceof A0){let t=n;if(t._bucket==null)throw g2e();let r=new np(t,t._bucket);return e!=null?GW(r,e):r}else return e!==void 0?iIe(n,e):n}function aIe(n,e){if(e&&sIe(e)){if(n instanceof A0)return oIe(n,e);throw NO("To use ref(service, url), the first argument must be a Storage instance.")}else return GW(n,e)}function kW(n,e){let t=e?.[OW];return t==null?null:no.makeFromBucketSpec(t,n)}function uIe(n,e,t,r={}){n.host=`${e}:${t}`;let i=bo(e);i&&(Rf(`https://${n.host}/b`),kf("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:E1(s,n.app.options.projectId))}var A0=class{constructor(e,t,r,i,s,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=MW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=s2e,this._maxUploadRetryTime=o2e,this._requests=new Set,i!=null?this._bucket=no.makeFromBucketSpec(i,this._host):this._bucket=kW(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=no.makeFromBucketSpec(this._url,e):this._bucket=kW(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NW("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NW("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return O(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return O(this,null,function*(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new np(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new RO(PW());{let o=A2e(e,this._appId,r,i,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return O(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},cIe="@firebase/storage",lIe="0.13.14";var WW="storage";function BO(n,e,t){return n=en(n),tIe(n,e,t)}function KW(n){return n=en(n),nIe(n)}function QW(n){return n=en(n),rIe(n)}function hS(n,e){return n=en(n),aIe(n,e)}function VO(n=Sa(),e){n=en(n);let r=Pu(n,WW).getImmediate({identifier:e}),i=_1("storage");return i&&YW(r,...i),r}function YW(n,e,t,r={}){uIe(n,e,t,r)}function dIe(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new A0(t,r,i,e,Lu)}function fIe(){Di(new Cr(WW,dIe,"PUBLIC").setMultipleInstances(!0)),an(cIe,lIe)}fIe();var Td=class{constructor(e){return e}},JW="storage",qO=class{constructor(){return Fu(JW)}};var jO=new le("angularfire2.storage-instances");function hIe(n,e){let t=Vl(JW,n,e);return t&&new Td(t)}function pIe(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Td(r)}}var mIe={provide:qO,deps:[[new Kn,jO]]},gIe={provide:Td,useFactory:hIe,deps:[[new Kn,jO],Us]};function ZW(n,...e){return an("angularfire",So.full,"gcs"),Ar([gIe,mIe,{provide:jO,useFactory:pIe(n),multi:!0,deps:[_t,Nt,To,Ta,[new Kn,$l],[new Kn,Bu],...e]}])}var XW=hn(QW,!0,2);var eK=hn(KW,!0);var rp=class n{constructor(e){this.storage=e}auth=$(Da);uploadImage(e,t){if(!this.auth.currentUser)return gs(()=>new Error("L'utilisateur doit \xEAtre authentifi\xE9"));let r=hS(this.storage,t);return Xe(BO(r,e)).pipe(Ln(i=>Xe(eK(i.ref))),Pn(i=>gs(()=>i)))}deleteImage(e){if(!this.auth.currentUser)return gs(()=>new Error("L'utilisateur doit \xEAtre authentifi\xE9"));let t=hS(this.storage,e);return Xe(XW(t)).pipe(Pn(r=>gs(()=>r)))}generateUniqueFileName(e){let t=e.name.split(".").pop(),r=new Date().getTime(),i=Math.random().toString(36).substring(2,15);return`${r}-${i}.${t}`}static \u0275fac=function(t){return new(t||n)(Ae(Td))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};var Yo=class n{constructor(e){this.platformId=e}firestore=$(Xs);authService=$(zt);firestorageService=$(rp);usersService=$(gi);linksSignal=_i([]);getLinks(){if(!va(this.platformId))return xe([]);let e=Ed(this.firestore,"links"),t=v0(e,gO("createdAt","desc"));return _d(t,{idField:"id"})}getLinksByUser(e){if(!va(this.platformId))return xe([]);if(!e)return xe([]);let t=Ed(this.firestore,"links"),r=v0(t,yO("createdBy","==",e));return _d(r,{idField:"id"}).pipe(Ve(i=>{let s=[...i].sort((o,a)=>{let u=o.createdAt instanceof Date?o.createdAt:new Date(o.createdAt.seconds*1e3);return(a.createdAt instanceof Date?a.createdAt:new Date(a.createdAt.seconds*1e3)).getTime()-u.getTime()});if(i.length===0){let o=v0(t);_d(o,{idField:"id"}).subscribe(a=>{})}return s}))}getLinksByCategory(e){if(!va(this.platformId))return xe([]);let t=Ed(this.firestore,"links"),r=v0(t,yO("category","==",e),gO("createdAt","desc"));return _d(r,{idField:"id"})}deleteLink(e){return O(this,null,function*(){let t=this.authService.getCurrentUser();if(!t)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");try{let r=Pi(this.firestore,`links/${e}`),i=yield wd(r);if(!i.exists())throw new Error("Le lien \xE0 supprimer n'existe pas");if(i.data().createdBy!==t.uid&&!(yield zc(this.usersService.isCurrentUserAdmin())))throw new Error("Vous n'\xEAtes pas autoris\xE9 \xE0 supprimer ce lien");yield Vw(r);let a=this.linksSignal().filter(u=>u.id!==e);this.linksSignal.set(a)}catch(r){throw r}})}updateLink(e,t,r){return O(this,null,function*(){let i=this.authService.getCurrentUser();if(!i)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");let s=Pi(this.firestore,`links/${e}`);if(r){let o=this.firestorageService.generateUniqueFileName(r),a=`links/${i.uid}/${o}`,u=yield this.firestorageService.uploadImage(r,a).toPromise();return zo(s,me(K({},t),{imageUrl:u,updatedAt:new Date}))}return zo(s,me(K({},t),{updatedAt:new Date}))})}updateLikes(e,t){return O(this,null,function*(){let r=Pi(this.firestore,`links/${e}`);return zo(r,{likes:t||-1})})}getLinkById(e){if(!va(this.platformId))return xe(null);let t=Pi(this.firestore,`links/${e}`);return Xe(wd(t)).pipe(Ve(r=>r.exists()?K({id:r.id},r.data()):null))}createLinkWithBase64Image(e,t){return O(this,null,function*(){let r=this.authService.getCurrentUser();if(!r)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");let i=me(K({},e),{imageUrl:t,createdAt:new Date,createdBy:r.uid,likes:0}),s=Ed(this.firestore,"links");return KG(s,i)})}toggleLike(e,t){return O(this,null,function*(){try{let r=Pi(this.firestore,`links/${e}`),i=yield wd(r);if(!i.exists())throw new Error("Link not found");let o=i.data().likedBy||[],u=o.includes(t)?o.filter(d=>d!==t):[...o,t];yield zo(r,{likedBy:u,likes:u.length});let l=this.linksSignal().map(d=>d.id===e?me(K({},d),{likedBy:u,likes:u.length}):d);this.linksSignal.set(l)}catch(r){throw r}})}rateLink(e,t,r){return O(this,null,function*(){if(!va(this.platformId))return;let i=Pi(this.firestore,"links",e),a=(yield wd(i)).data().userRatings||{};a[t]=r;let u=Object.values(a),c=u.reduce((l,d)=>l+d,0)/u.length;yield zo(i,{userRatings:a,averageRating:c,totalRatings:u.length})})}getUserRating(e,t){return e.userRatings?.[t]||0}static \u0275fac=function(t){return new(t||n)(Ae(ri))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})};function vIe(n,e){if(n&1&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),F(4),M(),k(5,"p"),F(6),M()()()()),n&2){let t=ue();H(),Y("ngClass",t.typeClasses[t.type]),H(3),St(t.typeIcons[t.type]),H(2),St(t.message)}}var Ac=class n{show=!1;message="";type="success";typeClasses={success:"bg-apple-green text-white",error:"bg-red-400 text-white",info:"bg-blue-400 text-white",warning:"bg-yellow-400 text-white"};typeIcons={success:"check_circle",error:"error",info:"info",warning:"warning"};static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-notification"]],inputs:{show:"show",message:"message",type:"type"},decls:1,vars:1,consts:[[1,"notification-overlay","rounded-xl"],[1,"fixed","top-4","right-4","transform","transition-all","duration-500",3,"ngClass"],[1,"px-6","py-3","rounded-xl","shadow-lg","flex","items-center","gap-2"],[1,"material-symbols-outlined"]],template:function(t,r){t&1&&ge(0,vIe,7,3,"div",0),t&2&&An(r.show?0:-1)},dependencies:[jt,dm],styles:["[_nghost-%COMP%]{position:fixed;top:0;right:0;z-index:9999;pointer-events:none}.notification-overlay[_ngcontent-%COMP%]{position:relative;z-index:9999}.notification-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{pointer-events:auto}"]})};function bIe(n,e){if(n&1){let t=tt();k(0,"app-notification",31),he("closed",function(){ke(t);let i=ue();return Me(i.onNotificationClosed())}),M()}if(n&2){let t=ue();Y("type",t.notificationType)("message",t.notificationMessage)}}function _Ie(n,e){n&1&&(k(0,"div",34)(1,"span",35),F(2," priority "),M(),k(3,"span"),F(4,"Image pr\xEAte"),M()())}function EIe(n,e){n&1&&(k(0,"div")(1,"span",36),F(2," hourglass_empty "),M(),k(3,"span"),F(4,"Image en traitement..."),M()())}function wIe(n,e){if(n&1&&(Ne(0,"img",32),k(1,"div",33),ge(2,_Ie,5,0,"div",34)(3,EIe,5,0,"div"),M()),n&2){let t=ue();Y("src",t.imagePreview,xn),H(),qt("text-green-600",t.base64Ready)("text-red-600",!t.base64Ready),H(),An(t.base64Ready?2:3)}}function SIe(n,e){n&1&&(k(0,"span"),F(1,"Choisir une image"),M())}function TIe(n,e){n&1&&(k(0,"span"),F(1,"Changer l'image"),M())}function CIe(n,e){n&1&&(k(0,"span")(1,"span",37),F(2,"Titre requis"),M()())}function IIe(n,e){n&1&&(k(0,"span")(1,"span",37),F(2,"Description requise"),M()())}function DIe(n,e){n&1&&(k(0,"span",37),F(1,"URL requise"),M())}function xIe(n,e){n&1&&(k(0,"span",37),F(1,"L'URL doit commencer par http:// ou https://"),M())}function AIe(n,e){if(n&1&&(k(0,"span"),ge(1,DIe,2,0,"span",38)(2,xIe,2,0,"span",38),M()),n&2){let t,r,i=ue();H(),Y("ngIf",(t=i.linkForm.get("url"))==null||t.errors==null?null:t.errors.required),H(),Y("ngIf",(r=i.linkForm.get("url"))==null||r.errors==null?null:r.errors.invalidUrlFormat)}}function NIe(n,e){n&1&&(k(0,"span")(1,"span",37),F(2,"Niveau requis"),M()())}function RIe(n,e){if(n&1&&(k(0,"option",20),F(1),M()),n&2){let t=e.$implicit;Y("value",t),H(),St(t)}}function kIe(n,e){n&1&&(k(0,"span")(1,"span",37),F(2,"Type requis"),M()())}function MIe(n,e){if(n&1&&(k(0,"option",20),F(1),M()),n&2){let t=e.$implicit;Y("value",t),H(),St(t)}}function OIe(n,e){n&1&&(k(0,"span")(1,"span",37),F(2,"Au moins un langage/technologie requis"),M()())}function PIe(n,e){if(n&1){let t=tt();k(0,"button",39),he("click",function(){let i=ke(t).$implicit,s=ue();return Me(s.toggleTag(i))}),F(1),M()}if(n&2){let t=e.$implicit,r=ue();qt("bg-apple-green",r.isTagSelected(t))("bg-deep-green",!r.isTagSelected(t))("text-deep-green",r.isTagSelected(t))("text-white",!r.isTagSelected(t)),H(),lt(" ",t," ")}}function LIe(n,e){if(n&1&&(k(0,"span",42),F(1),M()),n&2){let t=e.$implicit;H(),St(t)}}function FIe(n,e){if(n&1&&(k(0,"div",28)(1,"p",40),F(2,"S\xE9lectionn\xE9s :"),M(),k(3,"div",41),pa(4,LIe,2,1,"span",42,dl),M()()),n&2){let t=ue();H(4),ma(t.getSelectedTags())}}function UIe(n,e){n&1&&(k(0,"div",30)(1,"span",36),F(2,"check_circle"),M(),k(3,"p"),F(4,"Le lien a \xE9t\xE9 ajout\xE9 avec succ\xE8s!"),M()())}var ip=class n{fb=$(ls);linksService=$(Yo);router=$(ht);linkAdded=new Vt;niveauOptions=["Junior","M\xE9dior","Senior"];langageOptions=["HTML","CSS","JavaScript","Python","Git","Algorithme","C","Java","PHP","React","Angular","Vue.js","Node.js","TypeScript","SQL","MongoDB","Docker","Kubernetes","AWS","Azure"];typeOptions=["Cours","Projet","Forum","Exercice","Tutoriel","Documentation","Vid\xE9o","Podcast"];selectedFile=null;imagePreview=null;base64Image=null;base64Ready=!1;showNotification=!1;notificationType="error";notificationMessage="";urlValidator(e){let t=e.value;return t?/^https?:\/\/.+/.test(t)?null:{invalidUrlFormat:!0}:null}linkForm=this.fb.group({title:["",[nn.required]],description:["",[nn.required]],url:["",[nn.required,this.urlValidator]],niveau:["Junior",[nn.required]],isPaid:[!1],type:["Cours",[nn.required]],tags:[[""],[nn.required,nn.minLength(1)]]});toggleTag(e){let t=this.linkForm.get("tags")?.value||[],r=t.indexOf(e);if(r===-1)this.linkForm.patchValue({tags:[...t,e]});else{let i=t.filter((s,o)=>o!==r);this.linkForm.patchValue({tags:i})}}isTagSelected(e){return(this.linkForm.get("tags")?.value||[]).includes(e)}getSelectedTags(){return(this.linkForm.get("tags")?.value||[]).filter(t=>t&&t!=="")}onFileSelected(e){let t=e.target;t.files&&t.files[0]&&(this.selectedFile=t.files[0],this.base64Ready=!1,this.base64Image=null,this.convertToBase64Simple(t.files[0]))}convertToBase64Simple(e){let t=new FileReader;t.onload=r=>{if(r.target&&r.target.result){let i=r.target.result;this.imagePreview=i,this.base64Image=i,this.base64Ready=!0}},t.onerror=()=>{this.showNotification=!0,this.notificationType="error",this.notificationMessage="Impossible de lire l'image. Veuillez r\xE9essayer."},t.readAsDataURL(e)}showSuccessMessage=!1;onSubmit(){return O(this,null,function*(){if(this.linkForm.valid&&this.base64Ready&&this.base64Image)try{yield this.linksService.createLinkWithBase64Image(this.linkForm.value,this.base64Image),this.linkAdded.emit(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Le lien a \xE9t\xE9 cr\xE9\xE9 avec succ\xE8s!",setTimeout(()=>{this.resetForm(),this.router.navigate(["/home"])},3e3)}catch(e){this.showNotification=!0,this.notificationType="error",this.notificationMessage=e.message}else this.base64Ready?this.linkForm.valid||(this.showNotification=!0,this.notificationType="error",this.notificationMessage="Veuillez remplir tous les champs obligatoires"):(this.showNotification=!0,this.notificationType="warning",this.notificationMessage="Veuillez s\xE9lectionner une image")})}getFormValidationErrors(){let e={};return Object.keys(this.linkForm.controls).forEach(t=>{let r=this.linkForm.get(t);r&&!r.valid&&(e[t]=r.errors)}),e}resetForm(){this.linkForm.reset({niveau:"Junior",isPaid:!1,type:"Cours",tags:[""]}),this.selectedFile=null,this.imagePreview=null,this.base64Image=null,this.base64Ready=!1,this.showNotification=!1}onNotificationClosed(){this.showNotification=!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-link-form"]],outputs:{linkAdded:"linkAdded"},decls:86,vars:15,consts:[["fileInput",""],[1,"min-h-52","p-4","relative","overflow-hidden","text-white/50"],[1,"fixed","inset-0","overflow-hidden","pointer-events-none","z-0"],[1,"absolute","-top-20","-right-20","w-96","h-96","bg-apple-green","rounded-full","opacity-30","blur-3xl"],[1,"absolute","-bottom-20","-left-40","w-96","h-96","bg-blue-900","rounded-full","opacity-30","blur-3xl"],[1,"relative","z-10","backdrop-blur-sm"],[1,"flex","flex-col","gap-4",3,"ngSubmit","formGroup"],[3,"type","message","closed",4,"ngIf"],[1,"form-group"],[1,"block","mb-1"],[1,"text-red-500"],[1,"flex","flex-col","items-center","gap-2"],[1,"w-full"],["type","file","accept","image/*",1,"hidden",3,"change"],["type","button",1,"w-full","p-2","border-2","border-dashed","border-apple-green","rounded-lg","text-center","hover:bg-apple-green/10","transition-colors",3,"click"],[4,"ngIf"],["type","text","formControlName","title",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/70","placeholder:border-soft-white/50","selection:bg-deep-green","focus:outline-none","focus:border-apple-green"],["formControlName","description","rows","3",1,"w-full","p-2","rounded","bg-dark-gray","border","border-apple-green","text-soft-white","focus:outline-none","focus:border-apple-green"],["type","url","formControlName","url","placeholder","https://example.com",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],["formControlName","niveau",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],[3,"value"],["formControlName","type",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","gap-2","cursor-pointer"],["type","radio","formControlName","isPaid",1,"text-apple-green",3,"value"],[1,"text-xs","text-white/60","mb-3"],[1,"flex","flex-wrap","gap-2","max-h-32","overflow-y-auto","p-2","border","border-apple-green/30","rounded"],["type","button",1,"px-3","py-1","rounded-full","text-sm","transition-colors",3,"bg-apple-green","bg-deep-green","text-deep-green","text-white"],[1,"mt-2"],["type","submit",1,"bg-apple-green","text-white","py-2","px-4","rounded","mt-4","disabled:opacity-50","disabled:cursor-not-allowed","hover:bg-deep-green","transition-colors",3,"disabled"],[1,"fixed","top-4","right-4","bg-green-500","text-white","px-6","py-3","rounded-lg","shadow-lg","transform","transition-all","duration-500","flex","items-center","gap-2"],[3,"closed","type","message"],["alt","Aper\xE7u",1,"w-32","h-32","object-cover","rounded-lg",3,"src"],[1,"text-xs"],[1,"flex","items-center","gap-1"],[1,"material-symbols-outlined","opacity-70"],[1,"material-symbols-outlined"],[1,"text-red-400","text-xs"],["class","text-red-400 text-xs",4,"ngIf"],["type","button",1,"px-3","py-1","rounded-full","text-sm","transition-colors",3,"click"],[1,"text-xs","text-white/60"],[1,"flex","flex-wrap","gap-1","mt-1"],[1,"px-2","py-1","bg-apple-green","text-deep-green","text-xs","rounded-full"]],template:function(t,r){if(t&1){let i=tt();k(0,"main",1)(1,"div",2),Ne(2,"div",3)(3,"div",4),M(),k(4,"div",5)(5,"form",6),he("ngSubmit",function(){return ke(i),Me(r.onSubmit())}),ge(6,bIe,1,2,"app-notification",7),k(7,"div",8)(8,"label",9),F(9,"Image "),k(10,"span",10),F(11,"*"),M()(),k(12,"div",11),ge(13,wIe,4,6),k(14,"div",12)(15,"input",13,0),he("change",function(o){return ke(i),Me(r.onFileSelected(o))}),M(),k(17,"button",14),he("click",function(){ke(i);let o=kL(16);return Me(o.click())}),ge(18,SIe,2,0,"span")(19,TIe,2,0,"span"),M()()()(),k(20,"div",8),ge(21,CIe,3,0,"span",15),k(22,"label",9),F(23,"Titre "),k(24,"span",10),F(25,"*"),M()(),Ne(26,"input",16),M(),k(27,"div",8),ge(28,IIe,3,0,"span",15),k(29,"label",9),F(30,"Description "),k(31,"span",10),F(32,"*"),M()(),Ne(33,"textarea",17),M(),k(34,"div",8),ge(35,AIe,3,2,"span",15),k(36,"label",9),F(37,"URL du site "),k(38,"span",10),F(39,"*"),M()(),Ne(40,"input",18),M(),k(41,"div",8),ge(42,NIe,3,0,"span",15),k(43,"label",9),F(44,"Niveau "),k(45,"span",10),F(46,"*"),M()(),k(47,"select",19),pa(48,RIe,2,2,"option",20,dl),M()(),k(50,"div",8),ge(51,kIe,3,0,"span",15),k(52,"label",9),F(53,"Type "),k(54,"span",10),F(55,"*"),M()(),k(56,"select",21),pa(57,MIe,2,2,"option",20,dl),M()(),k(59,"div",8)(60,"label",9),F(61,"Prix"),M(),k(62,"div",22)(63,"label",23),Ne(64,"input",24),k(65,"span"),F(66,"Gratuit"),M()(),k(67,"label",23),Ne(68,"input",24),k(69,"span"),F(70,"Payant"),M()()()(),k(71,"div",8),ge(72,OIe,3,0,"span",15),k(73,"label",9),F(74,"Langages/Technologies "),k(75,"span",10),F(76,"*"),M()(),k(77,"p",25),F(78,"S\xE9lectionnez les langages et technologies utilis\xE9s dans ce lien "),M(),k(79,"div",26),pa(80,PIe,2,9,"button",27,dl),M(),ge(82,FIe,6,0,"div",28),M(),k(83,"button",29),F(84," Ajouter "),M()(),ge(85,UIe,5,0,"div",30),M()()}if(t&2){let i,s,o,a,u,c;H(5),Y("formGroup",r.linkForm),H(),Y("ngIf",r.showNotification),H(7),An(r.imagePreview?13:-1),H(5),An(r.imagePreview?19:18),H(3),Y("ngIf",((i=r.linkForm.get("title"))==null?null:i.invalid)&&((i=r.linkForm.get("title"))==null?null:i.touched)),H(7),Y("ngIf",((s=r.linkForm.get("description"))==null?null:s.invalid)&&((s=r.linkForm.get("description"))==null?null:s.touched)),H(7),Y("ngIf",((o=r.linkForm.get("url"))==null?null:o.invalid)&&((o=r.linkForm.get("url"))==null?null:o.touched)),H(7),Y("ngIf",((a=r.linkForm.get("niveau"))==null?null:a.invalid)&&((a=r.linkForm.get("niveau"))==null?null:a.touched)),H(6),ma(r.niveauOptions),H(3),Y("ngIf",((u=r.linkForm.get("type"))==null?null:u.invalid)&&((u=r.linkForm.get("type"))==null?null:u.touched)),H(6),ma(r.typeOptions),H(7),Y("value",!1),H(4),Y("value",!0),H(4),Y("ngIf",((c=r.linkForm.get("tags"))==null?null:c.invalid)&&((c=r.linkForm.get("tags"))==null?null:c.touched)),H(8),ma(r.langageOptions),H(2),An(r.getSelectedTags().length>0?82:-1),H(),Y("disabled",!r.linkForm.valid||!r.base64Ready),H(2),An(r.showSuccessMessage?85:-1)}},dependencies:[jt,Sn,ds,Ko,CW,DW,cs,Xw,xO,Go,Wo,eo,to,Ac],encapsulation:2})};function BIe(n,e){if(n&1){let t=tt();k(0,"button",3),he("click",function(){let i=ke(t).$index,s=ue();return Me(s.rate(i+1))})("mouseenter",function(){let i=ke(t).$index,s=ue();return Me(s.hover(i+1))})("mouseleave",function(){ke(t);let i=ue();return Me(i.hover(0))}),F(1," kid_star "),M()}if(n&2){let t=e.$implicit;qt("text-apple-green",t.filled)("text-gray-100",!t.filled)}}function VIe(n,e){if(n&1&&(k(0,"span",2),F(1),M()),n&2){let t=ue();H(),lt("(",t.totalRatings,")")}}var pS=class n{rating=0;totalRatings=0;showRatingCount=!0;readonly=!1;ratingChange=new Vt;stars=Array(5).fill(null).map(()=>({filled:!1}));ngOnInit(){this.updateStars(this.rating)}ngOnChanges(){this.updateStars(this.rating)}hover(e){this.readonly||this.rating===0&&this.updateStars(e)}rate(e){this.readonly||(this.rating=e,this.ratingChange.emit(e))}updateStars(e){this.stars.forEach((t,r)=>{t.filled=r<e})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-star-rating"]],inputs:{rating:"rating",totalRatings:"totalRatings",showRatingCount:"showRatingCount",readonly:"readonly"},outputs:{ratingChange:"ratingChange"},features:[Ds],decls:4,vars:1,consts:[[1,"flex","items-center"],[1,"material-symbols-outlined","text-2xl","transition-colors",3,"text-apple-green","text-gray-100"],[1,"ml-2","text-sm","text-white/50"],[1,"material-symbols-outlined","text-2xl","transition-colors",3,"click","mouseenter","mouseleave"]],template:function(t,r){t&1&&(k(0,"div",0),pa(1,BIe,2,4,"button",1,dl),ge(3,VIe,2,1,"span",2),M()),t&2&&(H(),ma(r.stars),H(2),An(r.showRatingCount?3:-1))},dependencies:[jt],encapsulation:2})};var qIe=["swiperRef"],jIe=["filterPanel"],tK=n=>["/link",n];function HIe(n,e){if(n&1){let t=tt();k(0,"div",1),Ne(1,"div",12),k(2,"div",13)(3,"div",14)(4,"div",15)(5,"h2",16),F(6,"Ajouter un nouveau lien"),M(),k(7,"button",17),he("click",function(){ke(t);let i=ue();return Me(i.toggleAddLinkForm())}),k(8,"span",7),F(9,"close"),M()()(),k(10,"div",18)(11,"app-link-form",19),he("linkAdded",function(){ke(t);let i=ue();return Me(i.onLinkAdded())}),M()()()()()}}function $Ie(n,e){if(n&1&&Ne(0,"img",22),n&2){let t=ue(2);Y("src",t.currentBgImage,xn)}}function zIe(n,e){if(n&1&&(k(0,"div",2),ge(1,$Ie,1,1,"img",20),Ne(2,"div",21),M()),n&2){let t=ue();H(),Y("ngIf",t.currentBgImage)}}function GIe(n,e){if(n&1){let t=tt();k(0,"div",9)(1,"div",23)(2,"span",24),F(3,"search_off"),M(),k(4,"h3",25),F(5,"Aucun lien trouv\xE9"),M(),k(6,"p",26),F(7,"Aucune carte ne correspond aux crit\xE8res de filtrage s\xE9lectionn\xE9s."),M(),k(8,"button",27),he("click",function(){ke(t);let i=ue();return Me(i.resetFilters())}),F(9," R\xE9initialiser les filtres "),M()()()}}function WIe(n,e){n&1&&(k(0,"div",9)(1,"div",23)(2,"span",24),F(3,"info"),M(),k(4,"h3",28),F(5,"Aucun lien \xE0 afficher"),M(),k(6,"p",29),F(7,"Il n'y a pas encore de liens. Utilise le bouton "),k(8,"span",30),F(9,"+"),M(),F(10," pour en ajouter un."),M()()())}function KIe(n,e){if(n&1){let t=tt();k(0,"swiper-slide")(1,"div",32)(2,"h3",33),F(3),M(),k(4,"app-star-rating",34),he("ratingChange",function(i){let s=ke(t).$implicit,o=ue(2);return Me(o.onRatingChange(s,i))}),M()(),k(5,"div",35),Ne(6,"img",36),k(7,"div",37)(8,"div",38)(9,"button",39),he("click",function(){let i=ke(t).$implicit,s=ue(2);return Me(s.openLink(i.url))}),F(10," Lien de la page "),M(),k(11,"button",40),F(12," voir "),M()()()()()}if(n&2){let t=e.$implicit;H(3),St(t.title),H(),Y("rating",t.averageRating||0)("totalRatings",t.totalRatings||0),H(2),Y("src",t.imageUrl,xn)("alt",t.title),H(5),Y("routerLink",uf(6,tK,t.id))}}function QIe(n,e){if(n&1&&(k(0,"swiper-container",10,0),ge(2,KIe,13,8,"swiper-slide",31),M()),n&2){let t=ue();H(2),Y("ngForOf",t.filteredLinks)}}function YIe(n,e){if(n&1){let t=tt();k(0,"div",42),Ne(1,"img",43),k(2,"div",18)(3,"h3",44),F(4),M(),k(5,"p",45),F(6),M(),k(7,"div",46)(8,"app-star-rating",34),he("ratingChange",function(i){let s=ke(t).$implicit,o=ue(2);return Me(o.onRatingChange(s,i))}),M()(),k(9,"div",47)(10,"span",48)(11,"span",49),F(12,"schedule"),M(),F(13),Rr(14,"date"),M()(),k(15,"div",50)(16,"button",51),he("click",function(){let i=ke(t).$implicit,s=ue(2);return Me(s.openLink(i.url))}),F(17," Lien de la page "),M(),k(18,"button",52),F(19," voir "),M()()()()}if(n&2){let t=e.$implicit;H(),Y("src",t.imageUrl,xn)("alt",t.title),H(3),St(t.title),H(2),St(t.description),H(2),Y("rating",t.averageRating||0)("totalRatings",t.totalRatings||0),H(5),lt(" ",ml(14,8,t.createdAt,"dd/MM/yyyy")," "),H(5),Y("routerLink",uf(11,tK,t.id))}}function JIe(n,e){if(n&1&&(k(0,"div",11),ge(1,YIe,20,13,"div",41),M()),n&2){let t=ue();H(),Y("ngForOf",t.filteredLinks)}}var mS=class n{constructor(e){this.platformId=e}userService=$(gi);showNotification=!1;notificationType="success";notificationMessage="";linksService=$(Yo);authService=$(zt);firestoreService=$(us);router=$(ht);cdr=$($i);links=[];filteredLinks=[];currentIndex=0;viewModeService=$(Zh);viewMode$=this.viewModeService.viewMode$;showAddLinkForm=!1;userMap={};currentBgImage=null;activeFilters=null;navLinks=[{route:"/home",icon:"home",label:"Accueil"},{route:"/search",icon:"search",label:"Rechercher"},{route:"/profile",icon:"person",label:"Profil"},{route:"/settings",icon:"settings",label:"Param\xE8tres"}];swiperRef;filterPanel;swiperInterval=null;ngOnInit(){va(this.platformId)&&this.loadLinks()}ngAfterViewInit(){this.attachSwiperListener(),this.startSwiperInterval()}ngOnDestroy(){this.swiperInterval&&clearInterval(this.swiperInterval),this.swiperRef&&this.swiperRef.nativeElement&&this.swiperRef.nativeElement.removeEventListener("slidechange",this.swiperSlideChangeHandler)}loadLinks(){this.linksService.getLinks().pipe(Ln(e=>{console.log("Liens charg\xE9s depuis Firestore:",e);let t=e.map(s=>me(K({},s),{createdAt:this.convertFirestoreTimestamp(s.createdAt)}));this.links=t,this.filteredLinks=[...t],this.activeFilters&&this.applyFilters(this.activeFilters),setTimeout(()=>{this.attachSwiperListener(),this.startSwiperInterval(),this.filteredLinks.length>0&&(this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges())},0);let i=[...new Set(e.map(s=>s.createdBy))].map(s=>this.firestoreService.getDocument(`users/${s}`));return Gc(i)})).subscribe(e=>{e.forEach(t=>{t&&t.id&&(this.userMap[t.id]=t)})})}convertFirestoreTimestamp(e){if(!e)return new Date;if(e instanceof Date)return e;if(e&&typeof e=="object"&&"seconds"in e)return new Date(e.seconds*1e3);if(typeof e=="number")return new Date(e);if(typeof e=="string"){let t=new Date(e);if(!isNaN(t.getTime()))return t}return console.warn("Impossible de convertir le timestamp:",e),new Date}applyFilters(e){console.log("Filtres re\xE7us:",e),console.log("Liens avant filtrage:",this.links),this.activeFilters=e;let t=e.niveau.length>0||e.langage.length>0||e.prix.length>0||e.type.length>0;console.log("Filtres actifs:",t),t?this.filteredLinks=this.links.filter(r=>{if(console.log("Filtrage du lien:",r.title,"Propri\xE9t\xE9s:",{niveau:r.niveau,type:r.type,tags:r.tags,isPaid:r.isPaid}),e.niveau.length>0){let i=r.niveau||"";if(!e.niveau.includes(i))return console.log("Lien rejet\xE9 par niveau:",r.title,"niveau:",i,"filtres:",e.niveau),!1}if(e.langage.length>0){let i=r.tags||[];if(!e.langage.some(o=>i.some(a=>a&&a.toLowerCase().includes(o.toLowerCase()))))return console.log("Lien rejet\xE9 par langage:",r.title,"tags:",i,"filtres:",e.langage),!1}if(e.prix.length>0){let i=r.isPaid||!1,s=e.prix.includes("Payant"),o=e.prix.includes("Gratuit");if(s&&!i)return console.log("Lien rejet\xE9 par prix (payant):",r.title,"isPaid:",i),!1;if(o&&i)return console.log("Lien rejet\xE9 par prix (gratuit):",r.title,"isPaid:",i),!1}if(e.type.length>0){let i=r.type||"";if(!e.type.includes(i))return console.log("Lien rejet\xE9 par type:",r.title,"type:",i,"filtres:",e.type),!1}return console.log("Lien accept\xE9:",r.title),!0}):(this.filteredLinks=[...this.links],console.log("Aucun filtre actif, affichage de tous les liens")),console.log("Liens apr\xE8s filtrage:",this.filteredLinks),console.log("Nombre de liens filtr\xE9s:",this.filteredLinks.length),this.currentIndex>=this.filteredLinks.length&&(this.currentIndex=0),this.filteredLinks.length>0?this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl:this.currentBgImage=null,this.cdr.detectChanges()}resetFilters(){this.activeFilters=null,this.filteredLinks=[...this.links],this.currentIndex=0,this.filteredLinks.length>0&&(this.currentBgImage=this.filteredLinks[0].imageUrl),this.cdr.detectChanges()}openLink(e){!e.startsWith("http://")&&!e.startsWith("https://")&&(e="https://"+e),window.open(e,"_blank","noopener,noreferrer")}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.filteredLinks.length,this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges()}previousSlide(){this.currentIndex=(this.currentIndex-1+this.filteredLinks.length)%this.filteredLinks.length,this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges()}goToSlide(e){this.currentIndex=e}toggleAddLinkForm(){this.showAddLinkForm=!this.showAddLinkForm}onLinkAdded(){this.showAddLinkForm=!1,this.loadLinks(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Le lien a \xE9t\xE9 ajout\xE9 avec succ\xE8s!",setTimeout(()=>{this.showNotification=!1},3e3)}getUserInfo(e){return this.userMap[e]||null}logout(){this.authService.logOut().subscribe(()=>{this.router.navigate(["/login-choice"])})}onRatingChange(e,t){return O(this,null,function*(){let r=yield this.authService.getCurrentUser();r&&(yield this.linksService.rateLink(e.id,r.uid,t))})}getUserRating(e){return O(this,null,function*(){let t=yield this.authService.getCurrentUser();return t?this.linksService.getUserRating(e,t.uid):0})}attachSwiperListener(){this.swiperRef&&this.swiperRef.nativeElement&&(this.swiperRef.nativeElement.removeEventListener("slidechange",this.swiperSlideChangeHandler),this.swiperRef.nativeElement.addEventListener("slidechange",this.swiperSlideChangeHandler))}swiperSlideChangeHandler=e=>{let t=e.target.swiper,r=t.realIndex??t.activeIndex;this.filteredLinks[r]&&(this.currentBgImage=this.filteredLinks[r].imageUrl,this.currentIndex=r,this.cdr.detectChanges())};startSwiperInterval(){this.swiperInterval&&clearInterval(this.swiperInterval),this.swiperInterval=setInterval(()=>{if(this.swiperRef&&this.swiperRef.nativeElement&&this.filteredLinks.length>0){let e=this.swiperRef.nativeElement.swiper;if(e){let t=e.realIndex??e.activeIndex;this.filteredLinks[t]&&this.currentBgImage!==this.filteredLinks[t].imageUrl&&(this.currentBgImage=this.filteredLinks[t].imageUrl,this.currentIndex=t,this.cdr.detectChanges())}}},300)}static \u0275fac=function(t){return new(t||n)(Fe(ri))};static \u0275cmp=Rt({type:n,selectors:[["app-home"]],viewQuery:function(t,r){if(t&1&&(im(qIe,5),im(jIe,5)),t&2){let i;fl(i=hl())&&(r.swiperRef=i.first),fl(i=hl())&&(r.filterPanel=i.first)}},decls:16,vars:15,consts:[["swiperRef",""],[1,"fixed","inset-0","z-40"],[1,"fixed","inset-0","z-0","pointer-events-none"],[3,"closed","show","type","message"],[1,"min-h-screen","pb-20","relative","overflow-hidden","motion-preset-fade","motion-duration-2000"],[1,"pt-20","pb-4","text-center","relative"],[1,"absolute","right-4","top-1/2","transform","-translate-y-1/2","bg-apple-green","text-deep-green","rounded-xl","p-3","shadow-lg","hover:bg-deep-green","hover:text-apple-green","transition-colors","flex","items-center",3,"click"],[1,"material-symbols-outlined"],[3,"filterChange"],[1,"flex","flex-col","items-center","justify-center","min-h-[50vh]","text-center","px-4"],["effect","coverflow","grab-cursor","true","centered-slides","true","slides-per-view","2","loop","false","coverflow-effect-rotate","50","coverflow-effect-stretch","0","coverflow-effect-depth","100","coverflow-effect-modifier","1","coverflow-effect-slide-shadows","false","pagination","false"],[1,"grid","grid-cols-2","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","px-4","max-w-7xl","mx-auto"],[1,"absolute","inset-0","bg-black/50","motion-preset-fade","motion-duration-500"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"bg-black","rounded-xl","shadow-xl","max-w-md","w-full","mx-4","max-h-[90vh]","overflow-y-auto","relative"],[1,"sticky","top-0","bg-black","p-4","border-b","border-deep-green","flex","justify-between","items-center"],[1,"text-3xl","font-semibold","font-primary","text-apple-green"],[1,"text-white","hover:text-gray-700",3,"click"],[1,"p-4"],[3,"linkAdded"],["class","w-full h-full object-cover blur-md transition-all duration-900 opacity-80 fade-bg",3,"src",4,"ngIf"],[1,"absolute","inset-0","bg-soft-white/50"],[1,"w-full","h-full","object-cover","blur-md","transition-all","duration-900","opacity-80","fade-bg",3,"src"],[1,"bg-white/10","backdrop-blur-sm","rounded-2xl","p-8","border","border-apple-green/30"],[1,"material-symbols-outlined","text-6xl","text-apple-green","mb-4"],[1,"text-2xl","font-primary","text-white","mb-2"],[1,"text-white/70","mb-6"],[1,"bg-apple-green","text-white","px-6","py-3","rounded-xl","hover:bg-deep-green","transition-colors",3,"click"],[1,"text-2xl","font-primary","text-black","mb-2"],[1,"text-black/70"],[1,"bg-apple-green","text-deep-green","rounded-sm","px-2","py-1"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","mb-6"],[1,"font-primary","text-3xl","font-bold","mb-20","drop-shadow"],[3,"ratingChange","rating","totalRatings"],[1,"max-w-2xs","mx-auto","rounded-4xl","shadow-lg","overflow-hidden","relative","bg-white"],[1,"w-full","h-full","object-cover","rounded-4xl",3,"src","alt"],[1,"absolute","bottom-0","left-0","right-0","p-6","bg-gradient-to-t","from-black/70","to-transparent"],[1,"flex","flex-col","sm:flex-row","justify-between","mt-2","gap-2","sm:gap-0"],[1,"flex","justify-center","text-black","items-center","text-xs","sm:text-sm","bg-white/80","rounded-xl","px-2","sm:px-4","py-1","hover:bg-apple-green","hover:text-white","transition-colors","w-full","sm:w-auto",3,"click"],[1,"flex","justify-center","bg-apple-green","text-white","text-center","py-1","px-3","sm:px-6","rounded-xl","shadow-xl","hover:bg-deep-green","transition-colors","w-full","sm:w-auto","text-xs","sm:text-sm",3,"routerLink"],["class","bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",4,"ngFor","ngForOf"],[1,"bg-white","rounded-2xl","shadow-lg","overflow-hidden","hover:shadow-xl","transition-shadow"],[1,"w-full","h-48","object-cover",3,"src","alt"],[1,"font-primary","text-xl","font-bold","text-deep-green","mb-2","line-clamp-2"],[1,"text-gray-600","text-xs","mb-3","line-clamp-3","sm:text-xs","md:text-xs"],[1,"mb-3"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","mb-3"],[1,"flex","items-center"],[1,"material-symbols-outlined","text-xs","mr-1","md:text-sm"],[1,"flex","flex-col","gap-2"],[1,"flex-1","bg-apple-green","text-white","py-2","px-3","rounded-lg","text-sm","hover:bg-deep-green","transition-colors","sm:text-xs","md:text-xs",3,"click"],[1,"flex-1","bg-deep-green","text-white","py-2","px-3","rounded-lg","text-sm","hover:bg-apple-green","transition-colors","sm:text-xs","md:text-xs",3,"routerLink"]],template:function(t,r){t&1&&(ge(0,HIe,12,0,"div",1)(1,zIe,3,1,"div",2),Rr(2,"async"),k(3,"app-notification",3),he("closed",function(){return r.showNotification=!1}),M(),k(4,"main",4)(5,"header",5)(6,"button",6),he("click",function(){return r.toggleAddLinkForm()}),k(7,"span",7),F(8,"add"),M()()(),k(9,"app-filter-panel",8),he("filterChange",function(s){return r.applyFilters(s)}),M(),ge(10,GIe,10,0,"div",9)(11,WIe,11,0,"div",9)(12,QIe,3,1,"swiper-container",10),Rr(13,"async"),ge(14,JIe,2,1,"div",11),Rr(15,"async"),M()),t&2&&(An(r.showAddLinkForm?0:-1),H(),An(ho(2,9,r.viewMode$)==="carousel"&&r.filteredLinks.length>0?1:-1),H(2),Y("show",r.showNotification)("type",r.notificationType)("message",r.notificationMessage),H(7),An(r.filteredLinks.length===0&&r.activeFilters?10:-1),H(),An(r.filteredLinks.length===0&&!r.activeFilters?11:-1),H(),An(r.filteredLinks.length>0&&ho(13,11,r.viewMode$)==="carousel"?12:-1),H(2),An(r.filteredLinks.length>0&&ho(15,13,r.viewMode$)==="grid"?14:-1))},dependencies:[jt,ai,Sn,gl,yl,or,Or,xc,ip,pS,Ac,Sd],styles:['[_nghost-%COMP%]{display:block;background-color:#faf9f6}.carousel-slide[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.pagination-dot[_ngcontent-%COMP%]{transition:all .3s ease}.pagination-dot[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.search-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}.card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #0000001a}button[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.bottom-nav[_ngcontent-%COMP%]{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.grid-view[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.fade-bg[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeInBg .8s forwards}@keyframes _ngcontent-%COMP%_fadeInBg{0%{opacity:0}to{opacity:.8}}']})};function ZIe(n,e){if(n&1){let t=tt();k(0,"div",32)(1,"button",33),he("click",function(){ke(t);let i=ue();return Me(i.toggleDeleteConfirm())}),k(2,"span",34),F(3,"delete"),M(),F(4," Supprimer "),M()()}}function XIe(n,e){n&1&&(k(0,"span",35),F(1,"autorenew"),M())}function eDe(n,e){if(n&1){let t=tt();k(0,"button",45),he("click",function(){ke(t);let i=ue().$implicit,s=ue();return Me(s.toggleCommentDeleteConfirm(i))}),k(1,"span",35),F(2,"delete"),M()()}}function tDe(n,e){if(n&1){let t=tt();k(0,"div",36)(1,"div",37),Ne(2,"img",38),k(3,"div",21)(4,"div",11)(5,"h3",39),F(6),M(),k(7,"span",40),F(8),Rr(9,"date"),M()(),k(10,"p",41),F(11),M(),k(12,"div",42)(13,"button",43),he("click",function(){let i=ke(t).$implicit,s=ue();return Me(s.toggleLike(i))}),k(14,"span",35),F(15," favorite "),M(),k(16,"span",16),F(17),M()(),ge(18,eDe,3,0,"button",44),M()()()()}if(n&2){let t=e.$implicit,r=ue();H(2),Y("src",t.senderImage||"assets/images/default-avatar.png",xn)("alt",t.senderName),H(4),St(t.senderName),H(2),St(ml(9,9,t.createdAt,"dd/MM/yyyy \xE0 HH:mm")),H(3),St(t.text),H(3),qt("text-apple-green",r.isLikedByCurrentUser(t)),H(3),St(t.likes||0),H(),Y("ngIf",r.canDeleteComment(t))}}function nDe(n,e){if(n&1){let t=tt();k(0,"div",46)(1,"div",47)(2,"h3",48),F(3,"Confirmer la suppression"),M(),k(4,"p",49),F(5," \xCAtes-vous s\xFBr de vouloir supprimer ce commentaire ? Cette action est irr\xE9versible. "),M(),k(6,"div",50)(7,"button",51),he("click",function(){ke(t);let i=ue();return Me(i.toggleCommentDeleteConfirm())}),F(8," Annuler "),M(),k(9,"button",52),he("click",function(){ke(t);let i=ue();return Me(i.confirmDeleteComment())}),k(10,"span",34),F(11,"delete"),M(),F(12," Supprimer "),M()()()()}}function rDe(n,e){if(n&1&&(k(0,"div",58),F(1),M()),n&2){let t=ue(2);H(),lt(" ",t.deleteError," ")}}function iDe(n,e){n&1&&(k(0,"span",59),F(1,"autorenew"),M())}function sDe(n,e){n&1&&(k(0,"span",34),F(1,"delete"),M())}function oDe(n,e){if(n&1){let t=tt();k(0,"div",46)(1,"div",47)(2,"h3",48),F(3,"Confirmer la suppression"),M(),k(4,"p",49),F(5," \xCAtes-vous s\xFBr de vouloir supprimer ce lien ? Cette action est irr\xE9versible. "),M(),ge(6,rDe,2,1,"div",53),k(7,"div",50)(8,"button",54),he("click",function(){ke(t);let i=ue();return Me(i.toggleDeleteConfirm())}),F(9," Annuler "),M(),k(10,"button",55),he("click",function(){ke(t);let i=ue();return Me(i.deleteLink())}),ge(11,iDe,2,0,"span",56)(12,sDe,2,0,"span",57),F(13),M()()()()}if(n&2){let t=ue();H(6),Y("ngIf",t.deleteError),H(2),Y("disabled",t.isDeleting),H(2),Y("disabled",t.isDeleting),H(),Y("ngIf",t.isDeleting),H(),Y("ngIf",!t.isDeleting),H(),lt(" ",t.isDeleting?"Suppression...":"Supprimer"," ")}}var N0=class n{router=$(ht);route=$(ci);linksService=$(Yo);authService=$(zt);userService=$(gi);fb=$(ls);firestoreService=$(us);link=null;isOwner=!1;isAdmin=!1;showDeleteConfirm=!1;isDeleting=!1;deleteError=null;comments=[];commentForm;isSubmitting=!1;currentUser=null;subscriptions=[];showCommentDeleteConfirm=!1;commentToDelete=null;constructor(){this.commentForm=this.fb.group({text:["",[nn.required,nn.minLength(1)]]}),Su(()=>{let e=this.authService.currentUserSignal();e?this.userService.getUserById(e.id||"").subscribe(t=>{this.currentUser=t,this.isAdmin=t?.role==="admin"}):(this.currentUser=null,this.isAdmin=!1)})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.loadLink(e):this.router.navigate(["/home"])}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadLink(e){this.linksService.getLinkById(e).subscribe({next:t=>{this.link=t,this.checkOwnership(),this.loadComments()},error:t=>{this.router.navigate(["/home"])}})}checkOwnership(){if(!this.link)return;let e=this.authService.getCurrentUser();this.isOwner=e?.uid===this.link.createdBy}addComment(){return O(this,null,function*(){let e=this.authService.getCurrentUser();if(!e){console.error("User must be authenticated to add comments"),this.router.navigate(["/auth/login"]);return}if(!this.commentForm.valid||this.isSubmitting||!this.currentUser||!this.link){console.error("Form validation failed or missing required data");return}if(!this.currentUser.id||!this.link.id){console.error("Missing required IDs");return}this.isSubmitting=!0;let t=this.commentForm.get("text")?.value?.trim();if(!t){this.isSubmitting=!1;return}try{let r=K({text:t,senderId:e.uid,senderName:this.currentUser.userName||"Utilisateur Anonyme",linkId:this.link.id,createdAt:new Date,likes:0,likedBy:[],read:!1,isEdited:!1},this.currentUser.userImageUrl?.base64&&{senderImage:this.currentUser.userImageUrl.base64});console.log("Attempting to add comment with data:",{senderId:r.senderId,linkId:r.linkId});let i=yield this.firestoreService.addDocument("comments",r);if(!i)throw new Error("Failed to create comment");console.log("Comment added successfully with ID:",i),this.commentForm.reset(),setTimeout(()=>this.loadComments(),500)}catch(r){console.error("Error adding comment:",r),this.deleteError="Erreur lors de l'ajout du commentaire. Veuillez r\xE9essayer."}finally{this.isSubmitting=!1}})}loadComments(){if(!this.link?.id)return;let e=this.firestoreService.getCollection("comments",t=>bd(t,$h("linkId","==",this.link.id),zh("createdAt","desc"))).subscribe({next:t=>{this.comments=t.map(r=>me(K({},r),{createdAt:r.createdAt instanceof cn?r.createdAt.toDate():new Date(r.createdAt)}))},error:t=>{t.code==="permission-denied"&&this.router.navigate(["/auth/login"])}});this.subscriptions.push(e)}toggleLike(e){return O(this,null,function*(){if(!this.currentUser?.id||!e.id){console.error("Cannot like comment: Missing user ID or comment ID");return}let t=this.currentUser.id,r=e.likedBy||[],i=r.includes(t);try{let s=i?r.filter(o=>o!==t):[...r,t];yield this.firestoreService.updateDocument(`comments/${e.id}`,{likedBy:s,likes:s.length}),e.likedBy=s,e.likes=s.length}catch(s){console.error("Error toggling like:",s)}})}isLikedByCurrentUser(e){return e.likedBy?.includes(this.currentUser?.id||"")||!1}canDeleteComment(e){return this.currentUser?.id===e.senderId||this.isOwner}deleteComment(e){return O(this,null,function*(){if(!this.canDeleteComment(e)){console.error("User does not have permission to delete this comment");return}if(!e.id){console.error("Cannot delete comment: Comment ID is missing");return}try{if(!(yield this.firestoreService.getDocument(`comments/${e.id}`))){console.error("Comment not found in database");return}yield this.firestoreService.deleteDocument(`comments/${e.id}`),console.log("Commentaire supprim\xE9 avec succ\xE8s:",e.id),this.comments=this.comments.filter(r=>r.id!==e.id),this.toggleCommentDeleteConfirm()}catch(t){console.error("Error deleting comment:",t),t.code==="permission-denied"&&(console.error("Permission denied: User may not be authenticated"),this.router.navigate(["/auth/login"])),this.deleteError="Une erreur s'est produite lors de la suppression du commentaire. Veuillez r\xE9essayer."}})}toggleDeleteConfirm(){console.log("Toggle delete confirm, \xE9tat actuel:",this.showDeleteConfirm),this.showDeleteConfirm=!this.showDeleteConfirm,this.deleteError=null,console.log("Nouvel \xE9tat:",this.showDeleteConfirm)}deleteLink(){return O(this,null,function*(){if(console.log("D\xE9but de la suppression du lien"),!this.link?.id){console.error("ID de lien manquant"),this.deleteError="Impossible de supprimer: ID de lien invalide";return}this.isDeleting=!0;try{console.log("Tentative de suppression du lien:",this.link.id),yield this.linksService.deleteLink(this.link.id),console.log("Lien supprim\xE9 avec succ\xE8s"),this.router.navigate(["/home"])}catch(e){console.error("Erreur d\xE9taill\xE9e lors de la suppression:",e),this.isDeleting=!1,this.deleteError=e.message||"Une erreur s'est produite lors de la suppression"}})}toggleCommentDeleteConfirm(e){e?this.commentToDelete=e:this.commentToDelete=null,this.showCommentDeleteConfirm=!this.showCommentDeleteConfirm}confirmDeleteComment(){return O(this,null,function*(){if(this.commentToDelete)try{yield this.deleteComment(this.commentToDelete)}catch(e){console.error("Erreur lors de la suppression du commentaire:",e),this.deleteError="Une erreur s'est produite lors de la suppression du commentaire. Veuillez r\xE9essayer."}})}toggleLinkLike(){return O(this,null,function*(){let e=this.currentUser?.id;if(!e||!this.link?.id){console.error("Cannot like link: Missing user ID or link ID");return}try{if(yield this.linksService.toggleLike(this.link.id,e),this.link){let t=this.link.likedBy||[],r=t.includes(e);this.link.likedBy=r?t.filter(i=>i!==e):[...t,e],this.link.likes=this.link.likedBy.length}}catch(t){console.error("Error toggling link like:",t)}})}isLinkLikedByCurrentUser(){return this.link?.likedBy?.includes(this.currentUser?.id||"")||!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-link-detail"]],decls:48,vars:21,consts:[[1,"min-h-screen","pb-20","relative","overflow-hidden","text-white/50","motion-preset-fade","motion-duration-1000"],[1,"fixed","inset-0","overflow-hidden","pointer-events-none","z-0"],[1,"absolute","-top-20","-right-20","w-96","h-96","bg-apple-green","rounded-full","opacity-30","blur-3xl"],[1,"absolute","-bottom-20","-left-40","w-96","h-96","bg-blue-900","rounded-full","opacity-30","blur-3xl"],[1,"relative","z-10","backdrop-blur-sm"],[1,"flex","items-center","gap-4","p-4","justify-center","pt-10","font-primary"],[1,"text-5xl","font-bold","mb-2"],[1,"max-w-md","mx-10"],[1,"w-full","aspect-square","object-cover","rounded-3xl",3,"src","alt"],[1,"mt-4","text-white"],[1,"flex","items-center","gap-4","justify-around","text-gray-500"],[1,"flex","items-center","gap-2"],[1,"flex","items-center","gap-2","hover:text-white","transition-colors",3,"click"],[1,"material-symbols-outlined"],["class","m-4 flex justify-center",4,"ngIf"],[1,"p-6","text-white/50","text-center"],[1,"text-sm"],[1,"px-4"],[1,"mb-6",3,"ngSubmit","formGroup"],[1,"flex","gap-3"],["alt","User",1,"w-10","h-10","rounded-full","object-cover",3,"src"],[1,"flex-1"],["formControlName","text","rows","2","placeholder","Ajouter un commentaire...",1,"w-full","bg-white/10","rounded-xl","bg-clip-padding","backdrop-filter","backdrop-blur-xl","bg-opacity-10","border","border-gray-100/50","p-4","focus:outline-none","focus:border-apple-green"],[1,"flex","justify-end","mt-2"],["type","submit",1,"relative","inline-flex","group",3,"disabled"],[1,"absolute","transitiona-all","duration-1000","opacity-70","-inset-px","bg-gradient-to-r","from-[#EAE0D5]","via-[#72B01D]","to-[#3F7D20]","rounded-xl","blur-lg","group-hover:opacity-100","group-hover:-inset-1","group-hover:duration-200","animate-tilt"],["role","button",1,"relative","inline-flex","items-center","justify-center","px-8","py-2","text-sm","font-bold","text-soft-white","transition-all","duration-200","bg-apple-green","font-pj","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-900"],["class","material-symbols-outlined text-sm",4,"ngIf"],[1,"space-y-4"],["class","h-full w-full bg-white/10 rounded-xl bg-clip-padding backdrop-filter backdrop-blur-lg bg-opacity-10 border border-gray-100/50  p-4",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 ",4,"ngIf"],["class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",4,"ngIf"],[1,"m-4","flex","justify-center"],[1,"py-2","text-xs","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click"],[1,"material-symbols-outlined","mr-1"],[1,"material-symbols-outlined","text-sm"],[1,"h-full","w-full","bg-white/10","rounded-xl","bg-clip-padding","backdrop-filter","backdrop-blur-lg","bg-opacity-10","border","border-gray-100/50","p-4"],[1,"flex","items-start","gap-3"],[1,"w-10","h-10","rounded-full","object-cover",3,"src","alt"],[1,"font-semibold","text-white"],[1,"text-gray-400","text-xs"],[1,"text-gray-200","mt-1"],[1,"flex","items-center","justify-end","gap-2","mt-2"],[1,"text-gray-400","hover:text-white","transition-colors","flex","items-center","gap-1",3,"click"],["class","text-gray-400 hover:text-red-500 transition-colors ml-4 flex items-center justify-center",3,"click",4,"ngIf"],[1,"text-gray-400","hover:text-red-500","transition-colors","ml-4","flex","items-center","justify-center",3,"click"],[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","flex","items-center","justify-center","z-50"],[1,"bg-white/10","backdrop-blur-xl","border","border-deep-green/50","rounded-xl","p-6","w-5/6","max-w-md","shadow-2xl"],[1,"text-2xl","font-bold","mb-4","text-white","font-primary"],[1,"text-gray-200","mb-6"],[1,"flex","justify-between"],[1,"py-2","px-4","bg-white/10","text-white","rounded-lg","hover:bg-white/20","transition-all","duration-300","border","border-white/20",3,"click"],[1,"py-2","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click"],["class","mb-4 p-3 bg-red-600/20 border border-red-600 rounded text-white text-sm",4,"ngIf"],[1,"py-2","px-4","bg-white/10","text-white","rounded-lg","hover:bg-white/20","transition-all","duration-300","border","border-white/20",3,"click","disabled"],[1,"py-2","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click","disabled"],["class","material-symbols-outlined animate-spin mr-1",4,"ngIf"],["class","material-symbols-outlined mr-1",4,"ngIf"],[1,"mb-4","p-3","bg-red-600/20","border","border-red-600","rounded","text-white","text-sm"],[1,"material-symbols-outlined","animate-spin","mr-1"]],template:function(t,r){t&1&&(k(0,"main",0)(1,"div",1),Ne(2,"div",2)(3,"div",3),M(),k(4,"div",4)(5,"div",5)(6,"h1",6),F(7),M()(),k(8,"div",7),Ne(9,"img",8),k(10,"div",9)(11,"div",10)(12,"div",11)(13,"button",12),he("click",function(){return r.toggleLinkLike()}),k(14,"span",13),F(15," favorite "),M(),k(16,"span"),F(17),M(),k(18,"span"),F(19),M()()(),k(20,"div",11)(21,"span",13),F(22,"comment"),M(),k(23,"span"),F(24),M(),k(25,"span"),F(26),M()()()()(),ge(27,ZIe,5,0,"div",14),k(28,"div",15)(29,"p",16),F(30),M()(),k(31,"div",17)(32,"form",18),he("ngSubmit",function(){return r.addComment()}),k(33,"div",19),Ne(34,"img",20),k(35,"div",21),Ne(36,"textarea",22),k(37,"div",23)(38,"button",24),Ne(39,"div",25),k(40,"div",26),ge(41,XIe,2,0,"span",27),k(42,"span"),F(43),M()()()()()()(),k(44,"div",28),ge(45,tDe,19,12,"div",29),M()()(),ge(46,nDe,13,0,"div",30)(47,oDe,14,6,"div",31),M()),t&2&&(H(7),St(r.link==null?null:r.link.title),H(2),Y("src",r.link==null?null:r.link.imageUrl,xn)("alt",r.link==null?null:r.link.title),H(5),qt("text-apple-green",r.isLinkLikedByCurrentUser())("material-symbols-filled",r.isLinkLikedByCurrentUser()),H(3),St((r.link==null?null:r.link.likes)||0),H(2),St(((r.link==null?null:r.link.likes)||0)===1?"j'aime":"j'aimes"),H(5),St(r.comments.length),H(2),St(r.comments.length===1?"Commentaire":"Commentaires"),H(),Y("ngIf",r.isOwner||r.isAdmin),H(3),St(r.link==null?null:r.link.description),H(2),Y("formGroup",r.commentForm),H(2),Y("src",(r.currentUser==null||r.currentUser.userImageUrl==null?null:r.currentUser.userImageUrl.base64)||(r.currentUser==null||r.currentUser.userImageUrl==null?null:r.currentUser.userImageUrl.url)||"assets/images/icons/UserIcon.png",xn),H(4),Y("disabled",!r.commentForm.valid||r.isSubmitting),H(3),Y("ngIf",r.isSubmitting),H(2),St(r.isSubmitting?"Envoi...":"Commenter"),H(2),Y("ngForOf",r.comments),H(),Y("ngIf",r.showCommentDeleteConfirm),H(),Y("ngIf",r.showDeleteConfirm))},dependencies:[jt,ai,Sn,yl,or,ds,Ko,cs,Go,Wo,eo,to],encapsulation:2})};var aDe=(n,e,t)=>({"bg-apple-green text-deep-blue":n,"bg-soft-white text-black":e,"bg-amber-500 text-white":t});function uDe(n,e){n&1&&(k(0,"div",7),Ne(1,"div",8),M())}function cDe(n,e){if(n&1){let t=tt();k(0,"div",9)(1,"p",10),F(2,"Acc\xE8s refus\xE9"),M(),k(3,"p",11),F(4,"Vous n'avez pas les droits d'administrateur n\xE9cessaires pour acc\xE9der \xE0 cette page."),M(),k(5,"button",12),he("click",function(){ke(t);let i=ue();return Me(i.navigateToHome())}),F(6," Retour \xE0 l'accueil "),M()()}}function lDe(n,e){if(n&1){let t=tt();k(0,"div",13)(1,"div",14)(2,"div",15),Ne(3,"img",16),M(),k(4,"div",15)(5,"button",17),he("click",function(){let i=ke(t).$implicit,s=ue();return Me(s.openRoleModal(i))}),F(6),M()()(),k(7,"div",18)(8,"div",19)(9,"p",20),F(10,"ID"),M(),k(11,"span",21),F(12),M()(),k(13,"div",19)(14,"p",20),F(15,"User"),M(),k(16,"span",21),F(17),M()(),k(18,"div",19)(19,"p",20),F(20,"Address "),M(),k(21,"span",21),F(22),M()()(),k(23,"div",22)(24,"div",23)(25,"button",24),he("click",function(){let i=ke(t).$implicit,s=ue();return Me(s.viewUserProfile(i.id))}),k(26,"span",25),F(27,"visibility"),M()(),k(28,"button",26),he("click",function(){let i=ke(t).$implicit,s=ue();return Me(s.deleteUser(i.id))}),k(29,"span",25),F(30,"delete"),M()()()()()}if(n&2){let t=e.$implicit;H(3),Y("src",(t.userImageUrl==null?null:t.userImageUrl.base64)||(t.userImageUrl==null?null:t.userImageUrl.url)||"assets/images/icons/UserIcon.png",xn),H(2),Y("ngClass",PL(6,aDe,t.role==="admin",t.role==="reader",t.role==="author")),H(),lt("",t.role," "),H(6),lt(" ",t.id,""),H(5),St(t.userName),H(5),St(t.email)}}function dDe(n,e){if(n&1){let t=tt();k(0,"div",27)(1,"div",28)(2,"h2",29),F(3,"Changer le r\xF4le"),M(),k(4,"p",30),F(5),M(),k(6,"div",31)(7,"button",32),he("click",function(){ke(t);let i=ue();return Me(i.updateRole("reader"))}),F(8," Reader "),M(),k(9,"button",32),he("click",function(){ke(t);let i=ue();return Me(i.updateRole("author"))}),F(10," Author "),M(),k(11,"button",32),he("click",function(){ke(t);let i=ue();return Me(i.updateRole("admin"))}),F(12," Admin "),M()(),k(13,"button",33),he("click",function(){ke(t);let i=ue();return Me(i.closeRoleModal())}),k(14,"span",25),F(15,"close"),M()()()()}if(n&2){let t=ue();H(5),lt("Utilisateur: ",t.selectedUser==null?null:t.selectedUser.userName,""),H(2),qt("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="reader"),H(2),qt("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="author"),H(2),qt("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="admin")}}var gS=class n{usersService=$(gi);router=$(ht);users=[];isAdmin=!1;loading=!0;errorMessage="";showRoleModal=!1;selectedUser=null;ngOnInit(){this.checkAdminStatus()}checkAdminStatus(){this.usersService.isCurrentUserAdmin().subscribe({next:e=>{this.isAdmin=e,e?this.loadUsers():this.loading=!1},error:e=>{this.isAdmin=!1,this.loading=!1,this.errorMessage="Impossible de v\xE9rifier les droits d'acc\xE8s",console.error("Erreur lors de la v\xE9rification des droits:",e)}})}loadUsers(){this.usersService.getUsers().subscribe({next:e=>{this.users=e,this.loading=!1},error:e=>{this.loading=!1,this.errorMessage="Erreur lors du chargement des utilisateurs",console.error("Erreur lors du chargement des utilisateurs:",e)}})}changeUserRole(e,t){this.loading=!0,this.usersService.changeUserRole(e,t).subscribe({next:()=>{console.log(`R\xF4le de l'utilisateur ${e} chang\xE9 en ${t}`),this.loadUsers()},error:r=>{this.loading=!1,console.error("Erreur lors du changement de r\xF4le:",r),alert(`Erreur: ${r.message}`)}})}deleteUser(e){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet utilisateur ? Cette action est irr\xE9versible.")&&(this.loading=!0,this.usersService.deleteUser(e).subscribe({next:()=>{console.log(`Utilisateur ${e} supprim\xE9`),this.loadUsers()},error:t=>{this.loading=!1,console.error("Erreur lors de la suppression:",t),alert(`Erreur: ${t.message}`)}}))}viewUserProfile(e){this.router.navigate(["/user-profile",e])}navigateToHome(){this.router.navigate(["/home"])}openRoleModal(e){this.selectedUser=e,this.showRoleModal=!0}closeRoleModal(){this.showRoleModal=!1,this.selectedUser=null}updateRole(e){this.selectedUser&&this.selectedUser.id&&(this.loading=!0,this.usersService.changeUserRole(this.selectedUser.id,e).subscribe({next:()=>{console.log(`R\xF4le de l'utilisateur ${this.selectedUser?.id} chang\xE9 en ${e}`),this.selectedUser&&(this.selectedUser.role=e),this.closeRoleModal(),this.loadUsers()},error:t=>{console.error("Erreur lors du changement de r\xF4le:",t),this.errorMessage=`Erreur: ${t.message}`,this.loading=!1}}))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-user-management"]],decls:8,vars:4,consts:[[1,"bg-black","p-4","text-soft-white"],[1,"max-w-4xl","mx-auto"],[1,"font-bold","mb-6","text-apple-green","font-primary"],["class","flex justify-center my-8",4,"ngIf"],["class","bg-red-900/30 p-4 rounded-lg text-center",4,"ngIf"],["class"," border border-gray-500 rounded-lg shadow-lg p-4 flex flex-col m-2",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],[1,"flex","justify-center","my-8"],[1,"animate-spin","rounded-full","h-12","w-12","buser-b-2","buser-apple-green"],[1,"bg-red-900/30","p-4","rounded-lg","text-center"],[1,"text-xl","text-red-400"],[1,"mt-2","text-soft-white"],[1,"mt-4","bg-apple-green","text-black","px-6","py-2","rounded-lg","hover:bg-deep-green","transition-colors",3,"click"],[1,"border","border-gray-500","rounded-lg","shadow-lg","p-4","flex","flex-col","m-2"],[1,"flex","justify-between","items-center","pb-3"],[1,"flex-shrink-0"],["alt","User",1,"w-10","h-10","rounded-full","object-cover",3,"src"],[1,"px-2","py-1","text-xs","rounded-lg","cursor-pointer",3,"click","ngClass"],[1,"flex-1"],[1,"flex","justify-between","items-center"],[1,"text-xs","text-white"],[1,"text-sm","text-gray-500"],[1,"pt-3"],[1,"flex","justify-end","gap-5"],[1,"action-button","text-apple-green","hover:text-deep-green","mr-3","bg","bg-apple-green/10","hover:bg-apple-green/20","px-5","rounded-lg","flex","items-center","justify-center",3,"click"],[1,"material-symbols-outlined"],[1,"action-button","bg-red-400/50","p-1","text-white","px-5","text-xs","rounded-lg","flex","items-center","justify-center",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-dark-gray","rounded-lg","p-6","w-96","relative"],[1,"text-2xl","font-bold","mb-4","text-apple-green","font-primary"],[1,"text-soft-white","mb-4"],[1,"space-y-2"],[1,"w-full","text-left","px-4","py-2","rounded","hover:bg-apple-green","text-soft-white",3,"click"],[1,"absolute","top-2","right-2","text-gray-400","hover:text-white",3,"click"]],template:function(t,r){t&1&&(k(0,"section",0)(1,"div",1)(2,"h1",2),F(3,"Administration des utilisateurs"),M(),ge(4,uDe,2,0,"div",3)(5,cDe,7,0,"div",4)(6,lDe,31,10,"div",5),M()(),ge(7,dDe,16,7,"div",6)),t&2&&(H(4),Y("ngIf",r.loading),H(),Y("ngIf",!r.loading&&!r.isAdmin),H(),Y("ngForOf",r.users),H(),Y("ngIf",r.showRoleModal))},dependencies:[jt,dm,ai,Sn,or,xc],styles:[".role-select[_ngcontent-%COMP%]{background-color:#1e1e1ecc;border-color:#444;transition:border-color .2s ease}.role-select[_ngcontent-%COMP%]:focus{border-color:var(--apple-green);outline:none}.action-button[_ngcontent-%COMP%]{transition:all .2s ease}.action-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]})};var yS=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-policy"]],decls:78,vars:0,consts:[[1,"min-h-screen","bg-black","p-4","text-soft-white"],[1,"max-w-4xl","mx-auto","py-8"],[1,"text-3xl","font-bold","mb-8","text-apple-green"],[1,"space-y-12"],["id","confidentialite",1,"scroll-mt-20"],[1,"text-2xl","font-semibold","mb-4","text-apple-green"],[1,"space-y-4","text-gray-300"],[1,"list-disc","pl-6","space-y-2"],["id","regles",1,"scroll-mt-20"],["id","contenu",1,"scroll-mt-20"],["id","moderation",1,"scroll-mt-20"],[1,"mt-12","p-6","bg-gray-700/30","rounded-xl"],[1,"text-xl","font-semibold","mb-4","text-apple-green"],[1,"text-gray-300","mb-4"],["href","mailto:contact@thelastcoders.com",1,"text-apple-green","hover:text-deep-green","transition-colors"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"h1",2),F(3,"Politique de Confidentialit\xE9 et R\xE8gles de la Communaut\xE9 "),M(),k(4,"div",3)(5,"section",4)(6,"h2",5),F(7,"Confidentialit\xE9"),M(),k(8,"div",6)(9,"p"),F(10,"Nous nous engageons \xE0 prot\xE9ger votre vie priv\xE9e et vos donn\xE9es personnelles."),M(),k(11,"ul",7)(12,"li"),F(13,"Vos donn\xE9es personnelles ne sont jamais partag\xE9es avec des tiers sans votre consentement "),M(),k(14,"li"),F(15,"Vous pouvez supprimer votre compte et toutes vos donn\xE9es \xE0 tout moment"),M(),k(16,"li"),F(17,"Nous utilisons des cookies essentiels uniquement pour le fonctionnement du site"),M(),k(18,"li"),F(19,"Vos liens partag\xE9s sont visibles uniquement par les membres de la communaut\xE9"),M()()()(),k(20,"section",8)(21,"h2",5),F(22,"R\xE8gles de la Communaut\xE9"),M(),k(23,"div",6)(24,"p"),F(25,"Pour maintenir une communaut\xE9 saine et productive, nous demandons \xE0 tous les membres de respecter ces r\xE8gles :"),M(),k(26,"ul",7)(27,"li"),F(28,"Respect mutuel entre tous les membres"),M(),k(29,"li"),F(30,"Pas de discrimination ou de harc\xE8lement"),M(),k(31,"li"),F(32,"Pas de spam ou de contenu promotionnel non sollicit\xE9"),M(),k(33,"li"),F(34,"Partage de contenu pertinent et de qualit\xE9"),M(),k(35,"li"),F(36,"Respect des droits d'auteur et de la propri\xE9t\xE9 intellectuelle"),M()()()(),k(37,"section",9)(38,"h2",5),F(39,"Directives de Contenu"),M(),k(40,"div",6)(41,"p"),F(42,"Le contenu partag\xE9 doit respecter ces crit\xE8res :"),M(),k(43,"ul",7)(44,"li"),F(45,"Contenu \xE9ducatif et professionnel uniquement"),M(),k(46,"li"),F(47,"Liens vers des ressources fiables et v\xE9rifi\xE9es"),M(),k(48,"li"),F(49,"Descriptions claires et pertinentes"),M(),k(50,"li"),F(51,"Cat\xE9gorisation appropri\xE9e des ressources"),M(),k(52,"li"),F(53,"Pas de contenu ill\xE9gal ou inappropri\xE9"),M()()()(),k(54,"section",10)(55,"h2",5),F(56,"Mod\xE9ration"),M(),k(57,"div",6)(58,"p"),F(59,"Notre \xE9quipe de mod\xE9ration s'engage \xE0 :"),M(),k(60,"ul",7)(61,"li"),F(62,"R\xE9viser r\xE9guli\xE8rement le contenu partag\xE9"),M(),k(63,"li"),F(64,"R\xE9pondre aux signalements dans les 24h"),M(),k(65,"li"),F(66,"Maintenir un environnement s\xFBr et professionnel"),M(),k(67,"li"),F(68,"Sanctionner les violations des r\xE8gles de mani\xE8re \xE9quitable"),M(),k(69,"li"),F(70,"Prot\xE9ger la confidentialit\xE9 des utilisateurs"),M()()()()(),k(71,"div",11)(72,"h3",12),F(73,"Contact"),M(),k(74,"p",13),F(75,"Pour toute question concernant notre politique ou pour signaler un probl\xE8me : "),M(),k(76,"a",14),F(77," contact@thelastcoders.com "),M()()()())},dependencies:[jt,or],encapsulation:2})};var fDe=()=>["/admin/users"],hDe=()=>["/home/add"],nK=n=>["/link",n];function pDe(n,e){if(n&1){let t=tt();k(0,"label",24)(1,"input",25),he("change",function(i){ke(t);let s=ue();return Me(s.onFileSelected(i))}),M(),k(2,"span",26),F(3,"photo_camera"),M()()}}function mDe(n,e){n&1&&(k(0,"div",27)(1,"p"),F(2,"La photo de profil ne peux pas d\xE9passer 80kb"),M()())}function gDe(n,e){if(n&1&&(k(0,"h1",28),F(1),M()),n&2){let t=ue();H(),St(t.user==null?null:t.user.userName)}}function yDe(n,e){n&1&&Ne(0,"input",29)}function vDe(n,e){n&1&&(k(0,"div",30)(1,"div")(2,"label",31),F(3,"Bio"),M(),Ne(4,"textarea",32),M(),k(5,"div")(6,"label",33),F(7,"Github"),M(),Ne(8,"input",34),M(),k(9,"div")(10,"label",35),F(11,"LinkedIn"),M(),Ne(12,"input",36),M(),k(13,"div")(14,"label",37),F(15,"Twitter"),M(),Ne(16,"input",38),M()())}function bDe(n,e){if(n&1){let t=tt();k(0,"button",39),he("click",function(){ke(t);let i=ue();return Me(i.toggleEdit())}),F(1," Editer profil "),M()}}function _De(n,e){if(n&1){let t=tt();k(0,"div",40)(1,"button",41),he("click",function(){ke(t);let i=ue();return Me(i.toggleEdit())}),F(2," Annuler "),M(),k(3,"button",42),he("click",function(){ke(t);let i=ue();return Me(i.updateProfile())}),F(4," Sauvegarder "),M()()}}function EDe(n,e){n&1&&(k(0,"div",43)(1,"a",44),F(2," Administration des utilisateurs "),M()()),n&2&&(H(),Y("routerLink",V2(1,fDe)))}function wDe(n,e){n&1&&(k(0,"div",45),Ne(1,"div",46),M())}function SDe(n,e){n&1&&(k(0,"div",47)(1,"p",48),F(2,"Aucun lien pour le moment"),M(),k(3,"a",49),F(4," Partager un lien "),M()()),n&2&&(H(3),Y("routerLink",V2(1,hDe)))}function TDe(n,e){if(n&1){let t=tt();k(0,"div",52)(1,"a",53)(2,"div",54),Ne(3,"img",55),M(),k(4,"h3",56),F(5),M(),k(6,"div",57)(7,"div",58)(8,"span",59),F(9,"schedule"),M(),F(10),Rr(11,"date"),M(),k(12,"button",60),he("click",function(){let i=ke(t).$implicit,s=ue(2);return Me(s.toggleLinkLike(i))}),k(13,"span",61),F(14," favorite "),M(),F(15),M()()()()}if(n&2){let t=e.$implicit,r=ue(2);H(),Y("routerLink",uf(13,nK,t.id)),H(2),Y("src",t.imageUrl||"assets/images/default-link.png",xn)("alt",t.title),H(2),St(t.title),H(5),lt(" ",ml(11,10,t.createdAt,"d MMM yyyy")," "),H(3),qt("text-apple-green",r.isLinkLikedByCurrentUser(t))("material-symbols-filled",r.isLinkLikedByCurrentUser(t)),H(2),lt(" ",t.likes||0," ")}}function CDe(n,e){if(n&1){let t=tt();k(0,"div",52)(1,"a",53)(2,"div",54),Ne(3,"img",55),M(),k(4,"h3",56),F(5),M(),k(6,"div",57)(7,"div",3)(8,"span",59),F(9,"schedule"),M(),F(10),Rr(11,"date"),M(),k(12,"button",60),he("click",function(){let i=ke(t).$implicit,s=ue(2);return Me(s.toggleLinkLike(i))}),k(13,"span",61),F(14," favorite "),M(),F(15),M()()()()}if(n&2){let t=e.$implicit,r=ue(2);H(),Y("routerLink",uf(13,nK,t.id)),H(2),Y("src",t.imageUrl||"assets/images/default-link.png",xn)("alt",t.title),H(2),St(t.title),H(5),lt(" ",ml(11,10,t.createdAt,"d MMM yyyy")," "),H(3),qt("text-apple-green",r.isLinkLikedByCurrentUser(t))("material-symbols-filled",r.isLinkLikedByCurrentUser(t)),H(2),lt(" ",t.likes||0," ")}}function IDe(n,e){if(n&1&&(k(0,"div",50),ge(1,TDe,16,15,"div",51)(2,CDe,16,15,"div",51),M()),n&2){let t=ue();H(),Y("ngForOf",t.userSharedLinks)("ngForTrackBy",t.trackById),H(),Y("ngForOf",t.likedLinks)("ngForTrackBy",t.trackById)}}var R0=class n{router=$(ht);route=$(ci);authService=$(zt);usersService=$(gi);linksService=$(Yo);firestorageService=$(rp);fb=$(ls);user=null;profileForm;showNotification=!1;notificationType="success";notificationMessage="";selectedFile=null;imagePreview=null;isEditing=!1;userSharedLinks=[];likedLinks=[];userId="";isLoading=!0;subscriptions=[];canEdit=!1;currentUser=null;constructor(){this.profileForm=this.fb.group({userName:[""],userImageUrl:[""],bio:[""],github:[""],linkedin:[""],twitter:[""]}),Su(()=>{let e=this.authService.currentUserSignal();e?this.usersService.getUserById(e.id||"").subscribe(t=>{this.currentUser=t}):this.currentUser=null})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id"),t=this.authService.currentUserSignal(),r=this.authService.getCurrentUser();if(!t&&!r){this.router.navigate(["/login"]);return}e?this.userId=e:r&&r.uid?this.userId=r.uid:t&&t.id&&(this.userId=t.id),this.userId?(this.linksService.getLinks().subscribe(i=>{let s=[...new Set(i.map(a=>a.createdBy))],o=i.filter(a=>a.createdBy===this.userId)}),this.loadUserData(),this.loadUserSharedLinks(),this.checkEditPermission()):this.isLoading=!1}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadUserData(){this.usersService.getUserById(this.userId).subscribe({next:e=>{this.user=e,this.user&&this.initForm()},error:e=>{this.router.navigate(["/login"])}})}initForm(){this.profileForm.patchValue({userName:this.user?.userName||"",bio:this.user?.bio||"",github:this.user?.socialLinks?.github||"",linkedin:this.user?.socialLinks?.linkedin||"",twitter:this.user?.socialLinks?.twitter||""})}checkEditPermission(){this.usersService.canModifyUser(this.userId).subscribe({next:e=>{this.canEdit=e},error:e=>{this.canEdit=!1}})}toggleEdit(){if(!this.canEdit){alert("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");return}this.isEditing=!this.isEditing,this.isEditing?this.initForm():(this.initForm(),this.imagePreview=null,this.selectedFile=null)}onFileSelected(e){return O(this,null,function*(){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];if(!r.type.startsWith("image/")||r.size>5*1024*1024)return;this.selectedFile=r;try{let i=yield this.convertToBase64(r);this.imagePreview=i,yield this.usersService.updateUserProfileWithBase64Image(this.userId,{userName:this.user?.userName,email:this.user?.email,role:this.user?.role},i),this.loadUserData(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Photo de profil mise \xE0 jour avec succ\xE8s",setTimeout(()=>this.showNotification=!1,3e3)}catch{}}})}convertToBase64(e){return O(this,null,function*(){return new Promise((t,r)=>{let i=new FileReader;i.onload=s=>{let o=s.target?.result;t(o)},i.onerror=s=>{r(s)},i.readAsDataURL(e)})})}getUserProfileImage(){return this.user?.userImageUrl?.base64?this.user.userImageUrl.base64:this.user?.userImageUrl?.url?this.user.userImageUrl.url:"assets/images/icons/userIcon.png"}updateProfile(){return O(this,null,function*(){if(!this.user||!this.profileForm.valid){this.showNotification=!0,this.notificationType="error",this.notificationMessage="Le formulaire est invalide. Veuillez v\xE9rifier les champs.",setTimeout(()=>this.showNotification=!1,3e3);return}this.isLoading=!0;try{let e={userName:this.profileForm.value.userName,bio:this.profileForm.value.bio,socialLinks:{github:this.profileForm.value.github,linkedin:this.profileForm.value.linkedin,twitter:this.profileForm.value.twitter},userImageUrl:this.user.userImageUrl};yield zc(this.usersService.updateUserProfile(this.userId,e)),this.user=K(K({},this.user),e),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Profil mis \xE0 jour avec succ\xE8s!",setTimeout(()=>this.showNotification=!1,3e3),this.isEditing=!1,this.loadUserData()}catch{}finally{this.isLoading=!1}})}convertTimestampToDate(e){return e instanceof Date?e:e&&typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3):new Date(e)}loadUserSharedLinks(){if(!this.userId){this.isLoading=!1;return}this.isLoading=!0;let e=this.linksService.getLinks().subscribe({next:t=>{let r=t.map(s=>me(K({},s),{createdAt:this.convertTimestampToDate(s.createdAt)})),i=r.filter(s=>s.createdBy===this.userId);if(i.length>0)this.userSharedLinks=i;else{let s=this.authService.getCurrentUser();if(s&&s.uid){let o=r.filter(a=>a.createdBy===s.uid);o.length>0?this.userSharedLinks=o:this.userSharedLinks=[]}else this.userSharedLinks=[]}this.isLoading=!1},error:t=>{this.isLoading=!1,this.userSharedLinks=[]}});this.subscriptions.push(e)}trackById(e,t){return t.id||e.toString()}toggleLinkLike(e){return O(this,null,function*(){let t=this.currentUser?.id;if(!(!t||!e.id))try{yield this.linksService.toggleLike(e.id,t);let r=e.likedBy||[],i=r.includes(t);e.likedBy=i?r.filter(s=>s!==t):[...r,t],e.likes=e.likedBy.length}catch{}})}isLinkLikedByCurrentUser(e){return e.likedBy?.includes(this.currentUser?.id||"")||!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Rt({type:n,selectors:[["app-users"]],decls:27,vars:18,consts:[[3,"closed","show","type","message"],[1,"min-h-screen","bg-black","p-4","text-soft-white"],[1,"max-w-2xl","mx-auto","motion-preset-fade","motion-duration-500"],[1,"flex","flex-col","items-center"],[1,"relative","w-32","h-32","mb-4"],["alt","Profile",1,"w-full","h-full","rounded-full","object-cover","bg-soft-white","ring-2","ring-apple-green",3,"src"],["class","absolute bottom-0 right-0 bg-apple-green p-2 rounded-full cursor-pointer hover:bg-deep-green transition-colors shadow-lg",4,"ngIf"],["class","text-xs mb-2 text-red-400/50",4,"ngIf"],[1,"w-full","max-w-md",3,"formGroup"],[1,"mb-4","text-center"],["class","text-2xl font-bold mb-2 text-soft-white",4,"ngIf"],["type","text","formControlName","userName","class","text-2xl font-bold text-center border-b-2 bg-transparent text-soft-white focus:outline-none focus:border-apple-green",4,"ngIf"],[1,"bg-apple-green","text-white","px-3","py-1","rounded-full","text-sm"],[1,"mt-2","font-secondary","text-gray-400"],[1,"text-sm"],["class","space-y-4 mt-6 px-4",4,"ngIf"],["class","mt-4 bg-apple-green text-black px-6 py-1 rounded-3xl font-bold text-xs hover:bg-deep-green transition-colors ",3,"click",4,"ngIf"],["class","flex gap-3 mt-6",4,"ngIf"],["class","mt-4 text-center",4,"ngIf"],[1,"w-full","mb-6","mt-20"],[1,"text-lg","font-semibold","mb-4","text-soft-white","font-secondary"],["class","flex justify-center items-center py-8",4,"ngIf"],["class","text-center py-8 ",4,"ngIf"],["class","grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4",4,"ngIf"],[1,"absolute","bottom-0","right-0","bg-apple-green","p-2","rounded-full","cursor-pointer","hover:bg-deep-green","transition-colors","shadow-lg"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"material-symbols-outlined","text-white"],[1,"text-xs","mb-2","text-red-400/50"],[1,"text-2xl","font-bold","mb-2","text-soft-white"],["type","text","formControlName","userName",1,"text-2xl","font-bold","text-center","border-b-2","bg-transparent","text-soft-white","focus:outline-none","focus:border-apple-green"],[1,"space-y-4","mt-6","px-4"],["for","bio",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","bio","formControlName","bio","rows","3",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","github",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","github","type","text","formControlName","github",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","linkedin",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","linkedin","type","text","formControlName","linkedin",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","twitter",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","twitter","type","text","formControlName","twitter",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],[1,"mt-4","bg-apple-green","text-black","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-deep-green","transition-colors",3,"click"],[1,"flex","gap-3","mt-6"],[1,"bg-gray-700","text-soft-white","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-gray-600","transition-colors",3,"click"],[1,"bg-apple-green","text-black","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-deep-green","transition-colors",3,"click"],[1,"mt-4","text-center"],[1,"text-apple-green","hover:text-deep-green","text-sm",3,"routerLink"],[1,"flex","justify-center","items-center","py-8"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-apple-green"],[1,"text-center","py-8"],[1,"text-gray-400"],[1,"inline-block","mt-4","px-6","py-2","bg-apple-green","text-black","rounded-lg","hover:bg-deep-green","transition-colors",3,"routerLink"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","gap-2","sm:gap-4"],["class","bg-gray-600/50 rounded-lg p-2 sm:p-4 hover:bg-gray-800 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-gray-600/50","rounded-lg","p-2","sm:p-4","hover:bg-gray-800","transition-colors"],[1,"block",3,"routerLink"],[1,"mb-2"],[1,"w-[50px]","h-[50px]","object-cover","rounded-lg",3,"src","alt"],[1,"text-xs","text-apple-green","mb-2"],[1,"flex","items-center","justify-between","text-xs","text-gray-400"],[1,"flex","items-center"],[1,"material-symbols-outlined","text-xs","mr-1"],[1,"flex","items-center","hover:text-apple-green","transition-colors",3,"click"],[1,"material-symbols-outlined","text-sm","mr-1"]],template:function(t,r){t&1&&(k(0,"app-notification",0),he("closed",function(){return r.showNotification=!1}),M(),k(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Ne(5,"img",5),ge(6,pDe,4,0,"label",6),M(),ge(7,mDe,3,0,"div",7),k(8,"form",8)(9,"div",9),ge(10,gDe,2,1,"h1",10)(11,yDe,1,0,"input",11),k(12,"span",12),F(13),M(),k(14,"div",13)(15,"span",14),F(16),M()()(),ge(17,vDe,17,0,"div",15),M(),ge(18,bDe,2,0,"button",16)(19,_De,5,0,"div",17)(20,EDe,3,2,"div",18),k(21,"div",19)(22,"h2",20),F(23,"Liens"),M(),ge(24,wDe,2,0,"div",21)(25,SDe,5,2,"div",22)(26,IDe,3,4,"div",23),M()()()()),t&2&&(Y("show",r.showNotification)("type",r.notificationType)("message",r.notificationMessage),H(5),Y("src",r.imagePreview||r.getUserProfileImage(),xn),H(),Y("ngIf",r.isEditing),H(),Y("ngIf",r.isEditing),H(),Y("formGroup",r.profileForm),H(2),Y("ngIf",!r.isEditing),H(),Y("ngIf",r.isEditing),H(2),St(r.user==null?null:r.user.role),H(3),lt(" ",r.user==null?null:r.user.bio," "),H(),Y("ngIf",r.isEditing),H(),Y("ngIf",r.canEdit&&!r.isEditing),H(),Y("ngIf",r.isEditing),H(),Y("ngIf",r.canEdit&&(r.currentUser==null?null:r.currentUser.role)==="admin"),H(4),Y("ngIf",r.isLoading),H(),Y("ngIf",!r.isLoading&&(!r.userSharedLinks||r.userSharedLinks.length===0)&&(!r.likedLinks||r.likedLinks.length===0)),H(),Y("ngIf",!r.isLoading&&(r.userSharedLinks&&r.userSharedLinks.length>0||r.likedLinks&&r.likedLinks.length>0)))},dependencies:[jt,ai,Sn,yl,xc,Ko,cs,Go,Wo,ds,eo,to,or,Or,Ac],encapsulation:2})};var rK=[{path:"",redirectTo:"login-choice",pathMatch:"full"},{path:"login-choice",component:iS,canActivate:[rS]},{path:"login",component:sS,canActivate:[rS]},{path:"register",component:oS,canActivate:[rS]},{path:"skills",component:uS,canActivate:[$a]},{path:"users",component:R0},{path:"user-profile/:id",component:R0,canActivate:[$a]},{path:"admin/users",component:gS,canActivate:[$a]},{path:"home",component:mS,canActivate:[$a]},{path:"home/add",component:ip,canActivate:[$a]},{path:"home/:id",component:N0,canActivate:[$a]},{path:"link/:id",component:N0,canActivate:[$a]},{path:"policy",component:yS,canActivate:[$a]},{path:"**",redirectTo:"login-choice"}];var DDe={apiKey:"AIzaSyByaNQzJ1Gsy1W5LaCvuL8UdrctPTOxCls",authDomain:"thelastcoders-a40c9.firebaseapp.com",projectId:"thelastcoders-a40c9",storageBucket:"thelastcoders-a40c9.firebasestorage.app",messagingSenderId:"537287186785",appId:"1:537287186785:web:b4333145d3151c70b98d20",measurementId:"G-31X9TT8LCJ"},iK={providers:[WG(()=>aO()),UI(rK),sB(()=>oB(DDe)),qB(()=>j1()),ZW(()=>VO())]};var sK=[{path:"home/:id",renderMode:fn.Client},{path:"user-profile/:id",renderMode:fn.Client},{path:"link/:id",renderMode:fn.Client},{path:"**",renderMode:fn.Prerender}];var xDe={providers:[c9(),xU(sK)]},oK=i5(iK,xDe);var ADe=()=>uI(nS,oK),NDe=ADe;export{NDe as default,Hue as \u0275destroyAngularServerApp,AU as \u0275extractRoutesAndCreateRouteTree,jue as \u0275getOrCreateAngularServerApp,mne as \u0275resetCompiledComponents};
