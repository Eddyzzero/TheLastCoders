var OF=Object.defineProperty,LF=Object.defineProperties;var FF=Object.getOwnPropertyDescriptors;var rC=Object.getOwnPropertySymbols,VF=Object.getPrototypeOf,UF=Object.prototype.hasOwnProperty,jF=Object.prototype.propertyIsEnumerable,BF=Reflect.get;var iC=(n,e,t)=>e in n?OF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,G=(n,e)=>{for(var t in e||={})UF.call(e,t)&&iC(n,t,e[t]);if(rC)for(var t of rC(e))jF.call(e,t)&&iC(n,t,e[t]);return n},ce=(n,e)=>LF(n,FF(e));var Ms=(n,e,t)=>BF(VF(n),t,e);var P=(n,e,t)=>new Promise((r,i)=>{var s=l=>{try{a(t.next(l))}catch(c){i(c)}},o=l=>{try{a(t.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(n,e)).next())});function Kv(n,e){return Object.is(n,e)}var Wt=null,$f=!1,Yv=1,Dr=Symbol("SIGNAL");function ke(n){let e=Wt;return Wt=n,e}function Qv(){return Wt}var il={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cu(n){if($f)throw new Error("");if(Wt===null)return;Wt.consumerOnSignalRead(n);let e=Wt.nextProducerIndex++;if(Wf(Wt),e<Wt.producerNode.length&&Wt.producerNode[e]!==n&&lu(Wt)){let t=Wt.producerNode[e];Gf(t,Wt.producerIndexOfThis[e])}Wt.producerNode[e]!==n&&(Wt.producerNode[e]=n,Wt.producerIndexOfThis[e]=lu(Wt)?oC(n,Wt,e):0),Wt.producerLastReadVersion[e]=n.version}function sC(){Yv++}function Xv(n){if(!(lu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Yv)){if(!n.producerMustRecompute(n)&&!qf(n)){Wv(n);return}n.producerRecomputeValue(n),Wv(n)}}function Zv(n){if(n.liveConsumerNode===void 0)return;let e=$f;$f=!0;try{for(let t of n.liveConsumerNode)t.dirty||$F(t)}finally{$f=e}}function Jv(){return Wt?.consumerAllowSignalWrites!==!1}function $F(n){n.dirty=!0,Zv(n),n.consumerMarkedDirty?.(n)}function Wv(n){n.dirty=!1,n.lastCleanEpoch=Yv}function uu(n){return n&&(n.nextProducerIndex=0),ke(n)}function zf(n,e){if(ke(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(lu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Gf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function qf(n){Wf(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Xv(t),r!==t.version))return!0}return!1}function du(n){if(Wf(n),lu(n))for(let e=0;e<n.producerNode.length;e++)Gf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function oC(n,e,t){if(aC(n),n.liveConsumerNode.length===0&&lC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=oC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Gf(n,e){if(aC(n),n.liveConsumerNode.length===1&&lC(n))for(let r=0;r<n.producerNode.length;r++)Gf(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Wf(i),i.producerIndexOfThis[r]=e}}function lu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Wf(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function aC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function lC(n){return n.producerNode!==void 0}function ey(n,e){let t=Object.create(HF);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Xv(t),cu(t),t.value===Hf)throw t.error;return t.value};return r[Dr]=t,r}var qv=Symbol("UNSET"),Gv=Symbol("COMPUTING"),Hf=Symbol("ERRORED"),HF=ce(G({},il),{value:qv,dirty:!0,error:null,equal:Kv,kind:"computed",producerMustRecompute(n){return n.value===qv||n.value===Gv},producerRecomputeValue(n){if(n.value===Gv)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Gv;let t=uu(n),r,i=!1;try{r=n.computation(),ke(null),i=e!==qv&&e!==Hf&&r!==Hf&&n.equal(e,r)}catch(s){r=Hf,n.error=s}finally{zf(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function zF(){throw new Error}var cC=zF;function uC(n){cC(n)}function ty(n){cC=n}var qF=null;function ny(n,e){let t=Object.create(Kf);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(cu(t),t.value);return r[Dr]=t,r}function fu(n,e){Jv()||uC(n),n.equal(n.value,e)||(n.value=e,GF(n))}function ry(n,e){Jv()||uC(n),fu(n,e(n.value))}var Kf=ce(G({},il),{equal:Kv,value:void 0,kind:"signal"});function GF(n){n.version++,sC(),Zv(n),qF?.()}function iy(n){let e=ke(null);try{return n()}finally{ke(e)}}var sy;function hu(){return sy}function Gi(n){let e=sy;return sy=n,e}var Yf=Symbol("NotFound");function Se(n){return typeof n=="function"}function sl(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Qf=sl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Oo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ct=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Se(r))try{r()}catch(s){e=s instanceof Qf?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{dC(s)}catch(o){e=e??[],o instanceof Qf?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)dC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Oo(t,e)}remove(e){let{_finalizers:t}=this;t&&Oo(t,e),e instanceof n&&e._removeParent(this)}};Ct.EMPTY=(()=>{let n=new Ct;return n.closed=!0,n})();var oy=Ct.EMPTY;function Xf(n){return n instanceof Ct||n&&"closed"in n&&Se(n.remove)&&Se(n.add)&&Se(n.unsubscribe)}function dC(n){Se(n)?n():n.unsubscribe()}var xr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ol={setTimeout(n,e,...t){let{delegate:r}=ol;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ol;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Zf(n){ol.setTimeout(()=>{let{onUnhandledError:e}=xr;if(e)e(n);else throw n})}function pu(){}var fC=ay("C",void 0,void 0);function hC(n){return ay("E",void 0,n)}function pC(n){return ay("N",n,void 0)}function ay(n,e,t){return{kind:n,value:e,error:t}}var Lo=null;function al(n){if(xr.useDeprecatedSynchronousErrorHandling){let e=!Lo;if(e&&(Lo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Lo;if(Lo=null,t)throw r}}else n()}function mC(n){xr.useDeprecatedSynchronousErrorHandling&&Lo&&(Lo.errorThrown=!0,Lo.error=n)}var Fo=class extends Ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xf(e)&&e.add(this)):this.destination=ZF}static create(e,t,r){return new Rs(e,t,r)}next(e){this.isStopped?cy(pC(e),this):this._next(e)}error(e){this.isStopped?cy(hC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cy(fC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QF=Function.prototype.bind;function ly(n,e){return QF.call(n,e)}var uy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Jf(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Jf(r)}else Jf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jf(t)}}},Rs=class extends Fo{constructor(e,t,r){super();let i;if(Se(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&xr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ly(e.next,s),error:e.error&&ly(e.error,s),complete:e.complete&&ly(e.complete,s)}):i=e}this.destination=new uy(i)}};function Jf(n){xr.useDeprecatedSynchronousErrorHandling?mC(n):Zf(n)}function XF(n){throw n}function cy(n,e){let{onStoppedNotification:t}=xr;t&&ol.setTimeout(()=>t(n,e))}var ZF={closed:!0,next:pu,error:XF,complete:pu};var ll=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zn(n){return n}function eh(...n){return dy(n)}function dy(n){return n.length===0?Zn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Pe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=eV(t)?t:new Rs(t,r,i);return al(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=gC(r),new r((i,s)=>{let o=new Rs({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ll](){return this}pipe(...t){return dy(t)(this)}toPromise(t){return t=gC(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function gC(n){var e;return(e=n??xr.Promise)!==null&&e!==void 0?e:Promise}function JF(n){return n&&Se(n.next)&&Se(n.error)&&Se(n.complete)}function eV(n){return n&&n instanceof Fo||JF(n)&&Xf(n)}function fy(n){return Se(n?.lift)}function He(n){return e=>{if(fy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Be(n,e,t,r,i){return new hy(n,e,t,r,i)}var hy=class extends Fo{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function cl(){return He((n,e)=>{let t=null;n._refCount++;let r=Be(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ul=class extends Pe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,fy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ct;let t=this.getSubject();e.add(this.source.subscribe(Be(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ct.EMPTY)}return e}refCount(){return cl()(this)}};var vC=sl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Rt=(()=>{class n extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new th(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new vC}next(t){al(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){al(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){al(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?oy:(this.currentObservers=null,s.push(t),new Ct(()=>{this.currentObservers=null,Oo(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new Pe;return t.source=this,t}}return n.create=(e,t)=>new th(e,t),n})(),th=class extends Rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:oy}};var kt=class extends Rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var py={now(){return(py.delegate||Date).now()},delegate:void 0};var nh=class extends Ct{constructor(e,t){super()}schedule(e,t=0){return this}};var mu={setInterval(n,e,...t){let{delegate:r}=mu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=mu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var dl=class extends nh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return mu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&mu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Oo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var fl=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};fl.now=py.now;var hl=class extends fl{constructor(e,t=fl.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var my=new hl(dl);var rh=class extends dl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ih=class extends hl{};var gy=new ih(rh);var kn=new Pe(n=>n.complete());function yC(n){return n&&Se(n.schedule)}function wC(n){return n[n.length-1]}function sh(n){return Se(wC(n))?n.pop():void 0}function ks(n){return yC(wC(n))?n.pop():void 0}function vy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function bC(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function _C(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vo(n){return this instanceof Vo?(this.v=n,this):new Vo(n)}function EC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(h){return Promise.resolve(h).then(g,f)}}function a(g,h){r[g]&&(i[g]=function(v){return new Promise(function(w,D){s.push([g,v,w,D])>1||l(g,v)})},h&&(i[g]=h(i[g])))}function l(g,h){try{c(r[g](h))}catch(v){m(s[0][3],v)}}function c(g){g.value instanceof Vo?Promise.resolve(g.value.v).then(d,f):m(s[0][2],g)}function d(g){l("next",g)}function f(g){l("throw",g)}function m(g,h){g(h),s.shift(),s.length&&l(s[0][0],s[0][1])}}function IC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof _C=="function"?_C(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var oh=n=>n&&typeof n.length=="number"&&typeof n!="function";function ah(n){return Se(n?.then)}function lh(n){return Se(n[ll])}function ch(n){return Symbol.asyncIterator&&Se(n?.[Symbol.asyncIterator])}function uh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dh=tV();function fh(n){return Se(n?.[dh])}function hh(n){return EC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Vo(t.read());if(i)return yield Vo(void 0);yield yield Vo(r)}}finally{t.releaseLock()}})}function ph(n){return Se(n?.getReader)}function Ut(n){if(n instanceof Pe)return n;if(n!=null){if(lh(n))return nV(n);if(oh(n))return rV(n);if(ah(n))return iV(n);if(ch(n))return SC(n);if(fh(n))return sV(n);if(ph(n))return oV(n)}throw uh(n)}function nV(n){return new Pe(e=>{let t=n[ll]();if(Se(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rV(n){return new Pe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function iV(n){return new Pe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Zf)})}function sV(n){return new Pe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function SC(n){return new Pe(e=>{aV(n,e).catch(t=>e.error(t))})}function oV(n){return SC(hh(n))}function aV(n,e){var t,r,i,s;return bC(this,void 0,void 0,function*(){try{for(t=IC(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Pn(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ps(n,e=0){return He((t,r)=>{t.subscribe(Be(r,i=>Pn(r,n,()=>r.next(i),e),()=>Pn(r,n,()=>r.complete(),e),i=>Pn(r,n,()=>r.error(i),e)))})}function Ns(n,e=0){return He((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function TC(n,e){return Ut(n).pipe(Ns(e),Ps(e))}function CC(n,e){return Ut(n).pipe(Ns(e),Ps(e))}function DC(n,e){return new Pe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function xC(n,e){return new Pe(t=>{let r;return Pn(t,e,()=>{r=n[dh](),Pn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}function mh(n,e){if(!n)throw new Error("Iterable cannot be null");return new Pe(t=>{Pn(t,e,()=>{let r=n[Symbol.asyncIterator]();Pn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function AC(n,e){return mh(hh(n),e)}function MC(n,e){if(n!=null){if(lh(n))return TC(n,e);if(oh(n))return DC(n,e);if(ah(n))return CC(n,e);if(ch(n))return mh(n,e);if(fh(n))return xC(n,e);if(ph(n))return AC(n,e)}throw uh(n)}function Te(n,e){return e?MC(n,e):Ut(n)}function de(...n){let e=ks(n);return Te(n,e)}function Ar(n,e){let t=Se(n)?n:()=>n,r=i=>i.error(t());return new Pe(e?i=>e.schedule(r,0,i):r)}function yy(n){return!!n&&(n instanceof Pe||Se(n.lift)&&Se(n.subscribe))}var Mr=sl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Uo(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let s=new Rs({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Mr)}});n.subscribe(s)})}function ye(n,e){return He((t,r)=>{let i=0;t.subscribe(Be(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:lV}=Array;function cV(n,e){return lV(e)?n(...e):n(e)}function gh(n){return ye(e=>cV(n,e))}var{isArray:uV}=Array,{getPrototypeOf:dV,prototype:fV,keys:hV}=Object;function vh(n){if(n.length===1){let e=n[0];if(uV(e))return{args:e,keys:null};if(pV(e)){let t=hV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function pV(n){return n&&typeof n=="object"&&dV(n)===fV}function yh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function jo(...n){let e=ks(n),t=sh(n),{args:r,keys:i}=vh(n);if(r.length===0)return Te([],e);let s=new Pe(mV(r,e,i?o=>yh(i,o):Zn));return t?s.pipe(gh(t)):s}function mV(n,e,t=Zn){return r=>{RC(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)RC(e,()=>{let c=Te(n[l],e),d=!1;c.subscribe(Be(r,f=>{s[l]=f,d||(d=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function RC(n,e,t){n?Pn(t,n,e):e()}function kC(n,e,t,r,i,s,o,a){let l=[],c=0,d=0,f=!1,m=()=>{f&&!l.length&&!c&&e.complete()},g=v=>c<r?h(v):l.push(v),h=v=>{s&&e.next(v),c++;let w=!1;Ut(t(v,d++)).subscribe(Be(e,D=>{i?.(D),s?g(D):e.next(D)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<r;){let D=l.shift();o?Pn(e,o,()=>h(D)):h(D)}m()}catch(D){e.error(D)}}))};return n.subscribe(Be(e,g,()=>{f=!0,m()})),()=>{a?.()}}function Pt(n,e,t=1/0){return Se(e)?Pt((r,i)=>ye((s,o)=>e(r,s,i,o))(Ut(n(r,i))),t):(typeof e=="number"&&(t=e),He((r,i)=>kC(r,i,n,t)))}function Os(n=1/0){return Pt(Zn,n)}function PC(){return Os(1)}function pl(...n){return PC()(Te(n,ks(n)))}function wh(n){return new Pe(e=>{Ut(n()).subscribe(e)})}function wy(...n){let e=sh(n),{args:t,keys:r}=vh(n),i=new Pe(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let d=0;d<o;d++){let f=!1;Ut(t[d]).subscribe(Be(s,m=>{f||(f=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||s.next(r?yh(r,a):a),s.complete())}))}});return e?i.pipe(gh(e)):i}function Nn(n,e){return He((t,r)=>{let i=0;t.subscribe(Be(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Nt(n){return He((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Be(t,void 0,void 0,o=>{s=Ut(n(o,Nt(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function NC(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Be(o,d=>{let f=c++;l=a?n(l,d,f):(a=!0,d),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Ls(n,e){return Se(e)?Pt(n,e,1):Pt(n,1)}function Fs(n){return He((e,t)=>{let r=!1;e.subscribe(Be(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Rr(n){return n<=0?()=>kn:He((e,t)=>{let r=0;e.subscribe(Be(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function _h(n=gV){return He((e,t)=>{let r=!1;e.subscribe(Be(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function gV(){return new Mr}function gu(n){return He((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Wi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Nn((i,s)=>n(i,s,r)):Zn,Rr(1),t?Fs(e):_h(()=>new Mr))}function ml(n){return n<=0?()=>kn:He((e,t)=>{let r=[];e.subscribe(Be(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function _y(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Nn((i,s)=>n(i,s,r)):Zn,ml(1),t?Fs(e):_h(()=>new Mr))}function bh(n,e){return He(NC(n,e,arguments.length>=2,!0))}function Eh(...n){let e=ks(n);return He((t,r)=>{(e?pl(n,t,e):pl(n,t)).subscribe(r)})}function Ot(n,e){return He((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(Be(r,l=>{i?.unsubscribe();let c=0,d=s++;Ut(n(l,d)).subscribe(i=Be(r,f=>r.next(e?e(l,f,d,c++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function by(n){return He((e,t)=>{Ut(n).subscribe(Be(t,()=>t.complete(),pu)),!t.closed&&e.subscribe(t)})}function cn(n,e,t){let r=Se(n)||e||t?{next:n,error:e,complete:t}:n;return r?He((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Be(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Zn}var _D="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ue=class extends Error{code;constructor(e,t){super(bD(e,t)),this.code=e}};function vV(n){return`NG0${Math.abs(n)}`}function bD(n,e){return`${vV(n)}${e?": "+e:""}`}var ED=Symbol("InputSignalNode#UNSET"),yV=ce(G({},Kf),{transformFn:void 0,applyValueToInputSignal(n,e){fu(n,e)}});function ID(n,e){let t=Object.create(yV);t.value=n,t.transformFn=e?.transform;function r(){if(cu(t),t.value===ED){let i=null;throw new ue(-950,i)}return t.value}return r[Dr]=t,r}function Pu(n){return{toString:n}.toString()}var Ih="__parameters__";function wV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function SD(n,e,t){return Pu(()=>{let r=wV(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,d){let f=l.hasOwnProperty(Ih)?l[Ih]:Object.defineProperty(l,Ih,{value:[]})[Ih];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var $o=globalThis;function ct(n){for(let e in n)if(n[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function _V(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Fn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Fn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Fy(n,e){return n?e?`${n} ${e}`:n:e||""}var bV=ct({__forward_ref__:ct});function Xi(n){return n.__forward_ref__=Xi,n.toString=function(){return Fn(this())},n}function An(n){return TD(n)?n():n}function TD(n){return typeof n=="function"&&n.hasOwnProperty(bV)&&n.__forward_ref__===Xi}function ie(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ui(n){return{providers:n.providers||[],imports:n.imports||[]}}function ip(n){return OC(n,DD)||OC(n,xD)}function CD(n){return ip(n)!==null}function OC(n,e){return n.hasOwnProperty(e)?n[e]:null}function EV(n){let e=n&&(n[DD]||n[xD]);return e||null}function LC(n){return n&&(n.hasOwnProperty(FC)||n.hasOwnProperty(IV))?n[FC]:null}var DD=ct({\u0275prov:ct}),FC=ct({\u0275inj:ct}),xD=ct({ngInjectableDef:ct}),IV=ct({ngInjectorDef:ct}),le=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ie({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AD(n){return n&&!!n.\u0275providers}var SV=ct({\u0275cmp:ct}),TV=ct({\u0275dir:ct}),CV=ct({\u0275pipe:ct}),DV=ct({\u0275mod:ct}),kh=ct({\u0275fac:ct}),_u=ct({__NG_ELEMENT_ID__:ct}),VC=ct({__NG_ENV_ID__:ct});function El(n){return typeof n=="string"?n:n==null?"":String(n)}function xV(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():El(n)}function MD(n,e){throw new ue(-200,n)}function Vw(n,e){throw new ue(-201,!1)}var Me=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Me||{}),Vy;function RD(){return Vy}function On(n){let e=Vy;return Vy=n,e}function kD(n,e,t){let r=ip(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Me.Optional)return null;if(e!==void 0)return e;Vw(n,"Injector")}var AV={},Ho=AV,Uy="__NG_DI_FLAG__",Ph=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Yf:Ho,r)}},Nh="ngTempTokenPath",MV="ngTokenPath",RV=/\n/gm,kV="\u0275",UC="__source";function PV(n,e=Me.Default){if(hu()===void 0)throw new ue(-203,!1);if(hu()===null)return kD(n,void 0,e);{let t=hu(),r;return t instanceof Ph?r=t.injector:r=t,r.get(n,e&Me.Optional?null:void 0,e)}}function we(n,e=Me.Default){return(RD()||PV)(An(n),e)}function F(n,e=Me.Default){return we(n,sp(e))}function sp(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function jy(n){let e=[];for(let t=0;t<n.length;t++){let r=An(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ue(900,!1);let i,s=Me.Default;for(let o=0;o<r.length;o++){let a=r[o],l=NV(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(we(i,s))}else e.push(we(r))}return e}function PD(n,e){return n[Uy]=e,n.prototype[Uy]=e,n}function NV(n){return n[Uy]}function OV(n,e,t,r){let i=n[Nh];throw e[UC]&&i.unshift(e[UC]),n.message=LV(`
`+n.message,i,t,r),n[MV]=i,n[Nh]=null,n}function LV(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==kV?n.slice(2):n;let i=Fn(e);if(Array.isArray(e))i=e.map(Fn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Fn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(RV,`
  `)}`}var en=PD(SD("Optional"),8);var FV=PD(SD("SkipSelf"),4);function qo(n,e){let t=n.hasOwnProperty(kh);return t?n[kh]:null}function VV(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function UV(n){return n.flat(Number.POSITIVE_INFINITY)}function Uw(n,e){n.forEach(t=>Array.isArray(t)?Uw(t,e):e(t))}function ND(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Oh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function jV(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function jw(n,e,t){let r=Nu(n,e);return r>=0?n[r|1]=t:(r=~r,jV(n,r,e,t)),r}function Ey(n,e){let t=Nu(n,e);if(t>=0)return n[t|1]}function Nu(n,e){return BV(n,e,1)}function BV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var Go={},Ln=[],bu=new le(""),OD=new le("",-1),LD=new le(""),Lh=class{get(e,t=Ho){if(t===Ho){let r=new Error(`NullInjectorError: No provider for ${Fn(e)}!`);throw r.name="NullInjectorError",r}return t}};function FD(n,e){let t=n[DV]||null;if(!t&&e===!0)throw new Error(`Type ${Fn(n)} does not have '\u0275mod' property.`);return t}function Wo(n){return n[SV]||null}function $V(n){return n[TV]||null}function HV(n){return n[CV]||null}function Fr(n){return{\u0275providers:n}}function zV(...n){return{\u0275providers:VD(!0,n),\u0275fromNgModule:!0}}function VD(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return Uw(e,o=>{let a=o;By(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&UD(i,s),t}function UD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Bw(i,s=>{e(s,r)})}}function By(n,e,t,r){if(n=An(n),!n)return!1;let i=null,s=LC(n),o=!s&&Wo(n);if(!s&&!o){let l=n.ngModule;if(s=LC(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)By(c,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{Uw(s.imports,d=>{By(d,e,t,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&UD(c,e)}if(!a){let c=qo(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ln},i),e({provide:LD,useValue:i,multi:!0},i),e({provide:bu,useValue:()=>we(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=n;Bw(l,d=>{e(d,c)})}}else return!1;return i!==n&&n.providers!==void 0}function Bw(n,e){for(let t of n)AD(t)&&(t=t.\u0275providers),Array.isArray(t)?Bw(t,e):e(t)}var qV=ct({provide:String,useValue:ct});function jD(n){return n!==null&&typeof n=="object"&&qV in n}function GV(n){return!!(n&&n.useExisting)}function WV(n){return!!(n&&n.useFactory)}function Il(n){return typeof n=="function"}function KV(n){return!!n.useClass}var op=new le(""),Ch={},jC={},Iy;function $w(){return Iy===void 0&&(Iy=new Lh),Iy}var mn=class{},Eu=class extends mn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Hy(e,o=>this.processProvider(o)),this.records.set(OD,gl(void 0,this)),i.has("environment")&&this.records.set(mn,gl(void 0,this));let s=this.records.get(op);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(LD,Ln,Me.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Yf:Ho,r)}destroy(){yu(this),this._destroyed=!0;let e=ke(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ke(e)}}onDestroy(e){return yu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){yu(this);let t=Gi(this),r=On(void 0),i;try{return e()}finally{Gi(t),On(r)}}get(e,t=Ho,r=Me.Default){if(yu(this),e.hasOwnProperty(VC))return e[VC](this);r=sp(r);let i,s=Gi(this),o=On(void 0);try{if(!(r&Me.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=JV(e)&&ip(e);c&&this.injectableDefInScope(c)?l=gl($y(e),Ch):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let a=r&Me.Self?$w():this.parent;return t=r&Me.Optional&&t===Ho?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Nh]=a[Nh]||[]).unshift(Fn(e)),s)throw a;return OV(a,e,"R3InjectorError",this.source)}else throw a}finally{On(o),Gi(s)}}resolveInjectorInitializers(){let e=ke(null),t=Gi(this),r=On(void 0),i;try{let s=this.get(bu,Ln,Me.Self);for(let o of s)o()}finally{Gi(t),On(r),ke(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Fn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=An(e);let t=Il(e)?e:An(e&&e.provide),r=QV(e);if(!Il(e)&&e.multi===!0){let i=this.records.get(t);i||(i=gl(void 0,Ch,!0),i.factory=()=>jy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ke(null);try{return t.value===jC?MD(Fn(e)):t.value===Ch&&(t.value=jC,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&ZV(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ke(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=An(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function $y(n){let e=ip(n),t=e!==null?e.factory:qo(n);if(t!==null)return t;if(n instanceof le)throw new ue(204,!1);if(n instanceof Function)return YV(n);throw new ue(204,!1)}function YV(n){if(n.length>0)throw new ue(204,!1);let t=EV(n);return t!==null?()=>t.factory(n):()=>new n}function QV(n){if(jD(n))return gl(void 0,n.useValue);{let e=BD(n);return gl(e,Ch)}}function BD(n,e,t){let r;if(Il(n)){let i=An(n);return qo(i)||$y(i)}else if(jD(n))r=()=>An(n.useValue);else if(WV(n))r=()=>n.useFactory(...jy(n.deps||[]));else if(GV(n))r=(i,s)=>we(An(n.useExisting),s!==void 0&&s&Me.Optional?Me.Optional:void 0);else{let i=An(n&&(n.useClass||n.provide));if(XV(n))r=()=>new i(...jy(n.deps));else return qo(i)||$y(i)}return r}function yu(n){if(n.destroyed)throw new ue(205,!1)}function gl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function XV(n){return!!n.deps}function ZV(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function JV(n){return typeof n=="function"||typeof n=="object"&&n instanceof le}function Hy(n,e){for(let t of n)Array.isArray(t)?Hy(t,e):t&&AD(t)?Hy(t.\u0275providers,e):e(t)}function yn(n,e){let t;n instanceof Eu?(yu(n),t=n):t=new Ph(n);let r,i=Gi(t),s=On(void 0);try{return e()}finally{Gi(i),On(s)}}function $D(){return RD()!==void 0||hu()!=null}function ap(n){if(!$D())throw new ue(-203,!1)}function e2(n){return typeof n=="function"}var Zi=0,Ce=1,be=2,gn=3,Nr=4,Vr=5,Iu=6,Fh=7,Kt=8,Sl=9,Ki=10,Yt=11,Su=12,BC=13,Rl=14,Or=15,Ko=16,vl=17,Yi=18,lp=19,HD=20,Vs=21,Sy=22,Yo=23,cr=24,_l=25,vn=26,zD=1;var Qo=7,Vh=8,Tl=9,pn=10;function Us(n){return Array.isArray(n)&&typeof n[zD]=="object"}function Ji(n){return Array.isArray(n)&&n[zD]===!0}function qD(n){return(n.flags&4)!==0}function kl(n){return n.componentOffset>-1}function Hw(n){return(n.flags&1)===1}function si(n){return!!n.template}function Uh(n){return(n[be]&512)!==0}function Pl(n){return(n[be]&256)===256}var zy=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function GD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ur=(()=>{let n=()=>WD;return n.ngInherit=!0,n})();function WD(n){return n.type.prototype.ngOnChanges&&(n.setInput=n2),t2}function t2(){let n=YD(this),e=n?.current;if(e){let t=n.previous;if(t===Go)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function n2(n,e,t,r,i){let s=this.declaredInputs[r],o=YD(n)||r2(n,{previous:Go,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new zy(c&&c.currentValue,t,l===Go),GD(n,e,i,t)}var KD="__ngSimpleChanges__";function YD(n){return n[KD]||null}function r2(n,e){return n[KD]=e}var $C=null;var it=function(n,e=null,t){$C?.(n,e,t)},i2="svg",s2="math";function oi(n){for(;Array.isArray(n);)n=n[Zi];return n}function QD(n,e){return oi(e[n])}function di(n,e){return oi(e[n.index])}function zw(n,e){return n.data[e]}function qw(n,e){return n[e]}function o2(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function ai(n,e){let t=e[n];return Us(t)?t:t[Zi]}function a2(n){return(n[be]&4)===4}function Gw(n){return(n[be]&128)===128}function l2(n){return Ji(n[gn])}function Cl(n,e){return e==null?null:n[e]}function XD(n){n[vl]=0}function ZD(n){n[be]&1024||(n[be]|=1024,Gw(n)&&Nl(n))}function c2(n,e){for(;n>0;)e=e[Rl],n--;return e}function cp(n){return!!(n[be]&9216||n[cr]?.dirty)}function qy(n){n[Ki].changeDetectionScheduler?.notify(8),n[be]&64&&(n[be]|=1024),cp(n)&&Nl(n)}function Nl(n){n[Ki].changeDetectionScheduler?.notify(0);let e=Xo(n);for(;e!==null&&!(e[be]&8192||(e[be]|=8192,!Gw(e)));)e=Xo(e)}function JD(n,e){if(Pl(n))throw new ue(911,!1);n[Vs]===null&&(n[Vs]=[]),n[Vs].push(e)}function u2(n,e){if(n[Vs]===null)return;let t=n[Vs].indexOf(e);t!==-1&&n[Vs].splice(t,1)}function Xo(n){let e=n[gn];return Ji(e)?e[gn]:e}function Ww(n){return n[Fh]??=[]}function Kw(n){return n.cleanup??=[]}function d2(n,e,t,r){let i=Ww(e);i.push(t),n.firstCreatePass&&Kw(n).push(r,i.length-1)}var Ne={lFrame:ax(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Gy=!1;function f2(){return Ne.lFrame.elementDepthCount}function h2(){Ne.lFrame.elementDepthCount++}function p2(){Ne.lFrame.elementDepthCount--}function ex(){return Ne.bindingsEnabled}function m2(){return Ne.skipHydrationRootTNode!==null}function g2(n){return Ne.skipHydrationRootTNode===n}function v2(){Ne.skipHydrationRootTNode=null}function Oe(){return Ne.lFrame.lView}function tn(){return Ne.lFrame.tView}function he(n){return Ne.lFrame.contextLView=n,n[Kt]}function pe(n){return Ne.lFrame.contextLView=null,n}function Vn(){let n=tx();for(;n!==null&&n.type===64;)n=n.parent;return n}function tx(){return Ne.lFrame.currentTNode}function y2(){let n=Ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ou(n,e){let t=Ne.lFrame;t.currentTNode=n,t.isParent=e}function nx(){return Ne.lFrame.isParent}function w2(){Ne.lFrame.isParent=!1}function _2(){return Ne.lFrame.contextLView}function rx(){return Gy}function jh(n){let e=Gy;return Gy=n,e}function Lu(){let n=Ne.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function b2(){return Ne.lFrame.bindingIndex}function E2(n){return Ne.lFrame.bindingIndex=n}function Fu(){return Ne.lFrame.bindingIndex++}function Yw(n){let e=Ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function I2(){return Ne.lFrame.inI18n}function S2(n,e){let t=Ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wy(e)}function T2(){return Ne.lFrame.currentDirectiveIndex}function Wy(n){Ne.lFrame.currentDirectiveIndex=n}function C2(n){let e=Ne.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function ix(){return Ne.lFrame.currentQueryIndex}function Qw(n){Ne.lFrame.currentQueryIndex=n}function D2(n){let e=n[Ce];return e.type===2?e.declTNode:e.type===1?n[Vr]:null}function sx(n,e,t){if(t&Me.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&Me.Host);)if(i=D2(s),i===null||(s=s[Rl],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Ne.lFrame=ox();return r.currentTNode=e,r.lView=n,!0}function Xw(n){let e=ox(),t=n[Ce];Ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ox(){let n=Ne.lFrame,e=n===null?null:n.child;return e===null?ax(n):e}function ax(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function lx(){let n=Ne.lFrame;return Ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var cx=lx;function Zw(){let n=lx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function x2(n){return(Ne.lFrame.contextLView=c2(n,Ne.lFrame.contextLView))[Kt]}function es(){return Ne.lFrame.selectedIndex}function Zo(n){Ne.lFrame.selectedIndex=n}function Jw(){let n=Ne.lFrame;return zw(n.tView,n.selectedIndex)}function A2(){return Ne.lFrame.currentNamespace}var ux=!0;function e_(){return ux}function t_(n){ux=n}function M2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=WD(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function dx(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Dh(n,e,t){fx(n,e,3,t)}function xh(n,e,t,r){(n[be]&3)===t&&fx(n,e,t,r)}function Ty(n,e){let t=n[be];(t&3)===e&&(t&=16383,t+=1,n[be]=t)}function fx(n,e,t,r){let i=r!==void 0?n[vl]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[vl]+=65536),(a<s||s==-1)&&(R2(n,t,e,l),n[vl]=(n[vl]&4294901760)+l+2),l++}function HC(n,e){it(4,n,e);let t=ke(null);try{e.call(n)}finally{ke(t),it(5,n,e)}}function R2(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[be]>>14<n[vl]>>16&&(n[be]&3)===e&&(n[be]+=16384,HC(a,s)):HC(a,s)}var bl=-1,Jo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function k2(n){return(n.flags&8)!==0}function P2(n){return(n.flags&16)!==0}function N2(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];O2(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function hx(n){return n===3||n===4||n===6}function O2(n){return n.charCodeAt(0)===64}function Tu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?zC(n,t,i,null,e[++r]):zC(n,t,i,null,null))}}return n}function zC(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function px(n){return n!==bl}function Bh(n){return n&32767}function L2(n){return n>>16}function $h(n,e){let t=L2(n),r=e;for(;t>0;)r=r[Rl],t--;return r}var Ky=!0;function Hh(n){let e=Ky;return Ky=n,e}var F2=256,mx=F2-1,gx=5,V2=0,ii={};function U2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(_u)&&(r=t[_u]),r==null&&(r=t[_u]=V2++);let i=r&mx,s=1<<i;e.data[n+(i>>gx)]|=s}function zh(n,e){let t=vx(n,e);if(t!==-1)return t;let r=e[Ce];r.firstCreatePass&&(n.injectorIndex=e.length,Cy(r.data,n),Cy(e,null),Cy(r.blueprint,null));let i=n_(n,e),s=n.injectorIndex;if(px(i)){let o=Bh(i),a=$h(i,e),l=a[Ce].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Cy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function vx(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function n_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Ex(i),r===null)return bl;if(t++,i=i[Rl],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return bl}function Yy(n,e,t){U2(n,e,t)}function j2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(hx(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function yx(n,e,t){if(t&Me.Optional||n!==void 0)return n;Vw(e,"NodeInjector")}function wx(n,e,t,r){if(t&Me.Optional&&r===void 0&&(r=null),(t&(Me.Self|Me.Host))===0){let i=n[Sl],s=On(void 0);try{return i?i.get(e,r,t&Me.Optional):kD(e,r,t&Me.Optional)}finally{On(s)}}return yx(r,e,t)}function _x(n,e,t,r=Me.Default,i){if(n!==null){if(e[be]&2048&&!(r&Me.Self)){let o=z2(n,e,t,r,ii);if(o!==ii)return o}let s=bx(n,e,t,r,ii);if(s!==ii)return s}return wx(e,t,r,i)}function bx(n,e,t,r,i){let s=$2(t);if(typeof s=="function"){if(!sx(e,n,r))return r&Me.Host?yx(i,t,r):wx(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&Me.Optional))Vw(t);else return o}finally{cx()}}else if(typeof s=="number"){let o=null,a=vx(n,e),l=bl,c=r&Me.Host?e[Or][Vr]:null;for((a===-1||r&Me.SkipSelf)&&(l=a===-1?n_(n,e):e[a+8],l===bl||!GC(r,!1)?a=-1:(o=e[Ce],a=Bh(l),e=$h(l,e)));a!==-1;){let d=e[Ce];if(qC(s,a,d.data)){let f=B2(a,e,t,o,r,c);if(f!==ii)return f}l=e[a+8],l!==bl&&GC(r,e[Ce].data[a+8]===c)&&qC(s,a,e)?(o=d,a=Bh(l),e=$h(l,e)):a=-1}}return i}function B2(n,e,t,r,i,s){let o=e[Ce],a=o.data[n+8],l=r==null?kl(a)&&Ky:r!=o&&(a.type&3)!==0,c=i&Me.Host&&s===a,d=Ah(a,o,t,l,c);return d!==null?Cu(e,o,d,a,i):ii}function Ah(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,d=s>>20,f=r?a:a+d,m=i?a+d:c;for(let g=f;g<m;g++){let h=o[g];if(g<l&&t===h||g>=l&&h.type===t)return g}if(i){let g=o[l];if(g&&si(g)&&g.type===t)return l}return null}function Cu(n,e,t,r,i){let s=n[t],o=e.data;if(s instanceof Jo){let a=s;a.resolving&&MD(xV(o[t]));let l=Hh(a.canSeeViewProviders);a.resolving=!0;let c,d=a.injectImpl?On(a.injectImpl):null,f=sx(n,r,Me.Default);try{s=n[t]=a.factory(void 0,i,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&M2(t,o[t],e)}finally{d!==null&&On(d),Hh(l),a.resolving=!1,cx()}}return s}function $2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(_u)?n[_u]:void 0;return typeof e=="number"?e>=0?e&mx:H2:e}function qC(n,e,t){let r=1<<n;return!!(t[e+(n>>gx)]&r)}function GC(n,e){return!(n&Me.Self)&&!(n&Me.Host&&e)}var zo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return _x(this._tNode,this._lView,e,sp(r),t)}};function H2(){return new zo(Vn(),Oe())}function ia(n){return Pu(()=>{let e=n.prototype.constructor,t=e[kh]||Qy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[kh]||Qy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Qy(n){return TD(n)?()=>{let e=Qy(An(n));return e&&e()}:qo(n)}function z2(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[be]&2048&&!Uh(o);){let a=bx(s,o,t,r|Me.Self,ii);if(a!==ii)return a;let l=s.parent;if(!l){let c=o[HD];if(c){let d=c.get(t,ii,r);if(d!==ii)return d}l=Ex(o),o=o[Rl]}s=l}return i}function Ex(n){let e=n[Ce],t=e.type;return t===2?e.declTNode:t===1?n[Vr]:null}function r_(n){return j2(Vn(),n)}function WC(n,e=null,t=null,r){let i=Ix(n,e,t,r);return i.resolveInjectorInitializers(),i}function Ix(n,e=null,t=null,r,i=new Set){let s=[t||Ln,zV(n)];return r=r||(typeof n=="object"?void 0:Fn(n)),new Eu(s,e||$w(),r||null,i)}var vt=class n{static THROW_IF_NOT_FOUND=Ho;static NULL=new Lh;static create(e,t){if(Array.isArray(e))return WC({name:""},t,e,"");{let r=e.name??"";return WC({name:r},e.parent,e.providers,r)}}static \u0275prov=ie({token:n,providedIn:"any",factory:()=>we(OD)});static __NG_ELEMENT_ID__=-1};var q2=new le("");q2.__NG_ELEMENT_ID__=n=>{let e=Vn();if(e===null)throw new ue(204,!1);if(e.type&2)return e.value;if(n&Me.Optional)return null;throw new ue(204,!1)};var Sx=!1,sa=(()=>{class n{static __NG_ELEMENT_ID__=G2;static __NG_ENV_ID__=t=>t}return n})(),qh=class extends sa{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Pl(t)?(e(),()=>{}):(JD(t,e),()=>u2(t,e))}};function G2(){return new qh(Oe())}var js=class{},Tx=new le("",{providedIn:"root",factory:()=>!1});var Cx=new le(""),Dx=new le(""),oa=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new kt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}return n})(),up=(()=>{class n{internalPendingTasks=F(oa);scheduler=F(js);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return P(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}return n})(),Xy=class extends Rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,$D()&&(this.destroyRef=F(sa,{optional:!0})??void 0,this.pendingTasks=F(oa,{optional:!0})??void 0)}emit(e){let t=ke(null);try{super.next(e)}finally{ke(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ct&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ze=Xy;function Du(...n){}function xx(n){let e,t;function r(){n=Du;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function KC(n){return queueMicrotask(()=>n()),()=>{n=Du}}var i_="isAngularZone",Gh=i_+"_ID",W2=0,We=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ze(!1);onMicrotaskEmpty=new Ze(!1);onStable=new Ze(!1);onError=new Ze(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Sx}=e;if(typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Q2(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(i_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ue(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,K2,Du,Du);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},K2={};function s_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Y2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){xx(()=>{n.callbackScheduled=!1,Zy(n),n.isCheckStableRunning=!0,s_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Zy(n)}function Q2(n){let e=()=>{Y2(n)},t=W2++;n._inner=n._inner.fork({name:"angular",properties:{[i_]:!0,[Gh]:t,[Gh+t]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(X2(l))return r.invokeTask(s,o,a,l);try{return YC(n),r.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),QC(n)}},onInvoke:(r,i,s,o,a,l,c)=>{try{return YC(n),r.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Z2(l)&&e(),QC(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Zy(n),s_(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Zy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function YC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function QC(n){n._nesting--,s_(n)}var Jy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ze;onMicrotaskEmpty=new Ze;onStable=new Ze;onError=new Ze;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function X2(n){return Ax(n,"__ignore_ng_zone__")}function Z2(n){return Ax(n,"__scheduler_tick__")}function Ax(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var li=class{_console=console;handleError(e){this._console.error("ERROR",e)}},J2=new le("",{providedIn:"root",factory:()=>{let n=F(We),e=F(li);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function XC(n,e){return ID(n,e)}function eU(n){return ID(ED,n)}var Mx=(XC.required=eU,XC);function tU(){return Ol(Vn(),Oe())}function Ol(n,e){return new wn(di(n,e))}var wn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=tU}return n})();function nU(n){return n instanceof wn?n.nativeElement:n}function Jn(n,e){let t=ny(n,e?.equal),r=t[Dr];return t.set=i=>fu(r,i),t.update=i=>ry(r,i),t.asReadonly=rU.bind(t),t}function rU(){let n=this[Dr];if(n.readonlyFn===void 0){let e=()=>this();e[Dr]=n,n.readonlyFn=e}return n.readonlyFn}function iU(){return this._results[Symbol.iterator]()}var ew=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Rt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=UV(e);(this._changesDetected=!VV(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=iU};function Rx(n){return(n.flags&128)===128}var kx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(kx||{}),Px=new Map,sU=0;function oU(){return sU++}function aU(n){Px.set(n[lp],n)}function tw(n){Px.delete(n[lp])}var ZC="__ngContext__";function Vu(n,e){Us(e)?(n[ZC]=e[lp],aU(e)):n[ZC]=e}function Nx(n){return Lx(n[Su])}function Ox(n){return Lx(n[Nr])}function Lx(n){for(;n!==null&&!Ji(n);)n=n[Nr];return n}var nw;function Fx(n){nw=n}function lU(){if(nw!==void 0)return nw;if(typeof document<"u")return document;throw new ue(210,!1)}var o_=new le("",{providedIn:"root",factory:()=>cU}),cU="ng",a_=new le(""),ur=new le("",{providedIn:"platform",factory:()=>"unknown"});var l_=new le("",{providedIn:"root",factory:()=>lU().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uU="h",dU="b";var Vx=!1,fU=new le("",{providedIn:"root",factory:()=>Vx});var c_=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(c_||{}),Ll=new le(""),JC=new Set;function aa(n){JC.has(n)||(JC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var u_=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=hU}return n})();function hU(){return new u_(Oe(),Vn())}var yl=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(yl||{}),Ux=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}return n})(),pU=[yl.EarlyRead,yl.Write,yl.MixedReadWrite,yl.Read],mU=(()=>{class n{ngZone=F(We);scheduler=F(js);errorHandler=F(li,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(Ll,{optional:!0})}execute(){let t=this.sequences.size>0;t&&it(16),this.executing=!0;for(let r of pU)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&it(17)}register(t){let{view:r}=t;r!==void 0?((r[_l]??=[]).push(t),Nl(r),r[be]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(c_.AFTER_NEXT_RENDER,t):t()}static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}return n})(),rw=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[_l];e&&(this.view[_l]=e.filter(t=>t!==this))}};function d_(n,e){!e?.injector&&ap(d_);let t=e?.injector??F(vt);return aa("NgAfterNextRender"),vU(n,t,e,!0)}function gU(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function vU(n,e,t,r){let i=e.get(Ux);i.impl??=e.get(mU);let s=e.get(Ll,null,{optional:!0}),o=t?.phase??yl.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(sa):null,l=e.get(u_,null,{optional:!0}),c=new rw(i.impl,gU(n,o),l?.view,r,a,s?.snapshot(null));return i.impl.register(c),c}var yU=(n,e,t,r)=>{};function wU(n,e,t,r){yU(n,e,t,r)}var _U=()=>null;function jx(n,e,t=!1){return _U(n,e,t)}function Bx(n,e){let t=n.contentQueries;if(t!==null){let r=ke(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];Qw(s),a.contentQueries(2,e[o],o)}}}finally{ke(r)}}}function iw(n,e,t){Qw(0);let r=ke(null);try{e(n,t)}finally{ke(r)}}function $x(n,e,t){if(qD(e)){let r=ke(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{ke(r)}}}var ci=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ci||{});var Sh;function bU(){if(Sh===void 0&&(Sh=null,$o.trustedTypes))try{Sh=$o.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sh}function eD(n){return bU()?.createScriptURL(n)||n}var Wh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_D})`}};function Uu(n){return n instanceof Wh?n.changingThisBreaksApplicationSecurity:n}function Hx(n,e){let t=EU(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${_D})`)}return t===e}function EU(n){return n instanceof Wh&&n.getTypeName()||null}var IU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function SU(n){return n=String(n),n.match(IU)?n:"unsafe:"+n}var f_=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(f_||{});function Dt(n){let e=qx();return e?e.sanitize(f_.URL,n)||"":Hx(n,"URL")?Uu(n):SU(El(n))}function TU(n){let e=qx();if(e)return eD(e.sanitize(f_.RESOURCE_URL,n)||"");if(Hx(n,"ResourceURL"))return eD(Uu(n));throw new ue(904,!1)}function CU(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?TU:Dt}function zx(n,e,t){return CU(e,t)(n)}function qx(){let n=Oe();return n&&n[Ki].sanitizer}function Gx(n){return n instanceof Function?n():n}function DU(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var Wx="ng-template";function xU(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&DU(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(h_(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function h_(n){return n.type===4&&n.value!==Wx}function AU(n,e,t){let r=n.type===4&&!t?Wx:n.value;return e===r}function MU(n,e,t){let r=4,i=n.attrs,s=i!==null?PU(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!kr(r)&&!kr(l))return!1;if(o&&kr(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!AU(n,l,t)||l===""&&e.length===1){if(kr(r))return!1;o=!0}}else if(r&8){if(i===null||!xU(n,i,l,t)){if(kr(r))return!1;o=!0}}else{let c=e[++a],d=RU(l,i,h_(n),t);if(d===-1){if(kr(r))return!1;o=!0;continue}if(c!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&c!==f){if(kr(r))return!1;o=!0}}}}return kr(r)||o}function kr(n){return(n&1)===0}function RU(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return NU(e,n)}function kU(n,e,t=!1){for(let r=0;r<e.length;r++)if(MU(n,e[r],t))return!0;return!1}function PU(n){for(let e=0;e<n.length;e++){let t=n[e];if(hx(t))return e}return n.length}function NU(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function tD(n,e){return n?":not("+e.trim()+")":e}function OU(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!kr(o)&&(e+=tD(s,i),i=""),r=o,s=s||!kr(r);t++}return i!==""&&(e+=tD(s,i)),e}function LU(n){return n.map(OU).join(",")}function FU(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!kr(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var Un={};function VU(n,e){return n.createText(e)}function UU(n,e,t){n.setValue(e,t)}function Kx(n,e,t){return n.createElement(e,t)}function Kh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Yx(n,e,t){n.appendChild(e,t)}function nD(n,e,t,r,i){r!==null?Kh(n,e,t,r,i):Yx(n,e,t)}function jU(n,e,t){n.removeChild(null,e,t)}function BU(n,e,t){n.setAttribute(e,"style",t)}function $U(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Qx(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&N2(n,e,r),i!==null&&$U(n,e,i),s!==null&&BU(n,e,s)}function p_(n,e,t,r,i,s,o,a,l,c,d){let f=vn+r,m=f+i,g=HU(f,m),h=typeof c=="function"?c():c;return g[Ce]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1,ssrId:d}}function HU(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Un);return t}function zU(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=p_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function m_(n,e,t,r,i,s,o,a,l,c,d){let f=e.blueprint.slice();return f[Zi]=i,f[be]=r|4|128|8|64|1024,(c!==null||n&&n[be]&2048)&&(f[be]|=2048),XD(f),f[gn]=f[Rl]=n,f[Kt]=t,f[Ki]=o||n&&n[Ki],f[Yt]=a||n&&n[Yt],f[Sl]=l||n&&n[Sl]||null,f[Vr]=s,f[lp]=oU(),f[Iu]=d,f[HD]=c,f[Or]=e.type==2?n[Or]:f,f}function qU(n,e,t){let r=di(e,n),i=zU(t),s=n[Ki].rendererFactory,o=g_(n,m_(n,i,null,Xx(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function Xx(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Zx(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function g_(n,e){return n[Su]?n[BC][Nr]=e:n[Su]=e,n[BC]=e,e}function L(n=1){Jx(tn(),Oe(),es()+n,!1)}function Jx(n,e,t,r){if(!r)if((e[be]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Dh(e,s,t)}else{let s=n.preOrderHooks;s!==null&&xh(e,s,0,t)}Zo(t)}var dp=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(dp||{});function sw(n,e,t,r){let i=ke(null);try{let[s,o,a]=n.inputs[t],l=null;(o&dp.SignalBased)!==0&&(l=e[s][Dr]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,s):GD(e,l,s,r)}finally{ke(i)}}function eA(n,e,t,r,i){let s=es(),o=r&2;try{Zo(-1),o&&e.length>vn&&Jx(n,e,vn,!1),it(o?2:0,i),t(r,i)}finally{Zo(s),it(o?3:1,i)}}function v_(n,e,t){XU(n,e,t),(t.flags&64)===64&&ZU(n,e,t)}function tA(n,e,t=di){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function GU(n,e,t,r){let s=r.get(fU,Vx)||t===ci.ShadowDom,o=n.selectRootElement(e,s);return WU(o),o}function WU(n){KU(n)}var KU=()=>null;function YU(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function nA(n,e,t,r,i,s,o,a){if(!a&&y_(e,n,t,r,i)){kl(e)&&QU(t,e.index);return}if(e.type&3){let l=di(e,t);r=YU(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)}else e.type&12}function QU(n,e){let t=ai(e,n);t[be]&16||(t[be]|=64)}function XU(n,e,t){let r=t.directiveStart,i=t.directiveEnd;kl(t)&&qU(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||zh(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],l=Cu(e,n,o,t);if(Vu(l,e),s!==null&&nj(e,o-r,l,a,t,s),si(a)){let c=ai(t.index,e);c[Kt]=Cu(e,n,o,t)}}}function ZU(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=T2();try{Zo(s);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];Wy(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&JU(l,c)}}finally{Zo(-1),Wy(o)}}function JU(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function rA(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];kU(e,s.selectors,!1)&&(r??=[],si(s)?r.unshift(s):r.push(s))}return r}function ej(n,e,t,r,i,s){let o=di(n,e);tj(e[Yt],o,s,n.value,t,r,i)}function tj(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?El(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function nj(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1];sw(r,t,l,c)}}function rj(n,e){let t=n[Sl],r=t?t.get(li,null):null;r&&r.handleError(e)}function y_(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let l=0;l<o.length;l+=2){let c=o[l],d=o[l+1],f=e.data[c];sw(f,t[c],d,i),a=!0}if(s)for(let l of s){let c=t[l],d=e.data[l];sw(d,c,r,i),a=!0}return a}function ij(n,e){let t=ai(e,n),r=t[Ce];sj(r,t);let i=t[Zi];i!==null&&t[Iu]===null&&(t[Iu]=jx(i,t[Sl])),it(18),w_(r,t,t[Kt]),it(19,t[Kt])}function sj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function w_(n,e,t){Xw(e);try{let r=n.viewQuery;r!==null&&iw(1,r,t);let i=n.template;i!==null&&eA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Yi]?.finishViewCreation(n),n.staticContentQueries&&Bx(n,e),n.staticViewQueries&&iw(2,n.viewQuery,t);let s=n.components;s!==null&&oj(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[be]&=-5,Zw()}}function oj(n,e){for(let t=0;t<e.length;t++)ij(n,e[t])}function fp(n,e,t,r){let i=ke(null);try{let s=e.tView,a=n[be]&4096?4096:16,l=m_(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[Ko]=c;let d=n[Yi];return d!==null&&(l[Yi]=d.createEmbeddedView(s)),w_(s,l,t),l}finally{ke(i)}}function xu(n,e){return!e||e.firstChild===null||Rx(n)}var aj;function __(n,e){return aj(n,e)}var Qi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Qi||{});function iA(n){return(n.flags&32)===32}function wl(n,e,t,r,i){if(r!=null){let s,o=!1;Ji(r)?s=r:Us(r)&&(o=!0,r=r[Zi]);let a=oi(r);n===0&&t!==null?i==null?Yx(e,t,a):Kh(e,t,a,i||null,!0):n===1&&t!==null?Kh(e,t,a,i||null,!0):n===2?jU(e,a,o):n===3&&e.destroyNode(a),s!=null&&wj(e,n,s,t,i)}}function lj(n,e){sA(n,e),e[Zi]=null,e[Vr]=null}function cj(n,e,t,r,i,s){r[Zi]=i,r[Vr]=e,pp(n,r,t,1,i,s)}function sA(n,e){e[Ki].changeDetectionScheduler?.notify(9),pp(n,e,e[Yt],2,null,null)}function uj(n){let e=n[Su];if(!e)return Dy(n[Ce],n);for(;e;){let t=null;if(Us(e))t=e[Su];else{let r=e[pn];r&&(t=r)}if(!t){for(;e&&!e[Nr]&&e!==n;)Us(e)&&Dy(e[Ce],e),e=e[gn];e===null&&(e=n),Us(e)&&Dy(e[Ce],e),t=e&&e[Nr]}e=t}}function b_(n,e){let t=n[Tl],r=t.indexOf(e);t.splice(r,1)}function hp(n,e){if(Pl(e))return;let t=e[Yt];t.destroyNode&&pp(n,e,t,3,null,null),uj(e)}function Dy(n,e){if(Pl(e))return;let t=ke(null);try{e[be]&=-129,e[be]|=256,e[cr]&&du(e[cr]),fj(n,e),dj(n,e),e[Ce].type===1&&e[Yt].destroy();let r=e[Ko];if(r!==null&&Ji(e[gn])){r!==e[gn]&&b_(r,e);let i=e[Yi];i!==null&&i.detachView(n)}tw(e)}finally{ke(t)}}function dj(n,e){let t=n.cleanup,r=e[Fh];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[Fh]=null);let i=e[Vs];if(i!==null){e[Vs]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Yo];if(s!==null){e[Yo]=null;for(let o of s)o.destroy()}}function fj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Jo)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];it(4,a,l);try{l.call(a)}finally{it(5,a,l)}}else{it(4,i,s);try{s.call(i)}finally{it(5,i,s)}}}}}function hj(n,e,t){return pj(n,e.parent,t)}function pj(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Zi];if(kl(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ci.None||i===ci.Emulated)return null}return di(r,t)}function mj(n,e,t){return vj(n,e,t)}function gj(n,e,t){return n.type&40?di(n,t):null}var vj=gj,rD;function E_(n,e,t,r){let i=hj(n,r,e),s=e[Yt],o=r.parent||e[Vr],a=mj(o,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)nD(s,i,t[l],a,!1);else nD(s,i,t,a,!1);rD!==void 0&&rD(s,r,e,t,i)}function wu(n,e){if(e!==null){let t=e.type;if(t&3)return di(e,n);if(t&4)return ow(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return wu(n,r);{let i=n[e.index];return Ji(i)?ow(-1,i):oi(i)}}else{if(t&128)return wu(n,e.next);if(t&32)return __(e,n)()||oi(n[e.index]);{let r=oA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xo(n[Or]);return wu(i,r)}else return wu(n,e.next)}}}return null}function oA(n,e){if(e!==null){let r=n[Or][Vr],i=e.projection;return r.projection[i]}return null}function ow(n,e){let t=pn+n+1;if(t<e.length){let r=e[t],i=r[Ce].firstChild;if(i!==null)return wu(r,i)}return e[Qo]}function I_(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(o&&e===0&&(a&&Vu(oi(a),r),t.flags|=2),!iA(t))if(l&8)I_(n,e,t.child,r,i,s,!1),wl(e,n,i,a,s);else if(l&32){let c=__(t,r),d;for(;d=c();)wl(e,n,i,d,s);wl(e,n,i,a,s)}else l&16?yj(n,e,r,t,i,s):wl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function pp(n,e,t,r,i,s){I_(t,r,n.firstChild,e,i,s,!1)}function yj(n,e,t,r,i,s){let o=t[Or],l=o[Vr].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];wl(e,n,i,d,s)}else{let c=l,d=o[gn];Rx(r)&&(c.flags|=128),I_(n,e,c,d,i,s,!0)}}function wj(n,e,t,r,i){let s=t[Qo],o=oi(t);s!==o&&wl(e,n,r,s,i);for(let a=pn;a<t.length;a++){let l=t[a];pp(l[Ce],l,n,e,r,s)}}function _j(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Qi.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Qi.Important),n.setStyle(t,r,i,s))}}function Yh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(oi(s)),Ji(s)&&bj(s,r);let o=t.type;if(o&8)Yh(n,e,t.child,r);else if(o&32){let a=__(t,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=oA(e,t);if(Array.isArray(a))r.push(...a);else{let l=Xo(e[Or]);Yh(l[Ce],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function bj(n,e){for(let t=pn;t<n.length;t++){let r=n[t],i=r[Ce].firstChild;i!==null&&Yh(r[Ce],r,i,e)}n[Qo]!==n[Zi]&&e.push(n[Qo])}function aA(n){if(n[_l]!==null){for(let e of n[_l])e.impl.addSequence(e);n[_l].length=0}}var lA=[];function Ej(n){return n[cr]??Ij(n)}function Ij(n){let e=lA.pop()??Object.create(Tj);return e.lView=n,e}function Sj(n){n.lView[cr]!==n&&(n.lView=null,lA.push(n))}var Tj=ce(G({},il),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Nl(n.lView)},consumerOnSignalRead(){this.lView[cr]=this}});function Cj(n){let e=n[cr]??Object.create(Dj);return e.lView=n,e}var Dj=ce(G({},il),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Xo(n.lView);for(;e&&!cA(e[Ce]);)e=Xo(e);e&&ZD(e)},consumerOnSignalRead(){this.lView[cr]=this}});function cA(n){return n.type!==2}function uA(n){if(n[Yo]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Yo])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[be]&8192)}}var xj=100;function dA(n,e=!0,t=0){let i=n[Ki].rendererFactory,s=!1;s||i.begin?.();try{Aj(n,t)}catch(o){throw e&&rj(n,o),o}finally{s||i.end?.()}}function Aj(n,e){let t=rx();try{jh(!0),aw(n,e);let r=0;for(;cp(n);){if(r===xj)throw new ue(103,!1);r++,aw(n,1)}}finally{jh(t)}}function Mj(n,e,t,r){if(Pl(e))return;let i=e[be],s=!1,o=!1;Xw(e);let a=!0,l=null,c=null;s||(cA(n)?(c=Ej(e),l=uu(c)):Qv()===null?(a=!1,c=Cj(e),l=uu(c)):e[cr]&&(du(e[cr]),e[cr]=null));try{XD(e),E2(n.bindingStartIndex),t!==null&&eA(n,e,t,2,r);let d=(i&3)===3;if(!s)if(d){let g=n.preOrderCheckHooks;g!==null&&Dh(e,g,null)}else{let g=n.preOrderHooks;g!==null&&xh(e,g,0,null),Ty(e,0)}if(o||Rj(e),uA(e),fA(e,0),n.contentQueries!==null&&Bx(n,e),!s)if(d){let g=n.contentCheckHooks;g!==null&&Dh(e,g)}else{let g=n.contentHooks;g!==null&&xh(e,g,1),Ty(e,1)}Pj(n,e);let f=n.components;f!==null&&pA(e,f,0);let m=n.viewQuery;if(m!==null&&iw(2,m,r),!s)if(d){let g=n.viewCheckHooks;g!==null&&Dh(e,g)}else{let g=n.viewHooks;g!==null&&xh(e,g,2),Ty(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Sy]){for(let g of e[Sy])g();e[Sy]=null}s||(aA(e),e[be]&=-73)}catch(d){throw s||Nl(e),d}finally{c!==null&&(zf(c,l),a&&Sj(c)),Zw()}}function fA(n,e){for(let t=Nx(n);t!==null;t=Ox(t))for(let r=pn;r<t.length;r++){let i=t[r];hA(i,e)}}function Rj(n){for(let e=Nx(n);e!==null;e=Ox(e)){if(!(e[be]&2))continue;let t=e[Tl];for(let r=0;r<t.length;r++){let i=t[r];ZD(i)}}}function kj(n,e,t){it(18);let r=ai(e,n);hA(r,t),it(19,r[Kt])}function hA(n,e){Gw(n)&&aw(n,e)}function aw(n,e){let r=n[Ce],i=n[be],s=n[cr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&qf(s)),o||=!1,s&&(s.dirty=!1),n[be]&=-9217,o)Mj(r,n,r.template,n[Kt]);else if(i&8192){uA(n),fA(n,1);let a=r.components;a!==null&&pA(n,a,1),aA(n)}}function pA(n,e,t){for(let r=0;r<e.length;r++)kj(n,e[r],t)}function Pj(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Zo(~i);else{let s=i,o=t[++r],a=t[++r];S2(o,s);let l=e[s];it(24,l),a(2,l),it(25,l)}}}finally{Zo(-1)}}function S_(n,e){let t=rx()?64:1088;for(n[Ki].changeDetectionScheduler?.notify(e);n;){n[be]|=t;let r=Xo(n);if(Uh(n)&&!r)return n;n=r}return null}function mA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function gA(n,e){let t=pn+e;if(t<n.length)return n[t]}function mp(n,e,t,r=!0){let i=e[Ce];if(Nj(i,e,n,t),r){let o=ow(t,n),a=e[Yt],l=a.parentNode(n[Qo]);l!==null&&cj(i,n[Vr],a,e,l,o)}let s=e[Iu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function vA(n,e){let t=Au(n,e);return t!==void 0&&hp(t[Ce],t),t}function Au(n,e){if(n.length<=pn)return;let t=pn+e,r=n[t];if(r){let i=r[Ko];i!==null&&i!==n&&b_(i,r),e>0&&(n[t-1][Nr]=r[Nr]);let s=Oh(n,pn+e);lj(r[Ce],r);let o=s[Yi];o!==null&&o.detachView(s[Ce]),r[gn]=null,r[Nr]=null,r[be]&=-129}return r}function Nj(n,e,t,r){let i=pn+r,s=t.length;r>0&&(t[i-1][Nr]=e),r<s-pn?(e[Nr]=t[i],ND(t,pn+r,e)):(t.push(e),e[Nr]=null),e[gn]=t;let o=e[Ko];o!==null&&t!==o&&yA(o,e);let a=e[Yi];a!==null&&a.insertView(n),qy(e),e[be]|=128}function yA(n,e){let t=n[Tl],r=e[gn];if(Us(r))n[be]|=2;else{let i=r[gn][Or];e[Or]!==i&&(n[be]|=2)}t===null?n[Tl]=[e]:t.push(e)}var Mu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Ce];return Yh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Kt]}set context(e){this._lView[Kt]=e}get destroyed(){return Pl(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gn];if(Ji(e)){let t=e[Vh],r=t?t.indexOf(this):-1;r>-1&&(Au(e,r),Oh(t,r))}this._attachedToViewContainer=!1}hp(this._lView[Ce],this._lView)}onDestroy(e){JD(this._lView,e)}markForCheck(){S_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[be]&=-129}reattach(){qy(this._lView),this._lView[be]|=128}detectChanges(){this._lView[be]|=1024,dA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Uh(this._lView),t=this._lView[Ko];t!==null&&!e&&b_(t,this._lView),sA(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=e;let t=Uh(this._lView),r=this._lView[Ko];r!==null&&!t&&yA(r,this._lView),qy(this._lView)}};var ea=(()=>{class n{static __NG_ELEMENT_ID__=Fj}return n})(),Oj=ea,Lj=class extends Oj{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=fp(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Mu(i)}};function Fj(){return T_(Vn(),Oe())}function T_(n,e){return n.type&4?new Lj(e,n,Ol(n,e)):null}function C_(n,e,t,r,i){let s=n.data[e];if(s===null)s=Vj(n,e,t,r,i),I2()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=y2();s.injectorIndex=o===null?-1:o.injectorIndex}return Ou(s,!0),s}function Vj(n,e,t,r,i){let s=tx(),o=nx(),a=o?s:s&&s.parent,l=n.data[e]=jj(n,a,t,e,r,i);return Uj(n,l,s,o),l}function Uj(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function jj(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return m2()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var $ne=new RegExp(`^(\\d+)*(${dU}|${uU})*(.*)`);var Bj=()=>null;function Ru(n,e){return Bj(n,e)}var $j=class{},wA=class{},lw=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Fn(e)}.`)}},gp=class{static NULL=new lw},Dl=class{},dr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Hj()}return n})();function Hj(){let n=Oe(),e=Vn(),t=ai(e.index,n);return(Us(t)?t:n)[Yt]}var zj=(()=>{class n{static \u0275prov=ie({token:n,providedIn:"root",factory:()=>null})}return n})();var xy={},cw=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=sp(r);let i=this.injector.get(e,xy,r);return i!==xy||t===xy?i:this.parentInjector.get(e,t,r)}};function iD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Fy(i,a);else if(s==2){let l=a,c=e[++o];r=Fy(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function me(n,e=Me.Default){let t=Oe();if(t===null)return we(n,e);let r=Vn();return _x(r,t,An(n),e)}function _A(){let n="invalid";throw new Error(n)}function bA(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a,l=null,c=null,d=Gj(o);d===null?a=o:[a,l,c]=d,Yj(n,e,t,a,s,l,c)}s!==null&&r!==null&&qj(t,r,s)}function qj(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new ue(-301,!1);r.push(e[i],s)}}function Gj(n){let e=null,t=!1;for(let o=0;o<n.length;o++){let a=n[o];if(o===0&&si(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,s=null;for(let o of n)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,Wj(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,s]):null}function Wj(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function Kj(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Yj(n,e,t,r,i,s,o){let a=r.length,l=!1;for(let m=0;m<a;m++){let g=r[m];!l&&si(g)&&(l=!0,Kj(n,t,m)),Yy(zh(t,e),n,g.type)}tB(t,n.data.length,a);for(let m=0;m<a;m++){let g=r[m];g.providersResolver&&g.providersResolver(g)}let c=!1,d=!1,f=Zx(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let g=r[m];if(t.mergedAttrs=Tu(t.mergedAttrs,g.hostAttrs),Xj(n,t,e,f,g),eB(f,g,i),o!==null&&o.has(g)){let[v,w]=o.get(g);t.directiveToIndex.set(g.type,[f,v+t.directiveStart,w+t.directiveStart])}else(s===null||!s.has(g))&&t.directiveToIndex.set(g.type,f);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let h=g.type.prototype;!c&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!d&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}Qj(n,t,s)}function Qj(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))sD(0,e,i,r),sD(1,e,i,r),aD(e,r,!1);else{let s=t.get(i);oD(0,e,s,r),oD(1,e,s,r),aD(e,r,!0)}}}function sD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),EA(e,s)}}function oD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),EA(e,o)}}function EA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function aD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||h_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let d of c)if(d===e){o??=[],o.push(l,r[a+1]);break}}else if(t&&s.hasOwnProperty(l)){let c=s[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){o??=[],o.push(c[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function Xj(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=qo(i.type,!0)),o=new Jo(s,si(i),me);n.blueprint[r]=o,t[r]=o,Zj(n,e,r,Zx(n,t,i.hostVars,Un),i)}function Zj(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;Jj(o)!=a&&o.push(a),o.push(t,r,s)}}function Jj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function eB(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;si(e)&&(t[""]=n)}}function tB(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function IA(n,e,t,r,i,s,o,a){let l=e.consts,c=Cl(l,o),d=C_(e,n,2,r,c);return s&&bA(e,t,d,Cl(l,a),i),d.mergedAttrs=Tu(d.mergedAttrs,d.attrs),d.attrs!==null&&iD(d,d.attrs,!1),d.mergedAttrs!==null&&iD(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function SA(n,e){dx(n,e),qD(e)&&n.queries.elementEnd(e)}var Qh=class extends gp{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Wo(e);return new xl(t,this.ngModule)}};function nB(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&dp.SignalBased)!==0};return i&&(s.transform=i),s})}function rB(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function iB(n,e,t){let r=e instanceof mn?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new cw(t,r):t}function sB(n){let e=n.get(Dl,null);if(e===null)throw new ue(407,!1);let t=n.get(zj,null),r=n.get(js,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function oB(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Kx(e,t,t==="svg"?i2:t==="math"?s2:null)}var xl=class extends wA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=nB(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=rB(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=LU(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){it(22);let s=ke(null);try{let o=this.componentDef,a=r?["ng-version","19.2.14"]:FU(this.componentDef.selectors[0]),l=p_(0,null,null,1,0,null,null,null,null,[a],null),c=iB(o,i||this.ngModule,e),d=sB(c),f=d.rendererFactory.createRenderer(null,o),m=r?GU(f,r,o.encapsulation,c):oB(o,f),g=m_(null,l,null,512|Xx(o),null,null,d,f,c,null,jx(m,c,!0));g[vn]=m,Xw(g);let h=null;try{let v=IA(vn,l,g,"#host",()=>[this.componentDef],!0,0);m&&(Qx(f,m,v),Vu(m,g)),v_(l,g,v),$x(l,v,g),SA(l,v),t!==void 0&&aB(v,this.ngContentSelectors,t),h=ai(v.index,g),g[Kt]=h[Kt],w_(l,g,null)}catch(v){throw h!==null&&tw(h),tw(g),v}finally{it(23),Zw()}return new uw(this.componentType,g)}finally{ke(s)}}},uw=class extends $j{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=zw(t[Ce],vn),this.location=Ol(this._tNode,t),this.instance=ai(this._tNode.index,t)[Kt],this.hostView=this.changeDetectorRef=new Mu(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=y_(r,i[Ce],i,e,t);this.previousInputValues.set(e,t);let o=ai(r.index,i);S_(o,1)}get injector(){return new zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function aB(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Bs=(()=>{class n{static __NG_ELEMENT_ID__=lB}return n})();function lB(){let n=Vn();return CA(n,Oe())}var cB=Bs,TA=class extends cB{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ol(this._hostTNode,this._hostLView)}get injector(){return new zo(this._hostTNode,this._hostLView)}get parentInjector(){let e=n_(this._hostTNode,this._hostLView);if(px(e)){let t=$h(e,this._hostLView),r=Bh(e),i=t[Ce].data[r+8];return new zo(i,t)}else return new zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=lD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ru(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,xu(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!e2(e),a;if(o)a=t;else{let h=t||{};a=h.index,r=h.injector,i=h.projectableNodes,s=h.environmentInjector||h.ngModuleRef}let l=o?e:new xl(Wo(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let v=(o?c:this.parentInjector).get(mn,null);v&&(s=v)}let d=Wo(l.componentType??{}),f=Ru(this._lContainer,d?.id??null),m=f?.firstChild??null,g=l.create(c,i,m,s);return this.insertImpl(g.hostView,a,xu(this._hostTNode,f)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(l2(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[gn],c=new TA(l,l[Vr],l[gn]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return mp(o,i,s,r),e.attachToViewContainerRef(),ND(Ay(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=lD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Au(this._lContainer,t);r&&(Oh(Ay(this._lContainer),t),hp(r[Ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=Au(this._lContainer,t);return r&&Oh(Ay(this._lContainer),t)!=null?new Mu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function lD(n){return n[Vh]}function Ay(n){return n[Vh]||(n[Vh]=[])}function CA(n,e){let t,r=e[n.index];return Ji(r)?t=r:(t=mA(r,e,null,n),e[n.index]=t,g_(e,t)),dB(t,e,n,r),new TA(t,n,e)}function uB(n,e){let t=n[Yt],r=t.createComment(""),i=di(e,n),s=t.parentNode(i);return Kh(t,s,r,t.nextSibling(i),!1),r}var dB=pB,fB=()=>!1;function hB(n,e,t){return fB(n,e,t)}function pB(n,e,t,r){if(n[Qo])return;let i;t.type&8?i=oi(r):i=uB(e,t),n[Qo]=i}var dw=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},fw=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)D_(e,t).matches!==null&&this.queries[t].setDirty()}},Xh=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=EB(e):this.predicate=e}},hw=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},pw=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,mB(t,s)),this.matchTNodeWithReadOption(e,t,Ah(t,e,s,!1,!1))}else r===ea?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ah(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===wn||i===Bs||i===ea&&t.type&4)this.addMatch(t.index,-2);else{let s=Ah(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function mB(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function gB(n,e){return n.type&11?Ol(n,e):n.type&4?T_(n,e):null}function vB(n,e,t,r){return t===-1?gB(e,n):t===-2?yB(n,e,r):Cu(n,n[Ce],t,e)}function yB(n,e,t){if(t===wn)return Ol(e,n);if(t===ea)return T_(e,n);if(t===Bs)return CA(e,n)}function DA(n,e,t,r){let i=e[Yi].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(vB(e,d,o[l+1],t.metadata.read))}}i.matches=a}return i.matches}function mw(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=DA(n,e,i,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let c=s[a+1],d=e[-l];for(let f=pn;f<d.length;f++){let m=d[f];m[Ko]===m[gn]&&mw(m[Ce],m,c,r)}if(d[Tl]!==null){let f=d[Tl];for(let m=0;m<f.length;m++){let g=f[m];mw(g[Ce],g,c,r)}}}}}return r}function wB(n,e){return n[Yi].queries[e].queryList}function xA(n,e,t){let r=new ew((t&4)===4);return d2(n,e,r,r.destroy),(e[Yi]??=new fw).queries.push(new dw(r))-1}function _B(n,e,t){let r=tn();return r.firstCreatePass&&(AA(r,new Xh(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),xA(r,Oe(),e)}function bB(n,e,t,r){let i=tn();if(i.firstCreatePass){let s=Vn();AA(i,new Xh(e,t,r),s.index),IB(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return xA(i,Oe(),t)}function EB(n){return n.split(",").map(e=>e.trim())}function AA(n,e,t){n.queries===null&&(n.queries=new hw),n.queries.track(new pw(e,t))}function IB(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function D_(n,e){return n.queries.getByIndex(e)}function SB(n,e){let t=n[Ce],r=D_(t,e);return r.crossesNgTemplate?mw(t,n,e,[]):DA(t,n,r,e)}var Al=class{},x_=class{};var gw=class extends Al{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Qh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=FD(e);this._bootstrapComponents=Gx(s.bootstrap),this._r3Injector=Ix(e,t,[{provide:Al,useValue:this},{provide:gp,useValue:this.componentFactoryResolver},...r],Fn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vw=class extends x_{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new gw(this.moduleType,e,[])}};var Zh=class extends Al{injector;componentFactoryResolver=new Qh(this);instance=null;constructor(e){super();let t=new Eu([...e.providers,{provide:Al,useValue:this},{provide:gp,useValue:this.componentFactoryResolver}],e.parent||$w(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ju(n,e,t=null){return new Zh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var TB=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=VD(!1,t.type),i=r.length>0?ju([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ie({token:n,providedIn:"environment",factory:()=>new n(we(mn))})}return n})();function Ke(n){return Pu(()=>{let e=MA(n),t=ce(G({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===kx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(TB).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ci.Emulated,styles:n.styles||Ln,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&aa("NgStandalone"),RA(t);let r=n.dependencies;return t.directiveDefs=cD(r,!1),t.pipeDefs=cD(r,!0),t.id=MB(t),t})}function CB(n){return Wo(n)||$V(n)}function DB(n){return n!==null}function fi(n){return Pu(()=>({type:n.type,bootstrap:n.bootstrap||Ln,declarations:n.declarations||Ln,imports:n.imports||Ln,exports:n.exports||Ln,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xB(n,e){if(n==null)return Go;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,l;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,a=dp.None,l=null),t[s]=[r,a,l],e[s]=o}return t}function AB(n){if(n==null)return Go;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function It(n){return Pu(()=>{let e=MA(n);return RA(e),e})}function A_(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function MA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Go,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Ln,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xB(n.inputs,e),outputs:AB(n.outputs),debugInfo:null}}function RA(n){n.features?.forEach(e=>e(n))}function cD(n,e){if(!n)return null;let t=e?HV:CB;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(DB)}function MB(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function RB(n){return Object.getPrototypeOf(n.prototype).constructor}function jr(n){let e=RB(n.type),t=!0,r=[n];for(;e;){let i;if(si(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ue(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=My(n.inputs),o.declaredInputs=My(n.declaredInputs),o.outputs=My(n.outputs);let a=i.hostBindings;a&&LB(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&NB(n,l),c&&OB(n,c),kB(n,i),_V(n.outputs,i.outputs),si(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===jr&&(t=!1)}}e=Object.getPrototypeOf(e)}PB(r)}function kB(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function PB(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Tu(i.hostAttrs,t=Tu(t,i.hostAttrs))}}function My(n){return n===Go?{}:n===Ln?[]:n}function NB(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function OB(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function LB(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function kA(n){return VB(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function FB(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function VB(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function vp(n,e,t){return n[e]=t}function UB(n,e){return n[e]}function Lr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function M_(n,e,t,r){let i=Lr(n,e,t);return Lr(n,e+1,r)||i}function jB(n,e,t,r,i){let s=M_(n,e,t,r);return Lr(n,e+2,i)||s}function BB(n,e,t,r,i,s,o,a,l){let c=e.consts,d=C_(e,n,4,o||null,a||null);ex()&&bA(e,t,d,Cl(c,l),rA),d.mergedAttrs=Tu(d.mergedAttrs,d.attrs),dx(e,d);let f=d.tView=p_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function yw(n,e,t,r,i,s,o,a,l,c){let d=t+vn,f=e.firstCreatePass?BB(d,e,n,r,i,s,o,a,l):e.data[d];Ou(f,!1);let m=$B(e,n,f,t);e_()&&E_(e,n,m,f),Vu(m,n);let g=mA(m,n,m,f);return n[d]=g,g_(n,g),hB(g,f,n),Hw(f)&&v_(e,n,f),l!=null&&tA(n,f,c),f}function se(n,e,t,r,i,s,o,a){let l=Oe(),c=tn(),d=Cl(c.consts,s);return yw(l,c,n,e,t,r,i,d,o,a),se}var $B=HB;function HB(n,e,t,r){return t_(!0),e[Yt].createComment("")}var PA=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var NA=new le("");var OA=(()=>{class n{static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new ww})}return n})(),ww=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function $s(n){return!!n&&typeof n.then=="function"}function R_(n){return!!n&&typeof n.subscribe=="function"}var LA=new le("");function k_(n){return Fr([{provide:LA,multi:!0,useValue:n}])}var FA=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(LA,{optional:!0})??[];injector=F(vt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=yn(this.injector,i);if($s(s))t.push(s);else if(R_(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yp=new le("");function zB(){ty(()=>{throw new ue(600,!1)})}function qB(n){return n.isBoundToModule}var GB=10;var ta=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(J2);afterRenderManager=F(Ux);zonelessEnabled=F(Tx);rootEffectScheduler=F(OA);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Rt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=F(oa).hasPendingTasks.pipe(ye(t=>!t));constructor(){F(Ll,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(mn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=vt.NULL){it(10);let s=t instanceof wA;if(!this._injector.get(FA).done){let g="";throw new ue(405,g)}let a;s?a=t:a=this._injector.get(gp).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=qB(a)?void 0:this._injector.get(Al),c=r||a.selector,d=a.create(i,[],c,l),f=d.location.nativeElement,m=d.injector.get(NA,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Mh(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),it(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){it(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(c_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ue(101,!1);let t=ke(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ke(t),this.afterTick.next(),it(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Dl,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<GB;)it(14),this.synchronizeOnce(),it(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)WB(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>cp(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Mh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(yp,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Mh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ue(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function WB(n,e,t,r){if(!t&&!cp(n))return;dA(n,e,t&&!r?0:1)}function wp(n,e,t,r){let i=Oe(),s=Fu();if(Lr(i,s,e)){let o=tn(),a=Jw();ej(a,i,n,e,t,r)}return wp}function VA(n,e,t,r){return Lr(n,Fu(),t)?e+El(t)+r:Un}function KB(n,e,t,r,i,s){let o=b2(),a=M_(n,o,t,i);return Yw(2),a?e+El(t)+r+El(i)+s:Un}function Th(n,e){return n<<17|e<<2}function na(n){return n>>17&32767}function YB(n){return(n&2)==2}function QB(n,e){return n&131071|e<<17}function _w(n){return n|2}function Ml(n){return(n&131068)>>2}function Ry(n,e){return n&-131069|e<<2}function XB(n){return(n&1)===1}function bw(n){return n|1}function ZB(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=na(o),l=Ml(o);n[r]=t;let c=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||Nu(f,d)>0)&&(c=!0)}else d=t;if(i)if(l!==0){let m=na(n[a+1]);n[r+1]=Th(m,a),m!==0&&(n[m+1]=Ry(n[m+1],r)),n[a+1]=QB(n[a+1],r)}else n[r+1]=Th(a,0),a!==0&&(n[a+1]=Ry(n[a+1],r)),a=r;else n[r+1]=Th(l,0),a===0?a=r:n[l+1]=Ry(n[l+1],r),l=r;c&&(n[r+1]=_w(n[r+1])),uD(n,d,r,!0),uD(n,d,r,!1),JB(e,d,n,r,s),o=Th(a,l),s?e.classBindings=o:e.styleBindings=o}function JB(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Nu(s,e)>=0&&(t[r+1]=bw(t[r+1]))}function uD(n,e,t,r){let i=n[t+1],s=e===null,o=r?na(i):Ml(i),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];e$(l,e)&&(a=!0,n[o+1]=r?bw(c):_w(c)),o=r?na(c):Ml(c)}a&&(n[t+1]=r?_w(i):bw(i))}function e$(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Nu(n,e)>=0:!1}var Pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function t$(n){return n.substring(Pr.key,Pr.keyEnd)}function n$(n){return r$(n),UA(n,jA(n,0,Pr.textEnd))}function UA(n,e){let t=Pr.textEnd;return t===e?-1:(e=Pr.keyEnd=i$(n,Pr.key=e,t),jA(n,e,t))}function r$(n){Pr.key=0,Pr.keyEnd=0,Pr.value=0,Pr.valueEnd=0,Pr.textEnd=n.length}function jA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function i$(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function q(n,e,t){let r=Oe(),i=Fu();if(Lr(r,i,e)){let s=tn(),o=Jw();nA(s,o,r,n,e,r[Yt],t,!1)}return q}function Ew(n,e,t,r,i){y_(e,n,t,i?"class":"style",r)}function P_(n,e,t){return $A(n,e,t,!1),P_}function Je(n,e){return $A(n,e,null,!0),Je}function BA(n){o$(f$,s$,n,!0)}function s$(n,e){for(let t=n$(e);t>=0;t=UA(e,t))jw(n,t$(e),!0)}function $A(n,e,t,r){let i=Oe(),s=tn(),o=Yw(2);if(s.firstUpdatePass&&zA(s,n,o,r),e!==Un&&Lr(i,o,e)){let a=s.data[es()];qA(s,a,i,i[Yt],n,i[o+1]=p$(e,t),r,o)}}function o$(n,e,t,r){let i=tn(),s=Yw(2);i.firstUpdatePass&&zA(i,null,s,r);let o=Oe();if(t!==Un&&Lr(o,s,t)){let a=i.data[es()];if(GA(a,r)&&!HA(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Fy(l,t||"")),Ew(i,a,o,t,r)}else h$(i,a,o,o[Yt],o[s+1],o[s+1]=d$(n,e,t),r,s)}}function HA(n,e){return e>=n.expandoStartIndex}function zA(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[es()],o=HA(n,t);GA(s,r)&&e===null&&!o&&(e=!1),e=a$(i,s,e,r),ZB(i,s,e,t,o,r)}}function a$(n,e,t,r){let i=C2(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ky(null,n,e,t,r),t=ku(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=ky(i,n,e,t,r),s===null){let l=l$(n,e,r);l!==void 0&&Array.isArray(l)&&(l=ky(null,n,e,l[1],r),l=ku(l,e.attrs,r),c$(n,e,r,l))}else s=u$(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function l$(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ml(r)!==0)return n[na(r)]}function c$(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[na(i)]=r}function u$(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=ku(r,o,t)}return ku(r,e.attrs,t)}function ky(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=ku(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ku(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),jw(n,o,t?!0:e[++s]))}return n===void 0?null:n}function d$(n,e,t){if(t==null||t==="")return Ln;let r=[],i=Uu(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function f$(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&jw(n,r,t)}function h$(n,e,t,r,i,s,o,a){i===Un&&(i=Ln);let l=0,c=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let m=l<i.length?i[l+1]:void 0,g=c<s.length?s[c+1]:void 0,h=null,v;d===f?(l+=2,c+=2,m!==g&&(h=f,v=g)):f===null||d!==null&&d<f?(l+=2,h=d):(c+=2,h=f,v=g),h!==null&&qA(n,e,t,r,h,v,o,a),d=l<i.length?i[l]:null,f=c<s.length?s[c]:null}}function qA(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=XB(c)?dD(l,e,t,i,Ml(c),o):void 0;if(!Jh(d)){Jh(s)||YB(c)&&(s=dD(l,null,t,i,a,o));let f=QD(es(),t);_j(r,o,f,i,s)}}function dD(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),d=c?l[1]:l,f=d===null,m=t[i+1];m===Un&&(m=f?Ln:void 0);let g=f?Ey(m,r):d===r?m:void 0;if(c&&!Jh(g)&&(g=Ey(l,r)),Jh(g)&&(a=g,o))return a;let h=n[i+1];i=o?na(h):Ml(h)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Ey(l,r))}return a}function Jh(n){return n!==void 0}function p$(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Fn(Uu(n)))),n}function GA(n,e){return(n.flags&(e?8:16))!==0}var Iw=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function Py(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function m$(n,e,t){let r,i,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;s<=o&&s<=l;){let c=n.at(s),d=e[s],f=Py(s,c,s,d,t);if(f!==0){f<0&&n.updateValue(s,d),s++;continue}let m=n.at(o),g=e[l],h=Py(o,m,l,g,t);if(h!==0){h<0&&n.updateValue(o,g),o--,l--;continue}let v=t(s,c),w=t(o,m),D=t(s,d);if(Object.is(D,w)){let I=t(l,g);Object.is(I,v)?(n.swap(s,o),n.updateValue(o,g),l--,o--):n.move(o,s),n.updateValue(s,d),s++;continue}if(r??=new ep,i??=hD(n,s,o,t),Sw(n,r,s,D))n.updateValue(s,d),s++,o++;else if(i.has(D))r.set(v,n.detach(s)),o--;else{let I=n.create(s,e[s]);n.attach(s,I),s++,o++}}for(;s<=l;)fD(n,r,t,s,e[s]),s++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&s<=o;){let d=n.at(s),f=c.value,m=Py(s,d,s,f,t);if(m!==0)m<0&&n.updateValue(s,f),s++,c=l.next();else{r??=new ep,i??=hD(n,s,o,t);let g=t(s,f);if(Sw(n,r,s,g))n.updateValue(s,f),s++,o++,c=l.next();else if(!i.has(g))n.attach(s,n.create(s,f)),s++,o++,c=l.next();else{let h=t(s,d);r.set(h,n.detach(s)),o--}}}for(;!c.done;)fD(n,r,t,n.length,c.value),c=l.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(l=>{n.destroy(l)})}function Sw(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function fD(n,e,t,r,i){if(Sw(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function hD(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var ep=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function xt(n,e){aa("NgControlFlow");let t=Oe(),r=Fu(),i=t[r]!==Un?t[r]:-1,s=i!==-1?tp(t,vn+i):void 0,o=0;if(Lr(t,r,n)){let a=ke(null);try{if(s!==void 0&&vA(s,o),n!==-1){let l=vn+n,c=tp(t,l),d=xw(t[Ce],l),f=Ru(c,d.tView.ssrId),m=fp(t,d,e,{dehydratedView:f});mp(c,m,o,xu(d,f))}}finally{ke(a)}}else if(s!==void 0){let a=gA(s,o);a!==void 0&&(a[Kt]=e)}}var Tw=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-pn}};function la(n,e){return e}var Cw=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function ts(n,e,t,r,i,s,o,a,l,c,d,f,m){aa("NgControlFlow");let g=Oe(),h=tn(),v=l!==void 0,w=Oe(),D=a?o.bind(w[Or][Kt]):o,I=new Cw(v,D);w[vn+n]=I,yw(g,h,n+1,e,t,r,i,Cl(h.consts,s)),v&&yw(g,h,n+2,l,c,d,f,Cl(h.consts,m))}var Dw=class extends Iw{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-pn}at(e){return this.getLView(e)[Kt].$implicit}attach(e,t){let r=t[Iu];this.needsIndexUpdate||=e!==this.length,mp(this.lContainer,t,e,xu(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,g$(this.lContainer,e)}create(e,t){let r=Ru(this.lContainer,this.templateTNode.tView.ssrId),i=fp(this.hostLView,this.templateTNode,new Tw(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){hp(e[Ce],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Kt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Kt].$index=e}getLView(e){return v$(this.lContainer,e)}};function ns(n){let e=ke(null),t=es();try{let r=Oe(),i=r[Ce],s=r[t],o=t+1,a=tp(r,o);if(s.liveCollection===void 0){let c=xw(i,o);s.liveCollection=new Dw(a,r,c)}else s.liveCollection.reset();let l=s.liveCollection;if(m$(l,n,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let c=Fu(),d=l.length===0;if(Lr(r,c,d)){let f=t+2,m=tp(r,f);if(d){let g=xw(i,f),h=Ru(m,g.tView.ssrId),v=fp(r,g,void 0,{dehydratedView:h});mp(m,v,0,xu(g,h))}else vA(m,0)}}}finally{ke(e)}}function tp(n,e){return n[e]}function g$(n,e){return Au(n,e)}function v$(n,e){return gA(n,e)}function xw(n,e){return zw(n,e)}function T(n,e,t,r){let i=Oe(),s=tn(),o=vn+n,a=i[Yt],l=s.firstCreatePass?IA(o,s,i,e,rA,ex(),t,r):s.data[o],c=y$(s,i,l,a,e,n);i[o]=c;let d=Hw(l);return Ou(l,!0),Qx(a,c,l),!iA(l)&&e_()&&E_(s,i,c,l),(f2()===0||d)&&Vu(c,i),h2(),d&&(v_(s,i,l),$x(s,l,i)),r!==null&&tA(i,l),T}function A(){let n=Vn();nx()?w2():(n=n.parent,Ou(n,!1));let e=n;g2(e)&&v2(),p2();let t=tn();return t.firstCreatePass&&SA(t,e),e.classesWithoutHost!=null&&k2(e)&&Ew(t,e,Oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&P2(e)&&Ew(t,e,Oe(),e.stylesWithoutHost,!1),A}function fe(n,e,t,r){return T(n,e,t,r),A(),fe}var y$=(n,e,t,r,i,s)=>(t_(!0),Kx(r,i,A2()));function xe(){return Oe()}var Bo=void 0;function w$(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var _$=["en",[["a","p"],["AM","PM"],Bo],[["AM","PM"],Bo,Bo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bo,"{1} 'at' {0}",Bo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",w$],Ny={};function fr(n){let e=b$(n),t=pD(e);if(t)return t;let r=e.split("-")[0];if(t=pD(r),t)return t;if(r==="en")return _$;throw new ue(701,!1)}function pD(n){return n in Ny||(Ny[n]=$o.ng&&$o.ng.common&&$o.ng.common.locales&&$o.ng.common.locales[n]),Ny[n]}var Lt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Lt||{});function b$(n){return n.toLowerCase().replace(/_/g,"-")}var np="en-US";var E$=np;function I$(n){typeof n=="string"&&(E$=n.toLowerCase().replace(/_/g,"-"))}function mD(n,e,t){return function r(i){if(i===Function)return t;let s=kl(n)?ai(n.index,e):e;S_(s,5);let o=e[Kt],a=gD(e,o,t,i),l=r.__ngNextListenerFn__;for(;l;)a=gD(e,o,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function gD(n,e,t,r){let i=ke(null);try{return it(6,e,t),t(r)!==!1}catch(s){return S$(n,s),!1}finally{it(7,e,t),ke(i)}}function S$(n,e){let t=n[Sl],r=t?t.get(li,null):null;r&&r.handleError(e)}function vD(n,e,t,r,i,s){let o=e[t],a=e[Ce],c=a.data[t].outputs[r],d=o[c],f=a.firstCreatePass?Kw(a):null,m=Ww(e),g=d.subscribe(s),h=m.length;m.push(s,g),f&&f.push(i,n.index,h,-(h+1))}function ne(n,e,t,r){let i=Oe(),s=tn(),o=Vn();return C$(s,i,i[Yt],o,n,e,r),ne}function T$(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Fh],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function C$(n,e,t,r,i,s,o){let a=Hw(r),c=n.firstCreatePass?Kw(n):null,d=Ww(e),f=!0;if(r.type&3||o){let m=di(r,e),g=o?o(m):m,h=d.length,v=o?D=>o(oi(D[r.index])):r.index,w=null;if(!o&&a&&(w=T$(n,e,i,r.index)),w!==null){let D=w.__ngLastListenerFn__||w;D.__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,f=!1}else{s=mD(r,e,s),wU(e,g,i,s);let D=t.listen(g,i,s);d.push(s,D),c&&c.push(i,v,h,h+1)}}else s=mD(r,e,s);if(f){let m=r.outputs?.[i],g=r.hostDirectiveOutputs?.[i];if(g&&g.length)for(let h=0;h<g.length;h+=2){let v=g[h],w=g[h+1];vD(r,e,v,w,i,s)}if(m&&m.length)for(let h of m)vD(r,e,h,i,i,s)}}function Z(n=1){return x2(n)}function N_(n,e,t){return WA(n,"",e,"",t),N_}function WA(n,e,t,r,i){let s=Oe(),o=VA(s,e,t,r);if(o!==Un){let a=tn(),l=Jw();nA(a,l,s,n,o,s[Yt],i,!1)}return WA}function KA(n,e,t,r){bB(n,e,t,r)}function Bu(n,e,t){_B(n,e,t)}function ca(n){let e=Oe(),t=tn(),r=ix();Qw(r+1);let i=D_(t,r);if(n.dirty&&a2(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=SB(e,r);n.reset(s,nU),n.notifyOnChanges()}return!0}return!1}function ua(){return wB(Oe(),ix())}function YA(n){let e=_2();return qw(e,vn+n)}function N(n,e=""){let t=Oe(),r=tn(),i=n+vn,s=r.firstCreatePass?C_(r,i,1,e,null):r.data[i],o=D$(r,t,s,e,n);t[i]=o,e_()&&E_(r,t,o,s),Ou(s,!1)}var D$=(n,e,t,r,i)=>(t_(!0),VU(e[Yt],r));function ze(n){return Le("",n,""),ze}function Le(n,e,t){let r=Oe(),i=VA(r,n,e,t);return i!==Un&&QA(r,es(),i),Le}function O_(n,e,t,r,i){let s=Oe(),o=KB(s,n,e,t,r,i);return o!==Un&&QA(s,es(),o),O_}function QA(n,e,t){let r=QD(e,n);UU(n[Yt],r,t)}function x$(n,e,t){let r=tn();if(r.firstCreatePass){let i=si(n);Aw(t,r.data,r.blueprint,i,!0),Aw(e,r.data,r.blueprint,i,!1)}}function Aw(n,e,t,r,i){if(n=An(n),Array.isArray(n))for(let s=0;s<n.length;s++)Aw(n[s],e,t,r,i);else{let s=tn(),o=Oe(),a=Vn(),l=Il(n)?n:An(n.provide),c=BD(n),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Il(n)||!n.multi){let g=new Jo(c,i,me),h=Ly(l,e,i?d:d+m,f);h===-1?(Yy(zh(a,o),s,l),Oy(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),o.push(g)):(t[h]=g,o[h]=g)}else{let g=Ly(l,e,d+m,f),h=Ly(l,e,d,d+m),v=g>=0&&t[g],w=h>=0&&t[h];if(i&&!w||!i&&!v){Yy(zh(a,o),s,l);let D=R$(i?M$:A$,t.length,i,r,c);!i&&w&&(t[h].providerFactory=D),Oy(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(D),o.push(D)}else{let D=XA(t[i?h:g],c,!i&&r);Oy(s,n,g>-1?g:h,D)}!i&&r&&w&&t[h].componentProviders++}}}function Oy(n,e,t,r){let i=Il(e),s=KV(e);if(i||s){let l=(s?An(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[r,l]):c[d+1].push(r,l)}else c.push(t,l)}}}function XA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ly(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function A$(n,e,t,r,i){return Mw(this.multi,[])}function M$(n,e,t,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Cu(r,r[Ce],this.providerFactory.index,i);o=l.slice(0,a),Mw(s,o);for(let c=a;c<l.length;c++)o.push(l[c])}else o=[],Mw(s,o);return o}function Mw(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function R$(n,e,t,r,i){let s=new Jo(n,t,me);return s.multi=[],s.index=e,s.componentProviders=0,XA(s,i,r&&!t),s}function da(n,e=[]){return t=>{t.providersResolver=(r,i)=>x$(r,i?i(n):n,e)}}function L_(n,e,t){let r=Lu()+n,i=Oe();return i[r]===Un?vp(i,r,t?e.call(t):e()):UB(i,r)}function Fl(n,e,t,r){return JA(Oe(),Lu(),n,e,t,r)}function ZA(n,e,t,r,i,s){return P$(Oe(),Lu(),n,e,t,r,i,s)}function F_(n,e){let t=n[e];return t===Un?void 0:t}function JA(n,e,t,r,i,s){let o=e+t;return Lr(n,o,i)?vp(n,o+1,s?r.call(s,i):r(i)):F_(n,o+1)}function k$(n,e,t,r,i,s,o){let a=e+t;return M_(n,a,i,s)?vp(n,a+2,o?r.call(o,i,s):r(i,s)):F_(n,a+2)}function P$(n,e,t,r,i,s,o,a){let l=e+t;return jB(n,l,i,s,o)?vp(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):F_(n,l+3)}function _n(n,e){let t=tn(),r,i=n+vn;t.firstCreatePass?(r=N$(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=qo(r.type,!0)),o,a=On(me);try{let l=Hh(!1),c=s();return Hh(l),o2(t,Oe(),i,c),c}finally{On(a)}}function N$(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function hi(n,e,t){let r=n+vn,i=Oe(),s=qw(i,r);return e1(i,r)?JA(i,Lu(),e,s.transform,t,s):s.transform(t)}function fa(n,e,t,r){let i=n+vn,s=Oe(),o=qw(s,i);return e1(s,i)?k$(s,Lu(),e,o.transform,t,r,o):o.transform(t,r)}function e1(n,e){return n[Ce].data[e].pure}var ra=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},t1=new ra("19.2.14"),Rw=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},n1=(()=>{class n{compileModuleSync(t){return new vw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=FD(t),s=Gx(i.declarations).reduce((o,a)=>{let l=Wo(a);return l&&o.push(new xl(l)),o},[]);return new Rw(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var O$=(()=>{class n{zone=F(We);changeDetectionScheduler=F(js);applicationRef=F(ta);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function L$({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new We(ce(G({},F$()),{scheduleInRootZone:t})),[{provide:We,useFactory:n},{provide:bu,multi:!0,useFactory:()=>{let r=F(O$,{optional:!0});return()=>r.initialize()}},{provide:bu,multi:!0,useFactory:()=>{let r=F(V$);return()=>{r.initialize()}}},e===!0?{provide:Cx,useValue:!0}:[],{provide:Dx,useValue:t??Sx}]}function F$(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var V$=(()=>{class n{subscription=new Ct;initialized=!1;zone=F(We);pendingTasks=F(oa);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var U$=(()=>{class n{appRef=F(ta);taskService=F(oa);ngZone=F(We);zonelessEnabled=F(Tx);tracing=F(Ll,{optional:!0});disableScheduling=F(Cx,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ct;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Gh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(Dx,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?KC:xx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Gh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,KC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j$(){return typeof $localize<"u"&&$localize.locale||np}var _p=new le("",{providedIn:"root",factory:()=>F(_p,Me.Optional|Me.SkipSelf)||j$()});var kw=new le(""),B$=new le("");function vu(n){return!n.moduleRef}function $$(n){let e=vu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(We);return t.run(()=>{vu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(li,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),vu(n)){let s=()=>e.destroy(),o=n.platformInjector.get(kw);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(kw);o.add(s),n.moduleRef.onDestroy(()=>{Mh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return z$(r,t,()=>{let s=e.get(FA);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(_p,np);if(I$(o||np),!e.get(B$,!0))return vu(n)?e.get(ta):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(vu(n)){let l=e.get(ta);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return H$(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function H$(n,e){let t=n.injector.get(ta);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ue(-403,!1);e.push(n)}function z$(n,e,t){try{let r=t();return $s(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Rh=null;function q$(n=[],e){return vt.create({name:e,providers:[{provide:op,useValue:"platform"},{provide:kw,useValue:new Set([()=>Rh=null])},...n]})}function G$(n=[]){if(Rh)return Rh;let e=q$(n);return Rh=e,zB(),W$(e),e}function W$(n){let e=n.get(a_,null);yn(n,()=>{e?.forEach(t=>t())})}function V_(){return!1}var hr=(()=>{class n{static __NG_ELEMENT_ID__=K$}return n})();function K$(n){return Y$(Vn(),Oe(),(n&16)===16)}function Y$(n,e,t){if(kl(n)&&!t){let r=ai(n.index,e);return new Mu(r,r)}else if(n.type&175){let r=e[Or];return new Mu(r,e)}return null}var Pw=class{constructor(){}supports(e){return kA(e)}create(e){return new Nw(e)}},Q$=(n,e)=>e,Nw=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Q$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<yD(r,i,s)?t:r,a=yD(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,d=l-i;if(c!=d){for(let m=0;m<c;m++){let g=m<s.length?s[m]:s[m]=0,h=g+m;d<=h&&h<c&&(s[m]=g+1)}let f=o.previousIndex;s[f]=d-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!kA(e))throw new ue(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,FB(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Ow(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new rp),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ow=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Lw=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},rp=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Lw,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function wD(){return new U_([new Pw])}var U_=(()=>{class n{factories;static \u0275prov=ie({token:n,providedIn:"root",factory:wD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||wD()),deps:[[n,new FV,new en]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ue(901,!1)}}return n})();function r1(n){it(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=G$(r),s=[L$({}),{provide:js,useExisting:U$},...t||[]],o=new Zh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return $$({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{it(9)}}function Vl(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function pr(n){return iy(n)}function Ul(n,e){return ey(n,e?.equal)}var Fw=class{[Dr];constructor(e){this[Dr]=e}destroy(){this[Dr].destroy()}};function Hs(n,e){!e?.injector&&ap(Hs);let t=e?.injector??F(vt),r=e?.manualCleanup!==!0?t.get(sa):null,i,s=t.get(u_,null,{optional:!0}),o=t.get(js);return s!==null&&!e?.forceRoot?(i=J$(s.view,o,n),r instanceof qh&&r._lView===s.view&&(r=null)):i=e3(n,t.get(OA),o),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Fw(i)}var i1=ce(G({},il),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Du,run(){if(this.dirty=!1,this.hasRun&&!qf(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=uu(this),t=jh(!1);try{this.maybeCleanup(),this.fn(n)}finally{jh(t),zf(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),X$=ce(G({},i1),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){du(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),Z$=ce(G({},i1),{consumerMarkedDirty(){this.view[be]|=8192,Nl(this.view),this.notifier.notify(13)},destroy(){du(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Yo]?.delete(this)}});function J$(n,e,t){let r=Object.create(Z$);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[Yo]??=new Set,n[Yo].add(r),r.consumerMarkedDirty(r),r}function e3(n,e,t){let r=Object.create(X$);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}function s1(n){let e=Wo(n);if(!e)return null;let t=new xl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var nn=new le("");var l1=null;function mr(){return l1}function j_(n){l1??=n}var $u=class{},Hu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(c1),providedIn:"platform"})}return n})(),B_=new le(""),c1=(()=>{class n extends Hu{_location;_history;_doc=F(nn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mr().getBaseHref(this._doc)}onPopState(t){let r=mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function bp(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function o1(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Br(n){return n&&n[0]!=="?"?`?${n}`:n}var $r=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(Ip),providedIn:"root"})}return n})(),Ep=new le(""),Ip=(()=>{class n extends $r{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(nn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bp(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Br(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Br(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Br(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(we(Hu),we(Ep,8))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zs=(()=>{class n{_subject=new Rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=r3(o1(a1(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Br(r))}normalize(t){return n.stripTrailingSlash(n3(this._basePath,a1(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Br(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Br;static joinWithSlash=bp;static stripTrailingSlash=o1;static \u0275fac=function(r){return new(r||n)(we($r))};static \u0275prov=ie({token:n,factory:()=>t3(),providedIn:"root"})}return n})();function t3(){return new zs(we($r))}function n3(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function a1(n){return n.replace(/\/index.html$/,"")}function r3(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var K_=(()=>{class n extends $r{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=bp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Br(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Br(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(we(Hu),we(Ep,8))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();var bn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(bn||{}),st=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(st||{}),jn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(jn||{}),is={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function p1(n){return fr(n)[Lt.LocaleId]}function m1(n,e,t){let r=fr(n),i=[r[Lt.DayPeriodsFormat],r[Lt.DayPeriodsStandalone]],s=gr(i,e);return gr(s,t)}function g1(n,e,t){let r=fr(n),i=[r[Lt.DaysFormat],r[Lt.DaysStandalone]],s=gr(i,e);return gr(s,t)}function v1(n,e,t){let r=fr(n),i=[r[Lt.MonthsFormat],r[Lt.MonthsStandalone]],s=gr(i,e);return gr(s,t)}function y1(n,e){let r=fr(n)[Lt.Eras];return gr(r,e)}function zu(n,e){let t=fr(n);return gr(t[Lt.DateFormat],e)}function qu(n,e){let t=fr(n);return gr(t[Lt.TimeFormat],e)}function Gu(n,e){let r=fr(n)[Lt.DateTimeFormat];return gr(r,e)}function Wu(n,e){let t=fr(n),r=t[Lt.NumberSymbols][e];if(typeof r>"u"){if(e===is.CurrencyDecimal)return t[Lt.NumberSymbols][is.Decimal];if(e===is.CurrencyGroup)return t[Lt.NumberSymbols][is.Group]}return r}function w1(n){if(!n[Lt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Lt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _1(n){let e=fr(n);return w1(e),(e[Lt.ExtraData][2]||[]).map(r=>typeof r=="string"?$_(r):[$_(r[0]),$_(r[1])])}function b1(n,e,t){let r=fr(n);w1(r);let i=[r[Lt.ExtraData][0],r[Lt.ExtraData][1]],s=gr(i,e)||[];return gr(s,t)||[]}function gr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function $_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var i3=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Sp={},s3=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function E1(n,e,t,r){let i=p3(n);e=rs(t,e)||e;let o=[],a;for(;e;)if(a=s3.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let l=i.getTimezoneOffset();r&&(l=S1(r,l),i=h3(i,r));let c="";return o.forEach(d=>{let f=d3(d);c+=f?f(i,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Ap(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function rs(n,e){let t=p1(n);if(Sp[t]??={},Sp[t][e])return Sp[t][e];let r="";switch(e){case"shortDate":r=zu(n,jn.Short);break;case"mediumDate":r=zu(n,jn.Medium);break;case"longDate":r=zu(n,jn.Long);break;case"fullDate":r=zu(n,jn.Full);break;case"shortTime":r=qu(n,jn.Short);break;case"mediumTime":r=qu(n,jn.Medium);break;case"longTime":r=qu(n,jn.Long);break;case"fullTime":r=qu(n,jn.Full);break;case"short":let i=rs(n,"shortTime"),s=rs(n,"shortDate");r=Tp(Gu(n,jn.Short),[i,s]);break;case"medium":let o=rs(n,"mediumTime"),a=rs(n,"mediumDate");r=Tp(Gu(n,jn.Medium),[o,a]);break;case"long":let l=rs(n,"longTime"),c=rs(n,"longDate");r=Tp(Gu(n,jn.Long),[l,c]);break;case"full":let d=rs(n,"fullTime"),f=rs(n,"fullDate");r=Tp(Gu(n,jn.Full),[d,f]);break}return r&&(Sp[t][e]=r),r}function Tp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Hr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function o3(n,e){return Hr(n,3).substring(0,e)}function jt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=a3(n,s);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return o3(a,e);let l=Wu(o,is.MinusSign);return Hr(a,e,l,r,i)}}function a3(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function ht(n,e,t=bn.Format,r=!1){return function(i,s){return l3(i,s,n,e,t,r)}}function l3(n,e,t,r,i,s){switch(t){case 2:return v1(e,i,r)[n.getMonth()];case 1:return g1(e,i,r)[n.getDay()];case 0:let o=n.getHours(),a=n.getMinutes();if(s){let c=_1(e),d=b1(e,i,r),f=c.findIndex(m=>{if(Array.isArray(m)){let[g,h]=m,v=o>=g.hours&&a>=g.minutes,w=o<h.hours||o===h.hours&&a<h.minutes;if(g.hours<h.hours){if(v&&w)return!0}else if(v||w)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return m1(e,i,r)[o<12?0:1];case 3:return y1(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Cp(n){return function(e,t,r){let i=-1*r,s=Wu(t,is.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Hr(o,2,s)+Hr(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+Hr(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+Hr(o,2,s)+":"+Hr(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+Hr(o,2,s)+":"+Hr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var c3=0,xp=4;function u3(n){let e=Ap(n,c3,1).getDay();return Ap(n,0,1+(e<=xp?xp:xp+7)-e)}function I1(n){let e=n.getDay(),t=e===0?-3:xp-e;return Ap(n.getFullYear(),n.getMonth(),n.getDate()+t)}function H_(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=I1(t),o=u3(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Hr(i,n,Wu(r,is.MinusSign))}}function Dp(n,e=!1){return function(t,r){let s=I1(t).getFullYear();return Hr(s,n,Wu(r,is.MinusSign),e)}}var z_={};function d3(n){if(z_[n])return z_[n];let e;switch(n){case"G":case"GG":case"GGG":e=ht(3,st.Abbreviated);break;case"GGGG":e=ht(3,st.Wide);break;case"GGGGG":e=ht(3,st.Narrow);break;case"y":e=jt(0,1,0,!1,!0);break;case"yy":e=jt(0,2,0,!0,!0);break;case"yyy":e=jt(0,3,0,!1,!0);break;case"yyyy":e=jt(0,4,0,!1,!0);break;case"Y":e=Dp(1);break;case"YY":e=Dp(2,!0);break;case"YYY":e=Dp(3);break;case"YYYY":e=Dp(4);break;case"M":case"L":e=jt(1,1,1);break;case"MM":case"LL":e=jt(1,2,1);break;case"MMM":e=ht(2,st.Abbreviated);break;case"MMMM":e=ht(2,st.Wide);break;case"MMMMM":e=ht(2,st.Narrow);break;case"LLL":e=ht(2,st.Abbreviated,bn.Standalone);break;case"LLLL":e=ht(2,st.Wide,bn.Standalone);break;case"LLLLL":e=ht(2,st.Narrow,bn.Standalone);break;case"w":e=H_(1);break;case"ww":e=H_(2);break;case"W":e=H_(1,!0);break;case"d":e=jt(2,1);break;case"dd":e=jt(2,2);break;case"c":case"cc":e=jt(7,1);break;case"ccc":e=ht(1,st.Abbreviated,bn.Standalone);break;case"cccc":e=ht(1,st.Wide,bn.Standalone);break;case"ccccc":e=ht(1,st.Narrow,bn.Standalone);break;case"cccccc":e=ht(1,st.Short,bn.Standalone);break;case"E":case"EE":case"EEE":e=ht(1,st.Abbreviated);break;case"EEEE":e=ht(1,st.Wide);break;case"EEEEE":e=ht(1,st.Narrow);break;case"EEEEEE":e=ht(1,st.Short);break;case"a":case"aa":case"aaa":e=ht(0,st.Abbreviated);break;case"aaaa":e=ht(0,st.Wide);break;case"aaaaa":e=ht(0,st.Narrow);break;case"b":case"bb":case"bbb":e=ht(0,st.Abbreviated,bn.Standalone,!0);break;case"bbbb":e=ht(0,st.Wide,bn.Standalone,!0);break;case"bbbbb":e=ht(0,st.Narrow,bn.Standalone,!0);break;case"B":case"BB":case"BBB":e=ht(0,st.Abbreviated,bn.Format,!0);break;case"BBBB":e=ht(0,st.Wide,bn.Format,!0);break;case"BBBBB":e=ht(0,st.Narrow,bn.Format,!0);break;case"h":e=jt(3,1,-12);break;case"hh":e=jt(3,2,-12);break;case"H":e=jt(3,1);break;case"HH":e=jt(3,2);break;case"m":e=jt(4,1);break;case"mm":e=jt(4,2);break;case"s":e=jt(5,1);break;case"ss":e=jt(5,2);break;case"S":e=jt(6,1);break;case"SS":e=jt(6,2);break;case"SSS":e=jt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Cp(0);break;case"ZZZZZ":e=Cp(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Cp(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Cp(2);break;default:return null}return z_[n]=e,e}function S1(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function f3(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function h3(n,e,t){let i=n.getTimezoneOffset(),s=S1(e,i);return f3(n,-1*(s-i))}function p3(n){if(u1(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(a=>+a);return Ap(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(i3))return m3(r)}let e=new Date(n);if(!u1(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function m3(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,l,c),e}function u1(n){return n instanceof Date&&!isNaN(n.valueOf())}var q_=/\s+/,d1=[],Ku=(()=>{class n{_ngEl;_renderer;initialClasses=d1;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(q_):d1}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(q_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(q_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(me(wn),me(dr))};static \u0275dir=It({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Mp=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Bn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Mp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),f1(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);f1(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(me(Bs),me(ea),me(U_))};static \u0275dir=It({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function f1(n,e){n.context.$implicit=e.item}var St=(()=>{class n{_viewContainer;_context=new Rp;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){h1(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){h1(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(me(Bs),me(ea))};static \u0275dir=It({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Rp=class{$implicit=null;ngIf=null};function h1(n,e){if(n&&!n.createEmbeddedView)throw new ue(2020,!1)}function T1(n,e){return new ue(2100,!1)}var G_=class{createSubscription(e,t){return pr(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){pr(()=>e.unsubscribe())}},W_=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},g3=new W_,v3=new G_,ha=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if($s(t))return g3;if(R_(t))return v3;throw T1(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(me(hr,16))};static \u0275pipe=A_({name:"async",type:n,pure:!1})}return n})();var y3="mediumDate",C1=new le(""),D1=new le(""),pa=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??y3,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return E1(t,o,s||this.locale,a)}catch(o){throw T1(n,o.message)}}static \u0275fac=function(r){return new(r||n)(me(_p,16),me(C1,24),me(D1,24))};static \u0275pipe=A_({name:"date",type:n,pure:!0})}return n})();var et=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fi({type:n});static \u0275inj=ui({})}return n})();function Y_(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var kp="browser",x1="server";function ss(n){return n===kp}function Pp(n){return n===x1}var Yu=class{};var A1=(()=>{class n{static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new Q_(F(nn),window)})}return n})(),Q_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=w3(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function w3(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Lp=new le(""),e0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new ue(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(we(Lp),we(We))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),Qu=class{_doc;constructor(e){this._doc=e}manager},Np="ng-app-id";function M1(n){for(let e of n)e.remove()}function R1(n,e){let t=e.createElement("style");return t.textContent=n,t}function _3(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Np}="${e}"],link[${Np}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Np),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function Z_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var t0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Pp(s),_3(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,R1);r?.forEach(i=>this.addUsage(i,this.external,Z_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(M1(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])M1(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,R1(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Z_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Np,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(we(nn),we(o_),we(l_,8),we(ur))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),X_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},n0=/%COMP%/g;var P1="%COMP%",b3=`_nghost-${P1}`,E3=`_ngcontent-${P1}`,I3=!0,S3=new le("",{providedIn:"root",factory:()=>I3});function T3(n){return E3.replace(n0,n)}function C3(n){return b3.replace(n0,n)}function N1(n,e){return e.map(t=>t.replace(n0,n))}var r0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,l,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=Pp(a),this.defaultRenderer=new Xu(t,o,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ci.ShadowDom&&(r=ce(G({},r),{encapsulation:ci.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Op?i.applyToHost(t):i instanceof Zu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case ci.Emulated:s=new Op(l,c,r,this.appId,d,o,a,f,m);break;case ci.ShadowDom:return new J_(l,c,t,r,o,a,this.nonce,f,m);default:s=new Zu(l,c,r,d,o,a,f,m);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(we(e0),we(t0),we(o_),we(S3),we(nn),we(ur),we(We),we(l_),we(Ll,8))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),Xu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(X_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(k1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(k1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ue(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=X_[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=X_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Qi.DashCase|Qi.Important)?e.style.setProperty(t,r,i&Qi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Qi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=mr().getGlobalEventTarget(this.doc,e),!e))throw new ue(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function k1(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var J_=class extends Xu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,l,c){super(e,s,o,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=N1(i.id,d);for(let m of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=m,this.shadowRoot.appendChild(g)}let f=i.getExternalStyles?.();if(f)for(let m of f){let g=Z_(m,s);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zu=class extends Xu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,l,c){super(e,s,o,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?N1(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Op=class extends Zu{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,l,c){let d=i+"-"+r.id;super(e,t,r,s,o,a,l,c,d),this.contentAttr=T3(d),this.hostAttr=C3(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Fp=class n extends $u{supportsDOMEvents=!0;static makeCurrent(){j_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=D3();return t==null?null:x3(t)}resetBaseElement(){Ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Y_(document.cookie,e)}},Ju=null;function D3(){return Ju=Ju||document.head.querySelector("base"),Ju?Ju.getAttribute("href"):null}function x3(n){return new URL(n,document.baseURI).pathname}var A3=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),L1=(()=>{class n extends Qu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(we(nn))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),O1=["alt","control","meta","shift"],M3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},F1=(()=>{class n extends Qu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mr().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),O1.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),o+=c+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=M3[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),O1.forEach(o=>{if(o!==i){let a=R3[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(we(nn))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();function i0(n,e){return r1(G({rootComponent:n},k3(e)))}function k3(n){return{appProviders:[...F3,...n?.providers??[]],platformProviders:L3}}function P3(){Fp.makeCurrent()}function N3(){return new li}function O3(){return Fx(document),document}var L3=[{provide:ur,useValue:kp},{provide:a_,useValue:P3,multi:!0},{provide:nn,useFactory:O3}];var F3=[{provide:op,useValue:"root"},{provide:li,useFactory:N3},{provide:Lp,useClass:L1,multi:!0,deps:[nn]},{provide:Lp,useClass:F1,multi:!0,deps:[nn]},r0,t0,e0,{provide:Dl,useExisting:r0},{provide:Yu,useClass:A3},[]];var V1=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(we(nn))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ae="primary",fd=Symbol("RouteTitle"),c0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function va(n){return new c0(n)}function G1(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function U3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!pi(n[t],e[t]))return!1;return!0}function pi(n,e){let t=n?u0(n):void 0,r=e?u0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!W1(n[i],e[i]))return!1;return!0}function u0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function W1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function K1(n){return n.length>0?n[n.length-1]:null}function Ys(n){return yy(n)?n:$s(n)?Te(Promise.resolve(n)):de(n)}var j3={exact:Q1,subset:X1},Y1={exact:B3,subset:$3,ignored:()=>!0};function U1(n,e,t){return j3[t.paths](n.root,e.root,t.matrixParams)&&Y1[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function B3(n,e){return pi(n,e)}function Q1(n,e,t){if(!ma(n.segments,e.segments)||!jp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Q1(n.children[r],e.children[r],t))return!1;return!0}function $3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>W1(n[t],e[t]))}function X1(n,e,t){return Z1(n,e,e.segments,t)}function Z1(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ma(i,t)||e.hasChildren()||!jp(i,t,r))}else if(n.segments.length===t.length){if(!ma(n.segments,t)||!jp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!X1(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!ma(n.segments,i)||!jp(n.segments,i,r)||!n.children[Ae]?!1:Z1(n.children[Ae],e,s,r)}}function jp(n,e,t){return e.every((r,i)=>Y1[t](n[i].parameters,r.parameters))}var gi=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Qe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=va(this.queryParams),this._queryParamMap}toString(){return q3.serialize(this)}},Qe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bp(this)}},qs=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=va(this.parameters),this._parameterMap}toString(){return eM(this)}};function H3(n,e){return ma(n,e)&&n.every((t,r)=>pi(t.parameters,e[r].parameters))}function ma(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function z3(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ae&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ae&&(t=t.concat(e(i,r)))}),t}var ya=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>new Gs,providedIn:"root"})}return n})(),Gs=class{parse(e){let t=new f0(e);return new gi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ed(e.root,!0)}`,r=K3(e.queryParams),i=typeof e.fragment=="string"?`#${G3(e.fragment)}`:"";return`${t}${r}${i}`}},q3=new Gs;function Bp(n){return n.segments.map(e=>eM(e)).join("/")}function ed(n,e){if(!n.hasChildren())return Bp(n);if(e){let t=n.children[Ae]?ed(n.children[Ae],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Ae&&r.push(`${i}:${ed(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=z3(n,(r,i)=>i===Ae?[ed(n.children[Ae],!1)]:[`${i}:${ed(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ae]!=null?`${Bp(n)}/${t[0]}`:`${Bp(n)}/(${t.join("//")})`}}function J1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vp(n){return J1(n).replace(/%3B/gi,";")}function G3(n){return encodeURI(n)}function d0(n){return J1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $p(n){return decodeURIComponent(n)}function j1(n){return $p(n.replace(/\+/g,"%20"))}function eM(n){return`${d0(n.path)}${W3(n.parameters)}`}function W3(n){return Object.entries(n).map(([e,t])=>`;${d0(e)}=${d0(t)}`).join("")}function K3(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Vp(t)}=${Vp(i)}`).join("&"):`${Vp(t)}=${Vp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Y3=/^[^\/()?;#]+/;function s0(n){let e=n.match(Y3);return e?e[0]:""}var Q3=/^[^\/()?;=#]+/;function X3(n){let e=n.match(Q3);return e?e[0]:""}var Z3=/^[^=?&#]+/;function J3(n){let e=n.match(Z3);return e?e[0]:""}var e4=/^[^&#]+/;function t4(n){let e=n.match(e4);return e?e[0]:""}var f0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ae]=new Qe(e,t)),r}parseSegment(){let e=s0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(e),new qs($p(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=X3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=s0(this.remaining);i&&(r=i,this.capture(r))}e[$p(t)]=$p(r)}parseQueryParam(e){let t=J3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=t4(this.remaining);o&&(r=o,this.capture(r))}let i=j1(t),s=j1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=s0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ue(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ae);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[Ae]:new Qe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ue(4011,!1)}};function tM(n){return n.segments.length>0?new Qe([],{[Ae]:n}):n}function nM(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=nM(i);if(r===Ae&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Qe(n.segments,e);return n4(t)}function n4(n){if(n.numberOfChildren===1&&n.children[Ae]){let e=n.children[Ae];return new Qe(n.segments.concat(e.segments),e.children)}return n}function Ws(n){return n instanceof gi}function rM(n,e,t=null,r=null){let i=iM(n);return sM(i,e,t,r)}function iM(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new Qe(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=tM(r);return e??i}function sM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return o0(i,i,i,t,r);let s=r4(e);if(s.toRoot())return o0(i,i,new Qe([],{}),t,r);let o=i4(s,i,n),a=o.processChildren?nd(o.segmentGroup,o.index,s.commands):aM(o.segmentGroup,o.index,s.commands);return o0(i,o.segmentGroup,a,t,r)}function zp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function id(n){return typeof n=="object"&&n!=null&&n.outlets}function o0(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;n===e?o=t:o=oM(n,e,t);let a=tM(nM(o));return new gi(a,s,i)}function oM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=oM(s,e,t)}),new Qe(n.segments,r)}var qp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&zp(r[0]))throw new ue(4003,!1);let i=r.find(id);if(i&&i!==K1(r))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function r4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new qp(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new qp(t,e,r)}var $l=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function i4(n,e,t){if(n.isAbsolute)return new $l(e,!0,0);if(!t)return new $l(e,!1,NaN);if(t.parent===null)return new $l(t,!0,0);let r=zp(n.commands[0])?0:1,i=t.segments.length-1+r;return s4(t,i,n.numberOfDoubleDots)}function s4(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ue(4005,!1);i=r.segments.length}return new $l(r,!1,i-s)}function o4(n){return id(n[0])?n[0].outlets:{[Ae]:n}}function aM(n,e,t){if(n??=new Qe([],{}),n.segments.length===0&&n.hasChildren())return nd(n,e,t);let r=a4(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Qe(n.segments.slice(0,r.pathIndex),{});return s.children[Ae]=new Qe(n.segments.slice(r.pathIndex),n.children),nd(s,0,i)}else return r.match&&i.length===0?new Qe(n.segments,{}):r.match&&!n.hasChildren()?h0(n,e,t):r.match?nd(n,0,i):h0(n,e,t)}function nd(n,e,t){if(t.length===0)return new Qe(n.segments,{});{let r=o4(t),i={};if(Object.keys(r).some(s=>s!==Ae)&&n.children[Ae]&&n.numberOfChildren===1&&n.children[Ae].segments.length===0){let s=nd(n.children[Ae],e,t);return new Qe(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=aM(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Qe(n.segments,i)}}function a4(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(id(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!$1(l,c,o))return s;r+=2}else{if(!$1(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function h0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(id(s)){let l=l4(s.outlets);return new Qe(r,l)}if(i===0&&zp(t[0])){let l=n.segments[e];r.push(new qs(l.path,B1(t[0]))),i++;continue}let o=id(s)?s.outlets[Ae]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&zp(a)?(r.push(new qs(o,B1(a))),i+=2):(r.push(new qs(o,{})),i++)}return new Qe(r,{})}function l4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=h0(new Qe([],{}),0,r))}),e}function B1(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function $1(n,e,t){return n==t.path&&pi(e,t.parameters)}var Hp="imperative",Qt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Qt||{}),nr=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ks=class extends nr{type=Qt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rr=class extends nr{urlAfterRedirects;type=Qt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$n=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}($n||{}),zl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(zl||{}),mi=class extends nr{reason;code;type=Qt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vi=class extends nr{reason;code;type=Qt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ql=class extends nr{error;target;type=Qt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sd=class extends nr{urlAfterRedirects;state;type=Qt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gp=class extends nr{urlAfterRedirects;state;type=Qt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wp=class extends nr{urlAfterRedirects;state;shouldActivate;type=Qt.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kp=class extends nr{urlAfterRedirects;state;type=Qt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yp=class extends nr{urlAfterRedirects;state;type=Qt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qp=class{route;type=Qt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xp=class{route;type=Qt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zp=class{snapshot;type=Qt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jp=class{snapshot;type=Qt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},em=class{snapshot;type=Qt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tm=class{snapshot;type=Qt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gl=class{routerEvent;position;anchor;type=Qt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},od=class{},Wl=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function c4(n,e){return n.providers&&!n._injector&&(n._injector=ju(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zr(n){return n.outlet||Ae}function u4(n,e){let t=n.filter(r=>zr(r)===e);return t.push(...n.filter(r=>zr(r)!==e)),t}function hd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var nm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return hd(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new wa(this.rootInjector)}},wa=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new nm(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(we(mn))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rm=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=p0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=p0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=m0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return m0(e,this._root).map(t=>t.value)}};function p0(n,e){if(n===e.value)return e;for(let t of e.children){let r=p0(n,t);if(r)return r}return null}function m0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=m0(n,t);if(r.length)return r.unshift(e),r}return[]}var tr=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Bl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ad=class extends rm{snapshot;constructor(e,t){super(e),this.snapshot=t,I0(this,e)}toString(){return this.snapshot.toString()}};function lM(n){let e=d4(n),t=new kt([new qs("",{})]),r=new kt({}),i=new kt({}),s=new kt({}),o=new kt(""),a=new Hn(t,r,s,o,i,Ae,n,e.root);return a.snapshot=e.root,new ad(new tr(a,[]),e)}function d4(n){let e={},t={},r={},i="",s=new ga([],e,r,i,t,Ae,n,null,{});return new ld("",new tr(s,[]))}var Hn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ye(c=>c[fd]))??de(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ye(e=>va(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ye(e=>va(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function im(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:G(G({},e.params),n.params),data:G(G({},e.data),n.data),resolve:G(G(G(G({},n.data),e.data),i?.data),n._resolvedData)}:r={params:G({},n.params),data:G({},n.data),resolve:G(G({},n.data),n._resolvedData??{})},i&&uM(i)&&(r.resolve[fd]=i.title),r}var ga=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[fd]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=va(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=va(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ld=class extends rm{url;constructor(e,t){super(t),this.url=e,I0(this,t)}toString(){return cM(this._root)}};function I0(n,e){e.value._routerState=n,e.children.forEach(t=>I0(n,t))}function cM(n){let e=n.children.length>0?` { ${n.children.map(cM).join(", ")} } `:"";return`${n.value}${e}`}function a0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,pi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),pi(e.params,t.params)||n.paramsSubject.next(t.params),U3(e.url,t.url)||n.urlSubject.next(t.url),pi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function g0(n,e){let t=pi(n.params,e.params)&&H3(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||g0(n.parent,e.parent))}function uM(n){return typeof n.title=="string"||n.title===null}var dM=new le(""),pd=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ae;activateEvents=new Ze;deactivateEvents=new Ze;attachEvents=new Ze;detachEvents=new Ze;routerOutletData=Mx(void 0);parentContexts=F(wa);location=F(Bs);changeDetector=F(hr);inputBinder=F(md,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new v0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=It({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ur]})}return n})(),v0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Hn?this.route:e===wa?this.childContexts:e===dM?this.outletData:this.parent.get(e,t)}},md=new le(""),S0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=jo([r.queryParams,r.params,r.data]).pipe(Ot(([s,o,a],l)=>(a=G(G(G({},s),o),a),l===0?de(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=s1(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),T0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ke({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&fe(0,"router-outlet")},dependencies:[pd],encapsulation:2})}return n})();function C0(n){let e=n.children&&n.children.map(C0),t=e?ce(G({},n),{children:e}):G({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ae&&(t.component=T0),t}function f4(n,e,t){let r=cd(n,e._root,t?t._root:void 0);return new ad(r,e)}function cd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=h4(n,e,t);return new tr(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>cd(n,a)),o}}let r=p4(e.value),i=e.children.map(s=>cd(n,s));return new tr(r,i)}}function h4(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return cd(n,r,i);return cd(n,r)})}function p4(n){return new Hn(new kt(n.url),new kt(n.params),new kt(n.queryParams),new kt(n.fragment),new kt(n.data),n.outlet,n.component,n)}var Kl=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},fM="ngNavigationCancelingError";function sm(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ws(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hM(!1,$n.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function hM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[fM]=!0,t.cancellationCode=e,t}function m4(n){return pM(n)&&Ws(n.url)}function pM(n){return!!n&&n[fM]}var g4=(n,e,t,r)=>ye(i=>(new y0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),y0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),a0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Bl(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Bl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Bl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Bl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new tm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Jp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(a0(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),a0(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},om=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Hl=class{component;route;constructor(e,t){this.component=e,this.route=t}};function v4(n,e,t){let r=n._root,i=e?e._root:null;return td(r,i,t,[r.value])}function y4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ql(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!CD(n)?n:e.get(n):r}function td(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Bl(e);return n.children.forEach(o=>{w4(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>rd(a,t.getContext(o),i)),i}function w4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=_4(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new om(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?td(n,e,a?a.children:null,r,i):td(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hl(a.outlet.component,o))}else o&&rd(e,a,i),i.canActivateChecks.push(new om(r)),s.component?td(n,null,a?a.children:null,r,i):td(n,null,t,r,i);return i}function _4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ma(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ma(n.url,e.url)||!pi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!g0(n,e)||!pi(n.queryParams,e.queryParams);case"paramsChange":default:return!g0(n,e)}}function rd(n,e,t){let r=Bl(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?rd(o,e.children.getContext(s),t):rd(o,null,t):rd(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Hl(e.outlet.component,i)):t.canDeactivateChecks.push(new Hl(null,i)):t.canDeactivateChecks.push(new Hl(null,i))}function gd(n){return typeof n=="function"}function b4(n){return typeof n=="boolean"}function E4(n){return n&&gd(n.canLoad)}function I4(n){return n&&gd(n.canActivate)}function S4(n){return n&&gd(n.canActivateChild)}function T4(n){return n&&gd(n.canDeactivate)}function C4(n){return n&&gd(n.canMatch)}function mM(n){return n instanceof Mr||n?.name==="EmptyError"}var Up=Symbol("INITIAL_VALUE");function Yl(){return Ot(n=>jo(n.map(e=>e.pipe(Rr(1),Eh(Up)))).pipe(ye(e=>{for(let t of e)if(t!==!0){if(t===Up)return Up;if(t===!1||D4(t))return t}return!0}),Nn(e=>e!==Up),Rr(1)))}function D4(n){return Ws(n)||n instanceof Kl}function x4(n,e){return Pt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?de(ce(G({},t),{guardsResult:!0})):A4(o,r,i,n).pipe(Pt(a=>a&&b4(a)?M4(r,s,n,e):de(a)),ye(a=>ce(G({},t),{guardsResult:a})))})}function A4(n,e,t,r){return Te(n).pipe(Pt(i=>O4(i.component,i.route,t,e,r)),Wi(i=>i!==!0,!0))}function M4(n,e,t,r){return Te(e).pipe(Ls(i=>pl(k4(i.route.parent,r),R4(i.route,r),N4(n,i.path,t),P4(n,i.route,t))),Wi(i=>i!==!0,!0))}function R4(n,e){return n!==null&&e&&e(new em(n)),de(!0)}function k4(n,e){return n!==null&&e&&e(new Zp(n)),de(!0)}function P4(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return de(!0);let i=r.map(s=>wh(()=>{let o=hd(e)??t,a=Ql(s,o),l=I4(a)?a.canActivate(e,n):yn(o,()=>a(e,n));return Ys(l).pipe(Wi())}));return de(i).pipe(Yl())}function N4(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>y4(o)).filter(o=>o!==null).map(o=>wh(()=>{let a=o.guards.map(l=>{let c=hd(o.node)??t,d=Ql(l,c),f=S4(d)?d.canActivateChild(r,n):yn(c,()=>d(r,n));return Ys(f).pipe(Wi())});return de(a).pipe(Yl())}));return de(s).pipe(Yl())}function O4(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return de(!0);let o=s.map(a=>{let l=hd(e)??i,c=Ql(a,l),d=T4(c)?c.canDeactivate(n,e,t,r):yn(l,()=>c(n,e,t,r));return Ys(d).pipe(Wi())});return de(o).pipe(Yl())}function L4(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return de(!0);let s=i.map(o=>{let a=Ql(o,n),l=E4(a)?a.canLoad(e,t):yn(n,()=>a(e,t));return Ys(l)});return de(s).pipe(Yl(),gM(r))}function gM(n){return eh(cn(e=>{if(typeof e!="boolean")throw sm(n,e)}),ye(e=>e===!0))}function F4(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return de(!0);let s=i.map(o=>{let a=Ql(o,n),l=C4(a)?a.canMatch(e,t):yn(n,()=>a(e,t));return Ys(l)});return de(s).pipe(Yl(),gM(r))}var ud=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},dd=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function jl(n){return Ar(new ud(n))}function V4(n){return Ar(new ue(4e3,!1))}function U4(n){return Ar(hM(!1,$n.GuardRejected))}var w0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return de(r);if(i.numberOfChildren>1||!i.children[Ae])return V4(`${e.redirectTo}`);i=i.children[Ae]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:d,url:f,outlet:m,params:g,data:h,title:v}=i,w=yn(s,()=>a({params:g,data:h,queryParams:l,fragment:c,routeConfig:d,url:f,outlet:m,title:v}));if(w instanceof gi)throw new dd(w);t=w}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new dd(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new gi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Qe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ue(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},_0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j4(n,e,t,r,i){let s=vM(n,e,t);return s.matched?(r=c4(e,r),F4(r,e,t,i).pipe(ye(o=>o===!0?s:G({},_0)))):de(s)}function vM(n,e,t){if(e.path==="**")return B4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?G({},_0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||G1)(t,n,e);if(!i)return G({},_0);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?G(G({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function B4(n){return{matched:!0,parameters:n.length>0?K1(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function H1(n,e,t,r){return t.length>0&&z4(n,t,r)?{segmentGroup:new Qe(e,H4(r,new Qe(t,n.children))),slicedSegments:[]}:t.length===0&&q4(n,t,r)?{segmentGroup:new Qe(n.segments,$4(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Qe(n.segments,n.children),slicedSegments:t}}function $4(n,e,t,r){let i={};for(let s of t)if(lm(n,e,s)&&!r[zr(s)]){let o=new Qe([],{});i[zr(s)]=o}return G(G({},r),i)}function H4(n,e){let t={};t[Ae]=e;for(let r of n)if(r.path===""&&zr(r)!==Ae){let i=new Qe([],{});t[zr(r)]=i}return t}function z4(n,e,t){return t.some(r=>lm(n,e,r)&&zr(r)!==Ae)}function q4(n,e,t){return t.some(r=>lm(n,e,r))}function lm(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function G4(n,e,t){return e.length===0&&!n.children[t]}var b0=class{};function W4(n,e,t,r,i,s,o="emptyOnly"){return new E0(n,e,t,r,i,o,s).recognize()}var K4=31,E0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new w0(this.urlSerializer,this.urlTree)}noMatchError(e){return new ue(4002,`'${e.segmentGroup}'`)}recognize(){let e=H1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ye(({children:t,rootSnapshot:r})=>{let i=new tr(r,t),s=new ld("",i),o=rM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new ga([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ae,t).pipe(ye(r=>({children:r,rootSnapshot:t})),Nt(r=>{if(r instanceof dd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ud?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(ye(o=>o instanceof tr?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Te(s).pipe(Ls(o=>{let a=r.children[o],l=u4(t,o);return this.processSegmentGroup(e,l,a,o,i)}),bh((o,a)=>(o.push(...a),o)),Fs(null),_y(),Pt(o=>{if(o===null)return jl(r);let a=yM(o);return Y4(a),de(a)}))}processSegment(e,t,r,i,s,o,a){return Te(t).pipe(Ls(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,s,o,a).pipe(Nt(c=>{if(c instanceof ud)return de(null);throw c}))),Wi(l=>!!l),Nt(l=>{if(mM(l))return G4(r,i,s)?de(new b0):jl(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,l){return zr(r)!==o&&(o===Ae||!lm(i,s,r))?jl(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,l):jl(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=vM(t,i,s);if(!l)return jl(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>K4&&(this.allowRedirects=!1));let g=new ga(s,c,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,z1(i),zr(i),i.component??i._loadedComponent??null,i,q1(i)),h=im(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(h.params),g.data=Object.freeze(h.data);let v=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,g,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Pt(w=>this.processSegment(e,r,t,w.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=j4(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ot(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ot(({routes:c})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:g}=l,h=new ga(m,f,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,z1(r),zr(r),r.component??r._loadedComponent??null,r,q1(r)),v=im(h,o,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let{segmentGroup:w,slicedSegments:D}=H1(t,m,g,c);if(D.length===0&&w.hasChildren())return this.processChildren(d,c,w,h).pipe(ye(E=>new tr(h,E)));if(c.length===0&&D.length===0)return de(new tr(h,[]));let I=zr(r)===s;return this.processSegment(d,c,w,D,I?Ae:s,!0,h).pipe(ye(E=>new tr(h,E instanceof tr?[E]:[])))}))):jl(t)))}getChildConfig(e,t,r){return t.children?de({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?de({routes:t._loadedRoutes,injector:t._loadedInjector}):L4(e,t,r,this.urlSerializer).pipe(Pt(i=>i?this.configLoader.loadChildren(e,t).pipe(cn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):U4(t))):de({routes:[],injector:e})}};function Y4(n){n.sort((e,t)=>e.value.outlet===Ae?-1:t.value.outlet===Ae?1:e.value.outlet.localeCompare(t.value.outlet))}function Q4(n){let e=n.value.routeConfig;return e&&e.path===""}function yM(n){let e=[],t=new Set;for(let r of n){if(!Q4(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=yM(r.children);e.push(new tr(r.value,i))}return e.filter(r=>!t.has(r))}function z1(n){return n.data||{}}function q1(n){return n.resolve||{}}function X4(n,e,t,r,i,s){return Pt(o=>W4(n,e,t,r,o.extractedUrl,i,s).pipe(ye(({state:a,tree:l})=>ce(G({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Z4(n,e){return Pt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return de(t);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of wM(l))o.add(c);let a=0;return Te(o).pipe(Ls(l=>s.has(l)?J4(l,r,n,e):(l.data=im(l,l.parent,n).resolve,de(void 0))),cn(()=>a++),ml(1),Pt(l=>a===o.size?de(t):kn))})}function wM(n){let e=n.children.map(t=>wM(t)).flat();return[n,...e]}function J4(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!uM(i)&&(s[fd]=i.title),eH(s,n,e,r).pipe(ye(o=>(n._resolvedData=o,n.data=im(n,n.parent,t).resolve,null)))}function eH(n,e,t,r){let i=u0(n);if(i.length===0)return de({});let s={};return Te(i).pipe(Pt(o=>tH(n[o],e,t,r).pipe(Wi(),cn(a=>{if(a instanceof Kl)throw sm(new Gs,a);s[o]=a}))),ml(1),ye(()=>s),Nt(o=>mM(o)?kn:Ar(o)))}function tH(n,e,t,r){let i=hd(e)??r,s=Ql(n,i),o=s.resolve?s.resolve(e,t):yn(i,()=>s(e,t));return Ys(o)}function l0(n){return Ot(e=>{let t=n(e);return t?Te(t).pipe(ye(()=>e)):de(e)})}var D0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ae);return r}getResolvedTitleForRoute(t){return t.data[fd]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(_M),providedIn:"root"})}return n})(),_M=(()=>{class n extends D0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(we(V1))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_a=new le("",{providedIn:"root",factory:()=>({})}),ba=new le(""),cm=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(n1);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return de(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ys(t.loadComponent()).pipe(ye(EM),cn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),gu(()=>{this.componentLoaders.delete(t)})),i=new ul(r,()=>new Rt).pipe(cl());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return de({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=bM(r,this.compiler,t,this.onLoadEndListener).pipe(gu(()=>{this.childrenLoaders.delete(r)})),o=new ul(s,()=>new Rt).pipe(cl());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bM(n,e,t,r){return Ys(n.loadChildren()).pipe(ye(EM),Pt(i=>i instanceof x_||Array.isArray(i)?de(i):Te(e.compileModuleAsync(i))),ye(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(ba,[],{optional:!0,self:!0}).flat()),{routes:o.map(C0),injector:s}}))}function nH(n){return n&&typeof n=="object"&&"default"in n}function EM(n){return nH(n)?n.default:n}var um=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(rH),providedIn:"root"})}return n})(),rH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),x0=new le(""),A0=new le("");function IM(n,e,t){let r=n.get(A0),i=n.get(nn);return n.get(We).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),iH(n))),{onViewTransitionCreated:l}=r;return l&&yn(n,()=>l({transition:a,from:e,to:t})),o})}function iH(n){return new Promise(e=>{d_({read:()=>setTimeout(e)},{injector:n})})}var M0=new le(""),dm=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Rt;transitionAbortSubject=new Rt;configLoader=F(cm);environmentInjector=F(mn);destroyRef=F(sa);urlSerializer=F(ya);rootContexts=F(wa);location=F(zs);inputBindingEnabled=F(md,{optional:!0})!==null;titleStrategy=F(D0);options=F(_a,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(um);createViewTransition=F(x0,{optional:!0});navigationErrorHandler=F(M0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>de(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Qp(i)),r=i=>this.events.next(new Xp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ce(G({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new kt(null),this.transitions.pipe(Nn(r=>r!==null),Ot(r=>{let i=!1,s=!1;return de(r).pipe(Ot(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",$n.SupersededByNewNavigation),kn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ce(G({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new vi(o.id,this.urlSerializer.serialize(o.rawUrl),c,zl.IgnoredSameUrlNavigation)),o.resolve(!1),kn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return de(o).pipe(Ot(c=>(this.events.next(new Ks(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?kn:Promise.resolve(c))),X4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),cn(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ce(G({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new sd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:d,source:f,restoredState:m,extras:g}=o,h=new Ks(c,this.urlSerializer.serialize(d),f,m);this.events.next(h);let v=lM(this.rootComponentType).snapshot;return this.currentTransition=r=ce(G({},o),{targetSnapshot:v,urlAfterRedirects:d,extras:ce(G({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,de(r)}else{let c="";return this.events.next(new vi(o.id,this.urlSerializer.serialize(o.extractedUrl),c,zl.IgnoredByUrlHandlingStrategy)),o.resolve(!1),kn}}),cn(o=>{let a=new Gp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ye(o=>(this.currentTransition=r=ce(G({},o),{guards:v4(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),x4(this.environmentInjector,o=>this.events.next(o)),cn(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw sm(this.urlSerializer,o.guardsResult);let a=new Wp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Nn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",$n.GuardRejected),!1)),l0(o=>{if(o.guards.canActivateChecks.length!==0)return de(o).pipe(cn(a=>{let l=new Kp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Ot(a=>{let l=!1;return de(a).pipe(Z4(this.paramsInheritanceStrategy,this.environmentInjector),cn({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",$n.NoDataFromResolver)}}))}),cn(a=>{let l=new Yp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),l0(o=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(cn(d=>{l.component=d}),ye(()=>{})));for(let d of l.children)c.push(...a(d));return c};return jo(a(o.targetSnapshot.root)).pipe(Fs(null),Rr(1))}),l0(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return l?Te(l).pipe(ye(()=>r)):de(r)}),ye(o=>{let a=f4(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ce(G({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),cn(()=>{this.events.next(new od)}),g4(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Rr(1),cn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),by(this.transitionAbortSubject.pipe(cn(o=>{throw o}))),gu(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",$n.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nt(o=>{if(this.destroyed)return r.resolve(!1),kn;if(s=!0,pM(o))this.events.next(new mi(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),m4(o)?this.events.next(new Wl(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ql(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let l=yn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Kl){let{message:c,cancellationCode:d}=sm(this.urlSerializer,l);this.events.next(new mi(r.id,this.urlSerializer.serialize(r.extractedUrl),c,d)),this.events.next(new Wl(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return kn}))}))}cancelNavigationTransition(t,r,i){let s=new mi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sH(n){return n!==Hp}var SM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(oH),providedIn:"root"})}return n})(),am=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},oH=(()=>{class n extends am{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ia(n)))(i||n)}})();static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TM=(()=>{class n{urlSerializer=F(ya);options=F(_a,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(zs);urlHandlingStrategy=F(um);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof gi?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=lM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(aH),providedIn:"root"})}return n})(),aH=(()=>{class n extends TM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ks?this.updateStateMemento():t instanceof vi?this.commitTransition(r):t instanceof sd?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof od?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof mi&&(t.code===$n.GuardRejected||t.code===$n.NoDataFromResolver)?this.restoreHistory(r):t instanceof ql?this.restoreHistory(r,!0):t instanceof rr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,l=G(G({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=G(G({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ia(n)))(i||n)}})();static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fm(n,e){n.events.pipe(Nn(t=>t instanceof rr||t instanceof mi||t instanceof ql||t instanceof vi),ye(t=>t instanceof rr||t instanceof vi?0:(t instanceof mi?t.code===$n.Redirect||t.code===$n.SupersededByNewNavigation:!1)?2:1),Nn(t=>t!==2),Rr(1)).subscribe(()=>{e()})}var lH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ve=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(PA);stateManager=F(TM);options=F(_a,{optional:!0})||{};pendingTasks=F(oa);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(dm);urlSerializer=F(ya);location=F(zs);urlHandlingStrategy=F(um);_events=new Rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(SM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(ba,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(md,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ct;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof mi&&r.code!==$n.Redirect&&r.code!==$n.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rr)this.navigated=!0;else if(r instanceof Wl){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=G({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sH(i.source)},o);this.scheduleNavigation(a,Hp,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}dH(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=G({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(C0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=G(G({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=iM(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return sM(f,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ws(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Hp,null,r)}navigate(t,r={skipLocationChange:!1}){return uH(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=G({},lH):r===!1?i=G({},cH):i=r,Ws(t))return U1(this.currentUrlTree,t,i);let s=this.parseUrl(t);return U1(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((f,m)=>{a=f,l=m});let d=this.pendingTasks.add();return fm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uH(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ue(4008,!1)}function dH(n){return!(n instanceof od)&&!(n instanceof Wl)}var En=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Rt;constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof rr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ws(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:zx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Ws(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(me(Ve),me(Hn),r_("tabindex"),me(dr),me(wn),me($r))};static \u0275dir=It({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ne("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&wp("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Vl],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Vl],replaceUrl:[2,"replaceUrl","replaceUrl",Vl],routerLink:"routerLink"},features:[Ur]})}return n})(),k0=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ze;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof rr&&this.update()})}ngAfterContentInit(){de(this.links.changes,de(null)).pipe(Os()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Te(t).pipe(Os()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=fH(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(me(Ve),me(wn),me(dr),me(hr),me(En,8))};static \u0275dir=It({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&KA(s,En,5),r&2){let o;ca(o=ua())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ur]})}return n})();function fH(n){return!!n.paths}var vd=class{};var CM=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Nn(t=>t instanceof rr),Ls(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=ju(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Te(i).pipe(Os())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=de(null);let s=i.pipe(Pt(o=>o===null?de(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Te([s,o]).pipe(Os())}else return s})}static \u0275fac=function(r){return new(r||n)(we(Ve),we(mn),we(vd),we(cm))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DM=new le(""),hH=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ks?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof vi&&t.code===zl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gl&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gl(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){_A()};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();function P0(n,...e){return Fr([{provide:ba,multi:!0,useValue:n},[],{provide:Hn,useFactory:xM,deps:[Ve]},{provide:yp,multi:!0,useFactory:AM},e.map(t=>t.\u0275providers)])}function xM(n){return n.routerState.root}function yd(n,e){return{\u0275kind:n,\u0275providers:e}}function AM(){let n=F(vt);return e=>{let t=n.get(ta);if(e!==t.components[0])return;let r=n.get(Ve),i=n.get(MM);n.get(N0)===1&&r.initialNavigation(),n.get(PM,null,Me.Optional)?.setUpPreloading(),n.get(DM,null,Me.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var MM=new le("",{factory:()=>new Rt}),N0=new le("",{providedIn:"root",factory:()=>1});function RM(){let n=[{provide:N0,useValue:0},k_(()=>{let e=F(vt);return e.get(B_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ve),s=e.get(MM);fm(i,()=>{r(!0)}),e.get(dm).afterPreactivation=()=>(r(!0),s.closed?de(void 0):s),i.initialNavigation()}))})];return yd(2,n)}function kM(){let n=[k_(()=>{F(Ve).setUpLocationChangeListener()}),{provide:N0,useValue:2}];return yd(3,n)}var PM=new le("");function NM(n){return yd(0,[{provide:PM,useExisting:CM},{provide:vd,useExisting:n}])}function OM(){return yd(8,[S0,{provide:md,useExisting:S0}])}function LM(n){aa("NgRouterViewTransitions");let e=[{provide:x0,useValue:IM},{provide:A0,useValue:G({skipNextTransition:!!n?.skipInitialTransition},n)}];return yd(9,e)}var FM=[zs,{provide:ya,useClass:Gs},Ve,wa,{provide:Hn,useFactory:xM,deps:[Ve]},cm,[]],Xt=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[FM,[],{provide:ba,multi:!0,useValue:t},[],r?.errorHandler?{provide:M0,useValue:r.errorHandler}:[],{provide:_a,useValue:r||{}},r?.useHash?mH():gH(),pH(),r?.preloadingStrategy?NM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?vH(r):[],r?.bindToComponentInputs?OM().\u0275providers:[],r?.enableViewTransitions?LM().\u0275providers:[],yH()]}}static forChild(t){return{ngModule:n,providers:[{provide:ba,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=fi({type:n});static \u0275inj=ui({})}return n})();function pH(){return{provide:DM,useFactory:()=>{let n=F(A1),e=F(We),t=F(_a),r=F(dm),i=F(ya);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hH(i,r,n,e,t)}}}function mH(){return{provide:$r,useClass:K_}}function gH(){return{provide:$r,useClass:Ip}}function vH(n){return[n.initialNavigation==="disabled"?kM().\u0275providers:[],n.initialNavigation==="enabledBlocking"?RM().\u0275providers:[]]}var R0=new le("");function yH(){return[{provide:R0,useFactory:AM},{provide:yp,multi:!0,useExisting:R0}]}var VM=()=>{};var BM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},wH=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,m=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(m=64)),r.push(t[d],t[f],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wH(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let c=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new L0;let m=s<<2|a>>4;if(r.push(m),c!==64){let g=a<<4&240|c>>2;if(r.push(g),f!==64){let h=c<<6&192|f;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},L0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_H=function(n){let e=BM(n);return hm.encodeByteArray(e,!0)},_d=function(n){return _H(n).replace(/\./g,"")},pm=function(n){try{return hm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function V0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bH=()=>V0().__FIREBASE_DEFAULTS__,EH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IH=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&pm(n[1]);return e&&JSON.parse(e)},mm=()=>{try{return VM()||bH()||EH()||IH()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},U0=n=>{var e,t;return(t=(e=mm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gm=n=>{let e=U0(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},j0=()=>{var n;return(n=mm())===null||n===void 0?void 0:n.config},B0=n=>{var e;return(e=mm())===null||e===void 0?void 0:e[`_${n}`]};var Ea=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Gr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Zl(n){return P(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function vm(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_d(JSON.stringify(t)),_d(JSON.stringify(o)),""].join(".")}var wd={};function SH(){let n={prod:[],emulator:[]};for(let e of Object.keys(wd))wd[e]?n.emulator.push(e):n.prod.push(e);return n}function TH(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var UM=!1;function Jl(n,e){if(typeof window>"u"||typeof document>"u"||!Gr(window.location.host)||wd[n]===e||wd[n]||UM)return;wd[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",s=SH().prod.length>0;function o(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{UM=!0,o()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){let m=TH(r),g=t("text"),h=document.getElementById(g)||document.createElement("span"),v=t("learnmore"),w=document.getElementById(v)||document.createElement("a"),D=t("preprendIcon"),I=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let E=m.element;a(E),d(w,v);let O=c();l(I,D),E.append(I,h,w,O),document.body.appendChild(E)}s?(h.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,h.innerText="Preview backend running in this workspace."),h.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $M(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function CH(){var n;let e=(n=mm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GM(){let n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WM(){return!CH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bd(){try{return typeof indexedDB=="object"}catch{return!1}}function KM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var DH="FirebaseError",Mn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DH,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qr.prototype.create)}},qr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?xH(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Mn(i,a,r)}};function xH(n,e){return n.replace(AH,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var AH=/\{\$([^}]+)}/g;function YM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(jM(s)&&jM(o)){if(!yi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function jM(n){return n!==null&&typeof n=="object"}function Ed(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function tc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function QM(n,e){let t=new F0(n,e);return t.subscribe.bind(t)}var F0=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");MH(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=O0),i.error===void 0&&(i.error=O0),i.complete===void 0&&(i.complete=O0);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function MH(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function O0(){}var Hse=4*60*60*1e3;function rt(n){return n&&n._delegate?n._delegate:n}var un=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ia="[DEFAULT]";var $0=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ea;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kH(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return P(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RH(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RH(n){return n===Ia?void 0:n}function kH(n){return n.instantiationMode==="EAGER"}var ym=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new $0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var PH=[],Ue=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ue||{}),NH={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},OH=Ue.INFO,LH={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},FH=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=LH[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},wi=class{constructor(e){this.name=e,this._logLevel=OH,this._logHandler=FH,this._userLogHandler=null,PH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};var VH=(n,e)=>e.some(t=>n instanceof t),XM,ZM;function UH(){return XM||(XM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jH(){return ZM||(ZM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var JM=new WeakMap,z0=new WeakMap,eR=new WeakMap,H0=new WeakMap,G0=new WeakMap;function BH(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(_i(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&JM.set(t,n)}).catch(()=>{}),G0.set(e,n),e}function $H(n){if(z0.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});z0.set(n,e)}var q0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return z0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tR(n){q0=n(q0)}function HH(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(wm(this),e,...t);return eR.set(r,e.sort?e.sort():[e]),_i(r)}:jH().includes(n)?function(...e){return n.apply(wm(this),e),_i(JM.get(this))}:function(...e){return _i(n.apply(wm(this),e))}}function zH(n){return typeof n=="function"?HH(n):(n instanceof IDBTransaction&&$H(n),VH(n,UH())?new Proxy(n,q0):n)}function _i(n){if(n instanceof IDBRequest)return BH(n);if(H0.has(n))return H0.get(n);let e=zH(n);return e!==n&&(H0.set(n,e),G0.set(e,n)),e}var wm=n=>G0.get(n);function rR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=_i(o);return r&&o.addEventListener("upgradeneeded",l=>{r(_i(o.result),l.oldVersion,l.newVersion,_i(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var qH=["get","getKey","getAll","getAllKeys","count"],GH=["put","add","delete","clear"],W0=new Map;function nR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(W0.get(e))return W0.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=GH.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qH.includes(t)))return;let s=function(o,...a){return P(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),i&&l.done]))[0]})};return W0.set(e,s),s}tR(n=>ce(G({},n),{get:(e,t,r)=>nR(e,t)||n.get(e,t,r),has:(e,t)=>!!nR(e,t)||n.has(e,t)}));var Y0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WH(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function WH(n){let e=n.getComponent();return e?.type==="VERSION"}var Q0="@firebase/app",iR="0.13.2";var os=new wi("@firebase/app"),KH="@firebase/app-compat",YH="@firebase/analytics-compat",QH="@firebase/analytics",XH="@firebase/app-check-compat",ZH="@firebase/app-check",JH="@firebase/auth",ez="@firebase/auth-compat",tz="@firebase/database",nz="@firebase/data-connect",rz="@firebase/database-compat",iz="@firebase/functions",sz="@firebase/functions-compat",oz="@firebase/installations",az="@firebase/installations-compat",lz="@firebase/messaging",cz="@firebase/messaging-compat",uz="@firebase/performance",dz="@firebase/performance-compat",fz="@firebase/remote-config",hz="@firebase/remote-config-compat",pz="@firebase/storage",mz="@firebase/storage-compat",gz="@firebase/firestore",vz="@firebase/ai",yz="@firebase/firestore-compat",wz="firebase",_z="11.10.0";var X0="[DEFAULT]",bz={[Q0]:"fire-core",[KH]:"fire-core-compat",[QH]:"fire-analytics",[YH]:"fire-analytics-compat",[ZH]:"fire-app-check",[XH]:"fire-app-check-compat",[JH]:"fire-auth",[ez]:"fire-auth-compat",[tz]:"fire-rtdb",[nz]:"fire-data-connect",[rz]:"fire-rtdb-compat",[iz]:"fire-fn",[sz]:"fire-fn-compat",[oz]:"fire-iid",[az]:"fire-iid-compat",[lz]:"fire-fcm",[cz]:"fire-fcm-compat",[uz]:"fire-perf",[dz]:"fire-perf-compat",[fz]:"fire-rc",[hz]:"fire-rc-compat",[pz]:"fire-gcs",[mz]:"fire-gcs-compat",[gz]:"fire-fst",[yz]:"fire-fst-compat",[vz]:"fire-vertex","fire-js":"fire-js",[wz]:"fire-js-all"};var Id=new Map,Ez=new Map,Z0=new Map;function sR(n,e){try{n.container.addComponent(e)}catch(t){os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ir(n){let e=n.name;if(Z0.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Z0.set(e,n);for(let t of Id.values())sR(t,n);for(let t of Ez.values())sR(t,n);return!0}function Xs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function In(n){return n==null?!1:n.settings!==void 0}var Iz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new qr("app","Firebase",Iz);var J0=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}};var bi=_z;function nb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:X0,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Qs.create("bad-app-name",{appName:String(i)});if(t||(t=j0()),!t)throw Qs.create("no-options");let s=Id.get(i);if(s){if(yi(t,s.options)&&yi(r,s.config))return s;throw Qs.create("duplicate-app",{appName:i})}let o=new ym(i);for(let l of Z0.values())o.addComponent(l);let a=new J0(t,r,o);return Id.set(i,a),a}function as(n=X0){let e=Id.get(n);if(!e&&n===X0&&j0())return nb();if(!e)throw Qs.create("no-app",{appName:n});return e}function _m(){return Array.from(Id.values())}function ut(n,e,t){var r;let i=(r=bz[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(a.join(" "));return}ir(new un(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Sz="firebase-heartbeat-database",Tz=1,Sd="firebase-heartbeat-store",K0=null;function cR(){return K0||(K0=rR(Sz,Tz,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qs.create("idb-open",{originalErrorMessage:n.message})})),K0}function Cz(n){return P(this,null,function*(){try{let t=(yield cR()).transaction(Sd),r=yield t.objectStore(Sd).get(uR(n));return yield t.done,r}catch(e){if(e instanceof Mn)os.warn(e.message);else{let t=Qs.create("idb-get",{originalErrorMessage:e?.message});os.warn(t.message)}}})}function oR(n,e){return P(this,null,function*(){try{let r=(yield cR()).transaction(Sd,"readwrite");yield r.objectStore(Sd).put(e,uR(n)),yield r.done}catch(t){if(t instanceof Mn)os.warn(t.message);else{let r=Qs.create("idb-set",{originalErrorMessage:t?.message});os.warn(r.message)}}})}function uR(n){return`${n.name}!${n.options.appId}`}var Dz=1024,xz=30,eb=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new tb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return P(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>xz){let o=Mz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){os.warn(r)}})}getHeartbeatsHeader(){return P(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=aR(),{heartbeatsToSend:r,unsentEntries:i}=Az(this._heartbeatsCache.heartbeats),s=_d(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return os.warn(t),""}})}};function aR(){return new Date().toISOString().substring(0,10)}function Az(n,e=Dz){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var tb=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(this,null,function*(){return bd()?KM().then(()=>!0).catch(()=>!1):!1})}read(){return P(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Cz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lR(n){return _d(JSON.stringify({version:2,heartbeats:n})).length}function Mz(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Rz(n){ir(new un("platform-logger",e=>new Y0(e),"PRIVATE")),ir(new un("heartbeat",e=>new eb(e),"PRIVATE")),ut(Q0,iR,n),ut(Q0,iR,"esm2017"),ut("fire-js","")}Rz("");var kz="firebase",Pz="11.10.0";ut(kz,Pz,"app");function rb(n){n===void 0&&(ap(rb),n=F(vt));let e=n.get(up);return t=>new Pe(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:l=>{r.next(l),o()},complete:()=>{r.complete(),o()},error:l=>{r.error(l),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var Ei=new ra("ANGULARFIRE2_VERSION");function Ta(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Zs=(n,e)=>{let t=e?[e]:_m(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},nc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(nc||{}),dR=V_()&&typeof Zone<"u"?nc.WARN:nc.SILENT;var bm=class{zone;delegate;constructor(e,t=gy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Ii=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=F(We);this.outsideAngular=t.runOutsideAngular(()=>new bm(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new bm(typeof Zone>"u"?void 0:Zone.current,my))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fR=!1;function Nz(n,e){!fR&&(dR>nc.SILENT||V_())&&(fR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),dR>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Oz(n){let e=F(We,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Sa(n){let e=F(We,{optional:!0});return e?e.run(()=>n()):n()}var Lz=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),yn(t,()=>Sa(()=>n.apply(void 0,r)))),gt=(n,e,t)=>(t||=e?nc.WARN:nc.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=F(Ii),o=F(up),a=F(mn)}catch{return Nz(n,t),n.apply(this,i)}for(let c=0;c<arguments.length;c++)typeof i[c]=="function"&&(e&&(r||=Sa(()=>o.add())),i[c]=Lz(i[c],r,a));let l=Oz(()=>n.apply(this,i));return e?l instanceof Pe?l.pipe(Ns(s.outsideAngular),Ps(s.insideAngular),rb(a)):l instanceof Promise?Sa(()=>new Promise((c,d)=>{o.run(()=>l).then(f=>yn(a,()=>Sa(()=>c(f))),f=>yn(a,()=>Sa(()=>d(f))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Sa(()=>l):l instanceof Pe?l.pipe(Ns(s.outsideAngular),Ps(s.insideAngular)):Sa(()=>l)});var Wr=class{constructor(e){return e}},ls=class{constructor(){return _m()}};function Fz(n){return n&&n.length===1?n[0]:new Wr(as())}var ib=new le("angularfire2._apps"),Vz={provide:Wr,useFactory:Fz,deps:[[new en,ib]]},Uz={provide:ls,deps:[[new en,ib]]};function jz(n){return(e,t)=>{let r=t.get(ur);ut("angularfire",Ei.full,"core"),ut("angularfire",Ei.full,"app"),ut("angular",t1.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Wr(i)}}function hR(n,...e){return Fr([Vz,Uz,{provide:ib,useFactory:jz(n),multi:!0,deps:[We,vt,Ii,...e]}])}var pR=gt(nb,!0);var Bz=new Map,$z={activated:!1,tokenObservers:[]},Hz={initialized:!1,enabled:!1};function Kr(n){return Bz.get(n)||Object.assign({},$z)}function yR(){return Hz}var zz="https://content-firebaseappcheck.googleapis.com/v1";var qz="exchangeDebugToken",mR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Koe=24*60*60*1e3;var ab=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return P(this,null,function*(){this.stop();try{this.pending=new Ea,this.pending.promise.catch(t=>{}),yield Gz(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ea,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Gz(n){return new Promise(e=>{setTimeout(e,n)})}var Wz={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Js=new qr("appCheck","AppCheck",Wz);function wR(n){if(!Kr(n).activated)throw Js.create("use-before-activation",{appName:n.name})}function _R(r,i){return P(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let g=yield o.getHeartbeatsHeader();g&&(s["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(n,a)}catch(g){throw Js.create("fetch-network-error",{originalErrorMessage:g?.message})}if(l.status!==200)throw Js.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(g){throw Js.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let f=Number(d[1])*1e3,m=Date.now();return{token:c.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function bR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${zz}/projects/${t}/apps/${r}:${qz}?key=${i}`,body:{debug_token:e}}}var Kz="firebase-app-check-database",Yz=1,lb="firebase-app-check-store";var Em=null;function Qz(){return Em||(Em=new Promise((n,e)=>{try{let t=indexedDB.open(Kz,Yz);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Js.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(lb,{keyPath:"compositeKey"})}}}catch(t){e(Js.create("storage-open",{originalErrorMessage:t?.message}))}}),Em)}function Xz(n,e){return Zz(Jz(n),e)}function Zz(n,e){return P(this,null,function*(){let r=(yield Qz()).transaction(lb,"readwrite"),s=r.objectStore(lb).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Js.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function Jz(n){return`${n.options.appId}-${n.name}`}var Td=new wi("@firebase/app-check");function sb(n,e){return bd()?Xz(n,e).catch(t=>{Td.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ER(){return yR().enabled}function IR(){return P(this,null,function*(){let n=yR();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var eq={error:"UNKNOWN_ERROR"};function tq(n){return hm.encodeString(JSON.stringify(n),!1)}function cb(n,e=!1,t=!1){return P(this,null,function*(){let r=n.app;wR(r);let i=Kr(r),s=i.token,o;if(s&&!Cd(s)&&(i.token=void 0,s=void 0),!s){let c=yield i.cachedTokenPromise;c&&(Cd(c)?s=c:yield sb(r,void 0))}if(!e&&s&&Cd(s))return{token:s.token};let a=!1;if(ER())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=_R(bR(r,yield IR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let c=yield i.exchangeTokenPromise;return yield sb(r,c),i.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Td.warn(c.message):t&&Td.error(c),ob(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield Kr(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Td.warn(c.message):t&&Td.error(c),o=c}let l;return s?o?Cd(s)?l={token:s.token,internalError:o}:l=ob(o):(l={token:s.token},i.token=s,yield sb(r,s)):l=ob(o),a&&sq(r,l),l})}function nq(n){return P(this,null,function*(){let e=n.app;wR(e);let{provider:t}=Kr(e);if(ER()){let r=yield IR(),{token:i}=yield _R(bR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function rq(n,e,t,r){let{app:i}=n,s=Kr(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Cd(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),gR(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>gR(n))}function SR(n,e){let t=Kr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function gR(n){let{app:e}=n,t=Kr(e),r=t.tokenRefresher;r||(r=iq(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function iq(n){let{app:e}=n;return new ab(()=>P(null,null,function*(){let t=Kr(e),r;if(t.token?r=yield cb(n,!0):r=yield cb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Kr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},mR.RETRIAL_MIN_WAIT,mR.RETRIAL_MAX_WAIT)}function sq(n,e){let t=Kr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Cd(n){return n.expireTimeMillis-Date.now()>0}function ob(n){return{token:tq(eq),error:n}}var ub=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Kr(this.app);for(let t of e)SR(this.app,t.next);return Promise.resolve()}};function oq(n,e){return new ub(n,e)}function aq(n){return{getToken:e=>cb(n,e),getLimitedUseToken:()=>nq(n),addTokenListener:e=>rq(n,"INTERNAL",e),removeTokenListener:e=>SR(n.app,e)}}var lq="@firebase/app-check",cq="0.10.1";var uq="app-check",vR="app-check-internal";function dq(){ir(new un(uq,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return oq(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(vR).initialize()})),ir(new un(vR,n=>{let e=n.getProvider("app-check").getImmediate();return aq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ut(lq,cq)}dq();var fq="app-check";var eo=class{constructor(){return Zs(fq)}};var hq=["localhost","0.0.0.0","127.0.0.1"],aae=typeof window<"u"&&hq.includes(window.location.hostname);function jR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BR=jR,$R=new qr("auth","Firebase",jR());var xm=new wi("@firebase/auth");function pq(n,...e){xm.logLevel<=Ue.WARN&&xm.warn(`Auth (${bi}): ${n}`,...e)}function Sm(n,...e){xm.logLevel<=Ue.ERROR&&xm.error(`Auth (${bi}): ${n}`,...e)}function Ti(n,...e){throw Nb(n,...e)}function Ca(n,...e){return Nb(n,...e)}function HR(n,e,t){let r=Object.assign(Object.assign({},BR()),{[e]:t});return new qr("auth","Firebase",r).create(e,{appName:n.name})}function ds(n){return HR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nb(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $R.create(n,...e)}function ge(n,e,...t){if(!n)throw Nb(e,...t)}function cs(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Sm(e),new Error(e)}function ro(n,e){n||cs(e)}function pb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function mq(){return TR()==="http:"||TR()==="https:"}function TR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function gq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mq()||zM()||"connection"in navigator)?navigator.onLine:!0}function vq(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Da=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ro(t>e,"Short delay should be less than long delay!"),this.isMobile=$M()||qM()}get(){return gq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ob(n,e){ro(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Am=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var wq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_q=new Da(3e4,6e4);function fs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ci(s,o,a,l){return P(this,arguments,function*(n,e,t,r,i={}){return zR(n,i,()=>P(null,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let f=Ed(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:m},c);return HM()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Gr(n.emulatorConfig.host)&&(g.credentials="include"),Am.fetch()(yield qR(n,n.config.apiHost,t,f),g)}))})}function zR(n,e,t){return P(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},yq),e);try{let i=new mb(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Im(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Im(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Im(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Im(n,"user-disabled",o);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw HR(n,d,c);Ti(n,d)}}catch(i){if(i instanceof Mn)throw i;Ti(n,"network-request-failed",{message:String(i)})}})}function Nd(s,o,a,l){return P(this,arguments,function*(n,e,t,r,i={}){let c=yield Ci(n,e,t,r,i);return"mfaPendingCredential"in c&&Ti(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function qR(n,e,t,r){return P(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?Ob(n.config,i):`${n.config.apiScheme}://${i}`;return wq.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function bq(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var mb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ca(this.auth,"network-request-failed")),_q.get())})}};function Im(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ca(n,e,r);return i.customData._tokenResponse=t,i}function CR(n){return n!==void 0&&n.enterprise!==void 0}var gb=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bq(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Eq(n,e){return P(this,null,function*(){return Ci(n,"GET","/v2/recaptchaConfig",fs(n,e))})}function Iq(n,e){return P(this,null,function*(){return Ci(n,"POST","/v1/accounts:delete",e)})}function Mm(n,e){return P(this,null,function*(){return Ci(n,"POST","/v1/accounts:lookup",e)})}function xd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Lb(n,e=!1){return P(this,null,function*(){let t=rt(n),r=yield t.getIdToken(e),i=Fb(r);ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:xd(db(i.auth_time)),issuedAtTime:xd(db(i.iat)),expirationTime:xd(db(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function db(n){return Number(n)*1e3}function Fb(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Sm("JWT malformed, contained fewer than 3 sections"),null;try{let i=pm(t);return i?JSON.parse(i):(Sm("Failed to decode base64 JWT payload"),null)}catch(i){return Sm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function DR(n){let e=Fb(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function rc(n,e,t=!1){return P(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Mn&&Sq(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Sq({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var vb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>P(this,null,function*(){yield this.iteration()}),t)}iteration(){return P(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Md=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xd(this.lastLoginAt),this.creationTime=xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rm(n){return P(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield rc(n,Mm(t,{idToken:r}));ge(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?GR(s.providerUserInfo):[],a=Tq(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!a?.length,d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Md(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function Vb(n){return P(this,null,function*(){let e=rt(n);yield Rm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Tq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GR(n){return n.map(e=>{var{providerId:t}=e,r=vy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Cq(n,e){return P(this,null,function*(){let t=yield zR(n,{},()=>P(null,null,function*(){let r=Ed({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield qR(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return n.emulatorConfig&&Gr(n.emulatorConfig.host)&&(l.credentials="include"),Am.fetch()(o,l)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Dq(n,e){return P(this,null,function*(){return Ci(n,"POST","/v2/accounts:revokeToken",fs(n,e))})}var Ad=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");let t=DR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return P(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return P(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Cq(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return cs("not implemented")}};function to(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var no=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=vy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Md(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return P(this,null,function*(){let t=yield rc(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Lb(this,e)}reload(){return Vb(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return P(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Rm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return P(this,null,function*(){if(In(this.auth.app))return Promise.reject(ds(this.auth));let e=yield this.getIdToken();return yield rc(this,Iq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,g=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,h=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,w=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,D=(c=t.createdAt)!==null&&c!==void 0?c:void 0,I=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:O,isAnonymous:U,providerData:j,stsTokenManager:M}=t;ge(E&&M,e,"internal-error");let b=Ad.fromJSON(this.name,M);ge(typeof E=="string",e,"internal-error"),to(f,e.name),to(m,e.name),ge(typeof O=="boolean",e,"internal-error"),ge(typeof U=="boolean",e,"internal-error"),to(g,e.name),to(h,e.name),to(v,e.name),to(w,e.name),to(D,e.name),to(I,e.name);let _=new n({uid:E,auth:e,email:m,emailVerified:O,displayName:f,isAnonymous:U,photoURL:h,phoneNumber:g,tenantId:v,stsTokenManager:b,createdAt:D,lastLoginAt:I});return j&&Array.isArray(j)&&(_.providerData=j.map(C=>Object.assign({},C))),w&&(_._redirectEventId=w),_}static _fromIdTokenResponse(e,t,r=!1){return P(this,null,function*(){let i=new Ad;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rm(s),s})}static _fromGetAccountInfoResponse(e,t,r){return P(this,null,function*(){let i=t.users[0];ge(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?GR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ad;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Md(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var xR=new Map;function us(n){ro(n instanceof Function,"Expected a class definition");let e=xR.get(n);return e?(ro(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xR.set(n,e),e)}var xq=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return P(this,null,function*(){return!0})}_set(t,r){return P(this,null,function*(){this.storage[t]=r})}_get(t){return P(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return P(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),yb=xq;function Tm(n,e,t){return`firebase:${n}:${e}:${t}`}var km=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Tm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return P(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Mm(this.auth,{idToken:e}).catch(()=>{});return t?no._fromGetAccountInfoResponse(this.auth,t,e):null}return no._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return P(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return P(this,null,function*(){if(!t.length)return new n(us(yb),e,r);let i=(yield Promise.all(t.map(c=>P(null,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||us(yb),o=Tm(r,e.config.apiKey,e.name),a=null;for(let c of t)try{let d=yield c._get(o);if(d){let f;if(typeof d=="string"){let m=yield Mm(e,{idToken:d}).catch(()=>{});if(!m)break;f=yield no._fromGetAccountInfoResponse(e,m,d)}else f=no._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(c=>P(null,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new n(s,e,r))})}};function AR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZR(e))return"Blackberry";if(JR(e))return"Webos";if(KR(e))return"Safari";if((e.includes("chrome/")||YR(e))&&!e.includes("edge/"))return"Chrome";if(XR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function WR(n=rn()){return/firefox\//i.test(n)}function KR(n=rn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YR(n=rn()){return/crios\//i.test(n)}function QR(n=rn()){return/iemobile/i.test(n)}function XR(n=rn()){return/android/i.test(n)}function ZR(n=rn()){return/blackberry/i.test(n)}function JR(n=rn()){return/webos/i.test(n)}function Ub(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Aq(n=rn()){var e;return Ub(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mq(){return GM()&&document.documentMode===10}function ek(n=rn()){return Ub(n)||XR(n)||JR(n)||ZR(n)||/windows phone/i.test(n)||QR(n)}function tk(n,e=[]){let t;switch(n){case"Browser":t=AR(rn());break;case"Worker":t=`${AR(rn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bi}/${r}`}var wb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return P(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Rq(t){return P(this,arguments,function*(n,e={}){return Ci(n,"GET","/v2/passwordPolicy",fs(n,e))})}var kq=6,_b=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:kq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var bb=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pm(this),this.idTokenSubscription=new Pm(this),this.beforeStateQueue=new wb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$R,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=us(t)),this._initializationPromise=this.queue(()=>P(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield km.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return P(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return P(this,null,function*(){try{let t=yield Mm(this,{idToken:e}),r=yield no._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return P(this,null,function*(){var t;if(In(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return P(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return P(this,null,function*(){try{yield Rm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=vq()}_delete(){return P(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return P(this,null,function*(){if(In(this.app))return Promise.reject(ds(this));let t=e?rt(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return P(this,null,function*(){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>P(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return P(this,null,function*(){return In(this.app)?Promise.reject(ds(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return In(this.app)?Promise.reject(ds(this)):this.queue(()=>P(this,null,function*(){yield this.assertedPersistence.setPersistence(us(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return P(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return P(this,null,function*(){let e=yield Rq(this),t=new _b(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return P(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Dq(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return P(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return P(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&us(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=yield km.create(this,[us(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return P(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>P(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return P(this,null,function*(){if(e===this.currentUser)return this.queue(()=>P(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return P(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return P(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return P(this,null,function*(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&pq(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function io(n){return rt(n)}var Pm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=QM(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bm={loadJS(){return P(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pq(n){Bm=n}function nk(n){return Bm.loadJS(n)}function Nq(){return Bm.recaptchaEnterpriseScript}function Oq(){return Bm.gapiScript}function rk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Eb=class{constructor(){this.enterprise=new Ib}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Ib=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var Lq="recaptcha-enterprise",ik="NO_RECAPTCHA",Sb=class{constructor(e){this.type=Lq,this.auth=io(e)}verify(e="verify",t=!1){return P(this,null,function*(){function r(s){return P(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>P(null,null,function*(){Eq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new gb(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function i(s,o,a){let l=window.grecaptcha;CR(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(ik)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Eb().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&CR(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Nq();l.length!==0&&(l+=a),nk(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function Dd(n,e,t,r=!1,i=!1){return P(this,null,function*(){let s=new Sb(n),o;if(i)o=ik;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Nm(n,e,t,r,i){return P(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Dd(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>P(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Dd(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield Dd(n,e,t);return r(n,a).catch(l=>P(null,null,function*(){var c;if(((c=n._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Dd(n,e,t,!1,!0);return r(n,d)}return Promise.reject(l)}))}else{let a=yield Dd(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function jb(n,e){let t=Xs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(yi(s,e??{}))return i;Ti(i,"already-initialized")}return t.initialize({options:e})}function Fq(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(us);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Bb(n,e,t){let r=io(n);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=sk(e),{host:o,port:a}=Vq(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(yi(c,r.config.emulator)&&yi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Gr(o)?(Zl(`${s}//${o}${l}`),Jl("Auth",!0)):i||Uq()}function sk(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Vq(n){let e=sk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:MR(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:MR(o)}}}function MR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Uq(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Rd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,t){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}};function jq(n,e){return P(this,null,function*(){return Ci(n,"POST","/v1/accounts:signUp",e)})}function Bq(n,e){return P(this,null,function*(){return Nd(n,"POST","/v1/accounts:signInWithPassword",fs(n,e))})}function $q(n,e){return P(this,null,function*(){return Ci(n,"POST","/v1/accounts:sendOobCode",fs(n,e))})}function Hq(n,e){return P(this,null,function*(){return $q(n,e)})}function zq(n,e){return P(this,null,function*(){return Nd(n,"POST","/v1/accounts:signInWithEmailLink",fs(n,e))})}function qq(n,e){return P(this,null,function*(){return Nd(n,"POST","/v1/accounts:signInWithEmailLink",fs(n,e))})}var kd=class n extends Rd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return P(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,t,"signInWithPassword",Bq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zq(e,{email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}})}_linkToIdToken(e,t){return P(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,r,"signUpPassword",jq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return qq(e,{idToken:t,email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function fb(n,e){return P(this,null,function*(){return Nd(n,"POST","/v1/accounts:signInWithIdp",fs(n,e))})}function Gq(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Wq(n){let e=ec(tc(n)).link,t=e?ec(tc(e)).deep_link_id:null,r=ec(tc(n)).deep_link_id;return(r?ec(tc(r)).link:null)||r||t||e||n}var Om=class n{constructor(e){var t,r,i,s,o,a;let l=ec(tc(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Gq((i=l.mode)!==null&&i!==void 0?i:null);ge(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Wq(e);try{return new n(t)}catch{return null}}};var ok=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return kd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Om.parseLink(r);return ge(i,"argument-error"),kd._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Lm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Tb=class extends Lm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Kq(n,e){return P(this,null,function*(){return Nd(n,"POST","/v1/accounts:signUp",fs(n,e))})}var ic=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return P(this,null,function*(){let s=yield no._fromIdTokenResponse(e,r,i),o=RR(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return P(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=RR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function RR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Cb=class n extends Mn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function ak(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Cb._fromErrorAndOperation(n,s,e,r):s})}function Yq(n,e,t=!1){return P(this,null,function*(){let r=yield rc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ic._forOperation(n,"link",r)})}function Qq(n,e,t=!1){return P(this,null,function*(){let{auth:r}=n;if(In(r.app))return Promise.reject(ds(r));let i="reauthenticate";try{let s=yield rc(n,ak(r,i,e,n),t);ge(s.idToken,r,"internal-error");let o=Fb(s.idToken);ge(o,r,"internal-error");let{sub:a}=o;return ge(n.uid===a,r,"user-mismatch"),ic._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ti(r,"user-mismatch"),s}})}function lk(n,e,t=!1){return P(this,null,function*(){if(In(n.app))return Promise.reject(ds(n));let r="signIn",i=yield ak(n,r,e),s=yield ic._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function $b(n,e){return P(this,null,function*(){return lk(io(n),e)})}function Xq(n,e,t){var r;ge(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ge(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ge(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ge(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ge(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function ck(n){return P(this,null,function*(){let e=io(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Hb(n,e,t){return P(this,null,function*(){let r=io(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Xq(r,i,t),yield Nm(r,i,"getOobCode",Hq,"EMAIL_PASSWORD_PROVIDER")})}function zb(n,e,t){return P(this,null,function*(){if(In(n.app))return Promise.reject(ds(n));let r=io(n),o=yield Nm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Kq,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ck(n),l}),a=yield ic._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function qb(n,e,t){return In(n.app)?Promise.reject(ds(n)):$b(rt(n),ok.credential(e,t)).catch(r=>P(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ck(n),r}))}function Zq(n,e){return P(this,null,function*(){return Ci(n,"POST","/v1/accounts:update",e)})}function Gb(r,i){return P(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let s=rt(n),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=yield rc(s,Zq(s.auth,a));s.displayName=l.displayName||null,s.photoURL=l.photoUrl||null;let c=s.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=s.displayName,c.photoURL=s.photoURL),yield s._updateTokensIfNecessary(l)})}function Wb(n,e,t,r){return rt(n).onIdTokenChanged(e,t,r)}function Kb(n,e,t){return rt(n).beforeAuthStateChanged(e,t)}function Yb(n,e,t,r){return rt(n).onAuthStateChanged(e,t,r)}function Qb(n){return rt(n).signOut()}var Fm="__sak";var Vm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fm,"1"),this.storage.removeItem(Fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Jq=1e3,e6=10,t6=(()=>{class n extends Vm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ek(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Mq()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,e6):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Jq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return P(this,null,function*(){yield Ms(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return P(this,null,function*(){let r=yield Ms(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return P(this,null,function*(){yield Ms(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),uk=t6;var n6=(()=>{class n extends Vm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Xb=n6;function r6(n){return Promise.all(n.map(e=>P(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var i6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return P(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(d=>P(this,null,function*(){return d(r.origin,o)})),c=yield r6(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function dk(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Db=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return P(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=dk("",20);i.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Si(){return window}function s6(n){Si().location.href=n}function fk(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}function o6(){return P(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function a6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function l6(){return fk()?self:null}var hk="firebaseLocalStorageDb",c6=1,Um="firebaseLocalStorage",pk="fbase_key",xa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function $m(n,e){return n.transaction([Um],e?"readwrite":"readonly").objectStore(Um)}function u6(){let n=indexedDB.deleteDatabase(hk);return new xa(n).toPromise()}function xb(){let n=indexedDB.open(hk,c6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Um,{keyPath:pk})}catch(i){t(i)}}),n.addEventListener("success",()=>P(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Um)?e(r):(r.close(),yield u6(),e(yield xb()))}))})}function kR(n,e,t){return P(this,null,function*(){let r=$m(n,!0).put({[pk]:e,value:t});return new xa(r).toPromise()})}function d6(n,e){return P(this,null,function*(){let t=$m(n,!1).get(e),r=yield new xa(t).toPromise();return r===void 0?null:r.value})}function PR(n,e){let t=$m(n,!0).delete(e);return new xa(t).toPromise()}var f6=800,h6=3,p6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return P(this,null,function*(){return this.db?this.db:(this.db=yield xb(),this.db)})}_withRetries(t){return P(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>h6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return P(this,null,function*(){return fk()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return P(this,null,function*(){this.receiver=i6._getInstance(l6()),this.receiver._subscribe("keyChanged",(t,r)=>P(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>P(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return P(this,null,function*(){var t,r;if(this.activeServiceWorker=yield o6(),!this.activeServiceWorker)return;this.sender=new Db(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return P(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||a6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return P(this,null,function*(){try{if(!indexedDB)return!1;let t=yield xb();return yield kR(t,Fm,"1"),yield PR(t,Fm),!0}catch{}return!1})}_withPendingWrite(t){return P(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return P(this,null,function*(){return this._withPendingWrite(()=>P(this,null,function*(){return yield this._withRetries(i=>kR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return P(this,null,function*(){let r=yield this._withRetries(i=>d6(i,t));return this.localCache[t]=r,r})}_remove(t){return P(this,null,function*(){return this._withPendingWrite(()=>P(this,null,function*(){return yield this._withRetries(r=>PR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return P(this,null,function*(){let t=yield this._withRetries(s=>{let o=$m(s,!1).getAll();return new xa(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>P(this,null,function*(){return this._poll()}),f6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),mk=p6;var mae=rk("rcb"),gae=new Da(3e4,6e4);function m6(n,e){return e?us(e):(ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Pd=class extends Rd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fb(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fb(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fb(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function g6(n){return lk(n.auth,new Pd(n),n.bypassAuthState)}function v6(n){let{auth:e,user:t}=n;return ge(t,e,"internal-error"),Qq(t,new Pd(n),n.bypassAuthState)}function y6(n){return P(this,null,function*(){let{auth:e,user:t}=n;return ge(t,e,"internal-error"),Yq(t,new Pd(n),n.bypassAuthState)})}var Ab=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>P(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return P(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g6;case"linkViaPopup":case"linkViaRedirect":return y6;case"reauthViaPopup":case"reauthViaRedirect":return v6;default:Ti(this.auth,"internal-error")}}resolve(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var vae=new Da(2e3,1e4);var w6="pendingRedirect",Cm=new Map,Mb=class n extends Ab{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return P(this,null,function*(){let e=Cm.get(this.auth._key());if(!e){try{let r=(yield _6(this.resolver,this.auth))?yield Ms(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Cm.set(this.auth._key(),e)}return this.bypassAuthState||Cm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return P(this,null,function*(){if(e.type==="signInViaRedirect")return Ms(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ms(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return P(this,null,function*(){})}cleanUp(){}};function _6(n,e){return P(this,null,function*(){let t=I6(e),r=E6(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function b6(n,e){Cm.set(n._key(),e)}function E6(n){return us(n._redirectPersistence)}function I6(n){return Tm(w6,n.config.apiKey,n.name)}function S6(n,e,t=!1){return P(this,null,function*(){if(In(n.app))return Promise.reject(ds(n));let r=io(n),i=m6(r,e),o=yield new Mb(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var T6=10*60*1e3,Rb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gk(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ca(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T6&&this.cachedEventUids.clear(),this.cachedEventUids.has(NR(e))}saveEventToCache(e){this.cachedEventUids.add(NR(e)),this.lastProcessedEventTime=Date.now()}};function NR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gk({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function C6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gk(n);default:return!1}}function D6(t){return P(this,arguments,function*(n,e={}){return Ci(n,"GET","/v1/projects",e)})}var x6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A6=/^https?/;function M6(n){return P(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield D6(n);for(let t of e)try{if(R6(t))return}catch{}Ti(n,"unauthorized-domain")})}function R6(n){let e=pb(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!A6.test(t))return!1;if(x6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var k6=new Da(3e4,6e4);function OR(){let n=Si().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function P6(n){return new Promise((e,t)=>{var r,i,s;function o(){OR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OR(),t(Ca(n,"network-request-failed"))},timeout:k6.get()})}if(!((i=(r=Si().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Si().gapi)===null||s===void 0)&&s.load)o();else{let a=rk("iframefcb");return Si()[a]=()=>{gapi.load?o():t(Ca(n,"network-request-failed"))},nk(`${Oq()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Dm=null,e})}var Dm=null;function N6(n){return Dm=Dm||P6(n),Dm}var O6=new Da(5e3,15e3),L6="__/auth/iframe",F6="emulator/auth/iframe",V6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j6(n){let e=n.config;ge(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ob(e,F6):`https://${n.config.authDomain}/${L6}`,r={apiKey:e.apiKey,appName:n.name,v:bi},i=U6.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ed(r).slice(1)}`}function B6(n){return P(this,null,function*(){let e=yield N6(n),t=Si().gapi;return ge(t,n,"internal-error"),e.open({where:document.body,url:j6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V6,dontclear:!0},r=>new Promise((i,s)=>P(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ca(n,"network-request-failed"),a=Si().setTimeout(()=>{s(o)},O6.get());function l(){Si().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var $6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H6=500,z6=600,q6="_blank",G6="http://localhost",jm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function W6(n,e,t,r=H6,i=z6){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},$6),{width:r.toString(),height:i.toString(),top:s,left:o}),c=rn().toLowerCase();t&&(a=YR(c)?q6:t),WR(c)&&(e=e||G6,l.scrollbars="yes");let d=Object.entries(l).reduce((m,[g,h])=>`${m}${g}=${h},`,"");if(Aq(c)&&a!=="_self")return K6(e||"",a),new jm(null);let f=window.open(e||"",a,d);ge(f,n,"popup-blocked");try{f.focus()}catch{}return new jm(f)}function K6(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Y6="__/auth/handler",Q6="emulator/auth/handler",X6=encodeURIComponent("fac");function LR(n,e,t,r,i,s){return P(this,null,function*(){ge(n.config.authDomain,n,"auth-domain-config-required"),ge(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:bi,eventId:i};if(e instanceof Lm){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",YM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof Tb){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let l=yield n._getAppCheckToken(),c=l?`#${X6}=${encodeURIComponent(l)}`:"";return`${Z6(n)}?${Ed(a).slice(1)}${c}`})}function Z6({config:n}){return n.emulator?Ob(n,Q6):`https://${n.authDomain}/${Y6}`}var hb="webStorageSupport",kb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xb,this._completeRedirectFn=S6,this._overrideRedirectResult=b6}_openPopup(e,t,r,i){return P(this,null,function*(){var s;ro((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield LR(e,t,r,pb(),i);return W6(e,o,dk())})}_openRedirect(e,t,r,i){return P(this,null,function*(){yield this._originValidation(e);let s=yield LR(e,t,r,pb(),i);return s6(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ro(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return P(this,null,function*(){let t=yield B6(e),r=new Rb(e);return t.register("authEvent",i=>(ge(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hb,{type:hb},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[hb];o!==void 0&&t(!!o),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=M6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ek()||KR()||Ub()}},vk=kb;var FR="@firebase/auth",VR="1.10.8";var Pb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return P(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function J6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e5(n){ir(new un("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tk(n)},c=new bb(r,i,s,l);return Fq(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ir(new un("auth-internal",e=>{let t=io(e.getProvider("auth").getImmediate());return(r=>new Pb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ut(FR,VR,J6(n)),ut(FR,VR,"esm2017")}var t5=5*60,n5=B0("authIdTokenMaxAge")||t5,UR=null,r5=n=>e=>P(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>n5)return;let i=t?.token;UR!==i&&(UR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Hm(n=as()){let e=Xs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=jb(n,{popupRedirectResolver:vk,persistence:[mk,uk,Xb]}),r=B0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=r5(s.toString());Kb(t,o,()=>o(t.currentUser)),Wb(t,a=>o(a))}}let i=U0("auth");return i&&Bb(t,`http://${i}`),t}function i5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Pq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Ca("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",i5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e5("Browser");var yk="auth",hs=class{constructor(e){return e}},Aa=class{constructor(){return Zs(yk)}};var Zb=new le("angularfire2.auth-instances");function z5(n,e){let t=Ta(yk,n,e);return t&&new hs(t)}function q5(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new hs(r)}}var G5={provide:Aa,deps:[[new en,Zb]]},W5={provide:hs,useFactory:z5,deps:[[new en,Zb],Wr]};function wk(n,...e){return ut("angularfire",Ei.full,"auth"),Fr([W5,G5,{provide:Zb,useFactory:q5(n),multi:!0,deps:[We,vt,Ii,ls,[new en,eo],...e]}])}var _k=gt(zb,!0,2);var bk=gt(Yb,!0);var Ek=gt(Hb,!0,2);var Ik=gt(qb,!0,2);var Sk=gt(Qb,!0,2);var Tk=gt(Gb,!0,2);var Ck=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dk={};var ps,Jb;(function(){var n;function e(M,b){function _(){}_.prototype=b.prototype,M.D=b.prototype,M.prototype=new _,M.prototype.constructor=M,M.C=function(C,R,k){for(var S=Array(arguments.length-2),z=2;z<arguments.length;z++)S[z-2]=arguments[z];return b.prototype[R].apply(C,S)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,b,_){_||(_=0);var C=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)C[R]=b.charCodeAt(_++)|b.charCodeAt(_++)<<8|b.charCodeAt(_++)<<16|b.charCodeAt(_++)<<24;else for(R=0;16>R;++R)C[R]=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24;b=M.g[0],_=M.g[1],R=M.g[2];var k=M.g[3],S=b+(k^_&(R^k))+C[0]+3614090360&4294967295;b=_+(S<<7&4294967295|S>>>25),S=k+(R^b&(_^R))+C[1]+3905402710&4294967295,k=b+(S<<12&4294967295|S>>>20),S=R+(_^k&(b^_))+C[2]+606105819&4294967295,R=k+(S<<17&4294967295|S>>>15),S=_+(b^R&(k^b))+C[3]+3250441966&4294967295,_=R+(S<<22&4294967295|S>>>10),S=b+(k^_&(R^k))+C[4]+4118548399&4294967295,b=_+(S<<7&4294967295|S>>>25),S=k+(R^b&(_^R))+C[5]+1200080426&4294967295,k=b+(S<<12&4294967295|S>>>20),S=R+(_^k&(b^_))+C[6]+2821735955&4294967295,R=k+(S<<17&4294967295|S>>>15),S=_+(b^R&(k^b))+C[7]+4249261313&4294967295,_=R+(S<<22&4294967295|S>>>10),S=b+(k^_&(R^k))+C[8]+1770035416&4294967295,b=_+(S<<7&4294967295|S>>>25),S=k+(R^b&(_^R))+C[9]+2336552879&4294967295,k=b+(S<<12&4294967295|S>>>20),S=R+(_^k&(b^_))+C[10]+4294925233&4294967295,R=k+(S<<17&4294967295|S>>>15),S=_+(b^R&(k^b))+C[11]+2304563134&4294967295,_=R+(S<<22&4294967295|S>>>10),S=b+(k^_&(R^k))+C[12]+1804603682&4294967295,b=_+(S<<7&4294967295|S>>>25),S=k+(R^b&(_^R))+C[13]+4254626195&4294967295,k=b+(S<<12&4294967295|S>>>20),S=R+(_^k&(b^_))+C[14]+2792965006&4294967295,R=k+(S<<17&4294967295|S>>>15),S=_+(b^R&(k^b))+C[15]+1236535329&4294967295,_=R+(S<<22&4294967295|S>>>10),S=b+(R^k&(_^R))+C[1]+4129170786&4294967295,b=_+(S<<5&4294967295|S>>>27),S=k+(_^R&(b^_))+C[6]+3225465664&4294967295,k=b+(S<<9&4294967295|S>>>23),S=R+(b^_&(k^b))+C[11]+643717713&4294967295,R=k+(S<<14&4294967295|S>>>18),S=_+(k^b&(R^k))+C[0]+3921069994&4294967295,_=R+(S<<20&4294967295|S>>>12),S=b+(R^k&(_^R))+C[5]+3593408605&4294967295,b=_+(S<<5&4294967295|S>>>27),S=k+(_^R&(b^_))+C[10]+38016083&4294967295,k=b+(S<<9&4294967295|S>>>23),S=R+(b^_&(k^b))+C[15]+3634488961&4294967295,R=k+(S<<14&4294967295|S>>>18),S=_+(k^b&(R^k))+C[4]+3889429448&4294967295,_=R+(S<<20&4294967295|S>>>12),S=b+(R^k&(_^R))+C[9]+568446438&4294967295,b=_+(S<<5&4294967295|S>>>27),S=k+(_^R&(b^_))+C[14]+3275163606&4294967295,k=b+(S<<9&4294967295|S>>>23),S=R+(b^_&(k^b))+C[3]+4107603335&4294967295,R=k+(S<<14&4294967295|S>>>18),S=_+(k^b&(R^k))+C[8]+1163531501&4294967295,_=R+(S<<20&4294967295|S>>>12),S=b+(R^k&(_^R))+C[13]+2850285829&4294967295,b=_+(S<<5&4294967295|S>>>27),S=k+(_^R&(b^_))+C[2]+4243563512&4294967295,k=b+(S<<9&4294967295|S>>>23),S=R+(b^_&(k^b))+C[7]+1735328473&4294967295,R=k+(S<<14&4294967295|S>>>18),S=_+(k^b&(R^k))+C[12]+2368359562&4294967295,_=R+(S<<20&4294967295|S>>>12),S=b+(_^R^k)+C[5]+4294588738&4294967295,b=_+(S<<4&4294967295|S>>>28),S=k+(b^_^R)+C[8]+2272392833&4294967295,k=b+(S<<11&4294967295|S>>>21),S=R+(k^b^_)+C[11]+1839030562&4294967295,R=k+(S<<16&4294967295|S>>>16),S=_+(R^k^b)+C[14]+4259657740&4294967295,_=R+(S<<23&4294967295|S>>>9),S=b+(_^R^k)+C[1]+2763975236&4294967295,b=_+(S<<4&4294967295|S>>>28),S=k+(b^_^R)+C[4]+1272893353&4294967295,k=b+(S<<11&4294967295|S>>>21),S=R+(k^b^_)+C[7]+4139469664&4294967295,R=k+(S<<16&4294967295|S>>>16),S=_+(R^k^b)+C[10]+3200236656&4294967295,_=R+(S<<23&4294967295|S>>>9),S=b+(_^R^k)+C[13]+681279174&4294967295,b=_+(S<<4&4294967295|S>>>28),S=k+(b^_^R)+C[0]+3936430074&4294967295,k=b+(S<<11&4294967295|S>>>21),S=R+(k^b^_)+C[3]+3572445317&4294967295,R=k+(S<<16&4294967295|S>>>16),S=_+(R^k^b)+C[6]+76029189&4294967295,_=R+(S<<23&4294967295|S>>>9),S=b+(_^R^k)+C[9]+3654602809&4294967295,b=_+(S<<4&4294967295|S>>>28),S=k+(b^_^R)+C[12]+3873151461&4294967295,k=b+(S<<11&4294967295|S>>>21),S=R+(k^b^_)+C[15]+530742520&4294967295,R=k+(S<<16&4294967295|S>>>16),S=_+(R^k^b)+C[2]+3299628645&4294967295,_=R+(S<<23&4294967295|S>>>9),S=b+(R^(_|~k))+C[0]+4096336452&4294967295,b=_+(S<<6&4294967295|S>>>26),S=k+(_^(b|~R))+C[7]+1126891415&4294967295,k=b+(S<<10&4294967295|S>>>22),S=R+(b^(k|~_))+C[14]+2878612391&4294967295,R=k+(S<<15&4294967295|S>>>17),S=_+(k^(R|~b))+C[5]+4237533241&4294967295,_=R+(S<<21&4294967295|S>>>11),S=b+(R^(_|~k))+C[12]+1700485571&4294967295,b=_+(S<<6&4294967295|S>>>26),S=k+(_^(b|~R))+C[3]+2399980690&4294967295,k=b+(S<<10&4294967295|S>>>22),S=R+(b^(k|~_))+C[10]+4293915773&4294967295,R=k+(S<<15&4294967295|S>>>17),S=_+(k^(R|~b))+C[1]+2240044497&4294967295,_=R+(S<<21&4294967295|S>>>11),S=b+(R^(_|~k))+C[8]+1873313359&4294967295,b=_+(S<<6&4294967295|S>>>26),S=k+(_^(b|~R))+C[15]+4264355552&4294967295,k=b+(S<<10&4294967295|S>>>22),S=R+(b^(k|~_))+C[6]+2734768916&4294967295,R=k+(S<<15&4294967295|S>>>17),S=_+(k^(R|~b))+C[13]+1309151649&4294967295,_=R+(S<<21&4294967295|S>>>11),S=b+(R^(_|~k))+C[4]+4149444226&4294967295,b=_+(S<<6&4294967295|S>>>26),S=k+(_^(b|~R))+C[11]+3174756917&4294967295,k=b+(S<<10&4294967295|S>>>22),S=R+(b^(k|~_))+C[2]+718787259&4294967295,R=k+(S<<15&4294967295|S>>>17),S=_+(k^(R|~b))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,M.g[2]=M.g[2]+R&4294967295,M.g[3]=M.g[3]+k&4294967295}r.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var _=b-this.blockSize,C=this.B,R=this.h,k=0;k<b;){if(R==0)for(;k<=_;)i(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<b;)if(C[R++]=M.charCodeAt(k++),R==this.blockSize){i(this,C),R=0;break}}else for(;k<b;)if(C[R++]=M[k++],R==this.blockSize){i(this,C),R=0;break}}this.h=R,this.o+=b},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var _=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=_&255,_/=256;for(this.u(M),M=Array(16),b=_=0;4>b;++b)for(var C=0;32>C;C+=8)M[_++]=this.g[b]>>>C&255;return M};function s(M,b){var _=a;return Object.prototype.hasOwnProperty.call(_,M)?_[M]:_[M]=b(M)}function o(M,b){this.h=b;for(var _=[],C=!0,R=M.length-1;0<=R;R--){var k=M[R]|0;C&&k==b||(_[R]=k,C=!1)}this.g=_}var a={};function l(M){return-128<=M&&128>M?s(M,function(b){return new o([b|0],0>b?-1:0)}):new o([M|0],0>M?-1:0)}function c(M){if(isNaN(M)||!isFinite(M))return f;if(0>M)return w(c(-M));for(var b=[],_=1,C=0;M>=_;C++)b[C]=M/_|0,_*=4294967296;return new o(b,0)}function d(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return w(d(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(b,8)),C=f,R=0;R<M.length;R+=8){var k=Math.min(8,M.length-R),S=parseInt(M.substring(R,R+k),b);8>k?(k=c(Math.pow(b,k)),C=C.j(k).add(c(S))):(C=C.j(_),C=C.add(c(S)))}return C}var f=l(0),m=l(1),g=l(16777216);n=o.prototype,n.m=function(){if(v(this))return-w(this).m();for(var M=0,b=1,_=0;_<this.g.length;_++){var C=this.i(_);M+=(0<=C?C:4294967296+C)*b,b*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(h(this))return"0";if(v(this))return"-"+w(this).toString(M);for(var b=c(Math.pow(M,6)),_=this,C="";;){var R=O(_,b).g;_=D(_,R.j(b));var k=((0<_.g.length?_.g[0]:_.h)>>>0).toString(M);if(_=R,h(_))return k+C;for(;6>k.length;)k="0"+k;C=k+C}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function h(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function v(M){return M.h==-1}n.l=function(M){return M=D(this,M),v(M)?-1:h(M)?0:1};function w(M){for(var b=M.g.length,_=[],C=0;C<b;C++)_[C]=~M.g[C];return new o(_,~M.h).add(m)}n.abs=function(){return v(this)?w(this):this},n.add=function(M){for(var b=Math.max(this.g.length,M.g.length),_=[],C=0,R=0;R<=b;R++){var k=C+(this.i(R)&65535)+(M.i(R)&65535),S=(k>>>16)+(this.i(R)>>>16)+(M.i(R)>>>16);C=S>>>16,k&=65535,S&=65535,_[R]=S<<16|k}return new o(_,_[_.length-1]&-2147483648?-1:0)};function D(M,b){return M.add(w(b))}n.j=function(M){if(h(this)||h(M))return f;if(v(this))return v(M)?w(this).j(w(M)):w(w(this).j(M));if(v(M))return w(this.j(w(M)));if(0>this.l(g)&&0>M.l(g))return c(this.m()*M.m());for(var b=this.g.length+M.g.length,_=[],C=0;C<2*b;C++)_[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<M.g.length;R++){var k=this.i(C)>>>16,S=this.i(C)&65535,z=M.i(R)>>>16,Y=M.i(R)&65535;_[2*C+2*R]+=S*Y,I(_,2*C+2*R),_[2*C+2*R+1]+=k*Y,I(_,2*C+2*R+1),_[2*C+2*R+1]+=S*z,I(_,2*C+2*R+1),_[2*C+2*R+2]+=k*z,I(_,2*C+2*R+2)}for(C=0;C<b;C++)_[C]=_[2*C+1]<<16|_[2*C];for(C=b;C<2*b;C++)_[C]=0;return new o(_,0)};function I(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function E(M,b){this.g=M,this.h=b}function O(M,b){if(h(b))throw Error("division by zero");if(h(M))return new E(f,f);if(v(M))return b=O(w(M),b),new E(w(b.g),w(b.h));if(v(b))return b=O(M,w(b)),new E(w(b.g),b.h);if(30<M.g.length){if(v(M)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var _=m,C=b;0>=C.l(M);)_=U(_),C=U(C);var R=j(_,1),k=j(C,1);for(C=j(C,2),_=j(_,2);!h(C);){var S=k.add(C);0>=S.l(M)&&(R=R.add(_),k=S),C=j(C,1),_=j(_,1)}return b=D(M,R.j(b)),new E(R,b)}for(R=f;0<=M.l(b);){for(_=Math.max(1,Math.floor(M.m()/b.m())),C=Math.ceil(Math.log(_)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),k=c(_),S=k.j(b);v(S)||0<S.l(M);)_-=C,k=c(_),S=k.j(b);h(k)&&(k=m),R=R.add(k),M=D(M,S)}return new E(R,M)}n.A=function(M){return O(this,M).h},n.and=function(M){for(var b=Math.max(this.g.length,M.g.length),_=[],C=0;C<b;C++)_[C]=this.i(C)&M.i(C);return new o(_,this.h&M.h)},n.or=function(M){for(var b=Math.max(this.g.length,M.g.length),_=[],C=0;C<b;C++)_[C]=this.i(C)|M.i(C);return new o(_,this.h|M.h)},n.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),_=[],C=0;C<b;C++)_[C]=this.i(C)^M.i(C);return new o(_,this.h^M.h)};function U(M){for(var b=M.g.length+1,_=[],C=0;C<b;C++)_[C]=M.i(C)<<1|M.i(C-1)>>>31;return new o(_,M.h)}function j(M,b){var _=b>>5;b%=32;for(var C=M.g.length-_,R=[],k=0;k<C;k++)R[k]=0<b?M.i(k+_)>>>b|M.i(k+_+1)<<32-b:M.i(k+_);return new o(R,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Jb=Dk.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ps=Dk.Integer=o}).apply(typeof Ck<"u"?Ck:typeof self<"u"?self:typeof window<"u"?window:{});var zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ms={};var eE,K5,sc,tE,Od,qm,nE,rE,iE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zm=="object"&&zm];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=t(this);function i(u,p){if(p)e:{var y=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var V=u[x];if(!(V in y))break e;y=y[V]}u=u[u.length-1],x=y[u],p=p(x),p!=x&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var y=0,x=!1,V={next:function(){if(!x&&y<u.length){var H=y++;return{value:p(H,u[H]),done:!1}}return x=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,y){return y})}});var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,y){return u.call.apply(u.bind,arguments)}function f(u,p,y){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,x),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function m(u,p,y){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var x=y.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function h(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(x,V,H){for(var re=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)re[lt-2]=arguments[lt];return p.prototype[V].apply(x,re)}}function v(u){let p=u.length;if(0<p){let y=Array(p);for(let x=0;x<p;x++)y[x]=u[x];return y}return[]}function w(u,p){for(let y=1;y<arguments.length;y++){let x=arguments[y];if(l(x)){let V=u.length||0,H=x.length||0;u.length=V+H;for(let re=0;re<H;re++)u[V+re]=x[re]}else u.push(x)}}class D{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function I(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function O(u){return O[" "](u),u}O[" "]=function(){};var U=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function j(u,p,y){for(let x in u)p.call(y,u[x],x,u)}function M(u,p){for(let y in u)p.call(void 0,u[y],y,u)}function b(u){let p={};for(let y in u)p[y]=u[y];return p}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let y,x;for(let V=1;V<arguments.length;V++){x=arguments[V];for(y in x)u[y]=x[y];for(let H=0;H<_.length;H++)y=_[H],Object.prototype.hasOwnProperty.call(x,y)&&(u[y]=x[y])}}function R(u){var p=1;u=u.split(":");let y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function k(u){a.setTimeout(()=>{throw u},0)}function S(){var u=te;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class z{constructor(){this.h=this.g=null}add(p,y){let x=Y.get();x.set(p,y),this.h?this.h.next=x:this.g=x,this.h=x}}var Y=new D(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let B,$=!1,te=new z,Ie=()=>{let u=a.Promise.resolve(void 0);B=()=>{u.then(pt)}};var pt=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(y){k(y)}var p=Y;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}$=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var To=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return u}();function X(u,p){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(U){e:{try{O(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:K[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&X.aa.h.call(this)}}h(X,at);var K={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),je=0;function Zt(u,p,y,x,V){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!x,this.ha=V,this.key=++je,this.da=this.fa=!1}function Kn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Yn(u){this.src=u,this.g={},this.h=0}Yn.prototype.add=function(u,p,y,x,V){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var re=lr(u,p,x,V);return-1<re?(p=u[re],y||(p.fa=!1)):(p=new Zt(p,this.src,H,!!x,V),p.fa=y,u.push(p)),p};function Qn(u,p){var y=p.type;if(y in u.g){var x=u.g[y],V=Array.prototype.indexOf.call(x,p,void 0),H;(H=0<=V)&&Array.prototype.splice.call(x,V,1),H&&(Kn(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function lr(u,p,y,x){for(var V=0;V<u.length;++V){var H=u[V];if(!H.da&&H.listener==p&&H.capture==!!y&&H.ha==x)return V}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),Dn={};function Ss(u,p,y,x,V){if(x&&x.once)return Hi(u,p,y,x,V);if(Array.isArray(p)){for(var H=0;H<p.length;H++)Ss(u,p[H],y,x,V);return null}return y=Mo(y),u&&u[ee]?u.K(p,y,c(x)?!!x.capture:!!x,V):Co(u,p,y,!1,x,V)}function Co(u,p,y,x,V,H){if(!p)throw Error("Invalid event type");var re=c(V)?!!V.capture:!!V,lt=xo(u);if(lt||(u[Vt]=lt=new Yn(u)),y=lt.add(p,y,x,re,H),y.proxy)return y;if(x=Ts(),y.proxy=x,x.src=u,x.listener=y,u.addEventListener)To||(V=re),V===void 0&&(V=!1),u.addEventListener(p.toString(),x,V);else if(u.attachEvent)u.attachEvent(Ja(p.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ts(){function u(y){return p.call(u.src,u.listener,y)}let p=Wc;return u}function Hi(u,p,y,x,V){if(Array.isArray(p)){for(var H=0;H<p.length;H++)Hi(u,p[H],y,x,V);return null}return y=Mo(y),u&&u[ee]?u.L(p,y,c(x)?!!x.capture:!!x,V):Co(u,p,y,!0,x,V)}function Do(u,p,y,x,V){if(Array.isArray(p))for(var H=0;H<p.length;H++)Do(u,p[H],y,x,V);else x=c(x)?!!x.capture:!!x,y=Mo(y),u&&u[ee]?(u=u.i,p=String(p).toString(),p in u.g&&(H=u.g[p],y=lr(H,y,x,V),-1<y&&(Kn(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete u.g[p],u.h--)))):u&&(u=xo(u))&&(p=u.g[p.toString()],u=-1,p&&(u=lr(p,y,x,V)),(y=-1<u?p[u]:null)&&Cs(y))}function Cs(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ee])Qn(p.i,u);else{var y=u.type,x=u.proxy;p.removeEventListener?p.removeEventListener(y,x,u.capture):p.detachEvent?p.detachEvent(Ja(y),x):p.addListener&&p.removeListener&&p.removeListener(x),(y=xo(p))?(Qn(y,u),y.h==0&&(y.src=null,p[Vt]=null)):Kn(u)}}}function Ja(u){return u in Dn?Dn[u]:Dn[u]="on"+u}function Wc(u,p){if(u.da)u=!0;else{p=new X(p,this);var y=u.listener,x=u.ha||u.src;u.fa&&Cs(u),u=y.call(x,p)}return u}function xo(u){return u=u[Vt],u instanceof Yn?u:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mo(u){return typeof u=="function"?u:(u[Ao]||(u[Ao]=function(p){return u.handleEvent(p)}),u[Ao])}function Et(){ot.call(this),this.i=new Yn(this),this.M=this,this.F=null}h(Et,ot),Et.prototype[ee]=!0,Et.prototype.removeEventListener=function(u,p,y,x){Do(this,u,p,y,x)};function Jt(u,p){var y,x=u.F;if(x)for(y=[];x;x=x.F)y.push(x);if(u=u.M,x=p.type||p,typeof p=="string")p=new at(p,u);else if(p instanceof at)p.target=p.target||u;else{var V=p;p=new at(x,u),C(p,V)}if(V=!0,y)for(var H=y.length-1;0<=H;H--){var re=p.g=y[H];V=ri(re,x,!0,p)&&V}if(re=p.g=u,V=ri(re,x,!0,p)&&V,V=ri(re,x,!1,p)&&V,y)for(H=0;H<y.length;H++)re=p.g=y[H],V=ri(re,x,!1,p)&&V}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],x=0;x<y.length;x++)Kn(y[x]);delete u.g[p],u.h--}}this.F=null},Et.prototype.K=function(u,p,y,x){return this.i.add(String(u),p,!1,y,x)},Et.prototype.L=function(u,p,y,x){return this.i.add(String(u),p,!0,y,x)};function ri(u,p,y,x){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,H=0;H<p.length;++H){var re=p[H];if(re&&!re.da&&re.capture==y){var lt=re.listener,ln=re.ha||re.src;re.fa&&Qn(u.i,re),V=lt.call(ln,x)!==!1&&V}}return V&&!x.defaultPrevented}function lT(u,p,y){if(typeof u=="function")y&&(u=m(u,y));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function cT(u){u.g=lT(()=>{u.g=null,u.i&&(u.i=!1,cT(u))},u.l);let p=u.h;u.h=null,u.m.apply(null,p)}class cF extends ot{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:cT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kc(u){ot.call(this),this.h=u,this.g={}}h(Kc,ot);var uT=[];function dT(u){j(u.g,function(p,y){this.g.hasOwnProperty(y)&&Cs(p)},u),u.g={}}Kc.prototype.N=function(){Kc.aa.N.call(this),dT(this)},Kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Av=a.JSON.stringify,uF=a.JSON.parse,dF=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Mv(){}Mv.prototype.h=null;function fT(u){return u.h||(u.h=u.i())}function hT(){}var Yc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rv(){at.call(this,"d")}h(Rv,at);function kv(){at.call(this,"c")}h(kv,at);var Ro={},pT=null;function xf(){return pT=pT||new Et}Ro.La="serverreachability";function mT(u){at.call(this,Ro.La,u)}h(mT,at);function Qc(u){let p=xf();Jt(p,new mT(p))}Ro.STAT_EVENT="statevent";function gT(u,p){at.call(this,Ro.STAT_EVENT,u),this.stat=p}h(gT,at);function xn(u){let p=xf();Jt(p,new gT(p,u))}Ro.Ma="timingevent";function vT(u,p){at.call(this,Ro.Ma,u),this.size=p}h(vT,at);function Xc(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Zc(){this.g=!0}Zc.prototype.xa=function(){this.g=!1};function fF(u,p,y,x,V,H){u.info(function(){if(u.g)if(H)for(var re="",lt=H.split("&"),ln=0;ln<lt.length;ln++){var Ge=lt[ln].split("=");if(1<Ge.length){var fn=Ge[0];Ge=Ge[1];var hn=fn.split("_");re=2<=hn.length&&hn[1]=="type"?re+(fn+"="+Ge+"&"):re+(fn+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+x+") [attempt "+V+"]: "+p+`
`+y+`
`+re})}function hF(u,p,y,x,V,H,re){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+V+"]: "+p+`
`+y+`
`+H+" "+re})}function el(u,p,y,x){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+mF(u,y)+(x?" "+x:"")})}function pF(u,p){u.info(function(){return"TIMEOUT: "+p})}Zc.prototype.info=function(){};function mF(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var x=y[u];if(!(2>x.length)){var V=x[1];if(Array.isArray(V)&&!(1>V.length)){var H=V[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<V.length;re++)V[re]=""}}}}return Av(y)}catch{return p}}var Af={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pv;function Mf(){}h(Mf,Mv),Mf.prototype.g=function(){return new XMLHttpRequest},Mf.prototype.i=function(){return{}},Pv=new Mf;function Ds(u,p,y,x){this.j=u,this.i=p,this.l=y,this.R=x||1,this.U=new Kc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wT}function wT(){this.i=null,this.g="",this.h=!1}var _T={},Nv={};function Ov(u,p,y){u.L=1,u.v=Nf(zi(p)),u.m=y,u.P=!0,bT(u,null)}function bT(u,p){u.F=Date.now(),Rf(u),u.A=zi(u.v);var y=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),OT(y.i,"t",x),u.C=0,y=u.j.J,u.h=new wT,u.g=JT(u.j,y?p:null,!u.m),0<u.O&&(u.M=new cF(m(u.Y,u,u.g),u.O)),p=u.U,y=u.g,x=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(uT[0]=V.toString()),V=uT);for(var H=0;H<V.length;H++){var re=Ss(y,V[H],x||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Qc(),fF(u.i,u.u,u.A,u.l,u.R,u.m)}Ds.prototype.ca=function(u){u=u.target;let p=this.M;p&&qi(u)==3?p.j():this.Y(u)},Ds.prototype.Y=function(u){try{if(u==this.g)e:{let hn=qi(this.g);var p=this.g.Ba();let rl=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||$T(this.g)))){this.J||hn!=4||p==7||(p==8||0>=rl?Qc(3):Qc(2)),Lv(this);var y=this.g.Z();this.X=y;t:if(ET(this)){var x=$T(this.g);u="";var V=x.length,H=qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ko(this),Jc(this);var re="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(x[p],{stream:!(H&&p==V-1)});x.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,hF(this.i,this.u,this.A,this.l,this.R,hn,y),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,ln=this.g;if((lt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(lt)){var Ge=lt;break t}}Ge=null}if(y=Ge)el(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fv(this,y);else{this.o=!1,this.s=3,xn(12),ko(this),Jc(this);break e}}if(this.P){y=!0;let Cr;for(;!this.J&&this.C<re.length;)if(Cr=gF(this,re),Cr==Nv){hn==4&&(this.s=4,xn(14),y=!1),el(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==_T){this.s=4,xn(15),el(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else el(this.i,this.l,Cr,null),Fv(this,Cr);if(ET(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||re.length!=0||this.h.h||(this.s=1,xn(16),y=!1),this.o=this.o&&y,!y)el(this.i,this.l,re,"[Invalid Chunked Response]"),ko(this),Jc(this);else if(0<re.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Hv(fn),fn.M=!0,xn(11))}}else el(this.i,this.l,re,null),Fv(this,re);hn==4&&ko(this),this.o&&!this.J&&(hn==4?YT(this.j,this):(this.o=!1,Rf(this)))}else PF(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),ko(this),Jc(this)}}}catch{}finally{}};function ET(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function gF(u,p){var y=u.C,x=p.indexOf(`
`,y);return x==-1?Nv:(y=Number(p.substring(y,x)),isNaN(y)?_T:(x+=1,x+y>p.length?Nv:(p=p.slice(x,x+y),u.C=x+y,p)))}Ds.prototype.cancel=function(){this.J=!0,ko(this)};function Rf(u){u.S=Date.now()+u.I,IT(u,u.I)}function IT(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Xc(m(u.ba,u),p)}function Lv(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ds.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(pF(this.i,this.A),this.L!=2&&(Qc(),xn(17)),ko(this),this.s=2,Jc(this)):IT(this,this.S-u)};function Jc(u){u.j.G==0||u.J||YT(u.j,u)}function ko(u){Lv(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,dT(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Fv(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||Vv(y.h,u))){if(!u.K&&Vv(y.h,u)&&y.G==3){try{var x=y.Da.g.parse(p)}catch{x=null}if(Array.isArray(x)&&x.length==3){var V=x;if(V[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Uf(y),Ff(y);else break e;$v(y),xn(18)}}else y.za=V[1],0<y.za-y.T&&37500>V[2]&&y.F&&y.v==0&&!y.C&&(y.C=Xc(m(y.Za,y),6e3));if(1>=CT(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else No(y,11)}else if((u.K||y.g==u)&&Uf(y),!I(p))for(V=y.Da.g.parse(p),p=0;p<V.length;p++){let Ge=V[p];if(y.T=Ge[0],Ge=Ge[1],y.G==2)if(Ge[0]=="c"){y.K=Ge[1],y.ia=Ge[2];let fn=Ge[3];fn!=null&&(y.la=fn,y.j.info("VER="+y.la));let hn=Ge[4];hn!=null&&(y.Aa=hn,y.j.info("SVER="+y.Aa));let rl=Ge[5];rl!=null&&typeof rl=="number"&&0<rl&&(x=1.5*rl,y.L=x,y.j.info("backChannelRequestTimeoutMs_="+x)),x=y;let Cr=u.g;if(Cr){let Bf=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bf){var H=x.h;H.g||Bf.indexOf("spdy")==-1&&Bf.indexOf("quic")==-1&&Bf.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Uv(H,H.h),H.h=null))}if(x.D){let zv=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;zv&&(x.ya=zv,mt(x.I,x.D,zv))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),x=y;var re=u;if(x.qa=ZT(x,x.J?x.ia:null,x.W),re.K){DT(x.h,re);var lt=re,ln=x.L;ln&&(lt.I=ln),lt.B&&(Lv(lt),Rf(lt)),x.g=re}else WT(x);0<y.i.length&&Vf(y)}else Ge[0]!="stop"&&Ge[0]!="close"||No(y,7);else y.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?No(y,7):Bv(y):Ge[0]!="noop"&&y.l&&y.l.ta(Ge),y.v=0)}}Qc(4)}catch{}}var vF=class{constructor(u,p){this.g=u,this.map=p}};function ST(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function TT(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function CT(u){return u.h?1:u.g?u.g.size:0}function Vv(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Uv(u,p){u.g?u.g.add(p):u.h=p}function DT(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ST.prototype.cancel=function(){if(this.i=xT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function xT(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(let y of u.g.values())p=p.concat(y.D);return p}return v(u.i)}function yF(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],y=u.length,x=0;x<y;x++)p.push(u[x]);return p}p=[],y=0;for(x in u)p[y++]=u[x];return p}function wF(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(let x in u)p[y++]=x;return p}}}function AT(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=wF(u),x=yF(u),V=x.length,H=0;H<V;H++)p.call(void 0,x[H],y&&y[H],u)}var MT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _F(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var x=u[y].indexOf("="),V=null;if(0<=x){var H=u[y].substring(0,x);V=u[y].substring(x+1)}else H=u[y];p(H,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Po(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Po){this.h=u.h,kf(this,u.j),this.o=u.o,this.g=u.g,Pf(this,u.s),this.l=u.l;var p=u.i,y=new nu;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),RT(this,y),this.m=u.m}else u&&(p=String(u).match(MT))?(this.h=!1,kf(this,p[1]||"",!0),this.o=eu(p[2]||""),this.g=eu(p[3]||"",!0),Pf(this,p[4]),this.l=eu(p[5]||"",!0),RT(this,p[6]||"",!0),this.m=eu(p[7]||"")):(this.h=!1,this.i=new nu(null,this.h))}Po.prototype.toString=function(){var u=[],p=this.j;p&&u.push(tu(p,kT,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(tu(p,kT,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(tu(y,y.charAt(0)=="/"?IF:EF,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",tu(y,TF)),u.join("")};function zi(u){return new Po(u)}function kf(u,p,y){u.j=y?eu(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Pf(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function RT(u,p,y){p instanceof nu?(u.i=p,CF(u.i,u.h)):(y||(p=tu(p,SF)),u.i=new nu(p,u.h))}function mt(u,p,y){u.i.set(p,y)}function Nf(u){return mt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function eu(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function tu(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,bF),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bF(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var kT=/[#\/\?@]/g,EF=/[#\?:]/g,IF=/[#\?]/g,SF=/[#\?@]/g,TF=/#/g;function nu(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function xs(u){u.g||(u.g=new Map,u.h=0,u.i&&_F(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}n=nu.prototype,n.add=function(u,p){xs(this),this.i=null,u=tl(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function PT(u,p){xs(u),p=tl(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function NT(u,p){return xs(u),p=tl(u,p),u.g.has(p)}n.forEach=function(u,p){xs(this),this.g.forEach(function(y,x){y.forEach(function(V){u.call(p,V,x,this)},this)},this)},n.na=function(){xs(this);let u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let x=0;x<p.length;x++){let V=u[x];for(let H=0;H<V.length;H++)y.push(p[x])}return y},n.V=function(u){xs(this);let p=[];if(typeof u=="string")NT(this,u)&&(p=p.concat(this.g.get(tl(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},n.set=function(u,p){return xs(this),this.i=null,u=tl(this,u),NT(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},n.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function OT(u,p,y){PT(u,p),0<y.length&&(u.i=null,u.g.set(tl(u,p),v(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var x=p[y];let H=encodeURIComponent(String(x)),re=this.V(x);for(x=0;x<re.length;x++){var V=H;re[x]!==""&&(V+="="+encodeURIComponent(String(re[x]))),u.push(V)}}return this.i=u.join("&")};function tl(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function CF(u,p){p&&!u.j&&(xs(u),u.i=null,u.g.forEach(function(y,x){var V=x.toLowerCase();x!=V&&(PT(this,x),OT(this,V,y))},u)),u.j=p}function DF(u,p){let y=new Zc;if(a.Image){let x=new Image;x.onload=g(As,y,"TestLoadImage: loaded",!0,p,x),x.onerror=g(As,y,"TestLoadImage: error",!1,p,x),x.onabort=g(As,y,"TestLoadImage: abort",!1,p,x),x.ontimeout=g(As,y,"TestLoadImage: timeout",!1,p,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else p(!1)}function xF(u,p){let y=new Zc,x=new AbortController,V=setTimeout(()=>{x.abort(),As(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:x.signal}).then(H=>{clearTimeout(V),H.ok?As(y,"TestPingServer: ok",!0,p):As(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),As(y,"TestPingServer: error",!1,p)})}function As(u,p,y,x,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),x(y)}catch{}}function AF(){this.g=new dF}function MF(u,p,y){let x=y||"";try{AT(u,function(V,H){let re=V;c(V)&&(re=Av(V)),p.push(x+H+"="+encodeURIComponent(re))})}catch(V){throw p.push(x+"type="+encodeURIComponent("_badmap")),V}}function ru(u){this.l=u.Ub||null,this.j=u.eb||!1}h(ru,Mv),ru.prototype.g=function(){return new Of(this.l,this.j)},ru.prototype.i=function(u){return function(){return u}}({});function Of(u,p){Et.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}h(Of,Et),n=Of.prototype,n.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,su(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,iu(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,su(this)),this.g&&(this.readyState=3,su(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;LT(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function LT(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?iu(this):su(this),this.readyState==3&&LT(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,iu(this))},n.Qa=function(u){this.g&&(this.response=u,iu(this))},n.ga=function(){this.g&&iu(this)};function iu(u){u.readyState=4,u.l=null,u.j=null,u.v=null,su(u)}n.setRequestHeader=function(u,p){this.u.append(u,p)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function su(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Of.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function FT(u){let p="";return j(u,function(y,x){p+=x,p+=":",p+=y,p+=`\r
`}),p}function jv(u,p,y){e:{for(x in y){var x=!1;break e}x=!0}x||(y=FT(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):mt(u,p,y))}function Tt(u){Et.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}h(Tt,Et);var RF=/^https?$/i,kF=["POST","PUT"];n=Tt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,p,y,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pv.g(),this.v=this.o?fT(this.o):fT(Pv),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(H){VT(this,H);return}if(u=y||"",y=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var V in x)y.set(V,x[V]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(let H of x.keys())y.set(H,x.get(H));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kF,p,void 0))||x||V||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[H,re]of y)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{BT(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){VT(this,H)}};function VT(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,UT(u),Lf(u)}function UT(u){u.A||(u.A=!0,Jt(u,"complete"),Jt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Jt(this,"complete"),Jt(this,"abort"),Lf(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lf(this,!0)),Tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?jT(this):this.bb())},n.bb=function(){jT(this)};function jT(u){if(u.h&&typeof o<"u"&&(!u.v[1]||qi(u)!=4||u.Z()!=2)){if(u.u&&qi(u)==4)lT(u.Ea,0,u);else if(Jt(u,"readystatechange"),qi(u)==4){u.h=!1;try{let re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var x;if(x=re===0){var V=String(u.D).match(MT)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),x=!RF.test(V?V.toLowerCase():"")}y=x}if(y)Jt(u,"complete"),Jt(u,"success");else{u.m=6;try{var H=2<qi(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",UT(u)}}finally{Lf(u)}}}}function Lf(u,p){if(u.g){BT(u);let y=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Jt(u,"ready");try{y.onreadystatechange=x}catch{}}}function BT(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function qi(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<qi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),uF(p)}};function $T(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function PF(u){let p={};u=(u.g&&2<=qi(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(I(u[x]))continue;var y=R(u[x]);let V=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();let H=p[V]||[];p[V]=H,H.push(y)}M(p,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ou(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function HT(u){this.Aa=0,this.i=[],this.j=new Zc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ou("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ou("baseRetryDelayMs",5e3,u),this.cb=ou("retryDelaySeedMs",1e4,u),this.Wa=ou("forwardChannelMaxRetries",2,u),this.wa=ou("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ST(u&&u.concurrentRequestLimit),this.Da=new AF,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=HT.prototype,n.la=8,n.G=1,n.connect=function(u,p,y,x){xn(0),this.W=u,this.H=p||{},y&&x!==void 0&&(this.H.OSID=y,this.H.OAID=x),this.F=this.X,this.I=ZT(this,null,this.W),Vf(this)};function Bv(u){if(zT(u),u.G==3){var p=u.U++,y=zi(u.I);if(mt(y,"SID",u.K),mt(y,"RID",p),mt(y,"TYPE","terminate"),au(u,y),p=new Ds(u,u.j,p),p.L=2,p.v=Nf(zi(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=JT(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Rf(p)}XT(u)}function Ff(u){u.g&&(Hv(u),u.g.cancel(),u.g=null)}function zT(u){Ff(u),u.u&&(a.clearTimeout(u.u),u.u=null),Uf(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Vf(u){if(!TT(u.h)&&!u.s){u.s=!0;var p=u.Ga;B||Ie(),$||(B(),$=!0),te.add(p,u),u.B=0}}function NF(u,p){return CT(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Xc(m(u.Ga,u,p),QT(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let V=new Ds(this,this.j,u),H=this.o;if(this.S&&(H?(H=b(H),C(H,this.S)):H=this.S),this.m!==null||this.O||(V.H=H,H=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var x=this.i[y];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(p+=x,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=GT(this,V,p),y=zi(this.I),mt(y,"RID",u),mt(y,"CVER",22),this.D&&mt(y,"X-HTTP-Session-Id",this.D),au(this,y),H&&(this.O?p="headers="+encodeURIComponent(String(FT(H)))+"&"+p:this.m&&jv(y,this.m,H)),Uv(this.h,V),this.Ua&&mt(y,"TYPE","init"),this.P?(mt(y,"$req",p),mt(y,"SID","null"),V.T=!0,Ov(V,y,null)):Ov(V,y,p),this.G=2}}else this.G==3&&(u?qT(this,u):this.i.length==0||TT(this.h)||qT(this))};function qT(u,p){var y;p?y=p.l:y=u.U++;let x=zi(u.I);mt(x,"SID",u.K),mt(x,"RID",y),mt(x,"AID",u.T),au(u,x),u.m&&u.o&&jv(x,u.m,u.o),y=new Ds(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=GT(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Uv(u.h,y),Ov(y,x,p)}function au(u,p){u.H&&j(u.H,function(y,x){mt(p,x,y)}),u.l&&AT({},function(y,x){mt(p,x,y)})}function GT(u,p,y){y=Math.min(u.i.length,y);var x=u.l?m(u.l.Na,u.l,u):null;e:{var V=u.i;let H=-1;for(;;){let re=["count="+y];H==-1?0<y?(H=V[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let lt=!0;for(let ln=0;ln<y;ln++){let Ge=V[ln].g,fn=V[ln].map;if(Ge-=H,0>Ge)H=Math.max(0,V[ln].g-100),lt=!1;else try{MF(fn,re,"req"+Ge+"_")}catch{x&&x(fn)}}if(lt){x=re.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,x}function WT(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;B||Ie(),$||(B(),$=!0),te.add(p,u),u.v=0}}function $v(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Xc(m(u.Fa,u),QT(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,KT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Xc(m(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xn(10),Ff(this),KT(this))};function Hv(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function KT(u){u.g=new Ds(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=zi(u.qa);mt(p,"RID","rpc"),mt(p,"SID",u.K),mt(p,"AID",u.T),mt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&mt(p,"TO",u.ja),mt(p,"TYPE","xmlhttp"),au(u,p),u.m&&u.o&&jv(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Nf(zi(p)),y.m=null,y.P=!0,bT(y,u)}n.Za=function(){this.C!=null&&(this.C=null,Ff(this),$v(this),xn(19))};function Uf(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function YT(u,p){var y=null;if(u.g==p){Uf(u),Hv(u),u.g=null;var x=2}else if(Vv(u.h,p))y=p.D,DT(u.h,p),x=1;else return;if(u.G!=0){if(p.o)if(x==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;x=xf(),Jt(x,new vT(x,y)),Vf(u)}else WT(u);else if(V=p.s,V==3||V==0&&0<p.X||!(x==1&&NF(u,p)||x==2&&$v(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),V){case 1:No(u,5);break;case 4:No(u,10);break;case 3:No(u,6);break;default:No(u,2)}}}function QT(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function No(u,p){if(u.j.info("Error code "+p),p==2){var y=m(u.fb,u),x=u.Xa;let V=!x;x=new Po(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||kf(x,"https"),Nf(x),V?DF(x.toString(),y):xF(x.toString(),y)}else xn(2);u.G=0,u.l&&u.l.sa(p),XT(u),zT(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function XT(u){if(u.G=0,u.ka=[],u.l){let p=xT(u.h);(p.length!=0||u.i.length!=0)&&(w(u.ka,p),w(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function ZT(u,p,y){var x=y instanceof Po?zi(y):new Po(y);if(x.g!="")p&&(x.g=p+"."+x.g),Pf(x,x.s);else{var V=a.location;x=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var H=new Po(null);x&&kf(H,x),p&&(H.g=p),V&&Pf(H,V),y&&(H.l=y),x=H}return y=u.D,p=u.ya,y&&p&&mt(x,y,p),mt(x,"VER",u.la),au(u,x),x}function JT(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Tt(new ru({eb:y})):new Tt(u.pa),p.Ha(u.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eC(){}n=eC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function jf(){}jf.prototype.g=function(u,p){return new Xn(u,p)};function Xn(u,p){Et.call(this),this.g=new HT(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!I(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new nl(this)}h(Xn,Et),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){Bv(this.g)},Xn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Av(u),u=y);p.i.push(new vF(p.Ya++,u)),p.G==3&&Vf(p)},Xn.prototype.N=function(){this.g.l=null,delete this.j,Bv(this.g),delete this.g,Xn.aa.N.call(this)};function tC(u){Rv.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(let y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}h(tC,Rv);function nC(){kv.call(this),this.status=1}h(nC,kv);function nl(u){this.g=u}h(nl,eC),nl.prototype.ua=function(){Jt(this.g,"a")},nl.prototype.ta=function(u){Jt(this.g,new tC(u))},nl.prototype.sa=function(u){Jt(this.g,new nC)},nl.prototype.ra=function(){Jt(this.g,"b")},jf.prototype.createWebChannel=jf.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,iE=ms.createWebChannelTransport=function(){return new jf},rE=ms.getStatEventTarget=function(){return xf()},nE=ms.Event=Ro,qm=ms.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Af.NO_ERROR=0,Af.TIMEOUT=8,Af.HTTP_ERROR=6,Od=ms.ErrorCode=Af,yT.COMPLETE="complete",tE=ms.EventType=yT,hT.EventType=Yc,Yc.OPEN="a",Yc.CLOSE="b",Yc.ERROR="c",Yc.MESSAGE="d",Et.prototype.listen=Et.prototype.K,sc=ms.WebChannel=hT,K5=ms.FetchXmlHttpFactory=ru,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,eE=ms.XhrIo=Tt}).apply(typeof zm<"u"?zm:typeof self<"u"?self:typeof window<"u"?window:{});var xk="@firebase/firestore",Ak="4.8.0";var sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");var Tc="11.10.0";var Oa=new wi("@firebase/firestore");function oc(){return Oa.logLevel}function ae(n,...e){if(Oa.logLevel<=Ue.DEBUG){let t=e.map(GI);Oa.debug(`Firestore (${Tc}): ${n}`,...t)}}function gs(n,...e){if(Oa.logLevel<=Ue.ERROR){let t=e.map(GI);Oa.error(`Firestore (${Tc}): ${n}`,...t)}}function co(n,...e){if(Oa.logLevel<=Ue.WARN){let t=e.map(GI);Oa.warn(`Firestore (${Tc}): ${n}`,...t)}}function GI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function _e(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,bP(n,r,t)}function bP(n,e,t){let r=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw gs(r),new Error(r)}function tt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||bP(e,i,r)}function Ee(n,e){return n}var W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},oe=class extends Mn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Yr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Zm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},cE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}},uE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},dE=class{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),s=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>P(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yr)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new Zm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new sn(e)}},fE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},hE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new fE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},pE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);let r=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Y5(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function EP(){return new TextEncoder}var Bd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Y5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function Fe(n,e){return n<e?-1:n>e?1:0}function mE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Fe(r,i);{let s=EP(),o=Q5(s.encode(Mk(n,t)),s.encode(Mk(e,t)));return o!==0?o:Fe(r,i)}}t+=r>65535?2:1}return Fe(n.length,e.length)}function Mk(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Q5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Fe(n[t],e[t]);return Fe(n.length,e.length)}function hc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Rk="__name__",eg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&_e(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Fe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):mE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}},wt=class n extends eg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},X5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,or=class n extends eg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return X5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rk}static keyField(){return new n([Rk])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ve=class n{constructor(e){this.path=e}static fromPath(e){return new n(wt.fromString(e))}static fromName(e){return new n(wt.fromString(e).popFirst(5))}static empty(){return new n(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new wt(e.slice()))}};function IP(n,e,t){if(!t)throw new oe(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Z5(n,e,t,r){if(e===!0&&r===!0)throw new oe(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kk(n){if(!ve.isDocumentKey(n))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pk(n){if(ve.isDocumentKey(n))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function SP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function kg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e(12329,{type:typeof n})}function Tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=kg(n);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zt(n,e){let t={typeString:n};return e&&(t.value=e),t}function nf(n,e){if(!SP(n))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new oe(W.INVALID_ARGUMENT,t);return!0}var Nk=-62135596800,Ok=1e6,_t=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ok);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Nk)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ok}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nf(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-Nk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:zt("string",_t._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};var De=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new _t(0,0))}static max(){return new n(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $d=-1,gE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};gE.UNKNOWN_ID=-1;function J5(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new _t(t+1,0):new _t(t,r));return new La(i,ve.empty(),e)}function e9(n){return new La(n.readTime,n.key,$d)}var La=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(De.min(),ve.empty(),$d)}static max(){return new n(De.max(),ve.empty(),$d)}};function t9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}var n9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Cc(n){return P(this,null,function*(){if(n.code!==W.FAILED_PRECONDITION||n.message!==n9)throw n;ae("LocalStore","Unexpectedly lost primary lease")})}var Q=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;t(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function r9(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dc(n){return n.name==="IndexedDbTransactionError"}var WI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),KI=-1;function Pg(n){return n==null}function Hd(n){return n===0&&1/n==-1/0}function i9(n){return typeof n=="number"&&Number.isInteger(n)&&!Hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var TP="";function s9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Lk(e)),e=o9(n.get(t),e);return Lk(e)}function o9(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case TP:t+="";break;default:t+=s}}return t}function Lk(n){return n+TP+""}var a9="remoteDocuments",CP="owner";var DP="mutationQueues";var xP="mutations";var AP="documentMutations",l9="remoteDocumentsV14";var MP="remoteDocumentGlobal";var RP="targets";var kP="targetDocuments";var PP="targetGlobal",NP="collectionParents";var OP="clientMetadata";var LP="bundles";var FP="namedQueries";var c9="indexConfiguration";var u9="indexState";var d9="indexEntries";var VP="documentOverlays";var f9="globals";var h9=[DP,xP,AP,a9,RP,CP,PP,kP,OP,MP,NP,LP,FP],vle=[...h9,VP],p9=[DP,xP,AP,l9,RP,CP,PP,kP,OP,MP,NP,LP,FP,VP],m9=p9,g9=[...m9,c9,u9,d9];var yle=[...g9,f9];function Fk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function go(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var At=class n{constructor(e,t){this.comparator=e,this.root=t||Di.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}},uc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Di=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}};Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1;Di.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Di(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var on=class n{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tg(this.data.getIterator())}getIteratorFrom(e){return new tg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},tg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var yr=class n{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new n([])}unionWith(e){let t=new on(or.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ng=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Cn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ng("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Cn.EMPTY_BYTE_STRING=new Cn("");var v9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(n){if(tt(!!n,39018),typeof n=="string"){let e=0,t=v9.exec(n);if(tt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ys(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}var jP="server_timestamp",BP="__type__",$P="__previous_value__",HP="__local_write_time__";function YI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[BP])===null||t===void 0?void 0:t.stringValue)===jP}function Ng(n){let e=n.mapValue.fields[$P];return YI(e)?Ng(e):e}function zd(n){let e=vs(n.mapValue.fields[HP].timestampValue);return new _t(e.seconds,e.nanos)}var yE=class{constructor(e,t,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}},rg="(default)",ig=class n{constructor(e,t){this.projectId=e,this.database=t||rg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===rg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var QI="__type__",zP="__max__",Gm={mapValue:{fields:{__type__:{stringValue:zP}}}},XI="__vector__",pc="value";function uo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?YI(n)?4:GP(n)?9007199254740991:qP(n)?10:11:_e(28295,{value:n})}function Ri(n,e){if(n===e)return!0;let t=uo(n);if(t!==uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zd(n).isEqual(zd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=vs(i.timestampValue),a=vs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return ys(i.bytesValue).isEqual(ys(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return yt(i.geoPointValue.latitude)===yt(s.geoPointValue.latitude)&&yt(i.geoPointValue.longitude)===yt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return yt(i.integerValue)===yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=yt(i.doubleValue),a=yt(s.doubleValue);return o===a?Hd(o)===Hd(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return hc(n.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Fk(o)!==Fk(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ri(o[l],a[l])))return!1;return!0}(n,e);default:return _e(52216,{left:n})}}function qd(n,e){return(n.values||[]).find(t=>Ri(t,e))!==void 0}function mc(n,e){if(n===e)return 0;let t=uo(n),r=uo(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=yt(s.integerValue||s.doubleValue),l=yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Vk(n.timestampValue,e.timestampValue);case 4:return Vk(zd(n),zd(e));case 5:return mE(n.stringValue,e.stringValue);case 6:return function(s,o){let a=ys(s),l=ys(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let d=Fe(a[c],l[c]);if(d!==0)return d}return Fe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Fe(yt(s.latitude),yt(o.latitude));return a!==0?a:Fe(yt(s.longitude),yt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Uk(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;let f=s.fields||{},m=o.fields||{},g=(a=f[pc])===null||a===void 0?void 0:a.arrayValue,h=(l=m[pc])===null||l===void 0?void 0:l.arrayValue,v=Fe(((c=g?.values)===null||c===void 0?void 0:c.length)||0,((d=h?.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:Uk(g,h)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Gm.mapValue&&o===Gm.mapValue)return 0;if(s===Gm.mapValue)return 1;if(o===Gm.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let m=mE(l[f],d[f]);if(m!==0)return m;let g=mc(a[l[f]],c[d[f]]);if(g!==0)return g}return Fe(l.length,d.length)}(n.mapValue,e.mapValue);default:throw _e(23264,{le:t})}}function Vk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);let t=vs(n),r=vs(e),i=Fe(t.seconds,r.seconds);return i!==0?i:Fe(t.nanos,r.nanos)}function Uk(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=mc(t[i],r[i]);if(s)return s}return Fe(t.length,r.length)}function gc(n){return wE(n)}function wE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=vs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ys(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=wE(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${wE(t.fields[o])}`;return i+"}"}(n.mapValue):_e(61005,{value:n})}function Ym(n){switch(uo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Ng(n);return e?16+Ym(e):16;case 5:return 2*n.stringValue.length;case 6:return ys(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ym(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return go(r.fields,(s,o)=>{i+=s.length+Ym(o)}),i}(n.mapValue);default:throw _e(13486,{value:n})}}function jk(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _E(n){return!!n&&"integerValue"in n}function ZI(n){return!!n&&"arrayValue"in n}function Bk(n){return!!n&&"nullValue"in n}function $k(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qm(n){return!!n&&"mapValue"in n}function qP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[QI])===null||t===void 0?void 0:t.stringValue)===XI}function Fd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return go(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Fd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zP}var _le={mapValue:{fields:{[QI]:{stringValue:XI},[pc]:{arrayValue:{}}}}};var sr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fd(t)}setAll(e){let t=or.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Fd(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Qm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){go(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Fd(this.value))}};function WP(n){let e=[];return go(n.fields,(t,r)=>{let i=new or([t]);if(Qm(r)){let s=WP(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new yr(e)}var Qr=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,De.min(),De.min(),De.min(),sr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,De.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,De.min(),De.min(),sr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,De.min(),De.min(),sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var vc=class{constructor(e,t){this.position=e,this.inclusive=t}};function Hk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(o.referenceValue),t.key):r=mc(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ri(n.position[t],e.position[t]))return!1;return!0}var Fa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function y9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var sg=class{},Ht=class n extends sg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new EE(e,t,r):t==="array-contains"?new TE(e,r):t==="in"?new CE(e,r):t==="not-in"?new DE(e,r):t==="array-contains-any"?new xE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new IE(e,r):new SE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(mc(t,this.value)):t!==null&&uo(this.value)===uo(t)&&this.matchesComparison(mc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Xr=class n extends sg{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return KP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function KP(n){return n.op==="and"}function YP(n){return w9(n)&&KP(n)}function w9(n){for(let e of n.filters)if(e instanceof Xr)return!1;return!0}function bE(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+gc(n.value);if(YP(n))return n.filters.map(e=>bE(e)).join(",");{let e=n.filters.map(t=>bE(t)).join(",");return`${n.op}(${e})`}}function QP(n,e){return n instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.field.isEqual(i.field)&&Ri(r.value,i.value)}(n,e):n instanceof Xr?function(r,i){return i instanceof Xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&QP(o,i.filters[a]),!0):!1}(n,e):void _e(19439)}function XP(n){return n instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${gc(t.value)}`}(n):n instanceof Xr?function(t){return t.op.toString()+" {"+t.getFilters().map(XP).join(" ,")+"}"}(n):"Filter"}var EE=class extends Ht{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){let t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}},IE=class extends Ht{constructor(e,t){super(e,"in",t),this.keys=ZP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},SE=class extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=ZP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function ZP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}var TE=class extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ZI(t)&&qd(t.arrayValue,this.value)}},CE=class extends Ht{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&qd(this.value.arrayValue,t)}},DE=class extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qd(this.value.arrayValue,t)}},xE=class extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ZI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qd(this.value.arrayValue,r))}};var AE=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}};function qk(n,e=null,t=[],r=[],i=null,s=null,o=null){return new AE(n,e,t,r,i,s,o)}function JI(n){let e=Ee(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gc(r)).join(",")),e.Pe=t}return e.Pe}function eS(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!y9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zk(n.startAt,e.startAt)&&zk(n.endAt,e.endAt)}function ME(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var fo=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function _9(n,e,t,r,i,s,o,a){return new fo(n,e,t,r,i,s,o,a)}function Og(n){return new fo(n)}function Gk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JP(n){return n.collectionGroup!==null}function Vd(n){let e=Ee(n);if(e.Te===null){e.Te=[];let t=new Set;for(let s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new on(or.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Fa(s,r))}),t.has(or.keyField().canonicalString())||e.Te.push(new Fa(or.keyField(),r))}return e.Te}function xi(n){let e=Ee(n);return e.Ie||(e.Ie=b9(e,Vd(n))),e.Ie}function b9(n,e){if(n.limitType==="F")return qk(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Fa(i.field,s)});let t=n.endAt?new vc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new vc(n.startAt.position,n.startAt.inclusive):null;return qk(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function RE(n,e){let t=n.filters.concat([e]);return new fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function kE(n,e,t){return new fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lg(n,e){return eS(xi(n),xi(e))&&n.limitType===e.limitType}function eN(n){return`${JI(xi(n))}|lt:${n.limitType}`}function ac(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>XP(i)).join(", ")}]`),Pg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>gc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>gc(i)).join(",")),`Target(${r})`}(xi(n))}; limitType=${n.limitType})`}function Fg(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of Vd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){let c=Hk(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Vd(r),i)||r.endAt&&!function(o,a,l){let c=Hk(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Vd(r),i))}(n,e)}function E9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tN(n){return(e,t)=>{let r=!1;for(let i of Vd(n)){let s=I9(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function I9(n,e,t){let r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?mc(l,c):_e(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:n.dir})}}var ws=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return UP(this.inner)}size(){return this.innerSize}};var S9=new At(ve.comparator);function _s(){return S9}var nN=new At(ve.comparator);function Ld(...n){let e=nN;for(let t of n)e=e.insert(t.key,t);return e}function rN(n){let e=nN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ma(){return Ud()}function iN(){return Ud()}function Ud(){return new ws(n=>n.toString(),(n,e)=>n.isEqual(e))}var T9=new At(ve.comparator),C9=new on(ve.comparator);function $e(...n){let e=C9;for(let t of n)e=e.add(t);return e}var D9=new on(Fe);function x9(){return D9}function tS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function sN(n){return{integerValue:""+n}}function A9(n,e){return i9(e)?sN(e):tS(n,e)}var yc=class{constructor(){this._=void 0}};function M9(n,e,t){return n instanceof wc?function(i,s){let o={fields:{[BP]:{stringValue:jP},[HP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&YI(s)&&(s=Ng(s)),s&&(o.fields[$P]=s),{mapValue:o}}(t,e):n instanceof Va?aN(n,e):n instanceof Ua?lN(n,e):function(i,s){let o=oN(i,s),a=Wk(o)+Wk(i.Ee);return _E(o)&&_E(i.Ee)?sN(a):tS(i.serializer,a)}(n,e)}function R9(n,e,t){return n instanceof Va?aN(n,e):n instanceof Ua?lN(n,e):t}function oN(n,e){return n instanceof _c?function(r){return _E(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var wc=class extends yc{},Va=class extends yc{constructor(e){super(),this.elements=e}};function aN(n,e){let t=cN(e);for(let r of n.elements)t.some(i=>Ri(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ua=class extends yc{constructor(e){super(),this.elements=e}};function lN(n,e){let t=cN(e);for(let r of n.elements)t=t.filter(i=>!Ri(i,r));return{arrayValue:{values:t}}}var _c=class extends yc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function Wk(n){return yt(n.integerValue||n.doubleValue)}function cN(n){return ZI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function k9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Va&&i instanceof Va||r instanceof Ua&&i instanceof Ua?hc(r.elements,i.elements,Ri):r instanceof _c&&i instanceof _c?Ri(r.Ee,i.Ee):r instanceof wc&&i instanceof wc}(n.transform,e.transform)}var PE=class{constructor(e,t){this.version=e,this.transformResults=t}},Ai=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Xm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var bc=class{};function uN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Gd(n.key,Ai.none()):new ja(n.key,n.data,Ai.none());{let t=n.data,r=sr.empty(),i=new on(or.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ki(n.key,r,new yr(i.toArray()),Ai.none())}}function P9(n,e,t){n instanceof ja?function(i,s,o){let a=i.value.clone(),l=Yk(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ki?function(i,s,o){if(!Xm(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=Yk(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(dN(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function jd(n,e,t,r){return n instanceof ja?function(s,o,a,l){if(!Xm(s.precondition,o))return a;let c=s.value.clone(),d=Qk(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof ki?function(s,o,a,l){if(!Xm(s.precondition,o))return a;let c=Qk(s.fieldTransforms,l,o),d=o.data;return d.setAll(dN(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(s,o,a){return Xm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function N9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=oN(r.transform,i||null);s!=null&&(t===null&&(t=sr.empty()),t.set(r.field,s))}return t||null}function Kk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hc(r,i,(s,o)=>k9(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ja=class extends bc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ki=class extends bc{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function dN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Yk(n,e,t){let r=new Map;tt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,R9(o,a,t[i]))}return r}function Qk(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,M9(s,o,e))}return r}var Gd=class extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},NE=class extends bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var OE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&P9(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=jd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=jd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=iN();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let l=uN(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,(t,r)=>Kk(t,r))&&hc(this.baseMutations,e.baseMutations,(t,r)=>Kk(t,r))}},LE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){tt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return T9}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var FE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var VE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Bt,qe;function O9(n){switch(n){case W.OK:return _e(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _e(15467,{code:n})}}function fN(n){if(n===void 0)return gs("GRPC error has no .code"),W.UNKNOWN;switch(n){case Bt.OK:return W.OK;case Bt.CANCELLED:return W.CANCELLED;case Bt.UNKNOWN:return W.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return W.INTERNAL;case Bt.UNAVAILABLE:return W.UNAVAILABLE;case Bt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Bt.NOT_FOUND:return W.NOT_FOUND;case Bt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Bt.ABORTED:return W.ABORTED;case Bt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Bt.DATA_LOSS:return W.DATA_LOSS;default:return _e(39323,{code:n})}}(qe=Bt||(Bt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";var Xk=null;var L9=new ps([4294967295,4294967295],0);function Zk(n){let e=EP().encode(n),t=new Jb;return t.update(e),new Uint8Array(t.digest())}function Jk(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ps([t,r],0),new ps([i,s],0)]}var UE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ra(`Invalid padding: ${t}`);if(r<0)throw new Ra(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ps.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(ps.fromNumber(r)));return i.compare(L9)===1&&(i=new ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=Zk(e),[r,i]=Jk(t);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;let t=Zk(e),[r,i]=Jk(t);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);this.we(o)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ra=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var og=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(De.min(),i,new At(Fe),_s(),$e())}},Wd=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,$e(),$e(),$e())}};var dc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},ag=class{constructor(e,t){this.targetId=e,this.De=t}},lg=class{constructor(e,t,r=Cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},cg=class{constructor(){this.ve=0,this.Ce=eP(),this.Fe=Cn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=$e(),t=$e(),r=$e();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:s})}}),new Wd(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=eP()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},jE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=_s(),this.je=Wm(),this.Je=Wm(),this.He=new At(Fe)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let s=i.target;if(ME(s))if(r===0){let o=new ve(s.path);this.Xe(t,o,Qr.newNoDocument(o,De.min()))}else tt(r===1,20013,{expectedCount:r});else{let o=this.ot(t);if(o!==r){let a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,c)}Xk?.ct(function(d,f,m,g,h){var v,w,D,I,E,O;let U={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},j=f.unchangedNames;return j&&(U.bloomFilter={applied:h===0,hashCount:(v=j?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(I=(D=(w=j?.bits)===null||w===void 0?void 0:w.bitmap)===null||D===void 0?void 0:D.length)!==null&&I!==void 0?I:0,padding:(O=(E=j?.bits)===null||E===void 0?void 0:E.padding)!==null&&O!==void 0?O:0,mightContain:M=>{var b;return(b=g?.mightContain(M))!==null&&b!==void 0&&b}}),U}(o,e.De,this.We.lt(),a,l))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=ys(r).toUint8Array()}catch(l){if(l instanceof ng)return co("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new UE(o,i,s)}catch(l){return co(l instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,s,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((s,o)=>{let a=this.st(o);if(a){if(s.current&&ME(a.target)){let l=new ve(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Qr.newNoDocument(l,e))}s.Ne&&(t.set(o,s.Le()),s.ke())}});let r=$e();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));let i=new og(e,t,this.He,this.ze,r);return this.ze=_s(),this.je=Wm(),this.Je=Wm(),this.He=new At(Fe),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new cg,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new on(Fe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new on(Fe),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new cg),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Wm(){return new At(ve.comparator)}function eP(){return new At(ve.comparator)}var F9={asc:"ASCENDING",desc:"DESCENDING"},V9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U9={and:"AND",or:"OR"},BE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function $E(n,e){return n.useProto3Json||Pg(e)?e:{value:e}}function ug(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function j9(n,e){return ug(n,e.toTimestamp())}function Mi(n){return tt(!!n,49232),De.fromTimestamp(function(t){let r=vs(t);return new _t(r.seconds,r.nanos)}(n))}function nS(n,e){return HE(n,e).canonicalString()}function HE(n,e){let t=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pN(n){let e=wt.fromString(n);return tt(wN(e),10190,{key:e.toString()}),e}function zE(n,e){return nS(n.databaseId,e.path)}function sE(n,e){let t=pN(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(gN(t))}function mN(n,e){return nS(n.databaseId,e)}function B9(n){let e=pN(n);return e.length===4?wt.emptyPath():gN(e)}function qE(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gN(n){return tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tP(n,e,t){return{name:zE(n,e),fields:t.value.mapValue.fields}}function $9(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(tt(d===void 0||typeof d=="string",58123),Cn.fromBase64String(d||"")):(tt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Cn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let d=c.code===void 0?W.UNKNOWN:fN(c.code);return new oe(d,c.message||"")}(o);t=new lg(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=sE(n,r.document.name),s=Mi(r.document.updateTime),o=r.document.createTime?Mi(r.document.createTime):De.min(),a=new sr({mapValue:{fields:r.document.fields}}),l=Qr.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];t=new dc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=sE(n,r.document),s=r.readTime?Mi(r.readTime):De.min(),o=Qr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new dc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=sE(n,r.document),s=r.removedTargetIds||[];t=new dc([],s,i,null)}else{if(!("filter"in e))return _e(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new VE(i,s),a=r.targetId;t=new ag(a,o)}}return t}function H9(n,e){let t;if(e instanceof ja)t={update:tP(n,e.key,e.value)};else if(e instanceof Gd)t={delete:zE(n,e.key)};else if(e instanceof ki)t={update:tP(n,e.key,e.data),updateMask:Z9(e.fieldMask)};else{if(!(e instanceof NE))return _e(16599,{Rt:e.type});t={verify:zE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof wc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Va)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ua)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _c)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw _e(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:j9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_e(27497)}(n,e.precondition)),t}function z9(n,e){return n&&n.length>0?(tt(e!==void 0,14353),n.map(t=>function(i,s){let o=i.updateTime?Mi(i.updateTime):Mi(s);return o.isEqual(De.min())&&(o=Mi(s)),new PE(o,i.transformResults||[])}(t,e))):[]}function q9(n,e){return{documents:[mN(n,e.path)]}}function G9(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=mN(n,i);let s=function(c){if(c.length!==0)return yN(Xr.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:lc(m.field),direction:Y9(m.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=$E(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:t,parent:i}}function W9(n){let e=B9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){tt(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(f){let m=vN(f);return m instanceof Xr&&YP(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(m=>function(h){return new Fa(cc(h.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Pg(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(f){let m=!!f.before,g=f.values||[];return new vc(g,m)}(t.startAt));let c=null;return t.endAt&&(c=function(f){let m=!f.before,g=f.values||[];return new vc(g,m)}(t.endAt)),_9(e,i,o,s,a,"F",l,c)}function K9(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=cc(t.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=cc(t.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=cc(t.unaryFilter.field);return Ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=cc(t.unaryFilter.field);return Ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ht.create(cc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Xr.create(t.compositeFilter.filters.map(r=>vN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(t.compositeFilter.op))}(n):_e(30097,{filter:n})}function Y9(n){return F9[n]}function Q9(n){return V9[n]}function X9(n){return U9[n]}function lc(n){return{fieldPath:n.canonicalString()}}function cc(n){return or.fromServerFormat(n.fieldPath)}function yN(n){return n instanceof Ht?function(t){if(t.op==="=="){if($k(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NAN"}};if(Bk(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($k(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NOT_NAN"}};if(Bk(t.value))return{unaryFilter:{field:lc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lc(t.field),op:Q9(t.op),value:t.value}}}(n):n instanceof Xr?function(t){let r=t.getFilters().map(i=>yN(i));return r.length===1?r[0]:{compositeFilter:{op:X9(t.op),filters:r}}}(n):_e(54877,{filter:n})}function Z9(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Kd=class n{constructor(e,t,r,i,s=De.min(),o=De.min(),a=Cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var GE=class{constructor(e){this.gt=e}};function J9(n){let e=W9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?kE(e,e.limit,"L"):e}var dg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(yt(e.integerValue));else if("doubleValue"in e){let r=yt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Hd(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=vs(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(ys(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?GP(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):qP(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):_e(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let s=e.fields||{};this.Ct(t,53);let o=pc,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(yt(a)),this.xt(o,t),this.Dt(s[o],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ve.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};dg.Ut=new dg;var WE=class{constructor(){this.Dn=new KE}addToCollectionParentIndex(e,t){return this.Dn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(La.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(La.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}},KE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new on(wt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new on(wt.comparator)).toArray()}};var ble=new Uint8Array(0);var nP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_N=41943040,vr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(_N,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);var Yd=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var rP="LruGarbageCollector",eG=1048576;function iP([n,e],[t,r]){let i=Fe(n,t);return i===0?Fe(e,r):i}var YE=class{constructor(e){this.Tr=e,this.buffer=new on(iP),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();iP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},QE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ae(rP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>P(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Dc(t)?ae(rP,"Ignoring IndexedDB error during garbage collection: ",t):yield Cc(t)}yield this.Rr(3e5)}))}},XE=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(WI.ue);let r=new YE(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(nP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nP):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,s,o,a,l,c,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),oc()<=Ue.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function tG(n,e){return new XE(n,e)}var ZE=class{constructor(){this.changes=new ws(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var JE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var eI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&jd(r.mutation,i,yr.empty(),_t.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$e()){let i=Ma();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Ld();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Ma();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$e()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=_s(),o=Ud(),a=function(){return Ud()}();return t.forEach((l,c)=>{let d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ki)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),jd(d.mutation,c,d.mutation.getFieldMask(),_t.now())):o.set(c.key,yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>{var f;return a.set(c,new JE(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ud(),i=new At((o,a)=>o-a),s=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let d=r.get(l)||yr.empty();d=a.applyToLocalView(c,d),r.set(l,d);let f=(i.get(a.batchId)||$e()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,f=iN();d.forEach(m=>{if(!s.has(m)){let g=uN(t.get(m),r.get(m));g!==null&&f.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Q.resolve(Ma()),a=$d,l=s;return o.next(c=>Q.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,$e())).next(d=>({batchId:a,changes:rN(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let i=Ld();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Ld();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,l=>{let c=function(f,m){return new fo(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{let d=c.getKey();o.get(d)===null&&(o=o.insert(d,Qr.newInvalidDocument(d)))});let a=Ld();return o.forEach((l,c)=>{let d=s.get(l);d!==void 0&&jd(d.mutation,c,yr.empty(),_t.now()),Fg(t,c)&&(a=a.insert(l,c))}),a})}};var tI=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Mi(i.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:J9(i.bundledQuery),readTime:Mi(i.readTime)}}(t)),Q.resolve()}};var nI=class{constructor(){this.overlays=new At(ve.comparator),this.kr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ma();return Q.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.wt(e,t,s)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){let i=Ma(),s=t.length+1,o=new ve(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new At((c,d)=>c-d),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Ma(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=Ma(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Q.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FE(t,r));let s=this.kr.get(t);s===void 0&&(s=$e(),this.kr.set(t,s)),this.kr.set(t,s.add(r.key))}};var rI=class{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}};var Qd=class{constructor(){this.qr=new on($t.Qr),this.$r=new on($t.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new $t(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new $t(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ve(new wt([])),r=new $t(t,e),i=new $t(t,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ve(new wt([])),r=new $t(t,e),i=new $t(t,e+1),s=$e();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new $t(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},$t=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ve.comparator(e.key,t.key)||Fe(e.Hr,t.Hr)}static Ur(e,t){return Fe(e.Hr,t.Hr)||ve.comparator(e.key,t.key)}};var iI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new on($t.Qr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new OE(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.Yr=this.Yr.add(new $t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,t){return Q.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?KI:this.er-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new $t(t,0),i=new $t(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{let a=this.Zr(o.Hr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new on(Fe);return t.forEach(i=>{let s=new $t(i,0),o=new $t(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),Q.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ve.isDocumentKey(s)||(s=s.child(""));let o=new $t(new ve(s),0),a=new on(Fe);return this.Yr.forEachWhile(l=>{let c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},o),Q.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){tt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Q.forEach(t.mutations,i=>{let s=new $t(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new $t(t,0),i=this.Yr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var sI=class{constructor(e){this.ni=e,this.docs=function(){return new At(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Qr.newInvalidDocument(t))}getEntries(e,t){let r=_s();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qr.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=_s(),o=t.path,a=new ve(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||t9(e9(d),r)<=0||(i.has(d.key)||Fg(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,t,r,i){_e(9500)}ri(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new oI(this)}getSize(e){return Q.resolve(this.size)}},oI=class extends ZE{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var aI=class{constructor(e){this.persistence=e,this.ii=new ws(t=>JI(t),eS),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.si=0,this.oi=new Qd,this.targetCount=0,this._i=Yd.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),Q.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Yd(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.hr(t),Q.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.oi.containsKey(t))}};var fg=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new WI(0),this.ci=!1,this.ci=!0,this.li=new rI,this.referenceDelegate=e(this),this.hi=new aI(this),this.indexManager=new WE,this.remoteDocumentCache=function(i){return new sI(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new GE(t),this.Ti=new tI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new iI(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){ae("MemoryPersistence","Starting transaction:",e);let i=new lI(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,t){return Q.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},lI=class extends vE{constructor(e){super(),this.currentSequenceNumber=e}},cI=class n{constructor(e){this.persistence=e,this.Ai=new Qd,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw _e(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.mi,r=>{let i=ve.fromPath(r);return this.fi(e,i).next(s=>{s||t.removeEntry(i,De.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Q.or([()=>Q.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},hg=class n{constructor(e,t){this.persistence=e,this.gi=new ws(r=>s9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=tG(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return Q.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?Q.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,De.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Q.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ym(e.data.value)),t}Sr(e,t,r){return Q.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var uI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=$e(),i=$e();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var dI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return WM()?8:r9(rn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ps(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new dI;return this.ws(e,t,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,t,o,a.size)})}).next(()=>s.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(oc()<=Ue.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",ac(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(oc()<=Ue.DEBUG&&ae("QueryEngine","Query:",ac(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(oc()<=Ue.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",ac(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(t))):Q.resolve())}ps(e,t){if(Gk(t))return Q.resolve(null);let r=xi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=kE(t,null,"F"),r=xi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=$e(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let c=this.bs(t,a);return this.Ds(t,c,o,l.readTime)?this.ps(e,kE(t,null,"F")):this.vs(e,c,t,l)}))})))}ys(e,t,r,i){return Gk(t)||i.isEqual(De.min())?Q.resolve(null):this.gs.getDocuments(e,r).next(s=>{let o=this.bs(t,s);return this.Ds(t,o,r,i)?Q.resolve(null):(oc()<=Ue.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ac(t)),this.vs(e,o,t,J5(i,$d)).next(a=>a))})}bs(e,t){let r=new on(tN(e));return t.forEach((i,s)=>{Fg(e,s)&&(r=r.add(s))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,t,r){return oc()<=Ue.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",ac(t)),this.gs.getDocumentsMatchingQuery(e,t,La.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var rS="LocalStore",nG=3e8,hI=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new At(Fe),this.Ms=new ws(s=>JI(s),eS),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function rG(n,e,t,r){return new hI(n,e,t,r)}function bN(n,e){return P(this,null,function*(){let t=Ee(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],l=$e();for(let c of i){o.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of s){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})})}function iG(n,e){let t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){let f=c.batch,m=f.keys(),g=Q.resolve();return m.forEach(h=>{g=g.next(()=>d.getEntry(l,h)).next(v=>{let w=c.docVersions.get(h);tt(w!==null,48541),v.version.compareTo(w)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=$e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function EN(n){let e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function sG(n,e){let t=Ee(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,f)=>{let m=i.get(f);if(!m)return;a.push(t.hi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.hi.addMatchingKeys(s,d.addedDocuments,f)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Cn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(v,w,D){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=nG?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(m,g,d)&&a.push(t.hi.updateTargetData(s,g))});let l=_s(),c=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(oG(s,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(De.min())){let d=t.hi.getLastRemoteSnapshotVersion(s).next(f=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Fs=i,s))}function oG(n,e,t){let r=$e(),i=$e();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=_s();return t.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae(rS,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function aG(n,e){let t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=KI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lG(n,e){let t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):t.hi.allocateTargetId(r).next(o=>(i=new Kd(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function pI(n,e,t){return P(this,null,function*(){let r=Ee(n),i=r.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Dc(o))throw o;ae(rS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function sP(n,e,t){let r=Ee(n),i=De.min(),s=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){let f=Ee(l),m=f.Ms.get(d);return m!==void 0?Q.resolve(f.Fs.get(m)):f.hi.getTargetData(c,d)}(r,o,xi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,t?i:De.min(),t?s:$e())).next(a=>(cG(r,E9(e),a),{documents:a,qs:s})))}function cG(n,e,t){let r=n.xs.get(e)||De.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.xs.set(e,r)}var pg=class{constructor(){this.activeTargetIds=x9()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var mI=class{constructor(){this.Fo=new pg,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new pg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var gI=class{xo(e){}shutdown(){}};var oP="ConnectivityMonitor",mg=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ae(oP,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){ae(oP,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Km=null;function vI(){return Km===null?Km=function(){return 268435456+Math.round(2147483648*Math.random())}():Km++,"0x"+Km.toString(16)}var oE="RestConnection",uG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},yI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===rg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,s){let o=vI(),a=this.Go(e,t.toUriEncodedString());ae(oE,`Sending RPC '${e}' ${o}:`,a,r);let l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);let{host:c}=new URL(a),d=Gr(c);return this.jo(e,a,l,r,d).then(f=>(ae(oE,`Received RPC '${e}' ${o}: `,f),f),f=>{throw co(oE,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,t,r,i,s,o){return this.Wo(e,t,r,i,s)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,t){let r=uG[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var wI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Sn="WebChannelConnection",_I=class extends yI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,s){let o=vI();return new Promise((a,l)=>{let c=new eE;c.setWithCredentials(!0),c.listenOnce(tE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Od.NO_ERROR:let f=c.getResponseJson();ae(Sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Od.TIMEOUT:ae(Sn,`RPC '${e}' ${o} timed out`),l(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:let m=c.getStatus();if(ae(Sn,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let h=g?.error;if(h&&h.status&&h.message){let v=function(D){let I=D.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(I)>=0?I:W.UNKNOWN}(h.status);l(new oe(v,h.message))}else l(new oe(W.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new oe(W.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{ae(Sn,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);ae(Sn,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",d,r,15)})}P_(e,t,r){let i=vI(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iE(),a=rE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let d=s.join("");ae(Sn,`Creating RPC '${e}' stream ${i}: ${d}`,l);let f=o.createWebChannel(d,l);this.T_(f);let m=!1,g=!1,h=new wI({Ho:w=>{g?ae(Sn,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(m||(ae(Sn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),ae(Sn,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},Yo:()=>f.close()}),v=(w,D,I)=>{w.listen(D,E=>{try{I(E)}catch(O){setTimeout(()=>{throw O},0)}})};return v(f,sc.EventType.OPEN,()=>{g||(ae(Sn,`RPC '${e}' stream ${i} transport opened.`),h.s_())}),v(f,sc.EventType.CLOSE,()=>{g||(g=!0,ae(Sn,`RPC '${e}' stream ${i} transport closed`),h.__(),this.I_(f))}),v(f,sc.EventType.ERROR,w=>{g||(g=!0,co(Sn,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),h.__(new oe(W.UNAVAILABLE,"The operation could not be completed")))}),v(f,sc.EventType.MESSAGE,w=>{var D;if(!g){let I=w.data[0];tt(!!I,16349);let E=I,O=E?.error||((D=E[0])===null||D===void 0?void 0:D.error);if(O){ae(Sn,`RPC '${e}' stream ${i} received error:`,O);let U=O.status,j=function(_){let C=Bt[_];if(C!==void 0)return fN(C)}(U),M=O.message;j===void 0&&(j=W.INTERNAL,M="Unknown error status: "+U+" with message "+O.message),g=!0,h.__(new oe(j,M)),f.close()}else ae(Sn,`RPC '${e}' stream ${i} received:`,I),h.a_(I)}}),v(a,nE.STAT_EVENT,w=>{w.stat===qm.PROXY?ae(Sn,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===qm.NOPROXY&&ae(Sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{h.o_()},0),h}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function aE(){return typeof document<"u"?document:null}function Vg(n){return new BE(n,!0)}var gg=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var aP="PersistentStream",vg=class{constructor(e,t,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new gg(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return P(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return P(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return P(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(gs(t.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new oe(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>P(this,null,function*(){this.state=0,this.start()}))}G_(e){return ae(aP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ae(aP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},bI=class extends vg{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=$9(this.serializer,e),r=function(s){if(!("targetChange"in s))return De.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?Mi(o.readTime):De.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=qE(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=ME(l)?{documents:q9(s,l)}:{query:G9(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hN(s,o.resumeToken);let c=$E(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=ug(s,o.snapshotVersion.toTimestamp());let c=$E(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let r=K9(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=qE(this.serializer),t.removeTarget=e,this.k_(t)}},EI=class extends vg{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=z9(e.writeResults,e.commitTime),r=Mi(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=qE(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>H9(this.serializer,r))};this.k_(t)}};var II=class{},SI=class extends II{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,HE(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(W.UNKNOWN,s.toString())})}Jo(e,t,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,HE(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(W.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},TI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(gs(t),this._a=!1):ae("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ba="RemoteStore",CI=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(()=>P(this,null,function*(){$a(this)&&(ae(Ba,"Restarting streams for network reachability change."),yield function(l){return P(this,null,function*(){let c=Ee(l);c.Ia.add(4),yield rf(c),c.Aa.set("Unknown"),c.Ia.delete(4),yield Ug(c)})}(this))}))}),this.Aa=new TI(r,i)}};function Ug(n){return P(this,null,function*(){if($a(n))for(let e of n.da)yield e(!0)})}function rf(n){return P(this,null,function*(){for(let e of n.da)yield e(!1)})}function IN(n,e){let t=Ee(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),aS(t)?oS(t):xc(t).x_()&&sS(t,e))}function iS(n,e){let t=Ee(n),r=xc(t);t.Ta.delete(e),r.x_()&&SN(t,e),t.Ta.size===0&&(r.x_()?r.B_():$a(t)&&t.Aa.set("Unknown"))}function sS(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xc(n).H_(e)}function SN(n,e){n.Ra.$e(e),xc(n).Y_(e)}function oS(n){n.Ra=new jE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),xc(n).start(),n.Aa.aa()}function aS(n){return $a(n)&&!xc(n).M_()&&n.Ta.size>0}function $a(n){return Ee(n).Ia.size===0}function TN(n){n.Ra=void 0}function dG(n){return P(this,null,function*(){n.Aa.set("Online")})}function fG(n){return P(this,null,function*(){n.Ta.forEach((e,t)=>{sS(n,e)})})}function hG(n,e){return P(this,null,function*(){TN(n),aS(n)?(n.Aa.la(e),oS(n)):n.Aa.set("Unknown")})}function pG(n,e,t){return P(this,null,function*(){if(n.Aa.set("Online"),e instanceof lg&&e.state===2&&e.cause)try{yield function(i,s){return P(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){ae(Ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yg(n,r)}else if(e instanceof dc?n.Ra.Ye(e):e instanceof ag?n.Ra.it(e):n.Ra.et(e),!t.isEqual(De.min()))try{let r=yield EN(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.Ta.get(c);d&&s.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(Cn.EMPTY_BYTE_STRING,d.snapshotVersion)),SN(s,l);let f=new Kd(d.target,l,c,d.sequenceNumber);sS(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ae(Ba,"Failed to raise snapshot:",r),yield yg(n,r)}})}function yg(n,e,t){return P(this,null,function*(){if(!Dc(e))throw e;n.Ia.add(1),yield rf(n),n.Aa.set("Offline"),t||(t=()=>EN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>P(null,null,function*(){ae(Ba,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Ug(n)}))})}function CN(n,e){return e().catch(t=>yg(n,t,e))}function jg(n){return P(this,null,function*(){let e=Ee(n),t=ho(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:KI;for(;mG(e);)try{let i=yield aG(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,gG(e,i)}catch(i){yield yg(e,i)}DN(e)&&xN(e)})}function mG(n){return $a(n)&&n.Pa.length<10}function gG(n,e){n.Pa.push(e);let t=ho(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function DN(n){return $a(n)&&!ho(n).M_()&&n.Pa.length>0}function xN(n){ho(n).start()}function vG(n){return P(this,null,function*(){ho(n).na()})}function yG(n){return P(this,null,function*(){let e=ho(n);for(let t of n.Pa)e.X_(t.mutations)})}function wG(n,e,t){return P(this,null,function*(){let r=n.Pa.shift(),i=LE.from(r,e,t);yield CN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield jg(n)})}function _G(n,e){return P(this,null,function*(){e&&ho(n).Z_&&(yield function(r,i){return P(this,null,function*(){if(function(o){return O9(o)&&o!==W.ABORTED}(i.code)){let s=r.Pa.shift();ho(r).N_(),yield CN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield jg(r)}})}(n,e)),DN(n)&&xN(n)})}function lP(n,e){return P(this,null,function*(){let t=Ee(n);t.asyncQueue.verifyOperationInProgress(),ae(Ba,"RemoteStore received new credentials");let r=$a(t);t.Ia.add(3),yield rf(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Ug(t)})}function bG(n,e){return P(this,null,function*(){let t=Ee(n);e?(t.Ia.delete(2),yield Ug(t)):e||(t.Ia.add(2),yield rf(t),t.Aa.set("Unknown"))})}function xc(n){return n.Va||(n.Va=function(t,r,i){let s=Ee(t);return s.ia(),new bI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Zo:dG.bind(null,n),e_:fG.bind(null,n),n_:hG.bind(null,n),J_:pG.bind(null,n)}),n.da.push(e=>P(null,null,function*(){e?(n.Va.N_(),aS(n)?oS(n):n.Aa.set("Unknown")):(yield n.Va.stop(),TN(n))}))),n.Va}function ho(n){return n.ma||(n.ma=function(t,r,i){let s=Ee(t);return s.ia(),new EI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:vG.bind(null,n),n_:_G.bind(null,n),ea:yG.bind(null,n),ta:wG.bind(null,n)}),n.da.push(e=>P(null,null,function*(){e?(n.ma.N_(),yield jg(n)):(yield n.ma.stop(),n.Pa.length>0&&(ae(Ba,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var DI=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function lS(n,e){if(gs("AsyncQueue",`${e}: ${n}`),Dc(n))return new oe(W.UNAVAILABLE,`${e}: ${n}`);throw n}var wg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Ld(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var _g=class{constructor(){this.fa=new At(ve.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):_e(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ec=class n{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,wg.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var xI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},AI=class{constructor(){this.queries=cP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=Ee(t),s=i.queries;i.queries=cP(),s.forEach((o,a)=>{for(let l of a.wa)l.onError(r)})})(this,new oe(W.ABORTED,"Firestore shutting down"))}};function cP(){return new ws(n=>eN(n),Lg)}function cS(n,e){return P(this,null,function*(){let t=Ee(n),r=3,i=e.query,s=t.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new xI,r=e.ba()?0:1);try{switch(r){case 0:s.ya=yield t.onListen(i,!0);break;case 1:s.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=lS(o,`Initialization of query '${ac(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&dS(t)})}function uS(n,e){return P(this,null,function*(){let t=Ee(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function EG(n,e){let t=Ee(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&dS(t)}function IG(n,e,t){let r=Ee(n),i=r.queries.get(e);if(i)for(let s of i.wa)s.onError(t);r.queries.delete(e)}function dS(n){n.Da.forEach(e=>{e.next()})}var MI,uP;(uP=MI||(MI={})).Fa="default",uP.Cache="cache";var Xd=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==MI.Cache}};var bg=class{constructor(e){this.key=e}},Eg=class{constructor(e){this.key=e}},RI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=$e(),this.mutatedKeys=$e(),this.Xa=tN(e),this.eu=new wg(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new _g,i=t?t.eu:this.eu,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let m=i.get(d),g=Fg(this.query,f)?f:null,h=!!m&&this.mutatedKeys.has(m.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),w=!1;m&&g?m.data.isEqual(g.data)?h!==v&&(r.track({type:3,doc:g}),w=!0):this.iu(m,g)||(r.track({type:2,doc:g}),w=!0,(l&&this.Xa(g,l)>0||c&&this.Xa(g,c)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),w=!0):m&&!g&&(r.track({type:1,doc:m}),w=!0,(l||c)&&(a=!0)),w&&(g?(o=o.add(g),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let o=e.ru.pa();o.sort((d,f)=>function(g,h){let v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{At:w})}};return v(g)-v(h)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Ec(this.query,e.eu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new _g,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=$e(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Eg(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new bg(r))}),t}uu(e){this.Ha=e.qs,this.Za=$e();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ec.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},fS="SyncEngine",kI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},PI=class{constructor(e){this.key=e,this.lu=!1}},NI=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new ws(a=>eN(a),Lg),this.Tu=new Map,this.Iu=new Set,this.du=new At(ve.comparator),this.Eu=new Map,this.Au=new Qd,this.Ru={},this.Vu=new Map,this.mu=Yd.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function SG(n,e,t=!0){return P(this,null,function*(){let r=NN(n),i,s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=yield AN(r,e,t,!0),i})}function TG(n,e){return P(this,null,function*(){let t=NN(n);yield AN(t,e,!0,!1)})}function AN(n,e,t,r){return P(this,null,function*(){let i=yield lG(n.localStore,xi(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield CG(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&IN(n.remoteStore,i),a})}function CG(n,e,t,r,i){return P(this,null,function*(){n.gu=(f,m,g)=>function(v,w,D,I){return P(this,null,function*(){let E=w.view.nu(D);E.Ds&&(E=yield sP(v.localStore,w.query,!1).then(({documents:M})=>w.view.nu(M,E)));let O=I&&I.targetChanges.get(w.targetId),U=I&&I.targetMismatches.get(w.targetId)!=null,j=w.view.applyChanges(E,v.isPrimaryClient,O,U);return fP(v,w.targetId,j._u),j.snapshot})}(n,f,m,g);let s=yield sP(n.localStore,e,!0),o=new RI(e,s.qs),a=o.nu(s.documents),l=Wd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);fP(n,t,c._u);let d=new kI(e,t,o);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),c.snapshot})}function DG(n,e,t){return P(this,null,function*(){let r=Ee(n),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!Lg(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield pI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&iS(r.remoteStore,i.targetId),OI(r,i.targetId)}).catch(Cc))):(OI(r,i.targetId),yield pI(r.localStore,i.targetId,!0))})}function xG(n,e){return P(this,null,function*(){let t=Ee(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),iS(t.remoteStore,r.targetId))})}function AG(n,e,t){return P(this,null,function*(){let r=LG(n);try{let i=yield function(o,a){let l=Ee(o),c=_t.now(),d=a.reduce((g,h)=>g.add(h.key),$e()),f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let h=_s(),v=$e();return l.Os.getEntries(g,d).next(w=>{h=w,h.forEach((D,I)=>{I.isValidDocument()||(v=v.add(D))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,h)).next(w=>{f=w;let D=[];for(let I of a){let E=N9(I,f.get(I.key).overlayedDocument);E!=null&&D.push(new ki(I.key,E,WP(E.value.mapValue),Ai.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,D,a)}).next(w=>{m=w;let D=w.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,w.batchId,D)})}).then(()=>({batchId:m.batchId,changes:rN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new At(Fe)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,i.batchId,t),yield sf(r,i.changes),yield jg(r.remoteStore)}catch(i){let s=lS(i,"Failed to persist write");t.reject(s)}})}function MN(n,e){return P(this,null,function*(){let t=Ee(n);try{let r=yield sG(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Eu.get(s);o&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?tt(o.lu,14607):i.removedDocuments.size>0&&(tt(o.lu,42227),o.lu=!1))}),yield sf(t,r,e)}catch(r){yield Cc(r)}})}function dP(n,e,t){let r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((s,o)=>{let a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let l=Ee(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(let m of f.wa)m.va(a)&&(c=!0)}),c&&dS(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function MG(n,e,t){return P(this,null,function*(){let r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),s=i&&i.key;if(s){let o=new At(ve.comparator);o=o.insert(s,Qr.newNoDocument(s,De.min()));let a=$e().add(s),l=new og(De.min(),new Map,new At(Fe),o,a);yield MN(r,l),r.du=r.du.remove(s),r.Eu.delete(e),hS(r)}else yield pI(r.localStore,e,!1).then(()=>OI(r,e,t)).catch(Cc)})}function RG(n,e){return P(this,null,function*(){let t=Ee(n),r=e.batch.batchId;try{let i=yield iG(t.localStore,e);kN(t,r,null),RN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield sf(t,i)}catch(i){yield Cc(i)}})}function kG(n,e,t){return P(this,null,function*(){let r=Ee(n);try{let i=yield function(o,a){let l=Ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(tt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);kN(r,e,t),RN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield sf(r,i)}catch(i){yield Cc(i)}})}function RN(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function kN(n,e,t){let r=Ee(n),i=r.Ru[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function OI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||PN(n,r)})}function PN(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(iS(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),hS(n))}function fP(n,e,t){for(let r of t)r instanceof bg?(n.Au.addReference(r.key,e),PG(n,r)):r instanceof Eg?(ae(fS,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||PN(n,r.key)):_e(19791,{yu:r})}function PG(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(ae(fS,"New document in limbo: "+t),n.Iu.add(r),hS(n))}function hS(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new ve(wt.fromString(e)),r=n.mu.next();n.Eu.set(r,new PI(t)),n.du=n.du.insert(t,r),IN(n.remoteStore,new Kd(xi(Og(t.path)),r,"TargetPurposeLimboResolution",WI.ue))}}function sf(n,e,t){return P(this,null,function*(){let r=Ee(n),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,t).then(c=>{var d;if((c||t)&&r.isPrimaryClient){let f=c?!c.fromCache:(d=t?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);let f=uI.Es(l.targetId,c);s.push(f)}}))}),yield Promise.all(o),r.hu.J_(i),yield function(l,c){return P(this,null,function*(){let d=Ee(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(c,m=>Q.forEach(m.Is,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>Q.forEach(m.ds,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Dc(f))throw f;ae(rS,"Failed to update sequence numbers: "+f)}for(let f of c){let m=f.targetId;if(!f.fromCache){let g=d.Fs.get(m),h=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(h);d.Fs=d.Fs.insert(m,v)}}})}(r.localStore,s))})}function NG(n,e){return P(this,null,function*(){let t=Ee(n);if(!t.currentUser.isEqual(e)){ae(fS,"User change. New user:",e.toKey());let r=yield bN(t.localStore,e);t.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new oe(W.CANCELLED,o))})}),s.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield sf(t,r.Bs)}})}function OG(n,e){let t=Ee(n),r=t.Eu.get(e);if(r&&r.lu)return $e().add(r.key);{let i=$e(),s=t.Tu.get(e);if(!s)return i;for(let o of s){let a=t.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function NN(n){let e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MG.bind(null,e),e.hu.J_=EG.bind(null,e.eventManager),e.hu.pu=IG.bind(null,e.eventManager),e}function LG(n){let e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kG.bind(null,e),e}var ON=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return P(this,null,function*(){this.serializer=Vg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return rG(this.persistence,new fI,t.initialUser,this.serializer)}Du(t){return new fg(cI.Vi,this.serializer)}bu(t){return new mI}terminate(){return P(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),LI=class extends ON{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){tt(this.persistence.referenceDelegate instanceof hg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new QE(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new fg(r=>hg.Vi(r,t),this.serializer)}};var FG=(()=>{class n{initialize(t,r){return P(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=NG.bind(null,this.syncEngine),yield bG(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new AI}()}createDatastore(t){let r=Vg(t.databaseInfo.databaseId),i=function(o){return new _I(o)}(t.databaseInfo);return function(o,a,l,c){return new SI(o,a,l,c)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,l){return new CI(i,s,o,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>dP(this.syncEngine,r,0),function(){return mg.C()?new mg:new gI}())}createSyncEngine(t,r){return function(s,o,a,l,c,d,f){let m=new NI(s,o,a,l,c,d);return f&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return P(this,null,function*(){var t,r;yield function(s){return P(this,null,function*(){let o=Ee(s);ae(Ba,"RemoteStore shutting down."),o.Ia.add(5),yield rf(o),o.Ea.shutdown(),o.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Zd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var po="FirestoreClient",FI=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=Bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>P(this,null,function*(){ae(po,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(ae(po,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=lS(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function lE(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ae(po,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>P(null,null,function*(){r.isEqual(i)||(yield bN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{co("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ae("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{co("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function hP(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield VG(n);ae(po,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>lP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>lP(e.remoteStore,i)),n._onlineComponents=e})}function VG(n){return P(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(po,"Using user provided OfflineComponentProvider");try{yield lE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;co("Error using user provided cache. Falling back to memory cache: "+t),yield lE(n,new ON)}}else ae(po,"Using default OfflineComponentProvider"),yield lE(n,new LI(void 0));return n._offlineComponents})}function LN(n){return P(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(po,"Using user provided OnlineComponentProvider"),yield hP(n,n._uninitializedComponentsProvider._online)):(ae(po,"Using default OnlineComponentProvider"),yield hP(n,new FG))),n._onlineComponents})}function UG(n){return LN(n).then(e=>e.syncEngine)}function Ig(n){return P(this,null,function*(){let e=yield LN(n),t=e.eventManager;return t.onListen=SG.bind(null,e.syncEngine),t.onUnlisten=DG.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TG.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xG.bind(null,e.syncEngine),t})}function FN(n,e,t={}){let r=new Yr;return n.asyncQueue.enqueueAndForget(()=>P(null,null,function*(){return function(s,o,a,l,c){let d=new Zd({next:m=>{d.Ou(),o.enqueueAndForget(()=>uS(s,f));let g=m.docs.has(a);!g&&m.fromCache?c.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?c.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new Xd(Og(a.path),d,{includeMetadataChanges:!0,ka:!0});return cS(s,f)}(yield Ig(n),n.asyncQueue,e,t,r)})),r.promise}function jG(n,e,t={}){let r=new Yr;return n.asyncQueue.enqueueAndForget(()=>P(null,null,function*(){return function(s,o,a,l,c){let d=new Zd({next:m=>{d.Ou(),o.enqueueAndForget(()=>uS(s,f)),m.fromCache&&l.source==="server"?c.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new Xd(a,d,{includeMetadataChanges:!0,ka:!0});return cS(s,f)}(yield Ig(n),n.asyncQueue,e,t,r)})),r.promise}function VN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var pP=new Map;var UN="firestore.googleapis.com",mP=!0,Sg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UN,this.ssl=mP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:mP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_N;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eG)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ic=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cE;switch(r.type){case"firstParty":return new hE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return P(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=pP.get(t);r&&(ae("ComponentProvider","Removing Datastore"),pP.delete(t),r.terminate())}(this),Promise.resolve()}};function jN(n,e,t,r={}){var i;n=Tn(n,Ic);let s=Gr(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;s&&(Zl(`https://${l}`),Jl("Firestore",!0)),o.host!==UN&&o.host!==l&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!yi(c,a)&&(n._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=sn.MOCK_USER;else{d=vm(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new sn(m)}n._authCredentials=new uE(new Zm(d,f))}}var mo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},qt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(nf(t,n._jsonSchema))return new n(e,r||null,new ve(wt.fromString(t.referencePath)))}};qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:zt("string",qt._jsonSchemaVersion),referencePath:zt("string")};var so=class n extends mo{constructor(e,t,r){super(e,t,Og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new ve(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Ha(n,e,...t){if(n=rt(n),IP("collection","path",e),n instanceof Ic){let r=wt.fromString(e,...t);return Pk(r),new so(n,null,r)}{if(!(n instanceof qt||n instanceof so))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(wt.fromString(e,...t));return Pk(r),new so(n.firestore,null,r)}}function Pi(n,e,...t){if(n=rt(n),arguments.length===1&&(e=Bd.newId()),IP("doc","path",e),n instanceof Ic){let r=wt.fromString(e,...t);return kk(r),new qt(n,null,new ve(r))}{if(!(n instanceof qt||n instanceof so))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(wt.fromString(e,...t));return kk(r),new qt(n.firestore,n instanceof so?n.converter:null,new ve(r))}}var gP="AsyncQueue",Tg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new gg(this,"async_queue_retry"),this.oc=()=>{let r=aE();r&&ae(gP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=aE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=aE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Yr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return P(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Dc(e))throw e;ae(gP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,gs("INTERNAL UNHANDLED ERROR: ",vP(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=DI.createAndSchedule(this,e,t,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&_e(47125,{hc:vP(this.tc)})}verifyOperationInProgress(){}Pc(){return P(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function vP(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function yP(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var wr=class extends Ic{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Tg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return P(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Tg(e),this._firestoreClient=void 0,yield e}})}};function pS(n,e){let t=typeof n=="object"?n:as(),r=typeof n=="string"?n:e||rg,i=Xs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=gm("firestore");s&&jN(i,...s)}return i}function of(n){if(n._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BG(n),n._firestoreClient}function BG(n){var e,t,r;let i=n._freezeSettings(),s=function(a,l,c,d){return new yE(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,VN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new FI(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var oo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Cn.fromBase64String(e))}catch(t){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nf(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};oo._jsonSchemaVersion="firestore/bytes/1.0",oo._jsonSchema={type:zt("string",oo._jsonSchemaVersion),bytes:zt("string")};var Sc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Jd=class{constructor(e){this._methodName=e}};var ao=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(nf(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ao._jsonSchemaVersion="firestore/geoPoint/1.0",ao._jsonSchema={type:zt("string",ao._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};var lo=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nf(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};lo._jsonSchemaVersion="firestore/vectorValue/1.0",lo._jsonSchema={type:zt("string",lo._jsonSchemaVersion),vectorValues:zt("object")};var $G=/^__.*__$/,VI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new ja(e,this.data,t,this.fieldTransforms)}},Cg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function BN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ec:n})}}var UI=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return xg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(BN(this.Ec)&&$G.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},jI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vg(e)}Dc(e,t,r,i=!1){return new UI({Ec:e,methodName:t,bc:r,path:or.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Bg(n){let e=n._freezeSettings(),t=Vg(n._databaseId);return new jI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $N(n,e,t,r,i,s={}){let o=n.Dc(s.merge||s.mergeFields?2:0,e,t,i);mS("Data must be an object, but it was:",o,r);let a=HN(r,o),l,c;if(s.merge)l=new yr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let m=BI(e,f,t);if(!o.contains(m))throw new oe(W.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);qN(d,m)||d.push(m)}l=new yr(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new VI(new sr(a),l,c)}var Dg=class n extends Jd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function HG(n,e,t,r){let i=n.Dc(1,e,t);mS("Data must be an object, but it was:",i,r);let s=[],o=sr.empty();go(r,(l,c)=>{let d=gS(e,l,t);c=rt(c);let f=i.gc(d);if(c instanceof Dg)s.push(d);else{let m=af(c,f);m!=null&&(s.push(d),o.set(d,m))}});let a=new yr(s);return new Cg(o,a,i.fieldTransforms)}function zG(n,e,t,r,i,s){let o=n.Dc(1,e,t),a=[BI(e,r,t)],l=[i];if(s.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(BI(e,s[m])),l.push(s[m+1]);let c=[],d=sr.empty();for(let m=a.length-1;m>=0;--m)if(!qN(c,a[m])){let g=a[m],h=l[m];h=rt(h);let v=o.gc(g);if(h instanceof Dg)c.push(g);else{let w=af(h,v);w!=null&&(c.push(g),d.set(g,w))}}let f=new yr(c);return new Cg(d,f,o.fieldTransforms)}function qG(n,e,t,r=!1){return af(t,n.Dc(r?4:3,e))}function af(n,e){if(zN(n=rt(n)))return mS("Unsupported field value:",e,n),HN(n,e);if(n instanceof Jd)return function(r,i){if(!BN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let l=af(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=_t.fromDate(r);return{timestampValue:ug(i.serializer,s)}}if(r instanceof _t){let s=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ug(i.serializer,s)}}if(r instanceof ao)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oo)return{bytesValue:hN(i.serializer,r._byteString)};if(r instanceof qt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:nS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lo)return function(o,a){return{mapValue:{fields:{[QI]:{stringValue:XI},[pc]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return tS(a.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${kg(r)}`)}(n,e)}function HN(n,e){let t={};return UP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(n,(r,i)=>{let s=af(i,e.Vc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function zN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof ao||n instanceof oo||n instanceof qt||n instanceof Jd||n instanceof lo)}function mS(n,e,t){if(!zN(t)||!SP(t)){let r=kg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function BI(n,e,t){if((e=rt(e))instanceof Sc)return e._internalPath;if(typeof e=="string")return gS(n,e);throw xg("Field path arguments must be of type string or ",n,!1,void 0,t)}var GG=new RegExp("[~\\*/\\[\\]]");function gS(n,e,t){if(e.search(GG)>=0)throw xg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sc(...e.split("."))._internalPath}catch{throw xg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xg(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new oe(W.INVALID_ARGUMENT,a+n+l)}function qN(n,e){return n.some(t=>t.isEqual(e))}var Ag=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field($g("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},$I=class extends Ag{data(){return super.data()}};function $g(n,e){return typeof e=="string"?gS(n,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}function GN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ef=class{},Mg=class extends ef{};function za(n,e,...t){let r=[];e instanceof ef&&r.push(e),r=r.concat(t),function(s){let o=s.filter(l=>l instanceof HI).length,a=s.filter(l=>l instanceof Rg).length;if(o>1||o>0&&a>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Rg=class n extends Mg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return WN(e._query,t),new mo(e.firestore,e.converter,RE(e._query,t))}_parse(e){let t=Bg(e.firestore);return function(s,o,a,l,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){_P(f,d);let h=[];for(let v of f)h.push(wP(l,s,v));m={arrayValue:{values:h}}}else m=wP(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||_P(f,d),m=qG(a,o,f,d==="in"||d==="not-in");return Ht.create(c,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Ac(n,e,t){let r=e,i=$g("where",n);return Rg._create(i,r,t)}var HI=class n extends ef{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Xr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let l of a)WN(o,l),o=RE(o,l)}(e._query,t),new mo(e.firestore,e.converter,RE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var zI=class n extends Mg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,s,o){if(i.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fa(s,o)}(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new fo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function Mc(n,e="asc"){let t=e,r=$g("orderBy",n);return zI._create(r,t)}function wP(n,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JP(e)&&t.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(wt.fromString(t));if(!ve.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jk(n,new ve(r))}if(t instanceof qt)return jk(n,t._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kg(t)}.`)}function _P(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WN(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var qI=class{convertValue(e,t="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return go(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[pc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>yt(o.doubleValue));return new lo(s)}convertGeoPoint(e){return new ao(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Ng(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zd(e));default:return null}}convertTimestamp(e){let t=vs(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=wt.fromString(e);tt(wN(r),9688,{name:e});let i=new ig(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(t)||gs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function KN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ka=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Pa=class n extends Ag{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field($g("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:zt("string",Pa._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};var fc=class extends Pa{data(e={}){return super.data(e)}},Na=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ka(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fc(this._firestore,this._userDataWriter,r.key,r,new ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let l=new fc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ka(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new fc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ka(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:WG(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function WG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:n})}}function YN(n){n=Tn(n,qt);let e=Tn(n.firestore,wr);return FN(of(e),n._key).then(t=>wS(e,n,t))}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:zt("string",Na._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};var tf=class extends qI{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}};function vS(n){n=Tn(n,qt);let e=Tn(n.firestore,wr);return FN(of(e),n._key,{source:"server"}).then(t=>wS(e,n,t))}function yS(n){n=Tn(n,mo);let e=Tn(n.firestore,wr),t=of(e),r=new tf(e);return GN(n._query),jG(t,n._query).then(i=>new Na(e,r,n,i))}function Hg(n,e,t){n=Tn(n,qt);let r=Tn(n.firestore,wr),i=KN(n.converter,e,t);return qg(r,[$N(Bg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ai.none())])}function Rc(n,e,t,...r){n=Tn(n,qt);let i=Tn(n.firestore,wr),s=Bg(i),o;return o=typeof(e=rt(e))=="string"||e instanceof Sc?zG(s,"updateDoc",n._key,e,t,r):HG(s,"updateDoc",n._key,e),qg(i,[o.toMutation(n._key,Ai.exists(!0))])}function zg(n){return qg(Tn(n.firestore,wr),[new Gd(n._key,Ai.none())])}function lf(n,e){let t=Tn(n.firestore,wr),r=Pi(n),i=KN(n.converter,e);return qg(t,[$N(Bg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ai.exists(!1))]).then(()=>r)}function cf(n,...e){var t,r,i;n=rt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||yP(e[o])||(s=e[o++]);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(yP(e[o])){let f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(n instanceof qt)c=Tn(n.firestore,wr),d=Og(n._key.path),l={next:f=>{e[o]&&e[o](wS(c,n,f))},error:e[o+1],complete:e[o+2]};else{let f=Tn(n,mo);c=Tn(f.firestore,wr),d=f._query;let m=new tf(c);l={next:g=>{e[o]&&e[o](new Na(c,m,f,g))},error:e[o+1],complete:e[o+2]},GN(n._query)}return function(m,g,h,v){let w=new Zd(v),D=new Xd(g,w,h);return m.asyncQueue.enqueueAndForget(()=>P(null,null,function*(){return cS(yield Ig(m),D)})),()=>{w.Ou(),m.asyncQueue.enqueueAndForget(()=>P(null,null,function*(){return uS(yield Ig(m),D)}))}}(of(c),d,a,l)}function qg(n,e){return function(r,i){let s=new Yr;return r.asyncQueue.enqueueAndForget(()=>P(null,null,function*(){return AG(yield UG(r),i,s)})),s.promise}(of(n),e)}function wS(n,e,t){let r=t.docs.get(e._key),i=new tf(n);return new Pa(n,i,e._key,r,new ka(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Tc=i})(bi),ir(new un("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new wr(new dE(r.getProvider("auth-internal")),new pE(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ig(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ut(xk,Ak,e),ut(xk,Ak,"esm2017")})();var Gg=function(){return Gg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Gg.apply(this,arguments)};var QG={includeMetadataChanges:!1};function QN(n,e){return e===void 0&&(e=QG),new Pe(function(t){var r=cf(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function XN(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Gg(Gg({},r),(t={},t[e.idField]=n.id,t))}function ZN(n){return QN(n,{includeMetadataChanges:!0}).pipe(ye(function(e){return e.docs}))}function JN(n,e){return e===void 0&&(e={}),ZN(n).pipe(ye(function(t){return t.map(function(r){return XN(r,e)})}))}var Zr=class{constructor(e){return e}},eO="firestore",_S=class{constructor(){return Zs(eO)}};var bS=new le("angularfire2.firestore-instances");function XG(n,e){let t=Ta(eO,n,e);return t&&new Zr(t)}function ZG(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Zr(r)}}var JG={provide:_S,deps:[[new en,bS]]},e8={provide:Zr,useFactory:XG,deps:[[new en,bS],Wr]};function tO(n,...e){return ut("angularfire",Ei.full,"fst"),Fr([e8,JG,{provide:bS,useFactory:ZG(n),multi:!0,deps:[We,vt,Ii,ls,[new en,Aa],[new en,eo],...e]}])}var qa=gt(JN,!0);var nO=gt(lf,!0,2);var Ga=gt(Ha,!0,2);var Wg=gt(zg,!0,2);var ar=gt(Pi,!0,2);var Wa=gt(YN,!0);var ES=gt(Mc,!0,2),uf=gt(za,!0,2);var rO=gt(Hg,!0,2);var Ni=gt(Rc,!0,2);var IS=gt(Ac,!0,2);var _r=class n{constructor(e){this.firestore=e}CreateDocument(e,t){return P(this,null,function*(){let r=Pi(this.firestore,e);yield Hg(r,t)})}addDocument(e,t){return P(this,null,function*(){let r=Ha(this.firestore,e);return(yield lf(r,t)).id})}getDocument(e){return P(this,null,function*(){let t=Pi(this.firestore,e),r=yield vS(t);return r.exists()?r.data():null})}updateDocument(e,t){return P(this,null,function*(){let r=Pi(this.firestore,e);yield Rc(r,t)})}deleteDocument(e){return P(this,null,function*(){let t=Pi(this.firestore,e);yield zg(t)})}getCollection(e,t){let r=Ha(this.firestore,e),i=t?t(r):za(r);return new Pe(s=>{let o=cf(i,a=>{let l=a.docs.map(c=>ce(G({},c.data()),{id:c.id}));s.next(l)},a=>{s.error(a)});return()=>o()})}getCommentsByLinkId(e){return P(this,null,function*(){let t=za(Ha(this.firestore,"messages"),Ac("linkId","==",e),Mc("createdAt","desc"));return(yield yS(t)).docs.map(i=>ce(G({},i.data()),{id:i.id}))})}markCommentAsRead(e){return P(this,null,function*(){let t=Pi(this.firestore,`messages/${e}`);yield Rc(t,{read:!0,updatedAt:new Date})})}editComment(e,t){return P(this,null,function*(){let r=Pi(this.firestore,`messages/${e}`);yield Rc(r,{text:t,isEdited:!0,editedAt:new Date})})}replyToComment(e,t){return P(this,null,function*(){let r=Ha(this.firestore,"messages");return(yield lf(r,ce(G({},t),{parentId:e,createdAt:new Date,likes:0,likedBy:[],read:!1}))).id})}static \u0275fac=function(t){return new(t||n)(we(Zr))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var nt=class n{fireStoreService=F(_r);userSubject=new kt(null);user$=this.userSubject.asObservable();isLoggedIn$=this.user$.pipe(ye(e=>!!e));auth=F(hs);currentUserSignal=Jn(void 0);constructor(){let e=this.auth.currentUser;e&&(this.userSubject.next(e),this.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,createdAt:new Date})),bk(this.auth,t=>{this.userSubject.next(t),t?this.currentUserSignal.set({id:t.uid,email:t.email,userName:t.displayName,createdAt:new Date}):this.currentUserSignal.set(null)})}getCurrentUser(){return this.userSubject.value}register(e,t,r){return Te(_k(this.auth,e,r).then(i=>P(this,null,function*(){return yield Tk(i.user,{displayName:t}),i}))).pipe(Nt(i=>{throw i}))}login(e,t){return Te(Ik(this.auth,e,t)).pipe(Nt(r=>{throw r}))}logOut(){return Te(Sk(this.auth)).pipe(Nt(e=>{throw e}))}sendPasswordResetEmail(e){return Te(Ek(this.auth,e)).pipe(Nt(t=>{throw t}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var bs=()=>{let n=F(nt),e=F(Ve);return n.isLoggedIn$.pipe(ye(t=>t?!0:(e.navigate(["/login"]),!1)))};var Kg=()=>{let n=F(nt),e=F(Ve);return n.isLoggedIn$.pipe(ye(t=>t?(e.navigate(["/home"]),!1):!0))};function n8(n,e){n&1&&(T(0,"section",4)(1,"a",8),N(2,"Se connecter"),A(),T(3,"a",9),N(4,"S'enregister"),A()())}function r8(n,e){if(n&1){let t=xe();T(0,"section",5)(1,"a",10),ne("click",function(){he(t);let i=Z();return pe(i.logOut())}),N(2,"Se Deconnecter"),A()()}}var Yg=class n{authService=F(nt);router=F(Ve);currentYear=new Date().getFullYear();ngOnInit(){this.authService.isLoggedIn$.subscribe(e=>{e&&this.router.navigate(["/home"])}),this.authService.user$.subscribe(e=>{e?this.authService.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,createdAt:new Date}):this.authService.currentUserSignal.set(null)})}logOut(){this.authService.logOut().subscribe(()=>{this.router.navigate(["/login-choice"])})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-login-choice"]],decls:14,vars:3,consts:[[1,"flex","flex-col","justify-around","items-center","h-screen","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-2xl"],[1,"text-8xl","font-bold"],[1,"font-primary","flex","flex-col","items-center","gap-5"],[1,"font-primary","text-2xl","transition-colors","hover:opacity-50"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],["routerLink","/login","routerLinkActive","active",1,"text-2xl","hover:bg-deep-green","px-4","py-1.5","rounded-xl","cursor-pointer"],["routerLink","/register","routerLinkActive","active",1,"text-2xl","hover:bg-deep-green","px-4","py-1.5","rounded-xl","cursor-pointer"],[1,"cursor-pointer",3,"click"]],template:function(t,r){t&1&&(T(0,"nav",0)(1,"section",1)(2,"p",2),N(3,"The Last of"),A(),T(4,"h1",3),N(5,"Coders"),A()(),se(6,n8,5,0,"section",4)(7,r8,3,0,"section",5),T(8,"section",6)(9,"p"),N(10),T(11,"span",7),N(12,"The Last Coders."),A(),N(13," Tous droits r\xE9serv\xE9s."),A()()()),t&2&&(L(6),xt(r.authService.currentUserSignal()===null?6:-1),L(),xt(r.authService.currentUserSignal()?7:-1),L(3),Le("\xA9 ",r.currentYear," "))},dependencies:[Xt,En,k0],encapsulation:2})};var hO=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(me(dr),me(wn))};static \u0275dir=It({type:n})}return n})(),sv=(()=>{class n extends hO{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ia(n)))(i||n)}})();static \u0275dir=It({type:n,features:[jr]})}return n})(),mf=new le("");var i8={provide:mf,useExisting:Xi(()=>br),multi:!0};function s8(){let n=mr()?mr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var o8=new le(""),br=(()=>{class n extends hO{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!s8())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(me(dr),me(wn),me(o8,8))};static \u0275dir=It({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ne("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[da([i8]),jr]})}return n})();function AS(n){return n==null||MS(n)===0}function MS(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var pO=new le(""),mO=new le(""),a8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dt=class{static min(e){return l8(e)}static max(e){return c8(e)}static required(e){return u8(e)}static requiredTrue(e){return d8(e)}static email(e){return f8(e)}static minLength(e){return h8(e)}static maxLength(e){return p8(e)}static pattern(e){return m8(e)}static nullValidator(e){return gO()}static compose(e){return EO(e)}static composeAsync(e){return SO(e)}};function l8(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function c8(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function u8(n){return AS(n.value)?{required:!0}:null}function d8(n){return n.value===!0?null:{required:!0}}function f8(n){return AS(n.value)||a8.test(n.value)?null:{email:!0}}function h8(n){return e=>{let t=e.value?.length??MS(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function p8(n){return e=>{let t=e.value?.length??MS(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function m8(n){if(!n)return gO;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(AS(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function gO(n){return null}function vO(n){return n!=null}function yO(n){return $s(n)?Te(n):n}function wO(n){let e={};return n.forEach(t=>{e=t!=null?G(G({},e),t):e}),Object.keys(e).length===0?null:e}function _O(n,e){return e.map(t=>t(n))}function g8(n){return!n.validate}function bO(n){return n.map(e=>g8(e)?e:t=>e.validate(t))}function EO(n){if(!n)return null;let e=n.filter(vO);return e.length==0?null:function(t){return wO(_O(t,e))}}function IO(n){return n!=null?EO(bO(n)):null}function SO(n){if(!n)return null;let e=n.filter(vO);return e.length==0?null:function(t){let r=_O(t,e).map(yO);return wy(r).pipe(ye(wO))}}function TO(n){return n!=null?SO(bO(n)):null}function iO(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function CO(n){return n._rawValidators}function DO(n){return n._rawAsyncValidators}function SS(n){return n?Array.isArray(n)?n:[n]:[]}function Zg(n,e){return Array.isArray(n)?n.includes(e):n===e}function sO(n,e){let t=SS(e);return SS(n).forEach(i=>{Zg(t,i)||t.push(i)}),t}function oO(n,e){return SS(e).filter(t=>!Zg(n,t))}var Jg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=IO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=TO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Nc=class extends Jg{name;get formDirective(){return null}get path(){return null}},Oc=class extends Jg{_parent=null;name=null;valueAccessor=null},ev=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},v8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xue=ce(G({},v8),{"[class.ng-submitted]":"isSubmitted"}),Oi=(()=>{class n extends ev{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(me(Oc,2))};static \u0275dir=It({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[jr]})}return n})(),Li=(()=>{class n extends ev{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(me(Nc,10))};static \u0275dir=It({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[jr]})}return n})();var df="VALID",Qg="INVALID",kc="PENDING",ff="DISABLED",vo=class{},tv=class extends vo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},hf=class extends vo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},pf=class extends vo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Pc=class extends vo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},TS=class extends vo{source;constructor(e){super(),this.source=e}},CS=class extends vo{source;constructor(e){super(),this.source=e}};function RS(n){return(ov(n)?n.validators:n)||null}function y8(n){return Array.isArray(n)?IO(n):n||null}function kS(n,e){return(ov(e)?e.asyncValidators:n)||null}function w8(n){return Array.isArray(n)?TO(n):n||null}function ov(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function xO(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ue(1e3,"");if(!r[t])throw new ue(1001,"")}function AO(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ue(1002,"")})}var Lc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return pr(this.statusReactive)}set status(e){pr(()=>this.statusReactive.set(e))}_status=Ul(()=>this.statusReactive());statusReactive=Jn(void 0);get valid(){return this.status===df}get invalid(){return this.status===Qg}get pending(){return this.status==kc}get disabled(){return this.status===ff}get enabled(){return this.status!==ff}errors;get pristine(){return pr(this.pristineReactive)}set pristine(e){pr(()=>this.pristineReactive.set(e))}_pristine=Ul(()=>this.pristineReactive());pristineReactive=Jn(!0);get dirty(){return!this.pristine}get touched(){return pr(this.touchedReactive)}set touched(e){pr(()=>this.touchedReactive.set(e))}_touched=Ul(()=>this.touchedReactive());touchedReactive=Jn(!1);get untouched(){return!this.touched}_events=new Rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oO(e,this._rawAsyncValidators))}hasValidator(e){return Zg(this._rawValidators,e)}hasAsyncValidator(e){return Zg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(G({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new pf(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new pf(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(G({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new hf(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new hf(!0,r))}markAsPending(e={}){this.status=kc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(G({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ff,this.errors=null,this._forEachChild(i=>{i.disable(ce(G({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tv(this.value,r)),this._events.next(new Pc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(G({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=df,this._forEachChild(r=>{r.enable(ce(G({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(G({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===df||this.status===kc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tv(this.value,t)),this._events.next(new Pc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(G({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ff:df}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=kc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=yO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Pc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?ff:this.errors?Qg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kc)?kc:this._anyControlsHaveStatus(Qg)?Qg:df}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new hf(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new pf(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ov(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=y8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=w8(this._rawAsyncValidators)}},nv=class extends Lc{constructor(e,t,r){super(RS(t),kS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){AO(this,!0,e),Object.keys(e).forEach(r=>{xO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var DS=class extends nv{};var av=new le("",{providedIn:"root",factory:()=>gf}),gf="always";function _8(n,e){return[...e.path,n]}function aO(n,e,t=gf){PS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),E8(n,e),S8(n,e),I8(n,e),b8(n,e)}function lO(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),iv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function b8(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function PS(n,e){let t=CO(n);e.validator!==null?n.setValidators(iO(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=DO(n);e.asyncValidator!==null?n.setAsyncValidators(iO(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();rv(e._rawValidators,i),rv(e._rawAsyncValidators,i)}function iv(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=CO(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=DO(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return rv(e._rawValidators,r),rv(e._rawAsyncValidators,r),t}function E8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&MO(n,e)})}function I8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&MO(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function MO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function S8(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function T8(n,e){n==null,PS(n,e)}function C8(n,e){return iv(n,e)}function D8(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function x8(n){return Object.getPrototypeOf(n.constructor)===sv}function A8(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function M8(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===br?t=s:x8(s)?r=s:i=s}),i||r||t||null}function R8(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function cO(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function uO(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Xg=class extends Lc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(RS(t),kS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ov(t)&&(t.nonNullable||t.initialValueIsDefault)&&(uO(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){uO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var k8=n=>n instanceof Xg;var Fi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=It({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var P8={provide:mf,useExisting:Xi(()=>NS),multi:!0};var N8=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NS=(()=>{class n extends sv{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=F(av,{optional:!0})??gf;constructor(t,r,i,s){super(t,r),this._registry=i,this._injector=s}ngOnInit(){this._control=this._injector.get(Oc),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(me(dr),me(wn),me(N8),me(vt))};static \u0275dir=It({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&ne("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[da([P8]),jr]})}return n})();var RO=new le("");var O8={provide:Nc,useExisting:Xi(()=>Jr)},Jr=(()=>{class n extends Nc{callSetDisabledState;get submitted(){return pr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ul(()=>this._submittedReactive());_submittedReactive=Jn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ze;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(iv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return aO(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){lO(t.control||null,t,!1),R8(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),A8(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new TS(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new CS(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(lO(r||null,t),k8(i)&&(aO(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);T8(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&C8(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){PS(this.form,this),this._oldForm&&iv(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(me(pO,10),me(mO,10),me(av,8))};static \u0275dir=It({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ne("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[da([O8]),jr,Ur]})}return n})();var L8={provide:Oc,useExisting:Xi(()=>ei)},ei=(()=>{class n extends Oc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=M8(this,s)}ngOnChanges(t){this._added||this._setUpControl(),D8(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return _8(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(me(Nc,13),me(pO,10),me(mO,10),me(mf,10),me(RO,8))};static \u0275dir=It({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[da([L8]),jr,Ur]})}return n})();var F8={provide:mf,useExisting:Xi(()=>lv),multi:!0};function kO(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function V8(n){return n.split(":")[0]}var lv=(()=>{class n extends sv{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=kO(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=V8(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ia(n)))(i||n)}})();static \u0275dir=It({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ne("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[da([F8]),jr]})}return n})(),PO=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(kO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(me(wn),me(dr),me(lv,9))};static \u0275dir=It({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),U8={provide:mf,useExisting:Xi(()=>NO),multi:!0};function dO(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function j8(n){return n.split(":")[0]}var NO=(()=>{class n extends sv{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);i.push(c)}}else{let o=r.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=j8(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ia(n)))(i||n)}})();static \u0275dir=It({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ne("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[da([U8]),jr]})}return n})(),OO=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(dO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(dO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(me(wn),me(dr),me(NO,9))};static \u0275dir=It({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var LO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=fi({type:n});static \u0275inj=ui({})}return n})(),xS=class extends Lc{constructor(e,t,r){super(RS(t),kS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){AO(this,!1,e),e.forEach((r,i)=>{xO(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function fO(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Er=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return fO(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new nv(i,s)}record(t,r=null){let i=this._reduceControls(t);return new DS(i,r)}control(t,r,i){let s={};return this.useNonNullable?(fO(r)?s=r:(s.validators=r,s.asyncValidators=i),new Xg(t,ce(G({},s),{nonNullable:!0}))):new Xg(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new xS(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Xg)return t;if(t instanceof Lc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:av,useValue:t.callSetDisabledState??gf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=fi({type:n});static \u0275inj=ui({imports:[LO]})}return n})(),Ir=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:RO,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:av,useValue:t.callSetDisabledState??gf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=fi({type:n});static \u0275inj=ui({imports:[LO]})}return n})();function B8(n,e){if(n&1&&(T(0,"div",19),N(1),A()),n&2){let t=Z();L(),Le(" ",t.errorMessage," ")}}function $8(n,e){n&1&&(T(0,"p"),N(1,"L'email est requis"),A())}function H8(n,e){n&1&&(T(0,"p"),N(1,"L'email n'est pas valide"),A())}function z8(n,e){if(n&1&&(T(0,"div",20),se(1,$8,2,0,"p",21)(2,H8,2,0,"p",21),A()),n&2){let t,r,i=Z();L(),q("ngIf",(t=i.loginForm.get("email"))==null||t.errors==null?null:t.errors.required),L(),q("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function q8(n,e){n&1&&(T(0,"p"),N(1,"Le mot de passe est requis"),A())}function G8(n,e){if(n&1&&(T(0,"div",20),se(1,q8,2,0,"p",21),A()),n&2){let t,r=Z();L(),q("ngIf",(t=r.loginForm.get("password"))==null||t.errors==null?null:t.errors.required)}}var cv=class n{fb=F(Er);authService=F(nt);router=F(Ve);loginForm;errorMessage="";currentYear=new Date().getFullYear();constructor(){this.loginForm=this.fb.group({email:["",[dt.required,dt.email]],password:["",[dt.required,dt.minLength(6)]]})}onSubmit(){if(this.loginForm.valid){let{email:e,password:t}=this.loginForm.value;this.errorMessage="",this.authService.login(e,t).subscribe({next:()=>{console.log("Connexion r\xE9ussie"),this.router.navigate(["/home"])},error:r=>{switch(console.error("Erreur lors de la connexion:",r),r.code){case"auth/invalid-email":this.errorMessage="L'adresse email n'est pas valide.";break;case"auth/user-disabled":this.errorMessage="Ce compte a \xE9t\xE9 d\xE9sactiv\xE9.";break;case"auth/user-not-found":this.errorMessage="Aucun compte n'existe avec cet email.";break;case"auth/wrong-password":this.errorMessage="Le mot de passe est incorrect.";break;case"auth/invalid-credential":this.errorMessage="Email ou mot de passe incorrect.";break;default:this.errorMessage="Une erreur est survenue lors de la connexion. Veuillez r\xE9essayer."}}})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-login"]],decls:35,vars:6,consts:[[1,"min-h-screen"],[1,"max-w-2xl","mx-auto","flex","flex-col","items-center","justify-around","h-screen","px-4","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-xl"],[1,"text-5xl","font-bold"],["class","font-primary text-red-500 text-center bg-red-100 p-3 rounded-lg mb-4",4,"ngIf"],[1,"flex","flex-col","gap-5","w-full","max-w-md",3,"ngSubmit","formGroup"],[1,"flex","font-primary"],[1,"w-full","max-w-md"],["type","email","formControlName","email","placeholder","Email",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["class","text-apple-green text-xs mt-1",4,"ngIf"],["type","password","formControlName","password","placeholder","Mot de passe",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],[1,"font-primary","text-sm","text-gray-500","hover:text-apple-green","cursor-pointer"],["type","submit",1,"text-2xl","bg-deep-green","transition-colors","hover:bg-apple-green","px-4","py-1.5","rounded-xl","cursor-pointer","font-primary","btn","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","gap-2","font-secondary","mt-12"],[1,"text-sm"],["routerLink","/register",1,"text-sm","text-apple-green","hover:text-deep-green"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],[1,"font-primary","text-red-500","text-center","bg-red-100","p-3","rounded-lg","mb-4"],[1,"text-apple-green","text-xs","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1&&(T(0,"section",0)(1,"div",1)(2,"section",2)(3,"p",3),N(4,"The Last of"),A(),T(5,"h1",4),N(6,"Coders"),A()(),T(7,"section"),se(8,B8,2,1,"div",5),T(9,"form",6),ne("ngSubmit",function(){return r.onSubmit()}),T(10,"div",7)(11,"p",3),N(12,"Se connecter"),A()(),T(13,"div",8),fe(14,"input",9),se(15,z8,3,2,"div",10),A(),T(16,"div",8),fe(17,"input",11),se(18,G8,2,1,"div",10),A(),T(19,"div",12)(20,"p"),N(21,"Mot de passe oubli\xE9 ?"),A()(),T(22,"button",13),N(23," Se connecter "),A(),T(24,"div",14)(25,"p",15),N(26,"Pas encore de compte ?"),A(),T(27,"a",16),N(28,"S'enregistrer"),A()()()(),T(29,"section",17)(30,"p"),N(31),T(32,"span",18),N(33,"The Last Coders."),A(),N(34," Tous droits r\xE9serv\xE9s."),A()()()()),t&2){let i,s;L(8),q("ngIf",r.errorMessage),L(),q("formGroup",r.loginForm),L(6),q("ngIf",((i=r.loginForm.get("email"))==null?null:i.touched)&&((i=r.loginForm.get("email"))==null?null:i.errors)),L(3),q("ngIf",((s=r.loginForm.get("password"))==null?null:s.touched)&&((s=r.loginForm.get("password"))==null?null:s.errors)),L(4),q("disabled",!r.loginForm.valid),L(9),Le("\xA9 ",r.currentYear," ")}},dependencies:[Ir,Fi,br,Oi,Li,Jr,ei,Xt,En,et,St],encapsulation:2})};function W8(n,e){if(n&1&&(T(0,"div",19),N(1),A()),n&2){let t=Z();L(),Le(" ",t.errorMessage," ")}}function K8(n,e){n&1&&(T(0,"p"),N(1,"Le nom d'utilisateur est requis "),A())}function Y8(n,e){n&1&&(T(0,"p"),N(1,"Le nom d'utilisateur doit contenir au moins 7 caract\xE8res"),A())}function Q8(n,e){if(n&1&&(T(0,"div",20),se(1,K8,2,0,"p",21)(2,Y8,2,0,"p",21),A()),n&2){let t,r,i=Z();L(),q("ngIf",(t=i.registerForm.get("userName"))==null||t.errors==null?null:t.errors.required),L(),q("ngIf",(r=i.registerForm.get("userName"))==null||r.errors==null?null:r.errors.minlength)}}function X8(n,e){n&1&&(T(0,"p"),N(1,"L'email est requis"),A())}function Z8(n,e){n&1&&(T(0,"p"),N(1,"L'email n'est pas valide"),A())}function J8(n,e){if(n&1&&(T(0,"div",20),se(1,X8,2,0,"p",21)(2,Z8,2,0,"p",21),A()),n&2){let t,r,i=Z();L(),q("ngIf",(t=i.registerForm.get("email"))==null||t.errors==null?null:t.errors.required),L(),q("ngIf",(r=i.registerForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function eW(n,e){n&1&&(T(0,"p"),N(1,"Le mot de passe est requis"),A())}function tW(n,e){n&1&&(T(0,"p"),N(1,"Le mot de passe doit contenir au moins 6 caract\xE8res"),A())}function nW(n,e){if(n&1&&(T(0,"div",20),se(1,eW,2,0,"p",21)(2,tW,2,0,"p",21),A()),n&2){let t,r,i=Z();L(),q("ngIf",(t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.required),L(),q("ngIf",(r=i.registerForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}var uv=class n{authService=F(nt);firestoreService=F(_r);fb=F(Er);router=F(Ve);registerForm;errorMessage="";currentYear=new Date().getFullYear();constructor(){this.registerForm=this.fb.group({userName:["",[dt.required,dt.minLength(7)]],email:["",[dt.required,dt.email]],password:["",[dt.required,dt.minLength(6)]]})}ngOnInit(){this.authService.user$.subscribe(e=>{e?this.authService.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,role:"reader",createdAt:new Date}):this.authService.currentUserSignal.set(null)})}onSubmit(){if(this.registerForm.valid){let e=this.registerForm.get("email")?.value,t=this.registerForm.get("userName")?.value,r=this.registerForm.get("password")?.value;this.authService.register(e,t,r).subscribe({next:i=>P(this,null,function*(){try{if(yield new Promise(a=>setTimeout(a,1e3)),!this.authService.getCurrentUser())throw new Error("User not authenticated after registration");let o={id:i.user.uid,email:i.user.email,userName:t,createdAt:new Date,role:"reader",skills:[],socialLinks:{github:"",linkedin:"",twitter:""}};this.authService.currentUserSignal.set(o),yield this.firestoreService.CreateDocument(`users/${i.user.uid}`,o),this.router.navigate(["/skills"])}catch{this.authService.currentUserSignal.set(null),this.authService.logOut().subscribe()}}),error:i=>{alert(i.message||"Registration failed. Please try again.")}})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-register"]],decls:35,vars:7,consts:[[1,"min-h-screen"],[1,"max-w-2xl","mx-auto","flex","flex-col","items-center","justify-around","h-screen","px-4","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-xl"],[1,"text-5xl","font-bold"],["class","font-primary text-red-500 text-center bg-red-100 p-3 rounded-lg mb-4",4,"ngIf"],[1,"flex","flex-col","gap-5","w-full","max-w-md",3,"ngSubmit","formGroup"],[1,"flex","font-primary"],[1,"w-full","max-w-md"],["type","text","formControlName","userName","placeholder","Nom d'utilisateur",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["class","text-apple-green text-xs mt-1",4,"ngIf"],["type","email","formControlName","email","placeholder","Email",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["type","password","formControlName","password","placeholder","Mot de passe",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["type","submit",1,"text-2xl","bg-deep-green","transition-colors","hover:bg-apple-green","px-4","py-1.5","rounded-xl","cursor-pointer","font-primary","btn","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","gap-2","font-secondary","mt-12"],[1,"text-sm"],["routerLink","/login",1,"text-sm","text-apple-green","hover:text-deep-green"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],[1,"font-primary","text-red-500","text-center","bg-red-100","p-3","rounded-lg","mb-4"],[1,"text-apple-green","text-xs","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1&&(T(0,"section",0)(1,"div",1)(2,"section",2)(3,"p",3),N(4,"The Last of"),A(),T(5,"h1",4),N(6,"Coders"),A()(),T(7,"section"),se(8,W8,2,1,"div",5),T(9,"form",6),ne("ngSubmit",function(){return r.onSubmit()}),T(10,"div",7)(11,"p",3),N(12,"S'enregistrer"),A()(),T(13,"div",8),fe(14,"input",9),se(15,Q8,3,2,"div",10),A(),T(16,"div",8),fe(17,"input",11),se(18,J8,3,2,"div",10),A(),T(19,"div",8),fe(20,"input",12),se(21,nW,3,2,"div",10),A(),T(22,"button",13),N(23," S'enregistrer "),A(),T(24,"div",14)(25,"p",15),N(26,"D\xE9j\xE0 un compte ?"),A(),T(27,"a",16),N(28,"Se connecter"),A()()()(),T(29,"section",17)(30,"p"),N(31),T(32,"span",18),N(33,"The Last Coders."),A(),N(34," Tous droits r\xE9serv\xE9s."),A()()()()),t&2){let i,s,o;L(8),q("ngIf",r.errorMessage),L(),q("formGroup",r.registerForm),L(6),q("ngIf",((i=r.registerForm.get("userName"))==null?null:i.touched)&&((i=r.registerForm.get("userName"))==null?null:i.errors)),L(3),q("ngIf",((s=r.registerForm.get("email"))==null?null:s.touched)&&((s=r.registerForm.get("email"))==null?null:s.errors)),L(3),q("ngIf",((o=r.registerForm.get("password"))==null?null:o.touched)&&((o=r.registerForm.get("password"))==null?null:o.errors)),L(),q("disabled",!r.registerForm.valid),L(9),Le("\xA9 ",r.currentYear," ")}},dependencies:[Ir,Fi,br,Oi,Li,Jr,ei,Xt,En,et,St],encapsulation:2})};var dv=class n{questions=[{id:"1",question:"Avez-vous d\xE9j\xE0 une exp\xE9rience en programmation ?",options:[{value:"beginner",label:"Oui, je suis d\xE9butant"},{value:"intermediate",label:"Oui, niveau interm\xE9diaire"},{value:"advanced",label:"Oui, niveau avanc\xE9"},{value:"new",label:"Non, c'est tout nouveau pour moi"}]},{id:"2",question:"Quel domaine du d\xE9veloppement vous int\xE9resse le plus ?",options:[{value:"frontend",label:"D\xE9veloppement web frontend"},{value:"backend",label:"D\xE9veloppement web backend"},{value:"fullstack",label:"D\xE9veloppement fullstack"},{value:"mobile",label:"D\xE9veloppement mobile"},{value:"datascience",label:"Data Science / Intelligence Artificielle"},{value:"gamedev",label:"Jeux vid\xE9o"},{value:"other",label:"Autre"}]},{id:"3",question:"Quels langages de programmation connaissez-vous ou souhaitez-vous apprendre ?",options:[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"csharp",label:"C#"},{value:"php",label:"PHP"},{value:"ruby",label:"Ruby"},{value:"typescript",label:"TypeScript"},{value:"swiftkotlin",label:"Swift/Kotlin"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"other",label:"Autre"}]},{id:"4",question:"Quelle est votre m\xE9thode d'apprentissage pr\xE9f\xE9r\xE9e ?",options:[{value:"video",label:"Tutoriels vid\xE9o"},{value:"docs",label:"Documentation \xE9crite"},{value:"projects",label:"Projets pratiques"},{value:"online_courses",label:"Cours en ligne"},{value:"books",label:"Livres techniques"},{value:"forums",label:"Forums et communaut\xE9s"}]},{id:"5",question:"Quel est votre objectif principal en apprenant le d\xE9veloppement ?",options:[{value:"career_change",label:"Changer de carri\xE8re"},{value:"personal_project",label:"D\xE9velopper un projet personnel"},{value:"skill_improvement",label:"Am\xE9liorer mes comp\xE9tences professionnelles"},{value:"curiosity",label:"Simple curiosit\xE9/int\xE9r\xEAt"},{value:"studies",label:"Compl\xE9ter mes \xE9tudes"},{value:"startup",label:"Cr\xE9er une startup/entreprise"}]},{id:"6",question:"Combien de temps pouvez-vous consacrer \xE0 l'apprentissage chaque semaine ?",options:[{value:"lt5",label:"Moins de 5 heures"},{value:"5to10",label:"5-10 heures"},{value:"10to20",label:"10-20 heures"},{value:"gt20",label:"Plus de 20 heures"}]},{id:"7",question:"Quels types de ressources recherchez-vous principalement ?",options:[{value:"beginner_tutorials",label:"Tutoriels pour d\xE9butants"},{value:"tech_docs",label:"Documentation technique"},{value:"guided_projects",label:"Projets pratiques guid\xE9s"},{value:"challenges",label:"D\xE9fis et exercices"},{value:"advanced_resources",label:"Ressources avanc\xE9es"},{value:"tools",label:"Outils et biblioth\xE8ques"}]},{id:"8",question:"Pr\xE9f\xE9rez-vous des ressources gratuites ou \xEAtes-vous pr\xEAt \xE0 investir dans des formations payantes ?",options:[{value:"free_only",label:"Uniquement des ressources gratuites"},{value:"mostly_free",label:"Principalement gratuites, occasionnellement payantes"},{value:"willing_to_pay",label:"Je suis pr\xEAt \xE0 payer pour des ressources de qualit\xE9"},{value:"subscriptions",label:"Je pr\xE9f\xE8re les abonnements mensuels"}]},{id:"9",question:"Quels sujets sp\xE9cifiques souhaitez-vous explorer davantage ?",options:[{value:"js_frameworks",label:"Frameworks JavaScript (React, Vue, Angular)"},{value:"backend_frameworks",label:"Frameworks backend (Node.js, Django, Rails)"},{value:"mobile_dev",label:"D\xE9veloppement mobile (React Native, Flutter)"},{value:"databases",label:"Bases de donn\xE9es (SQL, NoSQL)"},{value:"devops",label:"DevOps et d\xE9ploiement"},{value:"security",label:"S\xE9curit\xE9 web"},{value:"uiux",label:"Design UI/UX"},{value:"ai_ml",label:"Intelligence artificielle/Machine Learning"},{value:"blockchain",label:"Blockchain/Web3"}]},{id:"10",question:"Comment avez-vous d\xE9couvert notre plateforme ?",options:[{value:"search_engine",label:"Moteur de recherche"},{value:"friend",label:"Recommandation d'un ami"},{value:"social_media",label:"R\xE9seaux sociaux"},{value:"dev_forum",label:"Forum de d\xE9veloppeurs"},{value:"youtube",label:"YouTube"},{value:"blog",label:"Article ou blog"},{value:"other",label:"Autre"}]}];constructor(){}getQuestions(){return this.questions}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var rW=(n,e)=>e.value;function iW(n,e){if(n&1&&(T(0,"div",13)(1,"span",14),N(2),A()()),n&2){let t=Z();L(2),ze(t.errorMessage)}}function sW(n,e){if(n&1){let t=xe();T(0,"div",5)(1,"input",15),ne("change",function(){let i=he(t).$implicit,s=Z();return pe(s.onSelect(s.currentQuestion.id,i.value))}),A(),T(2,"label",16),N(3),A()()}if(n&2){let t=e.$implicit,r=Z();L(),q("type",r.currentQuestion.id==="1"?"radio":"checkbox")("name",r.currentQuestion.id==="1"?"experience":"")("id",t.value)("checked",r.isSelected(r.currentQuestion.id,t.value)),L(),Je("bg-deep-blue",!r.isSelected(r.currentQuestion.id,t.value))("bg-apple-green",r.isSelected(r.currentQuestion.id,t.value)),q("for",t.value),L(),Le(" ",t.label," ")}}function oW(n,e){if(n&1){let t=xe();T(0,"button",17),ne("click",function(){he(t);let i=Z();return pe(i.onPrevious())}),N(1," Pr\xE9c\xE9dent "),A()}}function aW(n,e){if(n&1){let t=xe();T(0,"button",18),ne("click",function(){he(t);let i=Z();return pe(i.saveAnswers())}),N(1," Terminer "),A()}}function lW(n,e){if(n&1){let t=xe();T(0,"button",17),ne("click",function(){he(t);let i=Z();return pe(i.onNext())}),N(1," Suivant "),A()}}var fv=class n{quizService=F(dv);fireStoreService=F(_r);fb=F(Er);authService=F(nt);router=F(Ve);questions=this.quizService.getQuestions();currentQuestionIndex=0;answers={};errorMessage="";form=this.fb.group({answer:["",dt.required]});get currentQuestion(){return this.questions[this.currentQuestionIndex]}onNext(){this.currentQuestionIndex<this.questions.length-1&&this.currentQuestionIndex++}onPrevious(){this.currentQuestionIndex>0&&this.currentQuestionIndex--}onSelect(e,t){if(e==="1")this.answers[e]=[t];else{this.answers[e]||(this.answers[e]=[]);let r=this.answers[e].indexOf(t);r===-1?this.answers[e].push(t):this.answers[e].splice(r,1)}}isSelected(e,t){return this.answers[e]?.includes(t)}saveAnswers(){return P(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Utilisateur non connect\xE9");if(Object.keys(this.answers).length!==this.questions.length){this.errorMessage="Veuillez r\xE9pondre \xE0 toutes les questions avant de continuer.";return}for(let i of this.questions){let s=i.id;if(!this.answers[s]||this.answers[s].length===0){this.errorMessage=`Veuillez r\xE9pondre \xE0 la question ${s} avant de continuer.`;return}}let r={userId:e.uid,experience:this.answers[1]?.[0]||"",domain:this.answers[2]?.[0]||"",languages:this.answers[3]||[],learningMethod:this.answers[4]?.[0]||"",goal:this.answers[5]?.[0]||"",timePerWeek:this.answers[6]?.[0]||"",resources:this.answers[7]||[],paymentPreference:this.answers[8]?.[0]||"",topics:this.answers[9]||[],discovery:this.answers[10]?.[0]||"",createdAt:new Date};yield this.fireStoreService.CreateDocument(`quiz_responses/${e.uid}`,r),this.router.navigate(["/home"])}catch{this.errorMessage="Une erreur est survenue lors de la sauvegarde des r\xE9ponses. Veuillez r\xE9essayer."}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-skills-quiz"]],decls:16,vars:8,consts:[[1,"container","h-screen","mx-auto","p-4","max-w-2xl","bg-soft-white","text-black","flex","flex-col","items-center","justify-center","font-secondary","motion-preset-fade","motion-duration-2000"],[1,"mb-8","flex","flex-col","justify-between","items-center"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"text-3xl","font-bold","mb-20","font-primary","text-center"],[1,"flex","flex-wrap","gap-2","justify-center","w-full"],[1,"flex","items-center"],[1,"flex","justify-evenly","mt-20","w-full"],["class","bg-apple-green text-white rounded-2xl shadow px-6 py-2 hover:bg-deep-blue transition-colors",3,"click",4,"ngIf"],[1,"bg-deep-blue","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-black","transition-colors"],[1,"bg-apple-green","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-deep-blue","transition-colors"],[1,"mt-8","w-full","bg-deep-blue","rounded-full","h-2.5"],[1,"bg-apple-green","h-2.5","rounded-full"],[1,"text-sm","mt-6"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],[1,"sr-only",3,"change","type","name","id","checked"],[1,"ml-2","cursor-pointer","bg-deep-blue","text-white","rounded-full","px-4","py-2","shadow-sm/30","w-full","text-center","hover:bg-apple-green","transition-colors","hover:text-black",3,"for"],[1,"bg-apple-green","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-deep-blue","transition-colors",3,"click"],[1,"bg-deep-blue","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-black","transition-colors",3,"click"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"div",1),se(2,iW,3,1,"div",2),T(3,"h2",3),N(4),A(),T(5,"div",4),ts(6,sW,4,10,"div",5,rW),A()(),T(8,"div",6),se(9,oW,2,0,"button",7)(10,aW,2,0,"button",8)(11,lW,2,0,"button",9),A(),T(12,"div",10),fe(13,"div",11),A(),T(14,"div",12),N(15),A()()),t&2&&(L(2),q("ngIf",r.errorMessage),L(2),Le(" ",r.currentQuestion.question," "),L(2),ns(r.currentQuestion.options),L(3),q("ngIf",r.currentQuestionIndex>0),L(),xt(r.currentQuestionIndex===r.questions.length-1?10:11),L(3),P_("width",(r.currentQuestionIndex+1)/r.questions.length*100,"%"),L(2),O_(" Question ",r.currentQuestionIndex+1," sur ",r.questions.length," "))},dependencies:[et,St,Ir],encapsulation:2})};var qn=class n{usersFirestore=F(Zr);authService=F(nt);usersCollection=Ga(this.usersFirestore,"users");_userLogged=void 0;userProfileImage=Jn("assets/images/icons/UserIcon.png");userProfileImageBase64=Jn("");constructor(){Hs(()=>{let e=this.authService.currentUserSignal();e?(this._userLogged=e,this.getUserById(e.id||"").subscribe(t=>{t?.userImageUrl?.base64?this.userProfileImage.set(t.userImageUrl.base64):t?.userImageUrl?.url?this.userProfileImage.set(t.userImageUrl.url):this.userProfileImage.set("assets/images/icons/UserIcon.png")})):(this._userLogged=void 0,this.userProfileImage.set("assets/images/icons/UserIcon.png"))})}getUsers(){return qa(this.usersCollection,{idField:"id"})}getUserById(e){if(!e)throw new Error("User ID is required");let t=ar(this.usersFirestore,`users/${e}`);return Te(Wa(t)).pipe(ye(r=>{if(!r.exists()){let s={id:e,email:"",userName:"Nouvel utilisateur",createdAt:new Date,role:"reader"};return Te(rO(t,s)).subscribe(),s}let i=r.data();return G({id:r.id,userName:i.userName||"Nouvel utilisateur",email:i.email||"",createdAt:i.createdAt?.toDate()||new Date,role:i.role||"reader"},i)}),Nt(r=>(console.error("Error in getUserById:",r),de({id:e,email:"",userName:"Utilisateur temporaire",createdAt:new Date,role:"reader"}))))}updateUserProfile(e,t){if(!e)throw new Error("User ID is required");return t.userImageUrl?.base64?this.userProfileImage.set(t.userImageUrl.base64):t.userImageUrl?.url&&this.userProfileImage.set(t.userImageUrl.url),this.canModifyUser(e).pipe(ye(r=>{if(!r)throw new Error("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");console.log("Mise \xE0 jour du profil utilisateur:",t);let i=ar(this.usersFirestore,`users/${e}`);return Ni(i,t)}),Ot(r=>Te(r)))}changeUserRole(e,t){return this.isCurrentUserAdmin().pipe(Ot(r=>{if(!r)throw new Error("Seuls les administrateurs peuvent changer les r\xF4les");let i=ar(this.usersFirestore,`users/${e}`);return Te(Ni(i,{role:t}))}))}deleteUser(e){return this.isCurrentUserAdmin().pipe(Ot(t=>{if(!t)throw new Error("Seuls les administrateurs peuvent supprimer des utilisateurs");let r=ar(this.usersFirestore,`users/${e}`);return Te(Wg(r))}))}isCurrentUserAdmin(){let e=this.authService.getCurrentUser();return e?this.getUserById(e.uid).pipe(ye(t=>t.role==="admin"),Nt(()=>de(!1))):de(!1)}canModifyUser(e){let t=this.authService.getCurrentUser();return t?t.uid===e?de(!0):this.isCurrentUserAdmin():de(!1)}gerUserConnectedFullName(){return this._userLogged?.userName}getUserProfileImage(){return this.userProfileImage}getCurrentUserImage(){return this.userProfileImage()}updateProfileImageSignal(e){this.userProfileImage.set(e)}updateUserProfileWithBase64Image(e,t,r){return P(this,null,function*(){if(!e)throw new Error("User ID is required");if(!(yield Uo(this.canModifyUser(e))))throw new Error("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");let s=ce(G({},t),{userImageUrl:{base64:r,url:"",createdAt:_t.now()}}),o=ar(this.usersFirestore,`users/${e}`);yield Ni(o,s),this.userProfileImage.set(r),console.log("Profil utilisateur mis \xE0 jour avec succ\xE8s")})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var HO="firebasestorage.googleapis.com",zO="storageBucket",cW=2*60*1e3,uW=10*60*1e3;var Mt=class n extends Mn{constructor(e,t,r=0){super(OS(e),`Firebase Storage: ${t} (${OS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return OS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ft=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Ft||{});function OS(n){return"storage/"+n}function BS(){let n="An unknown error occurred, please check the error payload for server response.";return new Mt(Ft.UNKNOWN,n)}function dW(n){return new Mt(Ft.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function fW(n){return new Mt(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hW(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(Ft.UNAUTHENTICATED,n)}function pW(){return new Mt(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mW(n){return new Mt(Ft.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function gW(){return new Mt(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vW(){return new Mt(Ft.CANCELED,"User canceled the upload/download.")}function yW(n){return new Mt(Ft.INVALID_URL,"Invalid URL '"+n+"'.")}function wW(n){return new Mt(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function _W(){return new Mt(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zO+"' property when initializing the app?")}function bW(){return new Mt(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function EW(){return new Mt(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function IW(n){return new Mt(Ft.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function LS(n){return new Mt(Ft.INVALID_ARGUMENT,n)}function qO(){return new Mt(Ft.APP_DELETED,"The Firebase app was deleted.")}function SW(n){return new Mt(Ft.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wf(n,e){return new Mt(Ft.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function yf(n){throw new Mt(Ft.INTERNAL_ERROR,"Internal error: "+n)}var ti=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw wW(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(O){O.path_=decodeURIComponent(O.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${i}/o${m}`,"i"),h={bucket:1,path:3},v=t===HO?"(?:storage.googleapis.com|storage.cloud.google.com)":t,w="([^?#]*)",D=new RegExp(`^https?://${v}/${i}/${w}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:g,indices:h,postModify:c},{regex:D,indices:{bucket:1,path:2},postModify:c}];for(let O=0;O<E.length;O++){let U=E[O],j=U.regex.exec(e);if(j){let M=j[U.indices.bucket],b=j[U.indices.path];b||(b=""),r=new n(M,b),U.postModify(r);break}}if(r==null)throw yW(e);return r}},FS=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function TW(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...w){c||(c=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,n(g,l())},w)}function m(){s&&clearTimeout(s)}function g(w,...D){if(c){m();return}if(w){m(),d.call(null,w,...D);return}if(l()||o){m(),d.call(null,w,...D);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let h=!1;function v(w){h||(h=!0,m(),!c&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,v(!0)},t),v}function CW(n){n(!1)}function DW(n){return n!==void 0}function xW(n){return typeof n=="object"&&!Array.isArray(n)}function $S(n){return typeof n=="string"||n instanceof String}function FO(n){return HS()&&n instanceof Blob}function HS(){return typeof Blob<"u"}function VO(n,e,t,r){if(r<e)throw LS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw LS(`Invalid value for '${n}'. Expected ${t} or less.`)}function gv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function GO(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Vc=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Vc||{});function AW(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var VS=class{constructor(e,t,r,i,s,o,a,l,c,d,f,m=!0,g=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,v)=>{this.resolve_=h,this.reject_=v,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Fc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Vc.NO_ERROR,l=s.getStatus();if(!a||AW(l,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===Vc.ABORT;r(!1,new Fc(!1,null,d));return}let c=this.successCodes_.indexOf(l)!==-1;r(!0,new Fc(c,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());DW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){let l=BS();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){let l=this.appDelete_?qO():vW();o(l)}else{let l=gW();o(l)}};this.canceled_?t(!1,new Fc(!1,null,!0)):this.backoffId_=TW(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Fc=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function MW(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function RW(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kW(n,e){e&&(n["X-Firebase-GMPID"]=e)}function PW(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function NW(n,e,t,r,i,s,o=!0,a=!1){let l=GO(n.urlParams),c=n.url+l,d=Object.assign({},n.headers);return kW(d,e),MW(d,t),RW(d,s),PW(d,r),new VS(c,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o,a)}function OW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LW(...n){let e=OW();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(HS())return new Blob(n);throw new Mt(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function FW(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function VW(n){if(typeof atob>"u")throw IW("base-64");return atob(n)}var Vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},_f=class{constructor(e,t){this.data=e,this.contentType=t||null}};function UW(n,e){switch(n){case Vi.RAW:return new _f(WO(e));case Vi.BASE64:case Vi.BASE64URL:return new _f(KO(n,e));case Vi.DATA_URL:return new _f(BW(e),$W(e))}throw BS()}function WO(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function jW(n){let e;try{e=decodeURIComponent(n)}catch{throw wf(Vi.DATA_URL,"Malformed data URL.")}return WO(e)}function KO(n,e){switch(n){case Vi.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw wf(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Vi.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw wf(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=VW(e)}catch(i){throw i.message.includes("polyfill")?i:wf(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var pv=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw wf(Vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=HW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function BW(n){let e=new pv(n);return e.base64?KO(Vi.BASE64,e.rest):jW(e.rest)}function $W(n){return new pv(n).contentType}function HW(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var mv=class n{constructor(e,t){let r=0,i="";FO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(FO(this.data_)){let r=this.data_,i=FW(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(HS()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(LW.apply(null,t))}else{let t=e.map(o=>$S(o)?UW(Vi.RAW,o).data:o.data_),r=0;t.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new n(i,!0)}}uploadData(){return this.data_}};function YO(n){let e;try{e=JSON.parse(n)}catch{return null}return xW(e)?e:null}function zW(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function qW(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function QO(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function GW(n,e){return e}var dn=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||GW}},hv=null;function WW(n){return!$S(n)||n.length<2?n:QO(n)}function XO(){if(hv)return hv;let n=[];n.push(new dn("bucket")),n.push(new dn("generation")),n.push(new dn("metageneration")),n.push(new dn("name","fullPath",!0));function e(s,o){return WW(o)}let t=new dn("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}let i=new dn("size");return i.xform=r,n.push(i),n.push(new dn("timeCreated")),n.push(new dn("updated")),n.push(new dn("md5Hash",null,!0)),n.push(new dn("cacheControl",null,!0)),n.push(new dn("contentDisposition",null,!0)),n.push(new dn("contentEncoding",null,!0)),n.push(new dn("contentLanguage",null,!0)),n.push(new dn("contentType",null,!0)),n.push(new dn("metadata","customMetadata",!0)),hv=n,hv}function KW(n,e){function t(){let r=n.bucket,i=n.fullPath,s=new ti(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function YW(n,e,t){let r={};r.type="file";let i=t.length;for(let s=0;s<i;s++){let o=t[s];r[o.local]=o.xform(r,e[o.server])}return KW(r,n),r}function ZO(n,e,t){let r=YO(e);return r===null?null:YW(n,r,t)}function QW(n,e,t,r){let i=YO(e);if(i===null||!$S(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(c=>{let d=n.bucket,f=n.fullPath,m="/b/"+o(d)+"/o/"+o(f),g=gv(m,t,r),h=GO({alt:"media",token:c});return g+h})[0]}function XW(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var bf=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function JO(n){if(!n)throw BS()}function ZW(n,e){function t(r,i){let s=ZO(n,i,e);return JO(s!==null),s}return t}function JW(n,e){function t(r,i){let s=ZO(n,i,e);return JO(s!==null),QW(s,i,n.host,n._protocol)}return t}function eL(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=pW():i=hW():t.getStatus()===402?i=fW(n.bucket):t.getStatus()===403?i=mW(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function tL(n){let e=eL(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=dW(n.path)),s.serverResponse=i.serverResponse,s}return t}function e7(n,e,t){let r=e.fullServerUrl(),i=gv(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new bf(i,s,JW(n,t),o);return a.errorHandler=tL(e),a}function t7(n,e){let t=e.fullServerUrl(),r=gv(t,n.host,n._protocol),i="DELETE",s=n.maxOperationRetryTime;function o(l,c){}let a=new bf(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=tL(e),a}function n7(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function r7(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=n7(null,e)),r}function i7(n,e,t,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let O=0;O<2;O++)E=E+Math.random().toString().slice(2);return E}let l=a();o["Content-Type"]="multipart/related; boundary="+l;let c=r7(e,r,i),d=XW(c,t),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+l+"--",g=mv.getBlob(f,r,m);if(g===null)throw bW();let h={name:c.fullPath},v=gv(s,n.host,n._protocol),w="POST",D=n.maxUploadRetryTime,I=new bf(v,w,ZW(n,t),D);return I.urlParams=h,I.headers=o,I.body=g.uploadData(),I.errorHandler=eL(e),I}var Ede=256*1024;var UO=null,US=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,s){if(this.sent_)throw yf("cannot .send() more than once");if(Gr(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(let o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},jS=class extends US{initXhr(){this.xhr_.responseType="text"}};function zS(){return UO?UO():new jS}var Uc=class n{constructor(e,t){this._service=e,t instanceof ti?this._location=t:this._location=ti.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QO(this._location.path)}get storage(){return this._service}get parent(){let e=zW(this._location.path);if(e===null)return null;let t=new ti(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw SW(e)}};function s7(n,e,t){n._throwIfRoot("uploadBytes");let r=i7(n.storage,n._location,XO(),new mv(e,!0),t);return n.storage.makeRequestWithTokens(r,zS).then(i=>({metadata:i,ref:n}))}function o7(n){n._throwIfRoot("getDownloadURL");let e=e7(n.storage,n._location,XO());return n.storage.makeRequestWithTokens(e,zS).then(t=>{if(t===null)throw EW();return t})}function a7(n){n._throwIfRoot("deleteObject");let e=t7(n.storage,n._location);return n.storage.makeRequestWithTokens(e,zS)}function l7(n,e){let t=qW(n._location.path,e),r=new ti(n._location.bucket,t);return new Uc(n.storage,r)}function c7(n){return/^[A-Za-z]+:\/\//.test(n)}function u7(n,e){return new Uc(n,e)}function nL(n,e){if(n instanceof Ef){let t=n;if(t._bucket==null)throw _W();let r=new Uc(t,t._bucket);return e!=null?nL(r,e):r}else return e!==void 0?l7(n,e):n}function d7(n,e){if(e&&c7(e)){if(n instanceof Ef)return u7(n,e);throw LS("To use ref(service, url), the first argument must be a Storage instance.")}else return nL(n,e)}function jO(n,e){let t=e?.[zO];return t==null?null:ti.makeFromBucketSpec(t,n)}function f7(n,e,t,r={}){n.host=`${e}:${t}`;let i=Gr(e);i&&(Zl(`https://${n.host}/b`),Jl("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";let{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:vm(s,n.app.options.projectId))}var Ef=class{constructor(e,t,r,i,s,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=HO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cW,this._maxUploadRetryTime=uW,this._requests=new Set,i!=null?this._bucket=ti.makeFromBucketSpec(i,this._host):this._bucket=jO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ti.makeFromBucketSpec(this._url,e):this._bucket=jO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return P(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return P(this,null,function*(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uc(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new FS(qO());{let o=NW(e,this._appId,r,i,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return P(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},BO="@firebase/storage",$O="0.13.14";var rL="storage";function qS(n,e,t){return n=rt(n),s7(n,e,t)}function iL(n){return n=rt(n),o7(n)}function sL(n){return n=rt(n),a7(n)}function vv(n,e){return n=rt(n),d7(n,e)}function GS(n=as(),e){n=rt(n);let r=Xs(n,rL).getImmediate({identifier:e}),i=gm("storage");return i&&oL(r,...i),r}function oL(n,e,t,r={}){f7(n,e,t,r)}function h7(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Ef(t,r,i,e,bi)}function p7(){ir(new un(rL,h7,"PUBLIC").setMultipleInstances(!0)),ut(BO,$O,""),ut(BO,$O,"esm2017")}p7();var Ka=class{constructor(e){return e}},aL="storage",WS=class{constructor(){return Zs(aL)}};var KS=new le("angularfire2.storage-instances");function m7(n,e){let t=Ta(aL,n,e);return t&&new Ka(t)}function g7(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ka(r)}}var v7={provide:WS,deps:[[new en,KS]]},y7={provide:Ka,useFactory:m7,deps:[[new en,KS],Wr]};function lL(n,...e){return ut("angularfire",Ei.full,"gcs"),Fr([y7,v7,{provide:KS,useFactory:g7(n),multi:!0,deps:[We,vt,Ii,ls,[new en,Aa],[new en,eo],...e]}])}var cL=gt(sL,!0,2);var uL=gt(iL,!0);var jc=class n{constructor(e){this.storage=e}auth=F(hs);uploadImage(e,t){if(!this.auth.currentUser)return Ar(()=>new Error("L'utilisateur doit \xEAtre authentifi\xE9"));let r=vv(this.storage,t);return Te(qS(r,e)).pipe(Ot(i=>Te(uL(i.ref))),Nt(i=>Ar(()=>i)))}deleteImage(e){if(!this.auth.currentUser)return Ar(()=>new Error("L'utilisateur doit \xEAtre authentifi\xE9"));let t=vv(this.storage,e);return Te(cL(t)).pipe(Nt(r=>Ar(()=>r)))}generateUniqueFileName(e){let t=e.name.split(".").pop(),r=new Date().getTime(),i=Math.random().toString(36).substring(2,15);return`${r}-${i}.${t}`}static \u0275fac=function(t){return new(t||n)(we(Ka))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ui=class n{constructor(e){this.platformId=e}firestore=F(Zr);authService=F(nt);firestorageService=F(jc);usersService=F(qn);linksSignal=Jn([]);getLinks(){if(!ss(this.platformId))return de([]);let e=Ga(this.firestore,"links"),t=uf(e,ES("createdAt","desc"));return qa(t,{idField:"id"})}getLinksByUser(e){if(!ss(this.platformId))return de([]);if(!e)return de([]);let t=Ga(this.firestore,"links"),r=uf(t,IS("createdBy","==",e));return qa(r,{idField:"id"}).pipe(ye(i=>{let s=[...i].sort((o,a)=>{let l=o.createdAt instanceof Date?o.createdAt:new Date(o.createdAt.seconds*1e3);return(a.createdAt instanceof Date?a.createdAt:new Date(a.createdAt.seconds*1e3)).getTime()-l.getTime()});if(i.length===0){let o=uf(t);qa(o,{idField:"id"}).subscribe(a=>{})}return s}))}getLinksByCategory(e){if(!ss(this.platformId))return de([]);let t=Ga(this.firestore,"links"),r=uf(t,IS("category","==",e),ES("createdAt","desc"));return qa(r,{idField:"id"})}deleteLink(e){return P(this,null,function*(){let t=this.authService.getCurrentUser();if(!t)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");try{let r=ar(this.firestore,`links/${e}`),i=yield Wa(r);if(!i.exists())throw new Error("Le lien \xE0 supprimer n'existe pas");if(i.data().createdBy!==t.uid&&!(yield Uo(this.usersService.isCurrentUserAdmin())))throw new Error("Vous n'\xEAtes pas autoris\xE9 \xE0 supprimer ce lien");yield Wg(r);let a=this.linksSignal().filter(l=>l.id!==e);this.linksSignal.set(a)}catch(r){throw r}})}updateLink(e,t,r){return P(this,null,function*(){let i=this.authService.getCurrentUser();if(!i)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");let s=ar(this.firestore,`links/${e}`);if(r){let o=this.firestorageService.generateUniqueFileName(r),a=`links/${i.uid}/${o}`,l=yield this.firestorageService.uploadImage(r,a).toPromise();return Ni(s,ce(G({},t),{imageUrl:l,updatedAt:new Date}))}return Ni(s,ce(G({},t),{updatedAt:new Date}))})}updateLikes(e,t){return P(this,null,function*(){let r=ar(this.firestore,`links/${e}`);return Ni(r,{likes:t||-1})})}getLinkById(e){if(!ss(this.platformId))return de(null);let t=ar(this.firestore,`links/${e}`);return Te(Wa(t)).pipe(ye(r=>r.exists()?G({id:r.id},r.data()):null))}createLinkWithBase64Image(e,t){return P(this,null,function*(){let r=this.authService.getCurrentUser();if(!r)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");let i=ce(G({},e),{imageUrl:t,createdAt:new Date,createdBy:r.uid,likes:0}),s=Ga(this.firestore,"links");return nO(s,i)})}toggleLike(e,t){return P(this,null,function*(){try{let r=ar(this.firestore,`links/${e}`),i=yield Wa(r);if(!i.exists())throw new Error("Link not found");let o=i.data().likedBy||[],l=o.includes(t)?o.filter(f=>f!==t):[...o,t];yield Ni(r,{likedBy:l,likes:l.length});let d=this.linksSignal().map(f=>f.id===e?ce(G({},f),{likedBy:l,likes:l.length}):f);this.linksSignal.set(d)}catch(r){throw r}})}rateLink(e,t,r){return P(this,null,function*(){if(!ss(this.platformId))return;let i=ar(this.firestore,"links",e),a=(yield Wa(i)).data().userRatings||{};a[t]=r;let l=Object.values(a),c=l.reduce((d,f)=>d+f,0)/l.length;yield Ni(i,{userRatings:a,averageRating:c,totalRatings:l.length})})}getUserRating(e,t){return e.userRatings?.[t]||0}static \u0275fac=function(t){return new(t||n)(we(ur))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};function _7(n,e){if(n&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),N(4),A(),T(5,"p"),N(6),A()()()()),n&2){let t=Z();L(),q("ngClass",t.typeClasses[t.type]),L(3),ze(t.typeIcons[t.type]),L(2),ze(t.message)}}var wo=class n{show=!1;message="";type="success";typeClasses={success:"bg-apple-green text-white",error:"bg-red-400 text-white",info:"bg-blue-400 text-white",warning:"bg-yellow-400 text-white"};typeIcons={success:"check_circle",error:"error",info:"info",warning:"warning"};static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-notification"]],inputs:{show:"show",message:"message",type:"type"},decls:1,vars:1,consts:[[1,"notification-overlay","rounded-xl"],[1,"fixed","top-4","right-4","transform","transition-all","duration-500",3,"ngClass"],[1,"px-6","py-3","rounded-xl","shadow-lg","flex","items-center","gap-2"],[1,"material-symbols-outlined"]],template:function(t,r){t&1&&se(0,_7,7,3,"div",0),t&2&&xt(r.show?0:-1)},dependencies:[et,Ku],styles:["[_nghost-%COMP%]{position:fixed;top:0;right:0;z-index:9999;pointer-events:none}.notification-overlay[_ngcontent-%COMP%]{position:relative;z-index:9999}.notification-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{pointer-events:auto}"]})};function b7(n,e){if(n&1){let t=xe();T(0,"app-notification",31),ne("closed",function(){he(t);let i=Z();return pe(i.onNotificationClosed())}),A()}if(n&2){let t=Z();q("type",t.notificationType)("message",t.notificationMessage)}}function E7(n,e){n&1&&(T(0,"div",34)(1,"span",35),N(2," priority "),A(),T(3,"span"),N(4,"Image pr\xEAte"),A()())}function I7(n,e){n&1&&(T(0,"div")(1,"span",36),N(2," hourglass_empty "),A(),T(3,"span"),N(4,"Image en traitement..."),A()())}function S7(n,e){if(n&1&&(fe(0,"img",32),T(1,"div",33),se(2,E7,5,0,"div",34)(3,I7,5,0,"div"),A()),n&2){let t=Z();q("src",t.imagePreview,Dt),L(),Je("text-green-600",t.base64Ready)("text-red-600",!t.base64Ready),L(),xt(t.base64Ready?2:3)}}function T7(n,e){n&1&&(T(0,"span"),N(1,"Choisir une image"),A())}function C7(n,e){n&1&&(T(0,"span"),N(1,"Changer l'image"),A())}function D7(n,e){n&1&&(T(0,"span")(1,"span",37),N(2,"Titre requis"),A()())}function x7(n,e){n&1&&(T(0,"span")(1,"span",37),N(2,"Description requise"),A()())}function A7(n,e){n&1&&(T(0,"span",37),N(1,"URL requise"),A())}function M7(n,e){n&1&&(T(0,"span",37),N(1,"L'URL doit commencer par http:// ou https://"),A())}function R7(n,e){if(n&1&&(T(0,"span"),se(1,A7,2,0,"span",38)(2,M7,2,0,"span",38),A()),n&2){let t,r,i=Z();L(),q("ngIf",(t=i.linkForm.get("url"))==null||t.errors==null?null:t.errors.required),L(),q("ngIf",(r=i.linkForm.get("url"))==null||r.errors==null?null:r.errors.invalidUrlFormat)}}function k7(n,e){n&1&&(T(0,"span")(1,"span",37),N(2,"Niveau requis"),A()())}function P7(n,e){if(n&1&&(T(0,"option",20),N(1),A()),n&2){let t=e.$implicit;q("value",t),L(),ze(t)}}function N7(n,e){n&1&&(T(0,"span")(1,"span",37),N(2,"Type requis"),A()())}function O7(n,e){if(n&1&&(T(0,"option",20),N(1),A()),n&2){let t=e.$implicit;q("value",t),L(),ze(t)}}function L7(n,e){n&1&&(T(0,"span")(1,"span",37),N(2,"Au moins un langage/technologie requis"),A()())}function F7(n,e){if(n&1){let t=xe();T(0,"button",39),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleTag(i))}),N(1),A()}if(n&2){let t=e.$implicit,r=Z();Je("bg-apple-green",r.isTagSelected(t))("bg-deep-green",!r.isTagSelected(t))("text-deep-green",r.isTagSelected(t))("text-white",!r.isTagSelected(t)),L(),Le(" ",t," ")}}function V7(n,e){if(n&1&&(T(0,"span",42),N(1),A()),n&2){let t=e.$implicit;L(),ze(t)}}function U7(n,e){if(n&1&&(T(0,"div",28)(1,"p",40),N(2,"S\xE9lectionn\xE9s :"),A(),T(3,"div",41),ts(4,V7,2,1,"span",42,la),A()()),n&2){let t=Z();L(4),ns(t.getSelectedTags())}}function j7(n,e){n&1&&(T(0,"div",30)(1,"span",36),N(2,"check_circle"),A(),T(3,"p"),N(4,"Le lien a \xE9t\xE9 ajout\xE9 avec succ\xE8s!"),A()())}var Bc=class n{fb=F(Er);linksService=F(Ui);router=F(Ve);linkAdded=new Ze;niveauOptions=["Junior","M\xE9dior","Senior"];langageOptions=["HTML","CSS","JavaScript","Python","Git","Algorithme","C","Java","PHP","React","Angular","Vue.js","Node.js","TypeScript","SQL","MongoDB","Docker","Kubernetes","AWS","Azure"];typeOptions=["Cours","Projet","Forum","Exercice","Tutoriel","Documentation","Vid\xE9o","Podcast"];selectedFile=null;imagePreview=null;base64Image=null;base64Ready=!1;showNotification=!1;notificationType="error";notificationMessage="";urlValidator(e){let t=e.value;return t?/^https?:\/\/.+/.test(t)?null:{invalidUrlFormat:!0}:null}linkForm=this.fb.group({title:["",[dt.required]],description:["",[dt.required]],url:["",[dt.required,this.urlValidator]],niveau:["Junior",[dt.required]],isPaid:[!1],type:["Cours",[dt.required]],tags:[[""],[dt.required,dt.minLength(1)]]});toggleTag(e){let t=this.linkForm.get("tags")?.value||[],r=t.indexOf(e);if(r===-1)this.linkForm.patchValue({tags:[...t,e]});else{let i=t.filter((s,o)=>o!==r);this.linkForm.patchValue({tags:i})}}isTagSelected(e){return(this.linkForm.get("tags")?.value||[]).includes(e)}getSelectedTags(){return(this.linkForm.get("tags")?.value||[]).filter(t=>t&&t!=="")}onFileSelected(e){let t=e.target;t.files&&t.files[0]&&(this.selectedFile=t.files[0],this.base64Ready=!1,this.base64Image=null,this.convertToBase64Simple(t.files[0]))}convertToBase64Simple(e){let t=new FileReader;t.onload=r=>{if(r.target&&r.target.result){let i=r.target.result;this.imagePreview=i,this.base64Image=i,this.base64Ready=!0}},t.onerror=()=>{this.showNotification=!0,this.notificationType="error",this.notificationMessage="Impossible de lire l'image. Veuillez r\xE9essayer."},t.readAsDataURL(e)}showSuccessMessage=!1;onSubmit(){return P(this,null,function*(){if(this.linkForm.valid&&this.base64Ready&&this.base64Image)try{yield this.linksService.createLinkWithBase64Image(this.linkForm.value,this.base64Image),this.linkAdded.emit(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Le lien a \xE9t\xE9 cr\xE9\xE9 avec succ\xE8s!",setTimeout(()=>{this.resetForm(),this.router.navigate(["/home"])},3e3)}catch(e){this.showNotification=!0,this.notificationType="error",this.notificationMessage=e.message}else this.base64Ready?this.linkForm.valid||(this.showNotification=!0,this.notificationType="error",this.notificationMessage="Veuillez remplir tous les champs obligatoires"):(this.showNotification=!0,this.notificationType="warning",this.notificationMessage="Veuillez s\xE9lectionner une image")})}getFormValidationErrors(){let e={};return Object.keys(this.linkForm.controls).forEach(t=>{let r=this.linkForm.get(t);r&&!r.valid&&(e[t]=r.errors)}),e}resetForm(){this.linkForm.reset({niveau:"Junior",isPaid:!1,type:"Cours",tags:[""]}),this.selectedFile=null,this.imagePreview=null,this.base64Image=null,this.base64Ready=!1,this.showNotification=!1}onNotificationClosed(){this.showNotification=!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-link-form"]],outputs:{linkAdded:"linkAdded"},decls:86,vars:15,consts:[["fileInput",""],[1,"min-h-52","p-4","relative","overflow-hidden","text-white/50"],[1,"fixed","inset-0","overflow-hidden","pointer-events-none","z-0"],[1,"absolute","-top-20","-right-20","w-96","h-96","bg-apple-green","rounded-full","opacity-30","blur-3xl"],[1,"absolute","-bottom-20","-left-40","w-96","h-96","bg-blue-900","rounded-full","opacity-30","blur-3xl"],[1,"relative","z-10","backdrop-blur-sm"],[1,"flex","flex-col","gap-4",3,"ngSubmit","formGroup"],[3,"type","message","closed",4,"ngIf"],[1,"form-group"],[1,"block","mb-1"],[1,"text-red-500"],[1,"flex","flex-col","items-center","gap-2"],[1,"w-full"],["type","file","accept","image/*",1,"hidden",3,"change"],["type","button",1,"w-full","p-2","border-2","border-dashed","border-apple-green","rounded-lg","text-center","hover:bg-apple-green/10","transition-colors",3,"click"],[4,"ngIf"],["type","text","formControlName","title",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/70","placeholder:border-soft-white/50","selection:bg-deep-green","focus:outline-none","focus:border-apple-green"],["formControlName","description","rows","3",1,"w-full","p-2","rounded","bg-dark-gray","border","border-apple-green","text-soft-white","focus:outline-none","focus:border-apple-green"],["type","url","formControlName","url","placeholder","https://example.com",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],["formControlName","niveau",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],[3,"value"],["formControlName","type",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","gap-2","cursor-pointer"],["type","radio","formControlName","isPaid",1,"text-apple-green",3,"value"],[1,"text-xs","text-white/60","mb-3"],[1,"flex","flex-wrap","gap-2","max-h-32","overflow-y-auto","p-2","border","border-apple-green/30","rounded"],["type","button",1,"px-3","py-1","rounded-full","text-sm","transition-colors",3,"bg-apple-green","bg-deep-green","text-deep-green","text-white"],[1,"mt-2"],["type","submit",1,"bg-apple-green","text-white","py-2","px-4","rounded","mt-4","disabled:opacity-50","disabled:cursor-not-allowed","hover:bg-deep-green","transition-colors",3,"disabled"],[1,"fixed","top-4","right-4","bg-green-500","text-white","px-6","py-3","rounded-lg","shadow-lg","transform","transition-all","duration-500","flex","items-center","gap-2"],[3,"closed","type","message"],["alt","Aper\xE7u",1,"w-32","h-32","object-cover","rounded-lg",3,"src"],[1,"text-xs"],[1,"flex","items-center","gap-1"],[1,"material-symbols-outlined","opacity-70"],[1,"material-symbols-outlined"],[1,"text-red-400","text-xs"],["class","text-red-400 text-xs",4,"ngIf"],["type","button",1,"px-3","py-1","rounded-full","text-sm","transition-colors",3,"click"],[1,"text-xs","text-white/60"],[1,"flex","flex-wrap","gap-1","mt-1"],[1,"px-2","py-1","bg-apple-green","text-deep-green","text-xs","rounded-full"]],template:function(t,r){if(t&1){let i=xe();T(0,"main",1)(1,"div",2),fe(2,"div",3)(3,"div",4),A(),T(4,"div",5)(5,"form",6),ne("ngSubmit",function(){return he(i),pe(r.onSubmit())}),se(6,b7,1,2,"app-notification",7),T(7,"div",8)(8,"label",9),N(9,"Image "),T(10,"span",10),N(11,"*"),A()(),T(12,"div",11),se(13,S7,4,6),T(14,"div",12)(15,"input",13,0),ne("change",function(o){return he(i),pe(r.onFileSelected(o))}),A(),T(17,"button",14),ne("click",function(){he(i);let o=YA(16);return pe(o.click())}),se(18,T7,2,0,"span")(19,C7,2,0,"span"),A()()()(),T(20,"div",8),se(21,D7,3,0,"span",15),T(22,"label",9),N(23,"Titre "),T(24,"span",10),N(25,"*"),A()(),fe(26,"input",16),A(),T(27,"div",8),se(28,x7,3,0,"span",15),T(29,"label",9),N(30,"Description "),T(31,"span",10),N(32,"*"),A()(),fe(33,"textarea",17),A(),T(34,"div",8),se(35,R7,3,2,"span",15),T(36,"label",9),N(37,"URL du site "),T(38,"span",10),N(39,"*"),A()(),fe(40,"input",18),A(),T(41,"div",8),se(42,k7,3,0,"span",15),T(43,"label",9),N(44,"Niveau "),T(45,"span",10),N(46,"*"),A()(),T(47,"select",19),ts(48,P7,2,2,"option",20,la),A()(),T(50,"div",8),se(51,N7,3,0,"span",15),T(52,"label",9),N(53,"Type "),T(54,"span",10),N(55,"*"),A()(),T(56,"select",21),ts(57,O7,2,2,"option",20,la),A()(),T(59,"div",8)(60,"label",9),N(61,"Prix"),A(),T(62,"div",22)(63,"label",23),fe(64,"input",24),T(65,"span"),N(66,"Gratuit"),A()(),T(67,"label",23),fe(68,"input",24),T(69,"span"),N(70,"Payant"),A()()()(),T(71,"div",8),se(72,L7,3,0,"span",15),T(73,"label",9),N(74,"Langages/Technologies "),T(75,"span",10),N(76,"*"),A()(),T(77,"p",25),N(78,"S\xE9lectionnez les langages et technologies utilis\xE9s dans ce lien "),A(),T(79,"div",26),ts(80,F7,2,9,"button",27,la),A(),se(82,U7,6,0,"div",28),A(),T(83,"button",29),N(84," Ajouter "),A()(),se(85,j7,5,0,"div",30),A()()}if(t&2){let i,s,o,a,l,c;L(5),q("formGroup",r.linkForm),L(),q("ngIf",r.showNotification),L(7),xt(r.imagePreview?13:-1),L(5),xt(r.imagePreview?19:18),L(3),q("ngIf",((i=r.linkForm.get("title"))==null?null:i.invalid)&&((i=r.linkForm.get("title"))==null?null:i.touched)),L(7),q("ngIf",((s=r.linkForm.get("description"))==null?null:s.invalid)&&((s=r.linkForm.get("description"))==null?null:s.touched)),L(7),q("ngIf",((o=r.linkForm.get("url"))==null?null:o.invalid)&&((o=r.linkForm.get("url"))==null?null:o.touched)),L(7),q("ngIf",((a=r.linkForm.get("niveau"))==null?null:a.invalid)&&((a=r.linkForm.get("niveau"))==null?null:a.touched)),L(6),ns(r.niveauOptions),L(3),q("ngIf",((l=r.linkForm.get("type"))==null?null:l.invalid)&&((l=r.linkForm.get("type"))==null?null:l.touched)),L(6),ns(r.typeOptions),L(7),q("value",!1),L(4),q("value",!0),L(4),q("ngIf",((c=r.linkForm.get("tags"))==null?null:c.invalid)&&((c=r.linkForm.get("tags"))==null?null:c.touched)),L(8),ns(r.langageOptions),L(2),xt(r.getSelectedTags().length>0?82:-1),L(),q("disabled",!r.linkForm.valid||!r.base64Ready),L(2),xt(r.showSuccessMessage?85:-1)}},dependencies:[et,St,Ir,Fi,PO,OO,br,lv,NS,Oi,Li,Jr,ei,wo],encapsulation:2})};function B7(n,e){if(n&1){let t=xe();T(0,"button",3),ne("click",function(){let i=he(t).$index,s=Z();return pe(s.rate(i+1))})("mouseenter",function(){let i=he(t).$index,s=Z();return pe(s.hover(i+1))})("mouseleave",function(){he(t);let i=Z();return pe(i.hover(0))}),N(1," kid_star "),A()}if(n&2){let t=e.$implicit;Je("text-apple-green",t.filled)("text-gray-100",!t.filled)}}function $7(n,e){if(n&1&&(T(0,"span",2),N(1),A()),n&2){let t=Z();L(),Le("(",t.totalRatings,")")}}var yv=class n{rating=0;totalRatings=0;showRatingCount=!0;readonly=!1;ratingChange=new Ze;stars=Array(5).fill(null).map(()=>({filled:!1}));ngOnInit(){this.updateStars(this.rating)}ngOnChanges(){this.updateStars(this.rating)}hover(e){this.readonly||this.rating===0&&this.updateStars(e)}rate(e){this.readonly||(this.rating=e,this.ratingChange.emit(e))}updateStars(e){this.stars.forEach((t,r)=>{t.filled=r<e})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-star-rating"]],inputs:{rating:"rating",totalRatings:"totalRatings",showRatingCount:"showRatingCount",readonly:"readonly"},outputs:{ratingChange:"ratingChange"},features:[Ur],decls:4,vars:1,consts:[[1,"flex","items-center"],[1,"material-symbols-outlined","text-2xl","transition-colors",3,"text-apple-green","text-gray-100"],[1,"ml-2","text-sm","text-white/50"],[1,"material-symbols-outlined","text-2xl","transition-colors",3,"click","mouseenter","mouseleave"]],template:function(t,r){t&1&&(T(0,"div",0),ts(1,B7,2,4,"button",1,la),se(3,$7,2,1,"span",2),A()),t&2&&(L(),ns(r.stars),L(2),xt(r.showRatingCount?3:-1))},dependencies:[et],encapsulation:2})};function H7(n,e){if(n&1){let t=xe();T(0,"button",15),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleFilter("niveau",i))}),N(1),A()}if(n&2){let t=e.$implicit,r=Z();Je("bg-deep-green",!r.isSelected("niveau",t))("bg-deep-blue",r.isSelected("niveau",t)),L(),Le(" ",t," ")}}function z7(n,e){if(n&1){let t=xe();T(0,"button",15),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleFilter("langage",i))}),N(1),A()}if(n&2){let t=e.$implicit,r=Z();Je("bg-deep-green",!r.isSelected("langage",t))("bg-deep-blue",r.isSelected("langage",t)),L(),Le(" ",t," ")}}function q7(n,e){if(n&1){let t=xe();T(0,"button",15),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleFilter("prix",i))}),N(1),A()}if(n&2){let t=e.$implicit,r=Z();Je("bg-deep-green",!r.isSelected("prix",t))("bg-deep-blue",r.isSelected("prix",t)),L(),Le(" ",t," ")}}function G7(n,e){if(n&1){let t=xe();T(0,"button",15),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleFilter("type",i))}),N(1),A()}if(n&2){let t=e.$implicit,r=Z();Je("bg-deep-green",!r.isSelected("type",t))("bg-deep-blue",r.isSelected("type",t)),L(),Le(" ",t," ")}}function W7(n,e){if(n&1){let t=xe();T(0,"div",16),ne("click",function(){he(t);let i=Z();return pe(i.closeFilters())}),A()}}var Ya=class n{filterChange=new Ze;close=new Ze;isOpen=!1;niveauOptions=["Junior","M\xE9dior","Senior"];langageOptions=["HTML","CSS","JavaScript","Python","Git","Algorithme","C","Java","PHP","React","Angular","Vue.js","Node.js","TypeScript","SQL","MongoDB","Docker","Kubernetes","AWS","Azure"];prixOptions=["Gratuit","Payant"];typeOptions=["Cours","Projet","Forum","Exercice","Tutoriel","Documentation","Vid\xE9o","Podcast"];selectedFilters={niveau:[],langage:[],prix:[],type:[]};openFilters(){this.isOpen=!0}closeFilters(){this.isOpen=!1,this.close.emit()}toggleFilter(e,t){let r=this.selectedFilters[e].indexOf(t);r===-1?(this.selectedFilters[e].push(t),console.log("FilterPanel: Ajout du filtre",e,t,"Nouveaux filtres:",this.selectedFilters)):(this.selectedFilters[e].splice(r,1),console.log("FilterPanel: Suppression du filtre",e,t,"Nouveaux filtres:",this.selectedFilters))}isSelected(e,t){return this.selectedFilters[e].includes(t)}resetFilters(){this.selectedFilters={niveau:[],langage:[],prix:[],type:[]}}applyFilters(){console.log("FilterPanel: \xC9mission des filtres:",this.selectedFilters),this.filterChange.emit(G({},this.selectedFilters)),this.closeFilters()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-filter-panel"]],outputs:{filterChange:"filterChange",close:"close"},decls:38,vars:9,consts:[[1,"filter-panel","fixed","inset-x-0","bottom-0","bg-apple-green","rounded-t-3xl","shadow-lg","transition-transform","duration-500","ease-in-out","transform","z-40","pb-5"],[1,"p-5","font-primary","text-white"],[1,"flex","justify-center","items-center","mb-6"],[1,"flex","items-center","justify-center","gap-2"],[1,"material-symbols-outlined"],[1,"text-4xl"],[1,"mb-6"],[1,"text-2xl","mb-3"],[1,"border","border-deep-green"],[1,"flex","flex-wrap","gap-3","pt-1"],["class","px-4 rounded-lg text-xl transition-colors shadow-lg",3,"bg-deep-green","bg-deep-blue","click",4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-20"],["type","button",1,"px-12","bg-deep-green","text-white","rounded-sm","text-xl","shadow-xl","hover:bg-deep-blue",3,"click"],["type","button",1,"px-12","bg-deep-blue","text-white","rounded-sm","text-xl","shadow-xl",3,"click"],["class","fixed inset-0 bg-black/50 z-30",3,"click",4,"ngIf"],[1,"px-4","rounded-lg","text-xl","transition-colors","shadow-lg",3,"click"],[1,"fixed","inset-0","bg-black/50","z-30",3,"click"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),N(5,"filter_alt"),A(),T(6,"h2",5),N(7,"FILTRER"),A()()(),T(8,"div",6)(9,"h3",7),N(10,"Niveau"),A(),fe(11,"div",8),T(12,"div",9),se(13,H7,2,5,"button",10),A()(),T(14,"div",6)(15,"h3",7),N(16,"Langage"),A(),fe(17,"div",8),T(18,"div",9),se(19,z7,2,5,"button",10),A()(),T(20,"div",6)(21,"h3",7),N(22,"Prix"),A(),fe(23,"div",8),T(24,"div",9),se(25,q7,2,5,"button",10),A()(),T(26,"div",6)(27,"h3",7),N(28,"Type"),A(),fe(29,"div",8),T(30,"div",9),se(31,G7,2,5,"button",10),A()(),T(32,"div",11)(33,"button",12),ne("click",function(){return r.resetFilters()}),N(34," R\xE9initialiser "),A(),T(35,"button",13),ne("click",function(){return r.applyFilters()}),N(36," Appliquer "),A()()()(),se(37,W7,1,0,"div",14)),t&2&&(Je("translate-y-full",!r.isOpen)("motion-preset-slide-up",r.isOpen),L(13),q("ngForOf",r.niveauOptions),L(6),q("ngForOf",r.langageOptions),L(6),q("ngForOf",r.prixOptions),L(6),q("ngForOf",r.typeOptions),L(6),q("ngIf",r.isOpen))},dependencies:[et,Bn,St,yo],styles:[".filter-panel[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto}"]})};var $c=class n{viewModeSubject=new kt("carousel");viewMode$=this.viewModeSubject.asObservable();constructor(){}setViewMode(e){this.viewModeSubject.next(e)}getCurrentViewMode(){return this.viewModeSubject.value}toggleViewMode(){let t=this.viewModeSubject.value==="grid"?"carousel":"grid";this.viewModeSubject.next(t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var K7=["swiperRef"],Y7=["filterPanel"],dL=n=>["/link",n];function Q7(n,e){if(n&1){let t=xe();T(0,"div",1),fe(1,"div",12),T(2,"div",13)(3,"div",14)(4,"div",15)(5,"h2",16),N(6,"Ajouter un nouveau lien"),A(),T(7,"button",17),ne("click",function(){he(t);let i=Z();return pe(i.toggleAddLinkForm())}),T(8,"span",7),N(9,"close"),A()()(),T(10,"div",18)(11,"app-link-form",19),ne("linkAdded",function(){he(t);let i=Z();return pe(i.onLinkAdded())}),A()()()()()}}function X7(n,e){if(n&1&&fe(0,"img",22),n&2){let t=Z(2);q("src",t.currentBgImage,Dt)}}function Z7(n,e){if(n&1&&(T(0,"div",2),se(1,X7,1,1,"img",20),fe(2,"div",21),A()),n&2){let t=Z();L(),q("ngIf",t.currentBgImage)}}function J7(n,e){if(n&1){let t=xe();T(0,"div",9)(1,"div",23)(2,"span",24),N(3,"search_off"),A(),T(4,"h3",25),N(5,"Aucun lien trouv\xE9"),A(),T(6,"p",26),N(7,"Aucune carte ne correspond aux crit\xE8res de filtrage s\xE9lectionn\xE9s."),A(),T(8,"button",27),ne("click",function(){he(t);let i=Z();return pe(i.resetFilters())}),N(9," R\xE9initialiser les filtres "),A()()()}}function eK(n,e){n&1&&(T(0,"div",9)(1,"div",23)(2,"span",24),N(3,"info"),A(),T(4,"h3",28),N(5,"Aucun lien \xE0 afficher"),A(),T(6,"p",29),N(7,"Il n'y a pas encore de liens. Utilise le bouton "),T(8,"span",30),N(9,"+"),A(),N(10," pour en ajouter un."),A()()())}function tK(n,e){if(n&1){let t=xe();T(0,"swiper-slide")(1,"div",32)(2,"h3",33),N(3),A(),T(4,"app-star-rating",34),ne("ratingChange",function(i){let s=he(t).$implicit,o=Z(2);return pe(o.onRatingChange(s,i))}),A()(),T(5,"div",35),fe(6,"img",36),T(7,"div",37)(8,"div",38)(9,"button",39),ne("click",function(){let i=he(t).$implicit,s=Z(2);return pe(s.openLink(i.url))}),N(10," Lien de la page "),A(),T(11,"button",40),N(12," voir "),A()()()()()}if(n&2){let t=e.$implicit;L(3),ze(t.title),L(),q("rating",t.averageRating||0)("totalRatings",t.totalRatings||0),L(2),q("src",t.imageUrl,Dt)("alt",t.title),L(5),q("routerLink",Fl(6,dL,t.id))}}function nK(n,e){if(n&1&&(T(0,"swiper-container",10,0),se(2,tK,13,8,"swiper-slide",31),A()),n&2){let t=Z();L(2),q("ngForOf",t.filteredLinks)}}function rK(n,e){if(n&1){let t=xe();T(0,"div",42),fe(1,"img",43),T(2,"div",18)(3,"h3",44),N(4),A(),T(5,"p",45),N(6),A(),T(7,"div",46)(8,"app-star-rating",34),ne("ratingChange",function(i){let s=he(t).$implicit,o=Z(2);return pe(o.onRatingChange(s,i))}),A()(),T(9,"div",47)(10,"span",48)(11,"span",49),N(12,"schedule"),A(),N(13),_n(14,"date"),A()(),T(15,"div",50)(16,"button",51),ne("click",function(){let i=he(t).$implicit,s=Z(2);return pe(s.openLink(i.url))}),N(17," Lien de la page "),A(),T(18,"button",52),N(19," voir "),A()()()()}if(n&2){let t=e.$implicit;L(),q("src",t.imageUrl,Dt)("alt",t.title),L(3),ze(t.title),L(2),ze(t.description),L(2),q("rating",t.averageRating||0)("totalRatings",t.totalRatings||0),L(5),Le(" ",fa(14,8,t.createdAt,"dd/MM/yyyy")," "),L(5),q("routerLink",Fl(11,dL,t.id))}}function iK(n,e){if(n&1&&(T(0,"div",11),se(1,rK,20,13,"div",41),A()),n&2){let t=Z();L(),q("ngForOf",t.filteredLinks)}}var wv=class n{constructor(e){this.platformId=e}userService=F(qn);showNotification=!1;notificationType="success";notificationMessage="";linksService=F(Ui);authService=F(nt);firestoreService=F(_r);router=F(Ve);cdr=F(hr);links=[];filteredLinks=[];currentIndex=0;viewModeService=F($c);viewMode$=this.viewModeService.viewMode$;showAddLinkForm=!1;userMap={};currentBgImage=null;activeFilters=null;navLinks=[{route:"/home",icon:"home",label:"Accueil"},{route:"/search",icon:"search",label:"Rechercher"},{route:"/profile",icon:"person",label:"Profil"},{route:"/settings",icon:"settings",label:"Param\xE8tres"}];swiperRef;filterPanel;swiperInterval=null;ngOnInit(){ss(this.platformId)&&this.loadLinks()}ngAfterViewInit(){this.attachSwiperListener(),this.startSwiperInterval()}ngOnDestroy(){this.swiperInterval&&clearInterval(this.swiperInterval),this.swiperRef&&this.swiperRef.nativeElement&&this.swiperRef.nativeElement.removeEventListener("slidechange",this.swiperSlideChangeHandler)}loadLinks(){this.linksService.getLinks().pipe(Ot(e=>{console.log("Liens charg\xE9s depuis Firestore:",e);let t=e.map(s=>ce(G({},s),{createdAt:this.convertFirestoreTimestamp(s.createdAt)}));this.links=t,this.filteredLinks=[...t],this.activeFilters&&this.applyFilters(this.activeFilters),setTimeout(()=>{this.attachSwiperListener(),this.startSwiperInterval(),this.filteredLinks.length>0&&(this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges())},0);let i=[...new Set(e.map(s=>s.createdBy))].map(s=>this.firestoreService.getDocument(`users/${s}`));return jo(i)})).subscribe(e=>{e.forEach(t=>{t&&t.id&&(this.userMap[t.id]=t)})})}convertFirestoreTimestamp(e){if(!e)return new Date;if(e instanceof Date)return e;if(e&&typeof e=="object"&&"seconds"in e)return new Date(e.seconds*1e3);if(typeof e=="number")return new Date(e);if(typeof e=="string"){let t=new Date(e);if(!isNaN(t.getTime()))return t}return console.warn("Impossible de convertir le timestamp:",e),new Date}applyFilters(e){console.log("Filtres re\xE7us:",e),console.log("Liens avant filtrage:",this.links),this.activeFilters=e;let t=e.niveau.length>0||e.langage.length>0||e.prix.length>0||e.type.length>0;console.log("Filtres actifs:",t),t?this.filteredLinks=this.links.filter(r=>{if(console.log("Filtrage du lien:",r.title,"Propri\xE9t\xE9s:",{niveau:r.niveau,type:r.type,tags:r.tags,isPaid:r.isPaid}),e.niveau.length>0){let i=r.niveau||"";if(!e.niveau.includes(i))return console.log("Lien rejet\xE9 par niveau:",r.title,"niveau:",i,"filtres:",e.niveau),!1}if(e.langage.length>0){let i=r.tags||[];if(!e.langage.some(o=>i.some(a=>a&&a.toLowerCase().includes(o.toLowerCase()))))return console.log("Lien rejet\xE9 par langage:",r.title,"tags:",i,"filtres:",e.langage),!1}if(e.prix.length>0){let i=r.isPaid||!1,s=e.prix.includes("Payant"),o=e.prix.includes("Gratuit");if(s&&!i)return console.log("Lien rejet\xE9 par prix (payant):",r.title,"isPaid:",i),!1;if(o&&i)return console.log("Lien rejet\xE9 par prix (gratuit):",r.title,"isPaid:",i),!1}if(e.type.length>0){let i=r.type||"";if(!e.type.includes(i))return console.log("Lien rejet\xE9 par type:",r.title,"type:",i,"filtres:",e.type),!1}return console.log("Lien accept\xE9:",r.title),!0}):(this.filteredLinks=[...this.links],console.log("Aucun filtre actif, affichage de tous les liens")),console.log("Liens apr\xE8s filtrage:",this.filteredLinks),console.log("Nombre de liens filtr\xE9s:",this.filteredLinks.length),this.currentIndex>=this.filteredLinks.length&&(this.currentIndex=0),this.filteredLinks.length>0?this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl:this.currentBgImage=null,this.cdr.detectChanges()}resetFilters(){this.activeFilters=null,this.filteredLinks=[...this.links],this.currentIndex=0,this.filteredLinks.length>0&&(this.currentBgImage=this.filteredLinks[0].imageUrl),this.cdr.detectChanges()}openLink(e){!e.startsWith("http://")&&!e.startsWith("https://")&&(e="https://"+e),window.open(e,"_blank","noopener,noreferrer")}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.filteredLinks.length,this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges()}previousSlide(){this.currentIndex=(this.currentIndex-1+this.filteredLinks.length)%this.filteredLinks.length,this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges()}goToSlide(e){this.currentIndex=e}toggleAddLinkForm(){this.showAddLinkForm=!this.showAddLinkForm}onLinkAdded(){this.showAddLinkForm=!1,this.loadLinks(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Le lien a \xE9t\xE9 ajout\xE9 avec succ\xE8s!",setTimeout(()=>{this.showNotification=!1},3e3)}getUserInfo(e){return this.userMap[e]||null}logout(){this.authService.logOut().subscribe(()=>{this.router.navigate(["/login-choice"])})}onRatingChange(e,t){return P(this,null,function*(){let r=yield this.authService.getCurrentUser();r&&(yield this.linksService.rateLink(e.id,r.uid,t))})}getUserRating(e){return P(this,null,function*(){let t=yield this.authService.getCurrentUser();return t?this.linksService.getUserRating(e,t.uid):0})}attachSwiperListener(){this.swiperRef&&this.swiperRef.nativeElement&&(this.swiperRef.nativeElement.removeEventListener("slidechange",this.swiperSlideChangeHandler),this.swiperRef.nativeElement.addEventListener("slidechange",this.swiperSlideChangeHandler))}swiperSlideChangeHandler=e=>{let t=e.target.swiper,r=t.realIndex??t.activeIndex;this.filteredLinks[r]&&(this.currentBgImage=this.filteredLinks[r].imageUrl,this.currentIndex=r,this.cdr.detectChanges())};startSwiperInterval(){this.swiperInterval&&clearInterval(this.swiperInterval),this.swiperInterval=setInterval(()=>{if(this.swiperRef&&this.swiperRef.nativeElement&&this.filteredLinks.length>0){let e=this.swiperRef.nativeElement.swiper;if(e){let t=e.realIndex??e.activeIndex;this.filteredLinks[t]&&this.currentBgImage!==this.filteredLinks[t].imageUrl&&(this.currentBgImage=this.filteredLinks[t].imageUrl,this.currentIndex=t,this.cdr.detectChanges())}}},300)}static \u0275fac=function(t){return new(t||n)(me(ur))};static \u0275cmp=Ke({type:n,selectors:[["app-home"]],viewQuery:function(t,r){if(t&1&&(Bu(K7,5),Bu(Y7,5)),t&2){let i;ca(i=ua())&&(r.swiperRef=i.first),ca(i=ua())&&(r.filterPanel=i.first)}},decls:16,vars:15,consts:[["swiperRef",""],[1,"fixed","inset-0","z-40"],[1,"fixed","inset-0","z-0","pointer-events-none"],[3,"closed","show","type","message"],[1,"min-h-screen","pb-20","relative","overflow-hidden","motion-preset-fade","motion-duration-2000"],[1,"pt-20","pb-4","text-center","relative"],[1,"absolute","right-4","top-1/2","transform","-translate-y-1/2","bg-apple-green","text-deep-green","rounded-xl","p-3","shadow-lg","hover:bg-deep-green","hover:text-apple-green","transition-colors","flex","items-center",3,"click"],[1,"material-symbols-outlined"],[3,"filterChange"],[1,"flex","flex-col","items-center","justify-center","min-h-[50vh]","text-center","px-4"],["effect","coverflow","grab-cursor","true","centered-slides","true","slides-per-view","2","loop","false","coverflow-effect-rotate","50","coverflow-effect-stretch","0","coverflow-effect-depth","100","coverflow-effect-modifier","1","coverflow-effect-slide-shadows","false","pagination","false"],[1,"grid","grid-cols-2","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","px-4","max-w-7xl","mx-auto"],[1,"absolute","inset-0","bg-black/50","motion-preset-fade","motion-duration-500"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"bg-black","rounded-xl","shadow-xl","max-w-md","w-full","mx-4","max-h-[90vh]","overflow-y-auto","relative"],[1,"sticky","top-0","bg-black","p-4","border-b","border-deep-green","flex","justify-between","items-center"],[1,"text-3xl","font-semibold","font-primary","text-apple-green"],[1,"text-white","hover:text-gray-700",3,"click"],[1,"p-4"],[3,"linkAdded"],["class","w-full h-full object-cover blur-md transition-all duration-900 opacity-80 fade-bg",3,"src",4,"ngIf"],[1,"absolute","inset-0","bg-soft-white/50"],[1,"w-full","h-full","object-cover","blur-md","transition-all","duration-900","opacity-80","fade-bg",3,"src"],[1,"bg-white/10","backdrop-blur-sm","rounded-2xl","p-8","border","border-apple-green/30"],[1,"material-symbols-outlined","text-6xl","text-apple-green","mb-4"],[1,"text-2xl","font-primary","text-white","mb-2"],[1,"text-white/70","mb-6"],[1,"bg-apple-green","text-white","px-6","py-3","rounded-xl","hover:bg-deep-green","transition-colors",3,"click"],[1,"text-2xl","font-primary","text-black","mb-2"],[1,"text-black/70"],[1,"bg-apple-green","text-deep-green","rounded-sm","px-2","py-1"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","mb-6"],[1,"font-primary","text-3xl","font-bold","mb-20","drop-shadow"],[3,"ratingChange","rating","totalRatings"],[1,"max-w-2xs","mx-auto","rounded-4xl","shadow-lg","overflow-hidden","relative","bg-white"],[1,"w-full","h-full","object-cover","rounded-4xl",3,"src","alt"],[1,"absolute","bottom-0","left-0","right-0","p-6","bg-gradient-to-t","from-black/70","to-transparent"],[1,"flex","flex-col","sm:flex-row","justify-between","mt-2","gap-2","sm:gap-0"],[1,"flex","justify-center","text-black","items-center","text-xs","sm:text-sm","bg-white/80","rounded-xl","px-2","sm:px-4","py-1","hover:bg-apple-green","hover:text-white","transition-colors","w-full","sm:w-auto",3,"click"],[1,"flex","justify-center","bg-apple-green","text-white","text-center","py-1","px-3","sm:px-6","rounded-xl","shadow-xl","hover:bg-deep-green","transition-colors","w-full","sm:w-auto","text-xs","sm:text-sm",3,"routerLink"],["class","bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",4,"ngFor","ngForOf"],[1,"bg-white","rounded-2xl","shadow-lg","overflow-hidden","hover:shadow-xl","transition-shadow"],[1,"w-full","h-48","object-cover",3,"src","alt"],[1,"font-primary","text-xl","font-bold","text-deep-green","mb-2","line-clamp-2"],[1,"text-gray-600","text-xs","mb-3","line-clamp-3","sm:text-xs","md:text-xs"],[1,"mb-3"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","mb-3"],[1,"flex","items-center"],[1,"material-symbols-outlined","text-xs","mr-1","md:text-sm"],[1,"flex","flex-col","gap-2"],[1,"flex-1","bg-apple-green","text-white","py-2","px-3","rounded-lg","text-sm","hover:bg-deep-green","transition-colors","sm:text-xs","md:text-xs",3,"click"],[1,"flex-1","bg-deep-green","text-white","py-2","px-3","rounded-lg","text-sm","hover:bg-apple-green","transition-colors","sm:text-xs","md:text-xs",3,"routerLink"]],template:function(t,r){t&1&&(se(0,Q7,12,0,"div",1)(1,Z7,3,1,"div",2),_n(2,"async"),T(3,"app-notification",3),ne("closed",function(){return r.showNotification=!1}),A(),T(4,"main",4)(5,"header",5)(6,"button",6),ne("click",function(){return r.toggleAddLinkForm()}),T(7,"span",7),N(8,"add"),A()()(),T(9,"app-filter-panel",8),ne("filterChange",function(s){return r.applyFilters(s)}),A(),se(10,J7,10,0,"div",9)(11,eK,11,0,"div",9)(12,nK,3,1,"swiper-container",10),_n(13,"async"),se(14,iK,2,1,"div",11),_n(15,"async"),A()),t&2&&(xt(r.showAddLinkForm?0:-1),L(),xt(hi(2,9,r.viewMode$)==="carousel"&&r.filteredLinks.length>0?1:-1),L(2),q("show",r.showNotification)("type",r.notificationType)("message",r.notificationMessage),L(7),xt(r.filteredLinks.length===0&&r.activeFilters?10:-1),L(),xt(r.filteredLinks.length===0&&!r.activeFilters?11:-1),L(),xt(r.filteredLinks.length>0&&hi(13,11,r.viewMode$)==="carousel"?12:-1),L(2),xt(r.filteredLinks.length>0&&hi(15,13,r.viewMode$)==="grid"?14:-1))},dependencies:[et,Bn,St,ha,pa,Xt,En,yo,Bc,yv,wo,Ya],styles:['[_nghost-%COMP%]{display:block;background-color:#faf9f6}.carousel-slide[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.pagination-dot[_ngcontent-%COMP%]{transition:all .3s ease}.pagination-dot[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.search-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}.card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #0000001a}button[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.bottom-nav[_ngcontent-%COMP%]{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.grid-view[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.fade-bg[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeInBg .8s forwards}@keyframes _ngcontent-%COMP%_fadeInBg{0%{opacity:0}to{opacity:.8}}']})};function sK(n,e){if(n&1){let t=xe();T(0,"div",32)(1,"button",33),ne("click",function(){he(t);let i=Z();return pe(i.toggleDeleteConfirm())}),T(2,"span",34),N(3,"delete"),A(),N(4," Supprimer "),A()()}}function oK(n,e){n&1&&(T(0,"span",35),N(1,"autorenew"),A())}function aK(n,e){if(n&1){let t=xe();T(0,"button",45),ne("click",function(){he(t);let i=Z().$implicit,s=Z();return pe(s.toggleCommentDeleteConfirm(i))}),T(1,"span",35),N(2,"delete"),A()()}}function lK(n,e){if(n&1){let t=xe();T(0,"div",36)(1,"div",37),fe(2,"img",38),T(3,"div",21)(4,"div",11)(5,"h3",39),N(6),A(),T(7,"span",40),N(8),_n(9,"date"),A()(),T(10,"p",41),N(11),A(),T(12,"div",42)(13,"button",43),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleLike(i))}),T(14,"span",35),N(15," favorite "),A(),T(16,"span",16),N(17),A()(),se(18,aK,3,0,"button",44),A()()()()}if(n&2){let t=e.$implicit,r=Z();L(2),q("src",t.senderImage||"assets/images/default-avatar.png",Dt)("alt",t.senderName),L(4),ze(t.senderName),L(2),ze(fa(9,9,t.createdAt,"dd/MM/yyyy \xE0 HH:mm")),L(3),ze(t.text),L(3),Je("text-apple-green",r.isLikedByCurrentUser(t)),L(3),ze(t.likes||0),L(),q("ngIf",r.canDeleteComment(t))}}function cK(n,e){if(n&1){let t=xe();T(0,"div",46)(1,"div",47)(2,"h3",48),N(3,"Confirmer la suppression"),A(),T(4,"p",49),N(5," \xCAtes-vous s\xFBr de vouloir supprimer ce commentaire ? Cette action est irr\xE9versible. "),A(),T(6,"div",50)(7,"button",51),ne("click",function(){he(t);let i=Z();return pe(i.toggleCommentDeleteConfirm())}),N(8," Annuler "),A(),T(9,"button",52),ne("click",function(){he(t);let i=Z();return pe(i.confirmDeleteComment())}),T(10,"span",34),N(11,"delete"),A(),N(12," Supprimer "),A()()()()}}function uK(n,e){if(n&1&&(T(0,"div",58),N(1),A()),n&2){let t=Z(2);L(),Le(" ",t.deleteError," ")}}function dK(n,e){n&1&&(T(0,"span",59),N(1,"autorenew"),A())}function fK(n,e){n&1&&(T(0,"span",34),N(1,"delete"),A())}function hK(n,e){if(n&1){let t=xe();T(0,"div",46)(1,"div",47)(2,"h3",48),N(3,"Confirmer la suppression"),A(),T(4,"p",49),N(5," \xCAtes-vous s\xFBr de vouloir supprimer ce lien ? Cette action est irr\xE9versible. "),A(),se(6,uK,2,1,"div",53),T(7,"div",50)(8,"button",54),ne("click",function(){he(t);let i=Z();return pe(i.toggleDeleteConfirm())}),N(9," Annuler "),A(),T(10,"button",55),ne("click",function(){he(t);let i=Z();return pe(i.deleteLink())}),se(11,dK,2,0,"span",56)(12,fK,2,0,"span",57),N(13),A()()()()}if(n&2){let t=Z();L(6),q("ngIf",t.deleteError),L(2),q("disabled",t.isDeleting),L(2),q("disabled",t.isDeleting),L(),q("ngIf",t.isDeleting),L(),q("ngIf",!t.isDeleting),L(),Le(" ",t.isDeleting?"Suppression...":"Supprimer"," ")}}var If=class n{router=F(Ve);route=F(Hn);linksService=F(Ui);authService=F(nt);userService=F(qn);fb=F(Er);firestoreService=F(_r);link=null;isOwner=!1;isAdmin=!1;showDeleteConfirm=!1;isDeleting=!1;deleteError=null;comments=[];commentForm;isSubmitting=!1;currentUser=null;subscriptions=[];showCommentDeleteConfirm=!1;commentToDelete=null;constructor(){this.commentForm=this.fb.group({text:["",[dt.required,dt.minLength(1)]]}),Hs(()=>{let e=this.authService.currentUserSignal();e?this.userService.getUserById(e.id||"").subscribe(t=>{this.currentUser=t,this.isAdmin=t?.role==="admin"}):(this.currentUser=null,this.isAdmin=!1)})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.loadLink(e):this.router.navigate(["/home"])}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadLink(e){this.linksService.getLinkById(e).subscribe({next:t=>{this.link=t,this.checkOwnership(),this.loadComments()},error:t=>{this.router.navigate(["/home"])}})}checkOwnership(){if(!this.link)return;let e=this.authService.getCurrentUser();this.isOwner=e?.uid===this.link.createdBy}addComment(){return P(this,null,function*(){let e=this.authService.getCurrentUser();if(!e){console.error("User must be authenticated to add comments"),this.router.navigate(["/auth/login"]);return}if(!this.commentForm.valid||this.isSubmitting||!this.currentUser||!this.link){console.error("Form validation failed or missing required data");return}if(!this.currentUser.id||!this.link.id){console.error("Missing required IDs");return}this.isSubmitting=!0;let t=this.commentForm.get("text")?.value?.trim();if(!t){this.isSubmitting=!1;return}try{let r=G({text:t,senderId:e.uid,senderName:this.currentUser.userName||"Utilisateur Anonyme",linkId:this.link.id,createdAt:new Date,likes:0,likedBy:[],read:!1,isEdited:!1},this.currentUser.userImageUrl?.base64&&{senderImage:this.currentUser.userImageUrl.base64});console.log("Attempting to add comment with data:",{senderId:r.senderId,linkId:r.linkId});let i=yield this.firestoreService.addDocument("comments",r);if(!i)throw new Error("Failed to create comment");console.log("Comment added successfully with ID:",i),this.commentForm.reset(),setTimeout(()=>this.loadComments(),500)}catch(r){console.error("Error adding comment:",r),this.deleteError="Erreur lors de l'ajout du commentaire. Veuillez r\xE9essayer."}finally{this.isSubmitting=!1}})}loadComments(){if(!this.link?.id)return;let e=this.firestoreService.getCollection("comments",t=>za(t,Ac("linkId","==",this.link.id),Mc("createdAt","desc"))).subscribe({next:t=>{this.comments=t.map(r=>ce(G({},r),{createdAt:r.createdAt instanceof _t?r.createdAt.toDate():new Date(r.createdAt)}))},error:t=>{t.code==="permission-denied"&&this.router.navigate(["/auth/login"])}});this.subscriptions.push(e)}toggleLike(e){return P(this,null,function*(){if(!this.currentUser?.id||!e.id){console.error("Cannot like comment: Missing user ID or comment ID");return}let t=this.currentUser.id,r=e.likedBy||[],i=r.includes(t);try{let s=i?r.filter(o=>o!==t):[...r,t];yield this.firestoreService.updateDocument(`comments/${e.id}`,{likedBy:s,likes:s.length}),e.likedBy=s,e.likes=s.length}catch(s){console.error("Error toggling like:",s)}})}isLikedByCurrentUser(e){return e.likedBy?.includes(this.currentUser?.id||"")||!1}canDeleteComment(e){return this.currentUser?.id===e.senderId||this.isOwner}deleteComment(e){return P(this,null,function*(){if(!this.canDeleteComment(e)){console.error("User does not have permission to delete this comment");return}if(!e.id){console.error("Cannot delete comment: Comment ID is missing");return}try{if(!(yield this.firestoreService.getDocument(`comments/${e.id}`))){console.error("Comment not found in database");return}yield this.firestoreService.deleteDocument(`comments/${e.id}`),console.log("Commentaire supprim\xE9 avec succ\xE8s:",e.id),this.comments=this.comments.filter(r=>r.id!==e.id),this.toggleCommentDeleteConfirm()}catch(t){console.error("Error deleting comment:",t),t.code==="permission-denied"&&(console.error("Permission denied: User may not be authenticated"),this.router.navigate(["/auth/login"])),this.deleteError="Une erreur s'est produite lors de la suppression du commentaire. Veuillez r\xE9essayer."}})}toggleDeleteConfirm(){console.log("Toggle delete confirm, \xE9tat actuel:",this.showDeleteConfirm),this.showDeleteConfirm=!this.showDeleteConfirm,this.deleteError=null,console.log("Nouvel \xE9tat:",this.showDeleteConfirm)}deleteLink(){return P(this,null,function*(){if(console.log("D\xE9but de la suppression du lien"),!this.link?.id){console.error("ID de lien manquant"),this.deleteError="Impossible de supprimer: ID de lien invalide";return}this.isDeleting=!0;try{console.log("Tentative de suppression du lien:",this.link.id),yield this.linksService.deleteLink(this.link.id),console.log("Lien supprim\xE9 avec succ\xE8s"),this.router.navigate(["/home"])}catch(e){console.error("Erreur d\xE9taill\xE9e lors de la suppression:",e),this.isDeleting=!1,this.deleteError=e.message||"Une erreur s'est produite lors de la suppression"}})}toggleCommentDeleteConfirm(e){e?this.commentToDelete=e:this.commentToDelete=null,this.showCommentDeleteConfirm=!this.showCommentDeleteConfirm}confirmDeleteComment(){return P(this,null,function*(){if(this.commentToDelete)try{yield this.deleteComment(this.commentToDelete)}catch(e){console.error("Erreur lors de la suppression du commentaire:",e),this.deleteError="Une erreur s'est produite lors de la suppression du commentaire. Veuillez r\xE9essayer."}})}toggleLinkLike(){return P(this,null,function*(){let e=this.currentUser?.id;if(!e||!this.link?.id){console.error("Cannot like link: Missing user ID or link ID");return}try{if(yield this.linksService.toggleLike(this.link.id,e),this.link){let t=this.link.likedBy||[],r=t.includes(e);this.link.likedBy=r?t.filter(i=>i!==e):[...t,e],this.link.likes=this.link.likedBy.length}}catch(t){console.error("Error toggling link like:",t)}})}isLinkLikedByCurrentUser(){return this.link?.likedBy?.includes(this.currentUser?.id||"")||!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-link-detail"]],decls:48,vars:21,consts:[[1,"min-h-screen","pb-20","relative","overflow-hidden","text-white/50","motion-preset-fade","motion-duration-1000"],[1,"fixed","inset-0","overflow-hidden","pointer-events-none","z-0"],[1,"absolute","-top-20","-right-20","w-96","h-96","bg-apple-green","rounded-full","opacity-30","blur-3xl"],[1,"absolute","-bottom-20","-left-40","w-96","h-96","bg-blue-900","rounded-full","opacity-30","blur-3xl"],[1,"relative","z-10","backdrop-blur-sm"],[1,"flex","items-center","gap-4","p-4","justify-center","pt-10","font-primary"],[1,"text-5xl","font-bold","mb-2"],[1,"max-w-md","mx-10"],[1,"w-full","aspect-square","object-cover","rounded-3xl",3,"src","alt"],[1,"mt-4","text-white"],[1,"flex","items-center","gap-4","justify-around","text-gray-500"],[1,"flex","items-center","gap-2"],[1,"flex","items-center","gap-2","hover:text-white","transition-colors",3,"click"],[1,"material-symbols-outlined"],["class","m-4 flex justify-center",4,"ngIf"],[1,"p-6","text-white/50","text-center"],[1,"text-sm"],[1,"px-4"],[1,"mb-6",3,"ngSubmit","formGroup"],[1,"flex","gap-3"],["alt","User",1,"w-10","h-10","rounded-full","object-cover",3,"src"],[1,"flex-1"],["formControlName","text","rows","2","placeholder","Ajouter un commentaire...",1,"w-full","bg-white/10","rounded-xl","bg-clip-padding","backdrop-filter","backdrop-blur-xl","bg-opacity-10","border","border-gray-100/50","p-4","focus:outline-none","focus:border-apple-green"],[1,"flex","justify-end","mt-2"],["type","submit",1,"relative","inline-flex","group",3,"disabled"],[1,"absolute","transitiona-all","duration-1000","opacity-70","-inset-px","bg-gradient-to-r","from-[#EAE0D5]","via-[#72B01D]","to-[#3F7D20]","rounded-xl","blur-lg","group-hover:opacity-100","group-hover:-inset-1","group-hover:duration-200","animate-tilt"],["role","button",1,"relative","inline-flex","items-center","justify-center","px-8","py-2","text-sm","font-bold","text-soft-white","transition-all","duration-200","bg-apple-green","font-pj","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-900"],["class","material-symbols-outlined text-sm",4,"ngIf"],[1,"space-y-4"],["class","h-full w-full bg-white/10 rounded-xl bg-clip-padding backdrop-filter backdrop-blur-lg bg-opacity-10 border border-gray-100/50  p-4",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 ",4,"ngIf"],["class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",4,"ngIf"],[1,"m-4","flex","justify-center"],[1,"py-2","text-xs","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click"],[1,"material-symbols-outlined","mr-1"],[1,"material-symbols-outlined","text-sm"],[1,"h-full","w-full","bg-white/10","rounded-xl","bg-clip-padding","backdrop-filter","backdrop-blur-lg","bg-opacity-10","border","border-gray-100/50","p-4"],[1,"flex","items-start","gap-3"],[1,"w-10","h-10","rounded-full","object-cover",3,"src","alt"],[1,"font-semibold","text-white"],[1,"text-gray-400","text-xs"],[1,"text-gray-200","mt-1"],[1,"flex","items-center","justify-end","gap-2","mt-2"],[1,"text-gray-400","hover:text-white","transition-colors","flex","items-center","gap-1",3,"click"],["class","text-gray-400 hover:text-red-500 transition-colors ml-4 flex items-center justify-center",3,"click",4,"ngIf"],[1,"text-gray-400","hover:text-red-500","transition-colors","ml-4","flex","items-center","justify-center",3,"click"],[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","flex","items-center","justify-center","z-50"],[1,"bg-white/10","backdrop-blur-xl","border","border-deep-green/50","rounded-xl","p-6","w-5/6","max-w-md","shadow-2xl"],[1,"text-2xl","font-bold","mb-4","text-white","font-primary"],[1,"text-gray-200","mb-6"],[1,"flex","justify-between"],[1,"py-2","px-4","bg-white/10","text-white","rounded-lg","hover:bg-white/20","transition-all","duration-300","border","border-white/20",3,"click"],[1,"py-2","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click"],["class","mb-4 p-3 bg-red-600/20 border border-red-600 rounded text-white text-sm",4,"ngIf"],[1,"py-2","px-4","bg-white/10","text-white","rounded-lg","hover:bg-white/20","transition-all","duration-300","border","border-white/20",3,"click","disabled"],[1,"py-2","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click","disabled"],["class","material-symbols-outlined animate-spin mr-1",4,"ngIf"],["class","material-symbols-outlined mr-1",4,"ngIf"],[1,"mb-4","p-3","bg-red-600/20","border","border-red-600","rounded","text-white","text-sm"],[1,"material-symbols-outlined","animate-spin","mr-1"]],template:function(t,r){t&1&&(T(0,"main",0)(1,"div",1),fe(2,"div",2)(3,"div",3),A(),T(4,"div",4)(5,"div",5)(6,"h1",6),N(7),A()(),T(8,"div",7),fe(9,"img",8),T(10,"div",9)(11,"div",10)(12,"div",11)(13,"button",12),ne("click",function(){return r.toggleLinkLike()}),T(14,"span",13),N(15," favorite "),A(),T(16,"span"),N(17),A(),T(18,"span"),N(19),A()()(),T(20,"div",11)(21,"span",13),N(22,"comment"),A(),T(23,"span"),N(24),A(),T(25,"span"),N(26),A()()()()(),se(27,sK,5,0,"div",14),T(28,"div",15)(29,"p",16),N(30),A()(),T(31,"div",17)(32,"form",18),ne("ngSubmit",function(){return r.addComment()}),T(33,"div",19),fe(34,"img",20),T(35,"div",21),fe(36,"textarea",22),T(37,"div",23)(38,"button",24),fe(39,"div",25),T(40,"div",26),se(41,oK,2,0,"span",27),T(42,"span"),N(43),A()()()()()()(),T(44,"div",28),se(45,lK,19,12,"div",29),A()()(),se(46,cK,13,0,"div",30)(47,hK,14,6,"div",31),A()),t&2&&(L(7),ze(r.link==null?null:r.link.title),L(2),q("src",r.link==null?null:r.link.imageUrl,Dt)("alt",r.link==null?null:r.link.title),L(5),Je("text-apple-green",r.isLinkLikedByCurrentUser())("material-symbols-filled",r.isLinkLikedByCurrentUser()),L(3),ze((r.link==null?null:r.link.likes)||0),L(2),ze(((r.link==null?null:r.link.likes)||0)===1?"j'aime":"j'aimes"),L(5),ze(r.comments.length),L(2),ze(r.comments.length===1?"Commentaire":"Commentaires"),L(),q("ngIf",r.isOwner||r.isAdmin),L(3),ze(r.link==null?null:r.link.description),L(2),q("formGroup",r.commentForm),L(2),q("src",(r.currentUser==null||r.currentUser.userImageUrl==null?null:r.currentUser.userImageUrl.base64)||(r.currentUser==null||r.currentUser.userImageUrl==null?null:r.currentUser.userImageUrl.url)||"assets/images/icons/UserIcon.png",Dt),L(4),q("disabled",!r.commentForm.valid||r.isSubmitting),L(3),q("ngIf",r.isSubmitting),L(2),ze(r.isSubmitting?"Envoi...":"Commenter"),L(2),q("ngForOf",r.comments),L(),q("ngIf",r.showCommentDeleteConfirm),L(),q("ngIf",r.showDeleteConfirm))},dependencies:[et,Bn,St,pa,Xt,Ir,Fi,br,Oi,Li,Jr,ei],encapsulation:2})};var pK=(n,e,t)=>({"bg-apple-green text-deep-blue":n,"bg-soft-white text-black":e,"bg-amber-500 text-white":t});function mK(n,e){n&1&&(T(0,"div",7),fe(1,"div",8),A())}function gK(n,e){if(n&1){let t=xe();T(0,"div",9)(1,"p",10),N(2,"Acc\xE8s refus\xE9"),A(),T(3,"p",11),N(4,"Vous n'avez pas les droits d'administrateur n\xE9cessaires pour acc\xE9der \xE0 cette page."),A(),T(5,"button",12),ne("click",function(){he(t);let i=Z();return pe(i.navigateToHome())}),N(6," Retour \xE0 l'accueil "),A()()}}function vK(n,e){if(n&1){let t=xe();T(0,"div",13)(1,"div",14)(2,"div",15),fe(3,"img",16),A(),T(4,"div",15)(5,"button",17),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.openRoleModal(i))}),N(6),A()()(),T(7,"div",18)(8,"div",19)(9,"p",20),N(10,"ID"),A(),T(11,"span",21),N(12),A()(),T(13,"div",19)(14,"p",20),N(15,"User"),A(),T(16,"span",21),N(17),A()(),T(18,"div",19)(19,"p",20),N(20,"Address "),A(),T(21,"span",21),N(22),A()()(),T(23,"div",22)(24,"div",23)(25,"button",24),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.viewUserProfile(i.id))}),T(26,"span",25),N(27,"visibility"),A()(),T(28,"button",26),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.deleteUser(i.id))}),T(29,"span",25),N(30,"delete"),A()()()()()}if(n&2){let t=e.$implicit;L(3),q("src",(t.userImageUrl==null?null:t.userImageUrl.base64)||(t.userImageUrl==null?null:t.userImageUrl.url)||"assets/images/icons/UserIcon.png",Dt),L(2),q("ngClass",ZA(6,pK,t.role==="admin",t.role==="reader",t.role==="author")),L(),Le("",t.role," "),L(6),Le(" ",t.id,""),L(5),ze(t.userName),L(5),ze(t.email)}}function yK(n,e){if(n&1){let t=xe();T(0,"div",27)(1,"div",28)(2,"h2",29),N(3,"Changer le r\xF4le"),A(),T(4,"p",30),N(5),A(),T(6,"div",31)(7,"button",32),ne("click",function(){he(t);let i=Z();return pe(i.updateRole("reader"))}),N(8," Reader "),A(),T(9,"button",32),ne("click",function(){he(t);let i=Z();return pe(i.updateRole("author"))}),N(10," Author "),A(),T(11,"button",32),ne("click",function(){he(t);let i=Z();return pe(i.updateRole("admin"))}),N(12," Admin "),A()(),T(13,"button",33),ne("click",function(){he(t);let i=Z();return pe(i.closeRoleModal())}),T(14,"span",25),N(15,"close"),A()()()()}if(n&2){let t=Z();L(5),Le("Utilisateur: ",t.selectedUser==null?null:t.selectedUser.userName,""),L(2),Je("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="reader"),L(2),Je("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="author"),L(2),Je("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="admin")}}var _v=class n{usersService=F(qn);router=F(Ve);users=[];isAdmin=!1;loading=!0;errorMessage="";showRoleModal=!1;selectedUser=null;ngOnInit(){this.checkAdminStatus()}checkAdminStatus(){this.usersService.isCurrentUserAdmin().subscribe({next:e=>{this.isAdmin=e,e?this.loadUsers():this.loading=!1},error:e=>{this.isAdmin=!1,this.loading=!1,this.errorMessage="Impossible de v\xE9rifier les droits d'acc\xE8s",console.error("Erreur lors de la v\xE9rification des droits:",e)}})}loadUsers(){this.usersService.getUsers().subscribe({next:e=>{this.users=e,this.loading=!1},error:e=>{this.loading=!1,this.errorMessage="Erreur lors du chargement des utilisateurs",console.error("Erreur lors du chargement des utilisateurs:",e)}})}changeUserRole(e,t){this.loading=!0,this.usersService.changeUserRole(e,t).subscribe({next:()=>{console.log(`R\xF4le de l'utilisateur ${e} chang\xE9 en ${t}`),this.loadUsers()},error:r=>{this.loading=!1,console.error("Erreur lors du changement de r\xF4le:",r),alert(`Erreur: ${r.message}`)}})}deleteUser(e){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet utilisateur ? Cette action est irr\xE9versible.")&&(this.loading=!0,this.usersService.deleteUser(e).subscribe({next:()=>{console.log(`Utilisateur ${e} supprim\xE9`),this.loadUsers()},error:t=>{this.loading=!1,console.error("Erreur lors de la suppression:",t),alert(`Erreur: ${t.message}`)}}))}viewUserProfile(e){this.router.navigate(["/user-profile",e])}navigateToHome(){this.router.navigate(["/home"])}openRoleModal(e){this.selectedUser=e,this.showRoleModal=!0}closeRoleModal(){this.showRoleModal=!1,this.selectedUser=null}updateRole(e){this.selectedUser&&this.selectedUser.id&&(this.loading=!0,this.usersService.changeUserRole(this.selectedUser.id,e).subscribe({next:()=>{console.log(`R\xF4le de l'utilisateur ${this.selectedUser?.id} chang\xE9 en ${e}`),this.selectedUser&&(this.selectedUser.role=e),this.closeRoleModal(),this.loadUsers()},error:t=>{console.error("Erreur lors du changement de r\xF4le:",t),this.errorMessage=`Erreur: ${t.message}`,this.loading=!1}}))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-user-management"]],decls:8,vars:4,consts:[[1,"bg-black","p-4","text-soft-white"],[1,"max-w-4xl","mx-auto"],[1,"font-bold","mb-6","text-apple-green","font-primary"],["class","flex justify-center my-8",4,"ngIf"],["class","bg-red-900/30 p-4 rounded-lg text-center",4,"ngIf"],["class"," border border-gray-500 rounded-lg shadow-lg p-4 flex flex-col m-2",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],[1,"flex","justify-center","my-8"],[1,"animate-spin","rounded-full","h-12","w-12","buser-b-2","buser-apple-green"],[1,"bg-red-900/30","p-4","rounded-lg","text-center"],[1,"text-xl","text-red-400"],[1,"mt-2","text-soft-white"],[1,"mt-4","bg-apple-green","text-black","px-6","py-2","rounded-lg","hover:bg-deep-green","transition-colors",3,"click"],[1,"border","border-gray-500","rounded-lg","shadow-lg","p-4","flex","flex-col","m-2"],[1,"flex","justify-between","items-center","pb-3"],[1,"flex-shrink-0"],["alt","User",1,"w-10","h-10","rounded-full","object-cover",3,"src"],[1,"px-2","py-1","text-xs","rounded-lg","cursor-pointer",3,"click","ngClass"],[1,"flex-1"],[1,"flex","justify-between","items-center"],[1,"text-xs","text-white"],[1,"text-sm","text-gray-500"],[1,"pt-3"],[1,"flex","justify-end","gap-5"],[1,"action-button","text-apple-green","hover:text-deep-green","mr-3","bg","bg-apple-green/10","hover:bg-apple-green/20","px-5","rounded-lg","flex","items-center","justify-center",3,"click"],[1,"material-symbols-outlined"],[1,"action-button","bg-red-400/50","p-1","text-white","px-5","text-xs","rounded-lg","flex","items-center","justify-center",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-dark-gray","rounded-lg","p-6","w-96","relative"],[1,"text-2xl","font-bold","mb-4","text-apple-green","font-primary"],[1,"text-soft-white","mb-4"],[1,"space-y-2"],[1,"w-full","text-left","px-4","py-2","rounded","hover:bg-apple-green","text-soft-white",3,"click"],[1,"absolute","top-2","right-2","text-gray-400","hover:text-white",3,"click"]],template:function(t,r){t&1&&(T(0,"section",0)(1,"div",1)(2,"h1",2),N(3,"Administration des utilisateurs"),A(),se(4,mK,2,0,"div",3)(5,gK,7,0,"div",4)(6,vK,31,10,"div",5),A()(),se(7,yK,16,7,"div",6)),t&2&&(L(4),q("ngIf",r.loading),L(),q("ngIf",!r.loading&&!r.isAdmin),L(),q("ngForOf",r.users),L(),q("ngIf",r.showRoleModal))},dependencies:[et,Ku,Bn,St,Xt,yo],styles:[".role-select[_ngcontent-%COMP%]{background-color:#1e1e1ecc;border-color:#444;transition:border-color .2s ease}.role-select[_ngcontent-%COMP%]:focus{border-color:var(--apple-green);outline:none}.action-button[_ngcontent-%COMP%]{transition:all .2s ease}.action-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]})};var bv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-policy"]],decls:78,vars:0,consts:[[1,"min-h-screen","bg-black","p-4","text-soft-white"],[1,"max-w-4xl","mx-auto","py-8"],[1,"text-3xl","font-bold","mb-8","text-apple-green"],[1,"space-y-12"],["id","confidentialite",1,"scroll-mt-20"],[1,"text-2xl","font-semibold","mb-4","text-apple-green"],[1,"space-y-4","text-gray-300"],[1,"list-disc","pl-6","space-y-2"],["id","regles",1,"scroll-mt-20"],["id","contenu",1,"scroll-mt-20"],["id","moderation",1,"scroll-mt-20"],[1,"mt-12","p-6","bg-gray-700/30","rounded-xl"],[1,"text-xl","font-semibold","mb-4","text-apple-green"],[1,"text-gray-300","mb-4"],["href","mailto:contact@thelastcoders.com",1,"text-apple-green","hover:text-deep-green","transition-colors"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"div",1)(2,"h1",2),N(3,"Politique de Confidentialit\xE9 et R\xE8gles de la Communaut\xE9 "),A(),T(4,"div",3)(5,"section",4)(6,"h2",5),N(7,"Confidentialit\xE9"),A(),T(8,"div",6)(9,"p"),N(10,"Nous nous engageons \xE0 prot\xE9ger votre vie priv\xE9e et vos donn\xE9es personnelles."),A(),T(11,"ul",7)(12,"li"),N(13,"Vos donn\xE9es personnelles ne sont jamais partag\xE9es avec des tiers sans votre consentement "),A(),T(14,"li"),N(15,"Vous pouvez supprimer votre compte et toutes vos donn\xE9es \xE0 tout moment"),A(),T(16,"li"),N(17,"Nous utilisons des cookies essentiels uniquement pour le fonctionnement du site"),A(),T(18,"li"),N(19,"Vos liens partag\xE9s sont visibles uniquement par les membres de la communaut\xE9"),A()()()(),T(20,"section",8)(21,"h2",5),N(22,"R\xE8gles de la Communaut\xE9"),A(),T(23,"div",6)(24,"p"),N(25,"Pour maintenir une communaut\xE9 saine et productive, nous demandons \xE0 tous les membres de respecter ces r\xE8gles :"),A(),T(26,"ul",7)(27,"li"),N(28,"Respect mutuel entre tous les membres"),A(),T(29,"li"),N(30,"Pas de discrimination ou de harc\xE8lement"),A(),T(31,"li"),N(32,"Pas de spam ou de contenu promotionnel non sollicit\xE9"),A(),T(33,"li"),N(34,"Partage de contenu pertinent et de qualit\xE9"),A(),T(35,"li"),N(36,"Respect des droits d'auteur et de la propri\xE9t\xE9 intellectuelle"),A()()()(),T(37,"section",9)(38,"h2",5),N(39,"Directives de Contenu"),A(),T(40,"div",6)(41,"p"),N(42,"Le contenu partag\xE9 doit respecter ces crit\xE8res :"),A(),T(43,"ul",7)(44,"li"),N(45,"Contenu \xE9ducatif et professionnel uniquement"),A(),T(46,"li"),N(47,"Liens vers des ressources fiables et v\xE9rifi\xE9es"),A(),T(48,"li"),N(49,"Descriptions claires et pertinentes"),A(),T(50,"li"),N(51,"Cat\xE9gorisation appropri\xE9e des ressources"),A(),T(52,"li"),N(53,"Pas de contenu ill\xE9gal ou inappropri\xE9"),A()()()(),T(54,"section",10)(55,"h2",5),N(56,"Mod\xE9ration"),A(),T(57,"div",6)(58,"p"),N(59,"Notre \xE9quipe de mod\xE9ration s'engage \xE0 :"),A(),T(60,"ul",7)(61,"li"),N(62,"R\xE9viser r\xE9guli\xE8rement le contenu partag\xE9"),A(),T(63,"li"),N(64,"R\xE9pondre aux signalements dans les 24h"),A(),T(65,"li"),N(66,"Maintenir un environnement s\xFBr et professionnel"),A(),T(67,"li"),N(68,"Sanctionner les violations des r\xE8gles de mani\xE8re \xE9quitable"),A(),T(69,"li"),N(70,"Prot\xE9ger la confidentialit\xE9 des utilisateurs"),A()()()()(),T(71,"div",11)(72,"h3",12),N(73,"Contact"),A(),T(74,"p",13),N(75,"Pour toute question concernant notre politique ou pour signaler un probl\xE8me : "),A(),T(76,"a",14),N(77," contact@thelastcoders.com "),A()()()())},dependencies:[et,Xt],encapsulation:2})};var wK=()=>["/admin/users"],_K=()=>["/home/add"],fL=n=>["/link",n];function bK(n,e){if(n&1){let t=xe();T(0,"label",24)(1,"input",25),ne("change",function(i){he(t);let s=Z();return pe(s.onFileSelected(i))}),A(),T(2,"span",26),N(3,"photo_camera"),A()()}}function EK(n,e){n&1&&(T(0,"div",27)(1,"p"),N(2,"La photo de profil ne peux pas d\xE9passer 80kb"),A()())}function IK(n,e){if(n&1&&(T(0,"h1",28),N(1),A()),n&2){let t=Z();L(),ze(t.user==null?null:t.user.userName)}}function SK(n,e){n&1&&fe(0,"input",29)}function TK(n,e){n&1&&(T(0,"div",30)(1,"div")(2,"label",31),N(3,"Bio"),A(),fe(4,"textarea",32),A(),T(5,"div")(6,"label",33),N(7,"Github"),A(),fe(8,"input",34),A(),T(9,"div")(10,"label",35),N(11,"LinkedIn"),A(),fe(12,"input",36),A(),T(13,"div")(14,"label",37),N(15,"Twitter"),A(),fe(16,"input",38),A()())}function CK(n,e){if(n&1){let t=xe();T(0,"button",39),ne("click",function(){he(t);let i=Z();return pe(i.toggleEdit())}),N(1," Editer profil "),A()}}function DK(n,e){if(n&1){let t=xe();T(0,"div",40)(1,"button",41),ne("click",function(){he(t);let i=Z();return pe(i.toggleEdit())}),N(2," Annuler "),A(),T(3,"button",42),ne("click",function(){he(t);let i=Z();return pe(i.updateProfile())}),N(4," Sauvegarder "),A()()}}function xK(n,e){n&1&&(T(0,"div",43)(1,"a",44),N(2," Administration des utilisateurs "),A()()),n&2&&(L(),q("routerLink",L_(1,wK)))}function AK(n,e){n&1&&(T(0,"div",45),fe(1,"div",46),A())}function MK(n,e){n&1&&(T(0,"div",47)(1,"p",48),N(2,"Aucun lien pour le moment"),A(),T(3,"a",49),N(4," Partager un lien "),A()()),n&2&&(L(3),q("routerLink",L_(1,_K)))}function RK(n,e){if(n&1){let t=xe();T(0,"div",52)(1,"a",53)(2,"div",54),fe(3,"img",55),A(),T(4,"h3",56),N(5),A(),T(6,"div",57)(7,"div",58)(8,"span",59),N(9,"schedule"),A(),N(10),_n(11,"date"),A(),T(12,"button",60),ne("click",function(){let i=he(t).$implicit,s=Z(2);return pe(s.toggleLinkLike(i))}),T(13,"span",61),N(14," favorite "),A(),N(15),A()()()()}if(n&2){let t=e.$implicit,r=Z(2);L(),q("routerLink",Fl(13,fL,t.id)),L(2),q("src",t.imageUrl||"assets/images/default-link.png",Dt)("alt",t.title),L(2),ze(t.title),L(5),Le(" ",fa(11,10,t.createdAt,"d MMM yyyy")," "),L(3),Je("text-apple-green",r.isLinkLikedByCurrentUser(t))("material-symbols-filled",r.isLinkLikedByCurrentUser(t)),L(2),Le(" ",t.likes||0," ")}}function kK(n,e){if(n&1){let t=xe();T(0,"div",52)(1,"a",53)(2,"div",54),fe(3,"img",55),A(),T(4,"h3",56),N(5),A(),T(6,"div",57)(7,"div",3)(8,"span",59),N(9,"schedule"),A(),N(10),_n(11,"date"),A(),T(12,"button",60),ne("click",function(){let i=he(t).$implicit,s=Z(2);return pe(s.toggleLinkLike(i))}),T(13,"span",61),N(14," favorite "),A(),N(15),A()()()()}if(n&2){let t=e.$implicit,r=Z(2);L(),q("routerLink",Fl(13,fL,t.id)),L(2),q("src",t.imageUrl||"assets/images/default-link.png",Dt)("alt",t.title),L(2),ze(t.title),L(5),Le(" ",fa(11,10,t.createdAt,"d MMM yyyy")," "),L(3),Je("text-apple-green",r.isLinkLikedByCurrentUser(t))("material-symbols-filled",r.isLinkLikedByCurrentUser(t)),L(2),Le(" ",t.likes||0," ")}}function PK(n,e){if(n&1&&(T(0,"div",50),se(1,RK,16,15,"div",51)(2,kK,16,15,"div",51),A()),n&2){let t=Z();L(),q("ngForOf",t.userSharedLinks)("ngForTrackBy",t.trackById),L(),q("ngForOf",t.likedLinks)("ngForTrackBy",t.trackById)}}var Sf=class n{router=F(Ve);route=F(Hn);authService=F(nt);usersService=F(qn);linksService=F(Ui);firestorageService=F(jc);fb=F(Er);user=null;profileForm;showNotification=!1;notificationType="success";notificationMessage="";selectedFile=null;imagePreview=null;isEditing=!1;userSharedLinks=[];likedLinks=[];userId="";isLoading=!0;subscriptions=[];canEdit=!1;currentUser=null;constructor(){this.profileForm=this.fb.group({userName:[""],userImageUrl:[""],bio:[""],github:[""],linkedin:[""],twitter:[""]}),Hs(()=>{let e=this.authService.currentUserSignal();e?this.usersService.getUserById(e.id||"").subscribe(t=>{this.currentUser=t}):this.currentUser=null})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id"),t=this.authService.currentUserSignal(),r=this.authService.getCurrentUser();if(!t&&!r){this.router.navigate(["/login"]);return}e?this.userId=e:r&&r.uid?this.userId=r.uid:t&&t.id&&(this.userId=t.id),this.userId?(this.linksService.getLinks().subscribe(i=>{let s=[...new Set(i.map(a=>a.createdBy))],o=i.filter(a=>a.createdBy===this.userId)}),this.loadUserData(),this.loadUserSharedLinks(),this.checkEditPermission()):this.isLoading=!1}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadUserData(){this.usersService.getUserById(this.userId).subscribe({next:e=>{this.user=e,this.user&&this.initForm()},error:e=>{this.router.navigate(["/login"])}})}initForm(){this.profileForm.patchValue({userName:this.user?.userName||"",bio:this.user?.bio||"",github:this.user?.socialLinks?.github||"",linkedin:this.user?.socialLinks?.linkedin||"",twitter:this.user?.socialLinks?.twitter||""})}checkEditPermission(){this.usersService.canModifyUser(this.userId).subscribe({next:e=>{this.canEdit=e},error:e=>{this.canEdit=!1}})}toggleEdit(){if(!this.canEdit){alert("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");return}this.isEditing=!this.isEditing,this.isEditing?this.initForm():(this.initForm(),this.imagePreview=null,this.selectedFile=null)}onFileSelected(e){return P(this,null,function*(){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];if(!r.type.startsWith("image/")||r.size>5*1024*1024)return;this.selectedFile=r;try{let i=yield this.convertToBase64(r);this.imagePreview=i,yield this.usersService.updateUserProfileWithBase64Image(this.userId,{userName:this.user?.userName,email:this.user?.email,role:this.user?.role},i),this.loadUserData(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Photo de profil mise \xE0 jour avec succ\xE8s",setTimeout(()=>this.showNotification=!1,3e3)}catch{}}})}convertToBase64(e){return P(this,null,function*(){return new Promise((t,r)=>{let i=new FileReader;i.onload=s=>{let o=s.target?.result;t(o)},i.onerror=s=>{r(s)},i.readAsDataURL(e)})})}getUserProfileImage(){return this.user?.userImageUrl?.base64?this.user.userImageUrl.base64:this.user?.userImageUrl?.url?this.user.userImageUrl.url:"assets/images/icons/userIcon.png"}updateProfile(){return P(this,null,function*(){if(!this.user||!this.profileForm.valid){this.showNotification=!0,this.notificationType="error",this.notificationMessage="Le formulaire est invalide. Veuillez v\xE9rifier les champs.",setTimeout(()=>this.showNotification=!1,3e3);return}this.isLoading=!0;try{let e={userName:this.profileForm.value.userName,bio:this.profileForm.value.bio,socialLinks:{github:this.profileForm.value.github,linkedin:this.profileForm.value.linkedin,twitter:this.profileForm.value.twitter},userImageUrl:this.user.userImageUrl};yield Uo(this.usersService.updateUserProfile(this.userId,e)),this.user=G(G({},this.user),e),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Profil mis \xE0 jour avec succ\xE8s!",setTimeout(()=>this.showNotification=!1,3e3),this.isEditing=!1,this.loadUserData()}catch{}finally{this.isLoading=!1}})}convertTimestampToDate(e){return e instanceof Date?e:e&&typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3):new Date(e)}loadUserSharedLinks(){if(!this.userId){this.isLoading=!1;return}this.isLoading=!0;let e=this.linksService.getLinks().subscribe({next:t=>{let r=t.map(s=>ce(G({},s),{createdAt:this.convertTimestampToDate(s.createdAt)})),i=r.filter(s=>s.createdBy===this.userId);if(i.length>0)this.userSharedLinks=i;else{let s=this.authService.getCurrentUser();if(s&&s.uid){let o=r.filter(a=>a.createdBy===s.uid);o.length>0?this.userSharedLinks=o:this.userSharedLinks=[]}else this.userSharedLinks=[]}this.isLoading=!1},error:t=>{this.isLoading=!1,this.userSharedLinks=[]}});this.subscriptions.push(e)}trackById(e,t){return t.id||e.toString()}toggleLinkLike(e){return P(this,null,function*(){let t=this.currentUser?.id;if(!(!t||!e.id))try{yield this.linksService.toggleLike(e.id,t);let r=e.likedBy||[],i=r.includes(t);e.likedBy=i?r.filter(s=>s!==t):[...r,t],e.likes=e.likedBy.length}catch{}})}isLinkLikedByCurrentUser(e){return e.likedBy?.includes(this.currentUser?.id||"")||!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-users"]],decls:27,vars:18,consts:[[3,"closed","show","type","message"],[1,"min-h-screen","bg-black","p-4","text-soft-white"],[1,"max-w-2xl","mx-auto","motion-preset-fade","motion-duration-500"],[1,"flex","flex-col","items-center"],[1,"relative","w-32","h-32","mb-4"],["alt","Profile",1,"w-full","h-full","rounded-full","object-cover","bg-soft-white","ring-2","ring-apple-green",3,"src"],["class","absolute bottom-0 right-0 bg-apple-green p-2 rounded-full cursor-pointer hover:bg-deep-green transition-colors shadow-lg",4,"ngIf"],["class","text-xs mb-2 text-red-400/50",4,"ngIf"],[1,"w-full","max-w-md",3,"formGroup"],[1,"mb-4","text-center"],["class","text-2xl font-bold mb-2 text-soft-white",4,"ngIf"],["type","text","formControlName","userName","class","text-2xl font-bold text-center border-b-2 bg-transparent text-soft-white focus:outline-none focus:border-apple-green",4,"ngIf"],[1,"bg-apple-green","text-white","px-3","py-1","rounded-full","text-sm"],[1,"mt-2","font-secondary","text-gray-400"],[1,"text-sm"],["class","space-y-4 mt-6 px-4",4,"ngIf"],["class","mt-4 bg-apple-green text-black px-6 py-1 rounded-3xl font-bold text-xs hover:bg-deep-green transition-colors ",3,"click",4,"ngIf"],["class","flex gap-3 mt-6",4,"ngIf"],["class","mt-4 text-center",4,"ngIf"],[1,"w-full","mb-6","mt-20"],[1,"text-lg","font-semibold","mb-4","text-soft-white","font-secondary"],["class","flex justify-center items-center py-8",4,"ngIf"],["class","text-center py-8 ",4,"ngIf"],["class","grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4",4,"ngIf"],[1,"absolute","bottom-0","right-0","bg-apple-green","p-2","rounded-full","cursor-pointer","hover:bg-deep-green","transition-colors","shadow-lg"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"material-symbols-outlined","text-white"],[1,"text-xs","mb-2","text-red-400/50"],[1,"text-2xl","font-bold","mb-2","text-soft-white"],["type","text","formControlName","userName",1,"text-2xl","font-bold","text-center","border-b-2","bg-transparent","text-soft-white","focus:outline-none","focus:border-apple-green"],[1,"space-y-4","mt-6","px-4"],["for","bio",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","bio","formControlName","bio","rows","3",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","github",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","github","type","text","formControlName","github",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","linkedin",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","linkedin","type","text","formControlName","linkedin",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","twitter",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","twitter","type","text","formControlName","twitter",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],[1,"mt-4","bg-apple-green","text-black","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-deep-green","transition-colors",3,"click"],[1,"flex","gap-3","mt-6"],[1,"bg-gray-700","text-soft-white","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-gray-600","transition-colors",3,"click"],[1,"bg-apple-green","text-black","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-deep-green","transition-colors",3,"click"],[1,"mt-4","text-center"],[1,"text-apple-green","hover:text-deep-green","text-sm",3,"routerLink"],[1,"flex","justify-center","items-center","py-8"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-apple-green"],[1,"text-center","py-8"],[1,"text-gray-400"],[1,"inline-block","mt-4","px-6","py-2","bg-apple-green","text-black","rounded-lg","hover:bg-deep-green","transition-colors",3,"routerLink"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","gap-2","sm:gap-4"],["class","bg-gray-600/50 rounded-lg p-2 sm:p-4 hover:bg-gray-800 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-gray-600/50","rounded-lg","p-2","sm:p-4","hover:bg-gray-800","transition-colors"],[1,"block",3,"routerLink"],[1,"mb-2"],[1,"w-[50px]","h-[50px]","object-cover","rounded-lg",3,"src","alt"],[1,"text-xs","text-apple-green","mb-2"],[1,"flex","items-center","justify-between","text-xs","text-gray-400"],[1,"flex","items-center"],[1,"material-symbols-outlined","text-xs","mr-1"],[1,"flex","items-center","hover:text-apple-green","transition-colors",3,"click"],[1,"material-symbols-outlined","text-sm","mr-1"]],template:function(t,r){t&1&&(T(0,"app-notification",0),ne("closed",function(){return r.showNotification=!1}),A(),T(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),fe(5,"img",5),se(6,bK,4,0,"label",6),A(),se(7,EK,3,0,"div",7),T(8,"form",8)(9,"div",9),se(10,IK,2,1,"h1",10)(11,SK,1,0,"input",11),T(12,"span",12),N(13),A(),T(14,"div",13)(15,"span",14),N(16),A()()(),se(17,TK,17,0,"div",15),A(),se(18,CK,2,0,"button",16)(19,DK,5,0,"div",17)(20,xK,3,2,"div",18),T(21,"div",19)(22,"h2",20),N(23,"Liens"),A(),se(24,AK,2,0,"div",21)(25,MK,5,2,"div",22)(26,PK,3,4,"div",23),A()()()()),t&2&&(q("show",r.showNotification)("type",r.notificationType)("message",r.notificationMessage),L(5),q("src",r.imagePreview||r.getUserProfileImage(),Dt),L(),q("ngIf",r.isEditing),L(),q("ngIf",r.isEditing),L(),q("formGroup",r.profileForm),L(2),q("ngIf",!r.isEditing),L(),q("ngIf",r.isEditing),L(2),ze(r.user==null?null:r.user.role),L(3),Le(" ",r.user==null?null:r.user.bio," "),L(),q("ngIf",r.isEditing),L(),q("ngIf",r.canEdit&&!r.isEditing),L(),q("ngIf",r.isEditing),L(),q("ngIf",r.canEdit&&(r.currentUser==null?null:r.currentUser.role)==="admin"),L(4),q("ngIf",r.isLoading),L(),q("ngIf",!r.isLoading&&(!r.userSharedLinks||r.userSharedLinks.length===0)&&(!r.likedLinks||r.likedLinks.length===0)),L(),q("ngIf",!r.isLoading&&(r.userSharedLinks&&r.userSharedLinks.length>0||r.likedLinks&&r.likedLinks.length>0)))},dependencies:[et,Bn,St,pa,yo,Fi,br,Oi,Li,Ir,Jr,ei,Xt,En,wo],encapsulation:2})};var hL=[{path:"",redirectTo:"login-choice",pathMatch:"full"},{path:"login-choice",component:Yg,canActivate:[Kg]},{path:"login",component:cv,canActivate:[Kg]},{path:"register",component:uv,canActivate:[Kg]},{path:"skills",component:fv,canActivate:[bs]},{path:"users",component:Sf},{path:"user-profile/:id",component:Sf,canActivate:[bs]},{path:"admin/users",component:_v,canActivate:[bs]},{path:"home",component:wv,canActivate:[bs]},{path:"home/add",component:Bc,canActivate:[bs]},{path:"home/:id",component:If,canActivate:[bs]},{path:"link/:id",component:If,canActivate:[bs]},{path:"policy",component:bv,canActivate:[bs]},{path:"**",redirectTo:"login-choice"}];var NK={apiKey:"AIzaSyByaNQzJ1Gsy1W5LaCvuL8UdrctPTOxCls",authDomain:"thelastcoders-a40c9.firebaseapp.com",projectId:"thelastcoders-a40c9",storageBucket:"thelastcoders-a40c9.firebasestorage.app",messagingSenderId:"537287186785",appId:"1:537287186785:web:b4333145d3151c70b98d20",measurementId:"G-31X9TT8LCJ"},pL={providers:[tO(()=>pS()),P0(hL),hR(()=>pR(NK)),wk(()=>Hm()),lL(()=>GS())]};function OK(n,e){if(n&1){let t=xe();T(0,"li")(1,"a",28),ne("click",function(){he(t);let i=Z();return pe(i.toggleMenu())}),N(2),A()()}if(n&2){let t=e.$implicit;L(),q("routerLink",t.route),L(),Le(" ",t.label," ")}}function LK(n,e){if(n&1&&(T(0,"a",29),N(1,"LinkedIn"),A()),n&2){let t=Z();q("href",t.socialLinks.linkedin,Dt)}}function FK(n,e){if(n&1&&(T(0,"a",29),N(1,"Github"),A()),n&2){let t=Z();q("href",t.socialLinks.github,Dt)}}function VK(n,e){if(n&1&&(T(0,"a",29),N(1,"Twitter"),A()),n&2){let t=Z();q("href",t.socialLinks.twitter,Dt)}}var Ev=class n{filterPanel;userService=F(qn);cdr=F(hr);authService=F(nt);router=F(Ve);searchToggle=new Ze;filterChange=new Ze;isMenuOpen=!1;viewModeService=F($c);viewMode$=this.viewModeService.viewMode$;menuItems=[{label:"CARDS",route:"/home"},{label:"POLITIQUE DE CONFIDENTIALIT\xC9",route:"/policy"}];socialLinks={};ngOnInit(){let e=this.authService.getCurrentUser()?.uid;e&&this.userService.getUserById(e).subscribe(t=>{this.socialLinks=t?.socialLinks||{},this.cdr.detectChanges()})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen,this.cdr.detectChanges()}toggleView(){this.viewModeService.toggleViewMode(),this.viewModeService.getCurrentViewMode()==="carousel"&&this.router.navigate(["/home"])}toggleSearch(){this.filterPanel?this.filterPanel.isOpen?this.filterPanel.closeFilters():this.filterPanel.openFilters():this.searchToggle.emit()}onFilterChange(e){this.filterChange.emit(e)}logOut(){this.authService.logOut().subscribe({next:()=>{this.router.navigate(["/login-choice"])},error:e=>{console.error("Erreur lors de la d\xE9connexion:",e)}})}navigateToProfile(){this.router.navigate(["/users"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-nav-bar"]],viewQuery:function(t,r){if(t&1&&Bu(Ya,5),t&2){let i;ca(i=ua())&&(r.filterPanel=i.first)}},outputs:{searchToggle:"searchToggle",filterChange:"filterChange"},decls:38,vars:21,consts:[[1,"fixed","inset-0","z-50","transition-opacity","duration-300","font-primary","font-bold"],[1,"absolute","inset-0","bg-black/50",3,"click"],[1,"fixed","inset-y-0","left-0","w-full","bg-apple-green","transform","transition-transform","duration-300","ease-in-out"],[1,"p-4"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-xl","font-semibold","text-deep-green"],["type","button",1,"text-white","hover:text-gray-300",3,"click"],[1,"material-symbols-outlined"],[1,"w-full"],[1,"space-y-4","grid","place-content-center","h-screen"],[4,"ngFor","ngForOf"],[1,"flex","gap-2"],["target","_blank","class","text-black hover:text-soft-white",3,"href",4,"ngIf"],[1,"border-t","border-apple-green/30","mt-4","pt-20"],[1,"block","py-2","text-black","hover:text-white","rounded-lg","transition-colors","cursor-pointer","text-2xl",3,"click"],[3,"filterChange","close"],[1,"fixed","bottom-0","left-0","right-0"],[1,"max-w-md","mx-auto","px-4"],[1,"flex","justify-between","items-center","py-3"],["type","button",1,"px-6","bg-apple-green","rounded-3xl","shadow","hover:bg-light-green","transition-colors","w-18","h-12",3,"click"],["src","assets/images/icons/burgermenu.png","alt","icon"],[1,"flex","justify-between","gap-2","bg-apple-green","shadow-lg","py-1","px-2","rounded-3xl","max-w-52","max-h-12"],["type","button",1,"py-2","px-4","bg-white/30","rounded-2xl","shadow","hover:bg-light-green","transition-colors",3,"click","title"],[1,"material-symbols-outlined","text-deep-green"],["type","button",1,"transition-colors",3,"click"],["src","assets/images/icons/searchList.png","alt","icon",1,"max-w-3xl"],[1,"block","w-10","h-10","rounded-full","border","border-white","overflow-hidden","hover:ring-2","hover:ring-apple-green","transition-all",3,"click"],["alt","Profile",1,"w-full","h-full","object-cover",3,"src"],[1,"block","py-2","text-black","hover:text-white","rounded-lg","transition-colors","text-6xl",3,"click","routerLink"],["target","_blank",1,"text-black","hover:text-soft-white",3,"href"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"div",1),ne("click",function(){return r.toggleMenu()}),A(),T(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),N(6,"Menu"),A(),T(7,"button",6),ne("click",function(){return r.toggleMenu()}),T(8,"span",7),N(9,"close"),A()()(),T(10,"nav",8)(11,"ul",9),se(12,OK,3,2,"li",10),T(13,"li",11),se(14,LK,2,1,"a",12)(15,FK,2,1,"a",12)(16,VK,2,1,"a",12),A(),T(17,"li",13)(18,"a",14),ne("click",function(){return r.logOut()}),N(19," se d\xE9connecter "),A()()()()()()(),T(20,"app-filter-panel",15),ne("filterChange",function(s){return r.onFilterChange(s)})("close",function(){return r.searchToggle.emit()}),A(),T(21,"nav",16)(22,"div",17)(23,"ul",18)(24,"li")(25,"button",19),ne("click",function(){return r.toggleMenu()}),fe(26,"img",20),A()(),T(27,"li",21)(28,"button",22),_n(29,"async"),ne("click",function(){return r.toggleView()}),T(30,"span",23),N(31),_n(32,"async"),A()(),T(33,"button",24),ne("click",function(){return r.toggleSearch()}),fe(34,"img",25),A()(),T(35,"li")(36,"button",26),ne("click",function(){return r.navigateToProfile()}),fe(37,"img",27),A()()()()()),t&2&&(Je("opacity-0",!r.isMenuOpen)("pointer-events-none",!r.isMenuOpen)("opacity-100",r.isMenuOpen),L(2),Je("-translate-x-full",!r.isMenuOpen)("translate-x-0",r.isMenuOpen),L(10),q("ngForOf",r.menuItems),L(2),q("ngIf",r.socialLinks.linkedin),L(),q("ngIf",r.socialLinks.github),L(),q("ngIf",r.socialLinks.twitter),L(12),N_("title",hi(29,17,r.viewMode$)==="grid"?"Vue carrousel (retour \xE0 l'accueil)":"Vue grille"),L(3),Le(" ",hi(32,19,r.viewMode$)==="grid"?"view_carousel":"grid_view"," "),L(6),q("src",r.userService.getCurrentUserImage(),Dt))},dependencies:[et,Bn,St,ha,Xt,En,Ya],styles:['[_nghost-%COMP%]{display:block;position:relative;z-index:50}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})};var Iv=class n{router=F(Ve);authService=F(nt);initializeNavigation(){return new Promise(e=>{if(this.authService.getCurrentUser()){this.router.navigate(["/home"]),e(!0);return}this.authService.isLoggedIn$.pipe(Rr(1)).subscribe(r=>{r?this.router.navigate(["/home"]):this.router.navigate(["/login-choice"]),e(!0)})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};function UK(n,e){n&1&&fe(0,"app-nav-bar")}var Sv=class n{authService=F(nt);initialNavigationService=F(Iv);title="TheLastCoders";ngOnInit(){this.initialNavigationService.initializeNavigation()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-root"]],decls:5,vars:7,consts:[[4,"ngIf"]],template:function(t,r){t&1&&(T(0,"section"),_n(1,"async"),fe(2,"router-outlet"),se(3,UK,1,0,"app-nav-bar",0),_n(4,"async"),A()),t&2&&(BA(hi(1,3,r.authService.isLoggedIn$)?"min-h-screen bg-black":"min-h-screen color-back"),L(3),q("ngIf",hi(4,5,r.authService.isLoggedIn$)))},dependencies:[et,St,ha,pd,Ev],encapsulation:2})};function mL(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function YS(n,e){n===void 0&&(n={}),e===void 0&&(e={});let t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:mL(e[r])&&mL(n[r])&&Object.keys(e[r]).length>0&&YS(n[r],e[r])})}var gL={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ft(){let n=typeof document<"u"?document:{};return YS(n,gL),n}var jK={document:gL,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Xe(){let n=typeof window<"u"?window:{};return YS(n,jK),n}function Es(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function vL(n){let e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function ji(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Rn(){return Date.now()}function BK(n){let e=Xe(),t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Tf(n,e){e===void 0&&(e="x");let t=Xe(),r,i,s,o=BK(n);return t.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Hc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function $K(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Gn(){let n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){let r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!$K(r)){let i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){let a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(Hc(n[a])&&Hc(r[a])?r[a].__swiper__?n[a]=r[a]:Gn(n[a],r[a]):!Hc(n[a])&&Hc(r[a])?(n[a]={},r[a].__swiper__?n[a]=r[a]:Gn(n[a],r[a])):n[a]=r[a])}}}return n}function Qa(n,e,t){n.style.setProperty(e,t)}function QS(n){let{swiper:e,targetPosition:t,side:r}=n,i=Xe(),s=-e.translate,o=null,a,l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);let c=t>s?"next":"prev",d=(m,g)=>c==="next"&&m>=g||c==="prev"&&m<=g,f=()=>{a=new Date().getTime(),o===null&&(o=a);let m=Math.max(Math.min((a-o)/l,1),0),g=.5-Math.cos(m*Math.PI)/2,h=s+g*(t-s);if(d(h,t)&&(h=t),e.wrapperEl.scrollTo({[r]:h}),d(h,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:h})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function Wn(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function bt(n,e){e===void 0&&(e="");let t=Xe(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(i=>i.matches(e)):r}function HK(n,e){let t=[e];for(;t.length>0;){let r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function yL(n,e){let t=Xe(),r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=HK(n,e))),r}function Cf(n){try{console.warn(n);return}catch{}}function Gt(n,e){e===void 0&&(e=[]);let t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Es(e)),t}function Xa(n){let e=Xe(),t=ft(),r=n.getBoundingClientRect(),i=t.body,s=n.clientTop||i.clientTop||0,o=n.clientLeft||i.clientLeft||0,a=n===e?e.scrollY:n.scrollTop,l=n===e?e.scrollX:n.scrollLeft;return{top:r.top+a-s,left:r.left+l-o}}function wL(n,e){let t=[];for(;n.previousElementSibling;){let r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function _L(n,e){let t=[];for(;n.nextElementSibling;){let r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Is(n,e){return Xe().getComputedStyle(n,null).getPropertyValue(e)}function _o(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function ni(n,e){let t=[],r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function bo(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function Df(n,e,t){let r=Xe();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}function Re(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Eo(n){return e=>Math.abs(e)>0&&n.browser&&n.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}function an(n,e){e===void 0&&(e=""),typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}var XS;function zK(){let n=Xe(),e=ft();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function TL(){return XS||(XS=zK()),XS}var ZS;function qK(n){let{userAgent:e}=n===void 0?{}:n,t=TL(),r=Xe(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/),d=s.match(/(iPad).*OS\s([\d_]+)/),f=s.match(/(iPod)(.*OS\s([\d_]+))?/),m=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=i==="Win32",h=i==="MacIntel",v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&h&&t.touch&&v.indexOf(`${a}x${l}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),h=!1),c&&!g&&(o.os="android",o.android=!0),(d||m||f)&&(o.os="ios",o.ios=!0),o}function CL(n){return n===void 0&&(n={}),ZS||(ZS=qK(n)),ZS}var JS;function GK(){let n=Xe(),e=CL(),t=!1;function r(){let a=n.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){let a=String(n.navigator.userAgent);if(a.includes("Version/")){let[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));t=l<16||l===16&&c<2}}let i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:t||s,needPerspectiveFix:t,need3dFix:o,isWebView:i}}function DL(){return JS||(JS=GK()),JS}function WK(n){let{swiper:e,on:t,emit:r}=n,i=Xe(),s=null,o=null,a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{o=i.requestAnimationFrame(()=>{let{width:m,height:g}=e,h=m,v=g;f.forEach(w=>{let{contentBoxSize:D,contentRect:I,target:E}=w;E&&E!==e.el||(h=I?I.width:(D[0]||D).inlineSize,v=I?I.height:(D[0]||D).blockSize)}),(h!==m||v!==g)&&a()})}),s.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",d)}),t("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",d)})}function KK(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s=[],o=Xe(),a=function(d,f){f===void 0&&(f={});let m=o.MutationObserver||o.WebkitMutationObserver,g=new m(h=>{if(e.__preventObserver__)return;if(h.length===1){i("observerUpdate",h[0]);return}let v=function(){i("observerUpdate",h[0])};o.requestAnimationFrame?o.requestAnimationFrame(v):o.setTimeout(v,0)});g.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(g)},l=()=>{if(e.params.observer){if(e.params.observeParents){let d=ni(e.hostEl);for(let f=0;f<d.length;f+=1)a(d[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var YK={on(n,e,t){let r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;let i=t?"unshift":"push";return n.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(n,e,t){let r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(n,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(n,i,t)},onAny(n,e){let t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;let r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){let t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[r].splice(s,1)})}),t},emit(){let n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),r=n):(e=s[0].events,t=s[0].data,r=s[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(r,t)})}),n}};function QK(){let n=this,e,t,r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Is(r,"padding-left")||0,10)-parseInt(Is(r,"padding-right")||0,10),t=t-parseInt(Is(r,"padding-top")||0,10)-parseInt(Is(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function XK(){let n=this;function e(C,R){return parseFloat(C.getPropertyValue(n.getDirectionLabel(R))||0)}let t=n.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=n,l=n.virtual&&t.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,d=bt(i,`.${n.params.slideClass}, swiper-slide`),f=l?n.virtual.slides.length:d.length,m=[],g=[],h=[],v=t.slidesOffsetBefore;typeof v=="function"&&(v=t.slidesOffsetBefore.call(n));let w=t.slidesOffsetAfter;typeof w=="function"&&(w=t.slidesOffsetAfter.call(n));let D=n.snapGrid.length,I=n.slidesGrid.length,E=t.spaceBetween,O=-v,U=0,j=0;if(typeof s>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*s:typeof E=="string"&&(E=parseFloat(E)),n.virtualSize=-E,d.forEach(C=>{o?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Qa(r,"--swiper-centered-offset-before",""),Qa(r,"--swiper-centered-offset-after",""));let M=t.grid&&t.grid.rows>1&&n.grid;M?n.grid.initSlides(d):n.grid&&n.grid.unsetSlides();let b,_=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(C=>typeof t.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<f;C+=1){b=0;let R;if(d[C]&&(R=d[C]),M&&n.grid.updateSlide(C,R,d),!(d[C]&&Is(R,"display")==="none")){if(t.slidesPerView==="auto"){_&&(d[C].style[n.getDirectionLabel("width")]="");let k=getComputedStyle(R),S=R.style.transform,z=R.style.webkitTransform;if(S&&(R.style.transform="none"),z&&(R.style.webkitTransform="none"),t.roundLengths)b=n.isHorizontal()?Df(R,"width",!0):Df(R,"height",!0);else{let Y=e(k,"width"),J=e(k,"padding-left"),B=e(k,"padding-right"),$=e(k,"margin-left"),te=e(k,"margin-right"),Ie=k.getPropertyValue("box-sizing");if(Ie&&Ie==="border-box")b=Y+$+te;else{let{clientWidth:pt,offsetWidth:ot}=R;b=Y+J+B+$+te+(ot-pt)}}S&&(R.style.transform=S),z&&(R.style.webkitTransform=z),t.roundLengths&&(b=Math.floor(b))}else b=(s-(t.slidesPerView-1)*E)/t.slidesPerView,t.roundLengths&&(b=Math.floor(b)),d[C]&&(d[C].style[n.getDirectionLabel("width")]=`${b}px`);d[C]&&(d[C].swiperSlideSize=b),h.push(b),t.centeredSlides?(O=O+b/2+U/2+E,U===0&&C!==0&&(O=O-s/2-E),C===0&&(O=O-s/2-E),Math.abs(O)<1/1e3&&(O=0),t.roundLengths&&(O=Math.floor(O)),j%t.slidesPerGroup===0&&m.push(O),g.push(O)):(t.roundLengths&&(O=Math.floor(O)),(j-Math.min(n.params.slidesPerGroupSkip,j))%n.params.slidesPerGroup===0&&m.push(O),g.push(O),O=O+b+E),n.virtualSize+=b+E,U=b,j+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+w,o&&a&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+E}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+E}px`),M&&n.grid.updateWrapperSize(b,m),!t.centeredSlides){let C=[];for(let R=0;R<m.length;R+=1){let k=m[R];t.roundLengths&&(k=Math.floor(k)),m[R]<=n.virtualSize-s&&C.push(k)}m=C,Math.floor(n.virtualSize-s)-Math.floor(m[m.length-1])>1&&m.push(n.virtualSize-s)}if(l&&t.loop){let C=h[0]+E;if(t.slidesPerGroup>1){let R=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),k=C*t.slidesPerGroup;for(let S=0;S<R;S+=1)m.push(m[m.length-1]+k)}for(let R=0;R<n.virtual.slidesBefore+n.virtual.slidesAfter;R+=1)t.slidesPerGroup===1&&m.push(m[m.length-1]+C),g.push(g[g.length-1]+C),n.virtualSize+=C}if(m.length===0&&(m=[0]),E!==0){let C=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");d.filter((R,k)=>!t.cssMode||t.loop?!0:k!==d.length-1).forEach(R=>{R.style[C]=`${E}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let C=0;h.forEach(k=>{C+=k+(E||0)}),C-=E;let R=C>s?C-s:0;m=m.map(k=>k<=0?-v:k>R?R+w:k)}if(t.centerInsufficientSlides){let C=0;h.forEach(k=>{C+=k+(E||0)}),C-=E;let R=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(C+R<s){let k=(s-C-R)/2;m.forEach((S,z)=>{m[z]=S-k}),g.forEach((S,z)=>{g[z]=S+k})}}if(Object.assign(n,{slides:d,snapGrid:m,slidesGrid:g,slidesSizesGrid:h}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Qa(r,"--swiper-centered-offset-before",`${-m[0]}px`),Qa(r,"--swiper-centered-offset-after",`${n.size/2-h[h.length-1]/2}px`);let C=-n.snapGrid[0],R=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(k=>k+C),n.slidesGrid=n.slidesGrid.map(k=>k+R)}if(f!==c&&n.emit("slidesLengthChange"),m.length!==D&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),g.length!==I&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!l&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){let C=`${t.containerModifierClass}backface-hidden`,R=n.el.classList.contains(C);f<=t.maxBackfaceHiddenSlides?R||n.el.classList.add(C):R&&n.el.classList.remove(C)}}function ZK(n){let e=this,t=[],r=e.virtual&&e.params.virtual.enabled,i=0,s;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);let o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){let a=e.activeIndex+s;if(a>e.slides.length&&!r)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){let a=t[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function JK(){let n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}var bL=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function eY(n){n===void 0&&(n=this&&this.translate||0);let e=this,t=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-n;i&&(o=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){let c=r[l],d=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(d-=r[0].swiperSlideOffset);let f=(o+(t.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),m=(o-s[0]+(t.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),g=-(o-d),h=g+e.slidesSizesGrid[l],v=g>=0&&g<=e.size-e.slidesSizesGrid[l],w=g>=0&&g<e.size-1||h>1&&h<=e.size||g<=0&&h>=e.size;w&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),bL(c,w,t.slideVisibleClass),bL(c,v,t.slideFullyVisibleClass),c.progress=i?-f:f,c.originalProgress=i?-m:m}}function tY(n){let e=this;if(typeof n>"u"){let d=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*d||0}let t=e.params,r=e.maxTranslate()-e.minTranslate(),{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e,l=s,c=o;if(r===0)i=0,s=!0,o=!0;else{i=(n-e.minTranslate())/r;let d=Math.abs(n-e.minTranslate())<1,f=Math.abs(n-e.maxTranslate())<1;s=d||i<=0,o=f||i>=1,d&&(i=0),f&&(i=1)}if(t.loop){let d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),m=e.slidesGrid[d],g=e.slidesGrid[f],h=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(n);v>=m?a=(v-m)/h:a=(v+h-g)/h,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}var eT=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function nY(){let n=this,{slides:e,params:t,slidesEl:r,activeIndex:i}=n,s=n.virtual&&t.virtual.enabled,o=n.grid&&t.grid&&t.grid.rows>1,a=f=>bt(r,`.${t.slideClass}${f}, swiper-slide${f}`)[0],l,c,d;if(s)if(t.loop){let f=i-n.virtual.slidesBefore;f<0&&(f=n.virtual.slides.length+f),f>=n.virtual.slides.length&&(f-=n.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(f=>f.column===i),d=e.find(f=>f.column===i+1),c=e.find(f=>f.column===i-1)):l=e[i];l&&(o||(d=_L(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!d&&(d=e[0]),c=wL(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{eT(f,f===l,t.slideActiveClass),eT(f,f===d,t.slideNextClass),eT(f,f===c,t.slidePrevClass)}),n.emitSlidesClasses()}var Tv=(n,e)=>{if(!n||n.destroyed||!n.params)return;let t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let i=r.querySelector(`.${n.params.lazyPreloaderClass}`);!i&&n.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},tT=(n,e)=>{if(!n.slides[e])return;let t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},iT=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext,t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);let r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),i=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){let o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+r+c)),n.slides.forEach((l,c)=>{a.includes(l.column)&&tT(n,c)});return}let s=i+r-1;if(n.params.rewind||n.params.loop)for(let o=i-e;o<=s+e;o+=1){let a=(o%t+t)%t;(a<i||a>s)&&tT(n,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,t-1);o+=1)o!==i&&(o>s||o<i)&&tT(n,o)};function rY(n){let{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate,i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return t.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function iY(n){let e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e,l=n,c,d=g=>{let h=g-e.virtual.slidesBefore;return h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),h};if(typeof l>"u"&&(l=rY(e)),r.indexOf(t)>=0)c=r.indexOf(t);else{let g=Math.min(i.slidesPerGroupSkip,l);c=g+Math.floor((l-g)/i.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}let f=e.grid&&i.grid&&i.grid.rows>1,m;if(e.virtual&&i.virtual.enabled&&i.loop)m=d(l);else if(f){let g=e.slides.find(v=>v.column===l),h=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(h)&&(h=Math.max(e.slides.indexOf(g),0)),m=Math.floor(h/i.grid.rows)}else if(e.slides[l]){let g=e.slides[l].getAttribute("data-swiper-slide-index");g?m=parseInt(g,10):m=l}else m=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:m,previousIndex:s,activeIndex:l}),e.initialized&&iT(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==m&&e.emit("realIndexChange"),e.emit("slideChange"))}function sY(n,e){let t=this,r=t.params,i=n.closest(`.${r.slideClass}, swiper-slide`);!i&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===i){s=!0,o=a;break}}if(i&&s)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var oY={updateSize:QK,updateSlides:XK,updateAutoHeight:ZK,updateSlidesOffset:JK,updateSlidesProgress:eY,updateProgress:tY,updateSlidesClasses:nY,updateActiveIndex:iY,updateClickedSlide:sY};function aY(n){n===void 0&&(n=this.isHorizontal()?"x":"y");let e=this,{params:t,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(t.virtualTranslate)return r?-i:i;if(t.cssMode)return i;let o=Tf(s,n);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function lY(n,e){let t=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=t,a=0,l=0,c=0;t.isHorizontal()?a=r?-n:n:l=n,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:l,i.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-l:i.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let d,f=t.maxTranslate()-t.minTranslate();f===0?d=0:d=(n-t.minTranslate())/f,d!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function cY(){return-this.snapGrid[0]}function uY(){return-this.snapGrid[this.snapGrid.length-1]}function dY(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);let s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;let l=s.minTranslate(),c=s.maxTranslate(),d;if(r&&n>l?d=l:r&&n<c?d=c:d=n,s.updateProgress(d),o.cssMode){let f=s.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return QS({swiper:s,targetPosition:-d,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(d),t&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(d),t&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(m){!s||s.destroyed||m.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var fY={getTranslate:aY,setTranslate:lY,minTranslate:cY,maxTranslate:uY,translateTo:dY};function hY(n,e){let t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function xL(n){let{swiper:e,runCallbacks:t,direction:r,step:i}=n,{activeIndex:s,previousIndex:o}=e,a=r;a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),t&&a==="reset"?e.emit(`slideResetTransition${i}`):t&&s!==o&&(e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function pY(n,e){n===void 0&&(n=!0);let t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),xL({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function mY(n,e){n===void 0&&(n=!0);let t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),xL({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var gY={setTransition:hY,transitionStart:pY,transitionEnd:mY};function vY(n,e,t,r,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));let s=this,o=n;o<0&&(o=0);let{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:m,wrapperEl:g,enabled:h}=s;if(!h&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);let v=Math.min(s.params.slidesPerGroupSkip,o),w=v+Math.floor((o-v)/s.params.slidesPerGroup);w>=l.length&&(w=l.length-1);let D=-l[w];if(a.normalizeSlideIndex)for(let M=0;M<c.length;M+=1){let b=-Math.floor(D*100),_=Math.floor(c[M]*100),C=Math.floor(c[M+1]*100);typeof c[M+1]<"u"?b>=_&&b<C-(C-_)/2?o=M:b>=_&&b<C&&(o=M+1):b>=_&&(o=M)}if(s.initialized&&o!==f&&(!s.allowSlideNext&&(m?D>s.translate&&D>s.minTranslate():D<s.translate&&D<s.minTranslate())||!s.allowSlidePrev&&D>s.translate&&D>s.maxTranslate()&&(f||0)!==o))return!1;o!==(d||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(D);let I;o>f?I="next":o<f?I="prev":I="reset";let E=s.virtual&&s.params.virtual.enabled;if(!(E&&i)&&(m&&-D===s.translate||!m&&D===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(D),I!=="reset"&&(s.transitionStart(t,I),s.transitionEnd(t,I)),!1;if(a.cssMode){let M=s.isHorizontal(),b=m?D:-D;if(e===0)E&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),E&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[M?"scrollLeft":"scrollTop"]=b})):g[M?"scrollLeft":"scrollTop"]=b,E&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return QS({swiper:s,targetPosition:b,side:M?"left":"top"}),!0;g.scrollTo({[M?"left":"top"]:b,behavior:"smooth"})}return!0}let j=DL().isSafari;return E&&!i&&j&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(D),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(t,I),e===0?s.transitionEnd(t,I):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(b){!s||s.destroyed||b.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,I))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function yY(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));let i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);let s=i.grid&&i.params.grid&&i.params.grid.rows>1,o=n;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){let m=o*i.params.grid.rows;a=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===m).column}else a=i.getSlideIndexByData(o);let l=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params,d=i.params.slidesPerView;d==="auto"?d=i.slidesPerViewDynamic():(d=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=l-a<d;if(c&&(f=f||a<Math.ceil(d/2)),r&&c&&i.params.slidesPerView!=="auto"&&!s&&(f=!1),f){let m=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?a+1:a-l+1,slideRealIndex:m==="next"?i.realIndex:void 0})}if(s){let m=o*i.params.grid.rows;o=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===m).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,t,r)}),i}function wY(n,e,t){e===void 0&&(e=!0);let r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));let l=r.activeIndex<s.slidesPerGroupSkip?1:a,c=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,n,e,t)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+l,n,e,t)}function _Y(n,e,t){e===void 0&&(e=!0);let r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!d&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}let f=a?r.translate:-r.translate;function m(I){return I<0?-Math.floor(Math.abs(I)):Math.floor(I)}let g=m(f),h=s.map(I=>m(I)),v=i.freeMode&&i.freeMode.enabled,w=s[h.indexOf(g)-1];if(typeof w>"u"&&(i.cssMode||v)){let I;s.forEach((E,O)=>{g>=E&&(I=O)}),typeof I<"u"&&(w=v?s[I]:s[I>0?I-1:I])}let D=0;if(typeof w<"u"&&(D=o.indexOf(w),D<0&&(D=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(D=D-r.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),i.rewind&&r.isBeginning){let I=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(I,n,e,t)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(D,n,e,t)}),!0;return r.slideTo(D,n,e,t)}function bY(n,e,t){e===void 0&&(e=!0);let r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function EY(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);let i=this;if(i.destroyed)return;typeof n>"u"&&(n=i.params.speed);let s=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){let c=i.snapGrid[a],d=i.snapGrid[a+1];l-c>(d-c)*r&&(s+=i.params.slidesPerGroup)}else{let c=i.snapGrid[a-1],d=i.snapGrid[a];l-c<=(d-c)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,n,e,t)}function IY(){let n=this;if(n.destroyed)return;let{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView,i=n.getSlideIndexWhenGrid(n.clickedIndex),s,o=n.isElement?"swiper-slide":`.${e.slideClass}`,a=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(s):i>(a?(n.slides.length-r)/2-(n.params.grid.rows-1):n.slides.length-r)?(n.loopFix(),i=n.getSlideIndex(bt(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),ji(()=>{n.slideTo(i)})):n.slideTo(i)}else n.slideTo(i)}var SY={slideTo:vY,slideToLoop:yY,slideNext:wY,slidePrev:_Y,slideReset:bY,slideToClosest:EY,slideToClickedSlide:IY};function TY(n,e){let t=this,{params:r,slidesEl:i}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;let s=()=>{bt(i,`.${r.slideClass}, swiper-slide`).forEach((g,h)=>{g.setAttribute("data-swiper-slide-index",h)})},o=()=>{let m=bt(i,`.${r.slideBlankClass}`);m.forEach(g=>{g.remove()}),m.length>0&&(t.recalcSlides(),t.updateSlides())},a=t.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&o();let l=r.slidesPerGroup*(a?r.grid.rows:1),c=t.slides.length%l!==0,d=a&&t.slides.length%r.grid.rows!==0,f=m=>{for(let g=0;g<m;g+=1){let h=t.isElement?Gt("swiper-slide",[r.slideBlankClass]):Gt("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(h)}};if(c){if(r.loopAddBlankSlides){let m=l-t.slides.length%l;f(m),t.recalcSlides(),t.updateSlides()}else Cf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(d){if(r.loopAddBlankSlides){let m=r.grid.rows-t.slides.length%r.grid.rows;f(m),t.recalcSlides(),t.updateSlides()}else Cf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function CY(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=n===void 0?{}:n,c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");let{slides:d,allowSlidePrev:f,allowSlideNext:m,slidesEl:g,params:h}=c,{centeredSlides:v,initialSlide:w}=h;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&h.virtual.enabled){t&&(!h.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):h.centeredSlides&&c.snapIndex<h.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=m,c.emit("loopFix");return}let D=h.slidesPerView;D==="auto"?D=c.slidesPerViewDynamic():(D=Math.ceil(parseFloat(h.slidesPerView,10)),v&&D%2===0&&(D=D+1));let I=h.slidesPerGroupAuto?D:h.slidesPerGroup,E=v?Math.max(I,Math.ceil(D/2)):I;E%I!==0&&(E+=I-E%I),E+=h.loopAdditionalSlides,c.loopedSlides=E;let O=c.grid&&h.grid&&h.grid.rows>1;d.length<D+E||c.params.effect==="cards"&&d.length<D+E*2?Cf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):O&&h.grid.fill==="row"&&Cf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let U=[],j=[],M=O?Math.ceil(d.length/h.grid.rows):d.length,b=o&&M-w<D&&!v,_=b?w:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(d.find(J=>J.classList.contains(h.slideActiveClass))):_=s;let C=r==="next"||!r,R=r==="prev"||!r,k=0,S=0,Y=(O?d[s].column:s)+(v&&typeof i>"u"?-D/2+.5:0);if(Y<E){k=Math.max(E-Y,I);for(let J=0;J<E-Y;J+=1){let B=J-Math.floor(J/M)*M;if(O){let $=M-B-1;for(let te=d.length-1;te>=0;te-=1)d[te].column===$&&U.push(te)}else U.push(M-B-1)}}else if(Y+D>M-E){S=Math.max(Y-(M-E*2),I),b&&(S=Math.max(S,D-M+w+1));for(let J=0;J<S;J+=1){let B=J-Math.floor(J/M)*M;O?d.forEach(($,te)=>{$.column===B&&j.push(te)}):j.push(B)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&d.length<D+E*2&&(j.includes(s)&&j.splice(j.indexOf(s),1),U.includes(s)&&U.splice(U.indexOf(s),1)),R&&U.forEach(J=>{d[J].swiperLoopMoveDOM=!0,g.prepend(d[J]),d[J].swiperLoopMoveDOM=!1}),C&&j.forEach(J=>{d[J].swiperLoopMoveDOM=!0,g.append(d[J]),d[J].swiperLoopMoveDOM=!1}),c.recalcSlides(),h.slidesPerView==="auto"?c.updateSlides():O&&(U.length>0&&R||j.length>0&&C)&&c.slides.forEach((J,B)=>{c.grid.updateSlide(B,J,c.slides)}),h.watchSlidesProgress&&c.updateSlidesOffset(),t){if(U.length>0&&R){if(typeof e>"u"){let J=c.slidesGrid[_],$=c.slidesGrid[_+k]-J;l?c.setTranslate(c.translate-$):(c.slideTo(_+Math.ceil(k),0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-$,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-$))}else if(i){let J=O?U.length/h.grid.rows:U.length;c.slideTo(c.activeIndex+J,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(j.length>0&&C)if(typeof e>"u"){let J=c.slidesGrid[_],$=c.slidesGrid[_-S]-J;l?c.setTranslate(c.translate-$):(c.slideTo(_-S,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-$,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-$))}else{let J=O?j.length/h.grid.rows:j.length;c.slideTo(c.activeIndex-J,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=m,c.controller&&c.controller.control&&!a){let J={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(B=>{!B.destroyed&&B.params.loop&&B.loopFix(ce(G({},J),{slideTo:B.params.slidesPerView===h.slidesPerView?t:!1}))}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix(ce(G({},J),{slideTo:c.controller.control.params.slidesPerView===h.slidesPerView?t:!1}))}c.emit("loopFix")}function DY(){let n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();let r=[];n.slides.forEach(i=>{let s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),n.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{t.append(i)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var xY={loopCreate:TY,loopFix:CY,loopDestroy:DY};function AY(n){let e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function MY(){let n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var RY={setGrabCursor:AY,unsetGrabCursor:MY};function kY(n,e){e===void 0&&(e=this);function t(r){if(!r||r===ft()||r===Xe())return null;r.assignedSlot&&(r=r.assignedSlot);let i=r.closest(n);return!i&&!r.getRootNode?null:i||t(r.getRootNode().host)}return t(e)}function EL(n,e,t){let r=Xe(),{params:i}=n,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(t<=o||t>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function PY(n){let e=this,t=ft(),r=n;r.originalEvent&&(r=r.originalEvent);let i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){EL(e,r,r.targetTouches[0].pageX);return}let{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!yL(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;let c=!!s.noSwipingClass&&s.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&d&&(l=d[0]);let f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,m=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(m?kY(f,l):l.closest(f))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;let g=o.currentX,h=o.currentY;if(!EL(e,r,g))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=h,i.touchStartTime=Rn(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let v=!0;l.matches(i.focusableElements)&&(v=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&t.activeElement.blur();let w=v&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function NY(n){let e=ft(),t=this,r=t.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=t;if(!a||!i.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(j=>j.identifier===r.touchId),!c||c.identifier!==r.touchId)return}else c=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",l);return}let d=c.pageX,f=c.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=f;return}if(!t.allowTouchMove){l.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=Rn());return}if(i.touchReleaseOnEdges&&!i.loop)if(t.isVertical()){if(f<s.startY&&t.translate<=t.maxTranslate()||f>s.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(d>s.startX&&-t.translate<=t.maxTranslate()||d<s.startX&&-t.translate>=t.minTranslate()))return;if(!o&&(d<s.startX&&t.translate<=t.maxTranslate()||d>s.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=f;let m=s.currentX-s.startX,g=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(m**2+g**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let j;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:m*m+g*g>=25&&(j=Math.atan2(Math.abs(g),Math.abs(m))*180/Math.PI,r.isScrolling=t.isHorizontal()?j>i.touchAngle:90-j>i.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let h=t.isHorizontal()?m:g,v=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(h=Math.abs(h)*(o?1:-1),v=Math.abs(v)*(o?1:-1)),s.diff=h,h*=i.touchRatio,o&&(h=-h,v=-v);let w=t.touchesDirection;t.swipeDirection=h>0?"prev":"next",t.touchesDirection=v>0?"prev":"next";let D=t.params.loop&&!i.cssMode,I=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(D&&I&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){let j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(j)}r.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let E;if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&w!==t.touchesDirection&&D&&I&&Math.abs(h)>=1){Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=h+r.startTranslate;let O=!0,U=i.resistanceRatio;if(i.touchReleaseOnEdges&&(U=0),h>0?(D&&I&&!E&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(O=!1,i.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+h)**U))):h<0&&(D&&I&&!E&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(i.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(O=!1,i.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-h)**U))),O&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(h)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function OY(n){let e=this,t=e.touchEventsData,r=n;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(U=>U.identifier===t.touchId),!i||i.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;let{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&o.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}o.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let f=Rn(),m=f-t.touchStartTime;if(e.allowClick){let U=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(U&&U[0]||r.target,U),e.emit("tap click",r),m<300&&f-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Rn(),ji(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||a.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let g;if(o.followFinger?g=l?e.translate:-e.translate:g=-t.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}let h=g>=-e.maxTranslate()&&!e.params.loop,v=0,w=e.slidesSizesGrid[0];for(let U=0;U<c.length;U+=U<o.slidesPerGroupSkip?1:o.slidesPerGroup){let j=U<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[U+j]<"u"?(h||g>=c[U]&&g<c[U+j])&&(v=U,w=c[U+j]-c[U]):(h||g>=c[U])&&(v=U,w=c[c.length-1]-c[c.length-2])}let D=null,I=null;o.rewind&&(e.isBeginning?I=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(D=0));let E=(g-c[v])/w,O=v<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(m>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?D:v+O):e.slideTo(v)),e.swipeDirection==="prev"&&(E>1-o.longSwipesRatio?e.slideTo(v+O):I!==null&&E<0&&Math.abs(E)>o.longSwipesRatio?e.slideTo(I):e.slideTo(v))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(v+O):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(D!==null?D:v+O),e.swipeDirection==="prev"&&e.slideTo(I!==null?I:v))}}function IL(){let n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();let{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();let a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!a?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=i,n.allowSlideNext=r,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function LY(n){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function FY(){let n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let i,s=n.maxTranslate()-n.minTranslate();s===0?i=0:i=(n.translate-n.minTranslate())/s,i!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function VY(n){let e=this;Tv(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function UY(){let n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}var AL=(n,e)=>{let t=ft(),{params:r,el:i,wrapperEl:s,device:o}=n,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(t[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",n.onTouchStart,{passive:!1}),i[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("touchmove",n.onTouchMove,{passive:!1,capture:a}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),t[l]("touchend",n.onTouchEnd,{passive:!0}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("touchcancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",n.onClick,!0),r.cssMode&&s[l]("scroll",n.onScroll),r.updateOnWindowResize?n[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",IL,!0):n[c]("observerUpdate",IL,!0),i[l]("load",n.onLoad,{capture:!0}))};function jY(){let n=this,{params:e}=n;n.onTouchStart=PY.bind(n),n.onTouchMove=NY.bind(n),n.onTouchEnd=OY.bind(n),n.onDocumentTouchStart=UY.bind(n),e.cssMode&&(n.onScroll=FY.bind(n)),n.onClick=LY.bind(n),n.onLoad=VY.bind(n),AL(n,"on")}function BY(){AL(this,"off")}var $Y={attachEvents:jY,detachEvents:BY},SL=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function HY(){let n=this,{realIndex:e,initialized:t,params:r,el:i}=n,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;let o=ft(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:o.querySelector(r.breakpointsBase),c=n.getBreakpoint(s,a,l);if(!c||n.currentBreakpoint===c)return;let f=(c in s?s[c]:void 0)||n.originalParams,m=SL(n,r),g=SL(n,f),h=n.params.grabCursor,v=f.grabCursor,w=r.enabled;m&&!g?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!m&&g&&(i.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),h&&!v?n.unsetGrabCursor():!h&&v&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(j=>{if(typeof f[j]>"u")return;let M=r[j]&&r[j].enabled,b=f[j]&&f[j].enabled;M&&!b&&n[j].disable(),!M&&b&&n[j].enable()});let D=f.direction&&f.direction!==r.direction,I=r.loop&&(f.slidesPerView!==r.slidesPerView||D),E=r.loop;D&&t&&n.changeDirection(),Gn(n.params,f);let O=n.params.enabled,U=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),w&&!O?n.disable():!w&&O&&n.enable(),n.currentBreakpoint=c,n.emit("_beforeBreakpoint",f),t&&(I?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!E&&U?(n.loopCreate(e),n.updateSlides()):E&&!U&&n.loopDestroy()),n.emit("breakpoint",f)}function zY(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1,i=Xe(),s=e==="window"?i.innerHeight:t.clientHeight,o=Object.keys(n).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){let l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){let{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=t.clientWidth&&(r=l)}return r||"max"}var qY={setBreakpoint:HY,getBreakpoint:zY};function GY(n,e){let t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&t.push(e+i)}):typeof r=="string"&&t.push(e+r)}),t}function WY(){let n=this,{classNames:e,params:t,rtl:r,el:i,device:s}=n,o=GY(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),i.classList.add(...e),n.emitContainerClasses()}function KY(){let n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var YY={addClasses:WY,removeClasses:KY};function QY(){let n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){let i=n.slides.length-1,s=n.slidesGrid[i]+n.slidesSizesGrid[i]+r*2;n.isLocked=n.size>s}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var XY={checkOverflow:QY},Cv={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ZY(n,e){return function(r){r===void 0&&(r={});let i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Gn(e,r);return}if(n[i]===!0&&(n[i]={enabled:!0}),i==="navigation"&&n[i]&&n[i].enabled&&!n[i].prevEl&&!n[i].nextEl&&(n[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&n[i]&&n[i].enabled&&!n[i].el&&(n[i].auto=!0),!(i in n&&"enabled"in s)){Gn(e,r);return}typeof n[i]=="object"&&!("enabled"in n[i])&&(n[i].enabled=!0),n[i]||(n[i]={enabled:!1}),Gn(e,r)}}var nT={eventsEmitter:YK,update:oY,translate:fY,transition:gY,slide:SY,loop:xY,grabCursor:RY,events:$Y,breakpoints:qY,checkOverflow:XY,classes:YY},rT={},Io=class n{constructor(){let e,t;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=Gn({},t),e&&!t.el&&(t.el=e);let o=ft();if(t.el&&typeof t.el=="string"&&o.querySelectorAll(t.el).length>1){let d=[];return o.querySelectorAll(t.el).forEach(f=>{let m=Gn({},t,{el:f});d.push(new n(m))}),d}let a=this;a.__swiper__=!0,a.support=TL(),a.device=CL({userAgent:t.userAgent}),a.browser=DL(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);let l={};a.modules.forEach(d=>{d({params:t,swiper:a,extendParams:ZY(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});let c=Gn({},Cv,l);return a.params=Gn({},c,rT,t),a.originalParams=Gn({},a.params),a.passedParams=Gn({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){let{slidesEl:t,params:r}=this,i=bt(t,`.${r.slideClass}, swiper-slide`),s=_o(i[0]);return _o(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){let e=this,{slidesEl:t,params:r}=e;e.slides=bt(t,`.${r.slideClass}, swiper-slide`)}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){let r=this;e=Math.min(Math.max(e,0),1);let i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){let t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=[];e.slides.forEach(r=>{let i=e.getSlideClasses(r);t.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);let r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=r,d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=s[c]?Math.ceil(s[c].swiperSlideSize):0,m;for(let g=c+1;g<s.length;g+=1)s[g]&&!m&&(f+=Math.ceil(s[g].swiperSlideSize),d+=1,f>l&&(m=!0));for(let g=c-1;g>=0;g-=1)s[g]&&!m&&(f+=s[g].swiperSlideSize,d+=1,f>l&&(m=!0))}else if(e==="current")for(let f=c+1;f<s.length;f+=1)(t?o[f]+a[f]-o[c]<l:o[f]-o[c]<l)&&(d+=1);else for(let f=c-1;f>=0;f-=1)o[c]-o[f]<l&&(d+=1);return d}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Tv(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){let o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){let o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);let r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){let t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){let t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);let i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`,o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):bt(r,i())[0];return!o&&t.params.createElements&&(o=Gt("div",t.params.wrapperClass),r.append(o),bt(r,`.${t.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(t,{el:r,wrapperEl:o,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Is(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Is(r,"direction")==="rtl"),wrongRTL:Is(o,"display")==="-webkit-box"}),!0}init(e){let t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();let i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Tv(t,s):s.addEventListener("load",o=>{Tv(t,o.target)})}),iT(t),t.initialized=!0,iT(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);let r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),vL(r)),r.destroyed=!0),null}static extendDefaults(e){Gn(rT,e)}static get extendedDefaults(){return rT}static get defaults(){return Cv}static installModule(e){n.prototype.__modules__||(n.prototype.__modules__=[]);let t=n.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>n.installModule(t)),n):(n.installModule(e),n)}};Object.keys(nT).forEach(n=>{Object.keys(nT[n]).forEach(e=>{Io.prototype[e]=nT[n][e]})});Io.use([WK,KK]);function ML(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let s,o=ft();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};let a=o.createElement("div");function l(h,v){let w=e.params.virtual;if(w.cache&&e.virtual.cache[v])return e.virtual.cache[v];let D;return w.renderSlide?(D=w.renderSlide.call(e,h,v),typeof D=="string"&&(an(a,D),D=a.children[0])):e.isElement?D=Gt("swiper-slide"):D=Gt("div",e.params.slideClass),D.setAttribute("data-swiper-slide-index",v),w.renderSlide||an(D,h),w.cache&&(e.virtual.cache[v]=D),D}function c(h,v,w){let{slidesPerView:D,slidesPerGroup:I,centeredSlides:E,loop:O,initialSlide:U}=e.params;if(v&&!O&&U>0)return;let{addSlidesBefore:j,addSlidesAfter:M}=e.params.virtual,{from:b,to:_,slides:C,slidesGrid:R,offset:k}=e.virtual;e.params.cssMode||e.updateActiveIndex();let S=typeof w>"u"?e.activeIndex||0:w,z;e.rtlTranslate?z="right":z=e.isHorizontal()?"left":"top";let Y,J;E?(Y=Math.floor(D/2)+I+M,J=Math.floor(D/2)+I+j):(Y=D+(I-1)+M,J=(O?D:I)+j);let B=S-J,$=S+Y;O||(B=Math.max(B,0),$=Math.min($,C.length-1));let te=(e.slidesGrid[B]||0)-(e.slidesGrid[0]||0);O&&S>=J?(B-=J,E||(te+=e.slidesGrid[0])):O&&S<J&&(B=-J,E&&(te+=e.slidesGrid[0])),Object.assign(e.virtual,{from:B,to:$,offset:te,slidesGrid:e.slidesGrid,slidesBefore:J,slidesAfter:Y});function Ie(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i("virtualUpdate")}if(b===B&&_===$&&!h){e.slidesGrid!==R&&te!==k&&e.slides.forEach(K=>{K.style[z]=`${te-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),i("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:te,from:B,to:$,slides:function(){let ee=[];for(let je=B;je<=$;je+=1)ee.push(C[je]);return ee}()}),e.params.virtual.renderExternalUpdate?Ie():i("virtualUpdate");return}let pt=[],ot=[],at=K=>{let ee=K;return K<0?ee=C.length+K:ee>=C.length&&(ee=ee-C.length),ee};if(h)e.slides.filter(K=>K.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(K=>{K.remove()});else for(let K=b;K<=_;K+=1)if(K<B||K>$){let ee=at(K);e.slides.filter(je=>je.matches(`.${e.params.slideClass}[data-swiper-slide-index="${ee}"], swiper-slide[data-swiper-slide-index="${ee}"]`)).forEach(je=>{je.remove()})}let To=O?-C.length:0,X=O?C.length*2:C.length;for(let K=To;K<X;K+=1)if(K>=B&&K<=$){let ee=at(K);typeof _>"u"||h?ot.push(ee):(K>_&&ot.push(ee),K<b&&pt.push(ee))}if(ot.forEach(K=>{e.slidesEl.append(l(C[K],K))}),O)for(let K=pt.length-1;K>=0;K-=1){let ee=pt[K];e.slidesEl.prepend(l(C[ee],ee))}else pt.sort((K,ee)=>ee-K),pt.forEach(K=>{e.slidesEl.prepend(l(C[K],K))});bt(e.slidesEl,".swiper-slide, swiper-slide").forEach(K=>{K.style[z]=`${te-Math.abs(e.cssOverflowAdjustment())}px`}),Ie()}function d(h){if(typeof h=="object"&&"length"in h)for(let v=0;v<h.length;v+=1)h[v]&&e.virtual.slides.push(h[v]);else e.virtual.slides.push(h);c(!0)}function f(h){let v=e.activeIndex,w=v+1,D=1;if(Array.isArray(h)){for(let I=0;I<h.length;I+=1)h[I]&&e.virtual.slides.unshift(h[I]);w=v+h.length,D=h.length}else e.virtual.slides.unshift(h);if(e.params.virtual.cache){let I=e.virtual.cache,E={};Object.keys(I).forEach(O=>{let U=I[O],j=U.getAttribute("data-swiper-slide-index");j&&U.setAttribute("data-swiper-slide-index",parseInt(j,10)+D),E[parseInt(O,10)+D]=U}),e.virtual.cache=E}c(!0),e.slideTo(w,0)}function m(h){if(typeof h>"u"||h===null)return;let v=e.activeIndex;if(Array.isArray(h))for(let w=h.length-1;w>=0;w-=1)e.params.virtual.cache&&(delete e.virtual.cache[h[w]],Object.keys(e.virtual.cache).forEach(D=>{D>h&&(e.virtual.cache[D-1]=e.virtual.cache[D],e.virtual.cache[D-1].setAttribute("data-swiper-slide-index",D-1),delete e.virtual.cache[D])})),e.virtual.slides.splice(h[w],1),h[w]<v&&(v-=1),v=Math.max(v,0);else e.params.virtual.cache&&(delete e.virtual.cache[h],Object.keys(e.virtual.cache).forEach(w=>{w>h&&(e.virtual.cache[w-1]=e.virtual.cache[w],e.virtual.cache[w-1].setAttribute("data-swiper-slide-index",w-1),delete e.virtual.cache[w])})),e.virtual.slides.splice(h,1),h<v&&(v-=1),v=Math.max(v,0);c(!0),e.slideTo(v,0)}function g(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),c(!0),e.slideTo(0,0)}r("beforeInit",()=>{if(!e.params.virtual.enabled)return;let h;if(typeof e.passedParams.virtual.slides>"u"){let v=[...e.slidesEl.children].filter(w=>w.matches(`.${e.params.slideClass}, swiper-slide`));v&&v.length&&(e.virtual.slides=[...v],h=!0,v.forEach((w,D)=>{w.setAttribute("data-swiper-slide-index",D),e.virtual.cache[D]=w,w.remove()}))}h||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,c(!1,!0)}),r("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(s),s=setTimeout(()=>{c()},100)):c())}),r("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&Qa(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:d,prependSlide:f,removeSlide:m,removeAllSlides:g,update:c})}function RL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s=ft(),o=Xe();e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function a(d){if(!e.enabled)return;let{rtlTranslate:f}=e,m=d;m.originalEvent&&(m=m.originalEvent);let g=m.keyCode||m.charCode,h=e.params.keyboard.pageUpDown,v=h&&g===33,w=h&&g===34,D=g===37,I=g===39,E=g===38,O=g===40;if(!e.allowSlideNext&&(e.isHorizontal()&&I||e.isVertical()&&O||w)||!e.allowSlidePrev&&(e.isHorizontal()&&D||e.isVertical()&&E||v))return!1;if(!(m.shiftKey||m.altKey||m.ctrlKey||m.metaKey)&&!(s.activeElement&&(s.activeElement.isContentEditable||s.activeElement.nodeName&&(s.activeElement.nodeName.toLowerCase()==="input"||s.activeElement.nodeName.toLowerCase()==="textarea")))){if(e.params.keyboard.onlyInViewport&&(v||w||D||I||E||O)){let U=!1;if(ni(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&ni(e.el,`.${e.params.slideActiveClass}`).length===0)return;let j=e.el,M=j.clientWidth,b=j.clientHeight,_=o.innerWidth,C=o.innerHeight,R=Xa(j);f&&(R.left-=j.scrollLeft);let k=[[R.left,R.top],[R.left+M,R.top],[R.left,R.top+b],[R.left+M,R.top+b]];for(let S=0;S<k.length;S+=1){let z=k[S];if(z[0]>=0&&z[0]<=_&&z[1]>=0&&z[1]<=C){if(z[0]===0&&z[1]===0)continue;U=!0}}if(!U)return}e.isHorizontal()?((v||w||D||I)&&(m.preventDefault?m.preventDefault():m.returnValue=!1),((w||I)&&!f||(v||D)&&f)&&e.slideNext(),((v||D)&&!f||(w||I)&&f)&&e.slidePrev()):((v||w||E||O)&&(m.preventDefault?m.preventDefault():m.returnValue=!1),(w||O)&&e.slideNext(),(v||E)&&e.slidePrev()),i("keyPress",g)}}function l(){e.keyboard.enabled||(s.addEventListener("keydown",a),e.keyboard.enabled=!0)}function c(){e.keyboard.enabled&&(s.removeEventListener("keydown",a),e.keyboard.enabled=!1)}r("init",()=>{e.params.keyboard.enabled&&l()}),r("destroy",()=>{e.keyboard.enabled&&c()}),Object.assign(e.keyboard,{enable:l,disable:c})}function kL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s=Xe();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,a=Rn(),l,c=[];function d(E){let M=0,b=0,_=0,C=0;return"detail"in E&&(b=E.detail),"wheelDelta"in E&&(b=-E.wheelDelta/120),"wheelDeltaY"in E&&(b=-E.wheelDeltaY/120),"wheelDeltaX"in E&&(M=-E.wheelDeltaX/120),"axis"in E&&E.axis===E.HORIZONTAL_AXIS&&(M=b,b=0),_=M*10,C=b*10,"deltaY"in E&&(C=E.deltaY),"deltaX"in E&&(_=E.deltaX),E.shiftKey&&!_&&(_=C,C=0),(_||C)&&E.deltaMode&&(E.deltaMode===1?(_*=40,C*=40):(_*=800,C*=800)),_&&!M&&(M=_<1?-1:1),C&&!b&&(b=C<1?-1:1),{spinX:M,spinY:b,pixelX:_,pixelY:C}}function f(){e.enabled&&(e.mouseEntered=!0)}function m(){e.enabled&&(e.mouseEntered=!1)}function g(E){return e.params.mousewheel.thresholdDelta&&E.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Rn()-a<e.params.mousewheel.thresholdTime?!1:E.delta>=6&&Rn()-a<60?!0:(E.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),i("scroll",E.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),i("scroll",E.raw)),a=new s.Date().getTime(),!1)}function h(E){let O=e.params.mousewheel;if(E.direction<0){if(e.isEnd&&!e.params.loop&&O.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&O.releaseOnEdges)return!0;return!1}function v(E){let O=E,U=!0;if(!e.enabled||E.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;let j=e.params.mousewheel;e.params.cssMode&&O.preventDefault();let M=e.el;e.params.mousewheel.eventsTarget!=="container"&&(M=document.querySelector(e.params.mousewheel.eventsTarget));let b=M&&M.contains(O.target);if(!e.mouseEntered&&!b&&!j.releaseOnEdges)return!0;O.originalEvent&&(O=O.originalEvent);let _=0,C=e.rtlTranslate?-1:1,R=d(O);if(j.forceToAxis)if(e.isHorizontal())if(Math.abs(R.pixelX)>Math.abs(R.pixelY))_=-R.pixelX*C;else return!0;else if(Math.abs(R.pixelY)>Math.abs(R.pixelX))_=-R.pixelY;else return!0;else _=Math.abs(R.pixelX)>Math.abs(R.pixelY)?-R.pixelX*C:-R.pixelY;if(_===0)return!0;j.invert&&(_=-_);let k=e.getTranslate()+_*j.sensitivity;if(k>=e.minTranslate()&&(k=e.minTranslate()),k<=e.maxTranslate()&&(k=e.maxTranslate()),U=e.params.loop?!0:!(k===e.minTranslate()||k===e.maxTranslate()),U&&e.params.nested&&O.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){let S={time:Rn(),delta:Math.abs(_),direction:Math.sign(_),raw:E};c.length>=2&&c.shift();let z=c.length?c[c.length-1]:void 0;if(c.push(S),z?(S.direction!==z.direction||S.delta>z.delta||S.time>z.time+150)&&g(S):g(S),h(S))return!0}else{let S={time:Rn(),delta:Math.abs(_),direction:Math.sign(_)},z=l&&S.time<l.time+500&&S.delta<=l.delta&&S.direction===l.direction;if(!z){l=void 0;let Y=e.getTranslate()+_*j.sensitivity,J=e.isBeginning,B=e.isEnd;if(Y>=e.minTranslate()&&(Y=e.minTranslate()),Y<=e.maxTranslate()&&(Y=e.maxTranslate()),e.setTransition(0),e.setTranslate(Y),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!J&&e.isBeginning||!B&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:S.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();let $=c.length?c[c.length-1]:void 0,te=c[0];if(c.push(S),$&&(S.delta>$.delta||S.direction!==$.direction))c.splice(0);else if(c.length>=15&&S.time-te.time<500&&te.delta-S.delta>=1&&S.delta<=6){let Ie=_>0?.8:.2;l=S,c.splice(0),o=ji(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,Ie)},0)}o||(o=ji(()=>{if(e.destroyed||!e.params)return;let Ie=.5;l=S,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,Ie)},500))}if(z||i("scroll",O),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),j.releaseOnEdges&&(Y===e.minTranslate()||Y===e.maxTranslate()))return!0}}return O.preventDefault?O.preventDefault():O.returnValue=!1,!1}function w(E){let O=e.el;e.params.mousewheel.eventsTarget!=="container"&&(O=document.querySelector(e.params.mousewheel.eventsTarget)),O[E]("mouseenter",f),O[E]("mouseleave",m),O[E]("wheel",v)}function D(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",v),!0):e.mousewheel.enabled?!1:(w("addEventListener"),e.mousewheel.enabled=!0,!0)}function I(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,v),!0):e.mousewheel.enabled?(w("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}r("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&I(),e.params.mousewheel.enabled&&D()}),r("destroy",()=>{e.params.cssMode&&D(),e.mousewheel.enabled&&I()}),Object.assign(e.mousewheel,{enable:D,disable:I})}function zc(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(i=>{if(!t[i]&&t.auto===!0){let s=bt(n.el,`.${r[i]}`)[0];s||(s=Gt("div",r[i]),s.className=r[i],n.el.append(s)),t[i]=s,e[i]=s}}),t}function PL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(h){let v;return h&&typeof h=="string"&&e.isElement&&(v=e.el.querySelector(h)||e.hostEl.querySelector(h),v)?v:(h&&(typeof h=="string"&&(v=[...document.querySelectorAll(h)]),e.params.uniqueNavElements&&typeof h=="string"&&v&&v.length>1&&e.el.querySelectorAll(h).length===1?v=e.el.querySelector(h):v&&v.length===1&&(v=v[0])),h&&!v?h:v)}function o(h,v){let w=e.params.navigation;h=Re(h),h.forEach(D=>{D&&(D.classList[v?"add":"remove"](...w.disabledClass.split(" ")),D.tagName==="BUTTON"&&(D.disabled=v),e.params.watchOverflow&&e.enabled&&D.classList[e.isLocked?"add":"remove"](w.lockClass))})}function a(){let{nextEl:h,prevEl:v}=e.navigation;if(e.params.loop){o(v,!1),o(h,!1);return}o(v,e.isBeginning&&!e.params.rewind),o(h,e.isEnd&&!e.params.rewind)}function l(h){h.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(h){h.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){let h=e.params.navigation;if(e.params.navigation=zc(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(h.nextEl||h.prevEl))return;let v=s(h.nextEl),w=s(h.prevEl);Object.assign(e.navigation,{nextEl:v,prevEl:w}),v=Re(v),w=Re(w);let D=(I,E)=>{I&&I.addEventListener("click",E==="next"?c:l),!e.enabled&&I&&I.classList.add(...h.lockClass.split(" "))};v.forEach(I=>D(I,"next")),w.forEach(I=>D(I,"prev"))}function f(){let{nextEl:h,prevEl:v}=e.navigation;h=Re(h),v=Re(v);let w=(D,I)=>{D.removeEventListener("click",I==="next"?c:l),D.classList.remove(...e.params.navigation.disabledClass.split(" "))};h.forEach(D=>w(D,"next")),v.forEach(D=>w(D,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?g():(d(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:h,prevEl:v}=e.navigation;if(h=Re(h),v=Re(v),e.enabled){a();return}[...h,...v].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),r("click",(h,v)=>{let{nextEl:w,prevEl:D}=e.navigation;w=Re(w),D=Re(D);let I=v.target,E=D.includes(I)||w.includes(I);if(e.isElement&&!E){let O=v.path||v.composedPath&&v.composedPath();O&&(E=O.find(U=>w.includes(U)||D.includes(U)))}if(e.params.navigation.hideOnClick&&!E){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===I||e.pagination.el.contains(I)))return;let O;w.length?O=w[0].classList.contains(e.params.navigation.hiddenClass):D.length&&(O=D[0].classList.contains(e.params.navigation.hiddenClass)),i(O===!0?"navigationShow":"navigationHide"),[...w,...D].filter(U=>!!U).forEach(U=>U.classList.toggle(e.params.navigation.hiddenClass))}});let m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:m,disable:g,update:a,init:d,destroy:f})}function Sr(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function NL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:I=>I,formatFractionTotal:I=>I,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(I,E){let{bulletActiveClass:O}=e.params.pagination;I&&(I=I[`${E==="prev"?"previous":"next"}ElementSibling`],I&&(I.classList.add(`${O}-${E}`),I=I[`${E==="prev"?"previous":"next"}ElementSibling`],I&&I.classList.add(`${O}-${E}-${E}`)))}function d(I,E,O){if(I=I%O,E=E%O,E===I+1)return"next";if(E===I-1)return"previous"}function f(I){let E=I.target.closest(Sr(e.params.pagination.bulletClass));if(!E)return;I.preventDefault();let O=_o(E)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===O)return;let U=d(e.realIndex,O,e.slides.length);U==="next"?e.slideNext():U==="previous"?e.slidePrev():e.slideToLoop(O)}else e.slideTo(O)}function m(){let I=e.rtl,E=e.params.pagination;if(l())return;let O=e.pagination.el;O=Re(O);let U,j,M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,b=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(j=e.previousRealIndex||0,U=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(U=e.snapIndex,j=e.previousSnapIndex):(j=e.previousIndex||0,U=e.activeIndex||0),E.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){let _=e.pagination.bullets,C,R,k;if(E.dynamicBullets&&(o=Df(_[0],e.isHorizontal()?"width":"height",!0),O.forEach(S=>{S.style[e.isHorizontal()?"width":"height"]=`${o*(E.dynamicMainBullets+4)}px`}),E.dynamicMainBullets>1&&j!==void 0&&(a+=U-(j||0),a>E.dynamicMainBullets-1?a=E.dynamicMainBullets-1:a<0&&(a=0)),C=Math.max(U-a,0),R=C+(Math.min(_.length,E.dynamicMainBullets)-1),k=(R+C)/2),_.forEach(S=>{let z=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Y=>`${E.bulletActiveClass}${Y}`)].map(Y=>typeof Y=="string"&&Y.includes(" ")?Y.split(" "):Y).flat();S.classList.remove(...z)}),O.length>1)_.forEach(S=>{let z=_o(S);z===U?S.classList.add(...E.bulletActiveClass.split(" ")):e.isElement&&S.setAttribute("part","bullet"),E.dynamicBullets&&(z>=C&&z<=R&&S.classList.add(...`${E.bulletActiveClass}-main`.split(" ")),z===C&&c(S,"prev"),z===R&&c(S,"next"))});else{let S=_[U];if(S&&S.classList.add(...E.bulletActiveClass.split(" ")),e.isElement&&_.forEach((z,Y)=>{z.setAttribute("part",Y===U?"bullet-active":"bullet")}),E.dynamicBullets){let z=_[C],Y=_[R];for(let J=C;J<=R;J+=1)_[J]&&_[J].classList.add(...`${E.bulletActiveClass}-main`.split(" "));c(z,"prev"),c(Y,"next")}}if(E.dynamicBullets){let S=Math.min(_.length,E.dynamicMainBullets+4),z=(o*S-o)/2-k*o,Y=I?"right":"left";_.forEach(J=>{J.style[e.isHorizontal()?Y:"top"]=`${z}px`})}}O.forEach((_,C)=>{if(E.type==="fraction"&&(_.querySelectorAll(Sr(E.currentClass)).forEach(R=>{R.textContent=E.formatFractionCurrent(U+1)}),_.querySelectorAll(Sr(E.totalClass)).forEach(R=>{R.textContent=E.formatFractionTotal(b)})),E.type==="progressbar"){let R;E.progressbarOpposite?R=e.isHorizontal()?"vertical":"horizontal":R=e.isHorizontal()?"horizontal":"vertical";let k=(U+1)/b,S=1,z=1;R==="horizontal"?S=k:z=k,_.querySelectorAll(Sr(E.progressbarFillClass)).forEach(Y=>{Y.style.transform=`translate3d(0,0,0) scaleX(${S}) scaleY(${z})`,Y.style.transitionDuration=`${e.params.speed}ms`})}E.type==="custom"&&E.renderCustom?(an(_,E.renderCustom(e,U+1,b)),C===0&&i("paginationRender",_)):(C===0&&i("paginationRender",_),i("paginationUpdate",_)),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](E.lockClass)})}function g(){let I=e.params.pagination;if(l())return;let E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length,O=e.pagination.el;O=Re(O);let U="";if(I.type==="bullets"){let j=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&j>E&&(j=E);for(let M=0;M<j;M+=1)I.renderBullet?U+=I.renderBullet.call(e,M,I.bulletClass):U+=`<${I.bulletElement} ${e.isElement?'part="bullet"':""} class="${I.bulletClass}"></${I.bulletElement}>`}I.type==="fraction"&&(I.renderFraction?U=I.renderFraction.call(e,I.currentClass,I.totalClass):U=`<span class="${I.currentClass}"></span> / <span class="${I.totalClass}"></span>`),I.type==="progressbar"&&(I.renderProgressbar?U=I.renderProgressbar.call(e,I.progressbarFillClass):U=`<span class="${I.progressbarFillClass}"></span>`),e.pagination.bullets=[],O.forEach(j=>{I.type!=="custom"&&an(j,U||""),I.type==="bullets"&&e.pagination.bullets.push(...j.querySelectorAll(Sr(I.bulletClass)))}),I.type!=="custom"&&i("paginationRender",O[0])}function h(){e.params.pagination=zc(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});let I=e.params.pagination;if(!I.el)return;let E;typeof I.el=="string"&&e.isElement&&(E=e.el.querySelector(I.el)),!E&&typeof I.el=="string"&&(E=[...document.querySelectorAll(I.el)]),E||(E=I.el),!(!E||E.length===0)&&(e.params.uniqueNavElements&&typeof I.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...e.el.querySelectorAll(I.el)],E.length>1&&(E=E.find(O=>ni(O,".swiper")[0]===e.el))),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(e.pagination,{el:E}),E=Re(E),E.forEach(O=>{I.type==="bullets"&&I.clickable&&O.classList.add(...(I.clickableClass||"").split(" ")),O.classList.add(I.modifierClass+I.type),O.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass),I.type==="bullets"&&I.dynamicBullets&&(O.classList.add(`${I.modifierClass}${I.type}-dynamic`),a=0,I.dynamicMainBullets<1&&(I.dynamicMainBullets=1)),I.type==="progressbar"&&I.progressbarOpposite&&O.classList.add(I.progressbarOppositeClass),I.clickable&&O.addEventListener("click",f),e.enabled||O.classList.add(I.lockClass)}))}function v(){let I=e.params.pagination;if(l())return;let E=e.pagination.el;E&&(E=Re(E),E.forEach(O=>{O.classList.remove(I.hiddenClass),O.classList.remove(I.modifierClass+I.type),O.classList.remove(e.isHorizontal()?I.horizontalClass:I.verticalClass),I.clickable&&(O.classList.remove(...(I.clickableClass||"").split(" ")),O.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(O=>O.classList.remove(...I.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;let I=e.params.pagination,{el:E}=e.pagination;E=Re(E),E.forEach(O=>{O.classList.remove(I.horizontalClass,I.verticalClass),O.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?D():(h(),g(),m())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&m()}),r("snapIndexChange",()=>{m()}),r("snapGridLengthChange",()=>{g(),m()}),r("destroy",()=>{v()}),r("enable disable",()=>{let{el:I}=e.pagination;I&&(I=Re(I),I.forEach(E=>E.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{m()}),r("click",(I,E)=>{let O=E.target,U=Re(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&U&&U.length>0&&!O.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&O===e.navigation.nextEl||e.navigation.prevEl&&O===e.navigation.prevEl))return;let j=U[0].classList.contains(e.params.pagination.hiddenClass);i(j===!0?"paginationShow":"paginationHide"),U.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});let w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:I}=e.pagination;I&&(I=Re(I),I.forEach(E=>E.classList.remove(e.params.pagination.paginationDisabledClass))),h(),g(),m()},D=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:I}=e.pagination;I&&(I=Re(I),I.forEach(E=>E.classList.add(e.params.pagination.paginationDisabledClass))),v()};Object.assign(e.pagination,{enable:w,disable:D,render:g,update:m,init:h,destroy:v})}function OL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s=ft(),o=!1,a=null,l=null,c,d,f,m;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function g(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;let{scrollbar:k,rtlTranslate:S}=e,{dragEl:z,el:Y}=k,J=e.params.scrollbar,B=e.params.loop?e.progressLoop:e.progress,$=d,te=(f-d)*B;S?(te=-te,te>0?($=d-te,te=0):-te+d>f&&($=f+te)):te<0?($=d+te,te=0):te+d>f&&($=f-te),e.isHorizontal()?(z.style.transform=`translate3d(${te}px, 0, 0)`,z.style.width=`${$}px`):(z.style.transform=`translate3d(0px, ${te}px, 0)`,z.style.height=`${$}px`),J.hide&&(clearTimeout(a),Y.style.opacity=1,a=setTimeout(()=>{Y.style.opacity=0,Y.style.transitionDuration="400ms"},1e3))}function h(k){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${k}ms`)}function v(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;let{scrollbar:k}=e,{dragEl:S,el:z}=k;S.style.width="",S.style.height="",f=e.isHorizontal()?z.offsetWidth:z.offsetHeight,m=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?d=f*m:d=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?S.style.width=`${d}px`:S.style.height=`${d}px`,m>=1?z.style.display="none":z.style.display="",e.params.scrollbar.hide&&(z.style.opacity=0),e.params.watchOverflow&&e.enabled&&k.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function w(k){return e.isHorizontal()?k.clientX:k.clientY}function D(k){let{scrollbar:S,rtlTranslate:z}=e,{el:Y}=S,J;J=(w(k)-Xa(Y)[e.isHorizontal()?"left":"top"]-(c!==null?c:d/2))/(f-d),J=Math.max(Math.min(J,1),0),z&&(J=1-J);let B=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*J;e.updateProgress(B),e.setTranslate(B),e.updateActiveIndex(),e.updateSlidesClasses()}function I(k){let S=e.params.scrollbar,{scrollbar:z,wrapperEl:Y}=e,{el:J,dragEl:B}=z;o=!0,c=k.target===B?w(k)-k.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,k.preventDefault(),k.stopPropagation(),Y.style.transitionDuration="100ms",B.style.transitionDuration="100ms",D(k),clearTimeout(l),J.style.transitionDuration="0ms",S.hide&&(J.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",k)}function E(k){let{scrollbar:S,wrapperEl:z}=e,{el:Y,dragEl:J}=S;o&&(k.preventDefault&&k.cancelable?k.preventDefault():k.returnValue=!1,D(k),z.style.transitionDuration="0ms",Y.style.transitionDuration="0ms",J.style.transitionDuration="0ms",i("scrollbarDragMove",k))}function O(k){let S=e.params.scrollbar,{scrollbar:z,wrapperEl:Y}=e,{el:J}=z;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",Y.style.transitionDuration=""),S.hide&&(clearTimeout(l),l=ji(()=>{J.style.opacity=0,J.style.transitionDuration="400ms"},1e3)),i("scrollbarDragEnd",k),S.snapOnRelease&&e.slideToClosest())}function U(k){let{scrollbar:S,params:z}=e,Y=S.el;if(!Y)return;let J=Y,B=z.passiveListeners?{passive:!1,capture:!1}:!1,$=z.passiveListeners?{passive:!0,capture:!1}:!1;if(!J)return;let te=k==="on"?"addEventListener":"removeEventListener";J[te]("pointerdown",I,B),s[te]("pointermove",E,B),s[te]("pointerup",O,$)}function j(){!e.params.scrollbar.el||!e.scrollbar.el||U("on")}function M(){!e.params.scrollbar.el||!e.scrollbar.el||U("off")}function b(){let{scrollbar:k,el:S}=e;e.params.scrollbar=zc(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});let z=e.params.scrollbar;if(!z.el)return;let Y;if(typeof z.el=="string"&&e.isElement&&(Y=e.el.querySelector(z.el)),!Y&&typeof z.el=="string"){if(Y=s.querySelectorAll(z.el),!Y.length)return}else Y||(Y=z.el);e.params.uniqueNavElements&&typeof z.el=="string"&&Y.length>1&&S.querySelectorAll(z.el).length===1&&(Y=S.querySelector(z.el)),Y.length>0&&(Y=Y[0]),Y.classList.add(e.isHorizontal()?z.horizontalClass:z.verticalClass);let J;Y&&(J=Y.querySelector(Sr(e.params.scrollbar.dragClass)),J||(J=Gt("div",e.params.scrollbar.dragClass),Y.append(J))),Object.assign(k,{el:Y,dragEl:J}),z.draggable&&j(),Y&&Y.classList[e.enabled?"remove":"add"](...Es(e.params.scrollbar.lockClass))}function _(){let k=e.params.scrollbar,S=e.scrollbar.el;S&&S.classList.remove(...Es(e.isHorizontal()?k.horizontalClass:k.verticalClass)),M()}r("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;let k=e.params.scrollbar,{el:S}=e.scrollbar;S=Re(S),S.forEach(z=>{z.classList.remove(k.horizontalClass,k.verticalClass),z.classList.add(e.isHorizontal()?k.horizontalClass:k.verticalClass)})}),r("init",()=>{e.params.scrollbar.enabled===!1?R():(b(),v(),g())}),r("update resize observerUpdate lock unlock changeDirection",()=>{v()}),r("setTranslate",()=>{g()}),r("setTransition",(k,S)=>{h(S)}),r("enable disable",()=>{let{el:k}=e.scrollbar;k&&k.classList[e.enabled?"remove":"add"](...Es(e.params.scrollbar.lockClass))}),r("destroy",()=>{_()});let C=()=>{e.el.classList.remove(...Es(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...Es(e.params.scrollbar.scrollbarDisabledClass)),b(),v(),g()},R=()=>{e.el.classList.add(...Es(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...Es(e.params.scrollbar.scrollbarDisabledClass)),_()};Object.assign(e.scrollbar,{enable:C,disable:R,updateSize:v,setTranslate:g,init:b,destroy:_})}function LL(n){let{swiper:e,extendParams:t,on:r}=n;t({parallax:{enabled:!1}});let i="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",s=(l,c)=>{let{rtl:d}=e,f=d?-1:1,m=l.getAttribute("data-swiper-parallax")||"0",g=l.getAttribute("data-swiper-parallax-x"),h=l.getAttribute("data-swiper-parallax-y"),v=l.getAttribute("data-swiper-parallax-scale"),w=l.getAttribute("data-swiper-parallax-opacity"),D=l.getAttribute("data-swiper-parallax-rotate");if(g||h?(g=g||"0",h=h||"0"):e.isHorizontal()?(g=m,h="0"):(h=m,g="0"),g.indexOf("%")>=0?g=`${parseInt(g,10)*c*f}%`:g=`${g*c*f}px`,h.indexOf("%")>=0?h=`${parseInt(h,10)*c}%`:h=`${h*c}px`,typeof w<"u"&&w!==null){let E=w-(w-1)*(1-Math.abs(c));l.style.opacity=E}let I=`translate3d(${g}, ${h}, 0px)`;if(typeof v<"u"&&v!==null){let E=v-(v-1)*(1-Math.abs(c));I+=` scale(${E})`}if(D&&typeof D<"u"&&D!==null){let E=D*c*-1;I+=` rotate(${E}deg)`}l.style.transform=I},o=()=>{let{el:l,slides:c,progress:d,snapGrid:f,isElement:m}=e,g=bt(l,i);e.isElement&&g.push(...bt(e.hostEl,i)),g.forEach(h=>{s(h,d)}),c.forEach((h,v)=>{let w=h.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(w+=Math.ceil(v/2)-d*(f.length-1)),w=Math.min(Math.max(w,-1),1),h.querySelectorAll(`${i}, [data-swiper-parallax-rotate]`).forEach(D=>{s(D,w)})})},a=function(l){l===void 0&&(l=e.params.speed);let{el:c,hostEl:d}=e,f=[...c.querySelectorAll(i)];e.isElement&&f.push(...d.querySelectorAll(i)),f.forEach(m=>{let g=parseInt(m.getAttribute("data-swiper-parallax-duration"),10)||l;l===0&&(g=0),m.style.transitionDuration=`${g}ms`})};r("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),r("init",()=>{e.params.parallax.enabled&&o()}),r("setTranslate",()=>{e.params.parallax.enabled&&o()}),r("setTransition",(l,c)=>{e.params.parallax.enabled&&a(c)})}function FL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s=Xe();t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let o=1,a=!1,l=!1,c={x:0,y:0},d=-3,f,m,g=[],h={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},v={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},w={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},D=1;Object.defineProperty(e.zoom,"scale",{get(){return D},set(X){if(D!==X){let K=h.imageEl,ee=h.slideEl;i("zoomChange",X,K,ee)}D=X}});function I(){if(g.length<2)return 1;let X=g[0].pageX,K=g[0].pageY,ee=g[1].pageX,je=g[1].pageY;return Math.sqrt((ee-X)**2+(je-K)**2)}function E(){let X=e.params.zoom,K=h.imageWrapEl.getAttribute("data-swiper-zoom")||X.maxRatio;if(X.limitToOriginalSize&&h.imageEl&&h.imageEl.naturalWidth){let ee=h.imageEl.naturalWidth/h.imageEl.offsetWidth;return Math.min(ee,K)}return K}function O(){if(g.length<2)return{x:null,y:null};let X=h.imageEl.getBoundingClientRect();return[(g[0].pageX+(g[1].pageX-g[0].pageX)/2-X.x-s.scrollX)/o,(g[0].pageY+(g[1].pageY-g[0].pageY)/2-X.y-s.scrollY)/o]}function U(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function j(X){let K=U();return!!(X.target.matches(K)||e.slides.filter(ee=>ee.contains(X.target)).length>0)}function M(X){let K=`.${e.params.zoom.containerClass}`;return!!(X.target.matches(K)||[...e.hostEl.querySelectorAll(K)].filter(ee=>ee.contains(X.target)).length>0)}function b(X){if(X.pointerType==="mouse"&&g.splice(0,g.length),!j(X))return;let K=e.params.zoom;if(f=!1,m=!1,g.push(X),!(g.length<2)){if(f=!0,h.scaleStart=I(),!h.slideEl){h.slideEl=X.target.closest(`.${e.params.slideClass}, swiper-slide`),h.slideEl||(h.slideEl=e.slides[e.activeIndex]);let ee=h.slideEl.querySelector(`.${K.containerClass}`);if(ee&&(ee=ee.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=ee,ee?h.imageWrapEl=ni(h.imageEl,`.${K.containerClass}`)[0]:h.imageWrapEl=void 0,!h.imageWrapEl){h.imageEl=void 0;return}h.maxRatio=E()}if(h.imageEl){let[ee,je]=O();h.originX=ee,h.originY=je,h.imageEl.style.transitionDuration="0ms"}a=!0}}function _(X){if(!j(X))return;let K=e.params.zoom,ee=e.zoom,je=g.findIndex(Zt=>Zt.pointerId===X.pointerId);je>=0&&(g[je]=X),!(g.length<2)&&(m=!0,h.scaleMove=I(),h.imageEl&&(ee.scale=h.scaleMove/h.scaleStart*o,ee.scale>h.maxRatio&&(ee.scale=h.maxRatio-1+(ee.scale-h.maxRatio+1)**.5),ee.scale<K.minRatio&&(ee.scale=K.minRatio+1-(K.minRatio-ee.scale+1)**.5),h.imageEl.style.transform=`translate3d(0,0,0) scale(${ee.scale})`))}function C(X){if(!j(X)||X.pointerType==="mouse"&&X.type==="pointerout")return;let K=e.params.zoom,ee=e.zoom,je=g.findIndex(Zt=>Zt.pointerId===X.pointerId);je>=0&&g.splice(je,1),!(!f||!m)&&(f=!1,m=!1,h.imageEl&&(ee.scale=Math.max(Math.min(ee.scale,h.maxRatio),K.minRatio),h.imageEl.style.transitionDuration=`${e.params.speed}ms`,h.imageEl.style.transform=`translate3d(0,0,0) scale(${ee.scale})`,o=ee.scale,a=!1,ee.scale>1&&h.slideEl?h.slideEl.classList.add(`${K.zoomedSlideClass}`):ee.scale<=1&&h.slideEl&&h.slideEl.classList.remove(`${K.zoomedSlideClass}`),ee.scale===1&&(h.originX=0,h.originY=0,h.slideEl=void 0)))}let R;function k(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function S(){clearTimeout(R),e.touchEventsData.preventTouchMoveFromPointerMove=!0,R=setTimeout(()=>{e.destroyed||k()})}function z(X){let K=e.device;if(!h.imageEl||v.isTouched)return;K.android&&X.cancelable&&X.preventDefault(),v.isTouched=!0;let ee=g.length>0?g[0]:X;v.touchesStart.x=ee.pageX,v.touchesStart.y=ee.pageY}function Y(X){let ee=X.pointerType==="mouse"&&e.params.zoom.panOnMouseMove;if(!j(X)||!M(X))return;let je=e.zoom;if(!h.imageEl)return;if(!v.isTouched||!h.slideEl){ee&&$(X);return}if(ee){$(X);return}v.isMoved||(v.width=h.imageEl.offsetWidth||h.imageEl.clientWidth,v.height=h.imageEl.offsetHeight||h.imageEl.clientHeight,v.startX=Tf(h.imageWrapEl,"x")||0,v.startY=Tf(h.imageWrapEl,"y")||0,h.slideWidth=h.slideEl.offsetWidth,h.slideHeight=h.slideEl.offsetHeight,h.imageWrapEl.style.transitionDuration="0ms");let Zt=v.width*je.scale,Kn=v.height*je.scale;if(v.minX=Math.min(h.slideWidth/2-Zt/2,0),v.maxX=-v.minX,v.minY=Math.min(h.slideHeight/2-Kn/2,0),v.maxY=-v.minY,v.touchesCurrent.x=g.length>0?g[0].pageX:X.pageX,v.touchesCurrent.y=g.length>0?g[0].pageY:X.pageY,Math.max(Math.abs(v.touchesCurrent.x-v.touchesStart.x),Math.abs(v.touchesCurrent.y-v.touchesStart.y))>5&&(e.allowClick=!1),!v.isMoved&&!a){if(e.isHorizontal()&&(Math.floor(v.minX)===Math.floor(v.startX)&&v.touchesCurrent.x<v.touchesStart.x||Math.floor(v.maxX)===Math.floor(v.startX)&&v.touchesCurrent.x>v.touchesStart.x)){v.isTouched=!1,k();return}if(!e.isHorizontal()&&(Math.floor(v.minY)===Math.floor(v.startY)&&v.touchesCurrent.y<v.touchesStart.y||Math.floor(v.maxY)===Math.floor(v.startY)&&v.touchesCurrent.y>v.touchesStart.y)){v.isTouched=!1,k();return}}X.cancelable&&X.preventDefault(),X.stopPropagation(),S(),v.isMoved=!0;let Qn=(je.scale-o)/(h.maxRatio-e.params.zoom.minRatio),{originX:lr,originY:Vt}=h;v.currentX=v.touchesCurrent.x-v.touchesStart.x+v.startX+Qn*(v.width-lr*2),v.currentY=v.touchesCurrent.y-v.touchesStart.y+v.startY+Qn*(v.height-Vt*2),v.currentX<v.minX&&(v.currentX=v.minX+1-(v.minX-v.currentX+1)**.8),v.currentX>v.maxX&&(v.currentX=v.maxX-1+(v.currentX-v.maxX+1)**.8),v.currentY<v.minY&&(v.currentY=v.minY+1-(v.minY-v.currentY+1)**.8),v.currentY>v.maxY&&(v.currentY=v.maxY-1+(v.currentY-v.maxY+1)**.8),w.prevPositionX||(w.prevPositionX=v.touchesCurrent.x),w.prevPositionY||(w.prevPositionY=v.touchesCurrent.y),w.prevTime||(w.prevTime=Date.now()),w.x=(v.touchesCurrent.x-w.prevPositionX)/(Date.now()-w.prevTime)/2,w.y=(v.touchesCurrent.y-w.prevPositionY)/(Date.now()-w.prevTime)/2,Math.abs(v.touchesCurrent.x-w.prevPositionX)<2&&(w.x=0),Math.abs(v.touchesCurrent.y-w.prevPositionY)<2&&(w.y=0),w.prevPositionX=v.touchesCurrent.x,w.prevPositionY=v.touchesCurrent.y,w.prevTime=Date.now(),h.imageWrapEl.style.transform=`translate3d(${v.currentX}px, ${v.currentY}px,0)`}function J(){let X=e.zoom;if(g.length=0,!h.imageEl)return;if(!v.isTouched||!v.isMoved){v.isTouched=!1,v.isMoved=!1;return}v.isTouched=!1,v.isMoved=!1;let K=300,ee=300,je=w.x*K,Zt=v.currentX+je,Kn=w.y*ee,Yn=v.currentY+Kn;w.x!==0&&(K=Math.abs((Zt-v.currentX)/w.x)),w.y!==0&&(ee=Math.abs((Yn-v.currentY)/w.y));let Qn=Math.max(K,ee);v.currentX=Zt,v.currentY=Yn;let lr=v.width*X.scale,Vt=v.height*X.scale;v.minX=Math.min(h.slideWidth/2-lr/2,0),v.maxX=-v.minX,v.minY=Math.min(h.slideHeight/2-Vt/2,0),v.maxY=-v.minY,v.currentX=Math.max(Math.min(v.currentX,v.maxX),v.minX),v.currentY=Math.max(Math.min(v.currentY,v.maxY),v.minY),h.imageWrapEl.style.transitionDuration=`${Qn}ms`,h.imageWrapEl.style.transform=`translate3d(${v.currentX}px, ${v.currentY}px,0)`}function B(){let X=e.zoom;h.slideEl&&e.activeIndex!==e.slides.indexOf(h.slideEl)&&(h.imageEl&&(h.imageEl.style.transform="translate3d(0,0,0) scale(1)"),h.imageWrapEl&&(h.imageWrapEl.style.transform="translate3d(0,0,0)"),h.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),X.scale=1,o=1,h.slideEl=void 0,h.imageEl=void 0,h.imageWrapEl=void 0,h.originX=0,h.originY=0)}function $(X){if(o<=1||!h.imageWrapEl||!j(X)||!M(X))return;let K=s.getComputedStyle(h.imageWrapEl).transform,ee=new s.DOMMatrix(K);if(!l){l=!0,c.x=X.clientX,c.y=X.clientY,v.startX=ee.e,v.startY=ee.f,v.width=h.imageEl.offsetWidth||h.imageEl.clientWidth,v.height=h.imageEl.offsetHeight||h.imageEl.clientHeight,h.slideWidth=h.slideEl.offsetWidth,h.slideHeight=h.slideEl.offsetHeight;return}let je=(X.clientX-c.x)*d,Zt=(X.clientY-c.y)*d,Kn=v.width*o,Yn=v.height*o,Qn=h.slideWidth,lr=h.slideHeight,Vt=Math.min(Qn/2-Kn/2,0),Dn=-Vt,Ss=Math.min(lr/2-Yn/2,0),Co=-Ss,Ts=Math.max(Math.min(v.startX+je,Dn),Vt),Hi=Math.max(Math.min(v.startY+Zt,Co),Ss);h.imageWrapEl.style.transitionDuration="0ms",h.imageWrapEl.style.transform=`translate3d(${Ts}px, ${Hi}px, 0)`,c.x=X.clientX,c.y=X.clientY,v.startX=Ts,v.startY=Hi,v.currentX=Ts,v.currentY=Hi}function te(X){let K=e.zoom,ee=e.params.zoom;if(!h.slideEl){X&&X.target&&(h.slideEl=X.target.closest(`.${e.params.slideClass}, swiper-slide`)),h.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?h.slideEl=bt(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:h.slideEl=e.slides[e.activeIndex]);let ri=h.slideEl.querySelector(`.${ee.containerClass}`);ri&&(ri=ri.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=ri,ri?h.imageWrapEl=ni(h.imageEl,`.${ee.containerClass}`)[0]:h.imageWrapEl=void 0}if(!h.imageEl||!h.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),h.slideEl.classList.add(`${ee.zoomedSlideClass}`);let je,Zt,Kn,Yn,Qn,lr,Vt,Dn,Ss,Co,Ts,Hi,Do,Cs,Ja,Wc,xo,Ao;typeof v.touchesStart.x>"u"&&X?(je=X.pageX,Zt=X.pageY):(je=v.touchesStart.x,Zt=v.touchesStart.y);let Mo=o,Et=typeof X=="number"?X:null;o===1&&Et&&(je=void 0,Zt=void 0,v.touchesStart.x=void 0,v.touchesStart.y=void 0);let Jt=E();K.scale=Et||Jt,o=Et||Jt,X&&!(o===1&&Et)?(xo=h.slideEl.offsetWidth,Ao=h.slideEl.offsetHeight,Kn=Xa(h.slideEl).left+s.scrollX,Yn=Xa(h.slideEl).top+s.scrollY,Qn=Kn+xo/2-je,lr=Yn+Ao/2-Zt,Ss=h.imageEl.offsetWidth||h.imageEl.clientWidth,Co=h.imageEl.offsetHeight||h.imageEl.clientHeight,Ts=Ss*K.scale,Hi=Co*K.scale,Do=Math.min(xo/2-Ts/2,0),Cs=Math.min(Ao/2-Hi/2,0),Ja=-Do,Wc=-Cs,Mo>0&&Et&&typeof v.currentX=="number"&&typeof v.currentY=="number"?(Vt=v.currentX*K.scale/Mo,Dn=v.currentY*K.scale/Mo):(Vt=Qn*K.scale,Dn=lr*K.scale),Vt<Do&&(Vt=Do),Vt>Ja&&(Vt=Ja),Dn<Cs&&(Dn=Cs),Dn>Wc&&(Dn=Wc)):(Vt=0,Dn=0),Et&&K.scale===1&&(h.originX=0,h.originY=0),v.currentX=Vt,v.currentY=Dn,h.imageWrapEl.style.transitionDuration="300ms",h.imageWrapEl.style.transform=`translate3d(${Vt}px, ${Dn}px,0)`,h.imageEl.style.transitionDuration="300ms",h.imageEl.style.transform=`translate3d(0,0,0) scale(${K.scale})`}function Ie(){let X=e.zoom,K=e.params.zoom;if(!h.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?h.slideEl=bt(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:h.slideEl=e.slides[e.activeIndex];let ee=h.slideEl.querySelector(`.${K.containerClass}`);ee&&(ee=ee.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=ee,ee?h.imageWrapEl=ni(h.imageEl,`.${K.containerClass}`)[0]:h.imageWrapEl=void 0}!h.imageEl||!h.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),X.scale=1,o=1,v.currentX=void 0,v.currentY=void 0,v.touchesStart.x=void 0,v.touchesStart.y=void 0,h.imageWrapEl.style.transitionDuration="300ms",h.imageWrapEl.style.transform="translate3d(0,0,0)",h.imageEl.style.transitionDuration="300ms",h.imageEl.style.transform="translate3d(0,0,0) scale(1)",h.slideEl.classList.remove(`${K.zoomedSlideClass}`),h.slideEl=void 0,h.originX=0,h.originY=0,e.params.zoom.panOnMouseMove&&(c={x:0,y:0},l&&(l=!1,v.startX=0,v.startY=0)))}function pt(X){let K=e.zoom;K.scale&&K.scale!==1?Ie():te(X)}function ot(){let X=e.params.passiveListeners?{passive:!0,capture:!1}:!1,K=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:X,activeListenerWithCapture:K}}function at(){let X=e.zoom;if(X.enabled)return;X.enabled=!0;let{passiveListener:K,activeListenerWithCapture:ee}=ot();e.wrapperEl.addEventListener("pointerdown",b,K),e.wrapperEl.addEventListener("pointermove",_,ee),["pointerup","pointercancel","pointerout"].forEach(je=>{e.wrapperEl.addEventListener(je,C,K)}),e.wrapperEl.addEventListener("pointermove",Y,ee)}function To(){let X=e.zoom;if(!X.enabled)return;X.enabled=!1;let{passiveListener:K,activeListenerWithCapture:ee}=ot();e.wrapperEl.removeEventListener("pointerdown",b,K),e.wrapperEl.removeEventListener("pointermove",_,ee),["pointerup","pointercancel","pointerout"].forEach(je=>{e.wrapperEl.removeEventListener(je,C,K)}),e.wrapperEl.removeEventListener("pointermove",Y,ee)}r("init",()=>{e.params.zoom.enabled&&at()}),r("destroy",()=>{To()}),r("touchStart",(X,K)=>{e.zoom.enabled&&z(K)}),r("touchEnd",(X,K)=>{e.zoom.enabled&&J()}),r("doubleTap",(X,K)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&pt(K)}),r("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&B()}),r("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&B()}),Object.assign(e.zoom,{enable:at,disable:To,in:te,out:Ie,toggle:pt})}function VL(n){let{swiper:e,extendParams:t,on:r}=n;t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function i(c,d){let f=function(){let v,w,D;return(I,E)=>{for(w=-1,v=I.length;v-w>1;)D=v+w>>1,I[D]<=E?w=D:v=D;return v}}();this.x=c,this.y=d,this.lastIndex=c.length-1;let m,g;return this.interpolate=function(v){return v?(g=f(this.x,v),m=g-1,(v-this.x[m])*(this.y[g]-this.y[m])/(this.x[g]-this.x[m])+this.y[m]):0},this}function s(c){e.controller.spline=e.params.loop?new i(e.slidesGrid,c.slidesGrid):new i(e.snapGrid,c.snapGrid)}function o(c,d){let f=e.controller.control,m,g,h=e.constructor;function v(w){if(w.destroyed)return;let D=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(s(w),g=-e.controller.spline.interpolate(-D)),(!g||e.params.controller.by==="container")&&(m=(w.maxTranslate()-w.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(m)||!Number.isFinite(m))&&(m=1),g=(D-e.minTranslate())*m+w.minTranslate()),e.params.controller.inverse&&(g=w.maxTranslate()-g),w.updateProgress(g),w.setTranslate(g,e),w.updateActiveIndex(),w.updateSlidesClasses()}if(Array.isArray(f))for(let w=0;w<f.length;w+=1)f[w]!==d&&f[w]instanceof h&&v(f[w]);else f instanceof h&&d!==f&&v(f)}function a(c,d){let f=e.constructor,m=e.controller.control,g;function h(v){v.destroyed||(v.setTransition(c,e),c!==0&&(v.transitionStart(),v.params.autoHeight&&ji(()=>{v.updateAutoHeight()}),bo(v.wrapperEl,()=>{m&&v.transitionEnd()})))}if(Array.isArray(m))for(g=0;g<m.length;g+=1)m[g]!==d&&m[g]instanceof f&&h(m[g]);else m instanceof f&&d!==m&&h(m)}function l(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}r("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(d=>{if(e.controller.control||(e.controller.control=[]),d&&d.swiper)e.controller.control.push(d.swiper);else if(d){let f=`${e.params.eventsPrefix}init`,m=g=>{e.controller.control.push(g.detail[0]),e.update(),d.removeEventListener(f,m)};d.addEventListener(f,m)}});return}e.controller.control=e.params.controller.control}),r("update",()=>{l()}),r("resize",()=>{l()}),r("observerUpdate",()=>{l()}),r("setTranslate",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(d,f)}),r("setTransition",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(d,f)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}function UL(n){let{swiper:e,extendParams:t,on:r}=n;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let i=null,s,o,a=new Date().getTime();function l(B){let $=i;$.length!==0&&an($,B)}function c(B){B===void 0&&(B=16);let $=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(B).replace(/x/g,$)}function d(B){B=Re(B),B.forEach($=>{$.setAttribute("tabIndex","0")})}function f(B){B=Re(B),B.forEach($=>{$.setAttribute("tabIndex","-1")})}function m(B,$){B=Re(B),B.forEach(te=>{te.setAttribute("role",$)})}function g(B,$){B=Re(B),B.forEach(te=>{te.setAttribute("aria-roledescription",$)})}function h(B,$){B=Re(B),B.forEach(te=>{te.setAttribute("aria-controls",$)})}function v(B,$){B=Re(B),B.forEach(te=>{te.setAttribute("aria-label",$)})}function w(B,$){B=Re(B),B.forEach(te=>{te.setAttribute("id",$)})}function D(B,$){B=Re(B),B.forEach(te=>{te.setAttribute("aria-live",$)})}function I(B){B=Re(B),B.forEach($=>{$.setAttribute("aria-disabled",!0)})}function E(B){B=Re(B),B.forEach($=>{$.setAttribute("aria-disabled",!1)})}function O(B){if(B.keyCode!==13&&B.keyCode!==32)return;let $=e.params.a11y,te=B.target;if(!(e.pagination&&e.pagination.el&&(te===e.pagination.el||e.pagination.el.contains(B.target))&&!B.target.matches(Sr(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){let Ie=Re(e.navigation.prevEl);Re(e.navigation.nextEl).includes(te)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?l($.lastSlideMessage):l($.nextSlideMessage)),Ie.includes(te)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?l($.firstSlideMessage):l($.prevSlideMessage))}e.pagination&&te.matches(Sr(e.params.pagination.bulletClass))&&te.click()}}function U(){if(e.params.loop||e.params.rewind||!e.navigation)return;let{nextEl:B,prevEl:$}=e.navigation;$&&(e.isBeginning?(I($),f($)):(E($),d($))),B&&(e.isEnd?(I(B),f(B)):(E(B),d(B)))}function j(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function M(){return j()&&e.params.pagination.clickable}function b(){let B=e.params.a11y;j()&&e.pagination.bullets.forEach($=>{e.params.pagination.clickable&&(d($),e.params.pagination.renderBullet||(m($,"button"),v($,B.paginationBulletMessage.replace(/\{\{index\}\}/,_o($)+1)))),$.matches(Sr(e.params.pagination.bulletActiveClass))?$.setAttribute("aria-current","true"):$.removeAttribute("aria-current")})}let _=(B,$,te)=>{d(B),B.tagName!=="BUTTON"&&(m(B,"button"),B.addEventListener("keydown",O)),v(B,te),h(B,$)},C=B=>{o&&o!==B.target&&!o.contains(B.target)&&(s=!0),e.a11y.clicked=!0},R=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},k=B=>{a=new Date().getTime()},S=B=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-a<100)return;let $=B.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!$||!e.slides.includes($))return;o=$;let te=e.slides.indexOf($)===e.activeIndex,Ie=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes($);te||Ie||B.sourceCapabilities&&B.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{s||(e.params.loop?e.slideToLoop(e.getSlideIndexWhenGrid(parseInt($.getAttribute("data-swiper-slide-index"))),0):e.slideTo(e.getSlideIndexWhenGrid(e.slides.indexOf($)),0),s=!1)}))},z=()=>{let B=e.params.a11y;B.itemRoleDescriptionMessage&&g(e.slides,B.itemRoleDescriptionMessage),B.slideRole&&m(e.slides,B.slideRole);let $=e.slides.length;B.slideLabelMessage&&e.slides.forEach((te,Ie)=>{let pt=e.params.loop?parseInt(te.getAttribute("data-swiper-slide-index"),10):Ie,ot=B.slideLabelMessage.replace(/\{\{index\}\}/,pt+1).replace(/\{\{slidesLength\}\}/,$);v(te,ot)})},Y=()=>{let B=e.params.a11y;e.el.append(i);let $=e.el;B.containerRoleDescriptionMessage&&g($,B.containerRoleDescriptionMessage),B.containerMessage&&v($,B.containerMessage),B.containerRole&&m($,B.containerRole);let te=e.wrapperEl,Ie=B.id||te.getAttribute("id")||`swiper-wrapper-${c(16)}`,pt=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";w(te,Ie),D(te,pt),z();let{nextEl:ot,prevEl:at}=e.navigation?e.navigation:{};ot=Re(ot),at=Re(at),ot&&ot.forEach(X=>_(X,Ie,B.nextSlideMessage)),at&&at.forEach(X=>_(X,Ie,B.prevSlideMessage)),M()&&Re(e.pagination.el).forEach(K=>{K.addEventListener("keydown",O)}),ft().addEventListener("visibilitychange",k),e.el.addEventListener("focus",S,!0),e.el.addEventListener("focus",S,!0),e.el.addEventListener("pointerdown",C,!0),e.el.addEventListener("pointerup",R,!0)};function J(){i&&i.remove();let{nextEl:B,prevEl:$}=e.navigation?e.navigation:{};B=Re(B),$=Re($),B&&B.forEach(Ie=>Ie.removeEventListener("keydown",O)),$&&$.forEach(Ie=>Ie.removeEventListener("keydown",O)),M()&&Re(e.pagination.el).forEach(pt=>{pt.removeEventListener("keydown",O)}),ft().removeEventListener("visibilitychange",k),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",S,!0),e.el.removeEventListener("pointerdown",C,!0),e.el.removeEventListener("pointerup",R,!0))}r("beforeInit",()=>{i=Gt("span",e.params.a11y.notificationClass),i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true")}),r("afterInit",()=>{e.params.a11y.enabled&&Y()}),r("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&z()}),r("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&U()}),r("paginationUpdate",()=>{e.params.a11y.enabled&&b()}),r("destroy",()=>{e.params.a11y.enabled&&J()})}function jL(n){let{swiper:e,extendParams:t,on:r}=n;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let i=!1,s={},o=g=>g.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=g=>{let h=Xe(),v;g?v=new URL(g):v=h.location;let w=v.pathname.slice(1).split("/").filter(O=>O!==""),D=w.length,I=w[D-2],E=w[D-1];return{key:I,value:E}},l=(g,h)=>{let v=Xe();if(!i||!e.params.history.enabled)return;let w;e.params.url?w=new URL(e.params.url):w=v.location;let D=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${h}"]`):e.slides[h],I=o(D.getAttribute("data-history"));if(e.params.history.root.length>0){let O=e.params.history.root;O[O.length-1]==="/"&&(O=O.slice(0,O.length-1)),I=`${O}/${g?`${g}/`:""}${I}`}else w.pathname.includes(g)||(I=`${g?`${g}/`:""}${I}`);e.params.history.keepQuery&&(I+=w.search);let E=v.history.state;E&&E.value===I||(e.params.history.replaceState?v.history.replaceState({value:I},null,I):v.history.pushState({value:I},null,I))},c=(g,h,v)=>{if(h)for(let w=0,D=e.slides.length;w<D;w+=1){let I=e.slides[w];if(o(I.getAttribute("data-history"))===h){let O=e.getSlideIndex(I);e.slideTo(O,g,v)}}else e.slideTo(0,g,v)},d=()=>{s=a(e.params.url),c(e.params.speed,s.value,!1)},f=()=>{let g=Xe();if(e.params.history){if(!g.history||!g.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}if(i=!0,s=a(e.params.url),!s.key&&!s.value){e.params.history.replaceState||g.addEventListener("popstate",d);return}c(0,s.value,e.params.runCallbacksOnInit),e.params.history.replaceState||g.addEventListener("popstate",d)}},m=()=>{let g=Xe();e.params.history.replaceState||g.removeEventListener("popstate",d)};r("init",()=>{e.params.history.enabled&&f()}),r("destroy",()=>{e.params.history.enabled&&m()}),r("transitionEnd _freeModeNoMomentumRelease",()=>{i&&l(e.params.history.key,e.activeIndex)}),r("slideChange",()=>{i&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})}function BL(n){let{swiper:e,extendParams:t,emit:r,on:i}=n,s=!1,o=ft(),a=Xe();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(m,g){if(e.virtual&&e.params.virtual.enabled){let h=e.slides.find(w=>w.getAttribute("data-hash")===g);return h?parseInt(h.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(bt(e.slidesEl,`.${e.params.slideClass}[data-hash="${g}"], swiper-slide[data-hash="${g}"]`)[0])}}});let l=()=>{r("hashChange");let m=o.location.hash.replace("#",""),g=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],h=g?g.getAttribute("data-hash"):"";if(m!==h){let v=e.params.hashNavigation.getSlideIndex(e,m);if(typeof v>"u"||Number.isNaN(v))return;e.slideTo(v)}},c=()=>{if(!s||!e.params.hashNavigation.enabled)return;let m=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],g=m?m.getAttribute("data-hash")||m.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${g}`||""),r("hashSet")):(o.location.hash=g||"",r("hashSet"))},d=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;s=!0;let m=o.location.hash.replace("#","");if(m){let h=e.params.hashNavigation.getSlideIndex(e,m);e.slideTo(h||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&a.addEventListener("hashchange",l)},f=()=>{e.params.hashNavigation.watchState&&a.removeEventListener("hashchange",l)};i("init",()=>{e.params.hashNavigation.enabled&&d()}),i("destroy",()=>{e.params.hashNavigation.enabled&&f()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{s&&c()}),i("slideChange",()=>{s&&e.params.cssMode&&c()})}function $L(n){let{swiper:e,extendParams:t,on:r,emit:i,params:s}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,d,f=new Date().getTime(),m,g,h,v,w,D,I;function E($){!e||e.destroyed||!e.wrapperEl||$.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",E),!(I||$.detail&&$.detail.bySwiperTouchMove)&&C())}let O=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?m=!0:m&&(c=d,m=!1);let $=e.autoplay.paused?d:f+c-new Date().getTime();e.autoplay.timeLeft=$,i("autoplayTimeLeft",$,$/l),a=requestAnimationFrame(()=>{O()})},U=()=>{let $;return e.virtual&&e.params.virtual.enabled?$=e.slides.find(Ie=>Ie.classList.contains("swiper-slide-active")):$=e.slides[e.activeIndex],$?parseInt($.getAttribute("data-swiper-autoplay"),10):void 0},j=$=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),O();let te=typeof $>"u"?e.params.autoplay.delay:$;l=e.params.autoplay.delay,c=e.params.autoplay.delay;let Ie=U();!Number.isNaN(Ie)&&Ie>0&&typeof $>"u"&&(te=Ie,l=Ie,c=Ie),d=te;let pt=e.params.speed,ot=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(pt,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,pt,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(pt,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,pt,!0,!0),i("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{j()})))};return te>0?(clearTimeout(o),o=setTimeout(()=>{ot()},te)):requestAnimationFrame(()=>{ot()}),te},M=()=>{f=new Date().getTime(),e.autoplay.running=!0,j(),i("autoplayStart")},b=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},_=($,te)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),$||(D=!0);let Ie=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",E):C()};if(e.autoplay.paused=!0,te){w&&(d=e.params.autoplay.delay),w=!1,Ie();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),Ie())},C=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),D?(D=!1,j(d)):j(),e.autoplay.paused=!1,i("autoplayResume"))},R=()=>{if(e.destroyed||!e.autoplay.running)return;let $=ft();$.visibilityState==="hidden"&&(D=!0,_(!0)),$.visibilityState==="visible"&&C()},k=$=>{$.pointerType==="mouse"&&(D=!0,I=!0,!(e.animating||e.autoplay.paused)&&_(!0))},S=$=>{$.pointerType==="mouse"&&(I=!1,e.autoplay.paused&&C())},z=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",k),e.el.addEventListener("pointerleave",S))},Y=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",k),e.el.removeEventListener("pointerleave",S))},J=()=>{ft().addEventListener("visibilitychange",R)},B=()=>{ft().removeEventListener("visibilitychange",R)};r("init",()=>{e.params.autoplay.enabled&&(z(),J(),M())}),r("destroy",()=>{Y(),B(),e.autoplay.running&&b()}),r("_freeModeStaticRelease",()=>{(h||D)&&C()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?b():_(!0,!0)}),r("beforeTransitionStart",($,te,Ie)=>{e.destroyed||!e.autoplay.running||(Ie||!e.params.autoplay.disableOnInteraction?_(!0,!0):b())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){b();return}g=!0,h=!1,D=!1,v=setTimeout(()=>{D=!0,h=!0,_(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!g)){if(clearTimeout(v),clearTimeout(o),e.params.autoplay.disableOnInteraction){h=!1,g=!1;return}h&&e.params.cssMode&&C(),h=!1,g=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:M,stop:b,pause:_,resume:C})}function HL(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,s=!1;e.thumbs={swiper:null};function o(){let c=e.thumbs.swiper;if(!c||c.destroyed)return;let d=c.clickedIndex,f=c.clickedSlide;if(f&&f.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof d>"u"||d===null)return;let m;c.params.loop?m=parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):m=d,e.params.loop?e.slideToLoop(m):e.slideTo(m)}function a(){let{thumbs:c}=e.params;if(i)return!1;i=!0;let d=e.constructor;if(c.swiper instanceof d){if(c.swiper.destroyed)return i=!1,!1;e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Hc(c.swiper)){let f=Object.assign({},c.swiper);Object.assign(f,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new d(f),s=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function l(c){let d=e.thumbs.swiper;if(!d||d.destroyed)return;let f=d.params.slidesPerView==="auto"?d.slidesPerViewDynamic():d.params.slidesPerView,m=1,g=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(m=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(m=1),m=Math.floor(m),d.slides.forEach(w=>w.classList.remove(g)),d.params.loop||d.params.virtual&&d.params.virtual.enabled)for(let w=0;w<m;w+=1)bt(d.slidesEl,`[data-swiper-slide-index="${e.realIndex+w}"]`).forEach(D=>{D.classList.add(g)});else for(let w=0;w<m;w+=1)d.slides[e.realIndex+w]&&d.slides[e.realIndex+w].classList.add(g);let h=e.params.thumbs.autoScrollOffset,v=h&&!d.params.loop;if(e.realIndex!==d.realIndex||v){let w=d.activeIndex,D,I;if(d.params.loop){let E=d.slides.find(O=>O.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);D=d.slides.indexOf(E),I=e.activeIndex>e.previousIndex?"next":"prev"}else D=e.realIndex,I=D>e.previousIndex?"next":"prev";v&&(D+=I==="next"?h:-1*h),d.visibleSlidesIndexes&&d.visibleSlidesIndexes.indexOf(D)<0&&(d.params.centeredSlides?D>w?D=D-Math.floor(f/2)+1:D=D+Math.floor(f/2)-1:D>w&&d.params.slidesPerGroup,d.slideTo(D,c?0:void 0))}}r("beforeInit",()=>{let{thumbs:c}=e.params;if(!(!c||!c.swiper))if(typeof c.swiper=="string"||c.swiper instanceof HTMLElement){let d=ft(),f=()=>{let g=typeof c.swiper=="string"?d.querySelector(c.swiper):c.swiper;if(g&&g.swiper)c.swiper=g.swiper,a(),l(!0);else if(g){let h=`${e.params.eventsPrefix}init`,v=w=>{c.swiper=w.detail[0],g.removeEventListener(h,v),a(),l(!0),c.swiper.update(),e.update()};g.addEventListener(h,v)}return g},m=()=>{if(e.destroyed)return;f()||requestAnimationFrame(m)};requestAnimationFrame(m)}else a(),l(!0)}),r("slideChange update resize observerUpdate",()=>{l()}),r("setTransition",(c,d)=>{let f=e.thumbs.swiper;!f||f.destroyed||f.setTransition(d)}),r("beforeDestroy",()=>{let c=e.thumbs.swiper;!c||c.destroyed||s&&c.destroy()}),Object.assign(e.thumbs,{init:a,update:l})}function zL(n){let{swiper:e,extendParams:t,emit:r,once:i}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function s(){if(e.params.cssMode)return;let l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;let{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:Rn()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;let{params:d,wrapperEl:f,rtlTranslate:m,snapGrid:g,touchEventsData:h}=e,w=Rn()-h.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<g.length?e.slideTo(g.length-1):e.slideTo(e.slides.length-1);return}if(d.freeMode.momentum){if(h.velocities.length>1){let b=h.velocities.pop(),_=h.velocities.pop(),C=b.position-_.position,R=b.time-_.time;e.velocity=C/R,e.velocity/=2,Math.abs(e.velocity)<d.freeMode.minimumVelocity&&(e.velocity=0),(R>150||Rn()-b.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=d.freeMode.momentumVelocityRatio,h.velocities.length=0;let D=1e3*d.freeMode.momentumRatio,I=e.velocity*D,E=e.translate+I;m&&(E=-E);let O=!1,U,j=Math.abs(e.velocity)*20*d.freeMode.momentumBounceRatio,M;if(E<e.maxTranslate())d.freeMode.momentumBounce?(E+e.maxTranslate()<-j&&(E=e.maxTranslate()-j),U=e.maxTranslate(),O=!0,h.allowMomentumBounce=!0):E=e.maxTranslate(),d.loop&&d.centeredSlides&&(M=!0);else if(E>e.minTranslate())d.freeMode.momentumBounce?(E-e.minTranslate()>j&&(E=e.minTranslate()+j),U=e.minTranslate(),O=!0,h.allowMomentumBounce=!0):E=e.minTranslate(),d.loop&&d.centeredSlides&&(M=!0);else if(d.freeMode.sticky){let b;for(let _=0;_<g.length;_+=1)if(g[_]>-E){b=_;break}Math.abs(g[b]-E)<Math.abs(g[b-1]-E)||e.swipeDirection==="next"?E=g[b]:E=g[b-1],E=-E}if(M&&i("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(m?D=Math.abs((-E-e.translate)/e.velocity):D=Math.abs((E-e.translate)/e.velocity),d.freeMode.sticky){let b=Math.abs((m?-E:E)-e.translate),_=e.slidesSizesGrid[e.activeIndex];b<_?D=d.speed:b<2*_?D=d.speed*1.5:D=d.speed*2.5}}else if(d.freeMode.sticky){e.slideToClosest();return}d.freeMode.momentumBounce&&O?(e.updateProgress(U),e.setTransition(D),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating=!0,bo(f,()=>{!e||e.destroyed||!h.allowMomentumBounce||(r("momentumBounce"),e.setTransition(d.speed),setTimeout(()=>{e.setTranslate(U),bo(f,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(E),e.setTransition(D),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,bo(f,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(E),e.updateActiveIndex(),e.updateSlidesClasses()}else if(d.freeMode.sticky){e.slideToClosest();return}else d.freeMode&&r("_freeModeNoMomentumRelease");(!d.freeMode.momentum||w>=d.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:s,onTouchMove:o,onTouchEnd:a}})}function qL(n){let{swiper:e,extendParams:t,on:r}=n;t({grid:{rows:1,fill:"column"}});let i,s,o,a,l=()=>{let v=e.params.spaceBetween;return typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*e.size:typeof v=="string"&&(v=parseFloat(v)),v},c=v=>{let{slidesPerView:w}=e.params,{rows:D,fill:I}=e.params.grid,E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:v.length;o=Math.floor(E/D),Math.floor(E/D)===E/D?i=E:i=Math.ceil(E/D)*D,w!=="auto"&&I==="row"&&(i=Math.max(i,w*D)),s=i/D},d=()=>{e.slides&&e.slides.forEach(v=>{v.swiperSlideGridSet&&(v.style.height="",v.style[e.getDirectionLabel("margin-top")]="")})},f=(v,w,D)=>{let{slidesPerGroup:I}=e.params,E=l(),{rows:O,fill:U}=e.params.grid,j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:D.length,M,b,_;if(U==="row"&&I>1){let C=Math.floor(v/(I*O)),R=v-O*I*C,k=C===0?I:Math.min(Math.ceil((j-C*O*I)/O),I);_=Math.floor(R/k),b=R-_*k+C*I,M=b+_*i/O,w.style.order=M}else U==="column"?(b=Math.floor(v/O),_=v-b*O,(b>o||b===o&&_===O-1)&&(_+=1,_>=O&&(_=0,b+=1))):(_=Math.floor(v/s),b=v-_*s);w.row=_,w.column=b,w.style.height=`calc((100% - ${(O-1)*E}px) / ${O})`,w.style[e.getDirectionLabel("margin-top")]=_!==0?E&&`${E}px`:"",w.swiperSlideGridSet=!0},m=(v,w)=>{let{centeredSlides:D,roundLengths:I}=e.params,E=l(),{rows:O}=e.params.grid;if(e.virtualSize=(v+E)*i,e.virtualSize=Math.ceil(e.virtualSize/O)-E,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+E}px`),D){let U=[];for(let j=0;j<w.length;j+=1){let M=w[j];I&&(M=Math.floor(M)),w[j]<e.virtualSize+w[0]&&U.push(M)}w.splice(0,w.length),w.push(...U)}},g=()=>{a=e.params.grid&&e.params.grid.rows>1},h=()=>{let{params:v,el:w}=e,D=v.grid&&v.grid.rows>1;a&&!D?(w.classList.remove(`${v.containerModifierClass}grid`,`${v.containerModifierClass}grid-column`),o=1,e.emitContainerClasses()):!a&&D&&(w.classList.add(`${v.containerModifierClass}grid`),v.grid.fill==="column"&&w.classList.add(`${v.containerModifierClass}grid-column`),e.emitContainerClasses()),a=D};r("init",g),r("update",h),e.grid={initSlides:c,unsetSlides:d,updateSlide:f,updateWrapperSize:m}}function JY(n){let e=this,{params:t,slidesEl:r}=e;t.loop&&e.loopDestroy();let i=s=>{if(typeof s=="string"){let o=document.createElement("div");an(o,s),r.append(o.children[0]),an(o,"")}else r.append(s)};if(typeof n=="object"&&"length"in n)for(let s=0;s<n.length;s+=1)n[s]&&i(n[s]);else i(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update()}function eQ(n){let e=this,{params:t,activeIndex:r,slidesEl:i}=e;t.loop&&e.loopDestroy();let s=r+1,o=a=>{if(typeof a=="string"){let l=document.createElement("div");an(l,a),i.prepend(l.children[0]),an(l,"")}else i.prepend(a)};if(typeof n=="object"&&"length"in n){for(let a=0;a<n.length;a+=1)n[a]&&o(n[a]);s=r+n.length}else o(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(s,0,!1)}function tQ(n,e){let t=this,{params:r,activeIndex:i,slidesEl:s}=t,o=i;r.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.recalcSlides());let a=t.slides.length;if(n<=0){t.prependSlide(e);return}if(n>=a){t.appendSlide(e);return}let l=o>n?o+1:o,c=[];for(let d=a-1;d>=n;d-=1){let f=t.slides[d];f.remove(),c.unshift(f)}if(typeof e=="object"&&"length"in e){for(let d=0;d<e.length;d+=1)e[d]&&s.append(e[d]);l=o>n?o+e.length:o}else s.append(e);for(let d=0;d<c.length;d+=1)s.append(c[d]);t.recalcSlides(),r.loop&&t.loopCreate(),(!r.observer||t.isElement)&&t.update(),r.loop?t.slideTo(l+t.loopedSlides,0,!1):t.slideTo(l,0,!1)}function nQ(n){let e=this,{params:t,activeIndex:r}=e,i=r;t.loop&&(i-=e.loopedSlides,e.loopDestroy());let s=i,o;if(typeof n=="object"&&"length"in n){for(let a=0;a<n.length;a+=1)o=n[a],e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1);s=Math.max(s,0)}else o=n,e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1),s=Math.max(s,0);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),t.loop?e.slideTo(s+e.loopedSlides,0,!1):e.slideTo(s,0,!1)}function rQ(){let n=this,e=[];for(let t=0;t<n.slides.length;t+=1)e.push(t);n.removeSlide(e)}function GL(n){let{swiper:e}=n;Object.assign(e,{appendSlide:JY.bind(e),prependSlide:eQ.bind(e),addSlide:tQ.bind(e),removeSlide:nQ.bind(e),removeAllSlides:rQ.bind(e)})}function Tr(n){let{effect:e,swiper:t,on:r,setTranslate:i,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=n;r("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),a&&a()&&t.classNames.push(`${t.params.containerModifierClass}3d`);let f=o?o():{};Object.assign(t.params,f),Object.assign(t.originalParams,f)}),r("setTranslate _virtualUpdated",()=>{t.params.effect===e&&i()}),r("setTransition",(f,m)=>{t.params.effect===e&&s(m)}),r("transitionEnd",()=>{if(t.params.effect===e&&l){if(!c||!c().slideShadows)return;t.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(m=>m.remove())}),l()}});let d;r("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(d=!0),requestAnimationFrame(()=>{d&&t.slides&&t.slides.length&&(i(),d=!1)}))})}function Bi(n,e){let t=Wn(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function So(n){let{swiper:e,duration:t,transformElements:r,allSlides:i}=n,{activeIndex:s}=e,o=a=>a.parentElement?a.parentElement:e.slides.find(c=>c.shadowRoot&&c.shadowRoot===a.parentNode);if(e.params.virtualTranslate&&t!==0){let a=!1,l;i?l=r:l=r.filter(c=>{let d=c.classList.contains("swiper-slide-transform")?o(c):c;return e.getSlideIndex(d)===s}),l.forEach(c=>{bo(c,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;let d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}function WL(n){let{swiper:e,extendParams:t,on:r}=n;t({fadeEffect:{crossFade:!1}}),Tr({effect:"fade",swiper:e,on:r,setTranslate:()=>{let{slides:o}=e,a=e.params.fadeEffect;for(let l=0;l<o.length;l+=1){let c=e.slides[l],f=-c.swiperSlideOffset;e.params.virtualTranslate||(f-=e.translate);let m=0;e.isHorizontal()||(m=f,f=0);let g=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),h=Bi(a,c);h.style.opacity=g,h.style.transform=`translate3d(${f}px, ${m}px, 0px)`}},setTransition:o=>{let a=e.slides.map(l=>Wn(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),So({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function KL(n){let{swiper:e,extendParams:t,on:r}=n;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});let i=(l,c,d)=>{let f=d?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),m=d?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");f||(f=Gt("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"left":"top"}`.split(" ")),l.append(f)),m||(m=Gt("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"right":"bottom"}`.split(" ")),l.append(m)),f&&(f.style.opacity=Math.max(-c,0)),m&&(m.style.opacity=Math.max(c,0))};Tr({effect:"cube",swiper:e,on:r,setTranslate:()=>{let{el:l,wrapperEl:c,slides:d,width:f,height:m,rtlTranslate:g,size:h,browser:v}=e,w=Eo(e),D=e.params.cubeEffect,I=e.isHorizontal(),E=e.virtual&&e.params.virtual.enabled,O=0,U;D.shadow&&(I?(U=e.wrapperEl.querySelector(".swiper-cube-shadow"),U||(U=Gt("div","swiper-cube-shadow"),e.wrapperEl.append(U)),U.style.height=`${f}px`):(U=l.querySelector(".swiper-cube-shadow"),U||(U=Gt("div","swiper-cube-shadow"),l.append(U))));for(let M=0;M<d.length;M+=1){let b=d[M],_=M;E&&(_=parseInt(b.getAttribute("data-swiper-slide-index"),10));let C=_*90,R=Math.floor(C/360);g&&(C=-C,R=Math.floor(-C/360));let k=Math.max(Math.min(b.progress,1),-1),S=0,z=0,Y=0;_%4===0?(S=-R*4*h,Y=0):(_-1)%4===0?(S=0,Y=-R*4*h):(_-2)%4===0?(S=h+R*4*h,Y=h):(_-3)%4===0&&(S=-h,Y=3*h+h*4*R),g&&(S=-S),I||(z=S,S=0);let J=`rotateX(${w(I?0:-C)}deg) rotateY(${w(I?C:0)}deg) translate3d(${S}px, ${z}px, ${Y}px)`;k<=1&&k>-1&&(O=_*90+k*90,g&&(O=-_*90-k*90)),b.style.transform=J,D.slideShadows&&i(b,k,I)}if(c.style.transformOrigin=`50% 50% -${h/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${h/2}px`,D.shadow)if(I)U.style.transform=`translate3d(0px, ${f/2+D.shadowOffset}px, ${-f/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${D.shadowScale})`;else{let M=Math.abs(O)-Math.floor(Math.abs(O)/90)*90,b=1.5-(Math.sin(M*2*Math.PI/360)/2+Math.cos(M*2*Math.PI/360)/2),_=D.shadowScale,C=D.shadowScale/b,R=D.shadowOffset;U.style.transform=`scale3d(${_}, 1, ${C}) translate3d(0px, ${m/2+R}px, ${-m/2/C}px) rotateX(-89.99deg)`}let j=(v.isSafari||v.isWebView)&&v.needPerspectiveFix?-h/2:0;c.style.transform=`translate3d(0px,0,${j}px) rotateX(${w(e.isHorizontal()?0:O)}deg) rotateY(${w(e.isHorizontal()?-O:0)}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${j}px`)},setTransition:l=>{let{el:c,slides:d}=e;if(d.forEach(f=>{f.style.transitionDuration=`${l}ms`,f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(m=>{m.style.transitionDuration=`${l}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){let f=c.querySelector(".swiper-cube-shadow");f&&(f.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{let l=e.isHorizontal();e.slides.forEach(c=>{let d=Math.max(Math.min(c.progress,1),-1);i(c,d,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function $i(n,e,t){let r=`swiper-slide-shadow${t?`-${t}`:""}${n?` swiper-slide-shadow-${n}`:""}`,i=Wn(e),s=i.querySelector(`.${r.split(" ").join(".")}`);return s||(s=Gt("div",r.split(" ")),i.append(s)),s}function YL(n){let{swiper:e,extendParams:t,on:r}=n;t({flipEffect:{slideShadows:!0,limitRotation:!0}});let i=(l,c)=>{let d=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),f=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");d||(d=$i("flip",l,e.isHorizontal()?"left":"top")),f||(f=$i("flip",l,e.isHorizontal()?"right":"bottom")),d&&(d.style.opacity=Math.max(-c,0)),f&&(f.style.opacity=Math.max(c,0))};Tr({effect:"flip",swiper:e,on:r,setTranslate:()=>{let{slides:l,rtlTranslate:c}=e,d=e.params.flipEffect,f=Eo(e);for(let m=0;m<l.length;m+=1){let g=l[m],h=g.progress;e.params.flipEffect.limitRotation&&(h=Math.max(Math.min(g.progress,1),-1));let v=g.swiperSlideOffset,D=-180*h,I=0,E=e.params.cssMode?-v-e.translate:-v,O=0;e.isHorizontal()?c&&(D=-D):(O=E,E=0,I=-D,D=0),g.style.zIndex=-Math.abs(Math.round(h))+l.length,d.slideShadows&&i(g,h);let U=`translate3d(${E}px, ${O}px, 0px) rotateX(${f(I)}deg) rotateY(${f(D)}deg)`,j=Bi(d,g);j.style.transform=U}},setTransition:l=>{let c=e.slides.map(d=>Wn(d));c.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${l}ms`})}),So({swiper:e,duration:l,transformElements:c})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(l=>{let c=l.progress;e.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),i(l,c)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function QL(n){let{swiper:e,extendParams:t,on:r}=n;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),Tr({effect:"coverflow",swiper:e,on:r,setTranslate:()=>{let{width:o,height:a,slides:l,slidesSizesGrid:c}=e,d=e.params.coverflowEffect,f=e.isHorizontal(),m=e.translate,g=f?-m+o/2:-m+a/2,h=f?d.rotate:-d.rotate,v=d.depth,w=Eo(e);for(let D=0,I=l.length;D<I;D+=1){let E=l[D],O=c[D],U=E.swiperSlideOffset,j=(g-U-O/2)/O,M=typeof d.modifier=="function"?d.modifier(j):j*d.modifier,b=f?h*M:0,_=f?0:h*M,C=-v*Math.abs(M),R=d.stretch;typeof R=="string"&&R.indexOf("%")!==-1&&(R=parseFloat(d.stretch)/100*O);let k=f?0:R*M,S=f?R*M:0,z=1-(1-d.scale)*Math.abs(M);Math.abs(S)<.001&&(S=0),Math.abs(k)<.001&&(k=0),Math.abs(C)<.001&&(C=0),Math.abs(b)<.001&&(b=0),Math.abs(_)<.001&&(_=0),Math.abs(z)<.001&&(z=0);let Y=`translate3d(${S}px,${k}px,${C}px)  rotateX(${w(_)}deg) rotateY(${w(b)}deg) scale(${z})`,J=Bi(d,E);if(J.style.transform=Y,E.style.zIndex=-Math.abs(Math.round(M))+1,d.slideShadows){let B=f?E.querySelector(".swiper-slide-shadow-left"):E.querySelector(".swiper-slide-shadow-top"),$=f?E.querySelector(".swiper-slide-shadow-right"):E.querySelector(".swiper-slide-shadow-bottom");B||(B=$i("coverflow",E,f?"left":"top")),$||($=$i("coverflow",E,f?"right":"bottom")),B&&(B.style.opacity=M>0?M:0),$&&($.style.opacity=-M>0?-M:0)}}},setTransition:o=>{e.slides.map(l=>Wn(l)).forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function XL(n){let{swiper:e,extendParams:t,on:r}=n;t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});let i=a=>typeof a=="string"?a:`${a}px`;Tr({effect:"creative",swiper:e,on:r,setTranslate:()=>{let{slides:a,wrapperEl:l,slidesSizesGrid:c}=e,d=e.params.creativeEffect,{progressMultiplier:f}=d,m=e.params.centeredSlides,g=Eo(e);if(m){let h=c[0]/2-e.params.slidesOffsetBefore||0;l.style.transform=`translateX(calc(50% - ${h}px))`}for(let h=0;h<a.length;h+=1){let v=a[h],w=v.progress,D=Math.min(Math.max(v.progress,-d.limitProgress),d.limitProgress),I=D;m||(I=Math.min(Math.max(v.originalProgress,-d.limitProgress),d.limitProgress));let E=v.swiperSlideOffset,O=[e.params.cssMode?-E-e.translate:-E,0,0],U=[0,0,0],j=!1;e.isHorizontal()||(O[1]=O[0],O[0]=0);let M={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};D<0?(M=d.next,j=!0):D>0&&(M=d.prev,j=!0),O.forEach((z,Y)=>{O[Y]=`calc(${z}px + (${i(M.translate[Y])} * ${Math.abs(D*f)}))`}),U.forEach((z,Y)=>{let J=M.rotate[Y]*Math.abs(D*f);U[Y]=J}),v.style.zIndex=-Math.abs(Math.round(w))+a.length;let b=O.join(", "),_=`rotateX(${g(U[0])}deg) rotateY(${g(U[1])}deg) rotateZ(${g(U[2])}deg)`,C=I<0?`scale(${1+(1-M.scale)*I*f})`:`scale(${1-(1-M.scale)*I*f})`,R=I<0?1+(1-M.opacity)*I*f:1-(1-M.opacity)*I*f,k=`translate3d(${b}) ${_} ${C}`;if(j&&M.shadow||!j){let z=v.querySelector(".swiper-slide-shadow");if(!z&&M.shadow&&(z=$i("creative",v)),z){let Y=d.shadowPerProgress?D*(1/d.limitProgress):D;z.style.opacity=Math.min(Math.max(Math.abs(Y),0),1)}}let S=Bi(d,v);S.style.transform=k,S.style.opacity=R,M.origin&&(S.style.transformOrigin=M.origin)}},setTransition:a=>{let l=e.slides.map(c=>Wn(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(d=>{d.style.transitionDuration=`${a}ms`})}),So({swiper:e,duration:a,transformElements:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function ZL(n){let{swiper:e,extendParams:t,on:r}=n;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Tr({effect:"cards",swiper:e,on:r,setTranslate:()=>{let{slides:o,activeIndex:a,rtlTranslate:l}=e,c=e.params.cardsEffect,{startTranslate:d,isTouched:f}=e.touchEventsData,m=l?-e.translate:e.translate;for(let g=0;g<o.length;g+=1){let h=o[g],v=h.progress,w=Math.min(Math.max(v,-4),4),D=h.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(D-=o[0].swiperSlideOffset);let I=e.params.cssMode?-D-e.translate:-D,E=0,O=-100*Math.abs(w),U=1,j=-c.perSlideRotate*w,M=c.perSlideOffset-Math.abs(w)*.75,b=e.virtual&&e.params.virtual.enabled?e.virtual.from+g:g,_=(b===a||b===a-1)&&w>0&&w<1&&(f||e.params.cssMode)&&m<d,C=(b===a||b===a+1)&&w<0&&w>-1&&(f||e.params.cssMode)&&m>d;if(_||C){let z=(1-Math.abs((Math.abs(w)-.5)/.5))**.5;j+=-28*w*z,U+=-.5*z,M+=96*z,E=`${-25*z*Math.abs(w)}%`}if(w<0?I=`calc(${I}px ${l?"-":"+"} (${M*Math.abs(w)}%))`:w>0?I=`calc(${I}px ${l?"-":"+"} (-${M*Math.abs(w)}%))`:I=`${I}px`,!e.isHorizontal()){let z=E;E=I,I=z}let R=w<0?`${1+(1-U)*w}`:`${1-(1-U)*w}`,k=`
        translate3d(${I}, ${E}, ${O}px)
        rotateZ(${c.rotate?l?-j:j:0}deg)
        scale(${R})
      `;if(c.slideShadows){let z=h.querySelector(".swiper-slide-shadow");z||(z=$i("cards",h)),z&&(z.style.opacity=Math.min(Math.max((Math.abs(w)-.5)/.5,0),1))}h.style.zIndex=-Math.abs(Math.round(v))+o.length;let S=Bi(c,h);S.style.transform=k}},setTransition:o=>{let a=e.slides.map(l=>Wn(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${o}ms`})}),So({swiper:e,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}var iQ=[ML,RL,kL,PL,NL,OL,LL,FL,VL,UL,jL,BL,$L,HL,zL,qL,GL,WL,KL,YL,QL,XL,ZL];Io.use(iQ);var qc=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Za(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Dv(n,e){let t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Za(e[r])&&Za(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Dv(n[r],e[r]):n[r]=e[r]})}function JL(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function eF(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function tF(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function Gc(n){return n===void 0&&(n=""),n.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}function nF(n){let{swiper:e,slides:t,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=n,c=i.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:d,pagination:f,navigation:m,scrollbar:g,virtual:h,thumbs:v}=e,w,D,I,E,O,U,j,M;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(w=!0),i.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(D=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(I=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&g&&!g.el&&(E=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(O=!0);let b=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),d[_].prevEl=void 0,d[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),d[_].el=void 0,e[_].el=void 0))};i.includes("loop")&&e.isElement&&(d.loop&&!r.loop?U=!0:!d.loop&&r.loop?j=!0:M=!0),c.forEach(_=>{if(Za(d[_])&&Za(r[_]))Object.assign(d[_],r[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in r[_]&&!r[_].enabled&&b(_);else{let C=r[_];(C===!0||C===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?C===!1&&b(_):d[_]=r[_]}}),c.includes("controller")&&!D&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),i.includes("children")&&t&&h&&d.virtual.enabled?(h.slides=t,h.update(!0)):i.includes("virtual")&&h&&d.virtual.enabled&&(t&&(h.slides=t),h.update(!0)),i.includes("children")&&t&&d.loop&&(M=!0),w&&v.init()&&v.update(!0),D&&(e.controller.control=d.controller.control),I&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),f.init(),f.render(),f.update()),E&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),g.init(),g.updateSize(),g.setTranslate()),O&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),an(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),an(o,e.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),e.el.appendChild(o))),s&&(d.navigation.nextEl=s),o&&(d.navigation.prevEl=o),m.init(),m.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(U||M)&&e.loopDestroy(),(j||M)&&e.loopCreate(),e.update()}var rF=n=>{if(parseFloat(n)===Number(n))return Number(n);if(n==="true"||n==="")return!0;if(n==="false")return!1;if(n==="null")return null;if(n!=="undefined"){if(typeof n=="string"&&n.includes("{")&&n.includes("}")&&n.includes('"')){let e;try{e=JSON.parse(n)}catch{e=n}return e}return n}},iF=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function sT(n,e,t){let r={},i={};Dv(r,Cv);let s=[...qc,"on"],o=s.map(l=>l.replace(/_/,""));s.forEach(l=>{l=l.replace("_",""),typeof n[l]<"u"&&(i[l]=n[l])});let a=[...n.attributes];return typeof e=="string"&&typeof t<"u"&&a.push({name:e,value:Za(t)?G({},t):t}),a.forEach(l=>{let c=iF.find(d=>l.name.startsWith(`${d}-`));if(c){let d=Gc(c),f=Gc(l.name.split(`${c}-`)[1]);typeof i[d]>"u"&&(i[d]={}),i[d]===!0&&(i[d]={enabled:!0}),i[d]===!1&&(i[d]={enabled:!1}),i[d][f]=rF(l.value)}else{let d=Gc(l.name);if(!o.includes(d))return;let f=rF(l.value);i[d]&&iF.includes(l.name)&&!Za(f)?(i[d].constructor!==Object&&(i[d]={}),i[d].enabled=!!f):i[d]=f}}),Dv(r,i),r.navigation?r.navigation=G({prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},r.navigation!==!0?r.navigation:{}):r.navigation===!1&&delete r.navigation,r.scrollbar?r.scrollbar=G({el:".swiper-scrollbar"},r.scrollbar!==!0?r.scrollbar:{}):r.scrollbar===!1&&delete r.scrollbar,r.pagination?r.pagination=G({el:".swiper-pagination"},r.pagination!==!0?r.pagination:{}):r.pagination===!1&&delete r.pagination,{params:r,passedParams:i}}var sQ=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",oQ="::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}",oT=class{},oF=typeof window>"u"||typeof HTMLElement>"u"?oT:HTMLElement,sF=`<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>
    `,aF=(n,e)=>{if(typeof CSSStyleSheet<"u"&&n.adoptedStyleSheets){let t=new CSSStyleSheet;t.replaceSync(e),n.adoptedStyleSheets=[t]}else{let t=document.createElement("style");t.rel="stylesheet",t.textContent=e,n.appendChild(t)}},xv=class extends oF{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return sF}static get prevButtonSvg(){return sF.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[sQ,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join(`
`)}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){let e=this.slideSlots||0,t=[...this.querySelectorAll("[slot^=slide-]")].map(r=>parseInt(r.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=t.length?Math.max(...t)+1:0,!!this.rendered){if(this.slideSlots>e)for(let r=e;r<this.slideSlots;r+=1){let i=document.createElement("swiper-slide");i.setAttribute("part",`slide slide-${r+1}`);let s=document.createElement("slot");s.setAttribute("name",`slide-${r+1}`),i.appendChild(s),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(i)}else if(this.slideSlots<e){let r=this.swiper.slides;for(let i=r.length-1;i>=0;i-=1)i>this.slideSlots&&r[i].remove()}}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&aF(this.shadowRoot,e),this.cssLinks().forEach(r=>{if(this.shadowRoot.querySelector(`link[href="${r}"]`))return;let s=document.createElement("link");s.rel="stylesheet",s.href=r,this.shadowRoot.appendChild(s)});let t=document.createElement("div");t.classList.add("swiper"),t.part="container",an(t,`
      <slot name="container-start"></slot>
      <div class="swiper-wrapper" part="wrapper">
        <slot></slot>
        ${Array.from({length:this.slideSlots}).map((r,i)=>`
        <swiper-slide part="slide slide-${i}">
          <slot name="slide-${i}"></slot>
        </swiper-slide>
        `).join("")}
      </div>
      <slot name="container-end"></slot>
      ${JL(this.passedParams)?`
        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>
        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>
      `:""}
      ${eF(this.passedParams)?`
        <div part="pagination" class="swiper-pagination"></div>
      `:""}
      ${tF(this.passedParams)?`
        <div part="scrollbar" class="swiper-scrollbar"></div>
      `:""}
    `),this.shadowRoot.appendChild(t),this.rendered=!0}initialize(){var e=this;if(this.swiper&&this.swiper.initialized)return;let{params:t,passedParams:r}=sT(this);this.swiperParams=t,this.passedParams=r,delete this.swiperParams.init,this.render(),this.swiper=new Io(this.shadowRoot.querySelector(".swiper"),ce(G(G({},t.virtual?{}:{observer:!0}),t),{touchEventsTarget:"container",onAny:function(i){i==="observerUpdate"&&e.calcSlideSlots();let s=t.eventsPrefix?`${t.eventsPrefix}${i.toLowerCase()}`:i.toLowerCase();for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];let c=new CustomEvent(s,{detail:a,bubbles:i!=="hashChange",cancelable:!0});e.dispatchEvent(c)}}))}connectedCallback(){this.swiper&&this.swiper.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.init===!1||this.getAttribute("init")==="false"||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.swiper&&this.swiper.destroy&&this.swiper.destroy()}updateSwiperOnPropChange(e,t){let{params:r,passedParams:i}=sT(this,e,t);this.passedParams=i,this.swiperParams=r,!(this.swiper&&this.swiper.params[e]===t)&&nF(G(G(G({swiper:this.swiper,passedParams:this.passedParams,changedParams:[Gc(e)]},e==="navigation"&&i[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{}),e==="pagination"&&i[e]?{paginationEl:".swiper-pagination"}:{}),e==="scrollbar"&&i[e]?{scrollbarEl:".swiper-scrollbar"}:{}))}attributeChangedCallback(e,t,r){this.swiper&&this.swiper.initialized&&(t==="true"&&r===null&&(r=!1),this.updateSwiperOnPropChange(e,r))}static get observedAttributes(){return qc.filter(t=>t.includes("_")).map(t=>t.replace(/[A-Z]/g,r=>`-${r}`).replace("_","").toLowerCase())}};qc.forEach(n=>{n!=="init"&&(n=n.replace("_",""),Object.defineProperty(xv.prototype,n,{configurable:!0,get(){return(this.passedParams||{})[n]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[n]=e,this.swiper&&this.swiper.initialized&&this.updateSwiperOnPropChange(n,e)}}))});var aT=class extends oF{constructor(){super(),this.attachShadow({mode:"open"})}render(){let e=this.lazy||this.getAttribute("lazy")===""||this.getAttribute("lazy")==="true";if(aF(this.shadowRoot,oQ),this.shadowRoot.appendChild(document.createElement("slot")),e){let t=document.createElement("div");t.classList.add("swiper-lazy-preloader"),t.part.add("preloader"),this.shadowRoot.appendChild(t)}}initialize(){this.render()}connectedCallback(){this.swiperLoopMoveDOM||this.initialize()}},lF=()=>{typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",xv),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",aT))};typeof window<"u"&&(window.SwiperElementRegisterParams=n=>{qc.push(...n)});lF();i0(Sv,pL).catch(n=>console.error(n));
