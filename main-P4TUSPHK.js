var DF=Object.defineProperty,xF=Object.defineProperties;var AF=Object.getOwnPropertyDescriptors;var XS=Object.getOwnPropertySymbols,MF=Object.getPrototypeOf,RF=Object.prototype.hasOwnProperty,kF=Object.prototype.propertyIsEnumerable,PF=Reflect.get;var ZS=(n,e,t)=>e in n?DF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,G=(n,e)=>{for(var t in e||={})RF.call(e,t)&&ZS(n,t,e[t]);if(XS)for(var t of XS(e))kF.call(e,t)&&ZS(n,t,e[t]);return n},ce=(n,e)=>xF(n,AF(e));var xs=(n,e,t)=>PF(MF(n),t,e);var P=(n,e,t)=>new Promise((r,i)=>{var s=l=>{try{a(t.next(l))}catch(c){i(c)}},o=l=>{try{a(t.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(n,e)).next())});function $v(n,e){return Object.is(n,e)}var qt=null,Pf=!1,zv=1,Cr=Symbol("SIGNAL");function Re(n){let e=qt;return qt=n,e}function Hv(){return qt}var Qa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jc(n){if(Pf)throw new Error("");if(qt===null)return;qt.consumerOnSignalRead(n);let e=qt.nextProducerIndex++;if(Vf(qt),e<qt.producerNode.length&&qt.producerNode[e]!==n&&Zc(qt)){let t=qt.producerNode[e];Ff(t,qt.producerIndexOfThis[e])}qt.producerNode[e]!==n&&(qt.producerNode[e]=n,qt.producerIndexOfThis[e]=Zc(qt)?eC(n,qt,e):0),qt.producerLastReadVersion[e]=n.version}function JS(){zv++}function qv(n){if(!(Zc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===zv)){if(!n.producerMustRecompute(n)&&!Lf(n)){Bv(n);return}n.producerRecomputeValue(n),Bv(n)}}function Gv(n){if(n.liveConsumerNode===void 0)return;let e=Pf;Pf=!0;try{for(let t of n.liveConsumerNode)t.dirty||NF(t)}finally{Pf=e}}function Wv(){return qt?.consumerAllowSignalWrites!==!1}function NF(n){n.dirty=!0,Gv(n),n.consumerMarkedDirty?.(n)}function Bv(n){n.dirty=!1,n.lastCleanEpoch=zv}function eu(n){return n&&(n.nextProducerIndex=0),Re(n)}function Of(n,e){if(Re(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Zc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ff(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Lf(n){Vf(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(qv(t),r!==t.version))return!0}return!1}function tu(n){if(Vf(n),Zc(n))for(let e=0;e<n.producerNode.length;e++)Ff(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function eC(n,e,t){if(tC(n),n.liveConsumerNode.length===0&&nC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=eC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ff(n,e){if(tC(n),n.liveConsumerNode.length===1&&nC(n))for(let r=0;r<n.producerNode.length;r++)Ff(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Vf(i),i.producerIndexOfThis[r]=e}}function Zc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Vf(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function tC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function nC(n){return n.producerNode!==void 0}function Kv(n,e){let t=Object.create(OF);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(qv(t),Jc(t),t.value===Nf)throw t.error;return t.value};return r[Cr]=t,r}var Uv=Symbol("UNSET"),jv=Symbol("COMPUTING"),Nf=Symbol("ERRORED"),OF=ce(G({},Qa),{value:Uv,dirty:!0,error:null,equal:$v,kind:"computed",producerMustRecompute(n){return n.value===Uv||n.value===jv},producerRecomputeValue(n){if(n.value===jv)throw new Error("Detected cycle in computations.");let e=n.value;n.value=jv;let t=eu(n),r,i=!1;try{r=n.computation(),Re(null),i=e!==Uv&&e!==Nf&&r!==Nf&&n.equal(e,r)}catch(s){r=Nf,n.error=s}finally{Of(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function LF(){throw new Error}var rC=LF;function iC(n){rC(n)}function Yv(n){rC=n}var FF=null;function Qv(n,e){let t=Object.create(Uf);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Jc(t),t.value);return r[Cr]=t,r}function nu(n,e){Wv()||iC(n),n.equal(n.value,e)||(n.value=e,VF(n))}function Xv(n,e){Wv()||iC(n),nu(n,e(n.value))}var Uf=ce(G({},Qa),{equal:$v,value:void 0,kind:"signal"});function VF(n){n.version++,JS(),Gv(n),FF?.()}function Zv(n){let e=Re(null);try{return n()}finally{Re(e)}}var Jv;function ru(){return Jv}function Hi(n){let e=Jv;return Jv=n,e}var jf=Symbol("NotFound");function Te(n){return typeof n=="function"}function Xa(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Bf=Xa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ao(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var St=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Te(r))try{r()}catch(s){e=s instanceof Bf?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{sC(s)}catch(o){e=e??[],o instanceof Bf?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Bf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)sC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ao(t,e)}remove(e){let{_finalizers:t}=this;t&&Ao(t,e),e instanceof n&&e._removeParent(this)}};St.EMPTY=(()=>{let n=new St;return n.closed=!0,n})();var ey=St.EMPTY;function $f(n){return n instanceof St||n&&"closed"in n&&Te(n.remove)&&Te(n.add)&&Te(n.unsubscribe)}function sC(n){Te(n)?n():n.unsubscribe()}var Dr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Za={setTimeout(n,e,...t){let{delegate:r}=Za;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Za;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zf(n){Za.setTimeout(()=>{let{onUnhandledError:e}=Dr;if(e)e(n);else throw n})}function iu(){}var oC=ty("C",void 0,void 0);function aC(n){return ty("E",void 0,n)}function lC(n){return ty("N",n,void 0)}function ty(n,e,t){return{kind:n,value:e,error:t}}var Mo=null;function Ja(n){if(Dr.useDeprecatedSynchronousErrorHandling){let e=!Mo;if(e&&(Mo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Mo;if(Mo=null,t)throw r}}else n()}function cC(n){Dr.useDeprecatedSynchronousErrorHandling&&Mo&&(Mo.errorThrown=!0,Mo.error=n)}var Ro=class extends St{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$f(e)&&e.add(this)):this.destination=HF}static create(e,t,r){return new As(e,t,r)}next(e){this.isStopped?ry(lC(e),this):this._next(e)}error(e){this.isStopped?ry(aC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ry(oC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$F=Function.prototype.bind;function ny(n,e){return $F.call(n,e)}var iy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Hf(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Hf(r)}else Hf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Hf(t)}}},As=class extends Ro{constructor(e,t,r){super();let i;if(Te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Dr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ny(e.next,s),error:e.error&&ny(e.error,s),complete:e.complete&&ny(e.complete,s)}):i=e}this.destination=new iy(i)}};function Hf(n){Dr.useDeprecatedSynchronousErrorHandling?cC(n):zf(n)}function zF(n){throw n}function ry(n,e){let{onStoppedNotification:t}=Dr;t&&Za.setTimeout(()=>t(n,e))}var HF={closed:!0,next:iu,error:zF,complete:iu};var el=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xn(n){return n}function qf(...n){return sy(n)}function sy(n){return n.length===0?Xn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ke=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=GF(t)?t:new As(t,r,i);return Ja(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=uC(r),new r((i,s)=>{let o=new As({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[el](){return this}pipe(...t){return sy(t)(this)}toPromise(t){return t=uC(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function uC(n){var e;return(e=n??Dr.Promise)!==null&&e!==void 0?e:Promise}function qF(n){return n&&Te(n.next)&&Te(n.error)&&Te(n.complete)}function GF(n){return n&&n instanceof Ro||qF(n)&&$f(n)}function oy(n){return Te(n?.lift)}function ze(n){return e=>{if(oy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Be(n,e,t,r,i){return new ay(n,e,t,r,i)}var ay=class extends Ro{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function tl(){return ze((n,e)=>{let t=null;n._refCount++;let r=Be(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var nl=class extends ke{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,oy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new St;let t=this.getSubject();e.add(this.source.subscribe(Be(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=St.EMPTY)}return e}refCount(){return tl()(this)}};var dC=Xa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Mt=(()=>{class n extends ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Gf(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new dC}next(t){Ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ey:(this.currentObservers=null,s.push(t),new St(()=>{this.currentObservers=null,Ao(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ke;return t.source=this,t}}return n.create=(e,t)=>new Gf(e,t),n})(),Gf=class extends Mt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:ey}};var Rt=class extends Mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ly={now(){return(ly.delegate||Date).now()},delegate:void 0};var Wf=class extends St{constructor(e,t){super()}schedule(e,t=0){return this}};var su={setInterval(n,e,...t){let{delegate:r}=su;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=su;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var rl=class extends Wf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return su.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&su.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ao(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var il=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};il.now=ly.now;var sl=class extends il{constructor(e,t=il.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var cy=new sl(rl);var Kf=class extends rl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Yf=class extends sl{};var uy=new Yf(Kf);var Rn=new ke(n=>n.complete());function fC(n){return n&&Te(n.schedule)}function hC(n){return n[n.length-1]}function Qf(n){return Te(hC(n))?n.pop():void 0}function Ms(n){return fC(hC(n))?n.pop():void 0}function dy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function mC(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function pC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ko(n){return this instanceof ko?(this.v=n,this):new ko(n)}function gC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(h){return Promise.resolve(h).then(m,f)}}function a(m,h){r[m]&&(i[m]=function(v){return new Promise(function(w,x){s.push([m,v,w,x])>1||l(m,v)})},h&&(i[m]=h(i[m])))}function l(m,h){try{c(r[m](h))}catch(v){g(s[0][3],v)}}function c(m){m.value instanceof ko?Promise.resolve(m.value.v).then(d,f):g(s[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function g(m,h){m(h),s.shift(),s.length&&l(s[0][0],s[0][1])}}function vC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof pC=="function"?pC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var Xf=n=>n&&typeof n.length=="number"&&typeof n!="function";function Zf(n){return Te(n?.then)}function Jf(n){return Te(n[el])}function eh(n){return Symbol.asyncIterator&&Te(n?.[Symbol.asyncIterator])}function th(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nh=WF();function rh(n){return Te(n?.[nh])}function ih(n){return gC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ko(t.read());if(i)return yield ko(void 0);yield yield ko(r)}}finally{t.releaseLock()}})}function sh(n){return Te(n?.getReader)}function Ut(n){if(n instanceof ke)return n;if(n!=null){if(Jf(n))return KF(n);if(Xf(n))return YF(n);if(Zf(n))return QF(n);if(eh(n))return yC(n);if(rh(n))return XF(n);if(sh(n))return ZF(n)}throw th(n)}function KF(n){return new ke(e=>{let t=n[el]();if(Te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YF(n){return new ke(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function QF(n){return new ke(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zf)})}function XF(n){return new ke(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function yC(n){return new ke(e=>{JF(n,e).catch(t=>e.error(t))})}function ZF(n){return yC(ih(n))}function JF(n,e){var t,r,i,s;return mC(this,void 0,void 0,function*(){try{for(t=vC(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function kn(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Rs(n,e=0){return ze((t,r)=>{t.subscribe(Be(r,i=>kn(r,n,()=>r.next(i),e),()=>kn(r,n,()=>r.complete(),e),i=>kn(r,n,()=>r.error(i),e)))})}function ks(n,e=0){return ze((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wC(n,e){return Ut(n).pipe(ks(e),Rs(e))}function _C(n,e){return Ut(n).pipe(ks(e),Rs(e))}function bC(n,e){return new ke(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function EC(n,e){return new ke(t=>{let r;return kn(t,e,()=>{r=n[nh](),kn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}function oh(n,e){if(!n)throw new Error("Iterable cannot be null");return new ke(t=>{kn(t,e,()=>{let r=n[Symbol.asyncIterator]();kn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function IC(n,e){return oh(ih(n),e)}function TC(n,e){if(n!=null){if(Jf(n))return wC(n,e);if(Xf(n))return bC(n,e);if(Zf(n))return _C(n,e);if(eh(n))return oh(n,e);if(rh(n))return EC(n,e);if(sh(n))return IC(n,e)}throw th(n)}function Se(n,e){return e?TC(n,e):Ut(n)}function de(...n){let e=Ms(n);return Se(n,e)}function xr(n,e){let t=Te(n)?n:()=>n,r=i=>i.error(t());return new ke(e?i=>e.schedule(r,0,i):r)}function fy(n){return!!n&&(n instanceof ke||Te(n.lift)&&Te(n.subscribe))}var Ar=Xa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Po(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let s=new As({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Ar)}});n.subscribe(s)})}function ve(n,e){return ze((t,r)=>{let i=0;t.subscribe(Be(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:eV}=Array;function tV(n,e){return eV(e)?n(...e):n(e)}function ah(n){return ve(e=>tV(n,e))}var{isArray:nV}=Array,{getPrototypeOf:rV,prototype:iV,keys:sV}=Object;function lh(n){if(n.length===1){let e=n[0];if(nV(e))return{args:e,keys:null};if(oV(e)){let t=sV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function oV(n){return n&&typeof n=="object"&&rV(n)===iV}function ch(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function No(...n){let e=Ms(n),t=Qf(n),{args:r,keys:i}=lh(n);if(r.length===0)return Se([],e);let s=new ke(aV(r,e,i?o=>ch(i,o):Xn));return t?s.pipe(ah(t)):s}function aV(n,e,t=Xn){return r=>{SC(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)SC(e,()=>{let c=Se(n[l],e),d=!1;c.subscribe(Be(r,f=>{s[l]=f,d||(d=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function SC(n,e,t){n?kn(t,n,e):e()}function CC(n,e,t,r,i,s,o,a){let l=[],c=0,d=0,f=!1,g=()=>{f&&!l.length&&!c&&e.complete()},m=v=>c<r?h(v):l.push(v),h=v=>{s&&e.next(v),c++;let w=!1;Ut(t(v,d++)).subscribe(Be(e,x=>{i?.(x),s?m(x):e.next(x)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<r;){let x=l.shift();o?kn(e,o,()=>h(x)):h(x)}g()}catch(x){e.error(x)}}))};return n.subscribe(Be(e,m,()=>{f=!0,g()})),()=>{a?.()}}function kt(n,e,t=1/0){return Te(e)?kt((r,i)=>ve((s,o)=>e(r,s,i,o))(Ut(n(r,i))),t):(typeof e=="number"&&(t=e),ze((r,i)=>CC(r,i,n,t)))}function Ps(n=1/0){return kt(Xn,n)}function DC(){return Ps(1)}function ol(...n){return DC()(Se(n,Ms(n)))}function uh(n){return new ke(e=>{Ut(n()).subscribe(e)})}function hy(...n){let e=Qf(n),{args:t,keys:r}=lh(n),i=new ke(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let d=0;d<o;d++){let f=!1;Ut(t[d]).subscribe(Be(s,g=>{f||(f=!0,c--),a[d]=g},()=>l--,void 0,()=>{(!l||!f)&&(c||s.next(r?ch(r,a):a),s.complete())}))}});return e?i.pipe(ah(e)):i}function Pn(n,e){return ze((t,r)=>{let i=0;t.subscribe(Be(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Pt(n){return ze((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Be(t,void 0,void 0,o=>{s=Ut(n(o,Pt(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function xC(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Be(o,d=>{let f=c++;l=a?n(l,d,f):(a=!0,d),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Ns(n,e){return Te(e)?kt(n,e,1):kt(n,1)}function Os(n){return ze((e,t)=>{let r=!1;e.subscribe(Be(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Mr(n){return n<=0?()=>Rn:ze((e,t)=>{let r=0;e.subscribe(Be(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function dh(n=lV){return ze((e,t)=>{let r=!1;e.subscribe(Be(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function lV(){return new Ar}function ou(n){return ze((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function qi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Pn((i,s)=>n(i,s,r)):Xn,Mr(1),t?Os(e):dh(()=>new Ar))}function al(n){return n<=0?()=>Rn:ze((e,t)=>{let r=[];e.subscribe(Be(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function py(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Pn((i,s)=>n(i,s,r)):Xn,al(1),t?Os(e):dh(()=>new Ar))}function fh(n,e){return ze(xC(n,e,arguments.length>=2,!0))}function hh(...n){let e=Ms(n);return ze((t,r)=>{(e?ol(n,t,e):ol(n,t)).subscribe(r)})}function Nt(n,e){return ze((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(Be(r,l=>{i?.unsubscribe();let c=0,d=s++;Ut(n(l,d)).subscribe(i=Be(r,f=>r.next(e?e(l,f,d,c++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function my(n){return ze((e,t)=>{Ut(n).subscribe(Be(t,()=>t.complete(),iu)),!t.closed&&e.subscribe(t)})}function an(n,e,t){let r=Te(n)||e||t?{next:n,error:e,complete:t}:n;return r?ze((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Be(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Xn}var pD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ue=class extends Error{code;constructor(e,t){super(mD(e,t)),this.code=e}};function cV(n){return`NG0${Math.abs(n)}`}function mD(n,e){return`${cV(n)}${e?": "+e:""}`}var gD=Symbol("InputSignalNode#UNSET"),uV=ce(G({},Uf),{transformFn:void 0,applyValueToInputSignal(n,e){nu(n,e)}});function vD(n,e){let t=Object.create(uV);t.value=n,t.transformFn=e?.transform;function r(){if(Jc(t),t.value===gD){let i=null;throw new ue(-950,i)}return t.value}return r[Cr]=t,r}function Iu(n){return{toString:n}.toString()}var ph="__parameters__";function dV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function yD(n,e,t){return Iu(()=>{let r=dV(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,d){let f=l.hasOwnProperty(ph)?l[ph]:Object.defineProperty(l,ph,{value:[]})[ph];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Lo=globalThis;function ct(n){for(let e in n)if(n[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function fV(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ln(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ln).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ry(n,e){return n?e?`${n} ${e}`:n:e||""}var hV=ct({__forward_ref__:ct});function Yi(n){return n.__forward_ref__=Yi,n.toString=function(){return Ln(this())},n}function xn(n){return wD(n)?n():n}function wD(n){return typeof n=="function"&&n.hasOwnProperty(hV)&&n.__forward_ref__===Yi}function ie(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ci(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yh(n){return AC(n,bD)||AC(n,ED)}function _D(n){return Yh(n)!==null}function AC(n,e){return n.hasOwnProperty(e)?n[e]:null}function pV(n){let e=n&&(n[bD]||n[ED]);return e||null}function MC(n){return n&&(n.hasOwnProperty(RC)||n.hasOwnProperty(mV))?n[RC]:null}var bD=ct({\u0275prov:ct}),RC=ct({\u0275inj:ct}),ED=ct({ngInjectableDef:ct}),mV=ct({ngInjectorDef:ct}),le=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ie({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ID(n){return n&&!!n.\u0275providers}var gV=ct({\u0275cmp:ct}),vV=ct({\u0275dir:ct}),yV=ct({\u0275pipe:ct}),wV=ct({\u0275mod:ct}),Ih=ct({\u0275fac:ct}),uu=ct({__NG_ELEMENT_ID__:ct}),kC=ct({__NG_ENV_ID__:ct});function pl(n){return typeof n=="string"?n:n==null?"":String(n)}function _V(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():pl(n)}function TD(n,e){throw new ue(-200,n)}function kw(n,e){throw new ue(-201,!1)}var Le=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Le||{}),ky;function SD(){return ky}function Nn(n){let e=ky;return ky=n,e}function CD(n,e,t){let r=Yh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Le.Optional)return null;if(e!==void 0)return e;kw(n,"Injector")}var bV={},Fo=bV,Py="__NG_DI_FLAG__",Th=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?jf:Fo,r)}},Sh="ngTempTokenPath",EV="ngTokenPath",IV=/\n/gm,TV="\u0275",PC="__source";function SV(n,e=Le.Default){if(ru()===void 0)throw new ue(-203,!1);if(ru()===null)return CD(n,void 0,e);{let t=ru(),r;return t instanceof Th?r=t.injector:r=t,r.get(n,e&Le.Optional?null:void 0,e)}}function ye(n,e=Le.Default){return(SD()||SV)(xn(n),e)}function F(n,e=Le.Default){return ye(n,Qh(e))}function Qh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ny(n){let e=[];for(let t=0;t<n.length;t++){let r=xn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ue(900,!1);let i,s=Le.Default;for(let o=0;o<r.length;o++){let a=r[o],l=CV(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(ye(i,s))}else e.push(ye(r))}return e}function DD(n,e){return n[Py]=e,n.prototype[Py]=e,n}function CV(n){return n[Py]}function DV(n,e,t,r){let i=n[Sh];throw e[PC]&&i.unshift(e[PC]),n.message=xV(`
`+n.message,i,t,r),n[EV]=i,n[Sh]=null,n}function xV(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==TV?n.slice(2):n;let i=Ln(e);if(Array.isArray(e))i=e.map(Ln).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ln(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(IV,`
  `)}`}var Zt=DD(yD("Optional"),8);var AV=DD(yD("SkipSelf"),4);function Uo(n,e){let t=n.hasOwnProperty(Ih);return t?n[Ih]:null}function MV(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function RV(n){return n.flat(Number.POSITIVE_INFINITY)}function Pw(n,e){n.forEach(t=>Array.isArray(t)?Pw(t,e):e(t))}function xD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ch(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function kV(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function Nw(n,e,t){let r=Tu(n,e);return r>=0?n[r|1]=t:(r=~r,kV(n,r,e,t)),r}function gy(n,e){let t=Tu(n,e);if(t>=0)return n[t|1]}function Tu(n,e){return PV(n,e,1)}function PV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var jo={},On=[],du=new le(""),AD=new le("",-1),MD=new le(""),Dh=class{get(e,t=Fo){if(t===Fo){let r=new Error(`NullInjectorError: No provider for ${Ln(e)}!`);throw r.name="NullInjectorError",r}return t}};function RD(n,e){let t=n[wV]||null;if(!t&&e===!0)throw new Error(`Type ${Ln(n)} does not have '\u0275mod' property.`);return t}function Bo(n){return n[gV]||null}function NV(n){return n[vV]||null}function OV(n){return n[yV]||null}function Lr(n){return{\u0275providers:n}}function LV(...n){return{\u0275providers:kD(!0,n),\u0275fromNgModule:!0}}function kD(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return Pw(e,o=>{let a=o;Oy(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&PD(i,s),t}function PD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Ow(i,s=>{e(s,r)})}}function Oy(n,e,t,r){if(n=xn(n),!n)return!1;let i=null,s=MC(n),o=!s&&Bo(n);if(!s&&!o){let l=n.ngModule;if(s=MC(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Oy(c,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{Pw(s.imports,d=>{Oy(d,e,t,r)&&(c||=[],c.push(d))})}finally{}c!==void 0&&PD(c,e)}if(!a){let c=Uo(i)||(()=>new i);e({provide:i,useFactory:c,deps:On},i),e({provide:MD,useValue:i,multi:!0},i),e({provide:du,useValue:()=>ye(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=n;Ow(l,d=>{e(d,c)})}}else return!1;return i!==n&&n.providers!==void 0}function Ow(n,e){for(let t of n)ID(t)&&(t=t.\u0275providers),Array.isArray(t)?Ow(t,e):e(t)}var FV=ct({provide:String,useValue:ct});function ND(n){return n!==null&&typeof n=="object"&&FV in n}function VV(n){return!!(n&&n.useExisting)}function UV(n){return!!(n&&n.useFactory)}function ml(n){return typeof n=="function"}function jV(n){return!!n.useClass}var Xh=new le(""),vh={},NC={},vy;function Lw(){return vy===void 0&&(vy=new Dh),vy}var pn=class{},fu=class extends pn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Fy(e,o=>this.processProvider(o)),this.records.set(AD,ll(void 0,this)),i.has("environment")&&this.records.set(pn,ll(void 0,this));let s=this.records.get(Xh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(MD,On,Le.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?jf:Fo,r)}destroy(){lu(this),this._destroyed=!0;let e=Re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Re(e)}}onDestroy(e){return lu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){lu(this);let t=Hi(this),r=Nn(void 0),i;try{return e()}finally{Hi(t),Nn(r)}}get(e,t=Fo,r=Le.Default){if(lu(this),e.hasOwnProperty(kC))return e[kC](this);r=Qh(r);let i,s=Hi(this),o=Nn(void 0);try{if(!(r&Le.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=qV(e)&&Yh(e);c&&this.injectableDefInScope(c)?l=ll(Ly(e),vh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Le.Self?Lw():this.parent;return t=r&Le.Optional&&t===Fo?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Sh]=a[Sh]||[]).unshift(Ln(e)),s)throw a;return DV(a,e,"R3InjectorError",this.source)}else throw a}finally{Nn(o),Hi(s)}}resolveInjectorInitializers(){let e=Re(null),t=Hi(this),r=Nn(void 0),i;try{let s=this.get(du,On,Le.Self);for(let o of s)o()}finally{Hi(t),Nn(r),Re(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ln(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=xn(e);let t=ml(e)?e:xn(e&&e.provide),r=$V(e);if(!ml(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ll(void 0,vh,!0),i.factory=()=>Ny(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Re(null);try{return t.value===NC?TD(Ln(e)):t.value===vh&&(t.value=NC,t.value=t.factory()),typeof t.value=="object"&&t.value&&HV(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=xn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ly(n){let e=Yh(n),t=e!==null?e.factory:Uo(n);if(t!==null)return t;if(n instanceof le)throw new ue(204,!1);if(n instanceof Function)return BV(n);throw new ue(204,!1)}function BV(n){if(n.length>0)throw new ue(204,!1);let t=pV(n);return t!==null?()=>t.factory(n):()=>new n}function $V(n){if(ND(n))return ll(void 0,n.useValue);{let e=OD(n);return ll(e,vh)}}function OD(n,e,t){let r;if(ml(n)){let i=xn(n);return Uo(i)||Ly(i)}else if(ND(n))r=()=>xn(n.useValue);else if(UV(n))r=()=>n.useFactory(...Ny(n.deps||[]));else if(VV(n))r=()=>ye(xn(n.useExisting));else{let i=xn(n&&(n.useClass||n.provide));if(zV(n))r=()=>new i(...Ny(n.deps));else return Uo(i)||Ly(i)}return r}function lu(n){if(n.destroyed)throw new ue(205,!1)}function ll(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function zV(n){return!!n.deps}function HV(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function qV(n){return typeof n=="function"||typeof n=="object"&&n instanceof le}function Fy(n,e){for(let t of n)Array.isArray(t)?Fy(t,e):t&&ID(t)?Fy(t.\u0275providers,e):e(t)}function vn(n,e){let t;n instanceof fu?(lu(n),t=n):t=new Th(n);let r,i=Hi(t),s=Nn(void 0);try{return e()}finally{Hi(i),Nn(s)}}function LD(){return SD()!==void 0||ru()!=null}function Zh(n){if(!LD())throw new ue(-203,!1)}function GV(n){return typeof n=="function"}var Qi=0,Ce=1,be=2,mn=3,Pr=4,Fr=5,hu=6,xh=7,Gt=8,gl=9,Gi=10,Wt=11,pu=12,OC=13,Il=14,Nr=15,$o=16,cl=17,Wi=18,Jh=19,FD=20,Ls=21,yy=22,zo=23,lr=24,fl=25,gn=26,VD=1;var Ho=7,Ah=8,vl=9,hn=10;function Fs(n){return Array.isArray(n)&&typeof n[VD]=="object"}function Xi(n){return Array.isArray(n)&&n[VD]===!0}function UD(n){return(n.flags&4)!==0}function Tl(n){return n.componentOffset>-1}function Fw(n){return(n.flags&1)===1}function ii(n){return!!n.template}function Mh(n){return(n[be]&512)!==0}function Su(n){return(n[be]&256)===256}var Vy=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function jD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Vr=(()=>{let n=()=>BD;return n.ngInherit=!0,n})();function BD(n){return n.type.prototype.ngOnChanges&&(n.setInput=KV),WV}function WV(){let n=zD(this),e=n?.current;if(e){let t=n.previous;if(t===jo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function KV(n,e,t,r,i){let s=this.declaredInputs[r],o=zD(n)||YV(n,{previous:jo,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Vy(c&&c.currentValue,t,l===jo),jD(n,e,i,t)}var $D="__ngSimpleChanges__";function zD(n){return n[$D]||null}function YV(n,e){return n[$D]=e}var LC=null;var it=function(n,e=null,t){LC?.(n,e,t)},QV="svg",XV="math";function si(n){for(;Array.isArray(n);)n=n[Qi];return n}function HD(n,e){return si(e[n])}function ui(n,e){return si(e[n.index])}function Vw(n,e){return n.data[e]}function Uw(n,e){return n[e]}function oi(n,e){let t=e[n];return Fs(t)?t:t[Qi]}function ZV(n){return(n[be]&4)===4}function jw(n){return(n[be]&128)===128}function JV(n){return Xi(n[mn])}function yl(n,e){return e==null?null:n[e]}function qD(n){n[cl]=0}function GD(n){n[be]&1024||(n[be]|=1024,jw(n)&&Sl(n))}function e2(n,e){for(;n>0;)e=e[Il],n--;return e}function ep(n){return!!(n[be]&9216||n[lr]?.dirty)}function Uy(n){n[Gi].changeDetectionScheduler?.notify(8),n[be]&64&&(n[be]|=1024),ep(n)&&Sl(n)}function Sl(n){n[Gi].changeDetectionScheduler?.notify(0);let e=qo(n);for(;e!==null&&!(e[be]&8192||(e[be]|=8192,!jw(e)));)e=qo(e)}function WD(n,e){if(Su(n))throw new ue(911,!1);n[Ls]===null&&(n[Ls]=[]),n[Ls].push(e)}function t2(n,e){if(n[Ls]===null)return;let t=n[Ls].indexOf(e);t!==-1&&n[Ls].splice(t,1)}function qo(n){let e=n[mn];return Xi(e)?e[mn]:e}function Bw(n){return n[xh]??=[]}function $w(n){return n.cleanup??=[]}function n2(n,e,t,r){let i=Bw(e);i.push(t),n.firstCreatePass&&$w(n).push(r,i.length-1)}var Pe={lFrame:tx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var jy=!1;function r2(){return Pe.lFrame.elementDepthCount}function i2(){Pe.lFrame.elementDepthCount++}function s2(){Pe.lFrame.elementDepthCount--}function KD(){return Pe.bindingsEnabled}function o2(){return Pe.skipHydrationRootTNode!==null}function a2(n){return Pe.skipHydrationRootTNode===n}function l2(){Pe.skipHydrationRootTNode=null}function Ne(){return Pe.lFrame.lView}function Jt(){return Pe.lFrame.tView}function he(n){return Pe.lFrame.contextLView=n,n[Gt]}function pe(n){return Pe.lFrame.contextLView=null,n}function Fn(){let n=YD();for(;n!==null&&n.type===64;)n=n.parent;return n}function YD(){return Pe.lFrame.currentTNode}function c2(){let n=Pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Cu(n,e){let t=Pe.lFrame;t.currentTNode=n,t.isParent=e}function QD(){return Pe.lFrame.isParent}function u2(){Pe.lFrame.isParent=!1}function d2(){return Pe.lFrame.contextLView}function XD(){return jy}function Rh(n){let e=jy;return jy=n,e}function Du(){let n=Pe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function f2(){return Pe.lFrame.bindingIndex}function h2(n){return Pe.lFrame.bindingIndex=n}function xu(){return Pe.lFrame.bindingIndex++}function zw(n){let e=Pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function p2(){return Pe.lFrame.inI18n}function m2(n,e){let t=Pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,By(e)}function g2(){return Pe.lFrame.currentDirectiveIndex}function By(n){Pe.lFrame.currentDirectiveIndex=n}function v2(n){let e=Pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function ZD(){return Pe.lFrame.currentQueryIndex}function Hw(n){Pe.lFrame.currentQueryIndex=n}function y2(n){let e=n[Ce];return e.type===2?e.declTNode:e.type===1?n[Fr]:null}function JD(n,e,t){if(t&Le.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&Le.Host);)if(i=y2(s),i===null||(s=s[Il],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Pe.lFrame=ex();return r.currentTNode=e,r.lView=n,!0}function qw(n){let e=ex(),t=n[Ce];Pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ex(){let n=Pe.lFrame,e=n===null?null:n.child;return e===null?tx(n):e}function tx(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function nx(){let n=Pe.lFrame;return Pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var rx=nx;function Gw(){let n=nx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function w2(n){return(Pe.lFrame.contextLView=e2(n,Pe.lFrame.contextLView))[Gt]}function Zi(){return Pe.lFrame.selectedIndex}function Go(n){Pe.lFrame.selectedIndex=n}function Ww(){let n=Pe.lFrame;return Vw(n.tView,n.selectedIndex)}function _2(){return Pe.lFrame.currentNamespace}var ix=!0;function Kw(){return ix}function Yw(n){ix=n}function b2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=BD(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function sx(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function yh(n,e,t){ox(n,e,3,t)}function wh(n,e,t,r){(n[be]&3)===t&&ox(n,e,t,r)}function wy(n,e){let t=n[be];(t&3)===e&&(t&=16383,t+=1,n[be]=t)}function ox(n,e,t,r){let i=r!==void 0?n[cl]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[cl]+=65536),(a<s||s==-1)&&(E2(n,t,e,l),n[cl]=(n[cl]&4294901760)+l+2),l++}function FC(n,e){it(4,n,e);let t=Re(null);try{e.call(n)}finally{Re(t),it(5,n,e)}}function E2(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[be]>>14<n[cl]>>16&&(n[be]&3)===e&&(n[be]+=16384,FC(a,s)):FC(a,s)}var hl=-1,Wo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function I2(n){return(n.flags&8)!==0}function T2(n){return(n.flags&16)!==0}function S2(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];C2(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function ax(n){return n===3||n===4||n===6}function C2(n){return n.charCodeAt(0)===64}function mu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?VC(n,t,i,null,e[++r]):VC(n,t,i,null,null))}}return n}function VC(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function lx(n){return n!==hl}function kh(n){return n&32767}function D2(n){return n>>16}function Ph(n,e){let t=D2(n),r=e;for(;t>0;)r=r[Il],t--;return r}var $y=!0;function Nh(n){let e=$y;return $y=n,e}var x2=256,cx=x2-1,ux=5,A2=0,ri={};function M2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(uu)&&(r=t[uu]),r==null&&(r=t[uu]=A2++);let i=r&cx,s=1<<i;e.data[n+(i>>ux)]|=s}function Oh(n,e){let t=dx(n,e);if(t!==-1)return t;let r=e[Ce];r.firstCreatePass&&(n.injectorIndex=e.length,_y(r.data,n),_y(e,null),_y(r.blueprint,null));let i=Qw(n,e),s=n.injectorIndex;if(lx(i)){let o=kh(i),a=Ph(i,e),l=a[Ce].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function _y(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dx(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Qw(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=gx(i),r===null)return hl;if(t++,i=i[Il],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return hl}function zy(n,e,t){M2(n,e,t)}function R2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(ax(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function fx(n,e,t){if(t&Le.Optional||n!==void 0)return n;kw(e,"NodeInjector")}function hx(n,e,t,r){if(t&Le.Optional&&r===void 0&&(r=null),(t&(Le.Self|Le.Host))===0){let i=n[gl],s=Nn(void 0);try{return i?i.get(e,r,t&Le.Optional):CD(e,r,t&Le.Optional)}finally{Nn(s)}}return fx(r,e,t)}function px(n,e,t,r=Le.Default,i){if(n!==null){if(e[be]&2048&&!(r&Le.Self)){let o=O2(n,e,t,r,ri);if(o!==ri)return o}let s=mx(n,e,t,r,ri);if(s!==ri)return s}return hx(e,t,r,i)}function mx(n,e,t,r,i){let s=P2(t);if(typeof s=="function"){if(!JD(e,n,r))return r&Le.Host?fx(i,t,r):hx(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&Le.Optional))kw(t);else return o}finally{rx()}}else if(typeof s=="number"){let o=null,a=dx(n,e),l=hl,c=r&Le.Host?e[Nr][Fr]:null;for((a===-1||r&Le.SkipSelf)&&(l=a===-1?Qw(n,e):e[a+8],l===hl||!jC(r,!1)?a=-1:(o=e[Ce],a=kh(l),e=Ph(l,e)));a!==-1;){let d=e[Ce];if(UC(s,a,d.data)){let f=k2(a,e,t,o,r,c);if(f!==ri)return f}l=e[a+8],l!==hl&&jC(r,e[Ce].data[a+8]===c)&&UC(s,a,e)?(o=d,a=kh(l),e=Ph(l,e)):a=-1}}return i}function k2(n,e,t,r,i,s){let o=e[Ce],a=o.data[n+8],l=r==null?Tl(a)&&$y:r!=o&&(a.type&3)!==0,c=i&Le.Host&&s===a,d=_h(a,o,t,l,c);return d!==null?gu(e,o,d,a):ri}function _h(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,d=s>>20,f=r?a:a+d,g=i?a+d:c;for(let m=f;m<g;m++){let h=o[m];if(m<l&&t===h||m>=l&&h.type===t)return m}if(i){let m=o[l];if(m&&ii(m)&&m.type===t)return l}return null}function gu(n,e,t,r){let i=n[t],s=e.data;if(i instanceof Wo){let o=i;o.resolving&&TD(_V(s[t]));let a=Nh(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Nn(o.injectImpl):null,d=JD(n,r,Le.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&b2(t,s[t],e)}finally{c!==null&&Nn(c),Nh(a),o.resolving=!1,rx()}}return i}function P2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(uu)?n[uu]:void 0;return typeof e=="number"?e>=0?e&cx:N2:e}function UC(n,e,t){let r=1<<n;return!!(t[e+(n>>ux)]&r)}function jC(n,e){return!(n&Le.Self)&&!(n&Le.Host&&e)}var Vo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return px(this._tNode,this._lView,e,Qh(r),t)}};function N2(){return new Vo(Fn(),Ne())}function Zo(n){return Iu(()=>{let e=n.prototype.constructor,t=e[Ih]||Hy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Ih]||Hy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Hy(n){return wD(n)?()=>{let e=Hy(xn(n));return e&&e()}:Uo(n)}function O2(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[be]&2048&&!Mh(o);){let a=mx(s,o,t,r|Le.Self,ri);if(a!==ri)return a;let l=s.parent;if(!l){let c=o[FD];if(c){let d=c.get(t,ri,r);if(d!==ri)return d}l=gx(o),o=o[Il]}s=l}return i}function gx(n){let e=n[Ce],t=e.type;return t===2?e.declTNode:t===1?n[Fr]:null}function Xw(n){return R2(Fn(),n)}function BC(n,e=null,t=null,r){let i=vx(n,e,t,r);return i.resolveInjectorInitializers(),i}function vx(n,e=null,t=null,r,i=new Set){let s=[t||On,LV(n)];return r=r||(typeof n=="object"?void 0:Ln(n)),new fu(s,e||Lw(),r||null,i)}var vt=class n{static THROW_IF_NOT_FOUND=Fo;static NULL=new Dh;static create(e,t){if(Array.isArray(e))return BC({name:""},t,e,"");{let r=e.name??"";return BC({name:r},e.parent,e.providers,r)}}static \u0275prov=ie({token:n,providedIn:"any",factory:()=>ye(AD)});static __NG_ELEMENT_ID__=-1};var L2=new le("");L2.__NG_ELEMENT_ID__=n=>{let e=Fn();if(e===null)throw new ue(204,!1);if(e.type&2)return e.value;if(n&Le.Optional)return null;throw new ue(204,!1)};var yx=!1,Jo=(()=>{class n{static __NG_ELEMENT_ID__=F2;static __NG_ENV_ID__=t=>t}return n})(),Lh=class extends Jo{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return WD(this._lView,e),()=>t2(this._lView,e)}};function F2(){return new Lh(Ne())}var Vs=class{},wx=new le("",{providedIn:"root",factory:()=>!1});var _x=new le(""),bx=new le(""),ea=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Rt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}return n})(),tp=(()=>{class n{internalPendingTasks=F(ea);scheduler=F(Vs);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return P(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}return n})(),qy=class extends Mt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,LD()&&(this.destroyRef=F(Jo,{optional:!0})??void 0,this.pendingTasks=F(ea,{optional:!0})??void 0)}emit(e){let t=Re(null);try{super.next(e)}finally{Re(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof St&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ze=qy;function vu(...n){}function Ex(n){let e,t;function r(){n=vu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function $C(n){return queueMicrotask(()=>n()),()=>{n=vu}}var Zw="isAngularZone",Fh=Zw+"_ID",V2=0,We=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ze(!1);onMicrotaskEmpty=new Ze(!1);onStable=new Ze(!1);onError=new Ze(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=yx}=e;if(typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,B2(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Zw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ue(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,U2,vu,vu);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},U2={};function Jw(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function j2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Ex(()=>{n.callbackScheduled=!1,Gy(n),n.isCheckStableRunning=!0,Jw(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Gy(n)}function B2(n){let e=()=>{j2(n)},t=V2++;n._inner=n._inner.fork({name:"angular",properties:{[Zw]:!0,[Fh]:t,[Fh+t]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if($2(l))return r.invokeTask(s,o,a,l);try{return zC(n),r.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),HC(n)}},onInvoke:(r,i,s,o,a,l,c)=>{try{return zC(n),r.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!z2(l)&&e(),HC(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Gy(n),Jw(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Gy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function zC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function HC(n){n._nesting--,Jw(n)}var Wy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ze;onMicrotaskEmpty=new Ze;onStable=new Ze;onError=new Ze;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function $2(n){return Ix(n,"__ignore_ng_zone__")}function z2(n){return Ix(n,"__scheduler_tick__")}function Ix(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ai=class{_console=console;handleError(e){this._console.error("ERROR",e)}},H2=new le("",{providedIn:"root",factory:()=>{let n=F(We),e=F(ai);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function qC(n,e){return vD(n,e)}function q2(n){return vD(gD,n)}var Tx=(qC.required=q2,qC);function G2(){return Cl(Fn(),Ne())}function Cl(n,e){return new yn(ui(n,e))}var yn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=G2}return n})();function W2(n){return n instanceof yn?n.nativeElement:n}function Zn(n,e){let t=Qv(n,e?.equal),r=t[Cr];return t.set=i=>nu(r,i),t.update=i=>Xv(r,i),t.asReadonly=K2.bind(t),t}function K2(){let n=this[Cr];if(n.readonlyFn===void 0){let e=()=>this();e[Cr]=n,n.readonlyFn=e}return n.readonlyFn}function Y2(){return this._results[Symbol.iterator]()}var Ky=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Mt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=RV(e);(this._changesDetected=!MV(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Y2};function Sx(n){return(n.flags&128)===128}var Cx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Cx||{}),Dx=new Map,Q2=0;function X2(){return Q2++}function Z2(n){Dx.set(n[Jh],n)}function Yy(n){Dx.delete(n[Jh])}var GC="__ngContext__";function Au(n,e){Fs(e)?(n[GC]=e[Jh],Z2(e)):n[GC]=e}function xx(n){return Mx(n[pu])}function Ax(n){return Mx(n[Pr])}function Mx(n){for(;n!==null&&!Xi(n);)n=n[Pr];return n}var Qy;function Rx(n){Qy=n}function J2(){if(Qy!==void 0)return Qy;if(typeof document<"u")return document;throw new ue(210,!1)}var e_=new le("",{providedIn:"root",factory:()=>eU}),eU="ng",t_=new le(""),cr=new le("",{providedIn:"platform",factory:()=>"unknown"});var n_=new le("",{providedIn:"root",factory:()=>J2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tU="h",nU="b";var kx=!1,rU=new le("",{providedIn:"root",factory:()=>kx});var r_=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(r_||{}),Dl=new le(""),WC=new Set;function ta(n){WC.has(n)||(WC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var i_=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=iU}return n})();function iU(){return new i_(Ne(),Fn())}var ul=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ul||{}),Px=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}return n})(),sU=[ul.EarlyRead,ul.Write,ul.MixedReadWrite,ul.Read],oU=(()=>{class n{ngZone=F(We);scheduler=F(Vs);errorHandler=F(ai,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(Dl,{optional:!0})}execute(){let t=this.sequences.size>0;t&&it(16),this.executing=!0;for(let r of sU)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&it(17)}register(t){let{view:r}=t;r!==void 0?((r[fl]??=[]).push(t),Sl(r),r[be]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(r_.AFTER_NEXT_RENDER,t):t()}static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}return n})(),Xy=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[fl];e&&(this.view[fl]=e.filter(t=>t!==this))}};function s_(n,e){!e?.injector&&Zh(s_);let t=e?.injector??F(vt);return ta("NgAfterNextRender"),lU(n,t,e,!0)}function aU(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function lU(n,e,t,r){let i=e.get(Px);i.impl??=e.get(oU);let s=e.get(Dl,null,{optional:!0}),o=t?.phase??ul.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Jo):null,l=e.get(i_,null,{optional:!0}),c=new Xy(i.impl,aU(n,o),l?.view,r,a,s?.snapshot(null));return i.impl.register(c),c}var cU=()=>null;function Nx(n,e,t=!1){return cU(n,e,t)}function Ox(n,e){let t=n.contentQueries;if(t!==null){let r=Re(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];Hw(s),a.contentQueries(2,e[o],o)}}}finally{Re(r)}}}function Zy(n,e,t){Hw(0);let r=Re(null);try{e(n,t)}finally{Re(r)}}function Lx(n,e,t){if(UD(e)){let r=Re(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{Re(r)}}}var li=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(li||{});var mh;function uU(){if(mh===void 0&&(mh=null,Lo.trustedTypes))try{mh=Lo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return mh}function KC(n){return uU()?.createScriptURL(n)||n}var Vh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pD})`}};function Mu(n){return n instanceof Vh?n.changingThisBreaksApplicationSecurity:n}function Fx(n,e){let t=dU(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${pD})`)}return t===e}function dU(n){return n instanceof Vh&&n.getTypeName()||null}var fU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hU(n){return n=String(n),n.match(fU)?n:"unsafe:"+n}var o_=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(o_||{});function Ct(n){let e=Ux();return e?e.sanitize(o_.URL,n)||"":Fx(n,"URL")?Mu(n):hU(pl(n))}function pU(n){let e=Ux();if(e)return KC(e.sanitize(o_.RESOURCE_URL,n)||"");if(Fx(n,"ResourceURL"))return KC(Mu(n));throw new ue(904,!1)}function mU(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?pU:Ct}function Vx(n,e,t){return mU(e,t)(n)}function Ux(){let n=Ne();return n&&n[Gi].sanitizer}function jx(n){return n instanceof Function?n():n}function gU(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var Bx="ng-template";function vU(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&gU(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(a_(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function a_(n){return n.type===4&&n.value!==Bx}function yU(n,e,t){let r=n.type===4&&!t?Bx:n.value;return e===r}function wU(n,e,t){let r=4,i=n.attrs,s=i!==null?EU(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Rr(r)&&!Rr(l))return!1;if(o&&Rr(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!yU(n,l,t)||l===""&&e.length===1){if(Rr(r))return!1;o=!0}}else if(r&8){if(i===null||!vU(n,i,l,t)){if(Rr(r))return!1;o=!0}}else{let c=e[++a],d=_U(l,i,a_(n),t);if(d===-1){if(Rr(r))return!1;o=!0;continue}if(c!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&c!==f){if(Rr(r))return!1;o=!0}}}}return Rr(r)||o}function Rr(n){return(n&1)===0}function _U(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return IU(e,n)}function bU(n,e,t=!1){for(let r=0;r<e.length;r++)if(wU(n,e[r],t))return!0;return!1}function EU(n){for(let e=0;e<n.length;e++){let t=n[e];if(ax(t))return e}return n.length}function IU(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function YC(n,e){return n?":not("+e.trim()+")":e}function TU(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Rr(o)&&(e+=YC(s,i),i=""),r=o,s=s||!Rr(r);t++}return i!==""&&(e+=YC(s,i)),e}function SU(n){return n.map(TU).join(",")}function CU(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Rr(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var Vn={};function DU(n,e){return n.createText(e)}function xU(n,e,t){n.setValue(e,t)}function $x(n,e,t){return n.createElement(e,t)}function Uh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function zx(n,e,t){n.appendChild(e,t)}function QC(n,e,t,r,i){r!==null?Uh(n,e,t,r,i):zx(n,e,t)}function AU(n,e,t){n.removeChild(null,e,t)}function MU(n,e,t){n.setAttribute(e,"style",t)}function RU(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Hx(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&S2(n,e,r),i!==null&&RU(n,e,i),s!==null&&MU(n,e,s)}function l_(n,e,t,r,i,s,o,a,l,c,d){let f=gn+r,g=f+i,m=kU(f,g),h=typeof c=="function"?c():c;return m[Ce]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1,ssrId:d}}function kU(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vn);return t}function PU(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=l_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function c_(n,e,t,r,i,s,o,a,l,c,d){let f=e.blueprint.slice();return f[Qi]=i,f[be]=r|4|128|8|64|1024,(c!==null||n&&n[be]&2048)&&(f[be]|=2048),qD(f),f[mn]=f[Il]=n,f[Gt]=t,f[Gi]=o||n&&n[Gi],f[Wt]=a||n&&n[Wt],f[gl]=l||n&&n[gl]||null,f[Fr]=s,f[Jh]=X2(),f[hu]=d,f[FD]=c,f[Nr]=e.type==2?n[Nr]:f,f}function NU(n,e,t){let r=ui(e,n),i=PU(t),s=n[Gi].rendererFactory,o=u_(n,c_(n,i,null,qx(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function qx(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Gx(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function u_(n,e){return n[pu]?n[OC][Pr]=e:n[pu]=e,n[OC]=e,e}function L(n=1){Wx(Jt(),Ne(),Zi()+n,!1)}function Wx(n,e,t,r){if(!r)if((e[be]&3)===3){let s=n.preOrderCheckHooks;s!==null&&yh(e,s,t)}else{let s=n.preOrderHooks;s!==null&&wh(e,s,0,t)}Go(t)}var np=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(np||{});function Jy(n,e,t,r){let i=Re(null);try{let[s,o,a]=n.inputs[t],l=null;(o&np.SignalBased)!==0&&(l=e[s][Cr]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,s):jD(e,l,s,r)}finally{Re(i)}}function Kx(n,e,t,r,i){let s=Zi(),o=r&2;try{Go(-1),o&&e.length>gn&&Wx(n,e,gn,!1),it(o?2:0,i),t(r,i)}finally{Go(s),it(o?3:1,i)}}function d_(n,e,t){jU(n,e,t),(t.flags&64)===64&&BU(n,e,t)}function Yx(n,e,t=ui){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function OU(n,e,t,r){let s=r.get(rU,kx)||t===li.ShadowDom,o=n.selectRootElement(e,s);return LU(o),o}function LU(n){FU(n)}var FU=()=>null;function VU(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Qx(n,e,t,r,i,s,o,a){if(!a&&f_(e,n,t,r,i)){Tl(e)&&UU(t,e.index);return}if(e.type&3){let l=ui(e,t);r=VU(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)}else e.type&12}function UU(n,e){let t=oi(e,n);t[be]&16||(t[be]|=64)}function jU(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Tl(t)&&NU(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Oh(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],l=gu(e,n,o,t);if(Au(l,e),s!==null&&qU(e,o-r,l,a,t,s),ii(a)){let c=oi(t.index,e);c[Gt]=gu(e,n,o,t)}}}function BU(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=g2();try{Go(s);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];By(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&$U(l,c)}}finally{Go(-1),By(o)}}function $U(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Xx(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];bU(e,s.selectors,!1)&&(r??=[],ii(s)?r.unshift(s):r.push(s))}return r}function zU(n,e,t,r,i,s){let o=ui(n,e);HU(e[Wt],o,s,n.value,t,r,i)}function HU(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?pl(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function qU(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1];Jy(r,t,l,c)}}function GU(n,e){let t=n[gl],r=t?t.get(ai,null):null;r&&r.handleError(e)}function f_(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let l=0;l<o.length;l+=2){let c=o[l],d=o[l+1],f=e.data[c];Jy(f,t[c],d,i),a=!0}if(s)for(let l of s){let c=t[l],d=e.data[l];Jy(d,c,r,i),a=!0}return a}function WU(n,e){let t=oi(e,n),r=t[Ce];KU(r,t);let i=t[Qi];i!==null&&t[hu]===null&&(t[hu]=Nx(i,t[gl])),it(18),h_(r,t,t[Gt]),it(19,t[Gt])}function KU(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function h_(n,e,t){qw(e);try{let r=n.viewQuery;r!==null&&Zy(1,r,t);let i=n.template;i!==null&&Kx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Wi]?.finishViewCreation(n),n.staticContentQueries&&Ox(n,e),n.staticViewQueries&&Zy(2,n.viewQuery,t);let s=n.components;s!==null&&YU(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[be]&=-5,Gw()}}function YU(n,e){for(let t=0;t<e.length;t++)WU(n,e[t])}function rp(n,e,t,r){let i=Re(null);try{let s=e.tView,a=n[be]&4096?4096:16,l=c_(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[$o]=c;let d=n[Wi];return d!==null&&(l[Wi]=d.createEmbeddedView(s)),h_(s,l,t),l}finally{Re(i)}}function yu(n,e){return!e||e.firstChild===null||Sx(n)}var QU;function p_(n,e){return QU(n,e)}var Ki=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ki||{});function Zx(n){return(n.flags&32)===32}function dl(n,e,t,r,i){if(r!=null){let s,o=!1;Xi(r)?s=r:Fs(r)&&(o=!0,r=r[Qi]);let a=si(r);n===0&&t!==null?i==null?zx(e,t,a):Uh(e,t,a,i||null,!0):n===1&&t!==null?Uh(e,t,a,i||null,!0):n===2?AU(e,a,o):n===3&&e.destroyNode(a),s!=null&&lj(e,n,s,t,i)}}function XU(n,e){Jx(n,e),e[Qi]=null,e[Fr]=null}function ZU(n,e,t,r,i,s){r[Qi]=i,r[Fr]=e,sp(n,r,t,1,i,s)}function Jx(n,e){e[Gi].changeDetectionScheduler?.notify(9),sp(n,e,e[Wt],2,null,null)}function JU(n){let e=n[pu];if(!e)return by(n[Ce],n);for(;e;){let t=null;if(Fs(e))t=e[pu];else{let r=e[hn];r&&(t=r)}if(!t){for(;e&&!e[Pr]&&e!==n;)Fs(e)&&by(e[Ce],e),e=e[mn];e===null&&(e=n),Fs(e)&&by(e[Ce],e),t=e&&e[Pr]}e=t}}function m_(n,e){let t=n[vl],r=t.indexOf(e);t.splice(r,1)}function ip(n,e){if(Su(e))return;let t=e[Wt];t.destroyNode&&sp(n,e,t,3,null,null),JU(e)}function by(n,e){if(Su(e))return;let t=Re(null);try{e[be]&=-129,e[be]|=256,e[lr]&&tu(e[lr]),tj(n,e),ej(n,e),e[Ce].type===1&&e[Wt].destroy();let r=e[$o];if(r!==null&&Xi(e[mn])){r!==e[mn]&&m_(r,e);let i=e[Wi];i!==null&&i.detachView(n)}Yy(e)}finally{Re(t)}}function ej(n,e){let t=n.cleanup,r=e[xh];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[xh]=null);let i=e[Ls];if(i!==null){e[Ls]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[zo];if(s!==null){e[zo]=null;for(let o of s)o.destroy()}}function tj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Wo)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];it(4,a,l);try{l.call(a)}finally{it(5,a,l)}}else{it(4,i,s);try{s.call(i)}finally{it(5,i,s)}}}}}function nj(n,e,t){return rj(n,e.parent,t)}function rj(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Qi];if(Tl(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===li.None||i===li.Emulated)return null}return ui(r,t)}function ij(n,e,t){return oj(n,e,t)}function sj(n,e,t){return n.type&40?ui(n,t):null}var oj=sj,XC;function g_(n,e,t,r){let i=nj(n,r,e),s=e[Wt],o=r.parent||e[Fr],a=ij(o,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)QC(s,i,t[l],a,!1);else QC(s,i,t,a,!1);XC!==void 0&&XC(s,r,e,t,i)}function cu(n,e){if(e!==null){let t=e.type;if(t&3)return ui(e,n);if(t&4)return ew(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return cu(n,r);{let i=n[e.index];return Xi(i)?ew(-1,i):si(i)}}else{if(t&128)return cu(n,e.next);if(t&32)return p_(e,n)()||si(n[e.index]);{let r=eA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qo(n[Nr]);return cu(i,r)}else return cu(n,e.next)}}}return null}function eA(n,e){if(e!==null){let r=n[Nr][Fr],i=e.projection;return r.projection[i]}return null}function ew(n,e){let t=hn+n+1;if(t<e.length){let r=e[t],i=r[Ce].firstChild;if(i!==null)return cu(r,i)}return e[Ho]}function v_(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(o&&e===0&&(a&&Au(si(a),r),t.flags|=2),!Zx(t))if(l&8)v_(n,e,t.child,r,i,s,!1),dl(e,n,i,a,s);else if(l&32){let c=p_(t,r),d;for(;d=c();)dl(e,n,i,d,s);dl(e,n,i,a,s)}else l&16?aj(n,e,r,t,i,s):dl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function sp(n,e,t,r,i,s){v_(t,r,n.firstChild,e,i,s,!1)}function aj(n,e,t,r,i,s){let o=t[Nr],l=o[Fr].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];dl(e,n,i,d,s)}else{let c=l,d=o[mn];Sx(r)&&(c.flags|=128),v_(n,e,c,d,i,s,!0)}}function lj(n,e,t,r,i){let s=t[Ho],o=si(t);s!==o&&dl(e,n,r,s,i);for(let a=hn;a<t.length;a++){let l=t[a];sp(l[Ce],l,n,e,r,s)}}function cj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Ki.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ki.Important),n.setStyle(t,r,i,s))}}function jh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(si(s)),Xi(s)&&uj(s,r);let o=t.type;if(o&8)jh(n,e,t.child,r);else if(o&32){let a=p_(t,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=eA(e,t);if(Array.isArray(a))r.push(...a);else{let l=qo(e[Nr]);jh(l[Ce],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function uj(n,e){for(let t=hn;t<n.length;t++){let r=n[t],i=r[Ce].firstChild;i!==null&&jh(r[Ce],r,i,e)}n[Ho]!==n[Qi]&&e.push(n[Ho])}function tA(n){if(n[fl]!==null){for(let e of n[fl])e.impl.addSequence(e);n[fl].length=0}}var nA=[];function dj(n){return n[lr]??fj(n)}function fj(n){let e=nA.pop()??Object.create(pj);return e.lView=n,e}function hj(n){n.lView[lr]!==n&&(n.lView=null,nA.push(n))}var pj=ce(G({},Qa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Sl(n.lView)},consumerOnSignalRead(){this.lView[lr]=this}});function mj(n){let e=n[lr]??Object.create(gj);return e.lView=n,e}var gj=ce(G({},Qa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=qo(n.lView);for(;e&&!rA(e[Ce]);)e=qo(e);e&&GD(e)},consumerOnSignalRead(){this.lView[lr]=this}});function rA(n){return n.type!==2}function iA(n){if(n[zo]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[zo])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[be]&8192)}}var vj=100;function sA(n,e=!0,t=0){let i=n[Gi].rendererFactory,s=!1;s||i.begin?.();try{yj(n,t)}catch(o){throw e&&GU(n,o),o}finally{s||i.end?.()}}function yj(n,e){let t=XD();try{Rh(!0),tw(n,e);let r=0;for(;ep(n);){if(r===vj)throw new ue(103,!1);r++,tw(n,1)}}finally{Rh(t)}}function wj(n,e,t,r){if(Su(e))return;let i=e[be],s=!1,o=!1;qw(e);let a=!0,l=null,c=null;s||(rA(n)?(c=dj(e),l=eu(c)):Hv()===null?(a=!1,c=mj(e),l=eu(c)):e[lr]&&(tu(e[lr]),e[lr]=null));try{qD(e),h2(n.bindingStartIndex),t!==null&&Kx(n,e,t,2,r);let d=(i&3)===3;if(!s)if(d){let m=n.preOrderCheckHooks;m!==null&&yh(e,m,null)}else{let m=n.preOrderHooks;m!==null&&wh(e,m,0,null),wy(e,0)}if(o||_j(e),iA(e),oA(e,0),n.contentQueries!==null&&Ox(n,e),!s)if(d){let m=n.contentCheckHooks;m!==null&&yh(e,m)}else{let m=n.contentHooks;m!==null&&wh(e,m,1),wy(e,1)}Ej(n,e);let f=n.components;f!==null&&lA(e,f,0);let g=n.viewQuery;if(g!==null&&Zy(2,g,r),!s)if(d){let m=n.viewCheckHooks;m!==null&&yh(e,m)}else{let m=n.viewHooks;m!==null&&wh(e,m,2),wy(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[yy]){for(let m of e[yy])m();e[yy]=null}s||(tA(e),e[be]&=-73)}catch(d){throw s||Sl(e),d}finally{c!==null&&(Of(c,l),a&&hj(c)),Gw()}}function oA(n,e){for(let t=xx(n);t!==null;t=Ax(t))for(let r=hn;r<t.length;r++){let i=t[r];aA(i,e)}}function _j(n){for(let e=xx(n);e!==null;e=Ax(e)){if(!(e[be]&2))continue;let t=e[vl];for(let r=0;r<t.length;r++){let i=t[r];GD(i)}}}function bj(n,e,t){it(18);let r=oi(e,n);aA(r,t),it(19,r[Gt])}function aA(n,e){jw(n)&&tw(n,e)}function tw(n,e){let r=n[Ce],i=n[be],s=n[lr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Lf(s)),o||=!1,s&&(s.dirty=!1),n[be]&=-9217,o)wj(r,n,r.template,n[Gt]);else if(i&8192){iA(n),oA(n,1);let a=r.components;a!==null&&lA(n,a,1),tA(n)}}function lA(n,e,t){for(let r=0;r<e.length;r++)bj(n,e[r],t)}function Ej(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Go(~i);else{let s=i,o=t[++r],a=t[++r];m2(o,s);let l=e[s];it(24,l),a(2,l),it(25,l)}}}finally{Go(-1)}}function y_(n,e){let t=XD()?64:1088;for(n[Gi].changeDetectionScheduler?.notify(e);n;){n[be]|=t;let r=qo(n);if(Mh(n)&&!r)return n;n=r}return null}function cA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function uA(n,e){let t=hn+e;if(t<n.length)return n[t]}function op(n,e,t,r=!0){let i=e[Ce];if(Ij(i,e,n,t),r){let o=ew(t,n),a=e[Wt],l=a.parentNode(n[Ho]);l!==null&&ZU(i,n[Fr],a,e,l,o)}let s=e[hu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function dA(n,e){let t=wu(n,e);return t!==void 0&&ip(t[Ce],t),t}function wu(n,e){if(n.length<=hn)return;let t=hn+e,r=n[t];if(r){let i=r[$o];i!==null&&i!==n&&m_(i,r),e>0&&(n[t-1][Pr]=r[Pr]);let s=Ch(n,hn+e);XU(r[Ce],r);let o=s[Wi];o!==null&&o.detachView(s[Ce]),r[mn]=null,r[Pr]=null,r[be]&=-129}return r}function Ij(n,e,t,r){let i=hn+r,s=t.length;r>0&&(t[i-1][Pr]=e),r<s-hn?(e[Pr]=t[i],xD(t,hn+r,e)):(t.push(e),e[Pr]=null),e[mn]=t;let o=e[$o];o!==null&&t!==o&&fA(o,e);let a=e[Wi];a!==null&&a.insertView(n),Uy(e),e[be]|=128}function fA(n,e){let t=n[vl],r=e[mn];if(Fs(r))n[be]|=2;else{let i=r[mn][Nr];e[Nr]!==i&&(n[be]|=2)}t===null?n[vl]=[e]:t.push(e)}var _u=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Ce];return jh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Gt]}set context(e){this._lView[Gt]=e}get destroyed(){return Su(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[mn];if(Xi(e)){let t=e[Ah],r=t?t.indexOf(this):-1;r>-1&&(wu(e,r),Ch(t,r))}this._attachedToViewContainer=!1}ip(this._lView[Ce],this._lView)}onDestroy(e){WD(this._lView,e)}markForCheck(){y_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[be]&=-129}reattach(){Uy(this._lView),this._lView[be]|=128}detectChanges(){this._lView[be]|=1024,sA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Mh(this._lView),t=this._lView[$o];t!==null&&!e&&m_(t,this._lView),Jx(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=e;let t=Mh(this._lView),r=this._lView[$o];r!==null&&!t&&fA(r,this._lView),Uy(this._lView)}};var Ko=(()=>{class n{static __NG_ELEMENT_ID__=Cj}return n})(),Tj=Ko,Sj=class extends Tj{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=rp(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new _u(i)}};function Cj(){return w_(Fn(),Ne())}function w_(n,e){return n.type&4?new Sj(e,n,Cl(n,e)):null}function __(n,e,t,r,i){let s=n.data[e];if(s===null)s=Dj(n,e,t,r,i),p2()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=c2();s.injectorIndex=o===null?-1:o.injectorIndex}return Cu(s,!0),s}function Dj(n,e,t,r,i){let s=YD(),o=QD(),a=o?s:s&&s.parent,l=n.data[e]=Aj(n,a,t,e,r,i);return xj(n,l,s,o),l}function xj(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Aj(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return o2()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Rne=new RegExp(`^(\\d+)*(${nU}|${tU})*(.*)`);var Mj=()=>null;function bu(n,e){return Mj(n,e)}var Rj=class{},hA=class{},nw=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ln(e)}.`)}},ap=class{static NULL=new nw},wl=class{},ur=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>kj()}return n})();function kj(){let n=Ne(),e=Fn(),t=oi(e.index,n);return(Fs(t)?t:n)[Wt]}var Pj=(()=>{class n{static \u0275prov=ie({token:n,providedIn:"root",factory:()=>null})}return n})();var Ey={},rw=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Qh(r);let i=this.injector.get(e,Ey,r);return i!==Ey||t===Ey?i:this.parentInjector.get(e,t,r)}};function ZC(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Ry(i,a);else if(s==2){let l=a,c=e[++o];r=Ry(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function me(n,e=Le.Default){let t=Ne();if(t===null)return ye(n,e);let r=Fn();return px(r,t,xn(n),e)}function pA(){let n="invalid";throw new Error(n)}function mA(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a,l=null,c=null,d=Oj(o);d===null?a=o:[a,l,c]=d,Vj(n,e,t,a,s,l,c)}s!==null&&r!==null&&Nj(t,r,s)}function Nj(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new ue(-301,!1);r.push(e[i],s)}}function Oj(n){let e=null,t=!1;for(let o=0;o<n.length;o++){let a=n[o];if(o===0&&ii(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,s=null;for(let o of n)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,Lj(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,s]):null}function Lj(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function Fj(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Vj(n,e,t,r,i,s,o){let a=r.length,l=!1;for(let g=0;g<a;g++){let m=r[g];!l&&ii(m)&&(l=!0,Fj(n,t,g)),zy(Oh(t,e),n,m.type)}Hj(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let c=!1,d=!1,f=Gx(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=mu(t.mergedAttrs,m.hostAttrs),jj(n,t,e,f,m),zj(f,m,i),o!==null&&o.has(m)){let[v,w]=o.get(m);t.directiveToIndex.set(m.type,[f,v+t.directiveStart,w+t.directiveStart])}else(s===null||!s.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let h=m.type.prototype;!c&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!d&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}Uj(n,t,s)}function Uj(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))JC(0,e,i,r),JC(1,e,i,r),tD(e,r,!1);else{let s=t.get(i);eD(0,e,s,r),eD(1,e,s,r),tD(e,r,!0)}}}function JC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),gA(e,s)}}function eD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),gA(e,o)}}function gA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function tD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||a_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let d of c)if(d===e){o??=[],o.push(l,r[a+1]);break}}else if(t&&s.hasOwnProperty(l)){let c=s[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){o??=[],o.push(c[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function jj(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Uo(i.type,!0)),o=new Wo(s,ii(i),me);n.blueprint[r]=o,t[r]=o,Bj(n,e,r,Gx(n,t,i.hostVars,Vn),i)}function Bj(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;$j(o)!=a&&o.push(a),o.push(t,r,s)}}function $j(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function zj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ii(e)&&(t[""]=n)}}function Hj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function vA(n,e,t,r,i,s,o,a){let l=e.consts,c=yl(l,o),d=__(e,n,2,r,c);return s&&mA(e,t,d,yl(l,a),i),d.mergedAttrs=mu(d.mergedAttrs,d.attrs),d.attrs!==null&&ZC(d,d.attrs,!1),d.mergedAttrs!==null&&ZC(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function yA(n,e){sx(n,e),UD(e)&&n.queries.elementEnd(e)}var Bh=class extends ap{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Bo(e);return new _l(t,this.ngModule)}};function qj(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&np.SignalBased)!==0};return i&&(s.transform=i),s})}function Gj(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Wj(n,e,t){let r=e instanceof pn?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new rw(t,r):t}function Kj(n){let e=n.get(wl,null);if(e===null)throw new ue(407,!1);let t=n.get(Pj,null),r=n.get(Vs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function Yj(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return $x(e,t,t==="svg"?QV:t==="math"?XV:null)}var _l=class extends hA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=qj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Gj(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=SU(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){it(22);let s=Re(null);try{let o=this.componentDef,a=r?["ng-version","19.2.8"]:CU(this.componentDef.selectors[0]),l=l_(0,null,null,1,0,null,null,null,null,[a],null),c=Wj(o,i||this.ngModule,e),d=Kj(c),f=d.rendererFactory.createRenderer(null,o),g=r?OU(f,r,o.encapsulation,c):Yj(o,f),m=c_(null,l,null,512|qx(o),null,null,d,f,c,null,Nx(g,c,!0));m[gn]=g,qw(m);let h=null;try{let v=vA(gn,l,m,"#host",()=>[this.componentDef],!0,0);g&&(Hx(f,g,v),Au(g,m)),d_(l,m,v),Lx(l,v,m),yA(l,v),t!==void 0&&Qj(v,this.ngContentSelectors,t),h=oi(v.index,m),m[Gt]=h[Gt],h_(l,m,null)}catch(v){throw h!==null&&Yy(h),Yy(m),v}finally{it(23),Gw()}return new iw(this.componentType,m)}finally{Re(s)}}},iw=class extends Rj{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Vw(t[Ce],gn),this.location=Cl(this._tNode,t),this.instance=oi(this._tNode.index,t)[Gt],this.hostView=this.changeDetectorRef=new _u(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=f_(r,i[Ce],i,e,t);this.previousInputValues.set(e,t);let o=oi(r.index,i);y_(o,1)}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Qj(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Us=(()=>{class n{static __NG_ELEMENT_ID__=Xj}return n})();function Xj(){let n=Fn();return _A(n,Ne())}var Zj=Us,wA=class extends Zj{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Cl(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qw(this._hostTNode,this._hostLView);if(lx(e)){let t=Ph(e,this._hostLView),r=kh(e),i=t[Ce].data[r+8];return new Vo(i,t)}else return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=nD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=bu(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,yu(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!GV(e),a;if(o)a=t;else{let h=t||{};a=h.index,r=h.injector,i=h.projectableNodes,s=h.environmentInjector||h.ngModuleRef}let l=o?e:new _l(Bo(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let v=(o?c:this.parentInjector).get(pn,null);v&&(s=v)}let d=Bo(l.componentType??{}),f=bu(this._lContainer,d?.id??null),g=f?.firstChild??null,m=l.create(c,i,g,s);return this.insertImpl(m.hostView,a,yu(this._hostTNode,f)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(JV(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[mn],c=new wA(l,l[Fr],l[mn]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return op(o,i,s,r),e.attachToViewContainerRef(),xD(Iy(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=nD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=wu(this._lContainer,t);r&&(Ch(Iy(this._lContainer),t),ip(r[Ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=wu(this._lContainer,t);return r&&Ch(Iy(this._lContainer),t)!=null?new _u(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function nD(n){return n[Ah]}function Iy(n){return n[Ah]||(n[Ah]=[])}function _A(n,e){let t,r=e[n.index];return Xi(r)?t=r:(t=cA(r,e,null,n),e[n.index]=t,u_(e,t)),eB(t,e,n,r),new wA(t,n,e)}function Jj(n,e){let t=n[Wt],r=t.createComment(""),i=ui(e,n),s=t.parentNode(i);return Uh(t,s,r,t.nextSibling(i),!1),r}var eB=rB,tB=()=>!1;function nB(n,e,t){return tB(n,e,t)}function rB(n,e,t,r){if(n[Ho])return;let i;t.type&8?i=si(r):i=Jj(e,t),n[Ho]=i}var sw=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},ow=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)b_(e,t).matches!==null&&this.queries[t].setDirty()}},$h=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=dB(e):this.predicate=e}},aw=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},lw=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,iB(t,s)),this.matchTNodeWithReadOption(e,t,_h(t,e,s,!1,!1))}else r===Ko?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,_h(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===yn||i===Us||i===Ko&&t.type&4)this.addMatch(t.index,-2);else{let s=_h(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function iB(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function sB(n,e){return n.type&11?Cl(n,e):n.type&4?w_(n,e):null}function oB(n,e,t,r){return t===-1?sB(e,n):t===-2?aB(n,e,r):gu(n,n[Ce],t,e)}function aB(n,e,t){if(t===yn)return Cl(e,n);if(t===Ko)return w_(e,n);if(t===Us)return _A(e,n)}function bA(n,e,t,r){let i=e[Wi].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(oB(e,d,o[l+1],t.metadata.read))}}i.matches=a}return i.matches}function cw(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=bA(n,e,i,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let c=s[a+1],d=e[-l];for(let f=hn;f<d.length;f++){let g=d[f];g[$o]===g[mn]&&cw(g[Ce],g,c,r)}if(d[vl]!==null){let f=d[vl];for(let g=0;g<f.length;g++){let m=f[g];cw(m[Ce],m,c,r)}}}}}return r}function lB(n,e){return n[Wi].queries[e].queryList}function EA(n,e,t){let r=new Ky((t&4)===4);return n2(n,e,r,r.destroy),(e[Wi]??=new ow).queries.push(new sw(r))-1}function cB(n,e,t){let r=Jt();return r.firstCreatePass&&(IA(r,new $h(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),EA(r,Ne(),e)}function uB(n,e,t,r){let i=Jt();if(i.firstCreatePass){let s=Fn();IA(i,new $h(e,t,r),s.index),fB(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return EA(i,Ne(),t)}function dB(n){return n.split(",").map(e=>e.trim())}function IA(n,e,t){n.queries===null&&(n.queries=new aw),n.queries.track(new lw(e,t))}function fB(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function b_(n,e){return n.queries.getByIndex(e)}function hB(n,e){let t=n[Ce],r=b_(t,e);return r.crossesNgTemplate?cw(t,n,e,[]):bA(t,n,r,e)}var bl=class{},E_=class{};var uw=class extends bl{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Bh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=RD(e);this._bootstrapComponents=jx(s.bootstrap),this._r3Injector=vx(e,t,[{provide:bl,useValue:this},{provide:ap,useValue:this.componentFactoryResolver},...r],Ln(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},dw=class extends E_{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new uw(this.moduleType,e,[])}};var zh=class extends bl{injector;componentFactoryResolver=new Bh(this);instance=null;constructor(e){super();let t=new fu([...e.providers,{provide:bl,useValue:this},{provide:ap,useValue:this.componentFactoryResolver}],e.parent||Lw(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ru(n,e,t=null){return new zh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var pB=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=kD(!1,t.type),i=r.length>0?Ru([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ie({token:n,providedIn:"environment",factory:()=>new n(ye(pn))})}return n})();function Ke(n){return Iu(()=>{let e=TA(n),t=ce(G({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Cx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(pB).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||li.Emulated,styles:n.styles||On,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ta("NgStandalone"),SA(t);let r=n.dependencies;return t.directiveDefs=rD(r,!1),t.pipeDefs=rD(r,!0),t.id=wB(t),t})}function mB(n){return Bo(n)||NV(n)}function gB(n){return n!==null}function di(n){return Iu(()=>({type:n.type,bootstrap:n.bootstrap||On,declarations:n.declarations||On,imports:n.imports||On,exports:n.exports||On,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vB(n,e){if(n==null)return jo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,l;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,a=np.None,l=null),t[s]=[r,a,l],e[s]=o}return t}function yB(n){if(n==null)return jo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function bt(n){return Iu(()=>{let e=TA(n);return SA(e),e})}function I_(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function TA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||jo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||On,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vB(n.inputs,e),outputs:yB(n.outputs),debugInfo:null}}function SA(n){n.features?.forEach(e=>e(n))}function rD(n,e){if(!n)return null;let t=e?OV:mB;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(gB)}function wB(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function _B(n){return Object.getPrototypeOf(n.prototype).constructor}function Ur(n){let e=_B(n.type),t=!0,r=[n];for(;e;){let i;if(ii(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ue(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Ty(n.inputs),o.declaredInputs=Ty(n.declaredInputs),o.outputs=Ty(n.outputs);let a=i.hostBindings;a&&SB(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&IB(n,l),c&&TB(n,c),bB(n,i),fV(n.outputs,i.outputs),ii(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Ur&&(t=!1)}}e=Object.getPrototypeOf(e)}EB(r)}function bB(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function EB(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mu(i.hostAttrs,t=mu(t,i.hostAttrs))}}function Ty(n){return n===jo?{}:n===On?[]:n}function IB(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function TB(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function SB(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function CA(n){return DB(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function CB(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function DB(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function lp(n,e,t){return n[e]=t}function xB(n,e){return n[e]}function Or(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function T_(n,e,t,r){let i=Or(n,e,t);return Or(n,e+1,r)||i}function AB(n,e,t,r,i){let s=T_(n,e,t,r);return Or(n,e+2,i)||s}function MB(n,e,t,r,i,s,o,a,l){let c=e.consts,d=__(e,n,4,o||null,a||null);KD()&&mA(e,t,d,yl(c,l),Xx),d.mergedAttrs=mu(d.mergedAttrs,d.attrs),sx(e,d);let f=d.tView=l_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function fw(n,e,t,r,i,s,o,a,l,c){let d=t+gn,f=e.firstCreatePass?MB(d,e,n,r,i,s,o,a,l):e.data[d];Cu(f,!1);let g=RB(e,n,f,t);Kw()&&g_(e,n,g,f),Au(g,n);let m=cA(g,n,g,f);return n[d]=m,u_(n,m),nB(m,f,n),Fw(f)&&d_(e,n,f),l!=null&&Yx(n,f,c),f}function se(n,e,t,r,i,s,o,a){let l=Ne(),c=Jt(),d=yl(c.consts,s);return fw(l,c,n,e,t,r,i,d,o,a),se}var RB=kB;function kB(n,e,t,r){return Yw(!0),e[Wt].createComment("")}var DA=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var xA=new le("");var AA=(()=>{class n{static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new hw})}return n})(),hw=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function js(n){return!!n&&typeof n.then=="function"}function S_(n){return!!n&&typeof n.subscribe=="function"}var MA=new le("");function C_(n){return Lr([{provide:MA,multi:!0,useValue:n}])}var RA=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(MA,{optional:!0})??[];injector=F(vt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=vn(this.injector,i);if(js(s))t.push(s);else if(S_(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cp=new le("");function PB(){Yv(()=>{throw new ue(600,!1)})}function NB(n){return n.isBoundToModule}var OB=10;var Yo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(H2);afterRenderManager=F(Px);zonelessEnabled=F(wx);rootEffectScheduler=F(AA);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Mt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=F(ea).hasPendingTasks.pipe(ve(t=>!t));constructor(){F(Dl,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(pn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=vt.NULL){it(10);let s=t instanceof hA;if(!this._injector.get(RA).done){let m="";throw new ue(405,m)}let a;s?a=t:a=this._injector.get(ap).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=NB(a)?void 0:this._injector.get(bl),c=r||a.selector,d=a.create(i,[],c,l),f=d.location.nativeElement,g=d.injector.get(xA,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),bh(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),it(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){it(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(r_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ue(101,!1);let t=Re(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Re(t),this.afterTick.next(),it(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(wl,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<OB;)it(14),this.synchronizeOnce(),it(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)LB(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ep(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;bh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cp,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ue(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function LB(n,e,t,r){if(!t&&!ep(n))return;sA(n,e,t&&!r?0:1)}function up(n,e,t,r){let i=Ne(),s=xu();if(Or(i,s,e)){let o=Jt(),a=Ww();zU(a,i,n,e,t,r)}return up}function kA(n,e,t,r){return Or(n,xu(),t)?e+pl(t)+r:Vn}function FB(n,e,t,r,i,s){let o=f2(),a=T_(n,o,t,i);return zw(2),a?e+pl(t)+r+pl(i)+s:Vn}function gh(n,e){return n<<17|e<<2}function Qo(n){return n>>17&32767}function VB(n){return(n&2)==2}function UB(n,e){return n&131071|e<<17}function pw(n){return n|2}function El(n){return(n&131068)>>2}function Sy(n,e){return n&-131069|e<<2}function jB(n){return(n&1)===1}function mw(n){return n|1}function BB(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Qo(o),l=El(o);n[r]=t;let c=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||Tu(f,d)>0)&&(c=!0)}else d=t;if(i)if(l!==0){let g=Qo(n[a+1]);n[r+1]=gh(g,a),g!==0&&(n[g+1]=Sy(n[g+1],r)),n[a+1]=UB(n[a+1],r)}else n[r+1]=gh(a,0),a!==0&&(n[a+1]=Sy(n[a+1],r)),a=r;else n[r+1]=gh(l,0),a===0?a=r:n[l+1]=Sy(n[l+1],r),l=r;c&&(n[r+1]=pw(n[r+1])),iD(n,d,r,!0),iD(n,d,r,!1),$B(e,d,n,r,s),o=gh(a,l),s?e.classBindings=o:e.styleBindings=o}function $B(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Tu(s,e)>=0&&(t[r+1]=mw(t[r+1]))}function iD(n,e,t,r){let i=n[t+1],s=e===null,o=r?Qo(i):El(i),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];zB(l,e)&&(a=!0,n[o+1]=r?mw(c):pw(c)),o=r?Qo(c):El(c)}a&&(n[t+1]=r?pw(i):mw(i))}function zB(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Tu(n,e)>=0:!1}var kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function HB(n){return n.substring(kr.key,kr.keyEnd)}function qB(n){return GB(n),PA(n,NA(n,0,kr.textEnd))}function PA(n,e){let t=kr.textEnd;return t===e?-1:(e=kr.keyEnd=WB(n,kr.key=e,t),NA(n,e,t))}function GB(n){kr.key=0,kr.keyEnd=0,kr.value=0,kr.valueEnd=0,kr.textEnd=n.length}function NA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function WB(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function q(n,e,t){let r=Ne(),i=xu();if(Or(r,i,e)){let s=Jt(),o=Ww();Qx(s,o,r,n,e,r[Wt],t,!1)}return q}function gw(n,e,t,r,i){f_(e,n,t,i?"class":"style",r)}function D_(n,e,t){return LA(n,e,t,!1),D_}function Je(n,e){return LA(n,e,null,!0),Je}function OA(n){YB(t$,KB,n,!0)}function KB(n,e){for(let t=qB(e);t>=0;t=PA(e,t))Nw(n,HB(e),!0)}function LA(n,e,t,r){let i=Ne(),s=Jt(),o=zw(2);if(s.firstUpdatePass&&VA(s,n,o,r),e!==Vn&&Or(i,o,e)){let a=s.data[Zi()];UA(s,a,i,i[Wt],n,i[o+1]=r$(e,t),r,o)}}function YB(n,e,t,r){let i=Jt(),s=zw(2);i.firstUpdatePass&&VA(i,null,s,r);let o=Ne();if(t!==Vn&&Or(o,s,t)){let a=i.data[Zi()];if(jA(a,r)&&!FA(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Ry(l,t||"")),gw(i,a,o,t,r)}else n$(i,a,o,o[Wt],o[s+1],o[s+1]=e$(n,e,t),r,s)}}function FA(n,e){return e>=n.expandoStartIndex}function VA(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Zi()],o=FA(n,t);jA(s,r)&&e===null&&!o&&(e=!1),e=QB(i,s,e,r),BB(i,s,e,t,o,r)}}function QB(n,e,t,r){let i=v2(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Cy(null,n,e,t,r),t=Eu(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Cy(i,n,e,t,r),s===null){let l=XB(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Cy(null,n,e,l[1],r),l=Eu(l,e.attrs,r),ZB(n,e,r,l))}else s=JB(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function XB(n,e,t){let r=t?e.classBindings:e.styleBindings;if(El(r)!==0)return n[Qo(r)]}function ZB(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Qo(i)]=r}function JB(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Eu(r,o,t)}return Eu(r,e.attrs,t)}function Cy(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Eu(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Eu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Nw(n,o,t?!0:e[++s]))}return n===void 0?null:n}function e$(n,e,t){if(t==null||t==="")return On;let r=[],i=Mu(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function t$(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Nw(n,r,t)}function n$(n,e,t,r,i,s,o,a){i===Vn&&(i=On);let l=0,c=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let g=l<i.length?i[l+1]:void 0,m=c<s.length?s[c+1]:void 0,h=null,v;d===f?(l+=2,c+=2,g!==m&&(h=f,v=m)):f===null||d!==null&&d<f?(l+=2,h=d):(c+=2,h=f,v=m),h!==null&&UA(n,e,t,r,h,v,o,a),d=l<i.length?i[l]:null,f=c<s.length?s[c]:null}}function UA(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],d=jB(c)?sD(l,e,t,i,El(c),o):void 0;if(!Hh(d)){Hh(s)||VB(c)&&(s=sD(l,null,t,i,a,o));let f=HD(Zi(),t);cj(r,o,f,i,s)}}function sD(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),d=c?l[1]:l,f=d===null,g=t[i+1];g===Vn&&(g=f?On:void 0);let m=f?gy(g,r):d===r?g:void 0;if(c&&!Hh(m)&&(m=gy(l,r)),Hh(m)&&(a=m,o))return a;let h=n[i+1];i=o?Qo(h):El(h)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=gy(l,r))}return a}function Hh(n){return n!==void 0}function r$(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ln(Mu(n)))),n}function jA(n,e){return(n.flags&(e?8:16))!==0}var vw=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function Dy(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function i$(n,e,t){let r,i,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;s<=o&&s<=l;){let c=n.at(s),d=e[s],f=Dy(s,c,s,d,t);if(f!==0){f<0&&n.updateValue(s,d),s++;continue}let g=n.at(o),m=e[l],h=Dy(o,g,l,m,t);if(h!==0){h<0&&n.updateValue(o,m),o--,l--;continue}let v=t(s,c),w=t(o,g),x=t(s,d);if(Object.is(x,w)){let S=t(l,m);Object.is(S,v)?(n.swap(s,o),n.updateValue(o,m),l--,o--):n.move(o,s),n.updateValue(s,d),s++;continue}if(r??=new qh,i??=aD(n,s,o,t),yw(n,r,s,x))n.updateValue(s,d),s++,o++;else if(i.has(x))r.set(v,n.detach(s)),o--;else{let S=n.create(s,e[s]);n.attach(s,S),s++,o++}}for(;s<=l;)oD(n,r,t,s,e[s]),s++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&s<=o;){let d=n.at(s),f=c.value,g=Dy(s,d,s,f,t);if(g!==0)g<0&&n.updateValue(s,f),s++,c=l.next();else{r??=new qh,i??=aD(n,s,o,t);let m=t(s,f);if(yw(n,r,s,m))n.updateValue(s,f),s++,o++,c=l.next();else if(!i.has(m))n.attach(s,n.create(s,f)),s++,o++,c=l.next();else{let h=t(s,d);r.set(h,n.detach(s)),o--}}}for(;!c.done;)oD(n,r,t,n.length,c.value),c=l.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(l=>{n.destroy(l)})}function yw(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function oD(n,e,t,r,i){if(yw(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function aD(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var qh=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Dt(n,e){ta("NgControlFlow");let t=Ne(),r=xu(),i=t[r]!==Vn?t[r]:-1,s=i!==-1?Gh(t,gn+i):void 0,o=0;if(Or(t,r,n)){let a=Re(null);try{if(s!==void 0&&dA(s,o),n!==-1){let l=gn+n,c=Gh(t,l),d=Ew(t[Ce],l),f=bu(c,d.tView.ssrId),g=rp(t,d,e,{dehydratedView:f});op(c,g,o,yu(d,f))}}finally{Re(a)}}else if(s!==void 0){let a=uA(s,o);a!==void 0&&(a[Gt]=e)}}var ww=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-hn}};function na(n,e){return e}var _w=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Ji(n,e,t,r,i,s,o,a,l,c,d,f,g){ta("NgControlFlow");let m=Ne(),h=Jt(),v=l!==void 0,w=Ne(),x=a?o.bind(w[Nr][Gt]):o,S=new _w(v,x);w[gn+n]=S,fw(m,h,n+1,e,t,r,i,yl(h.consts,s)),v&&fw(m,h,n+2,l,c,d,f,yl(h.consts,g))}var bw=class extends vw{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-hn}at(e){return this.getLView(e)[Gt].$implicit}attach(e,t){let r=t[hu];this.needsIndexUpdate||=e!==this.length,op(this.lContainer,t,e,yu(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,s$(this.lContainer,e)}create(e,t){let r=bu(this.lContainer,this.templateTNode.tView.ssrId),i=rp(this.hostLView,this.templateTNode,new ww(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){ip(e[Ce],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Gt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Gt].$index=e}getLView(e){return o$(this.lContainer,e)}};function es(n){let e=Re(null),t=Zi();try{let r=Ne(),i=r[Ce],s=r[t],o=t+1,a=Gh(r,o);if(s.liveCollection===void 0){let c=Ew(i,o);s.liveCollection=new bw(a,r,c)}else s.liveCollection.reset();let l=s.liveCollection;if(i$(l,n,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let c=xu(),d=l.length===0;if(Or(r,c,d)){let f=t+2,g=Gh(r,f);if(d){let m=Ew(i,f),h=bu(g,m.tView.ssrId),v=rp(r,m,void 0,{dehydratedView:h});op(g,v,0,yu(m,h))}else dA(g,0)}}}finally{Re(e)}}function Gh(n,e){return n[e]}function s$(n,e){return wu(n,e)}function o$(n,e){return uA(n,e)}function Ew(n,e){return Vw(n,e)}function T(n,e,t,r){let i=Ne(),s=Jt(),o=gn+n,a=i[Wt],l=s.firstCreatePass?vA(o,s,i,e,Xx,KD(),t,r):s.data[o],c=a$(s,i,l,a,e,n);i[o]=c;let d=Fw(l);return Cu(l,!0),Hx(a,c,l),!Zx(l)&&Kw()&&g_(s,i,c,l),(r2()===0||d)&&Au(c,i),i2(),d&&(d_(s,i,l),Lx(s,l,i)),r!==null&&Yx(i,l),T}function A(){let n=Fn();QD()?u2():(n=n.parent,Cu(n,!1));let e=n;a2(e)&&l2(),s2();let t=Jt();return t.firstCreatePass&&yA(t,e),e.classesWithoutHost!=null&&I2(e)&&gw(t,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&T2(e)&&gw(t,e,Ne(),e.stylesWithoutHost,!1),A}function fe(n,e,t,r){return T(n,e,t,r),A(),fe}var a$=(n,e,t,r,i,s)=>(Yw(!0),$x(r,i,_2()));function xe(){return Ne()}var Oo=void 0;function l$(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var c$=["en",[["a","p"],["AM","PM"],Oo],[["AM","PM"],Oo,Oo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oo,"{1} 'at' {0}",Oo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",l$],xy={};function dr(n){let e=u$(n),t=lD(e);if(t)return t;let r=e.split("-")[0];if(t=lD(r),t)return t;if(r==="en")return c$;throw new ue(701,!1)}function lD(n){return n in xy||(xy[n]=Lo.ng&&Lo.ng.common&&Lo.ng.common.locales&&Lo.ng.common.locales[n]),xy[n]}var Ot=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ot||{});function u$(n){return n.toLowerCase().replace(/_/g,"-")}var Wh="en-US";var d$=Wh;function f$(n){typeof n=="string"&&(d$=n.toLowerCase().replace(/_/g,"-"))}function cD(n,e,t){return function r(i){if(i===Function)return t;let s=Tl(n)?oi(n.index,e):e;y_(s,5);let o=e[Gt],a=uD(e,o,t,i),l=r.__ngNextListenerFn__;for(;l;)a=uD(e,o,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function uD(n,e,t,r){let i=Re(null);try{return it(6,e,t),t(r)!==!1}catch(s){return h$(n,s),!1}finally{it(7,e,t),Re(i)}}function h$(n,e){let t=n[gl],r=t?t.get(ai,null):null;r&&r.handleError(e)}function dD(n,e,t,r,i,s){let o=e[t],a=e[Ce],c=a.data[t].outputs[r],d=o[c],f=a.firstCreatePass?$w(a):null,g=Bw(e),m=d.subscribe(s),h=g.length;g.push(s,m),f&&f.push(i,n.index,h,-(h+1))}var p$=(n,e,t)=>{};function ne(n,e,t,r){let i=Ne(),s=Jt(),o=Fn();return g$(s,i,i[Wt],o,n,e,r),ne}function m$(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[xh],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function g$(n,e,t,r,i,s,o){let a=Fw(r),c=n.firstCreatePass?$w(n):null,d=Bw(e),f=!0;if(r.type&3||o){let g=ui(r,e),m=o?o(g):g,h=d.length,v=o?x=>o(si(x[r.index])):r.index,w=null;if(!o&&a&&(w=m$(n,e,i,r.index)),w!==null){let x=w.__ngLastListenerFn__||w;x.__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,f=!1}else{s=cD(r,e,s),p$(m,i,s);let x=t.listen(m,i,s);d.push(s,x),c&&c.push(i,v,h,h+1)}}else s=cD(r,e,s);if(f){let g=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let h=0;h<m.length;h+=2){let v=m[h],w=m[h+1];dD(r,e,v,w,i,s)}if(g&&g.length)for(let h of g)dD(r,e,h,i,i,s)}}function Z(n=1){return w2(n)}function x_(n,e,t){return BA(n,"",e,"",t),x_}function BA(n,e,t,r,i){let s=Ne(),o=kA(s,e,t,r);if(o!==Vn){let a=Jt(),l=Ww();Qx(a,l,s,n,o,s[Wt],i,!1)}return BA}function $A(n,e,t,r){uB(n,e,t,r)}function ku(n,e,t){cB(n,e,t)}function ra(n){let e=Ne(),t=Jt(),r=ZD();Hw(r+1);let i=b_(t,r);if(n.dirty&&ZV(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=hB(e,r);n.reset(s,W2),n.notifyOnChanges()}return!0}return!1}function ia(){return lB(Ne(),ZD())}function v$(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function zA(n){let e=d2();return Uw(e,gn+n)}function N(n,e=""){let t=Ne(),r=Jt(),i=n+gn,s=r.firstCreatePass?__(r,i,1,e,null):r.data[i],o=y$(r,t,s,e,n);t[i]=o,Kw()&&g_(r,t,o,s),Cu(s,!1)}var y$=(n,e,t,r,i)=>(Yw(!0),DU(e[Wt],r));function He(n){return Oe("",n,""),He}function Oe(n,e,t){let r=Ne(),i=kA(r,n,e,t);return i!==Vn&&HA(r,Zi(),i),Oe}function A_(n,e,t,r,i){let s=Ne(),o=FB(s,n,e,t,r,i);return o!==Vn&&HA(s,Zi(),o),A_}function HA(n,e,t){let r=HD(e,n);xU(n[Wt],r,t)}function w$(n,e,t){let r=Jt();if(r.firstCreatePass){let i=ii(n);Iw(t,r.data,r.blueprint,i,!0),Iw(e,r.data,r.blueprint,i,!1)}}function Iw(n,e,t,r,i){if(n=xn(n),Array.isArray(n))for(let s=0;s<n.length;s++)Iw(n[s],e,t,r,i);else{let s=Jt(),o=Ne(),a=Fn(),l=ml(n)?n:xn(n.provide),c=OD(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(ml(n)||!n.multi){let m=new Wo(c,i,me),h=My(l,e,i?d:d+g,f);h===-1?(zy(Oh(a,o),s,l),Ay(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),o.push(m)):(t[h]=m,o[h]=m)}else{let m=My(l,e,d+g,f),h=My(l,e,d,d+g),v=m>=0&&t[m],w=h>=0&&t[h];if(i&&!w||!i&&!v){zy(Oh(a,o),s,l);let x=E$(i?b$:_$,t.length,i,r,c);!i&&w&&(t[h].providerFactory=x),Ay(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(x),o.push(x)}else{let x=qA(t[i?h:m],c,!i&&r);Ay(s,n,m>-1?m:h,x)}!i&&r&&w&&t[h].componentProviders++}}}function Ay(n,e,t,r){let i=ml(e),s=jV(e);if(i||s){let l=(s?xn(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=c.indexOf(t);d===-1?c.push(t,[r,l]):c[d+1].push(r,l)}else c.push(t,l)}}}function qA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function My(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function _$(n,e,t,r){return Tw(this.multi,[])}function b$(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=gu(t,t[Ce],this.providerFactory.index,r);s=a.slice(0,o),Tw(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Tw(i,s);return s}function Tw(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function E$(n,e,t,r,i){let s=new Wo(n,t,me);return s.multi=[],s.index=e,s.componentProviders=0,qA(s,i,r&&!t),s}function sa(n,e=[]){return t=>{t.providersResolver=(r,i)=>w$(r,i?i(n):n,e)}}function M_(n,e,t){let r=Du()+n,i=Ne();return i[r]===Vn?lp(i,r,t?e.call(t):e()):xB(i,r)}function xl(n,e,t,r){return WA(Ne(),Du(),n,e,t,r)}function GA(n,e,t,r,i,s){return T$(Ne(),Du(),n,e,t,r,i,s)}function R_(n,e){let t=n[e];return t===Vn?void 0:t}function WA(n,e,t,r,i,s){let o=e+t;return Or(n,o,i)?lp(n,o+1,s?r.call(s,i):r(i)):R_(n,o+1)}function I$(n,e,t,r,i,s,o){let a=e+t;return T_(n,a,i,s)?lp(n,a+2,o?r.call(o,i,s):r(i,s)):R_(n,a+2)}function T$(n,e,t,r,i,s,o,a){let l=e+t;return AB(n,l,i,s,o)?lp(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):R_(n,l+3)}function wn(n,e){let t=Jt(),r,i=n+gn;t.firstCreatePass?(r=S$(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=Uo(r.type,!0)),o,a=Nn(me);try{let l=Nh(!1),c=s();return Nh(l),v$(t,Ne(),i,c),c}finally{Nn(a)}}function S$(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function fi(n,e,t){let r=n+gn,i=Ne(),s=Uw(i,r);return KA(i,r)?WA(i,Du(),e,s.transform,t,s):s.transform(t)}function oa(n,e,t,r){let i=n+gn,s=Ne(),o=Uw(s,i);return KA(s,i)?I$(s,Du(),e,o.transform,t,r,o):o.transform(t,r)}function KA(n,e){return n[Ce].data[e].pure}var Xo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},YA=new Xo("19.2.8"),Sw=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},QA=(()=>{class n{compileModuleSync(t){return new dw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=RD(t),s=jx(i.declarations).reduce((o,a)=>{let l=Bo(a);return l&&o.push(new _l(l)),o},[]);return new Sw(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var C$=(()=>{class n{zone=F(We);changeDetectionScheduler=F(Vs);applicationRef=F(Yo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function D$({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new We(ce(G({},x$()),{scheduleInRootZone:t})),[{provide:We,useFactory:n},{provide:du,multi:!0,useFactory:()=>{let r=F(C$,{optional:!0});return()=>r.initialize()}},{provide:du,multi:!0,useFactory:()=>{let r=F(A$);return()=>{r.initialize()}}},e===!0?{provide:_x,useValue:!0}:[],{provide:bx,useValue:t??yx}]}function x$(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var A$=(()=>{class n{subscription=new St;initialized=!1;zone=F(We);pendingTasks=F(ea);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var M$=(()=>{class n{appRef=F(Yo);taskService=F(ea);ngZone=F(We);zonelessEnabled=F(wx);tracing=F(Dl,{optional:!0});disableScheduling=F(_x,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new St;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(bx,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Wy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?$C:Ex;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$C(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R$(){return typeof $localize<"u"&&$localize.locale||Wh}var dp=new le("",{providedIn:"root",factory:()=>F(dp,Le.Optional|Le.SkipSelf)||R$()});var Cw=new le(""),k$=new le("");function au(n){return!n.moduleRef}function P$(n){let e=au(n)?n.r3Injector:n.moduleRef.injector,t=e.get(We);return t.run(()=>{au(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ai,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),au(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Cw);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(Cw);o.add(s),n.moduleRef.onDestroy(()=>{bh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return O$(r,t,()=>{let s=e.get(RA);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(dp,Wh);if(f$(o||Wh),!e.get(k$,!0))return au(n)?e.get(Yo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(au(n)){let l=e.get(Yo);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return N$(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function N$(n,e){let t=n.injector.get(Yo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ue(-403,!1);e.push(n)}function O$(n,e,t){try{let r=t();return js(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Eh=null;function L$(n=[],e){return vt.create({name:e,providers:[{provide:Xh,useValue:"platform"},{provide:Cw,useValue:new Set([()=>Eh=null])},...n]})}function F$(n=[]){if(Eh)return Eh;let e=L$(n);return Eh=e,PB(),V$(e),e}function V$(n){let e=n.get(t_,null);vn(n,()=>{e?.forEach(t=>t())})}function k_(){return!1}var fr=(()=>{class n{static __NG_ELEMENT_ID__=U$}return n})();function U$(n){return j$(Fn(),Ne(),(n&16)===16)}function j$(n,e,t){if(Tl(n)&&!t){let r=oi(n.index,e);return new _u(r,r)}else if(n.type&175){let r=e[Nr];return new _u(r,e)}return null}var Dw=class{constructor(){}supports(e){return CA(e)}create(e){return new xw(e)}},B$=(n,e)=>e,xw=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||B$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<fD(r,i,s)?t:r,a=fD(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,d=l-i;if(c!=d){for(let g=0;g<c;g++){let m=g<s.length?s[g]:s[g]=0,h=m+g;d<=h&&h<c&&(s[g]=m+1)}let f=o.previousIndex;s[f]=d-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!CA(e))throw new ue(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,CB(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Aw(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Kh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Kh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Aw=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Mw=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Kh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Mw,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function hD(){return new P_([new Dw])}var P_=(()=>{class n{factories;static \u0275prov=ie({token:n,providedIn:"root",factory:hD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||hD()),deps:[[n,new AV,new Zt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ue(901,!1)}}return n})();function XA(n){it(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=F$(r),s=[D$({}),{provide:Vs,useExisting:M$},...t||[]],o=new zh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return P$({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{it(9)}}function Al(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function hr(n){return Zv(n)}function Ml(n,e){return Kv(n,e?.equal)}var Rw=class{[Cr];constructor(e){this[Cr]=e}destroy(){this[Cr].destroy()}};function Bs(n,e){!e?.injector&&Zh(Bs);let t=e?.injector??F(vt),r=e?.manualCleanup!==!0?t.get(Jo):null,i,s=t.get(i_,null,{optional:!0}),o=t.get(Vs);return s!==null&&!e?.forceRoot?(i=H$(s.view,o,n),r instanceof Lh&&r._lView===s.view&&(r=null)):i=q$(n,t.get(AA),o),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Rw(i)}var ZA=ce(G({},Qa),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:vu,run(){if(this.dirty=!1,this.hasRun&&!Lf(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=eu(this),t=Rh(!1);try{this.maybeCleanup(),this.fn(n)}finally{Rh(t),Of(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),$$=ce(G({},ZA),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){tu(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),z$=ce(G({},ZA),{consumerMarkedDirty(){this.view[be]|=8192,Sl(this.view),this.notifier.notify(13)},destroy(){tu(this),this.onDestroyFn(),this.maybeCleanup(),this.view[zo]?.delete(this)}});function H$(n,e,t){let r=Object.create(z$);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[zo]??=new Set,n[zo].add(r),r.consumerMarkedDirty(r),r}function q$(n,e,t){let r=Object.create($$);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}function JA(n){let e=Bo(n);if(!e)return null;let t=new _l(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var en=new le("");var n1=null;function pr(){return n1}function N_(n){n1??=n}var Pu=class{},Nu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(r1),providedIn:"platform"})}return n})(),O_=new le(""),r1=(()=>{class n extends Nu{_location;_history;_doc=F(en);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pr().getBaseHref(this._doc)}onPopState(t){let r=pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function fp(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function e1(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function jr(n){return n&&n[0]!=="?"?`?${n}`:n}var Br=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(pp),providedIn:"root"})}return n})(),hp=new le(""),pp=(()=>{class n extends Br{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(en).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fp(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+jr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+jr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+jr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ye(Nu),ye(hp,8))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$s=(()=>{class n{_subject=new Mt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=K$(e1(t1(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+jr(r))}normalize(t){return n.stripTrailingSlash(W$(this._basePath,t1(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=jr;static joinWithSlash=fp;static stripTrailingSlash=e1;static \u0275fac=function(r){return new(r||n)(ye(Br))};static \u0275prov=ie({token:n,factory:()=>G$(),providedIn:"root"})}return n})();function G$(){return new $s(ye(Br))}function W$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function t1(n){return n.replace(/\/index.html$/,"")}function K$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var $_=(()=>{class n extends Br{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=fp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+jr(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+jr(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ye(Nu),ye(hp,8))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();var _n=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(_n||{}),st=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(st||{}),Un=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Un||{}),ns={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function l1(n){return dr(n)[Ot.LocaleId]}function c1(n,e,t){let r=dr(n),i=[r[Ot.DayPeriodsFormat],r[Ot.DayPeriodsStandalone]],s=mr(i,e);return mr(s,t)}function u1(n,e,t){let r=dr(n),i=[r[Ot.DaysFormat],r[Ot.DaysStandalone]],s=mr(i,e);return mr(s,t)}function d1(n,e,t){let r=dr(n),i=[r[Ot.MonthsFormat],r[Ot.MonthsStandalone]],s=mr(i,e);return mr(s,t)}function f1(n,e){let r=dr(n)[Ot.Eras];return mr(r,e)}function Ou(n,e){let t=dr(n);return mr(t[Ot.DateFormat],e)}function Lu(n,e){let t=dr(n);return mr(t[Ot.TimeFormat],e)}function Fu(n,e){let r=dr(n)[Ot.DateTimeFormat];return mr(r,e)}function Vu(n,e){let t=dr(n),r=t[Ot.NumberSymbols][e];if(typeof r>"u"){if(e===ns.CurrencyDecimal)return t[Ot.NumberSymbols][ns.Decimal];if(e===ns.CurrencyGroup)return t[Ot.NumberSymbols][ns.Group]}return r}function h1(n){if(!n[Ot.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ot.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function p1(n){let e=dr(n);return h1(e),(e[Ot.ExtraData][2]||[]).map(r=>typeof r=="string"?L_(r):[L_(r[0]),L_(r[1])])}function m1(n,e,t){let r=dr(n);h1(r);let i=[r[Ot.ExtraData][0],r[Ot.ExtraData][1]],s=mr(i,e)||[];return mr(s,t)||[]}function mr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function L_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var Y$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mp={},Q$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function g1(n,e,t,r){let i=sz(n);e=ts(t,e)||e;let o=[],a;for(;e;)if(a=Q$.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let l=i.getTimezoneOffset();r&&(l=y1(r,l),i=iz(i,r));let c="";return o.forEach(d=>{let f=nz(d);c+=f?f(i,t,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function _p(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ts(n,e){let t=l1(n);if(mp[t]??={},mp[t][e])return mp[t][e];let r="";switch(e){case"shortDate":r=Ou(n,Un.Short);break;case"mediumDate":r=Ou(n,Un.Medium);break;case"longDate":r=Ou(n,Un.Long);break;case"fullDate":r=Ou(n,Un.Full);break;case"shortTime":r=Lu(n,Un.Short);break;case"mediumTime":r=Lu(n,Un.Medium);break;case"longTime":r=Lu(n,Un.Long);break;case"fullTime":r=Lu(n,Un.Full);break;case"short":let i=ts(n,"shortTime"),s=ts(n,"shortDate");r=gp(Fu(n,Un.Short),[i,s]);break;case"medium":let o=ts(n,"mediumTime"),a=ts(n,"mediumDate");r=gp(Fu(n,Un.Medium),[o,a]);break;case"long":let l=ts(n,"longTime"),c=ts(n,"longDate");r=gp(Fu(n,Un.Long),[l,c]);break;case"full":let d=ts(n,"fullTime"),f=ts(n,"fullDate");r=gp(Fu(n,Un.Full),[d,f]);break}return r&&(mp[t][e]=r),r}function gp(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function $r(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function X$(n,e){return $r(n,3).substring(0,e)}function jt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=Z$(n,s);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return X$(a,e);let l=Vu(o,ns.MinusSign);return $r(a,e,l,r,i)}}function Z$(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function ht(n,e,t=_n.Format,r=!1){return function(i,s){return J$(i,s,n,e,t,r)}}function J$(n,e,t,r,i,s){switch(t){case 2:return d1(e,i,r)[n.getMonth()];case 1:return u1(e,i,r)[n.getDay()];case 0:let o=n.getHours(),a=n.getMinutes();if(s){let c=p1(e),d=m1(e,i,r),f=c.findIndex(g=>{if(Array.isArray(g)){let[m,h]=g,v=o>=m.hours&&a>=m.minutes,w=o<h.hours||o===h.hours&&a<h.minutes;if(m.hours<h.hours){if(v&&w)return!0}else if(v||w)return!0}else if(g.hours===o&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return c1(e,i,r)[o<12?0:1];case 3:return f1(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function vp(n){return function(e,t,r){let i=-1*r,s=Vu(t,ns.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+$r(o,2,s)+$r(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+$r(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+$r(o,2,s)+":"+$r(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+$r(o,2,s)+":"+$r(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var ez=0,wp=4;function tz(n){let e=_p(n,ez,1).getDay();return _p(n,0,1+(e<=wp?wp:wp+7)-e)}function v1(n){let e=n.getDay(),t=e===0?-3:wp-e;return _p(n.getFullYear(),n.getMonth(),n.getDate()+t)}function F_(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=v1(t),o=tz(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return $r(i,n,Vu(r,ns.MinusSign))}}function yp(n,e=!1){return function(t,r){let s=v1(t).getFullYear();return $r(s,n,Vu(r,ns.MinusSign),e)}}var V_={};function nz(n){if(V_[n])return V_[n];let e;switch(n){case"G":case"GG":case"GGG":e=ht(3,st.Abbreviated);break;case"GGGG":e=ht(3,st.Wide);break;case"GGGGG":e=ht(3,st.Narrow);break;case"y":e=jt(0,1,0,!1,!0);break;case"yy":e=jt(0,2,0,!0,!0);break;case"yyy":e=jt(0,3,0,!1,!0);break;case"yyyy":e=jt(0,4,0,!1,!0);break;case"Y":e=yp(1);break;case"YY":e=yp(2,!0);break;case"YYY":e=yp(3);break;case"YYYY":e=yp(4);break;case"M":case"L":e=jt(1,1,1);break;case"MM":case"LL":e=jt(1,2,1);break;case"MMM":e=ht(2,st.Abbreviated);break;case"MMMM":e=ht(2,st.Wide);break;case"MMMMM":e=ht(2,st.Narrow);break;case"LLL":e=ht(2,st.Abbreviated,_n.Standalone);break;case"LLLL":e=ht(2,st.Wide,_n.Standalone);break;case"LLLLL":e=ht(2,st.Narrow,_n.Standalone);break;case"w":e=F_(1);break;case"ww":e=F_(2);break;case"W":e=F_(1,!0);break;case"d":e=jt(2,1);break;case"dd":e=jt(2,2);break;case"c":case"cc":e=jt(7,1);break;case"ccc":e=ht(1,st.Abbreviated,_n.Standalone);break;case"cccc":e=ht(1,st.Wide,_n.Standalone);break;case"ccccc":e=ht(1,st.Narrow,_n.Standalone);break;case"cccccc":e=ht(1,st.Short,_n.Standalone);break;case"E":case"EE":case"EEE":e=ht(1,st.Abbreviated);break;case"EEEE":e=ht(1,st.Wide);break;case"EEEEE":e=ht(1,st.Narrow);break;case"EEEEEE":e=ht(1,st.Short);break;case"a":case"aa":case"aaa":e=ht(0,st.Abbreviated);break;case"aaaa":e=ht(0,st.Wide);break;case"aaaaa":e=ht(0,st.Narrow);break;case"b":case"bb":case"bbb":e=ht(0,st.Abbreviated,_n.Standalone,!0);break;case"bbbb":e=ht(0,st.Wide,_n.Standalone,!0);break;case"bbbbb":e=ht(0,st.Narrow,_n.Standalone,!0);break;case"B":case"BB":case"BBB":e=ht(0,st.Abbreviated,_n.Format,!0);break;case"BBBB":e=ht(0,st.Wide,_n.Format,!0);break;case"BBBBB":e=ht(0,st.Narrow,_n.Format,!0);break;case"h":e=jt(3,1,-12);break;case"hh":e=jt(3,2,-12);break;case"H":e=jt(3,1);break;case"HH":e=jt(3,2);break;case"m":e=jt(4,1);break;case"mm":e=jt(4,2);break;case"s":e=jt(5,1);break;case"ss":e=jt(5,2);break;case"S":e=jt(6,1);break;case"SS":e=jt(6,2);break;case"SSS":e=jt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=vp(0);break;case"ZZZZZ":e=vp(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=vp(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=vp(2);break;default:return null}return V_[n]=e,e}function y1(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function rz(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function iz(n,e,t){let i=n.getTimezoneOffset(),s=y1(e,i);return rz(n,-1*(s-i))}function sz(n){if(i1(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(a=>+a);return _p(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Y$))return oz(r)}let e=new Date(n);if(!i1(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function oz(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,l,c),e}function i1(n){return n instanceof Date&&!isNaN(n.valueOf())}var U_=/\s+/,s1=[],Uu=(()=>{class n{_ngEl;_renderer;initialClasses=s1;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(U_):s1}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(U_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(U_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(me(yn),me(ur))};static \u0275dir=bt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var bp=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},jn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new bp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),o1(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);o1(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(me(Us),me(Ko),me(P_))};static \u0275dir=bt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function o1(n,e){n.context.$implicit=e.item}var Et=(()=>{class n{_viewContainer;_context=new Ep;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){a1(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){a1(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(me(Us),me(Ko))};static \u0275dir=bt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Ep=class{$implicit=null;ngIf=null};function a1(n,e){if(n&&!n.createEmbeddedView)throw new ue(2020,!1)}function w1(n,e){return new ue(2100,!1)}var j_=class{createSubscription(e,t){return hr(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){hr(()=>e.unsubscribe())}},B_=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},az=new B_,lz=new j_,aa=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(js(t))return az;if(S_(t))return lz;throw w1(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(me(fr,16))};static \u0275pipe=I_({name:"async",type:n,pure:!1})}return n})();var cz="mediumDate",_1=new le(""),b1=new le(""),la=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??cz,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return g1(t,o,s||this.locale,a)}catch(o){throw w1(n,o.message)}}static \u0275fac=function(r){return new(r||n)(me(dp,16),me(_1,24),me(b1,24))};static \u0275pipe=I_({name:"date",type:n,pure:!0})}return n})();var et=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=di({type:n});static \u0275inj=ci({})}return n})();function z_(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ip="browser",E1="server";function rs(n){return n===Ip}function Tp(n){return n===E1}var ju=class{};var I1=(()=>{class n{static \u0275prov=ie({token:n,providedIn:"root",factory:()=>new H_(F(en),window)})}return n})(),H_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=uz(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function uz(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Dp=new le(""),K_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new ue(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ye(Dp),ye(We))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),Bu=class{_doc;constructor(e){this._doc=e}manager},Sp="ng-app-id";function T1(n){for(let e of n)e.remove()}function S1(n,e){let t=e.createElement("style");return t.textContent=n,t}function dz(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Sp}="${e}"],link[${Sp}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Sp),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function G_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Y_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Tp(s),dz(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,S1);r?.forEach(i=>this.addUsage(i,this.external,G_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(T1(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])T1(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,S1(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,G_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Sp,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ye(en),ye(e_),ye(n_,8),ye(cr))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),q_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Q_=/%COMP%/g;var D1="%COMP%",fz=`_nghost-${D1}`,hz=`_ngcontent-${D1}`,pz=!0,mz=new le("",{providedIn:"root",factory:()=>pz});function gz(n){return hz.replace(Q_,n)}function vz(n){return fz.replace(Q_,n)}function x1(n,e){return e.map(t=>t.replace(Q_,n))}var X_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,l,c=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=Tp(a),this.defaultRenderer=new $u(t,o,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===li.ShadowDom&&(r=ce(G({},r),{encapsulation:li.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Cp?i.applyToHost(t):i instanceof zu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case li.Emulated:s=new Cp(l,c,r,this.appId,d,o,a,f,g);break;case li.ShadowDom:return new W_(l,c,t,r,o,a,this.nonce,f,g);default:s=new zu(l,c,r,d,o,a,f,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ye(K_),ye(Y_),ye(e_),ye(mz),ye(en),ye(cr),ye(We),ye(n_),ye(Dl,8))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),$u=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(q_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(C1(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(C1(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ue(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=q_[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=q_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ki.DashCase|Ki.Important)?e.style.setProperty(t,r,i&Ki.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ki.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=pr().getGlobalEventTarget(this.doc,e),!e))throw new ue(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function C1(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var W_=class extends $u{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,l,c){super(e,s,o,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=x1(i.id,d);for(let g of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let g of f){let m=G_(g,s);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zu=class extends $u{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,l,c){super(e,s,o,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?x1(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Cp=class extends zu{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,l,c){let d=i+"-"+r.id;super(e,t,r,s,o,a,l,c,d),this.contentAttr=gz(d),this.hostAttr=vz(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var xp=class n extends Pu{supportsDOMEvents=!0;static makeCurrent(){N_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=yz();return t==null?null:wz(t)}resetBaseElement(){Hu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return z_(document.cookie,e)}},Hu=null;function yz(){return Hu=Hu||document.querySelector("base"),Hu?Hu.getAttribute("href"):null}function wz(n){return new URL(n,document.baseURI).pathname}var _z=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),M1=(()=>{class n extends Bu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(ye(en))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),A1=["alt","control","meta","shift"],bz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ez={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},R1=(()=>{class n extends Bu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pr().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),A1.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),o+=c+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=bz[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),A1.forEach(o=>{if(o!==i){let a=Ez[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ye(en))};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();function Z_(n,e){return XA(G({rootComponent:n},Iz(e)))}function Iz(n){return{appProviders:[...xz,...n?.providers??[]],platformProviders:Dz}}function Tz(){xp.makeCurrent()}function Sz(){return new ai}function Cz(){return Rx(document),document}var Dz=[{provide:cr,useValue:Ip},{provide:t_,useValue:Tz,multi:!0},{provide:en,useFactory:Cz}];var xz=[{provide:Xh,useValue:"root"},{provide:ai,useFactory:Sz},{provide:Dp,useClass:M1,multi:!0,deps:[en]},{provide:Dp,useClass:R1,multi:!0,deps:[en]},X_,Y_,K_,{provide:wl,useExisting:X_},{provide:ju,useClass:_z},[]];var k1=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ye(en))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ae="primary",rd=Symbol("RouteTitle"),r0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function da(n){return new r0(n)}function j1(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Mz(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hi(n[t],e[t]))return!1;return!0}function hi(n,e){let t=n?i0(n):void 0,r=e?i0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!B1(n[i],e[i]))return!1;return!0}function i0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function B1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function $1(n){return n.length>0?n[n.length-1]:null}function Ws(n){return fy(n)?n:js(n)?Se(Promise.resolve(n)):de(n)}var Rz={exact:H1,subset:q1},z1={exact:kz,subset:Pz,ignored:()=>!0};function P1(n,e,t){return Rz[t.paths](n.root,e.root,t.matrixParams)&&z1[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function kz(n,e){return hi(n,e)}function H1(n,e,t){if(!ca(n.segments,e.segments)||!Rp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!H1(n.children[r],e.children[r],t))return!1;return!0}function Pz(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>B1(n[t],e[t]))}function q1(n,e,t){return G1(n,e,e.segments,t)}function G1(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ca(i,t)||e.hasChildren()||!Rp(i,t,r))}else if(n.segments.length===t.length){if(!ca(n.segments,t)||!Rp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!q1(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!ca(n.segments,i)||!Rp(n.segments,i,r)||!n.children[Ae]?!1:G1(n.children[Ae],e,s,r)}}function Rp(n,e,t){return e.every((r,i)=>z1[t](n[i].parameters,r.parameters))}var mi=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Qe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=da(this.queryParams),this._queryParamMap}toString(){return Lz.serialize(this)}},Qe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kp(this)}},zs=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=da(this.parameters),this._parameterMap}toString(){return K1(this)}};function Nz(n,e){return ca(n,e)&&n.every((t,r)=>hi(t.parameters,e[r].parameters))}function ca(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Oz(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ae&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ae&&(t=t.concat(e(i,r)))}),t}var fa=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>new Hs,providedIn:"root"})}return n})(),Hs=class{parse(e){let t=new o0(e);return new mi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${qu(e.root,!0)}`,r=Uz(e.queryParams),i=typeof e.fragment=="string"?`#${Fz(e.fragment)}`:"";return`${t}${r}${i}`}},Lz=new Hs;function kp(n){return n.segments.map(e=>K1(e)).join("/")}function qu(n,e){if(!n.hasChildren())return kp(n);if(e){let t=n.children[Ae]?qu(n.children[Ae],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Ae&&r.push(`${i}:${qu(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Oz(n,(r,i)=>i===Ae?[qu(n.children[Ae],!1)]:[`${i}:${qu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ae]!=null?`${kp(n)}/${t[0]}`:`${kp(n)}/(${t.join("//")})`}}function W1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ap(n){return W1(n).replace(/%3B/gi,";")}function Fz(n){return encodeURI(n)}function s0(n){return W1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pp(n){return decodeURIComponent(n)}function N1(n){return Pp(n.replace(/\+/g,"%20"))}function K1(n){return`${s0(n.path)}${Vz(n.parameters)}`}function Vz(n){return Object.entries(n).map(([e,t])=>`;${s0(e)}=${s0(t)}`).join("")}function Uz(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ap(t)}=${Ap(i)}`).join("&"):`${Ap(t)}=${Ap(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var jz=/^[^\/()?;#]+/;function J_(n){let e=n.match(jz);return e?e[0]:""}var Bz=/^[^\/()?;=#]+/;function $z(n){let e=n.match(Bz);return e?e[0]:""}var zz=/^[^=?&#]+/;function Hz(n){let e=n.match(zz);return e?e[0]:""}var qz=/^[^&#]+/;function Gz(n){let e=n.match(qz);return e?e[0]:""}var o0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ae]=new Qe(e,t)),r}parseSegment(){let e=J_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(e),new zs(Pp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=$z(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=J_(this.remaining);i&&(r=i,this.capture(r))}e[Pp(t)]=Pp(r)}parseQueryParam(e){let t=Hz(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Gz(this.remaining);o&&(r=o,this.capture(r))}let i=N1(t),s=N1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=J_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ue(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ae);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[Ae]:new Qe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ue(4011,!1)}};function Y1(n){return n.segments.length>0?new Qe([],{[Ae]:n}):n}function Q1(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=Q1(i);if(r===Ae&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Qe(n.segments,e);return Wz(t)}function Wz(n){if(n.numberOfChildren===1&&n.children[Ae]){let e=n.children[Ae];return new Qe(n.segments.concat(e.segments),e.children)}return n}function qs(n){return n instanceof mi}function X1(n,e,t=null,r=null){let i=Z1(n);return J1(i,e,t,r)}function Z1(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new Qe(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=Y1(r);return e??i}function J1(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return e0(i,i,i,t,r);let s=Kz(e);if(s.toRoot())return e0(i,i,new Qe([],{}),t,r);let o=Yz(s,i,n),a=o.processChildren?Wu(o.segmentGroup,o.index,s.commands):tM(o.segmentGroup,o.index,s.commands);return e0(i,o.segmentGroup,a,t,r)}function Op(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Yu(n){return typeof n=="object"&&n!=null&&n.outlets}function e0(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;n===e?o=t:o=eM(n,e,t);let a=Y1(Q1(o));return new mi(a,s,i)}function eM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=eM(s,e,t)}),new Qe(n.segments,r)}var Lp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Op(r[0]))throw new ue(4003,!1);let i=r.find(Yu);if(i&&i!==$1(r))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Kz(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Lp(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Lp(t,e,r)}var Pl=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Yz(n,e,t){if(n.isAbsolute)return new Pl(e,!0,0);if(!t)return new Pl(e,!1,NaN);if(t.parent===null)return new Pl(t,!0,0);let r=Op(n.commands[0])?0:1,i=t.segments.length-1+r;return Qz(t,i,n.numberOfDoubleDots)}function Qz(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ue(4005,!1);i=r.segments.length}return new Pl(r,!1,i-s)}function Xz(n){return Yu(n[0])?n[0].outlets:{[Ae]:n}}function tM(n,e,t){if(n??=new Qe([],{}),n.segments.length===0&&n.hasChildren())return Wu(n,e,t);let r=Zz(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Qe(n.segments.slice(0,r.pathIndex),{});return s.children[Ae]=new Qe(n.segments.slice(r.pathIndex),n.children),Wu(s,0,i)}else return r.match&&i.length===0?new Qe(n.segments,{}):r.match&&!n.hasChildren()?a0(n,e,t):r.match?Wu(n,0,i):a0(n,e,t)}function Wu(n,e,t){if(t.length===0)return new Qe(n.segments,{});{let r=Xz(t),i={};if(Object.keys(r).some(s=>s!==Ae)&&n.children[Ae]&&n.numberOfChildren===1&&n.children[Ae].segments.length===0){let s=Wu(n.children[Ae],e,t);return new Qe(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=tM(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Qe(n.segments,i)}}function Zz(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Yu(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!L1(l,c,o))return s;r+=2}else{if(!L1(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function a0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Yu(s)){let l=Jz(s.outlets);return new Qe(r,l)}if(i===0&&Op(t[0])){let l=n.segments[e];r.push(new zs(l.path,O1(t[0]))),i++;continue}let o=Yu(s)?s.outlets[Ae]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Op(a)?(r.push(new zs(o,O1(a))),i+=2):(r.push(new zs(o,{})),i++)}return new Qe(r,{})}function Jz(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=a0(new Qe([],{}),0,r))}),e}function O1(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function L1(n,e,t){return n==t.path&&hi(e,t.parameters)}var Np="imperative",Kt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Kt||{}),tr=class{id;url;constructor(e,t){this.id=e,this.url=t}},Gs=class extends tr{type=Kt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nr=class extends tr{urlAfterRedirects;type=Kt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Bn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Bn||{}),Ol=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ol||{}),pi=class extends tr{reason;code;type=Kt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gi=class extends tr{reason;code;type=Kt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ll=class extends tr{error;target;type=Kt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qu=class extends tr{urlAfterRedirects;state;type=Kt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fp=class extends tr{urlAfterRedirects;state;type=Kt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vp=class extends tr{urlAfterRedirects;state;shouldActivate;type=Kt.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Up=class extends tr{urlAfterRedirects;state;type=Kt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jp=class extends tr{urlAfterRedirects;state;type=Kt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bp=class{route;type=Kt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$p=class{route;type=Kt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zp=class{snapshot;type=Kt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hp=class{snapshot;type=Kt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qp=class{snapshot;type=Kt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gp=class{snapshot;type=Kt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fl=class{routerEvent;position;anchor;type=Kt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Xu=class{},Vl=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function eH(n,e){return n.providers&&!n._injector&&(n._injector=Ru(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zr(n){return n.outlet||Ae}function tH(n,e){let t=n.filter(r=>zr(r)===e);return t.push(...n.filter(r=>zr(r)!==e)),t}function id(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Wp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return id(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ha(this.rootInjector)}},ha=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Wp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ye(pn))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=l0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=l0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=c0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return c0(e,this._root).map(t=>t.value)}};function l0(n,e){if(n===e.value)return e;for(let t of e.children){let r=l0(n,t);if(r)return r}return null}function c0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=c0(n,t);if(r.length)return r.unshift(e),r}return[]}var er=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function kl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Zu=class extends Kp{snapshot;constructor(e,t){super(e),this.snapshot=t,v0(this,e)}toString(){return this.snapshot.toString()}};function nM(n){let e=nH(n),t=new Rt([new zs("",{})]),r=new Rt({}),i=new Rt({}),s=new Rt({}),o=new Rt(""),a=new $n(t,r,s,o,i,Ae,n,e.root);return a.snapshot=e.root,new Zu(new er(a,[]),e)}function nH(n){let e={},t={},r={},i="",s=new ua([],e,r,i,t,Ae,n,null,{});return new Ju("",new er(s,[]))}var $n=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ve(c=>c[rd]))??de(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(e=>da(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(e=>da(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:G(G({},e.params),n.params),data:G(G({},e.data),n.data),resolve:G(G(G(G({},n.data),e.data),i?.data),n._resolvedData)}:r={params:G({},n.params),data:G({},n.data),resolve:G(G({},n.data),n._resolvedData??{})},i&&iM(i)&&(r.resolve[rd]=i.title),r}var ua=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[rd]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=da(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=da(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ju=class extends Kp{url;constructor(e,t){super(t),this.url=e,v0(this,t)}toString(){return rM(this._root)}};function v0(n,e){e.value._routerState=n,e.children.forEach(t=>v0(n,t))}function rM(n){let e=n.children.length>0?` { ${n.children.map(rM).join(", ")} } `:"";return`${n.value}${e}`}function t0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),hi(e.params,t.params)||n.paramsSubject.next(t.params),Mz(e.url,t.url)||n.urlSubject.next(t.url),hi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function u0(n,e){let t=hi(n.params,e.params)&&Nz(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||u0(n.parent,e.parent))}function iM(n){return typeof n.title=="string"||n.title===null}var sM=new le(""),sd=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ae;activateEvents=new Ze;deactivateEvents=new Ze;attachEvents=new Ze;detachEvents=new Ze;routerOutletData=Tx(void 0);parentContexts=F(ha);location=F(Us);changeDetector=F(fr);inputBinder=F(od,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new d0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=bt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Vr]})}return n})(),d0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===$n?this.route:e===ha?this.childContexts:e===sM?this.outletData:this.parent.get(e,t)}},od=new le(""),y0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=No([r.queryParams,r.params,r.data]).pipe(Nt(([s,o,a],l)=>(a=G(G(G({},s),o),a),l===0?de(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=JA(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();function rH(n,e,t){let r=ed(n,e._root,t?t._root:void 0);return new Zu(r,e)}function ed(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=iH(n,e,t);return new er(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ed(n,a)),o}}let r=sH(e.value),i=e.children.map(s=>ed(n,s));return new er(r,i)}}function iH(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ed(n,r,i);return ed(n,r)})}function sH(n){return new $n(new Rt(n.url),new Rt(n.params),new Rt(n.queryParams),new Rt(n.fragment),new Rt(n.data),n.outlet,n.component,n)}var Ul=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},oM="ngNavigationCancelingError";function Qp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=qs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aM(!1,Bn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function aM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[oM]=!0,t.cancellationCode=e,t}function oH(n){return lM(n)&&qs(n.url)}function lM(n){return!!n&&n[oM]}var aH=(n,e,t,r)=>ve(i=>(new f0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),f0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),t0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=kl(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=kl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=kl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=kl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Gp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Hp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(t0(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),t0(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Xp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Nl=class{component;route;constructor(e,t){this.component=e,this.route=t}};function lH(n,e,t){let r=n._root,i=e?e._root:null;return Gu(r,i,t,[r.value])}function cH(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Bl(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!_D(n)?n:e.get(n):r}function Gu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=kl(e);return n.children.forEach(o=>{uH(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ku(a,t.getContext(o),i)),i}function uH(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=dH(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Xp(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Gu(n,e,a?a.children:null,r,i):Gu(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Nl(a.outlet.component,o))}else o&&Ku(e,a,i),i.canActivateChecks.push(new Xp(r)),s.component?Gu(n,null,a?a.children:null,r,i):Gu(n,null,t,r,i);return i}function dH(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ca(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ca(n.url,e.url)||!hi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!u0(n,e)||!hi(n.queryParams,e.queryParams);case"paramsChange":default:return!u0(n,e)}}function Ku(n,e,t){let r=kl(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ku(o,e.children.getContext(s),t):Ku(o,null,t):Ku(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Nl(e.outlet.component,i)):t.canDeactivateChecks.push(new Nl(null,i)):t.canDeactivateChecks.push(new Nl(null,i))}function ad(n){return typeof n=="function"}function fH(n){return typeof n=="boolean"}function hH(n){return n&&ad(n.canLoad)}function pH(n){return n&&ad(n.canActivate)}function mH(n){return n&&ad(n.canActivateChild)}function gH(n){return n&&ad(n.canDeactivate)}function vH(n){return n&&ad(n.canMatch)}function cM(n){return n instanceof Ar||n?.name==="EmptyError"}var Mp=Symbol("INITIAL_VALUE");function jl(){return Nt(n=>No(n.map(e=>e.pipe(Mr(1),hh(Mp)))).pipe(ve(e=>{for(let t of e)if(t!==!0){if(t===Mp)return Mp;if(t===!1||yH(t))return t}return!0}),Pn(e=>e!==Mp),Mr(1)))}function yH(n){return qs(n)||n instanceof Ul}function wH(n,e){return kt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?de(ce(G({},t),{guardsResult:!0})):_H(o,r,i,n).pipe(kt(a=>a&&fH(a)?bH(r,s,n,e):de(a)),ve(a=>ce(G({},t),{guardsResult:a})))})}function _H(n,e,t,r){return Se(n).pipe(kt(i=>CH(i.component,i.route,t,e,r)),qi(i=>i!==!0,!0))}function bH(n,e,t,r){return Se(e).pipe(Ns(i=>ol(IH(i.route.parent,r),EH(i.route,r),SH(n,i.path,t),TH(n,i.route,t))),qi(i=>i!==!0,!0))}function EH(n,e){return n!==null&&e&&e(new qp(n)),de(!0)}function IH(n,e){return n!==null&&e&&e(new zp(n)),de(!0)}function TH(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return de(!0);let i=r.map(s=>uh(()=>{let o=id(e)??t,a=Bl(s,o),l=pH(a)?a.canActivate(e,n):vn(o,()=>a(e,n));return Ws(l).pipe(qi())}));return de(i).pipe(jl())}function SH(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>cH(o)).filter(o=>o!==null).map(o=>uh(()=>{let a=o.guards.map(l=>{let c=id(o.node)??t,d=Bl(l,c),f=mH(d)?d.canActivateChild(r,n):vn(c,()=>d(r,n));return Ws(f).pipe(qi())});return de(a).pipe(jl())}));return de(s).pipe(jl())}function CH(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return de(!0);let o=s.map(a=>{let l=id(e)??i,c=Bl(a,l),d=gH(c)?c.canDeactivate(n,e,t,r):vn(l,()=>c(n,e,t,r));return Ws(d).pipe(qi())});return de(o).pipe(jl())}function DH(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return de(!0);let s=i.map(o=>{let a=Bl(o,n),l=hH(a)?a.canLoad(e,t):vn(n,()=>a(e,t));return Ws(l)});return de(s).pipe(jl(),uM(r))}function uM(n){return qf(an(e=>{if(typeof e!="boolean")throw Qp(n,e)}),ve(e=>e===!0))}function xH(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return de(!0);let s=i.map(o=>{let a=Bl(o,n),l=vH(a)?a.canMatch(e,t):vn(n,()=>a(e,t));return Ws(l)});return de(s).pipe(jl(),uM(r))}var td=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},nd=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Rl(n){return xr(new td(n))}function AH(n){return xr(new ue(4e3,!1))}function MH(n){return xr(aM(!1,Bn.GuardRejected))}var h0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return de(r);if(i.numberOfChildren>1||!i.children[Ae])return AH(`${e.redirectTo}`);i=i.children[Ae]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:d,url:f,outlet:g,params:m,data:h,title:v}=i,w=vn(s,()=>a({params:m,data:h,queryParams:l,fragment:c,routeConfig:d,url:f,outlet:g,title:v}));if(w instanceof mi)throw new nd(w);t=w}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new nd(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new mi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Qe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ue(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},p0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RH(n,e,t,r,i){let s=dM(n,e,t);return s.matched?(r=eH(e,r),xH(r,e,t,i).pipe(ve(o=>o===!0?s:G({},p0)))):de(s)}function dM(n,e,t){if(e.path==="**")return kH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?G({},p0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||j1)(t,n,e);if(!i)return G({},p0);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?G(G({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function kH(n){return{matched:!0,parameters:n.length>0?$1(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function F1(n,e,t,r){return t.length>0&&OH(n,t,r)?{segmentGroup:new Qe(e,NH(r,new Qe(t,n.children))),slicedSegments:[]}:t.length===0&&LH(n,t,r)?{segmentGroup:new Qe(n.segments,PH(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Qe(n.segments,n.children),slicedSegments:t}}function PH(n,e,t,r){let i={};for(let s of t)if(Jp(n,e,s)&&!r[zr(s)]){let o=new Qe([],{});i[zr(s)]=o}return G(G({},r),i)}function NH(n,e){let t={};t[Ae]=e;for(let r of n)if(r.path===""&&zr(r)!==Ae){let i=new Qe([],{});t[zr(r)]=i}return t}function OH(n,e,t){return t.some(r=>Jp(n,e,r)&&zr(r)!==Ae)}function LH(n,e,t){return t.some(r=>Jp(n,e,r))}function Jp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function FH(n,e,t){return e.length===0&&!n.children[t]}var m0=class{};function VH(n,e,t,r,i,s,o="emptyOnly"){return new g0(n,e,t,r,i,o,s).recognize()}var UH=31,g0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new h0(this.urlSerializer,this.urlTree)}noMatchError(e){return new ue(4002,`'${e.segmentGroup}'`)}recognize(){let e=F1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ve(({children:t,rootSnapshot:r})=>{let i=new er(r,t),s=new Ju("",i),o=X1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new ua([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ae,t).pipe(ve(r=>({children:r,rootSnapshot:t})),Pt(r=>{if(r instanceof nd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof td?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(ve(o=>o instanceof er?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Se(s).pipe(Ns(o=>{let a=r.children[o],l=tH(t,o);return this.processSegmentGroup(e,l,a,o,i)}),fh((o,a)=>(o.push(...a),o)),Os(null),py(),kt(o=>{if(o===null)return Rl(r);let a=fM(o);return jH(a),de(a)}))}processSegment(e,t,r,i,s,o,a){return Se(t).pipe(Ns(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,s,o,a).pipe(Pt(c=>{if(c instanceof td)return de(null);throw c}))),qi(l=>!!l),Pt(l=>{if(cM(l))return FH(r,i,s)?de(new m0):Rl(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,l){return zr(r)!==o&&(o===Ae||!Jp(i,s,r))?Rl(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,l):Rl(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=dM(t,i,s);if(!l)return Rl(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UH&&(this.allowRedirects=!1));let m=new ua(s,c,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,V1(i),zr(i),i.component??i._loadedComponent??null,i,U1(i)),h=Yp(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(h.params),m.data=Object.freeze(h.data);let v=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(kt(w=>this.processSegment(e,r,t,w.concat(g),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=RH(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Nt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Nt(({routes:c})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:m}=l,h=new ua(g,f,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,V1(r),zr(r),r.component??r._loadedComponent??null,r,U1(r)),v=Yp(h,o,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let{segmentGroup:w,slicedSegments:x}=F1(t,g,m,c);if(x.length===0&&w.hasChildren())return this.processChildren(d,c,w,h).pipe(ve(E=>new er(h,E)));if(c.length===0&&x.length===0)return de(new er(h,[]));let S=zr(r)===s;return this.processSegment(d,c,w,x,S?Ae:s,!0,h).pipe(ve(E=>new er(h,E instanceof er?[E]:[])))}))):Rl(t)))}getChildConfig(e,t,r){return t.children?de({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?de({routes:t._loadedRoutes,injector:t._loadedInjector}):DH(e,t,r,this.urlSerializer).pipe(kt(i=>i?this.configLoader.loadChildren(e,t).pipe(an(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):MH(t))):de({routes:[],injector:e})}};function jH(n){n.sort((e,t)=>e.value.outlet===Ae?-1:t.value.outlet===Ae?1:e.value.outlet.localeCompare(t.value.outlet))}function BH(n){let e=n.value.routeConfig;return e&&e.path===""}function fM(n){let e=[],t=new Set;for(let r of n){if(!BH(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=fM(r.children);e.push(new er(r.value,i))}return e.filter(r=>!t.has(r))}function V1(n){return n.data||{}}function U1(n){return n.resolve||{}}function $H(n,e,t,r,i,s){return kt(o=>VH(n,e,t,r,o.extractedUrl,i,s).pipe(ve(({state:a,tree:l})=>ce(G({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function zH(n,e){return kt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return de(t);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of hM(l))o.add(c);let a=0;return Se(o).pipe(Ns(l=>s.has(l)?HH(l,r,n,e):(l.data=Yp(l,l.parent,n).resolve,de(void 0))),an(()=>a++),al(1),kt(l=>a===o.size?de(t):Rn))})}function hM(n){let e=n.children.map(t=>hM(t)).flat();return[n,...e]}function HH(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!iM(i)&&(s[rd]=i.title),qH(s,n,e,r).pipe(ve(o=>(n._resolvedData=o,n.data=Yp(n,n.parent,t).resolve,null)))}function qH(n,e,t,r){let i=i0(n);if(i.length===0)return de({});let s={};return Se(i).pipe(kt(o=>GH(n[o],e,t,r).pipe(qi(),an(a=>{if(a instanceof Ul)throw Qp(new Hs,a);s[o]=a}))),al(1),ve(()=>s),Pt(o=>cM(o)?Rn:xr(o)))}function GH(n,e,t,r){let i=id(e)??r,s=Bl(n,i),o=s.resolve?s.resolve(e,t):vn(i,()=>s(e,t));return Ws(o)}function n0(n){return Nt(e=>{let t=n(e);return t?Se(t).pipe(ve(()=>e)):de(e)})}var w0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ae);return r}getResolvedTitleForRoute(t){return t.data[rd]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(pM),providedIn:"root"})}return n})(),pM=(()=>{class n extends w0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ye(k1))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pa=new le("",{providedIn:"root",factory:()=>({})}),_0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ke({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&fe(0,"router-outlet")},dependencies:[sd],encapsulation:2})}return n})();function b0(n){let e=n.children&&n.children.map(b0),t=e?ce(G({},n),{children:e}):G({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ae&&(t.component=_0),t}var ma=new le(""),em=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(QA);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return de(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ws(t.loadComponent()).pipe(ve(gM),an(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ou(()=>{this.componentLoaders.delete(t)})),i=new nl(r,()=>new Mt).pipe(tl());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return de({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=mM(r,this.compiler,t,this.onLoadEndListener).pipe(ou(()=>{this.childrenLoaders.delete(r)})),o=new nl(s,()=>new Mt).pipe(tl());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mM(n,e,t,r){return Ws(n.loadChildren()).pipe(ve(gM),kt(i=>i instanceof E_||Array.isArray(i)?de(i):Se(e.compileModuleAsync(i))),ve(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(ma,[],{optional:!0,self:!0}).flat()),{routes:o.map(b0),injector:s}}))}function WH(n){return n&&typeof n=="object"&&"default"in n}function gM(n){return WH(n)?n.default:n}var tm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(KH),providedIn:"root"})}return n})(),KH=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),E0=new le(""),I0=new le("");function vM(n,e,t){let r=n.get(I0),i=n.get(en);return n.get(We).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),YH(n))),{onViewTransitionCreated:l}=r;return l&&vn(n,()=>l({transition:a,from:e,to:t})),o})}function YH(n){return new Promise(e=>{s_({read:()=>setTimeout(e)},{injector:n})})}var T0=new le(""),nm=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Mt;transitionAbortSubject=new Mt;configLoader=F(em);environmentInjector=F(pn);destroyRef=F(Jo);urlSerializer=F(fa);rootContexts=F(ha);location=F($s);inputBindingEnabled=F(od,{optional:!0})!==null;titleStrategy=F(w0);options=F(pa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(tm);createViewTransition=F(E0,{optional:!0});navigationErrorHandler=F(T0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>de(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Bp(i)),r=i=>this.events.next(new $p(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ce(G({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Rt(null),this.transitions.pipe(Pn(r=>r!==null),Nt(r=>{let i=!1,s=!1;return de(r).pipe(Nt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Bn.SupersededByNewNavigation),Rn;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ce(G({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new gi(o.id,this.urlSerializer.serialize(o.rawUrl),c,Ol.IgnoredSameUrlNavigation)),o.resolve(!1),Rn}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return de(o).pipe(Nt(c=>(this.events.next(new Gs(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Rn:Promise.resolve(c))),$H(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),an(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ce(G({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new Qu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:d,source:f,restoredState:g,extras:m}=o,h=new Gs(c,this.urlSerializer.serialize(d),f,g);this.events.next(h);let v=nM(this.rootComponentType).snapshot;return this.currentTransition=r=ce(G({},o),{targetSnapshot:v,urlAfterRedirects:d,extras:ce(G({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,de(r)}else{let c="";return this.events.next(new gi(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Ol.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Rn}}),an(o=>{let a=new Fp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ve(o=>(this.currentTransition=r=ce(G({},o),{guards:lH(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),wH(this.environmentInjector,o=>this.events.next(o)),an(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Qp(this.urlSerializer,o.guardsResult);let a=new Vp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Pn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Bn.GuardRejected),!1)),n0(o=>{if(o.guards.canActivateChecks.length!==0)return de(o).pipe(an(a=>{let l=new Up(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Nt(a=>{let l=!1;return de(a).pipe(zH(this.paramsInheritanceStrategy,this.environmentInjector),an({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Bn.NoDataFromResolver)}}))}),an(a=>{let l=new jp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),n0(o=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(an(d=>{l.component=d}),ve(()=>{})));for(let d of l.children)c.push(...a(d));return c};return No(a(o.targetSnapshot.root)).pipe(Os(null),Mr(1))}),n0(()=>this.afterPreactivation()),Nt(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return l?Se(l).pipe(ve(()=>r)):de(r)}),ve(o=>{let a=rH(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ce(G({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),an(()=>{this.events.next(new Xu)}),aH(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Mr(1),an({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),my(this.transitionAbortSubject.pipe(an(o=>{throw o}))),ou(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",Bn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Pt(o=>{if(this.destroyed)return r.resolve(!1),Rn;if(s=!0,lM(o))this.events.next(new pi(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),oH(o)?this.events.next(new Vl(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ll(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let l=vn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Ul){let{message:c,cancellationCode:d}=Qp(this.urlSerializer,l);this.events.next(new pi(r.id,this.urlSerializer.serialize(r.extractedUrl),c,d)),this.events.next(new Vl(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Rn}))}))}cancelNavigationTransition(t,r,i){let s=new pi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QH(n){return n!==Np}var yM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(XH),providedIn:"root"})}return n})(),Zp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},XH=(()=>{class n extends Zp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Zo(n)))(i||n)}})();static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wM=(()=>{class n{urlSerializer=F(fa);options=F(pa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F($s);urlHandlingStrategy=F(tm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new mi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof mi?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=nM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:()=>F(ZH),providedIn:"root"})}return n})(),ZH=(()=>{class n extends wM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Gs?this.updateStateMemento():t instanceof gi?this.commitTransition(r):t instanceof Qu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Xu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof pi&&(t.code===Bn.GuardRejected||t.code===Bn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ll?this.restoreHistory(r,!0):t instanceof nr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,l=G(G({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=G(G({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Zo(n)))(i||n)}})();static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rm(n,e){n.events.pipe(Pn(t=>t instanceof nr||t instanceof pi||t instanceof Ll||t instanceof gi),ve(t=>t instanceof nr||t instanceof gi?0:(t instanceof pi?t.code===Bn.Redirect||t.code===Bn.SupersededByNewNavigation:!1)?2:1),Pn(t=>t!==2),Mr(1)).subscribe(()=>{e()})}var JH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ve=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(DA);stateManager=F(wM);options=F(pa,{optional:!0})||{};pendingTasks=F(ea);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(nm);urlSerializer=F(fa);location=F($s);urlHandlingStrategy=F(tm);_events=new Mt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(yM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(ma,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(od,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new St;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof pi&&r.code!==Bn.Redirect&&r.code!==Bn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nr)this.navigated=!0;else if(r instanceof Vl){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=G({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||QH(i.source)},o);this.scheduleNavigation(a,Np,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}n3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Np,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=G({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(b0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=G(G({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=i?i.snapshot:this.routerState.snapshot.root;f=Z1(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return J1(f,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=qs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Np,null,r)}navigate(t,r={skipLocationChange:!1}){return t3(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=G({},JH):r===!1?i=G({},e3):i=r,qs(t))return P1(this.currentUrlTree,t,i);let s=this.parseUrl(t);return P1(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((f,g)=>{a=f,l=g});let d=this.pendingTasks.add();return rm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function t3(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ue(4008,!1)}function n3(n){return!(n instanceof Xu)&&!(n instanceof Vl)}var bn=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Mt;constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof nr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(qs(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Vx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:qs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(me(Ve),me($n),Xw("tabindex"),me(ur),me(yn),me(Br))};static \u0275dir=bt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ne("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&up("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Al],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Al],replaceUrl:[2,"replaceUrl","replaceUrl",Al],routerLink:"routerLink"},features:[Vr]})}return n})(),C0=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ze;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof nr&&this.update()})}ngAfterContentInit(){de(this.links.changes,de(null)).pipe(Ps()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Se(t).pipe(Ps()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=r3(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(me(Ve),me(yn),me(ur),me(fr),me(bn,8))};static \u0275dir=bt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&$A(s,bn,5),r&2){let o;ra(o=ia())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Vr]})}return n})();function r3(n){return!!n.paths}var ld=class{};var _M=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Pn(t=>t instanceof nr),Ns(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Ru(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Se(i).pipe(Ps())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=de(null);let s=i.pipe(kt(o=>o===null?de(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Se([s,o]).pipe(Ps())}else return s})}static \u0275fac=function(r){return new(r||n)(ye(Ve),ye(pn),ye(ld),ye(em))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bM=new le(""),i3=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof gi&&t.code===Ol.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fl&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fl(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){pA()};static \u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();function D0(n,...e){return Lr([{provide:ma,multi:!0,useValue:n},[],{provide:$n,useFactory:EM,deps:[Ve]},{provide:cp,multi:!0,useFactory:IM},e.map(t=>t.\u0275providers)])}function EM(n){return n.routerState.root}function cd(n,e){return{\u0275kind:n,\u0275providers:e}}function IM(){let n=F(vt);return e=>{let t=n.get(Yo);if(e!==t.components[0])return;let r=n.get(Ve),i=n.get(TM);n.get(x0)===1&&r.initialNavigation(),n.get(DM,null,Le.Optional)?.setUpPreloading(),n.get(bM,null,Le.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var TM=new le("",{factory:()=>new Mt}),x0=new le("",{providedIn:"root",factory:()=>1});function SM(){let n=[{provide:x0,useValue:0},C_(()=>{let e=F(vt);return e.get(O_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ve),s=e.get(TM);rm(i,()=>{r(!0)}),e.get(nm).afterPreactivation=()=>(r(!0),s.closed?de(void 0):s),i.initialNavigation()}))})];return cd(2,n)}function CM(){let n=[C_(()=>{F(Ve).setUpLocationChangeListener()}),{provide:x0,useValue:2}];return cd(3,n)}var DM=new le("");function xM(n){return cd(0,[{provide:DM,useExisting:_M},{provide:ld,useExisting:n}])}function AM(){return cd(8,[y0,{provide:od,useExisting:y0}])}function MM(n){ta("NgRouterViewTransitions");let e=[{provide:E0,useValue:vM},{provide:I0,useValue:G({skipNextTransition:!!n?.skipInitialTransition},n)}];return cd(9,e)}var RM=[$s,{provide:fa,useClass:Hs},Ve,ha,{provide:$n,useFactory:EM,deps:[Ve]},em,[]],Yt=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[RM,[],{provide:ma,multi:!0,useValue:t},[],r?.errorHandler?{provide:T0,useValue:r.errorHandler}:[],{provide:pa,useValue:r||{}},r?.useHash?o3():a3(),s3(),r?.preloadingStrategy?xM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?l3(r):[],r?.bindToComponentInputs?AM().\u0275providers:[],r?.enableViewTransitions?MM().\u0275providers:[],c3()]}}static forChild(t){return{ngModule:n,providers:[{provide:ma,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=di({type:n});static \u0275inj=ci({})}return n})();function s3(){return{provide:bM,useFactory:()=>{let n=F(I1),e=F(We),t=F(pa),r=F(nm),i=F(fa);return t.scrollOffset&&n.setOffset(t.scrollOffset),new i3(i,r,n,e,t)}}}function o3(){return{provide:Br,useClass:$_}}function a3(){return{provide:Br,useClass:pp}}function l3(n){return[n.initialNavigation==="disabled"?CM().\u0275providers:[],n.initialNavigation==="enabledBlocking"?SM().\u0275providers:[]]}var S0=new le("");function c3(){return[{provide:S0,useFactory:IM},{provide:cp,multi:!0,useExisting:S0}]}var kM=()=>{};var NM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},u3=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},im={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,g=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(g=64)),r.push(t[d],t[f],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(NM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):u3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let c=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new M0;let g=s<<2|a>>4;if(r.push(g),c!==64){let m=a<<4&240|c>>2;if(r.push(m),f!==64){let h=c<<6&192|f;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},M0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},d3=function(n){let e=NM(n);return im.encodeByteArray(e,!0)},ud=function(n){return d3(n).replace(/\./g,"")},sm=function(n){try{return im.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function k0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var f3=()=>k0().__FIREBASE_DEFAULTS__,h3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},p3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&sm(n[1]);return e&&JSON.parse(e)},om=()=>{try{return kM()||f3()||h3()||p3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},P0=n=>{var e,t;return(t=(e=om())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},am=n=>{let e=P0(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},N0=()=>{var n;return(n=om())===null||n===void 0?void 0:n.config},O0=n=>{var e;return(e=om())===null||e===void 0?void 0:e[`_${n}`]};var ga=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function lm(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ud(JSON.stringify(t)),ud(JSON.stringify(o)),""].join(".")}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function m3(){var n;let e=(n=om())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UM(){let n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jM(){return!m3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dd(){try{return typeof indexedDB=="object"}catch{return!1}}function BM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var g3="FirebaseError",An=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=g3,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hr.prototype.create)}},Hr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?v3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new An(i,a,r)}};function v3(n,e){return n.replace(y3,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var y3=/\{\$([^}]+)}/g;function $M(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function vi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(PM(s)&&PM(o)){if(!vi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function PM(n){return n!==null&&typeof n=="object"}function fd(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zl(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hl(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function zM(n,e){let t=new R0(n,e);return t.subscribe.bind(t)}var R0=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");w3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=A0),i.error===void 0&&(i.error=A0),i.complete===void 0&&(i.complete=A0);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function w3(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function A0(){}var kse=4*60*60*1e3;function rt(n){return n&&n._delegate?n._delegate:n}var ln=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var va="[DEFAULT]";var L0=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ga;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b3(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return P(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _3(n){return n===va?void 0:n}function b3(n){return n.instantiationMode==="EAGER"}var cm=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new L0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var E3=[],Ue=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ue||{}),I3={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},T3=Ue.INFO,S3={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},C3=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=S3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yi=class{constructor(e){this.name=e,this._logLevel=T3,this._logHandler=C3,this._userLogHandler=null,E3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};var D3=(n,e)=>e.some(t=>n instanceof t),HM,qM;function x3(){return HM||(HM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A3(){return qM||(qM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var GM=new WeakMap,V0=new WeakMap,WM=new WeakMap,F0=new WeakMap,j0=new WeakMap;function M3(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(wi(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&GM.set(t,n)}).catch(()=>{}),j0.set(e,n),e}function R3(n){if(V0.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});V0.set(n,e)}var U0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return V0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||WM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KM(n){U0=n(U0)}function k3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(um(this),e,...t);return WM.set(r,e.sort?e.sort():[e]),wi(r)}:A3().includes(n)?function(...e){return n.apply(um(this),e),wi(GM.get(this))}:function(...e){return wi(n.apply(um(this),e))}}function P3(n){return typeof n=="function"?k3(n):(n instanceof IDBTransaction&&R3(n),D3(n,x3())?new Proxy(n,U0):n)}function wi(n){if(n instanceof IDBRequest)return M3(n);if(F0.has(n))return F0.get(n);let e=P3(n);return e!==n&&(F0.set(n,e),j0.set(e,n)),e}var um=n=>j0.get(n);function QM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=wi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(wi(o.result),l.oldVersion,l.newVersion,wi(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var N3=["get","getKey","getAll","getAllKeys","count"],O3=["put","add","delete","clear"],B0=new Map;function YM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(B0.get(e))return B0.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=O3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||N3.includes(t)))return;let s=function(o,...a){return P(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),i&&l.done]))[0]})};return B0.set(e,s),s}KM(n=>ce(G({},n),{get:(e,t,r)=>YM(e,t)||n.get(e,t,r),has:(e,t)=>!!YM(e,t)||n.has(e,t)}));var z0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(L3(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function L3(n){let e=n.getComponent();return e?.type==="VERSION"}var H0="@firebase/app",XM="0.11.5";var is=new yi("@firebase/app"),F3="@firebase/app-compat",V3="@firebase/analytics-compat",U3="@firebase/analytics",j3="@firebase/app-check-compat",B3="@firebase/app-check",$3="@firebase/auth",z3="@firebase/auth-compat",H3="@firebase/database",q3="@firebase/data-connect",G3="@firebase/database-compat",W3="@firebase/functions",K3="@firebase/functions-compat",Y3="@firebase/installations",Q3="@firebase/installations-compat",X3="@firebase/messaging",Z3="@firebase/messaging-compat",J3="@firebase/performance",e4="@firebase/performance-compat",t4="@firebase/remote-config",n4="@firebase/remote-config-compat",r4="@firebase/storage",i4="@firebase/storage-compat",s4="@firebase/firestore",o4="@firebase/vertexai",a4="@firebase/firestore-compat",l4="firebase",c4="11.6.1";var q0="[DEFAULT]",u4={[H0]:"fire-core",[F3]:"fire-core-compat",[U3]:"fire-analytics",[V3]:"fire-analytics-compat",[B3]:"fire-app-check",[j3]:"fire-app-check-compat",[$3]:"fire-auth",[z3]:"fire-auth-compat",[H3]:"fire-rtdb",[q3]:"fire-data-connect",[G3]:"fire-rtdb-compat",[W3]:"fire-fn",[K3]:"fire-fn-compat",[Y3]:"fire-iid",[Q3]:"fire-iid-compat",[X3]:"fire-fcm",[Z3]:"fire-fcm-compat",[J3]:"fire-perf",[e4]:"fire-perf-compat",[t4]:"fire-rc",[n4]:"fire-rc-compat",[r4]:"fire-gcs",[i4]:"fire-gcs-compat",[s4]:"fire-fst",[a4]:"fire-fst-compat",[o4]:"fire-vertex","fire-js":"fire-js",[l4]:"fire-js-all"};var hd=new Map,d4=new Map,G0=new Map;function ZM(n,e){try{n.container.addComponent(e)}catch(t){is.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function rr(n){let e=n.name;if(G0.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;G0.set(e,n);for(let t of hd.values())ZM(t,n);for(let t of d4.values())ZM(t,n);return!0}function Ys(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function En(n){return n==null?!1:n.settings!==void 0}var f4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Hr("app","Firebase",f4);var W0=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}};var _i=c4;function Q0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:q0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ks.create("bad-app-name",{appName:String(i)});if(t||(t=N0()),!t)throw Ks.create("no-options");let s=hd.get(i);if(s){if(vi(t,s.options)&&vi(r,s.config))return s;throw Ks.create("duplicate-app",{appName:i})}let o=new cm(i);for(let l of G0.values())o.addComponent(l);let a=new W0(t,r,o);return hd.set(i,a),a}function ss(n=q0){let e=hd.get(n);if(!e&&n===q0&&N0())return Q0();if(!e)throw Ks.create("no-app",{appName:n});return e}function dm(){return Array.from(hd.values())}function ut(n,e,t){var r;let i=(r=u4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(a.join(" "));return}rr(new ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var h4="firebase-heartbeat-database",p4=1,pd="firebase-heartbeat-store",$0=null;function nR(){return $0||($0=QM(h4,p4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(pd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ks.create("idb-open",{originalErrorMessage:n.message})})),$0}function m4(n){return P(this,null,function*(){try{let t=(yield nR()).transaction(pd),r=yield t.objectStore(pd).get(rR(n));return yield t.done,r}catch(e){if(e instanceof An)is.warn(e.message);else{let t=Ks.create("idb-get",{originalErrorMessage:e?.message});is.warn(t.message)}}})}function JM(n,e){return P(this,null,function*(){try{let r=(yield nR()).transaction(pd,"readwrite");yield r.objectStore(pd).put(e,rR(n)),yield r.done}catch(t){if(t instanceof An)is.warn(t.message);else{let r=Ks.create("idb-set",{originalErrorMessage:t?.message});is.warn(r.message)}}})}function rR(n){return`${n.name}!${n.options.appId}`}var g4=1024,v4=30,K0=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Y0(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return P(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>v4){let o=w4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){is.warn(r)}})}getHeartbeatsHeader(){return P(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=eR(),{heartbeatsToSend:r,unsentEntries:i}=y4(this._heartbeatsCache.heartbeats),s=ud(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return is.warn(t),""}})}};function eR(){return new Date().toISOString().substring(0,10)}function y4(n,e=g4){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Y0=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(this,null,function*(){return dd()?BM().then(()=>!0).catch(()=>!1):!1})}read(){return P(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield m4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return JM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return JM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tR(n){return ud(JSON.stringify({version:2,heartbeats:n})).length}function w4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function _4(n){rr(new ln("platform-logger",e=>new z0(e),"PRIVATE")),rr(new ln("heartbeat",e=>new K0(e),"PRIVATE")),ut(H0,XM,n),ut(H0,XM,"esm2017"),ut("fire-js","")}_4("");var b4="firebase",E4="11.6.1";ut(b4,E4,"app");function X0(n){n===void 0&&(Zh(X0),n=F(vt));let e=n.get(tp);return t=>new ke(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:l=>{r.next(l),o()},complete:()=>{r.complete(),o()},error:l=>{r.error(l),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var bi=new Xo("ANGULARFIRE2_VERSION");function wa(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Qs=(n,e)=>{let t=e?[e]:dm(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ql=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(ql||{}),iR=k_()&&typeof Zone<"u"?ql.WARN:ql.SILENT;var fm=class{zone;delegate;constructor(e,t=uy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Ei=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=F(We);this.outsideAngular=t.runOutsideAngular(()=>new fm(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new fm(typeof Zone>"u"?void 0:Zone.current,cy))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sR=!1;function I4(n,e){!sR&&(iR>ql.SILENT||k_())&&(sR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),iR>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function T4(n){let e=F(We,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ya(n){let e=F(We,{optional:!0});return e?e.run(()=>n()):n()}var S4=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),vn(t,()=>ya(()=>n.apply(void 0,r)))),gt=(n,e,t)=>(t||=e?ql.WARN:ql.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=F(Ei),o=F(tp),a=F(pn)}catch{return I4(n,t),n.apply(this,i)}for(let c=0;c<arguments.length;c++)typeof i[c]=="function"&&(e&&(r||=ya(()=>o.add())),i[c]=S4(i[c],r,a));let l=T4(()=>n.apply(this,i));return e?l instanceof ke?l.pipe(ks(s.outsideAngular),Rs(s.insideAngular),X0(a)):l instanceof Promise?ya(()=>new Promise((c,d)=>{o.run(()=>l).then(f=>vn(a,()=>ya(()=>c(f))),f=>vn(a,()=>ya(()=>d(f))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:ya(()=>l):l instanceof ke?l.pipe(ks(s.outsideAngular),Rs(s.insideAngular)):ya(()=>l)});var qr=class{constructor(e){return e}},os=class{constructor(){return dm()}};function C4(n){return n&&n.length===1?n[0]:new qr(ss())}var Z0=new le("angularfire2._apps"),D4={provide:qr,useFactory:C4,deps:[[new Zt,Z0]]},x4={provide:os,deps:[[new Zt,Z0]]};function A4(n){return(e,t)=>{let r=t.get(cr);ut("angularfire",bi.full,"core"),ut("angularfire",bi.full,"app"),ut("angular",YA.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new qr(i)}}function oR(n,...e){return Lr([D4,x4,{provide:Z0,useFactory:A4(n),multi:!0,deps:[We,vt,Ei,...e]}])}var aR=gt(Q0,!0);var M4=new Map,R4={activated:!1,tokenObservers:[]},k4={initialized:!1,enabled:!1};function Gr(n){return M4.get(n)||Object.assign({},R4)}function dR(){return k4}var P4="https://content-firebaseappcheck.googleapis.com/v1";var N4="exchangeDebugToken",lR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Loe=24*60*60*1e3;var tb=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return P(this,null,function*(){this.stop();try{this.pending=new ga,this.pending.promise.catch(t=>{}),yield O4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ga,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function O4(n){return new Promise(e=>{setTimeout(e,n)})}var L4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Xs=new Hr("appCheck","AppCheck",L4);function fR(n){if(!Gr(n).activated)throw Xs.create("use-before-activation",{appName:n.name})}function hR(r,i){return P(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let m=yield o.getHeartbeatsHeader();m&&(s["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(n,a)}catch(m){throw Xs.create("fetch-network-error",{originalErrorMessage:m?.message})}if(l.status!==200)throw Xs.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(m){throw Xs.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Xs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:c.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function pR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${P4}/projects/${t}/apps/${r}:${N4}?key=${i}`,body:{debug_token:e}}}var F4="firebase-app-check-database",V4=1,nb="firebase-app-check-store";var hm=null;function U4(){return hm||(hm=new Promise((n,e)=>{try{let t=indexedDB.open(F4,V4);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Xs.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(nb,{keyPath:"compositeKey"})}}}catch(t){e(Xs.create("storage-open",{originalErrorMessage:t?.message}))}}),hm)}function j4(n,e){return B4($4(n),e)}function B4(n,e){return P(this,null,function*(){let r=(yield U4()).transaction(nb,"readwrite"),s=r.objectStore(nb).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Xs.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function $4(n){return`${n.options.appId}-${n.name}`}var md=new yi("@firebase/app-check");function J0(n,e){return dd()?j4(n,e).catch(t=>{md.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function mR(){return dR().enabled}function gR(){return P(this,null,function*(){let n=dR();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var z4={error:"UNKNOWN_ERROR"};function H4(n){return im.encodeString(JSON.stringify(n),!1)}function rb(n,e=!1,t=!1){return P(this,null,function*(){let r=n.app;fR(r);let i=Gr(r),s=i.token,o;if(s&&!gd(s)&&(i.token=void 0,s=void 0),!s){let c=yield i.cachedTokenPromise;c&&(gd(c)?s=c:yield J0(r,void 0))}if(!e&&s&&gd(s))return{token:s.token};let a=!1;if(mR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=hR(pR(r,yield gR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let c=yield i.exchangeTokenPromise;return yield J0(r,c),i.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?md.warn(c.message):t&&md.error(c),eb(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield Gr(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?md.warn(c.message):t&&md.error(c),o=c}let l;return s?o?gd(s)?l={token:s.token,internalError:o}:l=eb(o):(l={token:s.token},i.token=s,yield J0(r,s)):l=eb(o),a&&K4(r,l),l})}function q4(n){return P(this,null,function*(){let e=n.app;fR(e);let{provider:t}=Gr(e);if(mR()){let r=yield gR(),{token:i}=yield hR(pR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function G4(n,e,t,r){let{app:i}=n,s=Gr(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&gd(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),cR(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>cR(n))}function vR(n,e){let t=Gr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function cR(n){let{app:e}=n,t=Gr(e),r=t.tokenRefresher;r||(r=W4(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function W4(n){let{app:e}=n;return new tb(()=>P(this,null,function*(){let t=Gr(e),r;if(t.token?r=yield rb(n,!0):r=yield rb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Gr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},lR.RETRIAL_MIN_WAIT,lR.RETRIAL_MAX_WAIT)}function K4(n,e){let t=Gr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function gd(n){return n.expireTimeMillis-Date.now()>0}function eb(n){return{token:H4(z4),error:n}}var ib=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Gr(this.app);for(let t of e)vR(this.app,t.next);return Promise.resolve()}};function Y4(n,e){return new ib(n,e)}function Q4(n){return{getToken:e=>rb(n,e),getLimitedUseToken:()=>q4(n),addTokenListener:e=>G4(n,"INTERNAL",e),removeTokenListener:e=>vR(n.app,e)}}var X4="@firebase/app-check",Z4="0.8.13";var J4="app-check",uR="app-check-internal";function eq(){rr(new ln(J4,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Y4(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(uR).initialize()})),rr(new ln(uR,n=>{let e=n.getProvider("app-check").getImmediate();return Q4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ut(X4,Z4)}eq();var tq="app-check";var Zs=class{constructor(){return Qs(tq)}};var nq=["localhost","0.0.0.0","127.0.0.1"],Yoe=typeof window<"u"&&nq.includes(window.location.hostname);function PR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var NR=PR,OR=new Hr("auth","Firebase",PR());var wm=new yi("@firebase/auth");function rq(n,...e){wm.logLevel<=Ue.WARN&&wm.warn(`Auth (${_i}): ${n}`,...e)}function mm(n,...e){wm.logLevel<=Ue.ERROR&&wm.error(`Auth (${_i}): ${n}`,...e)}function Ti(n,...e){throw xb(n,...e)}function _a(n,...e){return xb(n,...e)}function LR(n,e,t){let r=Object.assign(Object.assign({},NR()),{[e]:t});return new Hr("auth","Firebase",r).create(e,{appName:n.name})}function cs(n){return LR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xb(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OR.create(n,...e)}function ge(n,e,...t){if(!n)throw xb(e,...t)}function as(n){let e="INTERNAL ASSERTION FAILED: "+n;throw mm(e),new Error(e)}function to(n,e){n||as(e)}function lb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function iq(){return yR()==="http:"||yR()==="https:"}function yR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function sq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iq()||FM()||"connection"in navigator)?navigator.onLine:!0}function oq(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ba=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,to(t>e,"Short delay should be less than long delay!"),this.isMobile=OM()||VM()}get(){return sq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ab(n,e){to(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var _m=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cq=new ba(3e4,6e4);function us(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Si(s,o,a,l){return P(this,arguments,function*(n,e,t,r,i={}){return FR(n,i,()=>P(this,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let f=fd(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},c);return LM()||(m.referrerPolicy="no-referrer"),_m.fetch()(yield VR(n,n.config.apiHost,t,f),m)}))})}function FR(n,e,t){return P(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},aq),e);try{let i=new cb(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw pm(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pm(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw pm(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw pm(n,"user-disabled",o);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw LR(n,d,c);Ti(n,d)}}catch(i){if(i instanceof An)throw i;Ti(n,"network-request-failed",{message:String(i)})}})}function Td(s,o,a,l){return P(this,arguments,function*(n,e,t,r,i={}){let c=yield Si(n,e,t,r,i);return"mfaPendingCredential"in c&&Ti(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function VR(n,e,t,r){return P(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?Ab(n.config,i):`${n.config.apiScheme}://${i}`;return lq.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function uq(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var cb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_a(this.auth,"network-request-failed")),cq.get())})}};function pm(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=_a(n,e,r);return i.customData._tokenResponse=t,i}function wR(n){return n!==void 0&&n.enterprise!==void 0}var ub=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uq(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function dq(n,e){return P(this,null,function*(){return Si(n,"GET","/v2/recaptchaConfig",us(n,e))})}function fq(n,e){return P(this,null,function*(){return Si(n,"POST","/v1/accounts:delete",e)})}function bm(n,e){return P(this,null,function*(){return Si(n,"POST","/v1/accounts:lookup",e)})}function yd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Mb(n,e=!1){return P(this,null,function*(){let t=rt(n),r=yield t.getIdToken(e),i=Rb(r);ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:yd(sb(i.auth_time)),issuedAtTime:yd(sb(i.iat)),expirationTime:yd(sb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function sb(n){return Number(n)*1e3}function Rb(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return mm("JWT malformed, contained fewer than 3 sections"),null;try{let i=sm(t);return i?JSON.parse(i):(mm("Failed to decode base64 JWT payload"),null)}catch(i){return mm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function _R(n){let e=Rb(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Gl(n,e,t=!1){return P(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof An&&hq(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function hq({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var db=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>P(this,null,function*(){yield this.iteration()}),t)}iteration(){return P(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var _d=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yd(this.lastLoginAt),this.creationTime=yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Em(n){return P(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Gl(n,bm(t,{idToken:r}));ge(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?UR(s.providerUserInfo):[],a=pq(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!a?.length,d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _d(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function kb(n){return P(this,null,function*(){let e=rt(n);yield Em(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function pq(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UR(n){return n.map(e=>{var{providerId:t}=e,r=dy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function mq(n,e){return P(this,null,function*(){let t=yield FR(n,{},()=>P(this,null,function*(){let r=fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield VR(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_m.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function gq(n,e){return P(this,null,function*(){return Si(n,"POST","/v2/accounts:revokeToken",us(n,e))})}var wd=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_R(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");let t=_R(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return P(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return P(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield mq(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return as("not implemented")}};function Js(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var eo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=dy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _d(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return P(this,null,function*(){let t=yield Gl(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Mb(this,e)}reload(){return kb(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return P(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Em(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return P(this,null,function*(){if(En(this.auth.app))return Promise.reject(cs(this.auth));let e=yield this.getIdToken();return yield Gl(this,fq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,h=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,w=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=t.createdAt)!==null&&c!==void 0?c:void 0,S=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:O,isAnonymous:U,providerData:j,stsTokenManager:M}=t;ge(E&&M,e,"internal-error");let b=wd.fromJSON(this.name,M);ge(typeof E=="string",e,"internal-error"),Js(f,e.name),Js(g,e.name),ge(typeof O=="boolean",e,"internal-error"),ge(typeof U=="boolean",e,"internal-error"),Js(m,e.name),Js(h,e.name),Js(v,e.name),Js(w,e.name),Js(x,e.name),Js(S,e.name);let _=new n({uid:E,auth:e,email:g,emailVerified:O,displayName:f,isAnonymous:U,photoURL:h,phoneNumber:m,tenantId:v,stsTokenManager:b,createdAt:x,lastLoginAt:S});return j&&Array.isArray(j)&&(_.providerData=j.map(C=>Object.assign({},C))),w&&(_._redirectEventId=w),_}static _fromIdTokenResponse(e,t,r=!1){return P(this,null,function*(){let i=new wd;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Em(s),s})}static _fromGetAccountInfoResponse(e,t,r){return P(this,null,function*(){let i=t.users[0];ge(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?UR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new wd;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _d(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var bR=new Map;function ls(n){to(n instanceof Function,"Expected a class definition");let e=bR.get(n);return e?(to(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bR.set(n,e),e)}var vq=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return P(this,null,function*(){return!0})}_set(t,r){return P(this,null,function*(){this.storage[t]=r})}_get(t){return P(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return P(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),fb=vq;function gm(n,e,t){return`firebase:${n}:${e}:${t}`}var Im=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=gm(this.userKey,i.apiKey,s),this.fullPersistenceKey=gm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return P(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield bm(this.auth,{idToken:e}).catch(()=>{});return t?eo._fromGetAccountInfoResponse(this.auth,t,e):null}return eo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return P(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return P(this,null,function*(){if(!t.length)return new n(ls(fb),e,r);let i=(yield Promise.all(t.map(c=>P(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||ls(fb),o=gm(r,e.config.apiKey,e.name),a=null;for(let c of t)try{let d=yield c._get(o);if(d){let f;if(typeof d=="string"){let g=yield bm(e,{idToken:d}).catch(()=>{});if(!g)break;f=yield eo._fromGetAccountInfoResponse(e,g,d)}else f=eo._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(c=>P(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new n(s,e,r))})}};function ER(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qR(e))return"Blackberry";if(GR(e))return"Webos";if(BR(e))return"Safari";if((e.includes("chrome/")||$R(e))&&!e.includes("edge/"))return"Chrome";if(HR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function jR(n=tn()){return/firefox\//i.test(n)}function BR(n=tn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $R(n=tn()){return/crios\//i.test(n)}function zR(n=tn()){return/iemobile/i.test(n)}function HR(n=tn()){return/android/i.test(n)}function qR(n=tn()){return/blackberry/i.test(n)}function GR(n=tn()){return/webos/i.test(n)}function Pb(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yq(n=tn()){var e;return Pb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wq(){return UM()&&document.documentMode===10}function WR(n=tn()){return Pb(n)||HR(n)||GR(n)||qR(n)||/windows phone/i.test(n)||zR(n)}function KR(n,e=[]){let t;switch(n){case"Browser":t=ER(tn());break;case"Worker":t=`${ER(tn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_i}/${r}`}var hb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return P(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function _q(t){return P(this,arguments,function*(n,e={}){return Si(n,"GET","/v2/passwordPolicy",us(n,e))})}var bq=6,pb=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:bq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var mb=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tm(this),this.idTokenSubscription=new Tm(this),this.beforeStateQueue=new hb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ls(t)),this._initializationPromise=this.queue(()=>P(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield Im.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return P(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return P(this,null,function*(){try{let t=yield bm(this,{idToken:e}),r=yield eo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return P(this,null,function*(){var t;if(En(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return P(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return P(this,null,function*(){try{yield Em(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=oq()}_delete(){return P(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return P(this,null,function*(){if(En(this.app))return Promise.reject(cs(this));let t=e?rt(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return P(this,null,function*(){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>P(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return P(this,null,function*(){return En(this.app)?Promise.reject(cs(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return En(this.app)?Promise.reject(cs(this)):this.queue(()=>P(this,null,function*(){yield this.assertedPersistence.setPersistence(ls(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return P(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return P(this,null,function*(){let e=yield _q(this),t=new pb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return P(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield gq(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return P(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return P(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ls(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=yield Im.create(this,[ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return P(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>P(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return P(this,null,function*(){if(e===this.currentUser)return this.queue(()=>P(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return P(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return P(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return P(this,null,function*(){var e;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&rq(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function no(n){return rt(n)}var Tm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=zM(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var km={loadJS(){return P(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Eq(n){km=n}function YR(n){return km.loadJS(n)}function Iq(){return km.recaptchaEnterpriseScript}function Tq(){return km.gapiScript}function QR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var gb=class{constructor(){this.enterprise=new vb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},vb=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var Sq="recaptcha-enterprise",XR="NO_RECAPTCHA",yb=class{constructor(e){this.type=Sq,this.auth=no(e)}verify(e="verify",t=!1){return P(this,null,function*(){function r(s){return P(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>P(this,null,function*(){dq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new ub(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function i(s,o,a){let l=window.grecaptcha;wR(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(XR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gb().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&wR(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Iq();l.length!==0&&(l+=a),YR(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function vd(n,e,t,r=!1,i=!1){return P(this,null,function*(){let s=new yb(n),o;if(i)o=XR;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Sm(n,e,t,r,i){return P(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield vd(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>P(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield vd(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield vd(n,e,t);return r(n,a).catch(l=>P(this,null,function*(){var c;if(((c=n._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield vd(n,e,t,!1,!0);return r(n,d)}return Promise.reject(l)}))}else{let a=yield vd(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function Nb(n,e){let t=Ys(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(vi(s,e??{}))return i;Ti(i,"already-initialized")}return t.initialize({options:e})}function Cq(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ls);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ob(n,e,t){let r=no(n);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=ZR(e),{host:o,port:a}=Dq(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(vi(c,r.config.emulator)&&vi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,i||xq()}function ZR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Dq(n){let e=ZR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:IR(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:IR(o)}}}function IR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function xq(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var bd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,t){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}};function Aq(n,e){return P(this,null,function*(){return Si(n,"POST","/v1/accounts:signUp",e)})}function Mq(n,e){return P(this,null,function*(){return Td(n,"POST","/v1/accounts:signInWithPassword",us(n,e))})}function Rq(n,e){return P(this,null,function*(){return Si(n,"POST","/v1/accounts:sendOobCode",us(n,e))})}function kq(n,e){return P(this,null,function*(){return Rq(n,e)})}function Pq(n,e){return P(this,null,function*(){return Td(n,"POST","/v1/accounts:signInWithEmailLink",us(n,e))})}function Nq(n,e){return P(this,null,function*(){return Td(n,"POST","/v1/accounts:signInWithEmailLink",us(n,e))})}var Ed=class n extends bd{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return P(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,t,"signInWithPassword",Mq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Pq(e,{email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}})}_linkToIdToken(e,t){return P(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,r,"signUpPassword",Aq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Nq(e,{idToken:t,email:this._email,oobCode:this._password});default:Ti(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ob(n,e){return P(this,null,function*(){return Td(n,"POST","/v1/accounts:signInWithIdp",us(n,e))})}function Oq(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lq(n){let e=zl(Hl(n)).link,t=e?zl(Hl(e)).deep_link_id:null,r=zl(Hl(n)).deep_link_id;return(r?zl(Hl(r)).link:null)||r||t||e||n}var Cm=class n{constructor(e){var t,r,i,s,o,a;let l=zl(Hl(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Oq((i=l.mode)!==null&&i!==void 0?i:null);ge(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Lq(e);try{return new n(t)}catch{return null}}};var JR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ed._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Cm.parseLink(r);return ge(i,"argument-error"),Ed._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Dm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wb=class extends Dm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Fq(n,e){return P(this,null,function*(){return Td(n,"POST","/v1/accounts:signUp",us(n,e))})}var Wl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return P(this,null,function*(){let s=yield eo._fromIdTokenResponse(e,r,i),o=TR(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return P(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=TR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function TR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var _b=class n extends An{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function ek(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_b._fromErrorAndOperation(n,s,e,r):s})}function Vq(n,e,t=!1){return P(this,null,function*(){let r=yield Gl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Wl._forOperation(n,"link",r)})}function Uq(n,e,t=!1){return P(this,null,function*(){let{auth:r}=n;if(En(r.app))return Promise.reject(cs(r));let i="reauthenticate";try{let s=yield Gl(n,ek(r,i,e,n),t);ge(s.idToken,r,"internal-error");let o=Rb(s.idToken);ge(o,r,"internal-error");let{sub:a}=o;return ge(n.uid===a,r,"user-mismatch"),Wl._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ti(r,"user-mismatch"),s}})}function tk(n,e,t=!1){return P(this,null,function*(){if(En(n.app))return Promise.reject(cs(n));let r="signIn",i=yield ek(n,r,e),s=yield Wl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Lb(n,e){return P(this,null,function*(){return tk(no(n),e)})}function jq(n,e,t){var r;ge(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ge(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ge(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ge(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ge(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function nk(n){return P(this,null,function*(){let e=no(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Fb(n,e,t){return P(this,null,function*(){let r=no(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&jq(r,i,t),yield Sm(r,i,"getOobCode",kq,"EMAIL_PASSWORD_PROVIDER")})}function Vb(n,e,t){return P(this,null,function*(){if(En(n.app))return Promise.reject(cs(n));let r=no(n),o=yield Sm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fq,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&nk(n),l}),a=yield Wl._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Ub(n,e,t){return En(n.app)?Promise.reject(cs(n)):Lb(rt(n),JR.credential(e,t)).catch(r=>P(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&nk(n),r}))}function Bq(n,e){return P(this,null,function*(){return Si(n,"POST","/v1/accounts:update",e)})}function jb(r,i){return P(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let s=rt(n),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=yield Gl(s,Bq(s.auth,a));s.displayName=l.displayName||null,s.photoURL=l.photoUrl||null;let c=s.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=s.displayName,c.photoURL=s.photoURL),yield s._updateTokensIfNecessary(l)})}function Bb(n,e,t,r){return rt(n).onIdTokenChanged(e,t,r)}function $b(n,e,t){return rt(n).beforeAuthStateChanged(e,t)}function zb(n,e,t,r){return rt(n).onAuthStateChanged(e,t,r)}function Hb(n){return rt(n).signOut()}var xm="__sak";var Am=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xm,"1"),this.storage.removeItem(xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var $q=1e3,zq=10,Hq=(()=>{class n extends Am{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);wq()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,zq):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},$q)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return P(this,null,function*(){yield xs(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return P(this,null,function*(){let r=yield xs(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return P(this,null,function*(){yield xs(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),rk=Hq;var qq=(()=>{class n extends Am{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),qb=qq;function Gq(n){return Promise.all(n.map(e=>P(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Wq=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return P(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(d=>P(this,null,function*(){return d(r.origin,o)})),c=yield Gq(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function ik(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var bb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return P(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=ik("",20);i.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Ii(){return window}function Kq(n){Ii().location.href=n}function sk(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}function Yq(){return P(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Qq(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Xq(){return sk()?self:null}var ok="firebaseLocalStorageDb",Zq=1,Mm="firebaseLocalStorage",ak="fbase_key",Ea=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Pm(n,e){return n.transaction([Mm],e?"readwrite":"readonly").objectStore(Mm)}function Jq(){let n=indexedDB.deleteDatabase(ok);return new Ea(n).toPromise()}function Eb(){let n=indexedDB.open(ok,Zq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Mm,{keyPath:ak})}catch(i){t(i)}}),n.addEventListener("success",()=>P(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Mm)?e(r):(r.close(),yield Jq(),e(yield Eb()))}))})}function SR(n,e,t){return P(this,null,function*(){let r=Pm(n,!0).put({[ak]:e,value:t});return new Ea(r).toPromise()})}function eG(n,e){return P(this,null,function*(){let t=Pm(n,!1).get(e),r=yield new Ea(t).toPromise();return r===void 0?null:r.value})}function CR(n,e){let t=Pm(n,!0).delete(e);return new Ea(t).toPromise()}var tG=800,nG=3,rG=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return P(this,null,function*(){return this.db?this.db:(this.db=yield Eb(),this.db)})}_withRetries(t){return P(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>nG)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return P(this,null,function*(){return sk()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return P(this,null,function*(){this.receiver=Wq._getInstance(Xq()),this.receiver._subscribe("keyChanged",(t,r)=>P(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>P(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return P(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Yq(),!this.activeServiceWorker)return;this.sender=new bb(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return P(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Qq()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return P(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Eb();return yield SR(t,xm,"1"),yield CR(t,xm),!0}catch{}return!1})}_withPendingWrite(t){return P(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return P(this,null,function*(){return this._withPendingWrite(()=>P(this,null,function*(){return yield this._withRetries(i=>SR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return P(this,null,function*(){let r=yield this._withRetries(i=>eG(i,t));return this.localCache[t]=r,r})}_remove(t){return P(this,null,function*(){return this._withPendingWrite(()=>P(this,null,function*(){return yield this._withRetries(r=>CR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return P(this,null,function*(){let t=yield this._withRetries(s=>{let o=Pm(s,!1).getAll();return new Ea(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>P(this,null,function*(){return this._poll()}),tG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),lk=rG;var rae=QR("rcb"),iae=new ba(3e4,6e4);function iG(n,e){return e?ls(e):(ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Id=class extends bd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ob(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ob(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ob(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function sG(n){return tk(n.auth,new Id(n),n.bypassAuthState)}function oG(n){let{auth:e,user:t}=n;return ge(t,e,"internal-error"),Uq(t,new Id(n),n.bypassAuthState)}function aG(n){return P(this,null,function*(){let{auth:e,user:t}=n;return ge(t,e,"internal-error"),Vq(t,new Id(n),n.bypassAuthState)})}var Ib=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>P(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return P(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sG;case"linkViaPopup":case"linkViaRedirect":return aG;case"reauthViaPopup":case"reauthViaRedirect":return oG;default:Ti(this.auth,"internal-error")}}resolve(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var sae=new ba(2e3,1e4);var lG="pendingRedirect",vm=new Map,Tb=class n extends Ib{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return P(this,null,function*(){let e=vm.get(this.auth._key());if(!e){try{let r=(yield cG(this.resolver,this.auth))?yield xs(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vm.set(this.auth._key(),e)}return this.bypassAuthState||vm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return P(this,null,function*(){if(e.type==="signInViaRedirect")return xs(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,xs(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return P(this,null,function*(){})}cleanUp(){}};function cG(n,e){return P(this,null,function*(){let t=fG(e),r=dG(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function uG(n,e){vm.set(n._key(),e)}function dG(n){return ls(n._redirectPersistence)}function fG(n){return gm(lG,n.config.apiKey,n.name)}function hG(n,e,t=!1){return P(this,null,function*(){if(En(n.app))return Promise.reject(cs(n));let r=no(n),i=iG(r,e),o=yield new Tb(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var pG=10*60*1e3,Sb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mG(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ck(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(_a(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pG&&this.cachedEventUids.clear(),this.cachedEventUids.has(DR(e))}saveEventToCache(e){this.cachedEventUids.add(DR(e)),this.lastProcessedEventTime=Date.now()}};function DR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ck({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function mG(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ck(n);default:return!1}}function gG(t){return P(this,arguments,function*(n,e={}){return Si(n,"GET","/v1/projects",e)})}var vG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yG=/^https?/;function wG(n){return P(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield gG(n);for(let t of e)try{if(_G(t))return}catch{}Ti(n,"unauthorized-domain")})}function _G(n){let e=lb(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!yG.test(t))return!1;if(vG.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var bG=new ba(3e4,6e4);function xR(){let n=Ii().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function EG(n){return new Promise((e,t)=>{var r,i,s;function o(){xR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xR(),t(_a(n,"network-request-failed"))},timeout:bG.get()})}if(!((i=(r=Ii().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ii().gapi)===null||s===void 0)&&s.load)o();else{let a=QR("iframefcb");return Ii()[a]=()=>{gapi.load?o():t(_a(n,"network-request-failed"))},YR(`${Tq()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ym=null,e})}var ym=null;function IG(n){return ym=ym||EG(n),ym}var TG=new ba(5e3,15e3),SG="__/auth/iframe",CG="emulator/auth/iframe",DG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AG(n){let e=n.config;ge(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ab(e,CG):`https://${n.config.authDomain}/${SG}`,r={apiKey:e.apiKey,appName:n.name,v:_i},i=xG.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${fd(r).slice(1)}`}function MG(n){return P(this,null,function*(){let e=yield IG(n),t=Ii().gapi;return ge(t,n,"internal-error"),e.open({where:document.body,url:AG(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DG,dontclear:!0},r=>new Promise((i,s)=>P(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=_a(n,"network-request-failed"),a=Ii().setTimeout(()=>{s(o)},TG.get());function l(){Ii().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var RG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kG=500,PG=600,NG="_blank",OG="http://localhost",Rm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function LG(n,e,t,r=kG,i=PG){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},RG),{width:r.toString(),height:i.toString(),top:s,left:o}),c=tn().toLowerCase();t&&(a=$R(c)?NG:t),jR(c)&&(e=e||OG,l.scrollbars="yes");let d=Object.entries(l).reduce((g,[m,h])=>`${g}${m}=${h},`,"");if(yq(c)&&a!=="_self")return FG(e||"",a),new Rm(null);let f=window.open(e||"",a,d);ge(f,n,"popup-blocked");try{f.focus()}catch{}return new Rm(f)}function FG(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var VG="__/auth/handler",UG="emulator/auth/handler",jG=encodeURIComponent("fac");function AR(n,e,t,r,i,s){return P(this,null,function*(){ge(n.config.authDomain,n,"auth-domain-config-required"),ge(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:_i,eventId:i};if(e instanceof Dm){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",$M(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof wb){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let l=yield n._getAppCheckToken(),c=l?`#${jG}=${encodeURIComponent(l)}`:"";return`${BG(n)}?${fd(a).slice(1)}${c}`})}function BG({config:n}){return n.emulator?Ab(n,UG):`https://${n.authDomain}/${VG}`}var ab="webStorageSupport",Cb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qb,this._completeRedirectFn=hG,this._overrideRedirectResult=uG}_openPopup(e,t,r,i){return P(this,null,function*(){var s;to((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield AR(e,t,r,lb(),i);return LG(e,o,ik())})}_openRedirect(e,t,r,i){return P(this,null,function*(){yield this._originValidation(e);let s=yield AR(e,t,r,lb(),i);return Kq(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(to(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return P(this,null,function*(){let t=yield MG(e),r=new Sb(e);return t.register("authEvent",i=>(ge(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ab,{type:ab},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ab];o!==void 0&&t(!!o),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wG(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WR()||BR()||Pb()}},uk=Cb;var MR="@firebase/auth",RR="1.10.1";var Db=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return P(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $G(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zG(n){rr(new ln("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KR(n)},c=new mb(r,i,s,l);return Cq(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),rr(new ln("auth-internal",e=>{let t=no(e.getProvider("auth").getImmediate());return(r=>new Db(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ut(MR,RR,$G(n)),ut(MR,RR,"esm2017")}var HG=5*60,qG=O0("authIdTokenMaxAge")||HG,kR=null,GG=n=>e=>P(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>qG)return;let i=t?.token;kR!==i&&(kR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Nm(n=ss()){let e=Ys(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Nb(n,{popupRedirectResolver:uk,persistence:[lk,rk,qb]}),r=O0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=GG(s.toString());$b(t,o,()=>o(t.currentUser)),Bb(t,a=>o(a))}}let i=P0("auth");return i&&Ob(t,`http://${i}`),t}function WG(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Eq({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=_a("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",WG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zG("Browser");var dk="auth",ds=class{constructor(e){return e}},Ia=class{constructor(){return Qs(dk)}};var Gb=new le("angularfire2.auth-instances");function P5(n,e){let t=wa(dk,n,e);return t&&new ds(t)}function N5(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ds(r)}}var O5={provide:Ia,deps:[[new Zt,Gb]]},L5={provide:ds,useFactory:P5,deps:[[new Zt,Gb],qr]};function fk(n,...e){return ut("angularfire",bi.full,"auth"),Lr([L5,O5,{provide:Gb,useFactory:N5(n),multi:!0,deps:[We,vt,Ei,os,[new Zt,Zs],...e]}])}var hk=gt(Vb,!0,2);var pk=gt(zb,!0);var mk=gt(Fb,!0,2);var gk=gt(Ub,!0,2);var vk=gt(Hb,!0,2);var yk=gt(jb,!0,2);var wk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_k={};var fs,Wb;(function(){var n;function e(M,b){function _(){}_.prototype=b.prototype,M.D=b.prototype,M.prototype=new _,M.prototype.constructor=M,M.C=function(C,R,k){for(var I=Array(arguments.length-2),H=2;H<arguments.length;H++)I[H-2]=arguments[H];return b.prototype[R].apply(C,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,b,_){_||(_=0);var C=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)C[R]=b.charCodeAt(_++)|b.charCodeAt(_++)<<8|b.charCodeAt(_++)<<16|b.charCodeAt(_++)<<24;else for(R=0;16>R;++R)C[R]=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24;b=M.g[0],_=M.g[1],R=M.g[2];var k=M.g[3],I=b+(k^_&(R^k))+C[0]+3614090360&4294967295;b=_+(I<<7&4294967295|I>>>25),I=k+(R^b&(_^R))+C[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=R+(_^k&(b^_))+C[2]+606105819&4294967295,R=k+(I<<17&4294967295|I>>>15),I=_+(b^R&(k^b))+C[3]+3250441966&4294967295,_=R+(I<<22&4294967295|I>>>10),I=b+(k^_&(R^k))+C[4]+4118548399&4294967295,b=_+(I<<7&4294967295|I>>>25),I=k+(R^b&(_^R))+C[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=R+(_^k&(b^_))+C[6]+2821735955&4294967295,R=k+(I<<17&4294967295|I>>>15),I=_+(b^R&(k^b))+C[7]+4249261313&4294967295,_=R+(I<<22&4294967295|I>>>10),I=b+(k^_&(R^k))+C[8]+1770035416&4294967295,b=_+(I<<7&4294967295|I>>>25),I=k+(R^b&(_^R))+C[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=R+(_^k&(b^_))+C[10]+4294925233&4294967295,R=k+(I<<17&4294967295|I>>>15),I=_+(b^R&(k^b))+C[11]+2304563134&4294967295,_=R+(I<<22&4294967295|I>>>10),I=b+(k^_&(R^k))+C[12]+1804603682&4294967295,b=_+(I<<7&4294967295|I>>>25),I=k+(R^b&(_^R))+C[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=R+(_^k&(b^_))+C[14]+2792965006&4294967295,R=k+(I<<17&4294967295|I>>>15),I=_+(b^R&(k^b))+C[15]+1236535329&4294967295,_=R+(I<<22&4294967295|I>>>10),I=b+(R^k&(_^R))+C[1]+4129170786&4294967295,b=_+(I<<5&4294967295|I>>>27),I=k+(_^R&(b^_))+C[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=R+(b^_&(k^b))+C[11]+643717713&4294967295,R=k+(I<<14&4294967295|I>>>18),I=_+(k^b&(R^k))+C[0]+3921069994&4294967295,_=R+(I<<20&4294967295|I>>>12),I=b+(R^k&(_^R))+C[5]+3593408605&4294967295,b=_+(I<<5&4294967295|I>>>27),I=k+(_^R&(b^_))+C[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=R+(b^_&(k^b))+C[15]+3634488961&4294967295,R=k+(I<<14&4294967295|I>>>18),I=_+(k^b&(R^k))+C[4]+3889429448&4294967295,_=R+(I<<20&4294967295|I>>>12),I=b+(R^k&(_^R))+C[9]+568446438&4294967295,b=_+(I<<5&4294967295|I>>>27),I=k+(_^R&(b^_))+C[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=R+(b^_&(k^b))+C[3]+4107603335&4294967295,R=k+(I<<14&4294967295|I>>>18),I=_+(k^b&(R^k))+C[8]+1163531501&4294967295,_=R+(I<<20&4294967295|I>>>12),I=b+(R^k&(_^R))+C[13]+2850285829&4294967295,b=_+(I<<5&4294967295|I>>>27),I=k+(_^R&(b^_))+C[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=R+(b^_&(k^b))+C[7]+1735328473&4294967295,R=k+(I<<14&4294967295|I>>>18),I=_+(k^b&(R^k))+C[12]+2368359562&4294967295,_=R+(I<<20&4294967295|I>>>12),I=b+(_^R^k)+C[5]+4294588738&4294967295,b=_+(I<<4&4294967295|I>>>28),I=k+(b^_^R)+C[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=R+(k^b^_)+C[11]+1839030562&4294967295,R=k+(I<<16&4294967295|I>>>16),I=_+(R^k^b)+C[14]+4259657740&4294967295,_=R+(I<<23&4294967295|I>>>9),I=b+(_^R^k)+C[1]+2763975236&4294967295,b=_+(I<<4&4294967295|I>>>28),I=k+(b^_^R)+C[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=R+(k^b^_)+C[7]+4139469664&4294967295,R=k+(I<<16&4294967295|I>>>16),I=_+(R^k^b)+C[10]+3200236656&4294967295,_=R+(I<<23&4294967295|I>>>9),I=b+(_^R^k)+C[13]+681279174&4294967295,b=_+(I<<4&4294967295|I>>>28),I=k+(b^_^R)+C[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=R+(k^b^_)+C[3]+3572445317&4294967295,R=k+(I<<16&4294967295|I>>>16),I=_+(R^k^b)+C[6]+76029189&4294967295,_=R+(I<<23&4294967295|I>>>9),I=b+(_^R^k)+C[9]+3654602809&4294967295,b=_+(I<<4&4294967295|I>>>28),I=k+(b^_^R)+C[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=R+(k^b^_)+C[15]+530742520&4294967295,R=k+(I<<16&4294967295|I>>>16),I=_+(R^k^b)+C[2]+3299628645&4294967295,_=R+(I<<23&4294967295|I>>>9),I=b+(R^(_|~k))+C[0]+4096336452&4294967295,b=_+(I<<6&4294967295|I>>>26),I=k+(_^(b|~R))+C[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=R+(b^(k|~_))+C[14]+2878612391&4294967295,R=k+(I<<15&4294967295|I>>>17),I=_+(k^(R|~b))+C[5]+4237533241&4294967295,_=R+(I<<21&4294967295|I>>>11),I=b+(R^(_|~k))+C[12]+1700485571&4294967295,b=_+(I<<6&4294967295|I>>>26),I=k+(_^(b|~R))+C[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=R+(b^(k|~_))+C[10]+4293915773&4294967295,R=k+(I<<15&4294967295|I>>>17),I=_+(k^(R|~b))+C[1]+2240044497&4294967295,_=R+(I<<21&4294967295|I>>>11),I=b+(R^(_|~k))+C[8]+1873313359&4294967295,b=_+(I<<6&4294967295|I>>>26),I=k+(_^(b|~R))+C[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=R+(b^(k|~_))+C[6]+2734768916&4294967295,R=k+(I<<15&4294967295|I>>>17),I=_+(k^(R|~b))+C[13]+1309151649&4294967295,_=R+(I<<21&4294967295|I>>>11),I=b+(R^(_|~k))+C[4]+4149444226&4294967295,b=_+(I<<6&4294967295|I>>>26),I=k+(_^(b|~R))+C[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=R+(b^(k|~_))+C[2]+718787259&4294967295,R=k+(I<<15&4294967295|I>>>17),I=_+(k^(R|~b))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+R&4294967295,M.g[3]=M.g[3]+k&4294967295}r.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var _=b-this.blockSize,C=this.B,R=this.h,k=0;k<b;){if(R==0)for(;k<=_;)i(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<b;)if(C[R++]=M.charCodeAt(k++),R==this.blockSize){i(this,C),R=0;break}}else for(;k<b;)if(C[R++]=M[k++],R==this.blockSize){i(this,C),R=0;break}}this.h=R,this.o+=b},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var _=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=_&255,_/=256;for(this.u(M),M=Array(16),b=_=0;4>b;++b)for(var C=0;32>C;C+=8)M[_++]=this.g[b]>>>C&255;return M};function s(M,b){var _=a;return Object.prototype.hasOwnProperty.call(_,M)?_[M]:_[M]=b(M)}function o(M,b){this.h=b;for(var _=[],C=!0,R=M.length-1;0<=R;R--){var k=M[R]|0;C&&k==b||(_[R]=k,C=!1)}this.g=_}var a={};function l(M){return-128<=M&&128>M?s(M,function(b){return new o([b|0],0>b?-1:0)}):new o([M|0],0>M?-1:0)}function c(M){if(isNaN(M)||!isFinite(M))return f;if(0>M)return w(c(-M));for(var b=[],_=1,C=0;M>=_;C++)b[C]=M/_|0,_*=4294967296;return new o(b,0)}function d(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return w(d(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(b,8)),C=f,R=0;R<M.length;R+=8){var k=Math.min(8,M.length-R),I=parseInt(M.substring(R,R+k),b);8>k?(k=c(Math.pow(b,k)),C=C.j(k).add(c(I))):(C=C.j(_),C=C.add(c(I)))}return C}var f=l(0),g=l(1),m=l(16777216);n=o.prototype,n.m=function(){if(v(this))return-w(this).m();for(var M=0,b=1,_=0;_<this.g.length;_++){var C=this.i(_);M+=(0<=C?C:4294967296+C)*b,b*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(h(this))return"0";if(v(this))return"-"+w(this).toString(M);for(var b=c(Math.pow(M,6)),_=this,C="";;){var R=O(_,b).g;_=x(_,R.j(b));var k=((0<_.g.length?_.g[0]:_.h)>>>0).toString(M);if(_=R,h(_))return k+C;for(;6>k.length;)k="0"+k;C=k+C}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function h(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function v(M){return M.h==-1}n.l=function(M){return M=x(this,M),v(M)?-1:h(M)?0:1};function w(M){for(var b=M.g.length,_=[],C=0;C<b;C++)_[C]=~M.g[C];return new o(_,~M.h).add(g)}n.abs=function(){return v(this)?w(this):this},n.add=function(M){for(var b=Math.max(this.g.length,M.g.length),_=[],C=0,R=0;R<=b;R++){var k=C+(this.i(R)&65535)+(M.i(R)&65535),I=(k>>>16)+(this.i(R)>>>16)+(M.i(R)>>>16);C=I>>>16,k&=65535,I&=65535,_[R]=I<<16|k}return new o(_,_[_.length-1]&-2147483648?-1:0)};function x(M,b){return M.add(w(b))}n.j=function(M){if(h(this)||h(M))return f;if(v(this))return v(M)?w(this).j(w(M)):w(w(this).j(M));if(v(M))return w(this.j(w(M)));if(0>this.l(m)&&0>M.l(m))return c(this.m()*M.m());for(var b=this.g.length+M.g.length,_=[],C=0;C<2*b;C++)_[C]=0;for(C=0;C<this.g.length;C++)for(var R=0;R<M.g.length;R++){var k=this.i(C)>>>16,I=this.i(C)&65535,H=M.i(R)>>>16,Y=M.i(R)&65535;_[2*C+2*R]+=I*Y,S(_,2*C+2*R),_[2*C+2*R+1]+=k*Y,S(_,2*C+2*R+1),_[2*C+2*R+1]+=I*H,S(_,2*C+2*R+1),_[2*C+2*R+2]+=k*H,S(_,2*C+2*R+2)}for(C=0;C<b;C++)_[C]=_[2*C+1]<<16|_[2*C];for(C=b;C<2*b;C++)_[C]=0;return new o(_,0)};function S(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function E(M,b){this.g=M,this.h=b}function O(M,b){if(h(b))throw Error("division by zero");if(h(M))return new E(f,f);if(v(M))return b=O(w(M),b),new E(w(b.g),w(b.h));if(v(b))return b=O(M,w(b)),new E(w(b.g),b.h);if(30<M.g.length){if(v(M)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var _=g,C=b;0>=C.l(M);)_=U(_),C=U(C);var R=j(_,1),k=j(C,1);for(C=j(C,2),_=j(_,2);!h(C);){var I=k.add(C);0>=I.l(M)&&(R=R.add(_),k=I),C=j(C,1),_=j(_,1)}return b=x(M,R.j(b)),new E(R,b)}for(R=f;0<=M.l(b);){for(_=Math.max(1,Math.floor(M.m()/b.m())),C=Math.ceil(Math.log(_)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),k=c(_),I=k.j(b);v(I)||0<I.l(M);)_-=C,k=c(_),I=k.j(b);h(k)&&(k=g),R=R.add(k),M=x(M,I)}return new E(R,M)}n.A=function(M){return O(this,M).h},n.and=function(M){for(var b=Math.max(this.g.length,M.g.length),_=[],C=0;C<b;C++)_[C]=this.i(C)&M.i(C);return new o(_,this.h&M.h)},n.or=function(M){for(var b=Math.max(this.g.length,M.g.length),_=[],C=0;C<b;C++)_[C]=this.i(C)|M.i(C);return new o(_,this.h|M.h)},n.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),_=[],C=0;C<b;C++)_[C]=this.i(C)^M.i(C);return new o(_,this.h^M.h)};function U(M){for(var b=M.g.length+1,_=[],C=0;C<b;C++)_[C]=M.i(C)<<1|M.i(C-1)>>>31;return new o(_,M.h)}function j(M,b){var _=b>>5;b%=32;for(var C=M.g.length-_,R=[],k=0;k<C;k++)R[k]=0<b?M.i(k+_)>>>b|M.i(k+_+1)<<32-b:M.i(k+_);return new o(R,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Wb=_k.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,fs=_k.Integer=o}).apply(typeof wk<"u"?wk:typeof self<"u"?self:typeof window<"u"?window:{});var Om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hs={};var Kb,F5,Kl,Yb,Sd,Lm,Qb,Xb,Zb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Om=="object"&&Om];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=t(this);function i(u,p){if(p)e:{var y=r;u=u.split(".");for(var D=0;D<u.length-1;D++){var V=u[D];if(!(V in y))break e;y=y[V]}u=u[u.length-1],D=y[u],p=p(D),p!=D&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var y=0,D=!1,V={next:function(){if(!D&&y<u.length){var z=y++;return{value:p(z,u[z]),done:!1}}return D=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,y){return y})}});var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,y){return u.call.apply(u.bind,arguments)}function f(u,p,y){if(!u)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,D),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function g(u,p,y){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function m(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var D=y.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function h(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(D,V,z){for(var re=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)re[lt-2]=arguments[lt];return p.prototype[V].apply(D,re)}}function v(u){let p=u.length;if(0<p){let y=Array(p);for(let D=0;D<p;D++)y[D]=u[D];return y}return[]}function w(u,p){for(let y=1;y<arguments.length;y++){let D=arguments[y];if(l(D)){let V=u.length||0,z=D.length||0;u.length=V+z;for(let re=0;re<z;re++)u[V+re]=D[re]}else u.push(D)}}class x{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function S(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function O(u){return O[" "](u),u}O[" "]=function(){};var U=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function j(u,p,y){for(let D in u)p.call(y,u[D],D,u)}function M(u,p){for(let y in u)p.call(void 0,u[y],y,u)}function b(u){let p={};for(let y in u)p[y]=u[y];return p}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let y,D;for(let V=1;V<arguments.length;V++){D=arguments[V];for(y in D)u[y]=D[y];for(let z=0;z<_.length;z++)y=_[z],Object.prototype.hasOwnProperty.call(D,y)&&(u[y]=D[y])}}function R(u){var p=1;u=u.split(":");let y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function k(u){a.setTimeout(()=>{throw u},0)}function I(){var u=te;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class H{constructor(){this.h=this.g=null}add(p,y){let D=Y.get();D.set(p,y),this.h?this.h.next=D:this.g=D,this.h=D}}var Y=new x(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let B,$=!1,te=new H,Ie=()=>{let u=a.Promise.resolve(void 0);B=()=>{u.then(pt)}};var pt=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(y){k(y)}var p=Y;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}$=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var wo=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return u}();function X(u,p){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(U){e:{try{O(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:K[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&X.aa.h.call(this)}}h(X,at);var K={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),je=0;function Qt(u,p,y,D,V){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!D,this.ha=V,this.key=++je,this.da=this.fa=!1}function Wn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Kn(u){this.src=u,this.g={},this.h=0}Kn.prototype.add=function(u,p,y,D,V){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var re=ar(u,p,D,V);return-1<re?(p=u[re],y||(p.fa=!1)):(p=new Qt(p,this.src,z,!!D,V),p.fa=y,u.push(p)),p};function Yn(u,p){var y=p.type;if(y in u.g){var D=u.g[y],V=Array.prototype.indexOf.call(D,p,void 0),z;(z=0<=V)&&Array.prototype.splice.call(D,V,1),z&&(Wn(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ar(u,p,y,D){for(var V=0;V<u.length;++V){var z=u[V];if(!z.da&&z.listener==p&&z.capture==!!y&&z.ha==D)return V}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),Cn={};function Es(u,p,y,D,V){if(D&&D.once)return Bi(u,p,y,D,V);if(Array.isArray(p)){for(var z=0;z<p.length;z++)Es(u,p[z],y,D,V);return null}return y=To(y),u&&u[ee]?u.K(p,y,c(D)?!!D.capture:!!D,V):_o(u,p,y,!1,D,V)}function _o(u,p,y,D,V,z){if(!p)throw Error("Invalid event type");var re=c(V)?!!V.capture:!!V,lt=Eo(u);if(lt||(u[Vt]=lt=new Kn(u)),y=lt.add(p,y,D,re,z),y.proxy)return y;if(D=Is(),y.proxy=D,D.src=u,D.listener=y,u.addEventListener)wo||(V=re),V===void 0&&(V=!1),u.addEventListener(p.toString(),D,V);else if(u.attachEvent)u.attachEvent(qa(p.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Is(){function u(y){return p.call(u.src,u.listener,y)}let p=Fc;return u}function Bi(u,p,y,D,V){if(Array.isArray(p)){for(var z=0;z<p.length;z++)Bi(u,p[z],y,D,V);return null}return y=To(y),u&&u[ee]?u.L(p,y,c(D)?!!D.capture:!!D,V):_o(u,p,y,!0,D,V)}function bo(u,p,y,D,V){if(Array.isArray(p))for(var z=0;z<p.length;z++)bo(u,p[z],y,D,V);else D=c(D)?!!D.capture:!!D,y=To(y),u&&u[ee]?(u=u.i,p=String(p).toString(),p in u.g&&(z=u.g[p],y=ar(z,y,D,V),-1<y&&(Wn(z[y]),Array.prototype.splice.call(z,y,1),z.length==0&&(delete u.g[p],u.h--)))):u&&(u=Eo(u))&&(p=u.g[p.toString()],u=-1,p&&(u=ar(p,y,D,V)),(y=-1<u?p[u]:null)&&Ts(y))}function Ts(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ee])Yn(p.i,u);else{var y=u.type,D=u.proxy;p.removeEventListener?p.removeEventListener(y,D,u.capture):p.detachEvent?p.detachEvent(qa(y),D):p.addListener&&p.removeListener&&p.removeListener(D),(y=Eo(p))?(Yn(y,u),y.h==0&&(y.src=null,p[Vt]=null)):Wn(u)}}}function qa(u){return u in Cn?Cn[u]:Cn[u]="on"+u}function Fc(u,p){if(u.da)u=!0;else{p=new X(p,this);var y=u.listener,D=u.ha||u.src;u.fa&&Ts(u),u=y.call(D,p)}return u}function Eo(u){return u=u[Vt],u instanceof Kn?u:null}var Io="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(u){return typeof u=="function"?u:(u[Io]||(u[Io]=function(p){return u.handleEvent(p)}),u[Io])}function _t(){ot.call(this),this.i=new Kn(this),this.M=this,this.F=null}h(_t,ot),_t.prototype[ee]=!0,_t.prototype.removeEventListener=function(u,p,y,D){bo(this,u,p,y,D)};function Xt(u,p){var y,D=u.F;if(D)for(y=[];D;D=D.F)y.push(D);if(u=u.M,D=p.type||p,typeof p=="string")p=new at(p,u);else if(p instanceof at)p.target=p.target||u;else{var V=p;p=new at(D,u),C(p,V)}if(V=!0,y)for(var z=y.length-1;0<=z;z--){var re=p.g=y[z];V=ni(re,D,!0,p)&&V}if(re=p.g=u,V=ni(re,D,!0,p)&&V,V=ni(re,D,!1,p)&&V,y)for(z=0;z<y.length;z++)re=p.g=y[z],V=ni(re,D,!1,p)&&V}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],D=0;D<y.length;D++)Wn(y[D]);delete u.g[p],u.h--}}this.F=null},_t.prototype.K=function(u,p,y,D){return this.i.add(String(u),p,!1,y,D)},_t.prototype.L=function(u,p,y,D){return this.i.add(String(u),p,!0,y,D)};function ni(u,p,y,D){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,z=0;z<p.length;++z){var re=p[z];if(re&&!re.da&&re.capture==y){var lt=re.listener,on=re.ha||re.src;re.fa&&Yn(u.i,re),V=lt.call(on,D)!==!1&&V}}return V&&!D.defaultPrevented}function nS(u,p,y){if(typeof u=="function")y&&(u=g(u,y));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function rS(u){u.g=nS(()=>{u.g=null,u.i&&(u.i=!1,rS(u))},u.l);let p=u.h;u.h=null,u.m.apply(null,p)}class tF extends ot{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:rS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vc(u){ot.call(this),this.h=u,this.g={}}h(Vc,ot);var iS=[];function sS(u){j(u.g,function(p,y){this.g.hasOwnProperty(y)&&Ts(p)},u),u.g={}}Vc.prototype.N=function(){Vc.aa.N.call(this),sS(this)},Vc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Iv=a.JSON.stringify,nF=a.JSON.parse,rF=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Tv(){}Tv.prototype.h=null;function oS(u){return u.h||(u.h=u.i())}function aS(){}var Uc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sv(){at.call(this,"d")}h(Sv,at);function Cv(){at.call(this,"c")}h(Cv,at);var So={},lS=null;function wf(){return lS=lS||new _t}So.La="serverreachability";function cS(u){at.call(this,So.La,u)}h(cS,at);function jc(u){let p=wf();Xt(p,new cS(p))}So.STAT_EVENT="statevent";function uS(u,p){at.call(this,So.STAT_EVENT,u),this.stat=p}h(uS,at);function Dn(u){let p=wf();Xt(p,new uS(p,u))}So.Ma="timingevent";function dS(u,p){at.call(this,So.Ma,u),this.size=p}h(dS,at);function Bc(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function $c(){this.g=!0}$c.prototype.xa=function(){this.g=!1};function iF(u,p,y,D,V,z){u.info(function(){if(u.g)if(z)for(var re="",lt=z.split("&"),on=0;on<lt.length;on++){var Ge=lt[on].split("=");if(1<Ge.length){var dn=Ge[0];Ge=Ge[1];var fn=dn.split("_");re=2<=fn.length&&fn[1]=="type"?re+(dn+"="+Ge+"&"):re+(dn+"=redacted&")}}else re=null;else re=z;return"XMLHTTP REQ ("+D+") [attempt "+V+"]: "+p+`
`+y+`
`+re})}function sF(u,p,y,D,V,z,re){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+V+"]: "+p+`
`+y+`
`+z+" "+re})}function Ga(u,p,y,D){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+aF(u,y)+(D?" "+D:"")})}function oF(u,p){u.info(function(){return"TIMEOUT: "+p})}$c.prototype.info=function(){};function aF(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var D=y[u];if(!(2>D.length)){var V=D[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var re=1;re<V.length;re++)V[re]=""}}}}return Iv(y)}catch{return p}}var _f={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dv;function bf(){}h(bf,Tv),bf.prototype.g=function(){return new XMLHttpRequest},bf.prototype.i=function(){return{}},Dv=new bf;function Ss(u,p,y,D){this.j=u,this.i=p,this.l=y,this.R=D||1,this.U=new Vc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hS}function hS(){this.i=null,this.g="",this.h=!1}var pS={},xv={};function Av(u,p,y){u.L=1,u.v=Sf($i(p)),u.m=y,u.P=!0,mS(u,null)}function mS(u,p){u.F=Date.now(),Ef(u),u.A=$i(u.v);var y=u.A,D=u.R;Array.isArray(D)||(D=[String(D)]),AS(y.i,"t",D),u.C=0,y=u.j.J,u.h=new hS,u.g=WS(u.j,y?p:null,!u.m),0<u.O&&(u.M=new tF(g(u.Y,u,u.g),u.O)),p=u.U,y=u.g,D=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(iS[0]=V.toString()),V=iS);for(var z=0;z<V.length;z++){var re=Es(y,V[z],D||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),jc(),iF(u.i,u.u,u.A,u.l,u.R,u.m)}Ss.prototype.ca=function(u){u=u.target;let p=this.M;p&&zi(u)==3?p.j():this.Y(u)},Ss.prototype.Y=function(u){try{if(u==this.g)e:{let fn=zi(this.g);var p=this.g.Ba();let Ya=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||LS(this.g)))){this.J||fn!=4||p==7||(p==8||0>=Ya?jc(3):jc(2)),Mv(this);var y=this.g.Z();this.X=y;t:if(gS(this)){var D=LS(this.g);u="";var V=D.length,z=zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Co(this),zc(this);var re="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(D[p],{stream:!(z&&p==V-1)});D.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,sF(this.i,this.u,this.A,this.l,this.R,fn,y),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,on=this.g;if((lt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(lt)){var Ge=lt;break t}}Ge=null}if(y=Ge)Ga(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rv(this,y);else{this.o=!1,this.s=3,Dn(12),Co(this),zc(this);break e}}if(this.P){y=!0;let Sr;for(;!this.J&&this.C<re.length;)if(Sr=lF(this,re),Sr==xv){fn==4&&(this.s=4,Dn(14),y=!1),Ga(this.i,this.l,null,"[Incomplete Response]");break}else if(Sr==pS){this.s=4,Dn(15),Ga(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else Ga(this.i,this.l,Sr,null),Rv(this,Sr);if(gS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||re.length!=0||this.h.h||(this.s=1,Dn(16),y=!1),this.o=this.o&&y,!y)Ga(this.i,this.l,re,"[Invalid Chunked Response]"),Co(this),zc(this);else if(0<re.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Fv(dn),dn.M=!0,Dn(11))}}else Ga(this.i,this.l,re,null),Rv(this,re);fn==4&&Co(this),this.o&&!this.J&&(fn==4?zS(this.j,this):(this.o=!1,Ef(this)))}else SF(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,Dn(12)):(this.s=0,Dn(13)),Co(this),zc(this)}}}catch{}finally{}};function gS(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function lF(u,p){var y=u.C,D=p.indexOf(`
`,y);return D==-1?xv:(y=Number(p.substring(y,D)),isNaN(y)?pS:(D+=1,D+y>p.length?xv:(p=p.slice(D,D+y),u.C=D+y,p)))}Ss.prototype.cancel=function(){this.J=!0,Co(this)};function Ef(u){u.S=Date.now()+u.I,vS(u,u.I)}function vS(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Bc(g(u.ba,u),p)}function Mv(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ss.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(oF(this.i,this.A),this.L!=2&&(jc(),Dn(17)),Co(this),this.s=2,zc(this)):vS(this,this.S-u)};function zc(u){u.j.G==0||u.J||zS(u.j,u)}function Co(u){Mv(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,sS(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Rv(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||kv(y.h,u))){if(!u.K&&kv(y.h,u)&&y.G==3){try{var D=y.Da.g.parse(p)}catch{D=null}if(Array.isArray(D)&&D.length==3){var V=D;if(V[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Mf(y),xf(y);else break e;Lv(y),Dn(18)}}else y.za=V[1],0<y.za-y.T&&37500>V[2]&&y.F&&y.v==0&&!y.C&&(y.C=Bc(g(y.Za,y),6e3));if(1>=_S(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else xo(y,11)}else if((u.K||y.g==u)&&Mf(y),!S(p))for(V=y.Da.g.parse(p),p=0;p<V.length;p++){let Ge=V[p];if(y.T=Ge[0],Ge=Ge[1],y.G==2)if(Ge[0]=="c"){y.K=Ge[1],y.ia=Ge[2];let dn=Ge[3];dn!=null&&(y.la=dn,y.j.info("VER="+y.la));let fn=Ge[4];fn!=null&&(y.Aa=fn,y.j.info("SVER="+y.Aa));let Ya=Ge[5];Ya!=null&&typeof Ya=="number"&&0<Ya&&(D=1.5*Ya,y.L=D,y.j.info("backChannelRequestTimeoutMs_="+D)),D=y;let Sr=u.g;if(Sr){let kf=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kf){var z=D.h;z.g||kf.indexOf("spdy")==-1&&kf.indexOf("quic")==-1&&kf.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Pv(z,z.h),z.h=null))}if(D.D){let Vv=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Vv&&(D.ya=Vv,mt(D.I,D.D,Vv))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),D=y;var re=u;if(D.qa=GS(D,D.J?D.ia:null,D.W),re.K){bS(D.h,re);var lt=re,on=D.L;on&&(lt.I=on),lt.B&&(Mv(lt),Ef(lt)),D.g=re}else BS(D);0<y.i.length&&Af(y)}else Ge[0]!="stop"&&Ge[0]!="close"||xo(y,7);else y.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?xo(y,7):Ov(y):Ge[0]!="noop"&&y.l&&y.l.ta(Ge),y.v=0)}}jc(4)}catch{}}var cF=class{constructor(u,p){this.g=u,this.map=p}};function yS(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wS(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _S(u){return u.h?1:u.g?u.g.size:0}function kv(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Pv(u,p){u.g?u.g.add(p):u.h=p}function bS(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}yS.prototype.cancel=function(){if(this.i=ES(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function ES(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(let y of u.g.values())p=p.concat(y.D);return p}return v(u.i)}function uF(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],y=u.length,D=0;D<y;D++)p.push(u[D]);return p}p=[],y=0;for(D in u)p[y++]=u[D];return p}function dF(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(let D in u)p[y++]=D;return p}}}function IS(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=dF(u),D=uF(u),V=D.length,z=0;z<V;z++)p.call(void 0,D[z],y&&y[z],u)}var TS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fF(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var D=u[y].indexOf("="),V=null;if(0<=D){var z=u[y].substring(0,D);V=u[y].substring(D+1)}else z=u[y];p(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Do(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Do){this.h=u.h,If(this,u.j),this.o=u.o,this.g=u.g,Tf(this,u.s),this.l=u.l;var p=u.i,y=new Gc;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),SS(this,y),this.m=u.m}else u&&(p=String(u).match(TS))?(this.h=!1,If(this,p[1]||"",!0),this.o=Hc(p[2]||""),this.g=Hc(p[3]||"",!0),Tf(this,p[4]),this.l=Hc(p[5]||"",!0),SS(this,p[6]||"",!0),this.m=Hc(p[7]||"")):(this.h=!1,this.i=new Gc(null,this.h))}Do.prototype.toString=function(){var u=[],p=this.j;p&&u.push(qc(p,CS,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(qc(p,CS,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(qc(y,y.charAt(0)=="/"?mF:pF,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",qc(y,vF)),u.join("")};function $i(u){return new Do(u)}function If(u,p,y){u.j=y?Hc(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Tf(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function SS(u,p,y){p instanceof Gc?(u.i=p,yF(u.i,u.h)):(y||(p=qc(p,gF)),u.i=new Gc(p,u.h))}function mt(u,p,y){u.i.set(p,y)}function Sf(u){return mt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Hc(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qc(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,hF),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hF(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var CS=/[#\/\?@]/g,pF=/[#\?:]/g,mF=/[#\?]/g,gF=/[#\?@]/g,vF=/#/g;function Gc(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Cs(u){u.g||(u.g=new Map,u.h=0,u.i&&fF(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}n=Gc.prototype,n.add=function(u,p){Cs(this),this.i=null,u=Wa(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function DS(u,p){Cs(u),p=Wa(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function xS(u,p){return Cs(u),p=Wa(u,p),u.g.has(p)}n.forEach=function(u,p){Cs(this),this.g.forEach(function(y,D){y.forEach(function(V){u.call(p,V,D,this)},this)},this)},n.na=function(){Cs(this);let u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let D=0;D<p.length;D++){let V=u[D];for(let z=0;z<V.length;z++)y.push(p[D])}return y},n.V=function(u){Cs(this);let p=[];if(typeof u=="string")xS(this,u)&&(p=p.concat(this.g.get(Wa(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},n.set=function(u,p){return Cs(this),this.i=null,u=Wa(this,u),xS(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},n.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function AS(u,p,y){DS(u,p),0<y.length&&(u.i=null,u.g.set(Wa(u,p),v(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var D=p[y];let z=encodeURIComponent(String(D)),re=this.V(D);for(D=0;D<re.length;D++){var V=z;re[D]!==""&&(V+="="+encodeURIComponent(String(re[D]))),u.push(V)}}return this.i=u.join("&")};function Wa(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function yF(u,p){p&&!u.j&&(Cs(u),u.i=null,u.g.forEach(function(y,D){var V=D.toLowerCase();D!=V&&(DS(this,D),AS(this,V,y))},u)),u.j=p}function wF(u,p){let y=new $c;if(a.Image){let D=new Image;D.onload=m(Ds,y,"TestLoadImage: loaded",!0,p,D),D.onerror=m(Ds,y,"TestLoadImage: error",!1,p,D),D.onabort=m(Ds,y,"TestLoadImage: abort",!1,p,D),D.ontimeout=m(Ds,y,"TestLoadImage: timeout",!1,p,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else p(!1)}function _F(u,p){let y=new $c,D=new AbortController,V=setTimeout(()=>{D.abort(),Ds(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:D.signal}).then(z=>{clearTimeout(V),z.ok?Ds(y,"TestPingServer: ok",!0,p):Ds(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),Ds(y,"TestPingServer: error",!1,p)})}function Ds(u,p,y,D,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),D(y)}catch{}}function bF(){this.g=new rF}function EF(u,p,y){let D=y||"";try{IS(u,function(V,z){let re=V;c(V)&&(re=Iv(V)),p.push(D+z+"="+encodeURIComponent(re))})}catch(V){throw p.push(D+"type="+encodeURIComponent("_badmap")),V}}function Wc(u){this.l=u.Ub||null,this.j=u.eb||!1}h(Wc,Tv),Wc.prototype.g=function(){return new Cf(this.l,this.j)},Wc.prototype.i=function(u){return function(){return u}}({});function Cf(u,p){_t.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}h(Cf,_t),n=Cf.prototype,n.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Yc(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kc(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yc(this)),this.g&&(this.readyState=3,Yc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;MS(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function MS(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Kc(this):Yc(this),this.readyState==3&&MS(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Kc(this))},n.Qa=function(u){this.g&&(this.response=u,Kc(this))},n.ga=function(){this.g&&Kc(this)};function Kc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yc(u)}n.setRequestHeader=function(u,p){this.u.append(u,p)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Yc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function RS(u){let p="";return j(u,function(y,D){p+=D,p+=":",p+=y,p+=`\r
`}),p}function Nv(u,p,y){e:{for(D in y){var D=!1;break e}D=!0}D||(y=RS(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):mt(u,p,y))}function Tt(u){_t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}h(Tt,_t);var IF=/^https?$/i,TF=["POST","PUT"];n=Tt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,p,y,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dv.g(),this.v=this.o?oS(this.o):oS(Dv),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(z){kS(this,z);return}if(u=y||"",y=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var V in D)y.set(V,D[V]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(let z of D.keys())y.set(z,D.get(z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TF,p,void 0))||D||V||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[z,re]of y)this.g.setRequestHeader(z,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{OS(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){kS(this,z)}};function kS(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,PS(u),Df(u)}function PS(u){u.A||(u.A=!0,Xt(u,"complete"),Xt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Xt(this,"complete"),Xt(this,"abort"),Df(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Df(this,!0)),Tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?NS(this):this.bb())},n.bb=function(){NS(this)};function NS(u){if(u.h&&typeof o<"u"&&(!u.v[1]||zi(u)!=4||u.Z()!=2)){if(u.u&&zi(u)==4)nS(u.Ea,0,u);else if(Xt(u,"readystatechange"),zi(u)==4){u.h=!1;try{let re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var D;if(D=re===0){var V=String(u.D).match(TS)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),D=!IF.test(V?V.toLowerCase():"")}y=D}if(y)Xt(u,"complete"),Xt(u,"success");else{u.m=6;try{var z=2<zi(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",PS(u)}}finally{Df(u)}}}}function Df(u,p){if(u.g){OS(u);let y=u.g,D=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Xt(u,"ready");try{y.onreadystatechange=D}catch{}}}function OS(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function zi(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),nF(p)}};function LS(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function SF(u){let p={};u=(u.g&&2<=zi(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(S(u[D]))continue;var y=R(u[D]);let V=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();let z=p[V]||[];p[V]=z,z.push(y)}M(p,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qc(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function FS(u){this.Aa=0,this.i=[],this.j=new $c,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qc("baseRetryDelayMs",5e3,u),this.cb=Qc("retryDelaySeedMs",1e4,u),this.Wa=Qc("forwardChannelMaxRetries",2,u),this.wa=Qc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new yS(u&&u.concurrentRequestLimit),this.Da=new bF,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=FS.prototype,n.la=8,n.G=1,n.connect=function(u,p,y,D){Dn(0),this.W=u,this.H=p||{},y&&D!==void 0&&(this.H.OSID=y,this.H.OAID=D),this.F=this.X,this.I=GS(this,null,this.W),Af(this)};function Ov(u){if(VS(u),u.G==3){var p=u.U++,y=$i(u.I);if(mt(y,"SID",u.K),mt(y,"RID",p),mt(y,"TYPE","terminate"),Xc(u,y),p=new Ss(u,u.j,p),p.L=2,p.v=Sf($i(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=WS(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ef(p)}qS(u)}function xf(u){u.g&&(Fv(u),u.g.cancel(),u.g=null)}function VS(u){xf(u),u.u&&(a.clearTimeout(u.u),u.u=null),Mf(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Af(u){if(!wS(u.h)&&!u.s){u.s=!0;var p=u.Ga;B||Ie(),$||(B(),$=!0),te.add(p,u),u.B=0}}function CF(u,p){return _S(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Bc(g(u.Ga,u,p),HS(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let V=new Ss(this,this.j,u),z=this.o;if(this.S&&(z?(z=b(z),C(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var D=this.i[y];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(p+=D,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=jS(this,V,p),y=$i(this.I),mt(y,"RID",u),mt(y,"CVER",22),this.D&&mt(y,"X-HTTP-Session-Id",this.D),Xc(this,y),z&&(this.O?p="headers="+encodeURIComponent(String(RS(z)))+"&"+p:this.m&&Nv(y,this.m,z)),Pv(this.h,V),this.Ua&&mt(y,"TYPE","init"),this.P?(mt(y,"$req",p),mt(y,"SID","null"),V.T=!0,Av(V,y,null)):Av(V,y,p),this.G=2}}else this.G==3&&(u?US(this,u):this.i.length==0||wS(this.h)||US(this))};function US(u,p){var y;p?y=p.l:y=u.U++;let D=$i(u.I);mt(D,"SID",u.K),mt(D,"RID",y),mt(D,"AID",u.T),Xc(u,D),u.m&&u.o&&Nv(D,u.m,u.o),y=new Ss(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=jS(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Pv(u.h,y),Av(y,D,p)}function Xc(u,p){u.H&&j(u.H,function(y,D){mt(p,D,y)}),u.l&&IS({},function(y,D){mt(p,D,y)})}function jS(u,p,y){y=Math.min(u.i.length,y);var D=u.l?g(u.l.Na,u.l,u):null;e:{var V=u.i;let z=-1;for(;;){let re=["count="+y];z==-1?0<y?(z=V[0].g,re.push("ofs="+z)):z=0:re.push("ofs="+z);let lt=!0;for(let on=0;on<y;on++){let Ge=V[on].g,dn=V[on].map;if(Ge-=z,0>Ge)z=Math.max(0,V[on].g-100),lt=!1;else try{EF(dn,re,"req"+Ge+"_")}catch{D&&D(dn)}}if(lt){D=re.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,D}function BS(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;B||Ie(),$||(B(),$=!0),te.add(p,u),u.v=0}}function Lv(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Bc(g(u.Fa,u),HS(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,$S(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Bc(g(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dn(10),xf(this),$S(this))};function Fv(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function $S(u){u.g=new Ss(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=$i(u.qa);mt(p,"RID","rpc"),mt(p,"SID",u.K),mt(p,"AID",u.T),mt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&mt(p,"TO",u.ja),mt(p,"TYPE","xmlhttp"),Xc(u,p),u.m&&u.o&&Nv(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Sf($i(p)),y.m=null,y.P=!0,mS(y,u)}n.Za=function(){this.C!=null&&(this.C=null,xf(this),Lv(this),Dn(19))};function Mf(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function zS(u,p){var y=null;if(u.g==p){Mf(u),Fv(u),u.g=null;var D=2}else if(kv(u.h,p))y=p.D,bS(u.h,p),D=1;else return;if(u.G!=0){if(p.o)if(D==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;D=wf(),Xt(D,new dS(D,y)),Af(u)}else BS(u);else if(V=p.s,V==3||V==0&&0<p.X||!(D==1&&CF(u,p)||D==2&&Lv(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),V){case 1:xo(u,5);break;case 4:xo(u,10);break;case 3:xo(u,6);break;default:xo(u,2)}}}function HS(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function xo(u,p){if(u.j.info("Error code "+p),p==2){var y=g(u.fb,u),D=u.Xa;let V=!D;D=new Do(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||If(D,"https"),Sf(D),V?wF(D.toString(),y):_F(D.toString(),y)}else Dn(2);u.G=0,u.l&&u.l.sa(p),qS(u),VS(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Dn(2)):(this.j.info("Failed to ping google.com"),Dn(1))};function qS(u){if(u.G=0,u.ka=[],u.l){let p=ES(u.h);(p.length!=0||u.i.length!=0)&&(w(u.ka,p),w(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function GS(u,p,y){var D=y instanceof Do?$i(y):new Do(y);if(D.g!="")p&&(D.g=p+"."+D.g),Tf(D,D.s);else{var V=a.location;D=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var z=new Do(null);D&&If(z,D),p&&(z.g=p),V&&Tf(z,V),y&&(z.l=y),D=z}return y=u.D,p=u.ya,y&&p&&mt(D,y,p),mt(D,"VER",u.la),Xc(u,D),D}function WS(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Tt(new Wc({eb:y})):new Tt(u.pa),p.Ha(u.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function KS(){}n=KS.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Rf(){}Rf.prototype.g=function(u,p){return new Qn(u,p)};function Qn(u,p){_t.call(this),this.g=new FS(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!S(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!S(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ka(this)}h(Qn,_t),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){Ov(this.g)},Qn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Iv(u),u=y);p.i.push(new cF(p.Ya++,u)),p.G==3&&Af(p)},Qn.prototype.N=function(){this.g.l=null,delete this.j,Ov(this.g),delete this.g,Qn.aa.N.call(this)};function YS(u){Sv.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(let y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}h(YS,Sv);function QS(){Cv.call(this),this.status=1}h(QS,Cv);function Ka(u){this.g=u}h(Ka,KS),Ka.prototype.ua=function(){Xt(this.g,"a")},Ka.prototype.ta=function(u){Xt(this.g,new YS(u))},Ka.prototype.sa=function(u){Xt(this.g,new QS)},Ka.prototype.ra=function(){Xt(this.g,"b")},Rf.prototype.createWebChannel=Rf.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,Zb=hs.createWebChannelTransport=function(){return new Rf},Xb=hs.getStatEventTarget=function(){return wf()},Qb=hs.Event=So,Lm=hs.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_f.NO_ERROR=0,_f.TIMEOUT=8,_f.HTTP_ERROR=6,Sd=hs.ErrorCode=_f,fS.COMPLETE="complete",Yb=hs.EventType=fS,aS.EventType=Uc,Uc.OPEN="a",Uc.CLOSE="b",Uc.ERROR="c",Uc.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Kl=hs.WebChannel=aS,F5=hs.FetchXmlHttpFactory=Wc,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,Kb=hs.XhrIo=Tt}).apply(typeof Om<"u"?Om:typeof self<"u"?self:typeof window<"u"?window:{});var bk="@firebase/firestore",Ek="4.7.11";var nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");var mc="11.6.1";var Da=new yi("@firebase/firestore");function Yl(){return Da.logLevel}function ae(n,...e){if(Da.logLevel<=Ue.DEBUG){let t=e.map(jI);Da.debug(`Firestore (${mc}): ${n}`,...t)}}function ps(n,...e){if(Da.logLevel<=Ue.ERROR){let t=e.map(jI);Da.error(`Firestore (${mc}): ${n}`,...t)}}function nc(n,...e){if(Da.logLevel<=Ue.WARN){let t=e.map(jI);Da.warn(`Firestore (${mc}): ${n}`,...t)}}function jI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function _e(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,pP(n,r,t)}function pP(n,e,t){let r=`FIRESTORE (${mc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ps(r),new Error(r)}function tt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||pP(e,i,r)}function Ee(n,e){return n}var W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},oe=class extends An{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Wr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var zm=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},rE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}},iE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},sE=class{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),s=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>P(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wr)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new zm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new nn(e)}},oE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},aE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new oE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Hm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},lE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);let r=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Hm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function V5(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function mP(){return new TextEncoder}var qm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=V5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function Fe(n,e){return n<e?-1:n>e?1:0}function cE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Fe(r,i);{let s=mP(),o=U5(s.encode(Ik(n,t)),s.encode(Ik(e,t)));return o!==0?o:Fe(r,i)}}t+=r>65535?2:1}return Fe(n.length,e.length)}function Ik(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function U5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Fe(n[t],e[t]);return Fe(n.length,e.length)}function rc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Tk=-62135596800,Sk=1e6,Lt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Sk);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Tk)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sk}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-Tk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var De=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Lt(0,0))}static max(){return new n(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ck="__name__",Gm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&_e(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Fe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):cE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}},It=class n extends Gm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},j5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sr=class n extends Gm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return j5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ck}static keyField(){return new n([Ck])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var we=class n{constructor(e){this.path=e}static fromPath(e){return new n(It.fromString(e))}static fromName(e){return new n(It.fromString(e).popFirst(5))}static empty(){return new n(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new It(e.slice()))}};var Rd=-1,uE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};uE.UNKNOWN_ID=-1;function B5(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new Lt(t+1,0):new Lt(t,r));return new xa(i,we.empty(),e)}function $5(n){return new xa(n.readTime,n.key,Rd)}var xa=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(De.min(),we.empty(),Rd)}static max(){return new n(De.max(),we.empty(),Rd)}};function z5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}var H5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function gc(n){return P(this,null,function*(){if(n.code!==W.FAILED_PRECONDITION||n.message!==H5)throw n;ae("LocalStore","Unexpectedly lost primary lease")})}var Q=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;t(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function q5(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vc(n){return n.name==="IndexedDbTransactionError"}var BI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),$I=-1;function Cg(n){return n==null}function kd(n){return n===0&&1/n==-1/0}function G5(n){return typeof n=="number"&&Number.isInteger(n)&&!kd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var gP="";function W5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Dk(e)),e=K5(n.get(t),e);return Dk(e)}function K5(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case gP:t+="";break;default:t+=s}}return t}function Dk(n){return n+gP+""}var Y5="remoteDocuments",vP="owner";var yP="mutationQueues";var wP="mutations";var _P="documentMutations",Q5="remoteDocumentsV14";var bP="remoteDocumentGlobal";var EP="targets";var IP="targetDocuments";var TP="targetGlobal",SP="collectionParents";var CP="clientMetadata";var DP="bundles";var xP="namedQueries";var X5="indexConfiguration";var Z5="indexState";var J5="indexEntries";var AP="documentOverlays";var e6="globals";var t6=[yP,wP,_P,Y5,EP,vP,TP,IP,CP,bP,SP,DP,xP],ile=[...t6,AP],n6=[yP,wP,_P,Q5,EP,vP,TP,IP,CP,bP,SP,DP,xP,AP],r6=n6,i6=[...r6,X5,Z5,J5];var sle=[...i6,e6];function xk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function co(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var xt=class n{constructor(e,t){this.comparator=e,this.root=t||Ci.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jl(this.root,e,this.comparator,!0)}},Jl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ci=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}};Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1;Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ci(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rn=class n{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wm(this.data.getIterator())}getIteratorFrom(e){return new Wm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Wm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vr=class n{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new n([])}unionWith(e){let t=new rn(sr.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Km=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Sn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Km("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Sn.EMPTY_BYTE_STRING=new Sn("");var s6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(n){if(tt(!!n,39018),typeof n=="string"){let e=0,t=s6.exec(n);if(tt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function gs(n){return typeof n=="string"?Sn.fromBase64String(n):Sn.fromUint8Array(n)}var RP="server_timestamp",kP="__type__",PP="__previous_value__",NP="__local_write_time__";function zI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kP])===null||t===void 0?void 0:t.stringValue)===RP}function Dg(n){let e=n.mapValue.fields[PP];return zI(e)?Dg(e):e}function Pd(n){let e=ms(n.mapValue.fields[NP].timestampValue);return new Lt(e.seconds,e.nanos)}var fE=class{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},Ym="(default)",Qm=class n{constructor(e,t){this.projectId=e,this.database=t||Ym}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Ym}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var HI="__type__",OP="__max__",Fm={mapValue:{fields:{__type__:{stringValue:OP}}}},qI="__vector__",ic="value";function io(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zI(n)?4:FP(n)?9007199254740991:LP(n)?10:11:_e(28295,{value:n})}function Mi(n,e){if(n===e)return!0;let t=io(n);if(t!==io(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pd(n).isEqual(Pd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ms(i.timestampValue),a=ms(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return gs(i.bytesValue).isEqual(gs(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return yt(i.geoPointValue.latitude)===yt(s.geoPointValue.latitude)&&yt(i.geoPointValue.longitude)===yt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return yt(i.integerValue)===yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=yt(i.doubleValue),a=yt(s.doubleValue);return o===a?kd(o)===kd(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return rc(n.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(xk(o)!==xk(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Mi(o[l],a[l])))return!1;return!0}(n,e);default:return _e(52216,{left:n})}}function Nd(n,e){return(n.values||[]).find(t=>Mi(t,e))!==void 0}function sc(n,e){if(n===e)return 0;let t=io(n),r=io(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=yt(s.integerValue||s.doubleValue),l=yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Ak(n.timestampValue,e.timestampValue);case 4:return Ak(Pd(n),Pd(e));case 5:return cE(n.stringValue,e.stringValue);case 6:return function(s,o){let a=gs(s),l=gs(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let d=Fe(a[c],l[c]);if(d!==0)return d}return Fe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Fe(yt(s.latitude),yt(o.latitude));return a!==0?a:Fe(yt(s.longitude),yt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Mk(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;let f=s.fields||{},g=o.fields||{},m=(a=f[ic])===null||a===void 0?void 0:a.arrayValue,h=(l=g[ic])===null||l===void 0?void 0:l.arrayValue,v=Fe(((c=m?.values)===null||c===void 0?void 0:c.length)||0,((d=h?.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:Mk(m,h)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Fm.mapValue&&o===Fm.mapValue)return 0;if(s===Fm.mapValue)return 1;if(o===Fm.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let g=cE(l[f],d[f]);if(g!==0)return g;let m=sc(a[l[f]],c[d[f]]);if(m!==0)return m}return Fe(l.length,d.length)}(n.mapValue,e.mapValue);default:throw _e(23264,{Pe:t})}}function Ak(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);let t=ms(n),r=ms(e),i=Fe(t.seconds,r.seconds);return i!==0?i:Fe(t.nanos,r.nanos)}function Mk(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=sc(t[i],r[i]);if(s)return s}return Fe(t.length,r.length)}function oc(n){return hE(n)}function hE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ms(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return gs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=hE(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${hE(t.fields[o])}`;return i+"}"}(n.mapValue):_e(61005,{value:n})}function jm(n){switch(io(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Dg(n);return e?16+jm(e):16;case 5:return 2*n.stringValue.length;case 6:return gs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+jm(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return co(r.fields,(s,o)=>{i+=s.length+jm(o)}),i}(n.mapValue);default:throw _e(13486,{value:n})}}function Rk(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pE(n){return!!n&&"integerValue"in n}function GI(n){return!!n&&"arrayValue"in n}function kk(n){return!!n&&"nullValue"in n}function Pk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bm(n){return!!n&&"mapValue"in n}function LP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[HI])===null||t===void 0?void 0:t.stringValue)===qI}function Dd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return co(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dd(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function FP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===OP}var ale={mapValue:{fields:{[HI]:{stringValue:qI},[ic]:{arrayValue:{}}}}};var ir=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dd(t)}setAll(e){let t=sr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Dd(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Bm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Bm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){co(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Dd(this.value))}};function VP(n){let e=[];return co(n.fields,(t,r)=>{let i=new sr([t]);if(Bm(r)){let s=VP(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new vr(e)}var Kr=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,De.min(),De.min(),De.min(),ir.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,De.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,De.min(),De.min(),ir.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,De.min(),De.min(),ir.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ac=class{constructor(e,t){this.position=e,this.inclusive=t}};function Nk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=we.comparator(we.fromName(o.referenceValue),t.key):r=sc(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ok(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mi(n.position[t],e.position[t]))return!1;return!0}var Aa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function o6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Xm=class{},zt=class n extends Xm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new gE(e,t,r):t==="array-contains"?new wE(e,r):t==="in"?new _E(e,r):t==="not-in"?new bE(e,r):t==="array-contains-any"?new EE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new vE(e,r):new yE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(sc(t,this.value)):t!==null&&io(this.value)===io(t)&&this.matchesComparison(sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yr=class n extends Xm{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return UP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function UP(n){return n.op==="and"}function jP(n){return a6(n)&&UP(n)}function a6(n){for(let e of n.filters)if(e instanceof Yr)return!1;return!0}function mE(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+oc(n.value);if(jP(n))return n.filters.map(e=>mE(e)).join(",");{let e=n.filters.map(t=>mE(t)).join(",");return`${n.op}(${e})`}}function BP(n,e){return n instanceof zt?function(r,i){return i instanceof zt&&r.op===i.op&&r.field.isEqual(i.field)&&Mi(r.value,i.value)}(n,e):n instanceof Yr?function(r,i){return i instanceof Yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&BP(o,i.filters[a]),!0):!1}(n,e):void _e(19439)}function $P(n){return n instanceof zt?function(t){return`${t.field.canonicalString()} ${t.op} ${oc(t.value)}`}(n):n instanceof Yr?function(t){return t.op.toString()+" {"+t.getFilters().map($P).join(" ,")+"}"}(n):"Filter"}var gE=class extends zt{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){let t=we.comparator(e.key,this.key);return this.matchesComparison(t)}},vE=class extends zt{constructor(e,t){super(e,"in",t),this.keys=zP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},yE=class extends zt{constructor(e,t){super(e,"not-in",t),this.keys=zP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function zP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>we.fromName(r.referenceValue))}var wE=class extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return GI(t)&&Nd(t.arrayValue,this.value)}},_E=class extends zt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Nd(this.value.arrayValue,t)}},bE=class extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nd(this.value.arrayValue,t)}},EE=class extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!GI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Nd(this.value.arrayValue,r))}};var IE=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}};function Lk(n,e=null,t=[],r=[],i=null,s=null,o=null){return new IE(n,e,t,r,i,s,o)}function WI(n){let e=Ee(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Cg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oc(r)).join(",")),e.Ie=t}return e.Ie}function KI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!o6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ok(n.startAt,e.startAt)&&Ok(n.endAt,e.endAt)}function TE(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var so=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function l6(n,e,t,r,i,s,o,a){return new so(n,e,t,r,i,s,o,a)}function xg(n){return new so(n)}function Fk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HP(n){return n.collectionGroup!==null}function xd(n){let e=Ee(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rn(sr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Aa(s,r))}),t.has(sr.keyField().canonicalString())||e.Ee.push(new Aa(sr.keyField(),r))}return e.Ee}function Di(n){let e=Ee(n);return e.de||(e.de=c6(e,xd(n))),e.de}function c6(n,e){if(n.limitType==="F")return Lk(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Aa(i.field,s)});let t=n.endAt?new ac(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ac(n.startAt.position,n.startAt.inclusive):null;return Lk(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function SE(n,e){let t=n.filters.concat([e]);return new so(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function CE(n,e,t){return new so(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ag(n,e){return KI(Di(n),Di(e))&&n.limitType===e.limitType}function qP(n){return`${WI(Di(n))}|lt:${n.limitType}`}function Ql(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>$P(i)).join(", ")}]`),Cg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>oc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>oc(i)).join(",")),`Target(${r})`}(Di(n))}; limitType=${n.limitType})`}function Mg(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):we.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of xd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){let c=Nk(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,xd(r),i)||r.endAt&&!function(o,a,l){let c=Nk(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,xd(r),i))}(n,e)}function u6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GP(n){return(e,t)=>{let r=!1;for(let i of xd(n)){let s=d6(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function d6(n,e,t){let r=n.field.isKeyField()?we.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?sc(l,c):_e(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:n.dir})}}var vs=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return MP(this.inner)}size(){return this.innerSize}};var f6=new xt(we.comparator);function ys(){return f6}var WP=new xt(we.comparator);function Cd(...n){let e=WP;for(let t of n)e=e.insert(t.key,t);return e}function KP(n){let e=WP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ta(){return Ad()}function YP(){return Ad()}function Ad(){return new vs(n=>n.toString(),(n,e)=>n.isEqual(e))}var h6=new xt(we.comparator),p6=new rn(we.comparator);function $e(...n){let e=p6;for(let t of n)e=e.add(t);return e}var m6=new rn(Fe);function g6(){return m6}function YI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function QP(n){return{integerValue:""+n}}function v6(n,e){return G5(e)?QP(e):YI(n,e)}var lc=class{constructor(){this._=void 0}};function y6(n,e,t){return n instanceof cc?function(i,s){let o={fields:{[kP]:{stringValue:RP},[NP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zI(s)&&(s=Dg(s)),s&&(o.fields[PP]=s),{mapValue:o}}(t,e):n instanceof Ma?ZP(n,e):n instanceof Ra?JP(n,e):function(i,s){let o=XP(i,s),a=Vk(o)+Vk(i.Re);return pE(o)&&pE(i.Re)?QP(a):YI(i.serializer,a)}(n,e)}function w6(n,e,t){return n instanceof Ma?ZP(n,e):n instanceof Ra?JP(n,e):t}function XP(n,e){return n instanceof uc?function(r){return pE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var cc=class extends lc{},Ma=class extends lc{constructor(e){super(),this.elements=e}};function ZP(n,e){let t=eN(e);for(let r of n.elements)t.some(i=>Mi(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ra=class extends lc{constructor(e){super(),this.elements=e}};function JP(n,e){let t=eN(e);for(let r of n.elements)t=t.filter(i=>!Mi(i,r));return{arrayValue:{values:t}}}var uc=class extends lc{constructor(e,t){super(),this.serializer=e,this.Re=t}};function Vk(n){return yt(n.integerValue||n.doubleValue)}function eN(n){return GI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function _6(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ma&&i instanceof Ma||r instanceof Ra&&i instanceof Ra?rc(r.elements,i.elements,Mi):r instanceof uc&&i instanceof uc?Mi(r.Re,i.Re):r instanceof cc&&i instanceof cc}(n.transform,e.transform)}var DE=class{constructor(e,t){this.version=e,this.transformResults=t}},xi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $m(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var dc=class{};function tN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Od(n.key,xi.none()):new ka(n.key,n.data,xi.none());{let t=n.data,r=ir.empty(),i=new rn(sr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ri(n.key,r,new vr(i.toArray()),xi.none())}}function b6(n,e,t){n instanceof ka?function(i,s,o){let a=i.value.clone(),l=jk(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ri?function(i,s,o){if(!$m(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=jk(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(nN(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Md(n,e,t,r){return n instanceof ka?function(s,o,a,l){if(!$m(s.precondition,o))return a;let c=s.value.clone(),d=Bk(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ri?function(s,o,a,l){if(!$m(s.precondition,o))return a;let c=Bk(s.fieldTransforms,l,o),d=o.data;return d.setAll(nN(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(s,o,a){return $m(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function E6(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=XP(r.transform,i||null);s!=null&&(t===null&&(t=ir.empty()),t.set(r.field,s))}return t||null}function Uk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rc(r,i,(s,o)=>_6(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ka=class extends dc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ri=class extends dc{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function nN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function jk(n,e,t){let r=new Map;tt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,w6(o,a,t[i]))}return r}function Bk(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,y6(s,o,e))}return r}var Od=class extends dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},xE=class extends dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var AE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&b6(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Md(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Md(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=YP();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let l=tN(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,(t,r)=>Uk(t,r))&&rc(this.baseMutations,e.baseMutations,(t,r)=>Uk(t,r))}},ME=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){tt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return h6}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var RE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var kE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Bt,qe;function I6(n){switch(n){case W.OK:return _e(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _e(15467,{code:n})}}function rN(n){if(n===void 0)return ps("GRPC error has no .code"),W.UNKNOWN;switch(n){case Bt.OK:return W.OK;case Bt.CANCELLED:return W.CANCELLED;case Bt.UNKNOWN:return W.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return W.INTERNAL;case Bt.UNAVAILABLE:return W.UNAVAILABLE;case Bt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Bt.NOT_FOUND:return W.NOT_FOUND;case Bt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Bt.ABORTED:return W.ABORTED;case Bt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Bt.DATA_LOSS:return W.DATA_LOSS;default:return _e(39323,{code:n})}}(qe=Bt||(Bt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";var $k=null;var T6=new fs([4294967295,4294967295],0);function zk(n){let e=mP().encode(n),t=new Wb;return t.update(e),new Uint8Array(t.digest())}function Hk(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fs([t,r],0),new fs([i,s],0)]}var PE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sa(`Invalid padding: ${t}`);if(r<0)throw new Sa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Sa(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=fs.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(fs.fromNumber(r)));return i.compare(T6)===1&&(i=new fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=zk(e),[r,i]=Hk(t);for(let s=0;s<this.hashCount;s++){let o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;let t=zk(e),[r,i]=Hk(t);for(let s=0;s<this.hashCount;s++){let o=this.we(r,i,s);this.Se(o)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Sa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Zm=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ld.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(De.min(),i,new xt(Fe),ys(),$e())}},Ld=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,$e(),$e(),$e())}};var ec=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Jm=class{constructor(e,t){this.targetId=e,this.Ce=t}},eg=class{constructor(e,t,r=Sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},tg=class{constructor(){this.Fe=0,this.Me=qk(),this.xe=Sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=$e(),t=$e(),r=$e();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:s})}}),new Ld(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=qk()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},NE=class{constructor(e){this.ze=e,this.je=new Map,this.He=ys(),this.Je=Vm(),this.Ye=Vm(),this.Ze=new xt(Fe)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let s=i.target;if(TE(s))if(r===0){let o=new we(s.path);this.tt(t,o,Kr.newNoDocument(o,De.min()))}else tt(r===1,20013,{expectedCount:r});else{let o=this.ut(t);if(o!==r){let a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,c)}$k?.ht(function(d,f,g,m,h){var v,w,x,S,E,O;let U={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},j=f.unchangedNames;return j&&(U.bloomFilter={applied:h===0,hashCount:(v=j?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(S=(x=(w=j?.bits)===null||w===void 0?void 0:w.bitmap)===null||x===void 0?void 0:x.length)!==null&&S!==void 0?S:0,padding:(O=(E=j?.bits)===null||E===void 0?void 0:E.padding)!==null&&O!==void 0?O:0,mightContain:M=>{var b;return(b=m?.mightContain(M))!==null&&b!==void 0&&b}}),U}(o,e.Ce,this.ze.Pt(),a,l))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=gs(r).toUint8Array()}catch(l){if(l instanceof Km)return nc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new PE(o,i,s)}catch(l){return nc(l instanceof Sa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,s,null),i++)}),i}It(e){let t=new Map;this.je.forEach((s,o)=>{let a=this._t(o);if(a){if(s.current&&TE(a.target)){let l=new we(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Kr.newNoDocument(l,e))}s.Le&&(t.set(o,s.qe()),s.Qe())}});let r=$e();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));let i=new Zm(e,t,this.Ze,this.He,r);return this.He=ys(),this.Je=Vm(),this.Ye=Vm(),this.Ze=new xt(Fe),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new tg,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new rn(Fe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new rn(Fe),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new tg),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Vm(){return new xt(we.comparator)}function qk(){return new xt(we.comparator)}var S6={asc:"ASCENDING",desc:"DESCENDING"},C6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D6={and:"AND",or:"OR"},OE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function LE(n,e){return n.useProto3Json||Cg(e)?e:{value:e}}function ng(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function x6(n,e){return ng(n,e.toTimestamp())}function Ai(n){return tt(!!n,49232),De.fromTimestamp(function(t){let r=ms(t);return new Lt(r.seconds,r.nanos)}(n))}function QI(n,e){return FE(n,e).canonicalString()}function FE(n,e){let t=function(i){return new It(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function sN(n){let e=It.fromString(n);return tt(uN(e),10190,{key:e.toString()}),e}function VE(n,e){return QI(n.databaseId,e.path)}function Jb(n,e){let t=sN(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(aN(t))}function oN(n,e){return QI(n.databaseId,e)}function A6(n){let e=sN(n);return e.length===4?It.emptyPath():aN(e)}function UE(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aN(n){return tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Gk(n,e,t){return{name:VE(n,e),fields:t.value.mapValue.fields}}function M6(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(tt(d===void 0||typeof d=="string",58123),Sn.fromBase64String(d||"")):(tt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Sn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let d=c.code===void 0?W.UNKNOWN:rN(c.code);return new oe(d,c.message||"")}(o);t=new eg(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Jb(n,r.document.name),s=Ai(r.document.updateTime),o=r.document.createTime?Ai(r.document.createTime):De.min(),a=new ir({mapValue:{fields:r.document.fields}}),l=Kr.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];t=new ec(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Jb(n,r.document),s=r.readTime?Ai(r.readTime):De.min(),o=Kr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new ec([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Jb(n,r.document),s=r.removedTargetIds||[];t=new ec([],s,i,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new kE(i,s),a=r.targetId;t=new Jm(a,o)}}return t}function R6(n,e){let t;if(e instanceof ka)t={update:Gk(n,e.key,e.value)};else if(e instanceof Od)t={delete:VE(n,e.key)};else if(e instanceof Ri)t={update:Gk(n,e.key,e.data),updateMask:j6(e.fieldMask)};else{if(!(e instanceof xE))return _e(16599,{ft:e.type});t={verify:VE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof cc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ma)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ra)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof uc)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw _e(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:x6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_e(27497)}(n,e.precondition)),t}function k6(n,e){return n&&n.length>0?(tt(e!==void 0,14353),n.map(t=>function(i,s){let o=i.updateTime?Ai(i.updateTime):Ai(s);return o.isEqual(De.min())&&(o=Ai(s)),new DE(o,i.transformResults||[])}(t,e))):[]}function P6(n,e){return{documents:[oN(n,e.path)]}}function N6(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=oN(n,i);let s=function(c){if(c.length!==0)return cN(Yr.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:Xl(g.field),direction:F6(g.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=LE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:t,parent:i}}function O6(n){let e=A6(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){tt(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(f){let g=lN(f);return g instanceof Yr&&jP(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(g=>function(h){return new Aa(Zl(h.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Cg(g)?null:g}(t.limit));let l=null;t.startAt&&(l=function(f){let g=!!f.before,m=f.values||[];return new ac(m,g)}(t.startAt));let c=null;return t.endAt&&(c=function(f){let g=!f.before,m=f.values||[];return new ac(m,g)}(t.endAt)),l6(e,i,o,s,a,"F",l,c)}function L6(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function lN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Zl(t.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Zl(t.unaryFilter.field);return zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Zl(t.unaryFilter.field);return zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Zl(t.unaryFilter.field);return zt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(n):n.fieldFilter!==void 0?function(t){return zt.create(Zl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Yr.create(t.compositeFilter.filters.map(r=>lN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(t.compositeFilter.op))}(n):_e(30097,{filter:n})}function F6(n){return S6[n]}function V6(n){return C6[n]}function U6(n){return D6[n]}function Xl(n){return{fieldPath:n.canonicalString()}}function Zl(n){return sr.fromServerFormat(n.fieldPath)}function cN(n){return n instanceof zt?function(t){if(t.op==="=="){if(Pk(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NAN"}};if(kk(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Pk(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NOT_NAN"}};if(kk(t.value))return{unaryFilter:{field:Xl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(t.field),op:V6(t.op),value:t.value}}}(n):n instanceof Yr?function(t){let r=t.getFilters().map(i=>cN(i));return r.length===1?r[0]:{compositeFilter:{op:U6(t.op),filters:r}}}(n):_e(54877,{filter:n})}function j6(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Fd=class n{constructor(e,t,r,i,s=De.min(),o=De.min(),a=Sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var jE=class{constructor(e){this.wt=e}};function B6(n){let e=O6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?CE(e,e.limit,"L"):e}var rg=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(yt(e.integerValue));else if("doubleValue"in e){let r=yt(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),kd(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=ms(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(gs(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?FP(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):LP(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):_e(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let s=e.fields||{};this.Mt(t,53);let o=ic,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(yt(a)),this.Nt(o,t),this.Ct(s[o],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),we.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};rg.Wt=new rg;var BE=class{constructor(){this.yn=new $E}addToCollectionParentIndex(e,t){return this.yn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(xa.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}},$E=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rn(It.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(It.comparator)).toArray()}};var lle=new Uint8Array(0);var Wk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dN=41943040,gr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(dN,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);var Vd=class n{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new n(0)}static ir(){return new n(-1)}};var Kk="LruGarbageCollector",$6=1048576;function Yk([n,e],[t,r]){let i=Fe(n,t);return i===0?Fe(e,r):i}var zE=class{constructor(e){this.cr=e,this.buffer=new rn(Yk),this.lr=0}hr(){return++this.lr}Pr(e){let t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();Yk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},HE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ae(Kk,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>P(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){vc(t)?ae(Kk,"Ignoring IndexedDB error during garbage collection: ",t):yield gc(t)}yield this.Ir(3e5)}))}},qE=class{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(BI.le);let r=new zE(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Wk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wk):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,s,o,a,l,c,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Yl()<=Ue.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function z6(n,e){return new qE(n,e)}var GE=class{constructor(){this.changes=new vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var WE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var KE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Md(r.mutation,i,vr.empty(),Lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$e()){let i=Ta();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Cd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Ta();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$e()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=ys(),o=Ad(),a=function(){return Ad()}();return t.forEach((l,c)=>{let d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ri)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Md(d.mutation,c,d.mutation.getFieldMask(),Lt.now())):o.set(c.key,vr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),t.forEach((c,d)=>{var f;return a.set(c,new WE(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ad(),i=new xt((o,a)=>o-a),s=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let d=r.get(l)||vr.empty();d=a.applyToLocalView(c,d),r.set(l,d);let f=(i.get(a.batchId)||$e()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,d=l.value,f=YP();d.forEach(g=>{if(!s.has(g)){let m=tN(t.get(g),r.get(g));m!==null&&f.set(g,m),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Q.resolve(Ta()),a=Rd,l=s;return o.next(c=>Q.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,$e())).next(d=>({batchId:a,changes:KP(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(r=>{let i=Cd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Cd();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,l=>{let c=function(f,g){return new so(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{let d=c.getKey();o.get(d)===null&&(o=o.insert(d,Kr.newInvalidDocument(d)))});let a=Cd();return o.forEach((l,c)=>{let d=s.get(l);d!==void 0&&Md(d.mutation,c,vr.empty(),Lt.now()),Mg(t,c)&&(a=a.insert(l,c))}),a})}};var YE=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ai(i.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:B6(i.bundledQuery),readTime:Ai(i.readTime)}}(t)),Q.resolve()}};var QE=class{constructor(){this.overlays=new xt(we.comparator),this.Or=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ta();return Q.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){let i=Ta(),s=t.length+1,o=new we(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new xt((c,d)=>c-d),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Ta(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}let a=Ta(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Q.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new RE(t,r));let s=this.Or.get(t);s===void 0&&(s=$e(),this.Or.set(t,s)),this.Or.set(t,s.add(r.key))}};var XE=class{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}};var Ud=class{constructor(){this.Nr=new rn($t.Br),this.Lr=new rn($t.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){let r=new $t(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new $t(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){let t=new we(new It([])),r=new $t(t,e),i=new $t(t,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let t=new we(new It([])),r=new $t(t,e),i=new $t(t,e+1),s=$e();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new $t(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},$t=class{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return we.comparator(e.key,t.key)||Fe(e.Gr,t.Gr)}static kr(e,t){return Fe(e.Gr,t.Gr)||we.comparator(e.key,t.key)}};var ZE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new rn($t.Br)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new AE(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.zr=this.zr.add(new $t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,t){return Q.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Hr(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?$I:this.Jn-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new $t(t,0),i=new $t(t,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{let a=this.jr(o.Gr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rn(Fe);return t.forEach(i=>{let s=new $t(i,0),o=new $t(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),Q.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;we.isDocumentKey(s)||(s=s.child(""));let o=new $t(new we(s),0),a=new rn(Fe);return this.zr.forEachWhile(l=>{let c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Gr)),!0)},o),Q.resolve(this.Jr(a))}Jr(e){let t=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){tt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return Q.forEach(t.mutations,i=>{let s=new $t(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){let r=new $t(t,0),i=this.zr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var JE=class{constructor(e){this.Zr=e,this.docs=function(){return new xt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Kr.newInvalidDocument(t))}getEntries(e,t){let r=ys();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kr.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ys(),o=t.path,a=new we(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||z5($5(d),r)<=0||(i.has(d.key)||Mg(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,t,r,i){_e(9500)}Xr(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eI(this)}getSize(e){return Q.resolve(this.size)}},eI=class extends GE{constructor(e){super(),this.vr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}};var tI=class{constructor(e){this.persistence=e,this.ei=new vs(t=>WI(t),KI),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ud,this.targetCount=0,this.ri=Vd.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),Q.resolve()}ar(e){this.ei.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ri=new Vd(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.ar(t),Q.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){let r=this.ei.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),Q.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ni.Wr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.ni.containsKey(t))}};var ig=class{constructor(e,t){this.ii={},this.overlays={},this.si=new BI(0),this.oi=!1,this.oi=!0,this._i=new XE,this.referenceDelegate=e(this),this.ai=new tI(this),this.indexManager=new BE,this.remoteDocumentCache=function(i){return new JE(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new jE(t),this.ci=new YE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new ZE(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){ae("MemoryPersistence","Starting transaction:",e);let i=new nI(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,t){return Q.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}},nI=class extends dE{constructor(e){super(),this.currentSequenceNumber=e}},rI=class n{constructor(e){this.persistence=e,this.Ti=new Ud,this.Ii=null}static Ei(e){return new n(e)}get di(){if(this.Ii)return this.Ii;throw _e(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,r=>{let i=we.fromPath(r);return this.Ai(e,i).next(s=>{s||t.removeEntry(i,De.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return Q.or([()=>Q.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}},sg=class n{constructor(e,t){this.persistence=e,this.Ri=new vs(r=>W5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=z6(this,t)}static Ei(e,t){return new n(e,t)}li(){}hi(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return Q.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?Q.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,De.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),Q.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jm(e.data.value)),t}gr(e,t,r){return Q.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.Ri.get(t);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var iI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=$e(),i=$e();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var sI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var oI=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return jM()?8:q5(tn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new sI;return this.fs(e,t,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,t,o,a.size)})}).next(()=>s.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Yl()<=Ue.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ql(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Q.resolve()):(Yl()<=Ue.DEBUG&&ae("QueryEngine","Query:",Ql(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Yl()<=Ue.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ql(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(t))):Q.resolve())}Rs(e,t){if(Fk(t))return Q.resolve(null);let r=Di(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=CE(t,null,"F"),r=Di(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=$e(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let c=this.ps(t,a);return this.ys(t,c,o,l.readTime)?this.Rs(e,CE(t,null,"F")):this.ws(e,c,t,l)}))})))}Vs(e,t,r,i){return Fk(t)||i.isEqual(De.min())?Q.resolve(null):this.As.getDocuments(e,r).next(s=>{let o=this.ps(t,s);return this.ys(t,o,r,i)?Q.resolve(null):(Yl()<=Ue.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ql(t)),this.ws(e,o,t,B5(i,Rd)).next(a=>a))})}ps(e,t){let r=new rn(GP(e));return t.forEach((i,s)=>{Mg(e,s)&&(r=r.add(s))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,t,r){return Yl()<=Ue.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ql(t)),this.As.getDocumentsMatchingQuery(e,t,xa.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var XI="LocalStore",H6=3e8,aI=class{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new xt(Fe),this.Ds=new vs(s=>WI(s),KI),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KE(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}};function q6(n,e,t,r){return new aI(n,e,t,r)}function fN(n,e){return P(this,null,function*(){let t=Ee(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],l=$e();for(let c of i){o.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}for(let c of s){a.push(c.batchId);for(let d of c.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:a}))})})})}function G6(n,e){let t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){let f=c.batch,g=f.keys(),m=Q.resolve();return g.forEach(h=>{m=m.next(()=>d.getEntry(l,h)).next(v=>{let w=c.docVersions.get(h);tt(w!==null,48541),v.version.compareTo(w)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=$e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function hN(n){let e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function W6(n,e){let t=Ee(n),r=e.snapshotVersion,i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.ai.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.ai.addMatchingKeys(s,d.addedDocuments,f)));let m=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Sn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(v,w,x){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=H6?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,m,d)&&a.push(t.ai.updateTargetData(s,m))});let l=ys(),c=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(K6(s,o,e.documentUpdates).next(d=>{l=d.xs,c=d.Os})),!r.isEqual(De.min())){let d=t.ai.getLastRemoteSnapshotVersion(s).next(f=>t.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ss=i,s))}function K6(n,e,t){let r=$e(),i=$e();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=ys();return t.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae(XI,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{xs:o,Os:i}})}function Y6(n,e){let t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$I),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q6(n,e){let t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):t.ai.allocateTargetId(r).next(o=>(i=new Fd(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}function lI(n,e,t){return P(this,null,function*(){let r=Ee(n),i=r.Ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!vc(o))throw o;ae(XI,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function Qk(n,e,t){let r=Ee(n),i=De.min(),s=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){let f=Ee(l),g=f.Ds.get(d);return g!==void 0?Q.resolve(f.Ss.get(g)):f.ai.getTargetData(c,d)}(r,o,Di(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,t?i:De.min(),t?s:$e())).next(a=>(X6(r,u6(e),a),{documents:a,Ns:s})))}function X6(n,e,t){let r=n.vs.get(e)||De.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.vs.set(e,r)}var og=class{constructor(){this.activeTargetIds=g6()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var cI=class{constructor(){this.So=new og,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new og,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var uI=class{vo(e){}shutdown(){}};var Xk="ConnectivityMonitor",ag=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ae(Xk,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){ae(Xk,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Um=null;function dI(){return Um===null?Um=function(){return 268435456+Math.round(2147483648*Math.random())}():Um++,"0x"+Um.toString(16)}var eE="RestConnection",Z6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},fI=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Ym?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,s){let o=dI(),a=this.$o(e,t.toUriEncodedString());ae(eE,`Sending RPC '${e}' ${o}:`,a,r);let l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(l,i,s),this.Ko(e,a,l,r).then(c=>(ae(eE,`Received RPC '${e}' ${o}: `,c),c),c=>{throw nc(eE,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Wo(e,t,r,i,s,o){return this.Qo(e,t,r,i,s)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,t){let r=Z6[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}};var hI=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var In="WebChannelConnection",pI=class extends fI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i){let s=dI();return new Promise((o,a)=>{let l=new Kb;l.setWithCredentials(!0),l.listenOnce(Yb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Sd.NO_ERROR:let d=l.getResponseJson();ae(In,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Sd.TIMEOUT:ae(In,`RPC '${e}' ${s} timed out`),a(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Sd.HTTP_ERROR:let f=l.getStatus();if(ae(In,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let m=g?.error;if(m&&m.status&&m.message){let h=function(w){let x=w.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(x)>=0?x:W.UNKNOWN}(m.status);a(new oe(h,m.message))}else a(new oe(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new oe(W.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{s_:e,streamId:s,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{ae(In,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(i);ae(In,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}a_(e,t,r){let i=dI(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Zb(),a=Xb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let d=s.join("");ae(In,`Creating RPC '${e}' stream ${i}: ${d}`,l);let f=o.createWebChannel(d,l),g=!1,m=!1,h=new hI({Go:w=>{m?ae(In,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(g||(ae(In,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),ae(In,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},zo:()=>f.close()}),v=(w,x,S)=>{w.listen(x,E=>{try{S(E)}catch(O){setTimeout(()=>{throw O},0)}})};return v(f,Kl.EventType.OPEN,()=>{m||(ae(In,`RPC '${e}' stream ${i} transport opened.`),h.t_())}),v(f,Kl.EventType.CLOSE,()=>{m||(m=!0,ae(In,`RPC '${e}' stream ${i} transport closed`),h.r_())}),v(f,Kl.EventType.ERROR,w=>{m||(m=!0,nc(In,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),h.r_(new oe(W.UNAVAILABLE,"The operation could not be completed")))}),v(f,Kl.EventType.MESSAGE,w=>{var x;if(!m){let S=w.data[0];tt(!!S,16349);let E=S,O=E?.error||((x=E[0])===null||x===void 0?void 0:x.error);if(O){ae(In,`RPC '${e}' stream ${i} received error:`,O);let U=O.status,j=function(_){let C=Bt[_];if(C!==void 0)return rN(C)}(U),M=O.message;j===void 0&&(j=W.INTERNAL,M="Unknown error status: "+U+" with message "+O.message),m=!0,h.r_(new oe(j,M)),f.close()}else ae(In,`RPC '${e}' stream ${i} received:`,S),h.i_(S)}}),v(a,Qb.STAT_EVENT,w=>{w.stat===Lm.PROXY?ae(In,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Lm.NOPROXY&&ae(In,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{h.n_()},0),h}};function tE(){return typeof document<"u"?document:null}function Rg(n){return new OE(n,!0)}var lg=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var Zk="PersistentStream",cg=class{constructor(e,t,r,i,s,o,a,l){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new lg(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return P(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return P(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,t){return P(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(ps(t.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(t)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{let i=new oe(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){let r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>P(this,null,function*(){this.state=0,this.start()}))}L_(e){return ae(Zk,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ae(Zk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},mI=class extends cg{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let t=M6(this.serializer,e),r=function(s){if(!("targetChange"in s))return De.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?Ai(o.readTime):De.min()}(e);return this.listener.Q_(t,r)}U_(e){let t={};t.database=UE(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=TE(l)?{documents:P6(s,l)}:{query:N6(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iN(s,o.resumeToken);let c=LE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=ng(s,o.snapshotVersion.toTimestamp());let c=LE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let r=L6(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){let t={};t.database=UE(this.serializer),t.removeTarget=e,this.F_(t)}},gI=class extends cg{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let t=k6(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.j_(r,t)}H_(){let e={};e.database=UE(this.serializer),this.F_(e)}G_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>R6(this.serializer,r))};this.F_(t)}};var vI=class{},yI=class extends vI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,FE(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(W.UNKNOWN,s.toString())})}Wo(e,t,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,FE(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(W.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},wI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ps(t),this.ea=!1):ae("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var Pa="RemoteStore",_I=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(()=>P(this,null,function*(){Na(this)&&(ae(Pa,"Restarting streams for network reachability change."),yield function(l){return P(this,null,function*(){let c=Ee(l);c.aa.add(4),yield Kd(c),c.la.set("Unknown"),c.aa.delete(4),yield kg(c)})}(this))}))}),this.la=new wI(r,i)}};function kg(n){return P(this,null,function*(){if(Na(n))for(let e of n.ua)yield e(!0)})}function Kd(n){return P(this,null,function*(){for(let e of n.ua)yield e(!1)})}function pN(n,e){let t=Ee(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),tT(t)?eT(t):yc(t).b_()&&JI(t,e))}function ZI(n,e){let t=Ee(n),r=yc(t);t._a.delete(e),r.b_()&&mN(t,e),t._a.size===0&&(r.b_()?r.v_():Na(t)&&t.la.set("Unknown"))}function JI(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yc(n).U_(e)}function mN(n,e){n.ha.Ke(e),yc(n).K_(e)}function eT(n){n.ha=new NE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),yc(n).start(),n.la.ta()}function tT(n){return Na(n)&&!yc(n).w_()&&n._a.size>0}function Na(n){return Ee(n).aa.size===0}function gN(n){n.ha=void 0}function J6(n){return P(this,null,function*(){n.la.set("Online")})}function e9(n){return P(this,null,function*(){n._a.forEach((e,t)=>{JI(n,e)})})}function t9(n,e){return P(this,null,function*(){gN(n),tT(n)?(n.la.ia(e),eT(n)):n.la.set("Unknown")})}function n9(n,e,t){return P(this,null,function*(){if(n.la.set("Online"),e instanceof eg&&e.state===2&&e.cause)try{yield function(i,s){return P(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))})}(n,e)}catch(r){ae(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ug(n,r)}else if(e instanceof ec?n.ha.Xe(e):e instanceof Jm?n.ha.ot(e):n.ha.nt(e),!t.isEqual(De.min()))try{let r=yield hN(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.ha.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let d=s._a.get(c);d&&s._a.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let d=s._a.get(l);if(!d)return;s._a.set(l,d.withResumeToken(Sn.EMPTY_BYTE_STRING,d.snapshotVersion)),mN(s,l);let f=new Fd(d.target,l,c,d.sequenceNumber);JI(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ae(Pa,"Failed to raise snapshot:",r),yield ug(n,r)}})}function ug(n,e,t){return P(this,null,function*(){if(!vc(e))throw e;n.aa.add(1),yield Kd(n),n.la.set("Offline"),t||(t=()=>hN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>P(this,null,function*(){ae(Pa,"Retrying IndexedDB access"),yield t(),n.aa.delete(1),yield kg(n)}))})}function vN(n,e){return e().catch(t=>ug(n,t,e))}function Pg(n){return P(this,null,function*(){let e=Ee(n),t=oo(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:$I;for(;r9(e);)try{let i=yield Y6(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,i9(e,i)}catch(i){yield ug(e,i)}yN(e)&&wN(e)})}function r9(n){return Na(n)&&n.oa.length<10}function i9(n,e){n.oa.push(e);let t=oo(n);t.b_()&&t.W_&&t.G_(e.mutations)}function yN(n){return Na(n)&&!oo(n).w_()&&n.oa.length>0}function wN(n){oo(n).start()}function s9(n){return P(this,null,function*(){oo(n).H_()})}function o9(n){return P(this,null,function*(){let e=oo(n);for(let t of n.oa)e.G_(t.mutations)})}function a9(n,e,t){return P(this,null,function*(){let r=n.oa.shift(),i=ME.from(r,e,t);yield vN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Pg(n)})}function l9(n,e){return P(this,null,function*(){e&&oo(n).W_&&(yield function(r,i){return P(this,null,function*(){if(function(o){return I6(o)&&o!==W.ABORTED}(i.code)){let s=r.oa.shift();oo(r).D_(),yield vN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Pg(r)}})}(n,e)),yN(n)&&wN(n)})}function Jk(n,e){return P(this,null,function*(){let t=Ee(n);t.asyncQueue.verifyOperationInProgress(),ae(Pa,"RemoteStore received new credentials");let r=Na(t);t.aa.add(3),yield Kd(t),r&&t.la.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),yield kg(t)})}function c9(n,e){return P(this,null,function*(){let t=Ee(n);e?(t.aa.delete(2),yield kg(t)):e||(t.aa.add(2),yield Kd(t),t.la.set("Unknown"))})}function yc(n){return n.Pa||(n.Pa=function(t,r,i){let s=Ee(t);return s.Y_(),new mI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:J6.bind(null,n),Jo:e9.bind(null,n),Zo:t9.bind(null,n),Q_:n9.bind(null,n)}),n.ua.push(e=>P(this,null,function*(){e?(n.Pa.D_(),tT(n)?eT(n):n.la.set("Unknown")):(yield n.Pa.stop(),gN(n))}))),n.Pa}function oo(n){return n.Ta||(n.Ta=function(t,r,i){let s=Ee(t);return s.Y_(),new gI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:s9.bind(null,n),Zo:l9.bind(null,n),z_:o9.bind(null,n),j_:a9.bind(null,n)}),n.ua.push(e=>P(this,null,function*(){e?(n.Ta.D_(),yield Pg(n)):(yield n.Ta.stop(),n.oa.length>0&&(ae(Pa,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))}))),n.Ta}var bI=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function nT(n,e){if(ps("AsyncQueue",`${e}: ${n}`),vc(n))return new oe(W.UNAVAILABLE,`${e}: ${n}`);throw n}var dg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=Cd(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var fg=class{constructor(){this.Ia=new xt(we.comparator)}track(e){let t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):_e(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){let e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}},fc=class n{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,dg.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var EI=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},II=class{constructor(){this.queries=eP(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){let i=Ee(t),s=i.queries;i.queries=eP(),s.forEach((o,a)=>{for(let l of a.Ra)l.onError(r)})})(this,new oe(W.ABORTED,"Firestore shutting down"))}};function eP(){return new vs(n=>qP(n),Ag)}function rT(n,e){return P(this,null,function*(){let t=Ee(n),r=3,i=e.query,s=t.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new EI,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=yield t.onListen(i,!0);break;case 1:s.Aa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=nT(o,`Initialization of query '${Ql(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.Ra.push(e),e.ga(t.onlineState),s.Aa&&e.pa(s.Aa)&&sT(t)})}function iT(n,e){return P(this,null,function*(){let t=Ee(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function u9(n,e){let t=Ee(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&sT(t)}function d9(n,e,t){let r=Ee(n),i=r.queries.get(e);if(i)for(let s of i.Ra)s.onError(t);r.queries.delete(e)}function sT(n){n.fa.forEach(e=>{e.next()})}var TI,tP;(tP=TI||(TI={})).ya="default",tP.Cache="cache";var jd=class{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new fc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;let r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==TI.Cache}};var hg=class{constructor(e){this.key=e}},pg=class{constructor(e){this.key=e}},SI=class{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=$e(),this.mutatedKeys=$e(),this.Ua=GP(e),this.Ka=new dg(this.Ua)}get Wa(){return this.qa}Ga(e,t){let r=t?t.za:new fg,i=t?t.Ka:this.Ka,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),m=Mg(this.query,f)?f:null,h=!!g&&this.mutatedKeys.has(g.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),w=!1;g&&m?g.data.isEqual(m.data)?h!==v&&(r.track({type:3,doc:m}),w=!0):this.ja(g,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.Ua(m,l)>0||c&&this.Ua(m,c)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),w=!0):g&&!m&&(r.track({type:1,doc:g}),w=!0,(l||c)&&(a=!0)),w&&(m?(o=o.add(m),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let o=e.za.da();o.sort((d,f)=>function(m,h){let v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:w})}};return v(m)-v(h)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(r),i=i!=null&&i;let a=t&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,c=l!==this.Qa;return this.Qa=l,o.length!==0||c?{snapshot:new fc(this.query,e.Ka,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new fg,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=$e(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new pg(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new hg(r))}),t}Xa(e){this.qa=e.Ns,this.$a=$e();let t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return fc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},oT="SyncEngine",CI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},DI=class{constructor(e){this.key=e,this.tu=!1}},xI=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new vs(a=>qP(a),Ag),this.iu=new Map,this.su=new Set,this.ou=new xt(we.comparator),this._u=new Map,this.au=new Ud,this.uu={},this.cu=new Map,this.lu=Vd.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function f9(n,e,t=!0){return P(this,null,function*(){let r=SN(n),i,s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=yield _N(r,e,t,!0),i})}function h9(n,e){return P(this,null,function*(){let t=SN(n);yield _N(t,e,!0,!1)})}function _N(n,e,t,r){return P(this,null,function*(){let i=yield Q6(n.localStore,Di(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield p9(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&pN(n.remoteStore,i),a})}function p9(n,e,t,r,i){return P(this,null,function*(){n.Pu=(f,g,m)=>function(v,w,x,S){return P(this,null,function*(){let E=w.view.Ga(x);E.ys&&(E=yield Qk(v.localStore,w.query,!1).then(({documents:M})=>w.view.Ga(M,E)));let O=S&&S.targetChanges.get(w.targetId),U=S&&S.targetMismatches.get(w.targetId)!=null,j=w.view.applyChanges(E,v.isPrimaryClient,O,U);return rP(v,w.targetId,j.Ya),j.snapshot})}(n,f,g,m);let s=yield Qk(n.localStore,e,!0),o=new SI(e,s.Ns),a=o.Ga(s.documents),l=Ld.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);rP(n,t,c.Ya);let d=new CI(e,t,o);return n.ru.set(e,d),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),c.snapshot})}function m9(n,e,t){return P(this,null,function*(){let r=Ee(n),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!Ag(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield lI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ZI(r.remoteStore,i.targetId),AI(r,i.targetId)}).catch(gc))):(AI(r,i.targetId),yield lI(r.localStore,i.targetId,!0))})}function g9(n,e){return P(this,null,function*(){let t=Ee(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ZI(t.remoteStore,r.targetId))})}function v9(n,e,t){return P(this,null,function*(){let r=T9(n);try{let i=yield function(o,a){let l=Ee(o),c=Lt.now(),d=a.reduce((m,h)=>m.add(h.key),$e()),f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let h=ys(),v=$e();return l.Cs.getEntries(m,d).next(w=>{h=w,h.forEach((x,S)=>{S.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,h)).next(w=>{f=w;let x=[];for(let S of a){let E=E6(S,f.get(S.key).overlayedDocument);E!=null&&x.push(new Ri(S.key,E,VP(E.value.mapValue),xi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(w=>{g=w;let x=w.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,w.batchId,x)})}).then(()=>({batchId:g.batchId,changes:KP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.uu[o.currentUser.toKey()];c||(c=new xt(Fe)),c=c.insert(a,l),o.uu[o.currentUser.toKey()]=c}(r,i.batchId,t),yield Yd(r,i.changes),yield Pg(r.remoteStore)}catch(i){let s=nT(i,"Failed to persist write");t.reject(s)}})}function bN(n,e){return P(this,null,function*(){let t=Ee(n);try{let r=yield W6(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t._u.get(s);o&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?tt(o.tu,14607):i.removedDocuments.size>0&&(tt(o.tu,42227),o.tu=!1))}),yield Yd(t,r,e)}catch(r){yield gc(r)}})}function nP(n,e,t){let r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ru.forEach((s,o)=>{let a=o.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let l=Ee(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(let g of f.Ra)g.ga(a)&&(c=!0)}),c&&sT(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function y9(n,e,t){return P(this,null,function*(){let r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r._u.get(e),s=i&&i.key;if(s){let o=new xt(we.comparator);o=o.insert(s,Kr.newNoDocument(s,De.min()));let a=$e().add(s),l=new Zm(De.min(),new Map,new xt(Fe),o,a);yield bN(r,l),r.ou=r.ou.remove(s),r._u.delete(e),aT(r)}else yield lI(r.localStore,e,!1).then(()=>AI(r,e,t)).catch(gc)})}function w9(n,e){return P(this,null,function*(){let t=Ee(n),r=e.batch.batchId;try{let i=yield G6(t.localStore,e);IN(t,r,null),EN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Yd(t,i)}catch(i){yield gc(i)}})}function _9(n,e,t){return P(this,null,function*(){let r=Ee(n);try{let i=yield function(o,a){let l=Ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(tt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);IN(r,e,t),EN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Yd(r,i)}catch(i){yield gc(i)}})}function EN(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function IN(n,e,t){let r=Ee(n),i=r.uu[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function AI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||TN(n,r)})}function TN(n,e){n.su.delete(e.path.canonicalString());let t=n.ou.get(e);t!==null&&(ZI(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),aT(n))}function rP(n,e,t){for(let r of t)r instanceof hg?(n.au.addReference(r.key,e),b9(n,r)):r instanceof pg?(ae(oT,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||TN(n,r.key)):_e(19791,{Iu:r})}function b9(n,e){let t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(ae(oT,"New document in limbo: "+t),n.su.add(r),aT(n))}function aT(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){let e=n.su.values().next().value;n.su.delete(e);let t=new we(It.fromString(e)),r=n.lu.next();n._u.set(r,new DI(t)),n.ou=n.ou.insert(t,r),pN(n.remoteStore,new Fd(Di(xg(t.path)),r,"TargetPurposeLimboResolution",BI.le))}}function Yd(n,e,t){return P(this,null,function*(){let r=Ee(n),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,e,t).then(c=>{var d;if((c||t)&&r.isPrimaryClient){let f=c?!c.fromCache:(d=t?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);let f=iI.Ps(l.targetId,c);s.push(f)}}))}),yield Promise.all(o),r.nu.Q_(i),yield function(l,c){return P(this,null,function*(){let d=Ee(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(c,g=>Q.forEach(g.ls,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>Q.forEach(g.hs,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!vc(f))throw f;ae(XI,"Failed to update sequence numbers: "+f)}for(let f of c){let g=f.targetId;if(!f.fromCache){let m=d.Ss.get(g),h=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(h);d.Ss=d.Ss.insert(g,v)}}})}(r.localStore,s))})}function E9(n,e){return P(this,null,function*(){let t=Ee(n);if(!t.currentUser.isEqual(e)){ae(oT,"User change. New user:",e.toKey());let r=yield fN(t.localStore,e);t.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(l=>{l.reject(new oe(W.CANCELLED,o))})}),s.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yd(t,r.Ms)}})}function I9(n,e){let t=Ee(n),r=t._u.get(e);if(r&&r.tu)return $e().add(r.key);{let i=$e(),s=t.iu.get(e);if(!s)return i;for(let o of s){let a=t.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function SN(n){let e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y9.bind(null,e),e.nu.Q_=u9.bind(null,e.eventManager),e.nu.Tu=d9.bind(null,e.eventManager),e}function T9(n){let e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_9.bind(null,e),e}var CN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return P(this,null,function*(){this.serializer=Rg(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),yield this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)})}mu(t,r){return null}fu(t,r){return null}Vu(t){return q6(this.persistence,new oI,t.initialUser,this.serializer)}Ru(t){return new ig(rI.Ei,this.serializer)}Au(t){return new cI}terminate(){return P(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),MI=class extends CN{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){tt(this.persistence.referenceDelegate instanceof sg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new HE(r,e.asyncQueue,t)}Ru(e){let t=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new ig(r=>sg.Ei(r,t),this.serializer)}};var S9=(()=>{class n{initialize(t,r){return P(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=E9.bind(null,this.syncEngine),yield c9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new II}()}createDatastore(t){let r=Rg(t.databaseInfo.databaseId),i=function(o){return new pI(o)}(t.databaseInfo);return function(o,a,l,c){return new yI(o,a,l,c)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,l){return new _I(i,s,o,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>nP(this.syncEngine,r,0),function(){return ag.C()?new ag:new uI}())}createSyncEngine(t,r){return function(s,o,a,l,c,d,f){let g=new xI(s,o,a,l,c,d);return f&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return P(this,null,function*(){var t,r;yield function(s){return P(this,null,function*(){let o=Ee(s);ae(Pa,"RemoteStore shutting down."),o.aa.add(5),yield Kd(o),o.ca.shutdown(),o.la.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Bd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ao="FirestoreClient",RI=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>P(this,null,function*(){ae(ao,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(ae(ao,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=nT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function nE(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ae(ao,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>P(this,null,function*(){r.isEqual(i)||(yield fN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function iP(n,e){return P(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield C9(n);ae(ao,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Jk(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Jk(e.remoteStore,i)),n._onlineComponents=e})}function C9(n){return P(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(ao,"Using user provided OfflineComponentProvider");try{yield nE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;nc("Error using user provided cache. Falling back to memory cache: "+t),yield nE(n,new CN)}}else ae(ao,"Using default OfflineComponentProvider"),yield nE(n,new MI(void 0));return n._offlineComponents})}function DN(n){return P(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(ao,"Using user provided OnlineComponentProvider"),yield iP(n,n._uninitializedComponentsProvider._online)):(ae(ao,"Using default OnlineComponentProvider"),yield iP(n,new S9))),n._onlineComponents})}function D9(n){return DN(n).then(e=>e.syncEngine)}function mg(n){return P(this,null,function*(){let e=yield DN(n),t=e.eventManager;return t.onListen=f9.bind(null,e.syncEngine),t.onUnlisten=m9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=h9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=g9.bind(null,e.syncEngine),t})}function xN(n,e,t={}){let r=new Wr;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(s,o,a,l,c){let d=new Bd({next:g=>{d.yu(),o.enqueueAndForget(()=>iT(s,f));let m=g.docs.has(a);!m&&g.fromCache?c.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&l&&l.source==="server"?c.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new jd(xg(a.path),d,{includeMetadataChanges:!0,Fa:!0});return rT(s,f)}(yield mg(n),n.asyncQueue,e,t,r)})),r.promise}function x9(n,e,t={}){let r=new Wr;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(s,o,a,l,c){let d=new Bd({next:g=>{d.yu(),o.enqueueAndForget(()=>iT(s,f)),g.fromCache&&l.source==="server"?c.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new jd(a,d,{includeMetadataChanges:!0,Fa:!0});return rT(s,f)}(yield mg(n),n.asyncQueue,e,t,r)})),r.promise}function AN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var sP=new Map;function MN(n,e,t){if(!t)throw new oe(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function A9(n,e,t,r){if(e===!0&&r===!0)throw new oe(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oP(n){if(!we.isDocumentKey(n))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aP(n){if(we.isDocumentKey(n))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ng(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":_e(12329,{type:typeof n})}function Tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Ng(n);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var RN="firestore.googleapis.com",lP=!0,gg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RN,this.ssl=lP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$6)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},hc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rE;switch(r.type){case"firstParty":return new aE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return P(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=sP.get(t);r&&(ae("ComponentProvider","Removing Datastore"),sP.delete(t),r.terminate())}(this),Promise.resolve()}};function kN(n,e,t,r={}){var i;let s=(n=Tn(n,hc))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==RN&&s.host!==a&&nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!vi(l,o)&&(n._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=nn.MOCK_USER;else{c=lm(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new nn(f)}n._authCredentials=new iE(new zm(c,d))}}var lo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},cn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ro=class n extends lo{constructor(e,t,r){super(e,t,xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new we(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Oa(n,e,...t){if(n=rt(n),MN("collection","path",e),n instanceof hc){let r=It.fromString(e,...t);return aP(r),new ro(n,null,r)}{if(!(n instanceof cn||n instanceof ro))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(It.fromString(e,...t));return aP(r),new ro(n.firestore,null,r)}}function ki(n,e,...t){if(n=rt(n),arguments.length===1&&(e=qm.newId()),MN("doc","path",e),n instanceof hc){let r=It.fromString(e,...t);return oP(r),new cn(n,null,new we(r))}{if(!(n instanceof cn||n instanceof ro))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(It.fromString(e,...t));return oP(r),new cn(n.firestore,n instanceof ro?n.converter:null,new we(r))}}var cP="AsyncQueue",vg=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new lg(this,"async_queue_retry"),this.ju=()=>{let r=tE();r&&ae(cP,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let t=tE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let t=tE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let t=new Wr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return P(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!vc(e))throw e;ae(cP,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ps("INTERNAL UNHANDLED ERROR: ",uP(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);let i=bI.createAndSchedule(this,e,t,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&_e(47125,{ec:uP(this.Ku)})}verifyOperationInProgress(){}tc(){return P(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let t=this.Uu.indexOf(e);this.Uu.splice(t,1)}};function uP(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function dP(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var yr=class extends hc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new vg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return P(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new vg(e),this._firestoreClient=void 0,yield e}})}};function lT(n,e){let t=typeof n=="object"?n:ss(),r=typeof n=="string"?n:e||Ym,i=Ys(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=am("firestore");s&&kN(i,...s)}return i}function Qd(n){if(n._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||M9(n),n._firestoreClient}function M9(n){var e,t,r;let i=n._freezeSettings(),s=function(a,l,c,d){return new fE(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AN(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new RI(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var $d=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Sn.fromBase64String(e))}catch(t){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var pc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var zd=class{constructor(e){this._methodName=e}};var Hd=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}};var qd=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var R9=/^__.*__$/,kI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,t,this.fieldTransforms):new ka(e,this.data,t,this.fieldTransforms)}},yg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ri(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function PN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{oc:n})}}var PI=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return _g(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(PN(this.oc)&&R9.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},NI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rg(e)}dc(e,t,r,i=!1){return new PI({oc:e,methodName:t,Ec:r,path:sr.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Og(n){let e=n._freezeSettings(),t=Rg(n._databaseId);return new NI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NN(n,e,t,r,i,s={}){let o=n.dc(s.merge||s.mergeFields?2:0,e,t,i);cT("Data must be an object, but it was:",o,r);let a=ON(r,o),l,c;if(s.merge)l=new vr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let g=OI(e,f,t);if(!o.contains(g))throw new oe(W.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);FN(d,g)||d.push(g)}l=new vr(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new kI(new ir(a),l,c)}var wg=class n extends zd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function k9(n,e,t,r){let i=n.dc(1,e,t);cT("Data must be an object, but it was:",i,r);let s=[],o=ir.empty();co(r,(l,c)=>{let d=uT(e,l,t);c=rt(c);let f=i.hc(d);if(c instanceof wg)s.push(d);else{let g=Xd(c,f);g!=null&&(s.push(d),o.set(d,g))}});let a=new vr(s);return new yg(o,a,i.fieldTransforms)}function P9(n,e,t,r,i,s){let o=n.dc(1,e,t),a=[OI(e,r,t)],l=[i];if(s.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(OI(e,s[g])),l.push(s[g+1]);let c=[],d=ir.empty();for(let g=a.length-1;g>=0;--g)if(!FN(c,a[g])){let m=a[g],h=l[g];h=rt(h);let v=o.hc(m);if(h instanceof wg)c.push(m);else{let w=Xd(h,v);w!=null&&(c.push(m),d.set(m,w))}}let f=new vr(c);return new yg(d,f,o.fieldTransforms)}function N9(n,e,t,r=!1){return Xd(t,n.dc(r?4:3,e))}function Xd(n,e){if(LN(n=rt(n)))return cT("Unsupported field value:",e,n),ON(n,e);if(n instanceof zd)return function(r,i){if(!PN(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let l=Xd(a,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Lt.fromDate(r);return{timestampValue:ng(i.serializer,s)}}if(r instanceof Lt){let s=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ng(i.serializer,s)}}if(r instanceof Hd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $d)return{bytesValue:iN(i.serializer,r._byteString)};if(r instanceof cn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:QI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qd)return function(o,a){return{mapValue:{fields:{[HI]:{stringValue:qI},[ic]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Tc("VectorValues must only contain numeric values.");return YI(a.serializer,c)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Ng(r)}`)}(n,e)}function ON(n,e){let t={};return MP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(n,(r,i)=>{let s=Xd(i,e.uc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function LN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Lt||n instanceof Hd||n instanceof $d||n instanceof cn||n instanceof zd||n instanceof qd)}function cT(n,e,t){if(!LN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Ng(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function OI(n,e,t){if((e=rt(e))instanceof pc)return e._internalPath;if(typeof e=="string")return uT(n,e);throw _g("Field path arguments must be of type string or ",n,!1,void 0,t)}var O9=new RegExp("[~\\*/\\[\\]]");function uT(n,e,t){if(e.search(O9)>=0)throw _g(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pc(...e.split("."))._internalPath}catch{throw _g(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _g(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new oe(W.INVALID_ARGUMENT,a+n+l)}function FN(n,e){return n.some(t=>t.isEqual(e))}var bg=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Lg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},LI=class extends bg{data(){return super.data()}};function Lg(n,e){return typeof e=="string"?uT(n,e):e instanceof pc?e._internalPath:e._delegate._internalPath}function VN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gd=class{},Eg=class extends Gd{};function La(n,e,...t){let r=[];e instanceof Gd&&r.push(e),r=r.concat(t),function(s){let o=s.filter(l=>l instanceof FI).length,a=s.filter(l=>l instanceof Ig).length;if(o>1||o>0&&a>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Ig=class n extends Eg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return UN(e._query,t),new lo(e.firestore,e.converter,SE(e._query,t))}_parse(e){let t=Og(e.firestore);return function(s,o,a,l,c,d,f){let g;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){hP(f,d);let h=[];for(let v of f)h.push(fP(l,s,v));g={arrayValue:{values:h}}}else g=fP(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||hP(f,d),g=N9(a,o,f,d==="in"||d==="not-in");return zt.create(c,d,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function wc(n,e,t){let r=e,i=Lg("where",n);return Ig._create(i,r,t)}var FI=class n extends Gd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Yr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let l of a)UN(o,l),o=SE(o,l)}(e._query,t),new lo(e.firestore,e.converter,SE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var VI=class n extends Eg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,s,o){if(i.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Aa(s,o)}(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new so(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function _c(n,e="asc"){let t=e,r=Lg("orderBy",n);return VI._create(r,t)}function fP(n,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HP(e)&&t.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(It.fromString(t));if(!we.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Rk(n,new we(r))}if(t instanceof cn)return Rk(n,t._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ng(t)}.`)}function hP(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UN(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var UI=class{convertValue(e,t="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return co(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ic].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>yt(o.doubleValue));return new qd(s)}convertGeoPoint(e){return new Hd(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Dg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pd(e));default:return null}}convertTimestamp(e){let t=ms(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=It.fromString(e);tt(uN(r),9688,{name:e});let i=new Qm(r.get(1),r.get(3)),s=new we(r.popFirst(5));return i.isEqual(t)||ps(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function jN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ca=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Tg=class extends bg{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Lg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},tc=class extends Tg{data(e={}){return super.data(e)}},Sg=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ca(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new tc(this._firestore,this._userDataWriter,r.key,r,new Ca(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let l=new tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ca(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ca(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:L9(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function L9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:n})}}function BN(n){n=Tn(n,cn);let e=Tn(n.firestore,yr);return xN(Qd(e),n._key).then(t=>hT(e,n,t))}var Wd=class extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new $d(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}};function dT(n){n=Tn(n,cn);let e=Tn(n.firestore,yr);return xN(Qd(e),n._key,{source:"server"}).then(t=>hT(e,n,t))}function fT(n){n=Tn(n,lo);let e=Tn(n.firestore,yr),t=Qd(e),r=new Wd(e);return VN(n._query),x9(t,n._query).then(i=>new Sg(e,r,n,i))}function Fg(n,e,t){n=Tn(n,cn);let r=Tn(n.firestore,yr),i=jN(n.converter,e,t);return Ug(r,[NN(Og(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,xi.none())])}function bc(n,e,t,...r){n=Tn(n,cn);let i=Tn(n.firestore,yr),s=Og(i),o;return o=typeof(e=rt(e))=="string"||e instanceof pc?P9(s,"updateDoc",n._key,e,t,r):k9(s,"updateDoc",n._key,e),Ug(i,[o.toMutation(n._key,xi.exists(!0))])}function Vg(n){return Ug(Tn(n.firestore,yr),[new Od(n._key,xi.none())])}function Zd(n,e){let t=Tn(n.firestore,yr),r=ki(n),i=jN(n.converter,e);return Ug(t,[NN(Og(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,xi.exists(!1))]).then(()=>r)}function Jd(n,...e){var t,r,i;n=rt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||dP(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(dP(e[o])){let f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(n instanceof cn)c=Tn(n.firestore,yr),d=xg(n._key.path),l={next:f=>{e[o]&&e[o](hT(c,n,f))},error:e[o+1],complete:e[o+2]};else{let f=Tn(n,lo);c=Tn(f.firestore,yr),d=f._query;let g=new Wd(c);l={next:m=>{e[o]&&e[o](new Sg(c,g,f,m))},error:e[o+1],complete:e[o+2]},VN(n._query)}return function(g,m,h,v){let w=new Bd(v),x=new jd(m,w,h);return g.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return rT(yield mg(g),x)})),()=>{w.yu(),g.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return iT(yield mg(g),x)}))}}(Qd(c),d,a,l)}function Ug(n,e){return function(r,i){let s=new Wr;return r.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return v9(yield D9(r),i,s)})),s.promise}(Qd(n),e)}function hT(n,e,t){let r=t.docs.get(e._key),i=new Wd(n);return new Tg(n,i,e._key,r,new Ca(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){mc=i})(_i),rr(new ln("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new yr(new sE(r.getProvider("auth-internal")),new lE(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qm(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ut(bk,Ek,e),ut(bk,Ek,"esm2017")})();var jg=function(){return jg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},jg.apply(this,arguments)};var U9={includeMetadataChanges:!1};function $N(n,e){return e===void 0&&(e=U9),new ke(function(t){var r=Jd(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function zN(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:jg(jg({},r),(t={},t[e.idField]=n.id,t))}function HN(n){return $N(n,{includeMetadataChanges:!0}).pipe(ve(function(e){return e.docs}))}function qN(n,e){return e===void 0&&(e={}),HN(n).pipe(ve(function(t){return t.map(function(r){return zN(r,e)})}))}var Qr=class{constructor(e){return e}},GN="firestore",pT=class{constructor(){return Qs(GN)}};var mT=new le("angularfire2.firestore-instances");function j9(n,e){let t=wa(GN,n,e);return t&&new Qr(t)}function B9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Qr(r)}}var $9={provide:pT,deps:[[new Zt,mT]]},z9={provide:Qr,useFactory:j9,deps:[[new Zt,mT],qr]};function WN(n,...e){return ut("angularfire",bi.full,"fst"),Lr([z9,$9,{provide:mT,useFactory:B9(n),multi:!0,deps:[We,vt,Ei,os,[new Zt,Ia],[new Zt,Zs],...e]}])}var Fa=gt(qN,!0);var KN=gt(Zd,!0,2);var Va=gt(Oa,!0,2);var Bg=gt(Vg,!0,2);var or=gt(ki,!0,2);var Ua=gt(BN,!0);var gT=gt(_c,!0,2),ef=gt(La,!0,2);var YN=gt(Fg,!0,2);var Pi=gt(bc,!0,2);var vT=gt(wc,!0,2);var wr=class n{constructor(e){this.firestore=e}CreateDocument(e,t){return P(this,null,function*(){let r=ki(this.firestore,e);yield Fg(r,t)})}addDocument(e,t){return P(this,null,function*(){let r=Oa(this.firestore,e);return(yield Zd(r,t)).id})}getDocument(e){return P(this,null,function*(){let t=ki(this.firestore,e),r=yield dT(t);return r.exists()?r.data():null})}updateDocument(e,t){return P(this,null,function*(){let r=ki(this.firestore,e);yield bc(r,t)})}deleteDocument(e){return P(this,null,function*(){let t=ki(this.firestore,e);yield Vg(t)})}getCollection(e,t){let r=Oa(this.firestore,e),i=t?t(r):La(r);return new ke(s=>{let o=Jd(i,a=>{let l=a.docs.map(c=>ce(G({},c.data()),{id:c.id}));s.next(l)},a=>{s.error(a)});return()=>o()})}getCommentsByLinkId(e){return P(this,null,function*(){let t=La(Oa(this.firestore,"messages"),wc("linkId","==",e),_c("createdAt","desc"));return(yield fT(t)).docs.map(i=>ce(G({},i.data()),{id:i.id}))})}markCommentAsRead(e){return P(this,null,function*(){let t=ki(this.firestore,`messages/${e}`);yield bc(t,{read:!0,updatedAt:new Date})})}editComment(e,t){return P(this,null,function*(){let r=ki(this.firestore,`messages/${e}`);yield bc(r,{text:t,isEdited:!0,editedAt:new Date})})}replyToComment(e,t){return P(this,null,function*(){let r=Oa(this.firestore,"messages");return(yield Zd(r,ce(G({},t),{parentId:e,createdAt:new Date,likes:0,likedBy:[],read:!1}))).id})}static \u0275fac=function(t){return new(t||n)(ye(Qr))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var nt=class n{fireStoreService=F(wr);userSubject=new Rt(null);user$=this.userSubject.asObservable();isLoggedIn$=this.user$.pipe(ve(e=>!!e));auth=F(ds);currentUserSignal=Zn(void 0);constructor(){let e=this.auth.currentUser;e&&(this.userSubject.next(e),this.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,createdAt:new Date})),pk(this.auth,t=>{this.userSubject.next(t),t?this.currentUserSignal.set({id:t.uid,email:t.email,userName:t.displayName,createdAt:new Date}):this.currentUserSignal.set(null)})}getCurrentUser(){return this.userSubject.value}register(e,t,r){return Se(hk(this.auth,e,r).then(i=>P(this,null,function*(){return yield yk(i.user,{displayName:t}),i}))).pipe(Pt(i=>{throw i}))}login(e,t){return Se(gk(this.auth,e,t)).pipe(Pt(r=>{throw r}))}logOut(){return Se(vk(this.auth)).pipe(Pt(e=>{throw e}))}sendPasswordResetEmail(e){return Se(mk(this.auth,e)).pipe(Pt(t=>{throw t}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var ws=()=>{let n=F(nt),e=F(Ve);return n.isLoggedIn$.pipe(ve(t=>t?!0:(e.navigate(["/login"]),!1)))};var $g=()=>{let n=F(nt),e=F(Ve);return n.isLoggedIn$.pipe(ve(t=>t?(e.navigate(["/home"]),!1):!0))};function q9(n,e){n&1&&(T(0,"section",4)(1,"a",8),N(2,"Se connecter"),A(),T(3,"a",9),N(4,"S'enregister"),A()())}function G9(n,e){if(n&1){let t=xe();T(0,"section",5)(1,"a",10),ne("click",function(){he(t);let i=Z();return pe(i.logOut())}),N(2,"Se Deconnecter"),A()()}}var zg=class n{authService=F(nt);router=F(Ve);currentYear=new Date().getFullYear();ngOnInit(){this.authService.isLoggedIn$.subscribe(e=>{e&&this.router.navigate(["/home"])}),this.authService.user$.subscribe(e=>{e?this.authService.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,createdAt:new Date}):this.authService.currentUserSignal.set(null)})}logOut(){this.authService.logOut().subscribe(()=>{this.router.navigate(["/login-choice"])})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-login-choice"]],decls:14,vars:3,consts:[[1,"flex","flex-col","justify-around","items-center","h-screen","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-2xl"],[1,"text-8xl","font-bold"],[1,"font-primary","flex","flex-col","items-center","gap-5"],[1,"font-primary","text-2xl","transition-colors","hover:opacity-50"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],["routerLink","/login","routerLinkActive","active",1,"text-2xl","hover:bg-deep-green","px-4","py-1.5","rounded-xl","cursor-pointer"],["routerLink","/register","routerLinkActive","active",1,"text-2xl","hover:bg-deep-green","px-4","py-1.5","rounded-xl","cursor-pointer"],[1,"cursor-pointer",3,"click"]],template:function(t,r){t&1&&(T(0,"nav",0)(1,"section",1)(2,"p",2),N(3,"The Last of"),A(),T(4,"h1",3),N(5,"Coders"),A()(),se(6,q9,5,0,"section",4)(7,G9,3,0,"section",5),T(8,"section",6)(9,"p"),N(10),T(11,"span",7),N(12,"The Last Coders."),A(),N(13," Tous droits r\xE9serv\xE9s."),A()()()),t&2&&(L(6),Dt(r.authService.currentUserSignal()===null?6:-1),L(),Dt(r.authService.currentUserSignal()?7:-1),L(3),Oe("\xA9 ",r.currentYear," "))},dependencies:[Yt,bn,C0],encapsulation:2})};var sO=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(me(ur),me(yn))};static \u0275dir=bt({type:n})}return n})(),Jg=(()=>{class n extends sO{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Zo(n)))(i||n)}})();static \u0275dir=bt({type:n,features:[Ur]})}return n})(),of=new le("");var W9={provide:of,useExisting:Yi(()=>_r),multi:!0};function K9(){let n=pr()?pr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Y9=new le(""),_r=(()=>{class n extends sO{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!K9())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(me(ur),me(yn),me(Y9,8))};static \u0275dir=bt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ne("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[sa([W9]),Ur]})}return n})();function IT(n){return n==null||TT(n)===0}function TT(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var oO=new le(""),aO=new le(""),Q9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dt=class{static min(e){return X9(e)}static max(e){return Z9(e)}static required(e){return J9(e)}static requiredTrue(e){return eW(e)}static email(e){return tW(e)}static minLength(e){return nW(e)}static maxLength(e){return rW(e)}static pattern(e){return iW(e)}static nullValidator(e){return lO()}static compose(e){return pO(e)}static composeAsync(e){return gO(e)}};function X9(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Z9(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function J9(n){return IT(n.value)?{required:!0}:null}function eW(n){return n.value===!0?null:{required:!0}}function tW(n){return IT(n.value)||Q9.test(n.value)?null:{email:!0}}function nW(n){return e=>{let t=e.value?.length??TT(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function rW(n){return e=>{let t=e.value?.length??TT(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function iW(n){if(!n)return lO;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(IT(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function lO(n){return null}function cO(n){return n!=null}function uO(n){return js(n)?Se(n):n}function dO(n){let e={};return n.forEach(t=>{e=t!=null?G(G({},e),t):e}),Object.keys(e).length===0?null:e}function fO(n,e){return e.map(t=>t(n))}function sW(n){return!n.validate}function hO(n){return n.map(e=>sW(e)?e:t=>e.validate(t))}function pO(n){if(!n)return null;let e=n.filter(cO);return e.length==0?null:function(t){return dO(fO(t,e))}}function mO(n){return n!=null?pO(hO(n)):null}function gO(n){if(!n)return null;let e=n.filter(cO);return e.length==0?null:function(t){let r=fO(t,e).map(uO);return hy(r).pipe(ve(dO))}}function vO(n){return n!=null?gO(hO(n)):null}function QN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yO(n){return n._rawValidators}function wO(n){return n._rawAsyncValidators}function yT(n){return n?Array.isArray(n)?n:[n]:[]}function Gg(n,e){return Array.isArray(n)?n.includes(e):n===e}function XN(n,e){let t=yT(e);return yT(n).forEach(i=>{Gg(t,i)||t.push(i)}),t}function ZN(n,e){return yT(e).filter(t=>!Gg(n,t))}var Wg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Tc=class extends Wg{name;get formDirective(){return null}get path(){return null}},Sc=class extends Wg{_parent=null;name=null;valueAccessor=null},Kg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},oW={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mue=ce(G({},oW),{"[class.ng-submitted]":"isSubmitted"}),Ni=(()=>{class n extends Kg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(me(Sc,2))};static \u0275dir=bt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ur]})}return n})(),Oi=(()=>{class n extends Kg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(me(Tc,10))};static \u0275dir=bt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ur]})}return n})();var tf="VALID",Hg="INVALID",Ec="PENDING",nf="DISABLED",uo=class{},Yg=class extends uo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},rf=class extends uo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},sf=class extends uo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ic=class extends uo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},wT=class extends uo{source;constructor(e){super(),this.source=e}},_T=class extends uo{source;constructor(e){super(),this.source=e}};function ST(n){return(ev(n)?n.validators:n)||null}function aW(n){return Array.isArray(n)?mO(n):n||null}function CT(n,e){return(ev(e)?e.asyncValidators:n)||null}function lW(n){return Array.isArray(n)?vO(n):n||null}function ev(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function _O(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ue(1e3,"");if(!r[t])throw new ue(1001,"")}function bO(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ue(1002,"")})}var Cc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return hr(this.statusReactive)}set status(e){hr(()=>this.statusReactive.set(e))}_status=Ml(()=>this.statusReactive());statusReactive=Zn(void 0);get valid(){return this.status===tf}get invalid(){return this.status===Hg}get pending(){return this.status==Ec}get disabled(){return this.status===nf}get enabled(){return this.status!==nf}errors;get pristine(){return hr(this.pristineReactive)}set pristine(e){hr(()=>this.pristineReactive.set(e))}_pristine=Ml(()=>this.pristineReactive());pristineReactive=Zn(!0);get dirty(){return!this.pristine}get touched(){return hr(this.touchedReactive)}set touched(e){hr(()=>this.touchedReactive.set(e))}_touched=Ml(()=>this.touchedReactive());touchedReactive=Zn(!1);get untouched(){return!this.touched}_events=new Mt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(XN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZN(e,this._rawAsyncValidators))}hasValidator(e){return Gg(this._rawValidators,e)}hasAsyncValidator(e){return Gg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(G({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new sf(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new sf(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(G({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new rf(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new rf(!0,r))}markAsPending(e={}){this.status=Ec;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ic(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(G({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=nf,this.errors=null,this._forEachChild(i=>{i.disable(ce(G({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yg(this.value,r)),this._events.next(new Ic(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(G({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=tf,this._forEachChild(r=>{r.enable(ce(G({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(G({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tf||this.status===Ec)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yg(this.value,t)),this._events.next(new Ic(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(G({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nf:tf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ec,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=uO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ic(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?nf:this.errors?Hg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ec)?Ec:this._anyControlsHaveStatus(Hg)?Hg:tf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new rf(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new sf(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ev(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=aW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=lW(this._rawAsyncValidators)}},Qg=class extends Cc{constructor(e,t,r){super(ST(t),CT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){bO(this,!0,e),Object.keys(e).forEach(r=>{_O(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var bT=class extends Qg{};var tv=new le("",{providedIn:"root",factory:()=>af}),af="always";function cW(n,e){return[...e.path,n]}function JN(n,e,t=af){DT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),dW(n,e),hW(n,e),fW(n,e),uW(n,e)}function eO(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Zg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function uW(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function DT(n,e){let t=yO(n);e.validator!==null?n.setValidators(QN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=wO(n);e.asyncValidator!==null?n.setAsyncValidators(QN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Xg(e._rawValidators,i),Xg(e._rawAsyncValidators,i)}function Zg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=yO(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=wO(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Xg(e._rawValidators,r),Xg(e._rawAsyncValidators,r),t}function dW(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&EO(n,e)})}function fW(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&EO(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function EO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hW(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function pW(n,e){n==null,DT(n,e)}function mW(n,e){return Zg(n,e)}function gW(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function vW(n){return Object.getPrototypeOf(n.constructor)===Jg}function yW(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function wW(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===_r?t=s:vW(s)?r=s:i=s}),i||r||t||null}function _W(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function tO(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function nO(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var qg=class extends Cc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(ST(t),CT(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ev(t)&&(t.nonNullable||t.initialValueIsDefault)&&(nO(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){nO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var bW=n=>n instanceof qg;var Li=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=bt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var EW={provide:of,useExisting:Yi(()=>xT),multi:!0};var IW=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xT=(()=>{class n extends Jg{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=F(tv,{optional:!0})??af;constructor(t,r,i,s){super(t,r),this._registry=i,this._injector=s}ngOnInit(){this._control=this._injector.get(Sc),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(me(ur),me(yn),me(IW),me(vt))};static \u0275dir=bt({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&ne("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[sa([EW]),Ur]})}return n})();var IO=new le("");var TW={provide:Tc,useExisting:Yi(()=>Xr)},Xr=(()=>{class n extends Tc{callSetDisabledState;get submitted(){return hr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ml(()=>this._submittedReactive());_submittedReactive=Zn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ze;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return JN(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){eO(t.control||null,t,!1),_W(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),yW(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new wT(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new _T(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(eO(r||null,t),bW(i)&&(JN(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);pW(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&mW(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DT(this.form,this),this._oldForm&&Zg(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(me(oO,10),me(aO,10),me(tv,8))};static \u0275dir=bt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ne("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[sa([TW]),Ur,Vr]})}return n})();var SW={provide:Sc,useExisting:Yi(()=>Zr)},Zr=(()=>{class n extends Sc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wW(this,s)}ngOnChanges(t){this._added||this._setUpControl(),gW(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return cW(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(me(Tc,13),me(oO,10),me(aO,10),me(of,10),me(IO,8))};static \u0275dir=bt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[sa([SW]),Ur,Vr]})}return n})();var CW={provide:of,useExisting:Yi(()=>nv),multi:!0};function TO(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function DW(n){return n.split(":")[0]}var nv=(()=>{class n extends Jg{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=TO(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=DW(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Zo(n)))(i||n)}})();static \u0275dir=bt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ne("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[sa([CW]),Ur]})}return n})(),SO=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(TO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(me(yn),me(ur),me(nv,9))};static \u0275dir=bt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),xW={provide:of,useExisting:Yi(()=>CO),multi:!0};function rO(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function AW(n){return n.split(":")[0]}var CO=(()=>{class n extends Jg{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);i.push(c)}}else{let o=r.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=AW(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Zo(n)))(i||n)}})();static \u0275dir=bt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ne("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[sa([xW]),Ur]})}return n})(),DO=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(rO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(rO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(me(yn),me(ur),me(CO,9))};static \u0275dir=bt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var xO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=di({type:n});static \u0275inj=ci({})}return n})(),ET=class extends Cc{constructor(e,t,r){super(ST(t),CT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){bO(this,!1,e),e.forEach((r,i)=>{_O(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function iO(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var br=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return iO(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Qg(i,s)}record(t,r=null){let i=this._reduceControls(t);return new bT(i,r)}control(t,r,i){let s={};return this.useNonNullable?(iO(r)?s=r:(s.validators=r,s.asyncValidators=i),new qg(t,ce(G({},s),{nonNullable:!0}))):new qg(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new ET(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof qg)return t;if(t instanceof Cc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:tv,useValue:t.callSetDisabledState??af}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=di({type:n});static \u0275inj=ci({imports:[xO]})}return n})(),Er=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:IO,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:tv,useValue:t.callSetDisabledState??af}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=di({type:n});static \u0275inj=ci({imports:[xO]})}return n})();function MW(n,e){if(n&1&&(T(0,"div",19),N(1),A()),n&2){let t=Z();L(),Oe(" ",t.errorMessage," ")}}function RW(n,e){n&1&&(T(0,"p"),N(1,"L'email est requis"),A())}function kW(n,e){n&1&&(T(0,"p"),N(1,"L'email n'est pas valide"),A())}function PW(n,e){if(n&1&&(T(0,"div",20),se(1,RW,2,0,"p",21)(2,kW,2,0,"p",21),A()),n&2){let t,r,i=Z();L(),q("ngIf",(t=i.loginForm.get("email"))==null||t.errors==null?null:t.errors.required),L(),q("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function NW(n,e){n&1&&(T(0,"p"),N(1,"Le mot de passe est requis"),A())}function OW(n,e){if(n&1&&(T(0,"div",20),se(1,NW,2,0,"p",21),A()),n&2){let t,r=Z();L(),q("ngIf",(t=r.loginForm.get("password"))==null||t.errors==null?null:t.errors.required)}}var rv=class n{fb=F(br);authService=F(nt);router=F(Ve);loginForm;errorMessage="";currentYear=new Date().getFullYear();constructor(){this.loginForm=this.fb.group({email:["",[dt.required,dt.email]],password:["",[dt.required,dt.minLength(6)]]})}onSubmit(){if(this.loginForm.valid){let{email:e,password:t}=this.loginForm.value;this.errorMessage="",this.authService.login(e,t).subscribe({next:()=>{console.log("Connexion r\xE9ussie"),this.router.navigate(["/home"])},error:r=>{switch(console.error("Erreur lors de la connexion:",r),r.code){case"auth/invalid-email":this.errorMessage="L'adresse email n'est pas valide.";break;case"auth/user-disabled":this.errorMessage="Ce compte a \xE9t\xE9 d\xE9sactiv\xE9.";break;case"auth/user-not-found":this.errorMessage="Aucun compte n'existe avec cet email.";break;case"auth/wrong-password":this.errorMessage="Le mot de passe est incorrect.";break;case"auth/invalid-credential":this.errorMessage="Email ou mot de passe incorrect.";break;default:this.errorMessage="Une erreur est survenue lors de la connexion. Veuillez r\xE9essayer."}}})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-login"]],decls:35,vars:6,consts:[[1,"min-h-screen"],[1,"max-w-2xl","mx-auto","flex","flex-col","items-center","justify-around","h-screen","px-4","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-xl"],[1,"text-5xl","font-bold"],["class","font-primary text-red-500 text-center bg-red-100 p-3 rounded-lg mb-4",4,"ngIf"],[1,"flex","flex-col","gap-5","w-full","max-w-md",3,"ngSubmit","formGroup"],[1,"flex","font-primary"],[1,"w-full","max-w-md"],["type","email","formControlName","email","placeholder","Email",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["class","text-apple-green text-xs mt-1",4,"ngIf"],["type","password","formControlName","password","placeholder","Mot de passe",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],[1,"font-primary","text-sm","text-gray-500","hover:text-apple-green","cursor-pointer"],["type","submit",1,"text-2xl","bg-deep-green","transition-colors","hover:bg-apple-green","px-4","py-1.5","rounded-xl","cursor-pointer","font-primary","btn","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","gap-2","font-secondary","mt-12"],[1,"text-sm"],["routerLink","/register",1,"text-sm","text-apple-green","hover:text-deep-green"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],[1,"font-primary","text-red-500","text-center","bg-red-100","p-3","rounded-lg","mb-4"],[1,"text-apple-green","text-xs","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1&&(T(0,"section",0)(1,"div",1)(2,"section",2)(3,"p",3),N(4,"The Last of"),A(),T(5,"h1",4),N(6,"Coders"),A()(),T(7,"section"),se(8,MW,2,1,"div",5),T(9,"form",6),ne("ngSubmit",function(){return r.onSubmit()}),T(10,"div",7)(11,"p",3),N(12,"Se connecter"),A()(),T(13,"div",8),fe(14,"input",9),se(15,PW,3,2,"div",10),A(),T(16,"div",8),fe(17,"input",11),se(18,OW,2,1,"div",10),A(),T(19,"div",12)(20,"p"),N(21,"Mot de passe oubli\xE9 ?"),A()(),T(22,"button",13),N(23," Se connecter "),A(),T(24,"div",14)(25,"p",15),N(26,"Pas encore de compte ?"),A(),T(27,"a",16),N(28,"S'enregistrer"),A()()()(),T(29,"section",17)(30,"p"),N(31),T(32,"span",18),N(33,"The Last Coders."),A(),N(34," Tous droits r\xE9serv\xE9s."),A()()()()),t&2){let i,s;L(8),q("ngIf",r.errorMessage),L(),q("formGroup",r.loginForm),L(6),q("ngIf",((i=r.loginForm.get("email"))==null?null:i.touched)&&((i=r.loginForm.get("email"))==null?null:i.errors)),L(3),q("ngIf",((s=r.loginForm.get("password"))==null?null:s.touched)&&((s=r.loginForm.get("password"))==null?null:s.errors)),L(4),q("disabled",!r.loginForm.valid),L(9),Oe("\xA9 ",r.currentYear," ")}},dependencies:[Er,Li,_r,Ni,Oi,Xr,Zr,Yt,bn,et,Et],encapsulation:2})};function LW(n,e){if(n&1&&(T(0,"div",19),N(1),A()),n&2){let t=Z();L(),Oe(" ",t.errorMessage," ")}}function FW(n,e){n&1&&(T(0,"p"),N(1,"Le nom d'utilisateur est requis "),A())}function VW(n,e){n&1&&(T(0,"p"),N(1,"Le nom d'utilisateur doit contenir au moins 7 caract\xE8res"),A())}function UW(n,e){if(n&1&&(T(0,"div",20),se(1,FW,2,0,"p",21)(2,VW,2,0,"p",21),A()),n&2){let t,r,i=Z();L(),q("ngIf",(t=i.registerForm.get("userName"))==null||t.errors==null?null:t.errors.required),L(),q("ngIf",(r=i.registerForm.get("userName"))==null||r.errors==null?null:r.errors.minlength)}}function jW(n,e){n&1&&(T(0,"p"),N(1,"L'email est requis"),A())}function BW(n,e){n&1&&(T(0,"p"),N(1,"L'email n'est pas valide"),A())}function $W(n,e){if(n&1&&(T(0,"div",20),se(1,jW,2,0,"p",21)(2,BW,2,0,"p",21),A()),n&2){let t,r,i=Z();L(),q("ngIf",(t=i.registerForm.get("email"))==null||t.errors==null?null:t.errors.required),L(),q("ngIf",(r=i.registerForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function zW(n,e){n&1&&(T(0,"p"),N(1,"Le mot de passe est requis"),A())}function HW(n,e){n&1&&(T(0,"p"),N(1,"Le mot de passe doit contenir au moins 6 caract\xE8res"),A())}function qW(n,e){if(n&1&&(T(0,"div",20),se(1,zW,2,0,"p",21)(2,HW,2,0,"p",21),A()),n&2){let t,r,i=Z();L(),q("ngIf",(t=i.registerForm.get("password"))==null||t.errors==null?null:t.errors.required),L(),q("ngIf",(r=i.registerForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}var iv=class n{authService=F(nt);firestoreService=F(wr);fb=F(br);router=F(Ve);registerForm;errorMessage="";currentYear=new Date().getFullYear();constructor(){this.registerForm=this.fb.group({userName:["",[dt.required,dt.minLength(7)]],email:["",[dt.required,dt.email]],password:["",[dt.required,dt.minLength(6)]]})}ngOnInit(){this.authService.user$.subscribe(e=>{e?this.authService.currentUserSignal.set({id:e.uid,email:e.email,userName:e.displayName,role:"reader",createdAt:new Date}):this.authService.currentUserSignal.set(null)})}onSubmit(){if(this.registerForm.valid){let e=this.registerForm.get("email")?.value,t=this.registerForm.get("userName")?.value,r=this.registerForm.get("password")?.value;this.authService.register(e,t,r).subscribe({next:i=>P(this,null,function*(){try{if(yield new Promise(a=>setTimeout(a,1e3)),!this.authService.getCurrentUser())throw new Error("User not authenticated after registration");let o={id:i.user.uid,email:i.user.email,userName:t,createdAt:new Date,role:"reader",skills:[],socialLinks:{github:"",linkedin:"",twitter:""}};this.authService.currentUserSignal.set(o),yield this.firestoreService.CreateDocument(`users/${i.user.uid}`,o),this.router.navigate(["/skills"])}catch{this.authService.currentUserSignal.set(null),this.authService.logOut().subscribe()}}),error:i=>{alert(i.message||"Registration failed. Please try again.")}})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-register"]],decls:35,vars:7,consts:[[1,"min-h-screen"],[1,"max-w-2xl","mx-auto","flex","flex-col","items-center","justify-around","h-screen","px-4","text-soft-white","motion-preset-fade","motion-duration-1000"],[1,"font-primary","flex","flex-col","items-center"],[1,"text-xl"],[1,"text-5xl","font-bold"],["class","font-primary text-red-500 text-center bg-red-100 p-3 rounded-lg mb-4",4,"ngIf"],[1,"flex","flex-col","gap-5","w-full","max-w-md",3,"ngSubmit","formGroup"],[1,"flex","font-primary"],[1,"w-full","max-w-md"],["type","text","formControlName","userName","placeholder","Nom d'utilisateur",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["class","text-apple-green text-xs mt-1",4,"ngIf"],["type","email","formControlName","email","placeholder","Email",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["type","password","formControlName","password","placeholder","Mot de passe",1,"input","w-full","border-b-white","border-b-2","opacity-50","focus:outline-none","focus:border-apple-green"],["type","submit",1,"text-2xl","bg-deep-green","transition-colors","hover:bg-apple-green","px-4","py-1.5","rounded-xl","cursor-pointer","font-primary","btn","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","gap-2","font-secondary","mt-12"],[1,"text-sm"],["routerLink","/login",1,"text-sm","text-apple-green","hover:text-deep-green"],[1,"text-center","text-xs","text-gray-500","font-primary"],[1,"text-apple-green"],[1,"font-primary","text-red-500","text-center","bg-red-100","p-3","rounded-lg","mb-4"],[1,"text-apple-green","text-xs","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1&&(T(0,"section",0)(1,"div",1)(2,"section",2)(3,"p",3),N(4,"The Last of"),A(),T(5,"h1",4),N(6,"Coders"),A()(),T(7,"section"),se(8,LW,2,1,"div",5),T(9,"form",6),ne("ngSubmit",function(){return r.onSubmit()}),T(10,"div",7)(11,"p",3),N(12,"S'enregistrer"),A()(),T(13,"div",8),fe(14,"input",9),se(15,UW,3,2,"div",10),A(),T(16,"div",8),fe(17,"input",11),se(18,$W,3,2,"div",10),A(),T(19,"div",8),fe(20,"input",12),se(21,qW,3,2,"div",10),A(),T(22,"button",13),N(23," S'enregistrer "),A(),T(24,"div",14)(25,"p",15),N(26,"D\xE9j\xE0 un compte ?"),A(),T(27,"a",16),N(28,"Se connecter"),A()()()(),T(29,"section",17)(30,"p"),N(31),T(32,"span",18),N(33,"The Last Coders."),A(),N(34," Tous droits r\xE9serv\xE9s."),A()()()()),t&2){let i,s,o;L(8),q("ngIf",r.errorMessage),L(),q("formGroup",r.registerForm),L(6),q("ngIf",((i=r.registerForm.get("userName"))==null?null:i.touched)&&((i=r.registerForm.get("userName"))==null?null:i.errors)),L(3),q("ngIf",((s=r.registerForm.get("email"))==null?null:s.touched)&&((s=r.registerForm.get("email"))==null?null:s.errors)),L(3),q("ngIf",((o=r.registerForm.get("password"))==null?null:o.touched)&&((o=r.registerForm.get("password"))==null?null:o.errors)),L(),q("disabled",!r.registerForm.valid),L(9),Oe("\xA9 ",r.currentYear," ")}},dependencies:[Er,Li,_r,Ni,Oi,Xr,Zr,Yt,bn,et,Et],encapsulation:2})};var sv=class n{questions=[{id:"1",question:"Avez-vous d\xE9j\xE0 une exp\xE9rience en programmation ?",options:[{value:"beginner",label:"Oui, je suis d\xE9butant"},{value:"intermediate",label:"Oui, niveau interm\xE9diaire"},{value:"advanced",label:"Oui, niveau avanc\xE9"},{value:"new",label:"Non, c'est tout nouveau pour moi"}]},{id:"2",question:"Quel domaine du d\xE9veloppement vous int\xE9resse le plus ?",options:[{value:"frontend",label:"D\xE9veloppement web frontend"},{value:"backend",label:"D\xE9veloppement web backend"},{value:"fullstack",label:"D\xE9veloppement fullstack"},{value:"mobile",label:"D\xE9veloppement mobile"},{value:"datascience",label:"Data Science / Intelligence Artificielle"},{value:"gamedev",label:"Jeux vid\xE9o"},{value:"other",label:"Autre"}]},{id:"3",question:"Quels langages de programmation connaissez-vous ou souhaitez-vous apprendre ?",options:[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"csharp",label:"C#"},{value:"php",label:"PHP"},{value:"ruby",label:"Ruby"},{value:"typescript",label:"TypeScript"},{value:"swiftkotlin",label:"Swift/Kotlin"},{value:"go",label:"Go"},{value:"rust",label:"Rust"},{value:"other",label:"Autre"}]},{id:"4",question:"Quelle est votre m\xE9thode d'apprentissage pr\xE9f\xE9r\xE9e ?",options:[{value:"video",label:"Tutoriels vid\xE9o"},{value:"docs",label:"Documentation \xE9crite"},{value:"projects",label:"Projets pratiques"},{value:"online_courses",label:"Cours en ligne"},{value:"books",label:"Livres techniques"},{value:"forums",label:"Forums et communaut\xE9s"}]},{id:"5",question:"Quel est votre objectif principal en apprenant le d\xE9veloppement ?",options:[{value:"career_change",label:"Changer de carri\xE8re"},{value:"personal_project",label:"D\xE9velopper un projet personnel"},{value:"skill_improvement",label:"Am\xE9liorer mes comp\xE9tences professionnelles"},{value:"curiosity",label:"Simple curiosit\xE9/int\xE9r\xEAt"},{value:"studies",label:"Compl\xE9ter mes \xE9tudes"},{value:"startup",label:"Cr\xE9er une startup/entreprise"}]},{id:"6",question:"Combien de temps pouvez-vous consacrer \xE0 l'apprentissage chaque semaine ?",options:[{value:"lt5",label:"Moins de 5 heures"},{value:"5to10",label:"5-10 heures"},{value:"10to20",label:"10-20 heures"},{value:"gt20",label:"Plus de 20 heures"}]},{id:"7",question:"Quels types de ressources recherchez-vous principalement ?",options:[{value:"beginner_tutorials",label:"Tutoriels pour d\xE9butants"},{value:"tech_docs",label:"Documentation technique"},{value:"guided_projects",label:"Projets pratiques guid\xE9s"},{value:"challenges",label:"D\xE9fis et exercices"},{value:"advanced_resources",label:"Ressources avanc\xE9es"},{value:"tools",label:"Outils et biblioth\xE8ques"}]},{id:"8",question:"Pr\xE9f\xE9rez-vous des ressources gratuites ou \xEAtes-vous pr\xEAt \xE0 investir dans des formations payantes ?",options:[{value:"free_only",label:"Uniquement des ressources gratuites"},{value:"mostly_free",label:"Principalement gratuites, occasionnellement payantes"},{value:"willing_to_pay",label:"Je suis pr\xEAt \xE0 payer pour des ressources de qualit\xE9"},{value:"subscriptions",label:"Je pr\xE9f\xE8re les abonnements mensuels"}]},{id:"9",question:"Quels sujets sp\xE9cifiques souhaitez-vous explorer davantage ?",options:[{value:"js_frameworks",label:"Frameworks JavaScript (React, Vue, Angular)"},{value:"backend_frameworks",label:"Frameworks backend (Node.js, Django, Rails)"},{value:"mobile_dev",label:"D\xE9veloppement mobile (React Native, Flutter)"},{value:"databases",label:"Bases de donn\xE9es (SQL, NoSQL)"},{value:"devops",label:"DevOps et d\xE9ploiement"},{value:"security",label:"S\xE9curit\xE9 web"},{value:"uiux",label:"Design UI/UX"},{value:"ai_ml",label:"Intelligence artificielle/Machine Learning"},{value:"blockchain",label:"Blockchain/Web3"}]},{id:"10",question:"Comment avez-vous d\xE9couvert notre plateforme ?",options:[{value:"search_engine",label:"Moteur de recherche"},{value:"friend",label:"Recommandation d'un ami"},{value:"social_media",label:"R\xE9seaux sociaux"},{value:"dev_forum",label:"Forum de d\xE9veloppeurs"},{value:"youtube",label:"YouTube"},{value:"blog",label:"Article ou blog"},{value:"other",label:"Autre"}]}];constructor(){}getQuestions(){return this.questions}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var GW=(n,e)=>e.value;function WW(n,e){if(n&1&&(T(0,"div",13)(1,"span",14),N(2),A()()),n&2){let t=Z();L(2),He(t.errorMessage)}}function KW(n,e){if(n&1){let t=xe();T(0,"div",5)(1,"input",15),ne("change",function(){let i=he(t).$implicit,s=Z();return pe(s.onSelect(s.currentQuestion.id,i.value))}),A(),T(2,"label",16),N(3),A()()}if(n&2){let t=e.$implicit,r=Z();L(),q("type",r.currentQuestion.id==="1"?"radio":"checkbox")("name",r.currentQuestion.id==="1"?"experience":"")("id",t.value)("checked",r.isSelected(r.currentQuestion.id,t.value)),L(),Je("bg-deep-blue",!r.isSelected(r.currentQuestion.id,t.value))("bg-apple-green",r.isSelected(r.currentQuestion.id,t.value)),q("for",t.value),L(),Oe(" ",t.label," ")}}function YW(n,e){if(n&1){let t=xe();T(0,"button",17),ne("click",function(){he(t);let i=Z();return pe(i.onPrevious())}),N(1," Pr\xE9c\xE9dent "),A()}}function QW(n,e){if(n&1){let t=xe();T(0,"button",18),ne("click",function(){he(t);let i=Z();return pe(i.saveAnswers())}),N(1," Terminer "),A()}}function XW(n,e){if(n&1){let t=xe();T(0,"button",17),ne("click",function(){he(t);let i=Z();return pe(i.onNext())}),N(1," Suivant "),A()}}var ov=class n{quizService=F(sv);fireStoreService=F(wr);fb=F(br);authService=F(nt);router=F(Ve);questions=this.quizService.getQuestions();currentQuestionIndex=0;answers={};errorMessage="";form=this.fb.group({answer:["",dt.required]});get currentQuestion(){return this.questions[this.currentQuestionIndex]}onNext(){this.currentQuestionIndex<this.questions.length-1&&this.currentQuestionIndex++}onPrevious(){this.currentQuestionIndex>0&&this.currentQuestionIndex--}onSelect(e,t){if(e==="1")this.answers[e]=[t];else{this.answers[e]||(this.answers[e]=[]);let r=this.answers[e].indexOf(t);r===-1?this.answers[e].push(t):this.answers[e].splice(r,1)}}isSelected(e,t){return this.answers[e]?.includes(t)}saveAnswers(){return P(this,null,function*(){try{let e=this.authService.getCurrentUser();if(!e)throw new Error("Utilisateur non connect\xE9");if(Object.keys(this.answers).length!==this.questions.length){this.errorMessage="Veuillez r\xE9pondre \xE0 toutes les questions avant de continuer.";return}for(let i of this.questions){let s=i.id;if(!this.answers[s]||this.answers[s].length===0){this.errorMessage=`Veuillez r\xE9pondre \xE0 la question ${s} avant de continuer.`;return}}let r={userId:e.uid,experience:this.answers[1]?.[0]||"",domain:this.answers[2]?.[0]||"",languages:this.answers[3]||[],learningMethod:this.answers[4]?.[0]||"",goal:this.answers[5]?.[0]||"",timePerWeek:this.answers[6]?.[0]||"",resources:this.answers[7]||[],paymentPreference:this.answers[8]?.[0]||"",topics:this.answers[9]||[],discovery:this.answers[10]?.[0]||"",createdAt:new Date};yield this.fireStoreService.CreateDocument(`quiz_responses/${e.uid}`,r),this.router.navigate(["/home"])}catch{this.errorMessage="Une erreur est survenue lors de la sauvegarde des r\xE9ponses. Veuillez r\xE9essayer."}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-skills-quiz"]],decls:16,vars:8,consts:[[1,"container","h-screen","mx-auto","p-4","max-w-2xl","bg-soft-white","text-black","flex","flex-col","items-center","justify-center","font-secondary","motion-preset-fade","motion-duration-2000"],[1,"mb-8","flex","flex-col","justify-between","items-center"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"text-3xl","font-bold","mb-20","font-primary","text-center"],[1,"flex","flex-wrap","gap-2","justify-center","w-full"],[1,"flex","items-center"],[1,"flex","justify-evenly","mt-20","w-full"],["class","bg-apple-green text-white rounded-2xl shadow px-6 py-2 hover:bg-deep-blue transition-colors",3,"click",4,"ngIf"],[1,"bg-deep-blue","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-black","transition-colors"],[1,"bg-apple-green","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-deep-blue","transition-colors"],[1,"mt-8","w-full","bg-deep-blue","rounded-full","h-2.5"],[1,"bg-apple-green","h-2.5","rounded-full"],[1,"text-sm","mt-6"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],[1,"sr-only",3,"change","type","name","id","checked"],[1,"ml-2","cursor-pointer","bg-deep-blue","text-white","rounded-full","px-4","py-2","shadow-sm/30","w-full","text-center","hover:bg-apple-green","transition-colors","hover:text-black",3,"for"],[1,"bg-apple-green","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-deep-blue","transition-colors",3,"click"],[1,"bg-deep-blue","text-white","rounded-2xl","shadow","px-6","py-2","hover:bg-black","transition-colors",3,"click"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"div",1),se(2,WW,3,1,"div",2),T(3,"h2",3),N(4),A(),T(5,"div",4),Ji(6,KW,4,10,"div",5,GW),A()(),T(8,"div",6),se(9,YW,2,0,"button",7)(10,QW,2,0,"button",8)(11,XW,2,0,"button",9),A(),T(12,"div",10),fe(13,"div",11),A(),T(14,"div",12),N(15),A()()),t&2&&(L(2),q("ngIf",r.errorMessage),L(2),Oe(" ",r.currentQuestion.question," "),L(2),es(r.currentQuestion.options),L(3),q("ngIf",r.currentQuestionIndex>0),L(),Dt(r.currentQuestionIndex===r.questions.length-1?10:11),L(3),D_("width",(r.currentQuestionIndex+1)/r.questions.length*100,"%"),L(2),A_(" Question ",r.currentQuestionIndex+1," sur ",r.questions.length," "))},dependencies:[et,Et,Er],encapsulation:2})};var Hn=class n{usersFirestore=F(Qr);authService=F(nt);usersCollection=Va(this.usersFirestore,"users");_userLogged=void 0;userProfileImage=Zn("assets/images/icons/UserIcon.png");userProfileImageBase64=Zn("");constructor(){Bs(()=>{let e=this.authService.currentUserSignal();e?(this._userLogged=e,this.getUserById(e.id||"").subscribe(t=>{t?.userImageUrl?.base64?this.userProfileImage.set(t.userImageUrl.base64):t?.userImageUrl?.url?this.userProfileImage.set(t.userImageUrl.url):this.userProfileImage.set("assets/images/icons/UserIcon.png")})):(this._userLogged=void 0,this.userProfileImage.set("assets/images/icons/UserIcon.png"))})}getUsers(){return Fa(this.usersCollection,{idField:"id"})}getUserById(e){if(!e)throw new Error("User ID is required");let t=or(this.usersFirestore,`users/${e}`);return Se(Ua(t)).pipe(ve(r=>{if(!r.exists()){let s={id:e,email:"",userName:"Nouvel utilisateur",createdAt:new Date,role:"reader"};return Se(YN(t,s)).subscribe(),s}let i=r.data();return G({id:r.id,userName:i.userName||"Nouvel utilisateur",email:i.email||"",createdAt:i.createdAt?.toDate()||new Date,role:i.role||"reader"},i)}),Pt(r=>(console.error("Error in getUserById:",r),de({id:e,email:"",userName:"Utilisateur temporaire",createdAt:new Date,role:"reader"}))))}updateUserProfile(e,t){if(!e)throw new Error("User ID is required");return t.userImageUrl?.base64?this.userProfileImage.set(t.userImageUrl.base64):t.userImageUrl?.url&&this.userProfileImage.set(t.userImageUrl.url),this.canModifyUser(e).pipe(ve(r=>{if(!r)throw new Error("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");console.log("Mise \xE0 jour du profil utilisateur:",t);let i=or(this.usersFirestore,`users/${e}`);return Pi(i,t)}),Nt(r=>Se(r)))}changeUserRole(e,t){return this.isCurrentUserAdmin().pipe(Nt(r=>{if(!r)throw new Error("Seuls les administrateurs peuvent changer les r\xF4les");let i=or(this.usersFirestore,`users/${e}`);return Se(Pi(i,{role:t}))}))}deleteUser(e){return this.isCurrentUserAdmin().pipe(Nt(t=>{if(!t)throw new Error("Seuls les administrateurs peuvent supprimer des utilisateurs");let r=or(this.usersFirestore,`users/${e}`);return Se(Bg(r))}))}isCurrentUserAdmin(){let e=this.authService.getCurrentUser();return e?this.getUserById(e.uid).pipe(ve(t=>t.role==="admin"),Pt(()=>de(!1))):de(!1)}canModifyUser(e){let t=this.authService.getCurrentUser();return t?t.uid===e?de(!0):this.isCurrentUserAdmin():de(!1)}gerUserConnectedFullName(){return this._userLogged?.userName}getUserProfileImage(){return this.userProfileImage}getCurrentUserImage(){return this.userProfileImage()}updateProfileImageSignal(e){this.userProfileImage.set(e)}updateUserProfileWithBase64Image(e,t,r){return P(this,null,function*(){if(!e)throw new Error("User ID is required");if(!(yield Po(this.canModifyUser(e))))throw new Error("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");let s=ce(G({},t),{userImageUrl:{base64:r,url:"",createdAt:Lt.now()}}),o=or(this.usersFirestore,`users/${e}`);yield Pi(o,s),this.userProfileImage.set(r),console.log("Profil utilisateur mis \xE0 jour avec succ\xE8s")})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var OO="firebasestorage.googleapis.com",LO="storageBucket",ZW=2*60*1e3,JW=10*60*1e3;var At=class n extends An{constructor(e,t,r=0){super(AT(e),`Firebase Storage: ${t} (${AT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return AT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ft=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Ft||{});function AT(n){return"storage/"+n}function OT(){let n="An unknown error occurred, please check the error payload for server response.";return new At(Ft.UNKNOWN,n)}function e8(n){return new At(Ft.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function t8(n){return new At(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n8(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(Ft.UNAUTHENTICATED,n)}function r8(){return new At(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function i8(n){return new At(Ft.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function s8(){return new At(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o8(){return new At(Ft.CANCELED,"User canceled the upload/download.")}function a8(n){return new At(Ft.INVALID_URL,"Invalid URL '"+n+"'.")}function l8(n){return new At(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function c8(){return new At(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LO+"' property when initializing the app?")}function u8(){return new At(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function d8(){return new At(Ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function f8(n){return new At(Ft.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function MT(n){return new At(Ft.INVALID_ARGUMENT,n)}function FO(){return new At(Ft.APP_DELETED,"The Firebase app was deleted.")}function h8(n){return new At(Ft.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uf(n,e){return new At(Ft.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function cf(n){throw new At(Ft.INTERNAL_ERROR,"Internal error: "+n)}var Jr=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw l8(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(O){O.path_=decodeURIComponent(O.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),h={bucket:1,path:3},v=t===OO?"(?:storage.googleapis.com|storage.cloud.google.com)":t,w="([^?#]*)",x=new RegExp(`^https?://${v}/${i}/${w}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:m,indices:h,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let O=0;O<E.length;O++){let U=E[O],j=U.regex.exec(e);if(j){let M=j[U.indices.bucket],b=j[U.indices.path];b||(b=""),r=new n(M,b),U.postModify(r);break}}if(r==null)throw a8(e);return r}},RT=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function p8(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...w){c||(c=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,n(m,l())},w)}function g(){s&&clearTimeout(s)}function m(w,...x){if(c){g();return}if(w){g(),d.call(null,w,...x);return}if(l()||o){g(),d.call(null,w,...x);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let h=!1;function v(w){h||(h=!0,g(),!c&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,v(!0)},t),v}function m8(n){n(!1)}function g8(n){return n!==void 0}function v8(n){return typeof n=="object"&&!Array.isArray(n)}function LT(n){return typeof n=="string"||n instanceof String}function AO(n){return FT()&&n instanceof Blob}function FT(){return typeof Blob<"u"}function MO(n,e,t,r){if(r<e)throw MT(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw MT(`Invalid value for '${n}'. Expected ${t} or less.`)}function uv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function VO(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var xc=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(xc||{});function y8(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var kT=class{constructor(e,t,r,i,s,o,a,l,c,d,f,g=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,h)=>{this.resolve_=m,this.reject_=h,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Dc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===xc.NO_ERROR,l=s.getStatus();if(!a||y8(l,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===xc.ABORT;r(!1,new Dc(!1,null,d));return}let c=this.successCodes_.indexOf(l)!==-1;r(!0,new Dc(c,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());g8(l)?s(l):s()}catch(l){o(l)}else if(a!==null){let l=OT();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){let l=this.appDelete_?FO():o8();o(l)}else{let l=s8();o(l)}};this.canceled_?t(!1,new Dc(!1,null,!0)):this.backoffId_=p8(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Dc=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function w8(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function _8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b8(n,e){e&&(n["X-Firebase-GMPID"]=e)}function E8(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function I8(n,e,t,r,i,s,o=!0){let a=VO(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return b8(c,e),w8(c,t),_8(c,s),E8(c,r),new kT(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}function T8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function S8(...n){let e=T8();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(FT())return new Blob(n);throw new At(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function C8(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function D8(n){if(typeof atob>"u")throw f8("base-64");return atob(n)}var Fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},df=class{constructor(e,t){this.data=e,this.contentType=t||null}};function x8(n,e){switch(n){case Fi.RAW:return new df(UO(e));case Fi.BASE64:case Fi.BASE64URL:return new df(jO(n,e));case Fi.DATA_URL:return new df(M8(e),R8(e))}throw OT()}function UO(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function A8(n){let e;try{e=decodeURIComponent(n)}catch{throw uf(Fi.DATA_URL,"Malformed data URL.")}return UO(e)}function jO(n,e){switch(n){case Fi.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw uf(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Fi.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw uf(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=D8(e)}catch(i){throw i.message.includes("polyfill")?i:uf(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var lv=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw uf(Fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=k8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function M8(n){let e=new lv(n);return e.base64?jO(Fi.BASE64,e.rest):A8(e.rest)}function R8(n){return new lv(n).contentType}function k8(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var cv=class n{constructor(e,t){let r=0,i="";AO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(AO(this.data_)){let r=this.data_,i=C8(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(FT()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(S8.apply(null,t))}else{let t=e.map(o=>LT(o)?x8(Fi.RAW,o).data:o.data_),r=0;t.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new n(i,!0)}}uploadData(){return this.data_}};function BO(n){let e;try{e=JSON.parse(n)}catch{return null}return v8(e)?e:null}function P8(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function N8(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function $O(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function O8(n,e){return e}var un=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||O8}},av=null;function L8(n){return!LT(n)||n.length<2?n:$O(n)}function zO(){if(av)return av;let n=[];n.push(new un("bucket")),n.push(new un("generation")),n.push(new un("metageneration")),n.push(new un("name","fullPath",!0));function e(s,o){return L8(o)}let t=new un("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}let i=new un("size");return i.xform=r,n.push(i),n.push(new un("timeCreated")),n.push(new un("updated")),n.push(new un("md5Hash",null,!0)),n.push(new un("cacheControl",null,!0)),n.push(new un("contentDisposition",null,!0)),n.push(new un("contentEncoding",null,!0)),n.push(new un("contentLanguage",null,!0)),n.push(new un("contentType",null,!0)),n.push(new un("metadata","customMetadata",!0)),av=n,av}function F8(n,e){function t(){let r=n.bucket,i=n.fullPath,s=new Jr(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function V8(n,e,t){let r={};r.type="file";let i=t.length;for(let s=0;s<i;s++){let o=t[s];r[o.local]=o.xform(r,e[o.server])}return F8(r,n),r}function HO(n,e,t){let r=BO(e);return r===null?null:V8(n,r,t)}function U8(n,e,t,r){let i=BO(e);if(i===null||!LT(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(c=>{let d=n.bucket,f=n.fullPath,g="/b/"+o(d)+"/o/"+o(f),m=uv(g,t,r),h=VO({alt:"media",token:c});return m+h})[0]}function j8(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var ff=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function qO(n){if(!n)throw OT()}function B8(n,e){function t(r,i){let s=HO(n,i,e);return qO(s!==null),s}return t}function $8(n,e){function t(r,i){let s=HO(n,i,e);return qO(s!==null),U8(s,i,n.host,n._protocol)}return t}function GO(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=r8():i=n8():t.getStatus()===402?i=t8(n.bucket):t.getStatus()===403?i=i8(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function WO(n){let e=GO(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=e8(n.path)),s.serverResponse=i.serverResponse,s}return t}function z8(n,e,t){let r=e.fullServerUrl(),i=uv(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new ff(i,s,$8(n,t),o);return a.errorHandler=WO(e),a}function H8(n,e){let t=e.fullServerUrl(),r=uv(t,n.host,n._protocol),i="DELETE",s=n.maxOperationRetryTime;function o(l,c){}let a=new ff(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=WO(e),a}function q8(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function G8(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=q8(null,e)),r}function W8(n,e,t,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let O=0;O<2;O++)E=E+Math.random().toString().slice(2);return E}let l=a();o["Content-Type"]="multipart/related; boundary="+l;let c=G8(e,r,i),d=j8(c,t),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,g=`\r
--`+l+"--",m=cv.getBlob(f,r,g);if(m===null)throw u8();let h={name:c.fullPath},v=uv(s,n.host,n._protocol),w="POST",x=n.maxUploadRetryTime,S=new ff(v,w,B8(n,t),x);return S.urlParams=h,S.headers=o,S.body=m.uploadData(),S.errorHandler=GO(e),S}var cde=256*1024;var RO=null,PT=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw cf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},NT=class extends PT{initXhr(){this.xhr_.responseType="text"}};function VT(){return RO?RO():new NT}var Ac=class n{constructor(e,t){this._service=e,t instanceof Jr?this._location=t:this._location=Jr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Jr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $O(this._location.path)}get storage(){return this._service}get parent(){let e=P8(this._location.path);if(e===null)return null;let t=new Jr(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw h8(e)}};function K8(n,e,t){n._throwIfRoot("uploadBytes");let r=W8(n.storage,n._location,zO(),new cv(e,!0),t);return n.storage.makeRequestWithTokens(r,VT).then(i=>({metadata:i,ref:n}))}function Y8(n){n._throwIfRoot("getDownloadURL");let e=z8(n.storage,n._location,zO());return n.storage.makeRequestWithTokens(e,VT).then(t=>{if(t===null)throw d8();return t})}function Q8(n){n._throwIfRoot("deleteObject");let e=H8(n.storage,n._location);return n.storage.makeRequestWithTokens(e,VT)}function X8(n,e){let t=N8(n._location.path,e),r=new Jr(n._location.bucket,t);return new Ac(n.storage,r)}function Z8(n){return/^[A-Za-z]+:\/\//.test(n)}function J8(n,e){return new Ac(n,e)}function KO(n,e){if(n instanceof hf){let t=n;if(t._bucket==null)throw c8();let r=new Ac(t,t._bucket);return e!=null?KO(r,e):r}else return e!==void 0?X8(n,e):n}function e7(n,e){if(e&&Z8(e)){if(n instanceof hf)return J8(n,e);throw MT("To use ref(service, url), the first argument must be a Storage instance.")}else return KO(n,e)}function kO(n,e){let t=e?.[LO];return t==null?null:Jr.makeFromBucketSpec(t,n)}function t7(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:lm(i,n.app.options.projectId))}var hf=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=OO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZW,this._maxUploadRetryTime=JW,this._requests=new Set,i!=null?this._bucket=Jr.makeFromBucketSpec(i,this._host):this._bucket=kO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jr.makeFromBucketSpec(this._url,e):this._bucket=kO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return P(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return P(this,null,function*(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ac(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new RT(FO());{let o=I8(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return P(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},PO="@firebase/storage",NO="0.13.7";var YO="storage";function UT(n,e,t){return n=rt(n),K8(n,e,t)}function QO(n){return n=rt(n),Y8(n)}function XO(n){return n=rt(n),Q8(n)}function dv(n,e){return n=rt(n),e7(n,e)}function jT(n=ss(),e){n=rt(n);let r=Ys(n,YO).getImmediate({identifier:e}),i=am("storage");return i&&ZO(r,...i),r}function ZO(n,e,t,r={}){t7(n,e,t,r)}function n7(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new hf(t,r,i,e,_i)}function r7(){rr(new ln(YO,n7,"PUBLIC").setMultipleInstances(!0)),ut(PO,NO,""),ut(PO,NO,"esm2017")}r7();var ja=class{constructor(e){return e}},JO="storage",BT=class{constructor(){return Qs(JO)}};var $T=new le("angularfire2.storage-instances");function i7(n,e){let t=wa(JO,n,e);return t&&new ja(t)}function s7(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ja(r)}}var o7={provide:BT,deps:[[new Zt,$T]]},a7={provide:ja,useFactory:i7,deps:[[new Zt,$T],qr]};function eL(n,...e){return ut("angularfire",bi.full,"gcs"),Lr([a7,o7,{provide:$T,useFactory:s7(n),multi:!0,deps:[We,vt,Ei,os,[new Zt,Ia],[new Zt,Zs],...e]}])}var tL=gt(XO,!0,2);var nL=gt(QO,!0);var Mc=class n{constructor(e){this.storage=e}auth=F(ds);uploadImage(e,t){if(!this.auth.currentUser)return xr(()=>new Error("L'utilisateur doit \xEAtre authentifi\xE9"));let r=dv(this.storage,t);return Se(UT(r,e)).pipe(Nt(i=>Se(nL(i.ref))),Pt(i=>xr(()=>i)))}deleteImage(e){if(!this.auth.currentUser)return xr(()=>new Error("L'utilisateur doit \xEAtre authentifi\xE9"));let t=dv(this.storage,e);return Se(tL(t)).pipe(Pt(r=>xr(()=>r)))}generateUniqueFileName(e){let t=e.name.split(".").pop(),r=new Date().getTime(),i=Math.random().toString(36).substring(2,15);return`${r}-${i}.${t}`}static \u0275fac=function(t){return new(t||n)(ye(ja))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var Vi=class n{constructor(e){this.platformId=e}firestore=F(Qr);authService=F(nt);firestorageService=F(Mc);usersService=F(Hn);linksSignal=Zn([]);getLinks(){if(!rs(this.platformId))return de([]);let e=Va(this.firestore,"links"),t=ef(e,gT("createdAt","desc"));return Fa(t,{idField:"id"})}getLinksByUser(e){if(!rs(this.platformId))return de([]);if(!e)return de([]);let t=Va(this.firestore,"links"),r=ef(t,vT("createdBy","==",e));return Fa(r,{idField:"id"}).pipe(ve(i=>{let s=[...i].sort((o,a)=>{let l=o.createdAt instanceof Date?o.createdAt:new Date(o.createdAt.seconds*1e3);return(a.createdAt instanceof Date?a.createdAt:new Date(a.createdAt.seconds*1e3)).getTime()-l.getTime()});if(i.length===0){let o=ef(t);Fa(o,{idField:"id"}).subscribe(a=>{})}return s}))}getLinksByCategory(e){if(!rs(this.platformId))return de([]);let t=Va(this.firestore,"links"),r=ef(t,vT("category","==",e),gT("createdAt","desc"));return Fa(r,{idField:"id"})}deleteLink(e){return P(this,null,function*(){let t=this.authService.getCurrentUser();if(!t)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");try{let r=or(this.firestore,`links/${e}`),i=yield Ua(r);if(!i.exists())throw new Error("Le lien \xE0 supprimer n'existe pas");if(i.data().createdBy!==t.uid&&!(yield Po(this.usersService.isCurrentUserAdmin())))throw new Error("Vous n'\xEAtes pas autoris\xE9 \xE0 supprimer ce lien");yield Bg(r);let a=this.linksSignal().filter(l=>l.id!==e);this.linksSignal.set(a)}catch(r){throw r}})}updateLink(e,t,r){return P(this,null,function*(){let i=this.authService.getCurrentUser();if(!i)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");let s=or(this.firestore,`links/${e}`);if(r){let o=this.firestorageService.generateUniqueFileName(r),a=`links/${i.uid}/${o}`,l=yield this.firestorageService.uploadImage(r,a).toPromise();return Pi(s,ce(G({},t),{imageUrl:l,updatedAt:new Date}))}return Pi(s,ce(G({},t),{updatedAt:new Date}))})}updateLikes(e,t){return P(this,null,function*(){let r=or(this.firestore,`links/${e}`);return Pi(r,{likes:t||-1})})}getLinkById(e){if(!rs(this.platformId))return de(null);let t=or(this.firestore,`links/${e}`);return Se(Ua(t)).pipe(ve(r=>r.exists()?G({id:r.id},r.data()):null))}createLinkWithBase64Image(e,t){return P(this,null,function*(){let r=this.authService.getCurrentUser();if(!r)throw new Error("L'utilisateur doit \xEAtre authentifi\xE9");let i=ce(G({},e),{imageUrl:t,createdAt:new Date,createdBy:r.uid,likes:0}),s=Va(this.firestore,"links");return KN(s,i)})}toggleLike(e,t){return P(this,null,function*(){try{let r=or(this.firestore,`links/${e}`),i=yield Ua(r);if(!i.exists())throw new Error("Link not found");let o=i.data().likedBy||[],l=o.includes(t)?o.filter(f=>f!==t):[...o,t];yield Pi(r,{likedBy:l,likes:l.length});let d=this.linksSignal().map(f=>f.id===e?ce(G({},f),{likedBy:l,likes:l.length}):f);this.linksSignal.set(d)}catch(r){throw r}})}rateLink(e,t,r){return P(this,null,function*(){if(!rs(this.platformId))return;let i=or(this.firestore,"links",e),a=(yield Ua(i)).data().userRatings||{};a[t]=r;let l=Object.values(a),c=l.reduce((d,f)=>d+f,0)/l.length;yield Pi(i,{userRatings:a,averageRating:c,totalRatings:l.length})})}getUserRating(e,t){return e.userRatings?.[t]||0}static \u0275fac=function(t){return new(t||n)(ye(cr))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};function c7(n,e){if(n&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),N(4),A(),T(5,"p"),N(6),A()()()()),n&2){let t=Z();L(),q("ngClass",t.typeClasses[t.type]),L(3),He(t.typeIcons[t.type]),L(2),He(t.message)}}var ho=class n{show=!1;message="";type="success";typeClasses={success:"bg-apple-green text-white",error:"bg-red-400 text-white",info:"bg-blue-400 text-white",warning:"bg-yellow-400 text-white"};typeIcons={success:"check_circle",error:"error",info:"info",warning:"warning"};static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-notification"]],inputs:{show:"show",message:"message",type:"type"},decls:1,vars:1,consts:[[1,"notification-overlay","rounded-xl"],[1,"fixed","top-4","right-4","transform","transition-all","duration-500",3,"ngClass"],[1,"px-6","py-3","rounded-xl","shadow-lg","flex","items-center","gap-2"],[1,"material-symbols-outlined"]],template:function(t,r){t&1&&se(0,c7,7,3,"div",0),t&2&&Dt(r.show?0:-1)},dependencies:[et,Uu],styles:["[_nghost-%COMP%]{position:fixed;top:0;right:0;z-index:9999;pointer-events:none}.notification-overlay[_ngcontent-%COMP%]{position:relative;z-index:9999}.notification-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{pointer-events:auto}"]})};function u7(n,e){if(n&1){let t=xe();T(0,"app-notification",31),ne("closed",function(){he(t);let i=Z();return pe(i.onNotificationClosed())}),A()}if(n&2){let t=Z();q("type",t.notificationType)("message",t.notificationMessage)}}function d7(n,e){n&1&&(T(0,"div",34)(1,"span",35),N(2," priority "),A(),T(3,"span"),N(4,"Image pr\xEAte"),A()())}function f7(n,e){n&1&&(T(0,"div")(1,"span",36),N(2," hourglass_empty "),A(),T(3,"span"),N(4,"Image en traitement..."),A()())}function h7(n,e){if(n&1&&(fe(0,"img",32),T(1,"div",33),se(2,d7,5,0,"div",34)(3,f7,5,0,"div"),A()),n&2){let t=Z();q("src",t.imagePreview,Ct),L(),Je("text-green-600",t.base64Ready)("text-red-600",!t.base64Ready),L(),Dt(t.base64Ready?2:3)}}function p7(n,e){n&1&&(T(0,"span"),N(1,"Choisir une image"),A())}function m7(n,e){n&1&&(T(0,"span"),N(1,"Changer l'image"),A())}function g7(n,e){n&1&&(T(0,"span")(1,"span",37),N(2,"Titre requis"),A()())}function v7(n,e){n&1&&(T(0,"span")(1,"span",37),N(2,"Description requise"),A()())}function y7(n,e){n&1&&(T(0,"span",37),N(1,"URL requise"),A())}function w7(n,e){n&1&&(T(0,"span",37),N(1,"L'URL doit commencer par http:// ou https://"),A())}function _7(n,e){if(n&1&&(T(0,"span"),se(1,y7,2,0,"span",38)(2,w7,2,0,"span",38),A()),n&2){let t,r,i=Z();L(),q("ngIf",(t=i.linkForm.get("url"))==null||t.errors==null?null:t.errors.required),L(),q("ngIf",(r=i.linkForm.get("url"))==null||r.errors==null?null:r.errors.invalidUrlFormat)}}function b7(n,e){n&1&&(T(0,"span")(1,"span",37),N(2,"Niveau requis"),A()())}function E7(n,e){if(n&1&&(T(0,"option",20),N(1),A()),n&2){let t=e.$implicit;q("value",t),L(),He(t)}}function I7(n,e){n&1&&(T(0,"span")(1,"span",37),N(2,"Type requis"),A()())}function T7(n,e){if(n&1&&(T(0,"option",20),N(1),A()),n&2){let t=e.$implicit;q("value",t),L(),He(t)}}function S7(n,e){n&1&&(T(0,"span")(1,"span",37),N(2,"Au moins un langage/technologie requis"),A()())}function C7(n,e){if(n&1){let t=xe();T(0,"button",39),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleTag(i))}),N(1),A()}if(n&2){let t=e.$implicit,r=Z();Je("bg-apple-green",r.isTagSelected(t))("bg-deep-green",!r.isTagSelected(t))("text-deep-green",r.isTagSelected(t))("text-white",!r.isTagSelected(t)),L(),Oe(" ",t," ")}}function D7(n,e){if(n&1&&(T(0,"span",42),N(1),A()),n&2){let t=e.$implicit;L(),He(t)}}function x7(n,e){if(n&1&&(T(0,"div",28)(1,"p",40),N(2,"S\xE9lectionn\xE9s :"),A(),T(3,"div",41),Ji(4,D7,2,1,"span",42,na),A()()),n&2){let t=Z();L(4),es(t.getSelectedTags())}}function A7(n,e){n&1&&(T(0,"div",30)(1,"span",36),N(2,"check_circle"),A(),T(3,"p"),N(4,"Le lien a \xE9t\xE9 ajout\xE9 avec succ\xE8s!"),A()())}var Rc=class n{fb=F(br);linksService=F(Vi);router=F(Ve);linkAdded=new Ze;niveauOptions=["Junior","M\xE9dior","Senior"];langageOptions=["HTML","CSS","JavaScript","Python","Git","Algorithme","C","Java","PHP","React","Angular","Vue.js","Node.js","TypeScript","SQL","MongoDB","Docker","Kubernetes","AWS","Azure"];typeOptions=["Cours","Projet","Forum","Exercice","Tutoriel","Documentation","Vid\xE9o","Podcast"];selectedFile=null;imagePreview=null;base64Image=null;base64Ready=!1;showNotification=!1;notificationType="error";notificationMessage="";urlValidator(e){let t=e.value;return t?/^https?:\/\/.+/.test(t)?null:{invalidUrlFormat:!0}:null}linkForm=this.fb.group({title:["",[dt.required]],description:["",[dt.required]],url:["",[dt.required,this.urlValidator]],niveau:["Junior",[dt.required]],isPaid:[!1],type:["Cours",[dt.required]],tags:[[""],[dt.required,dt.minLength(1)]]});toggleTag(e){let t=this.linkForm.get("tags")?.value||[],r=t.indexOf(e);if(r===-1)this.linkForm.patchValue({tags:[...t,e]});else{let i=t.filter((s,o)=>o!==r);this.linkForm.patchValue({tags:i})}}isTagSelected(e){return(this.linkForm.get("tags")?.value||[]).includes(e)}getSelectedTags(){return(this.linkForm.get("tags")?.value||[]).filter(t=>t&&t!=="")}onFileSelected(e){let t=e.target;t.files&&t.files[0]&&(this.selectedFile=t.files[0],this.base64Ready=!1,this.base64Image=null,this.convertToBase64Simple(t.files[0]))}convertToBase64Simple(e){let t=new FileReader;t.onload=r=>{if(r.target&&r.target.result){let i=r.target.result;this.imagePreview=i,this.base64Image=i,this.base64Ready=!0}},t.onerror=()=>{this.showNotification=!0,this.notificationType="error",this.notificationMessage="Impossible de lire l'image. Veuillez r\xE9essayer."},t.readAsDataURL(e)}showSuccessMessage=!1;onSubmit(){return P(this,null,function*(){if(this.linkForm.valid&&this.base64Ready&&this.base64Image)try{yield this.linksService.createLinkWithBase64Image(this.linkForm.value,this.base64Image),this.linkAdded.emit(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Le lien a \xE9t\xE9 cr\xE9\xE9 avec succ\xE8s!",setTimeout(()=>{this.resetForm(),this.router.navigate(["/home"])},3e3)}catch(e){this.showNotification=!0,this.notificationType="error",this.notificationMessage=e.message}else this.base64Ready?this.linkForm.valid||(this.showNotification=!0,this.notificationType="error",this.notificationMessage="Veuillez remplir tous les champs obligatoires"):(this.showNotification=!0,this.notificationType="warning",this.notificationMessage="Veuillez s\xE9lectionner une image")})}getFormValidationErrors(){let e={};return Object.keys(this.linkForm.controls).forEach(t=>{let r=this.linkForm.get(t);r&&!r.valid&&(e[t]=r.errors)}),e}resetForm(){this.linkForm.reset({niveau:"Junior",isPaid:!1,type:"Cours",tags:[""]}),this.selectedFile=null,this.imagePreview=null,this.base64Image=null,this.base64Ready=!1,this.showNotification=!1}onNotificationClosed(){this.showNotification=!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-link-form"]],outputs:{linkAdded:"linkAdded"},decls:86,vars:15,consts:[["fileInput",""],[1,"min-h-52","p-4","relative","overflow-hidden","text-white/50"],[1,"fixed","inset-0","overflow-hidden","pointer-events-none","z-0"],[1,"absolute","-top-20","-right-20","w-96","h-96","bg-apple-green","rounded-full","opacity-30","blur-3xl"],[1,"absolute","-bottom-20","-left-40","w-96","h-96","bg-blue-900","rounded-full","opacity-30","blur-3xl"],[1,"relative","z-10","backdrop-blur-sm"],[1,"flex","flex-col","gap-4",3,"ngSubmit","formGroup"],[3,"type","message","closed",4,"ngIf"],[1,"form-group"],[1,"block","mb-1"],[1,"text-red-500"],[1,"flex","flex-col","items-center","gap-2"],[1,"w-full"],["type","file","accept","image/*",1,"hidden",3,"change"],["type","button",1,"w-full","p-2","border-2","border-dashed","border-apple-green","rounded-lg","text-center","hover:bg-apple-green/10","transition-colors",3,"click"],[4,"ngIf"],["type","text","formControlName","title",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/70","placeholder:border-soft-white/50","selection:bg-deep-green","focus:outline-none","focus:border-apple-green"],["formControlName","description","rows","3",1,"w-full","p-2","rounded","bg-dark-gray","border","border-apple-green","text-soft-white","focus:outline-none","focus:border-apple-green"],["type","url","formControlName","url","placeholder","https://example.com",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],["formControlName","niveau",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],[3,"value"],["formControlName","type",1,"w-full","p-2","rounded","border-apple-green","border-b","text-soft-white/50","selection:bg-deep-green","focus:outline-none"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","gap-2","cursor-pointer"],["type","radio","formControlName","isPaid",1,"text-apple-green",3,"value"],[1,"text-xs","text-white/60","mb-3"],[1,"flex","flex-wrap","gap-2","max-h-32","overflow-y-auto","p-2","border","border-apple-green/30","rounded"],["type","button",1,"px-3","py-1","rounded-full","text-sm","transition-colors",3,"bg-apple-green","bg-deep-green","text-deep-green","text-white"],[1,"mt-2"],["type","submit",1,"bg-apple-green","text-white","py-2","px-4","rounded","mt-4","disabled:opacity-50","disabled:cursor-not-allowed","hover:bg-deep-green","transition-colors",3,"disabled"],[1,"fixed","top-4","right-4","bg-green-500","text-white","px-6","py-3","rounded-lg","shadow-lg","transform","transition-all","duration-500","flex","items-center","gap-2"],[3,"closed","type","message"],["alt","Aper\xE7u",1,"w-32","h-32","object-cover","rounded-lg",3,"src"],[1,"text-xs"],[1,"flex","items-center","gap-1"],[1,"material-symbols-outlined","opacity-70"],[1,"material-symbols-outlined"],[1,"text-red-400","text-xs"],["class","text-red-400 text-xs",4,"ngIf"],["type","button",1,"px-3","py-1","rounded-full","text-sm","transition-colors",3,"click"],[1,"text-xs","text-white/60"],[1,"flex","flex-wrap","gap-1","mt-1"],[1,"px-2","py-1","bg-apple-green","text-deep-green","text-xs","rounded-full"]],template:function(t,r){if(t&1){let i=xe();T(0,"main",1)(1,"div",2),fe(2,"div",3)(3,"div",4),A(),T(4,"div",5)(5,"form",6),ne("ngSubmit",function(){return he(i),pe(r.onSubmit())}),se(6,u7,1,2,"app-notification",7),T(7,"div",8)(8,"label",9),N(9,"Image "),T(10,"span",10),N(11,"*"),A()(),T(12,"div",11),se(13,h7,4,6),T(14,"div",12)(15,"input",13,0),ne("change",function(o){return he(i),pe(r.onFileSelected(o))}),A(),T(17,"button",14),ne("click",function(){he(i);let o=zA(16);return pe(o.click())}),se(18,p7,2,0,"span")(19,m7,2,0,"span"),A()()()(),T(20,"div",8),se(21,g7,3,0,"span",15),T(22,"label",9),N(23,"Titre "),T(24,"span",10),N(25,"*"),A()(),fe(26,"input",16),A(),T(27,"div",8),se(28,v7,3,0,"span",15),T(29,"label",9),N(30,"Description "),T(31,"span",10),N(32,"*"),A()(),fe(33,"textarea",17),A(),T(34,"div",8),se(35,_7,3,2,"span",15),T(36,"label",9),N(37,"URL du site "),T(38,"span",10),N(39,"*"),A()(),fe(40,"input",18),A(),T(41,"div",8),se(42,b7,3,0,"span",15),T(43,"label",9),N(44,"Niveau "),T(45,"span",10),N(46,"*"),A()(),T(47,"select",19),Ji(48,E7,2,2,"option",20,na),A()(),T(50,"div",8),se(51,I7,3,0,"span",15),T(52,"label",9),N(53,"Type "),T(54,"span",10),N(55,"*"),A()(),T(56,"select",21),Ji(57,T7,2,2,"option",20,na),A()(),T(59,"div",8)(60,"label",9),N(61,"Prix"),A(),T(62,"div",22)(63,"label",23),fe(64,"input",24),T(65,"span"),N(66,"Gratuit"),A()(),T(67,"label",23),fe(68,"input",24),T(69,"span"),N(70,"Payant"),A()()()(),T(71,"div",8),se(72,S7,3,0,"span",15),T(73,"label",9),N(74,"Langages/Technologies "),T(75,"span",10),N(76,"*"),A()(),T(77,"p",25),N(78,"S\xE9lectionnez les langages et technologies utilis\xE9s dans ce lien "),A(),T(79,"div",26),Ji(80,C7,2,9,"button",27,na),A(),se(82,x7,6,0,"div",28),A(),T(83,"button",29),N(84," Ajouter "),A()(),se(85,A7,5,0,"div",30),A()()}if(t&2){let i,s,o,a,l,c;L(5),q("formGroup",r.linkForm),L(),q("ngIf",r.showNotification),L(7),Dt(r.imagePreview?13:-1),L(5),Dt(r.imagePreview?19:18),L(3),q("ngIf",((i=r.linkForm.get("title"))==null?null:i.invalid)&&((i=r.linkForm.get("title"))==null?null:i.touched)),L(7),q("ngIf",((s=r.linkForm.get("description"))==null?null:s.invalid)&&((s=r.linkForm.get("description"))==null?null:s.touched)),L(7),q("ngIf",((o=r.linkForm.get("url"))==null?null:o.invalid)&&((o=r.linkForm.get("url"))==null?null:o.touched)),L(7),q("ngIf",((a=r.linkForm.get("niveau"))==null?null:a.invalid)&&((a=r.linkForm.get("niveau"))==null?null:a.touched)),L(6),es(r.niveauOptions),L(3),q("ngIf",((l=r.linkForm.get("type"))==null?null:l.invalid)&&((l=r.linkForm.get("type"))==null?null:l.touched)),L(6),es(r.typeOptions),L(7),q("value",!1),L(4),q("value",!0),L(4),q("ngIf",((c=r.linkForm.get("tags"))==null?null:c.invalid)&&((c=r.linkForm.get("tags"))==null?null:c.touched)),L(8),es(r.langageOptions),L(2),Dt(r.getSelectedTags().length>0?82:-1),L(),q("disabled",!r.linkForm.valid||!r.base64Ready),L(2),Dt(r.showSuccessMessage?85:-1)}},dependencies:[et,Et,Er,Li,SO,DO,_r,nv,xT,Ni,Oi,Xr,Zr,ho],encapsulation:2})};function M7(n,e){if(n&1){let t=xe();T(0,"button",3),ne("click",function(){let i=he(t).$index,s=Z();return pe(s.rate(i+1))})("mouseenter",function(){let i=he(t).$index,s=Z();return pe(s.hover(i+1))})("mouseleave",function(){he(t);let i=Z();return pe(i.hover(0))}),N(1," kid_star "),A()}if(n&2){let t=e.$implicit;Je("text-apple-green",t.filled)("text-gray-100",!t.filled)}}function R7(n,e){if(n&1&&(T(0,"span",2),N(1),A()),n&2){let t=Z();L(),Oe("(",t.totalRatings,")")}}var fv=class n{rating=0;totalRatings=0;showRatingCount=!0;readonly=!1;ratingChange=new Ze;stars=Array(5).fill(null).map(()=>({filled:!1}));ngOnInit(){this.updateStars(this.rating)}ngOnChanges(){this.updateStars(this.rating)}hover(e){this.readonly||this.rating===0&&this.updateStars(e)}rate(e){this.readonly||(this.rating=e,this.ratingChange.emit(e))}updateStars(e){this.stars.forEach((t,r)=>{t.filled=r<e})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-star-rating"]],inputs:{rating:"rating",totalRatings:"totalRatings",showRatingCount:"showRatingCount",readonly:"readonly"},outputs:{ratingChange:"ratingChange"},features:[Vr],decls:4,vars:1,consts:[[1,"flex","items-center"],[1,"material-symbols-outlined","text-2xl","transition-colors",3,"text-apple-green","text-gray-100"],[1,"ml-2","text-sm","text-white/50"],[1,"material-symbols-outlined","text-2xl","transition-colors",3,"click","mouseenter","mouseleave"]],template:function(t,r){t&1&&(T(0,"div",0),Ji(1,M7,2,4,"button",1,na),se(3,R7,2,1,"span",2),A()),t&2&&(L(),es(r.stars),L(2),Dt(r.showRatingCount?3:-1))},dependencies:[et],encapsulation:2})};function k7(n,e){if(n&1){let t=xe();T(0,"button",15),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleFilter("niveau",i))}),N(1),A()}if(n&2){let t=e.$implicit,r=Z();Je("bg-deep-green",!r.isSelected("niveau",t))("bg-deep-blue",r.isSelected("niveau",t)),L(),Oe(" ",t," ")}}function P7(n,e){if(n&1){let t=xe();T(0,"button",15),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleFilter("langage",i))}),N(1),A()}if(n&2){let t=e.$implicit,r=Z();Je("bg-deep-green",!r.isSelected("langage",t))("bg-deep-blue",r.isSelected("langage",t)),L(),Oe(" ",t," ")}}function N7(n,e){if(n&1){let t=xe();T(0,"button",15),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleFilter("prix",i))}),N(1),A()}if(n&2){let t=e.$implicit,r=Z();Je("bg-deep-green",!r.isSelected("prix",t))("bg-deep-blue",r.isSelected("prix",t)),L(),Oe(" ",t," ")}}function O7(n,e){if(n&1){let t=xe();T(0,"button",15),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleFilter("type",i))}),N(1),A()}if(n&2){let t=e.$implicit,r=Z();Je("bg-deep-green",!r.isSelected("type",t))("bg-deep-blue",r.isSelected("type",t)),L(),Oe(" ",t," ")}}function L7(n,e){if(n&1){let t=xe();T(0,"div",16),ne("click",function(){he(t);let i=Z();return pe(i.closeFilters())}),A()}}var Ba=class n{filterChange=new Ze;close=new Ze;isOpen=!1;niveauOptions=["Junior","M\xE9dior","Senior"];langageOptions=["HTML","CSS","JavaScript","Python","Git","Algorithme","C","Java","PHP","React","Angular","Vue.js","Node.js","TypeScript","SQL","MongoDB","Docker","Kubernetes","AWS","Azure"];prixOptions=["Gratuit","Payant"];typeOptions=["Cours","Projet","Forum","Exercice","Tutoriel","Documentation","Vid\xE9o","Podcast"];selectedFilters={niveau:[],langage:[],prix:[],type:[]};openFilters(){this.isOpen=!0}closeFilters(){this.isOpen=!1,this.close.emit()}toggleFilter(e,t){let r=this.selectedFilters[e].indexOf(t);r===-1?(this.selectedFilters[e].push(t),console.log("FilterPanel: Ajout du filtre",e,t,"Nouveaux filtres:",this.selectedFilters)):(this.selectedFilters[e].splice(r,1),console.log("FilterPanel: Suppression du filtre",e,t,"Nouveaux filtres:",this.selectedFilters))}isSelected(e,t){return this.selectedFilters[e].includes(t)}resetFilters(){this.selectedFilters={niveau:[],langage:[],prix:[],type:[]}}applyFilters(){console.log("FilterPanel: \xC9mission des filtres:",this.selectedFilters),this.filterChange.emit(G({},this.selectedFilters)),this.closeFilters()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-filter-panel"]],outputs:{filterChange:"filterChange",close:"close"},decls:38,vars:9,consts:[[1,"filter-panel","fixed","inset-x-0","bottom-0","bg-apple-green","rounded-t-3xl","shadow-lg","transition-transform","duration-500","ease-in-out","transform","z-40","pb-5"],[1,"p-5","font-primary","text-white"],[1,"flex","justify-center","items-center","mb-6"],[1,"flex","items-center","justify-center","gap-2"],[1,"material-symbols-outlined"],[1,"text-4xl"],[1,"mb-6"],[1,"text-2xl","mb-3"],[1,"border","border-deep-green"],[1,"flex","flex-wrap","gap-3","pt-1"],["class","px-4 rounded-lg text-xl transition-colors shadow-lg",3,"bg-deep-green","bg-deep-blue","click",4,"ngFor","ngForOf"],[1,"flex","justify-between","mt-20"],["type","button",1,"px-12","bg-deep-green","text-white","rounded-sm","text-xl","shadow-xl","hover:bg-deep-blue",3,"click"],["type","button",1,"px-12","bg-deep-blue","text-white","rounded-sm","text-xl","shadow-xl",3,"click"],["class","fixed inset-0 bg-black/50 z-30",3,"click",4,"ngIf"],[1,"px-4","rounded-lg","text-xl","transition-colors","shadow-lg",3,"click"],[1,"fixed","inset-0","bg-black/50","z-30",3,"click"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),N(5,"filter_alt"),A(),T(6,"h2",5),N(7,"FILTRER"),A()()(),T(8,"div",6)(9,"h3",7),N(10,"Niveau"),A(),fe(11,"div",8),T(12,"div",9),se(13,k7,2,5,"button",10),A()(),T(14,"div",6)(15,"h3",7),N(16,"Langage"),A(),fe(17,"div",8),T(18,"div",9),se(19,P7,2,5,"button",10),A()(),T(20,"div",6)(21,"h3",7),N(22,"Prix"),A(),fe(23,"div",8),T(24,"div",9),se(25,N7,2,5,"button",10),A()(),T(26,"div",6)(27,"h3",7),N(28,"Type"),A(),fe(29,"div",8),T(30,"div",9),se(31,O7,2,5,"button",10),A()(),T(32,"div",11)(33,"button",12),ne("click",function(){return r.resetFilters()}),N(34," R\xE9initialiser "),A(),T(35,"button",13),ne("click",function(){return r.applyFilters()}),N(36," Appliquer "),A()()()(),se(37,L7,1,0,"div",14)),t&2&&(Je("translate-y-full",!r.isOpen)("motion-preset-slide-up",r.isOpen),L(13),q("ngForOf",r.niveauOptions),L(6),q("ngForOf",r.langageOptions),L(6),q("ngForOf",r.prixOptions),L(6),q("ngForOf",r.typeOptions),L(6),q("ngIf",r.isOpen))},dependencies:[et,jn,Et,fo],styles:[".filter-panel[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto}"]})};var kc=class n{viewModeSubject=new Rt("carousel");viewMode$=this.viewModeSubject.asObservable();constructor(){}setViewMode(e){this.viewModeSubject.next(e)}getCurrentViewMode(){return this.viewModeSubject.value}toggleViewMode(){let t=this.viewModeSubject.value==="grid"?"carousel":"grid";this.viewModeSubject.next(t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};var F7=["swiperRef"],V7=["filterPanel"],rL=n=>["/link",n];function U7(n,e){if(n&1){let t=xe();T(0,"div",1),fe(1,"div",12),T(2,"div",13)(3,"div",14)(4,"div",15)(5,"h2",16),N(6,"Ajouter un nouveau lien"),A(),T(7,"button",17),ne("click",function(){he(t);let i=Z();return pe(i.toggleAddLinkForm())}),T(8,"span",7),N(9,"close"),A()()(),T(10,"div",18)(11,"app-link-form",19),ne("linkAdded",function(){he(t);let i=Z();return pe(i.onLinkAdded())}),A()()()()()}}function j7(n,e){if(n&1&&fe(0,"img",22),n&2){let t=Z(2);q("src",t.currentBgImage,Ct)}}function B7(n,e){if(n&1&&(T(0,"div",2),se(1,j7,1,1,"img",20),fe(2,"div",21),A()),n&2){let t=Z();L(),q("ngIf",t.currentBgImage)}}function $7(n,e){if(n&1){let t=xe();T(0,"div",9)(1,"div",23)(2,"span",24),N(3,"search_off"),A(),T(4,"h3",25),N(5,"Aucun lien trouv\xE9"),A(),T(6,"p",26),N(7,"Aucune carte ne correspond aux crit\xE8res de filtrage s\xE9lectionn\xE9s."),A(),T(8,"button",27),ne("click",function(){he(t);let i=Z();return pe(i.resetFilters())}),N(9," R\xE9initialiser les filtres "),A()()()}}function z7(n,e){n&1&&(T(0,"div",9)(1,"div",23)(2,"span",24),N(3,"info"),A(),T(4,"h3",28),N(5,"Aucun lien \xE0 afficher"),A(),T(6,"p",29),N(7,"Il n'y a pas encore de liens. Utilise le bouton "),T(8,"span",30),N(9,"+"),A(),N(10," pour en ajouter un."),A()()())}function H7(n,e){if(n&1){let t=xe();T(0,"swiper-slide")(1,"div",32)(2,"h3",33),N(3),A(),T(4,"app-star-rating",34),ne("ratingChange",function(i){let s=he(t).$implicit,o=Z(2);return pe(o.onRatingChange(s,i))}),A()(),T(5,"div",35),fe(6,"img",36),T(7,"div",37)(8,"div",38)(9,"button",39),ne("click",function(){let i=he(t).$implicit,s=Z(2);return pe(s.openLink(i.url))}),N(10," Lien de la page "),A(),T(11,"button",40),N(12," voir "),A()()()()()}if(n&2){let t=e.$implicit;L(3),He(t.title),L(),q("rating",t.averageRating||0)("totalRatings",t.totalRatings||0),L(2),q("src",t.imageUrl,Ct)("alt",t.title),L(5),q("routerLink",xl(6,rL,t.id))}}function q7(n,e){if(n&1&&(T(0,"swiper-container",10,0),se(2,H7,13,8,"swiper-slide",31),A()),n&2){let t=Z();L(2),q("ngForOf",t.filteredLinks)}}function G7(n,e){if(n&1){let t=xe();T(0,"div",42),fe(1,"img",43),T(2,"div",18)(3,"h3",44),N(4),A(),T(5,"p",45),N(6),A(),T(7,"div",46)(8,"app-star-rating",34),ne("ratingChange",function(i){let s=he(t).$implicit,o=Z(2);return pe(o.onRatingChange(s,i))}),A()(),T(9,"div",47)(10,"span",48)(11,"span",49),N(12,"schedule"),A(),N(13),wn(14,"date"),A()(),T(15,"div",50)(16,"button",51),ne("click",function(){let i=he(t).$implicit,s=Z(2);return pe(s.openLink(i.url))}),N(17," Lien de la page "),A(),T(18,"button",52),N(19," voir "),A()()()()}if(n&2){let t=e.$implicit;L(),q("src",t.imageUrl,Ct)("alt",t.title),L(3),He(t.title),L(2),He(t.description),L(2),q("rating",t.averageRating||0)("totalRatings",t.totalRatings||0),L(5),Oe(" ",oa(14,8,t.createdAt,"dd/MM/yyyy")," "),L(5),q("routerLink",xl(11,rL,t.id))}}function W7(n,e){if(n&1&&(T(0,"div",11),se(1,G7,20,13,"div",41),A()),n&2){let t=Z();L(),q("ngForOf",t.filteredLinks)}}var hv=class n{constructor(e){this.platformId=e}userService=F(Hn);showNotification=!1;notificationType="success";notificationMessage="";linksService=F(Vi);authService=F(nt);firestoreService=F(wr);router=F(Ve);cdr=F(fr);links=[];filteredLinks=[];currentIndex=0;viewModeService=F(kc);viewMode$=this.viewModeService.viewMode$;showAddLinkForm=!1;userMap={};currentBgImage=null;activeFilters=null;navLinks=[{route:"/home",icon:"home",label:"Accueil"},{route:"/search",icon:"search",label:"Rechercher"},{route:"/profile",icon:"person",label:"Profil"},{route:"/settings",icon:"settings",label:"Param\xE8tres"}];swiperRef;filterPanel;swiperInterval=null;ngOnInit(){rs(this.platformId)&&this.loadLinks()}ngAfterViewInit(){this.attachSwiperListener(),this.startSwiperInterval()}ngOnDestroy(){this.swiperInterval&&clearInterval(this.swiperInterval),this.swiperRef&&this.swiperRef.nativeElement&&this.swiperRef.nativeElement.removeEventListener("slidechange",this.swiperSlideChangeHandler)}loadLinks(){this.linksService.getLinks().pipe(Nt(e=>{console.log("Liens charg\xE9s depuis Firestore:",e);let t=e.map(s=>ce(G({},s),{createdAt:this.convertFirestoreTimestamp(s.createdAt)}));this.links=t,this.filteredLinks=[...t],this.activeFilters&&this.applyFilters(this.activeFilters),setTimeout(()=>{this.attachSwiperListener(),this.startSwiperInterval(),this.filteredLinks.length>0&&(this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges())},0);let i=[...new Set(e.map(s=>s.createdBy))].map(s=>this.firestoreService.getDocument(`users/${s}`));return No(i)})).subscribe(e=>{e.forEach(t=>{t&&t.id&&(this.userMap[t.id]=t)})})}convertFirestoreTimestamp(e){if(!e)return new Date;if(e instanceof Date)return e;if(e&&typeof e=="object"&&"seconds"in e)return new Date(e.seconds*1e3);if(typeof e=="number")return new Date(e);if(typeof e=="string"){let t=new Date(e);if(!isNaN(t.getTime()))return t}return console.warn("Impossible de convertir le timestamp:",e),new Date}applyFilters(e){console.log("Filtres re\xE7us:",e),console.log("Liens avant filtrage:",this.links),this.activeFilters=e;let t=e.niveau.length>0||e.langage.length>0||e.prix.length>0||e.type.length>0;console.log("Filtres actifs:",t),t?this.filteredLinks=this.links.filter(r=>{if(console.log("Filtrage du lien:",r.title,"Propri\xE9t\xE9s:",{niveau:r.niveau,type:r.type,tags:r.tags,isPaid:r.isPaid}),e.niveau.length>0){let i=r.niveau||"";if(!e.niveau.includes(i))return console.log("Lien rejet\xE9 par niveau:",r.title,"niveau:",i,"filtres:",e.niveau),!1}if(e.langage.length>0){let i=r.tags||[];if(!e.langage.some(o=>i.some(a=>a&&a.toLowerCase().includes(o.toLowerCase()))))return console.log("Lien rejet\xE9 par langage:",r.title,"tags:",i,"filtres:",e.langage),!1}if(e.prix.length>0){let i=r.isPaid||!1,s=e.prix.includes("Payant"),o=e.prix.includes("Gratuit");if(s&&!i)return console.log("Lien rejet\xE9 par prix (payant):",r.title,"isPaid:",i),!1;if(o&&i)return console.log("Lien rejet\xE9 par prix (gratuit):",r.title,"isPaid:",i),!1}if(e.type.length>0){let i=r.type||"";if(!e.type.includes(i))return console.log("Lien rejet\xE9 par type:",r.title,"type:",i,"filtres:",e.type),!1}return console.log("Lien accept\xE9:",r.title),!0}):(this.filteredLinks=[...this.links],console.log("Aucun filtre actif, affichage de tous les liens")),console.log("Liens apr\xE8s filtrage:",this.filteredLinks),console.log("Nombre de liens filtr\xE9s:",this.filteredLinks.length),this.currentIndex>=this.filteredLinks.length&&(this.currentIndex=0),this.filteredLinks.length>0?this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl:this.currentBgImage=null,this.cdr.detectChanges()}resetFilters(){this.activeFilters=null,this.filteredLinks=[...this.links],this.currentIndex=0,this.filteredLinks.length>0&&(this.currentBgImage=this.filteredLinks[0].imageUrl),this.cdr.detectChanges()}openLink(e){!e.startsWith("http://")&&!e.startsWith("https://")&&(e="https://"+e),window.open(e,"_blank","noopener,noreferrer")}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.filteredLinks.length,this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges()}previousSlide(){this.currentIndex=(this.currentIndex-1+this.filteredLinks.length)%this.filteredLinks.length,this.currentBgImage=this.filteredLinks[this.currentIndex].imageUrl,this.cdr.detectChanges()}goToSlide(e){this.currentIndex=e}toggleAddLinkForm(){this.showAddLinkForm=!this.showAddLinkForm}onLinkAdded(){this.showAddLinkForm=!1,this.loadLinks(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Le lien a \xE9t\xE9 ajout\xE9 avec succ\xE8s!",setTimeout(()=>{this.showNotification=!1},3e3)}getUserInfo(e){return this.userMap[e]||null}logout(){this.authService.logOut().subscribe(()=>{this.router.navigate(["/login-choice"])})}onRatingChange(e,t){return P(this,null,function*(){let r=yield this.authService.getCurrentUser();r&&(yield this.linksService.rateLink(e.id,r.uid,t))})}getUserRating(e){return P(this,null,function*(){let t=yield this.authService.getCurrentUser();return t?this.linksService.getUserRating(e,t.uid):0})}attachSwiperListener(){this.swiperRef&&this.swiperRef.nativeElement&&(this.swiperRef.nativeElement.removeEventListener("slidechange",this.swiperSlideChangeHandler),this.swiperRef.nativeElement.addEventListener("slidechange",this.swiperSlideChangeHandler))}swiperSlideChangeHandler=e=>{let t=e.target.swiper,r=t.realIndex??t.activeIndex;this.filteredLinks[r]&&(this.currentBgImage=this.filteredLinks[r].imageUrl,this.currentIndex=r,this.cdr.detectChanges())};startSwiperInterval(){this.swiperInterval&&clearInterval(this.swiperInterval),this.swiperInterval=setInterval(()=>{if(this.swiperRef&&this.swiperRef.nativeElement&&this.filteredLinks.length>0){let e=this.swiperRef.nativeElement.swiper;if(e){let t=e.realIndex??e.activeIndex;this.filteredLinks[t]&&this.currentBgImage!==this.filteredLinks[t].imageUrl&&(this.currentBgImage=this.filteredLinks[t].imageUrl,this.currentIndex=t,this.cdr.detectChanges())}}},300)}static \u0275fac=function(t){return new(t||n)(me(cr))};static \u0275cmp=Ke({type:n,selectors:[["app-home"]],viewQuery:function(t,r){if(t&1&&(ku(F7,5),ku(V7,5)),t&2){let i;ra(i=ia())&&(r.swiperRef=i.first),ra(i=ia())&&(r.filterPanel=i.first)}},decls:16,vars:15,consts:[["swiperRef",""],[1,"fixed","inset-0","z-40"],[1,"fixed","inset-0","z-0","pointer-events-none"],[3,"closed","show","type","message"],[1,"min-h-screen","pb-20","relative","overflow-hidden","motion-preset-fade","motion-duration-2000"],[1,"pt-20","pb-4","text-center","relative"],[1,"absolute","right-4","top-1/2","transform","-translate-y-1/2","bg-apple-green","text-deep-green","rounded-xl","p-3","shadow-lg","hover:bg-deep-green","hover:text-apple-green","transition-colors","flex","items-center",3,"click"],[1,"material-symbols-outlined"],[3,"filterChange"],[1,"flex","flex-col","items-center","justify-center","min-h-[50vh]","text-center","px-4"],["effect","coverflow","grab-cursor","true","centered-slides","true","slides-per-view","2","loop","false","coverflow-effect-rotate","50","coverflow-effect-stretch","0","coverflow-effect-depth","100","coverflow-effect-modifier","1","coverflow-effect-slide-shadows","false","pagination","false"],[1,"grid","grid-cols-2","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","px-4","max-w-7xl","mx-auto"],[1,"absolute","inset-0","bg-black/50","motion-preset-fade","motion-duration-500"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"bg-black","rounded-xl","shadow-xl","max-w-md","w-full","mx-4","max-h-[90vh]","overflow-y-auto","relative"],[1,"sticky","top-0","bg-black","p-4","border-b","border-deep-green","flex","justify-between","items-center"],[1,"text-3xl","font-semibold","font-primary","text-apple-green"],[1,"text-white","hover:text-gray-700",3,"click"],[1,"p-4"],[3,"linkAdded"],["class","w-full h-full object-cover blur-md transition-all duration-900 opacity-80 fade-bg",3,"src",4,"ngIf"],[1,"absolute","inset-0","bg-soft-white/50"],[1,"w-full","h-full","object-cover","blur-md","transition-all","duration-900","opacity-80","fade-bg",3,"src"],[1,"bg-white/10","backdrop-blur-sm","rounded-2xl","p-8","border","border-apple-green/30"],[1,"material-symbols-outlined","text-6xl","text-apple-green","mb-4"],[1,"text-2xl","font-primary","text-white","mb-2"],[1,"text-white/70","mb-6"],[1,"bg-apple-green","text-white","px-6","py-3","rounded-xl","hover:bg-deep-green","transition-colors",3,"click"],[1,"text-2xl","font-primary","text-black","mb-2"],[1,"text-black/70"],[1,"bg-apple-green","text-deep-green","rounded-sm","px-2","py-1"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","mb-6"],[1,"font-primary","text-3xl","font-bold","mb-20","drop-shadow"],[3,"ratingChange","rating","totalRatings"],[1,"max-w-2xs","mx-auto","rounded-4xl","shadow-lg","overflow-hidden","relative","bg-white"],[1,"w-full","h-full","object-cover","rounded-4xl",3,"src","alt"],[1,"absolute","bottom-0","left-0","right-0","p-6","bg-gradient-to-t","from-black/70","to-transparent"],[1,"flex","flex-col","sm:flex-row","justify-between","mt-2","gap-2","sm:gap-0"],[1,"flex","justify-center","text-black","items-center","text-xs","sm:text-sm","bg-white/80","rounded-xl","px-2","sm:px-4","py-1","hover:bg-apple-green","hover:text-white","transition-colors","w-full","sm:w-auto",3,"click"],[1,"flex","justify-center","bg-apple-green","text-white","text-center","py-1","px-3","sm:px-6","rounded-xl","shadow-xl","hover:bg-deep-green","transition-colors","w-full","sm:w-auto","text-xs","sm:text-sm",3,"routerLink"],["class","bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",4,"ngFor","ngForOf"],[1,"bg-white","rounded-2xl","shadow-lg","overflow-hidden","hover:shadow-xl","transition-shadow"],[1,"w-full","h-48","object-cover",3,"src","alt"],[1,"font-primary","text-xl","font-bold","text-deep-green","mb-2","line-clamp-2"],[1,"text-gray-600","text-xs","mb-3","line-clamp-3","sm:text-xs","md:text-xs"],[1,"mb-3"],[1,"flex","items-center","justify-between","text-xs","text-gray-500","mb-3"],[1,"flex","items-center"],[1,"material-symbols-outlined","text-xs","mr-1","md:text-sm"],[1,"flex","flex-col","gap-2"],[1,"flex-1","bg-apple-green","text-white","py-2","px-3","rounded-lg","text-sm","hover:bg-deep-green","transition-colors","sm:text-xs","md:text-xs",3,"click"],[1,"flex-1","bg-deep-green","text-white","py-2","px-3","rounded-lg","text-sm","hover:bg-apple-green","transition-colors","sm:text-xs","md:text-xs",3,"routerLink"]],template:function(t,r){t&1&&(se(0,U7,12,0,"div",1)(1,B7,3,1,"div",2),wn(2,"async"),T(3,"app-notification",3),ne("closed",function(){return r.showNotification=!1}),A(),T(4,"main",4)(5,"header",5)(6,"button",6),ne("click",function(){return r.toggleAddLinkForm()}),T(7,"span",7),N(8,"add"),A()()(),T(9,"app-filter-panel",8),ne("filterChange",function(s){return r.applyFilters(s)}),A(),se(10,$7,10,0,"div",9)(11,z7,11,0,"div",9)(12,q7,3,1,"swiper-container",10),wn(13,"async"),se(14,W7,2,1,"div",11),wn(15,"async"),A()),t&2&&(Dt(r.showAddLinkForm?0:-1),L(),Dt(fi(2,9,r.viewMode$)==="carousel"&&r.filteredLinks.length>0?1:-1),L(2),q("show",r.showNotification)("type",r.notificationType)("message",r.notificationMessage),L(7),Dt(r.filteredLinks.length===0&&r.activeFilters?10:-1),L(),Dt(r.filteredLinks.length===0&&!r.activeFilters?11:-1),L(),Dt(r.filteredLinks.length>0&&fi(13,11,r.viewMode$)==="carousel"?12:-1),L(2),Dt(r.filteredLinks.length>0&&fi(15,13,r.viewMode$)==="grid"?14:-1))},dependencies:[et,jn,Et,aa,la,Yt,bn,fo,Rc,fv,ho,Ba],styles:['[_nghost-%COMP%]{display:block;background-color:#faf9f6}.carousel-slide[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}.pagination-dot[_ngcontent-%COMP%]{transition:all .3s ease}.pagination-dot[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.search-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}.card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #0000001a}button[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:active{transform:scale(.95)}.bottom-nav[_ngcontent-%COMP%]{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.grid-view[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}.fade-bg[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeInBg .8s forwards}@keyframes _ngcontent-%COMP%_fadeInBg{0%{opacity:0}to{opacity:.8}}']})};function K7(n,e){if(n&1){let t=xe();T(0,"div",32)(1,"button",33),ne("click",function(){he(t);let i=Z();return pe(i.toggleDeleteConfirm())}),T(2,"span",34),N(3,"delete"),A(),N(4," Supprimer "),A()()}}function Y7(n,e){n&1&&(T(0,"span",35),N(1,"autorenew"),A())}function Q7(n,e){if(n&1){let t=xe();T(0,"button",45),ne("click",function(){he(t);let i=Z().$implicit,s=Z();return pe(s.toggleCommentDeleteConfirm(i))}),T(1,"span",35),N(2,"delete"),A()()}}function X7(n,e){if(n&1){let t=xe();T(0,"div",36)(1,"div",37),fe(2,"img",38),T(3,"div",21)(4,"div",11)(5,"h3",39),N(6),A(),T(7,"span",40),N(8),wn(9,"date"),A()(),T(10,"p",41),N(11),A(),T(12,"div",42)(13,"button",43),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.toggleLike(i))}),T(14,"span",35),N(15," favorite "),A(),T(16,"span",16),N(17),A()(),se(18,Q7,3,0,"button",44),A()()()()}if(n&2){let t=e.$implicit,r=Z();L(2),q("src",t.senderImage||"assets/images/default-avatar.png",Ct)("alt",t.senderName),L(4),He(t.senderName),L(2),He(oa(9,9,t.createdAt,"dd/MM/yyyy \xE0 HH:mm")),L(3),He(t.text),L(3),Je("text-apple-green",r.isLikedByCurrentUser(t)),L(3),He(t.likes||0),L(),q("ngIf",r.canDeleteComment(t))}}function Z7(n,e){if(n&1){let t=xe();T(0,"div",46)(1,"div",47)(2,"h3",48),N(3,"Confirmer la suppression"),A(),T(4,"p",49),N(5," \xCAtes-vous s\xFBr de vouloir supprimer ce commentaire ? Cette action est irr\xE9versible. "),A(),T(6,"div",50)(7,"button",51),ne("click",function(){he(t);let i=Z();return pe(i.toggleCommentDeleteConfirm())}),N(8," Annuler "),A(),T(9,"button",52),ne("click",function(){he(t);let i=Z();return pe(i.confirmDeleteComment())}),T(10,"span",34),N(11,"delete"),A(),N(12," Supprimer "),A()()()()}}function J7(n,e){if(n&1&&(T(0,"div",58),N(1),A()),n&2){let t=Z(2);L(),Oe(" ",t.deleteError," ")}}function eK(n,e){n&1&&(T(0,"span",59),N(1,"autorenew"),A())}function tK(n,e){n&1&&(T(0,"span",34),N(1,"delete"),A())}function nK(n,e){if(n&1){let t=xe();T(0,"div",46)(1,"div",47)(2,"h3",48),N(3,"Confirmer la suppression"),A(),T(4,"p",49),N(5," \xCAtes-vous s\xFBr de vouloir supprimer ce lien ? Cette action est irr\xE9versible. "),A(),se(6,J7,2,1,"div",53),T(7,"div",50)(8,"button",54),ne("click",function(){he(t);let i=Z();return pe(i.toggleDeleteConfirm())}),N(9," Annuler "),A(),T(10,"button",55),ne("click",function(){he(t);let i=Z();return pe(i.deleteLink())}),se(11,eK,2,0,"span",56)(12,tK,2,0,"span",57),N(13),A()()()()}if(n&2){let t=Z();L(6),q("ngIf",t.deleteError),L(2),q("disabled",t.isDeleting),L(2),q("disabled",t.isDeleting),L(),q("ngIf",t.isDeleting),L(),q("ngIf",!t.isDeleting),L(),Oe(" ",t.isDeleting?"Suppression...":"Supprimer"," ")}}var pf=class n{router=F(Ve);route=F($n);linksService=F(Vi);authService=F(nt);userService=F(Hn);fb=F(br);firestoreService=F(wr);link=null;isOwner=!1;isAdmin=!1;showDeleteConfirm=!1;isDeleting=!1;deleteError=null;comments=[];commentForm;isSubmitting=!1;currentUser=null;subscriptions=[];showCommentDeleteConfirm=!1;commentToDelete=null;constructor(){this.commentForm=this.fb.group({text:["",[dt.required,dt.minLength(1)]]}),Bs(()=>{let e=this.authService.currentUserSignal();e?this.userService.getUserById(e.id||"").subscribe(t=>{this.currentUser=t,this.isAdmin=t?.role==="admin"}):(this.currentUser=null,this.isAdmin=!1)})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.loadLink(e):this.router.navigate(["/home"])}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadLink(e){this.linksService.getLinkById(e).subscribe({next:t=>{this.link=t,this.checkOwnership(),this.loadComments()},error:t=>{this.router.navigate(["/home"])}})}checkOwnership(){if(!this.link)return;let e=this.authService.getCurrentUser();this.isOwner=e?.uid===this.link.createdBy}addComment(){return P(this,null,function*(){let e=this.authService.getCurrentUser();if(!e){console.error("User must be authenticated to add comments"),this.router.navigate(["/auth/login"]);return}if(!this.commentForm.valid||this.isSubmitting||!this.currentUser||!this.link){console.error("Form validation failed or missing required data");return}if(!this.currentUser.id||!this.link.id){console.error("Missing required IDs");return}this.isSubmitting=!0;let t=this.commentForm.get("text")?.value?.trim();if(!t){this.isSubmitting=!1;return}try{let r=G({text:t,senderId:e.uid,senderName:this.currentUser.userName||"Utilisateur Anonyme",linkId:this.link.id,createdAt:new Date,likes:0,likedBy:[],read:!1,isEdited:!1},this.currentUser.userImageUrl?.base64&&{senderImage:this.currentUser.userImageUrl.base64});console.log("Attempting to add comment with data:",{senderId:r.senderId,linkId:r.linkId});let i=yield this.firestoreService.addDocument("comments",r);if(!i)throw new Error("Failed to create comment");console.log("Comment added successfully with ID:",i),this.commentForm.reset(),setTimeout(()=>this.loadComments(),500)}catch(r){console.error("Error adding comment:",r),this.deleteError="Erreur lors de l'ajout du commentaire. Veuillez r\xE9essayer."}finally{this.isSubmitting=!1}})}loadComments(){if(!this.link?.id)return;let e=this.firestoreService.getCollection("comments",t=>La(t,wc("linkId","==",this.link.id),_c("createdAt","desc"))).subscribe({next:t=>{this.comments=t.map(r=>ce(G({},r),{createdAt:r.createdAt instanceof Lt?r.createdAt.toDate():new Date(r.createdAt)}))},error:t=>{t.code==="permission-denied"&&this.router.navigate(["/auth/login"])}});this.subscriptions.push(e)}toggleLike(e){return P(this,null,function*(){if(!this.currentUser?.id||!e.id){console.error("Cannot like comment: Missing user ID or comment ID");return}let t=this.currentUser.id,r=e.likedBy||[],i=r.includes(t);try{let s=i?r.filter(o=>o!==t):[...r,t];yield this.firestoreService.updateDocument(`comments/${e.id}`,{likedBy:s,likes:s.length}),e.likedBy=s,e.likes=s.length}catch(s){console.error("Error toggling like:",s)}})}isLikedByCurrentUser(e){return e.likedBy?.includes(this.currentUser?.id||"")||!1}canDeleteComment(e){return this.currentUser?.id===e.senderId||this.isOwner}deleteComment(e){return P(this,null,function*(){if(!this.canDeleteComment(e)){console.error("User does not have permission to delete this comment");return}if(!e.id){console.error("Cannot delete comment: Comment ID is missing");return}try{if(!(yield this.firestoreService.getDocument(`comments/${e.id}`))){console.error("Comment not found in database");return}yield this.firestoreService.deleteDocument(`comments/${e.id}`),console.log("Commentaire supprim\xE9 avec succ\xE8s:",e.id),this.comments=this.comments.filter(r=>r.id!==e.id),this.toggleCommentDeleteConfirm()}catch(t){console.error("Error deleting comment:",t),t.code==="permission-denied"&&(console.error("Permission denied: User may not be authenticated"),this.router.navigate(["/auth/login"])),this.deleteError="Une erreur s'est produite lors de la suppression du commentaire. Veuillez r\xE9essayer."}})}toggleDeleteConfirm(){console.log("Toggle delete confirm, \xE9tat actuel:",this.showDeleteConfirm),this.showDeleteConfirm=!this.showDeleteConfirm,this.deleteError=null,console.log("Nouvel \xE9tat:",this.showDeleteConfirm)}deleteLink(){return P(this,null,function*(){if(console.log("D\xE9but de la suppression du lien"),!this.link?.id){console.error("ID de lien manquant"),this.deleteError="Impossible de supprimer: ID de lien invalide";return}this.isDeleting=!0;try{console.log("Tentative de suppression du lien:",this.link.id),yield this.linksService.deleteLink(this.link.id),console.log("Lien supprim\xE9 avec succ\xE8s"),this.router.navigate(["/home"])}catch(e){console.error("Erreur d\xE9taill\xE9e lors de la suppression:",e),this.isDeleting=!1,this.deleteError=e.message||"Une erreur s'est produite lors de la suppression"}})}toggleCommentDeleteConfirm(e){e?this.commentToDelete=e:this.commentToDelete=null,this.showCommentDeleteConfirm=!this.showCommentDeleteConfirm}confirmDeleteComment(){return P(this,null,function*(){if(this.commentToDelete)try{yield this.deleteComment(this.commentToDelete)}catch(e){console.error("Erreur lors de la suppression du commentaire:",e),this.deleteError="Une erreur s'est produite lors de la suppression du commentaire. Veuillez r\xE9essayer."}})}toggleLinkLike(){return P(this,null,function*(){let e=this.currentUser?.id;if(!e||!this.link?.id){console.error("Cannot like link: Missing user ID or link ID");return}try{if(yield this.linksService.toggleLike(this.link.id,e),this.link){let t=this.link.likedBy||[],r=t.includes(e);this.link.likedBy=r?t.filter(i=>i!==e):[...t,e],this.link.likes=this.link.likedBy.length}}catch(t){console.error("Error toggling link like:",t)}})}isLinkLikedByCurrentUser(){return this.link?.likedBy?.includes(this.currentUser?.id||"")||!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-link-detail"]],decls:48,vars:21,consts:[[1,"min-h-screen","pb-20","relative","overflow-hidden","text-white/50","motion-preset-fade","motion-duration-1000"],[1,"fixed","inset-0","overflow-hidden","pointer-events-none","z-0"],[1,"absolute","-top-20","-right-20","w-96","h-96","bg-apple-green","rounded-full","opacity-30","blur-3xl"],[1,"absolute","-bottom-20","-left-40","w-96","h-96","bg-blue-900","rounded-full","opacity-30","blur-3xl"],[1,"relative","z-10","backdrop-blur-sm"],[1,"flex","items-center","gap-4","p-4","justify-center","pt-10","font-primary"],[1,"text-5xl","font-bold","mb-2"],[1,"max-w-md","mx-10"],[1,"w-full","aspect-square","object-cover","rounded-3xl",3,"src","alt"],[1,"mt-4","text-white"],[1,"flex","items-center","gap-4","justify-around","text-gray-500"],[1,"flex","items-center","gap-2"],[1,"flex","items-center","gap-2","hover:text-white","transition-colors",3,"click"],[1,"material-symbols-outlined"],["class","m-4 flex justify-center",4,"ngIf"],[1,"p-6","text-white/50","text-center"],[1,"text-sm"],[1,"px-4"],[1,"mb-6",3,"ngSubmit","formGroup"],[1,"flex","gap-3"],["alt","User",1,"w-10","h-10","rounded-full","object-cover",3,"src"],[1,"flex-1"],["formControlName","text","rows","2","placeholder","Ajouter un commentaire...",1,"w-full","bg-white/10","rounded-xl","bg-clip-padding","backdrop-filter","backdrop-blur-xl","bg-opacity-10","border","border-gray-100/50","p-4","focus:outline-none","focus:border-apple-green"],[1,"flex","justify-end","mt-2"],["type","submit",1,"relative","inline-flex","group",3,"disabled"],[1,"absolute","transitiona-all","duration-1000","opacity-70","-inset-px","bg-gradient-to-r","from-[#EAE0D5]","via-[#72B01D]","to-[#3F7D20]","rounded-xl","blur-lg","group-hover:opacity-100","group-hover:-inset-1","group-hover:duration-200","animate-tilt"],["role","button",1,"relative","inline-flex","items-center","justify-center","px-8","py-2","text-sm","font-bold","text-soft-white","transition-all","duration-200","bg-apple-green","font-pj","rounded-xl","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-900"],["class","material-symbols-outlined text-sm",4,"ngIf"],[1,"space-y-4"],["class","h-full w-full bg-white/10 rounded-xl bg-clip-padding backdrop-filter backdrop-blur-lg bg-opacity-10 border border-gray-100/50  p-4",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 ",4,"ngIf"],["class","fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",4,"ngIf"],[1,"m-4","flex","justify-center"],[1,"py-2","text-xs","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click"],[1,"material-symbols-outlined","mr-1"],[1,"material-symbols-outlined","text-sm"],[1,"h-full","w-full","bg-white/10","rounded-xl","bg-clip-padding","backdrop-filter","backdrop-blur-lg","bg-opacity-10","border","border-gray-100/50","p-4"],[1,"flex","items-start","gap-3"],[1,"w-10","h-10","rounded-full","object-cover",3,"src","alt"],[1,"font-semibold","text-white"],[1,"text-gray-400","text-xs"],[1,"text-gray-200","mt-1"],[1,"flex","items-center","justify-end","gap-2","mt-2"],[1,"text-gray-400","hover:text-white","transition-colors","flex","items-center","gap-1",3,"click"],["class","text-gray-400 hover:text-red-500 transition-colors ml-4 flex items-center justify-center",3,"click",4,"ngIf"],[1,"text-gray-400","hover:text-red-500","transition-colors","ml-4","flex","items-center","justify-center",3,"click"],[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","flex","items-center","justify-center","z-50"],[1,"bg-white/10","backdrop-blur-xl","border","border-deep-green/50","rounded-xl","p-6","w-5/6","max-w-md","shadow-2xl"],[1,"text-2xl","font-bold","mb-4","text-white","font-primary"],[1,"text-gray-200","mb-6"],[1,"flex","justify-between"],[1,"py-2","px-4","bg-white/10","text-white","rounded-lg","hover:bg-white/20","transition-all","duration-300","border","border-white/20",3,"click"],[1,"py-2","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click"],["class","mb-4 p-3 bg-red-600/20 border border-red-600 rounded text-white text-sm",4,"ngIf"],[1,"py-2","px-4","bg-white/10","text-white","rounded-lg","hover:bg-white/20","transition-all","duration-300","border","border-white/20",3,"click","disabled"],[1,"py-2","px-4","bg-red-500/20","text-white","rounded-lg","flex","items-center","hover:bg-red-500/30","transition-all","duration-300","border","border-red-500/30",3,"click","disabled"],["class","material-symbols-outlined animate-spin mr-1",4,"ngIf"],["class","material-symbols-outlined mr-1",4,"ngIf"],[1,"mb-4","p-3","bg-red-600/20","border","border-red-600","rounded","text-white","text-sm"],[1,"material-symbols-outlined","animate-spin","mr-1"]],template:function(t,r){t&1&&(T(0,"main",0)(1,"div",1),fe(2,"div",2)(3,"div",3),A(),T(4,"div",4)(5,"div",5)(6,"h1",6),N(7),A()(),T(8,"div",7),fe(9,"img",8),T(10,"div",9)(11,"div",10)(12,"div",11)(13,"button",12),ne("click",function(){return r.toggleLinkLike()}),T(14,"span",13),N(15," favorite "),A(),T(16,"span"),N(17),A(),T(18,"span"),N(19),A()()(),T(20,"div",11)(21,"span",13),N(22,"comment"),A(),T(23,"span"),N(24),A(),T(25,"span"),N(26),A()()()()(),se(27,K7,5,0,"div",14),T(28,"div",15)(29,"p",16),N(30),A()(),T(31,"div",17)(32,"form",18),ne("ngSubmit",function(){return r.addComment()}),T(33,"div",19),fe(34,"img",20),T(35,"div",21),fe(36,"textarea",22),T(37,"div",23)(38,"button",24),fe(39,"div",25),T(40,"div",26),se(41,Y7,2,0,"span",27),T(42,"span"),N(43),A()()()()()()(),T(44,"div",28),se(45,X7,19,12,"div",29),A()()(),se(46,Z7,13,0,"div",30)(47,nK,14,6,"div",31),A()),t&2&&(L(7),He(r.link==null?null:r.link.title),L(2),q("src",r.link==null?null:r.link.imageUrl,Ct)("alt",r.link==null?null:r.link.title),L(5),Je("text-apple-green",r.isLinkLikedByCurrentUser())("material-symbols-filled",r.isLinkLikedByCurrentUser()),L(3),He((r.link==null?null:r.link.likes)||0),L(2),He(((r.link==null?null:r.link.likes)||0)===1?"j'aime":"j'aimes"),L(5),He(r.comments.length),L(2),He(r.comments.length===1?"Commentaire":"Commentaires"),L(),q("ngIf",r.isOwner||r.isAdmin),L(3),He(r.link==null?null:r.link.description),L(2),q("formGroup",r.commentForm),L(2),q("src",(r.currentUser==null||r.currentUser.userImageUrl==null?null:r.currentUser.userImageUrl.base64)||(r.currentUser==null||r.currentUser.userImageUrl==null?null:r.currentUser.userImageUrl.url)||"assets/images/icons/UserIcon.png",Ct),L(4),q("disabled",!r.commentForm.valid||r.isSubmitting),L(3),q("ngIf",r.isSubmitting),L(2),He(r.isSubmitting?"Envoi...":"Commenter"),L(2),q("ngForOf",r.comments),L(),q("ngIf",r.showCommentDeleteConfirm),L(),q("ngIf",r.showDeleteConfirm))},dependencies:[et,jn,Et,la,Yt,Er,Li,_r,Ni,Oi,Xr,Zr],encapsulation:2})};var rK=(n,e,t)=>({"bg-apple-green text-deep-blue":n,"bg-soft-white text-black":e,"bg-amber-500 text-white":t});function iK(n,e){n&1&&(T(0,"div",7),fe(1,"div",8),A())}function sK(n,e){if(n&1){let t=xe();T(0,"div",9)(1,"p",10),N(2,"Acc\xE8s refus\xE9"),A(),T(3,"p",11),N(4,"Vous n'avez pas les droits d'administrateur n\xE9cessaires pour acc\xE9der \xE0 cette page."),A(),T(5,"button",12),ne("click",function(){he(t);let i=Z();return pe(i.navigateToHome())}),N(6," Retour \xE0 l'accueil "),A()()}}function oK(n,e){if(n&1){let t=xe();T(0,"div",13)(1,"div",14)(2,"div",15),fe(3,"img",16),A(),T(4,"div",15)(5,"button",17),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.openRoleModal(i))}),N(6),A()()(),T(7,"div",18)(8,"div",19)(9,"p",20),N(10,"ID"),A(),T(11,"span",21),N(12),A()(),T(13,"div",19)(14,"p",20),N(15,"User"),A(),T(16,"span",21),N(17),A()(),T(18,"div",19)(19,"p",20),N(20,"Address "),A(),T(21,"span",21),N(22),A()()(),T(23,"div",22)(24,"div",23)(25,"button",24),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.viewUserProfile(i.id))}),T(26,"span",25),N(27,"visibility"),A()(),T(28,"button",26),ne("click",function(){let i=he(t).$implicit,s=Z();return pe(s.deleteUser(i.id))}),T(29,"span",25),N(30,"delete"),A()()()()()}if(n&2){let t=e.$implicit;L(3),q("src",(t.userImageUrl==null?null:t.userImageUrl.base64)||(t.userImageUrl==null?null:t.userImageUrl.url)||"assets/images/icons/UserIcon.png",Ct),L(2),q("ngClass",GA(6,rK,t.role==="admin",t.role==="reader",t.role==="author")),L(),Oe("",t.role," "),L(6),Oe(" ",t.id,""),L(5),He(t.userName),L(5),He(t.email)}}function aK(n,e){if(n&1){let t=xe();T(0,"div",27)(1,"div",28)(2,"h2",29),N(3,"Changer le r\xF4le"),A(),T(4,"p",30),N(5),A(),T(6,"div",31)(7,"button",32),ne("click",function(){he(t);let i=Z();return pe(i.updateRole("reader"))}),N(8," Reader "),A(),T(9,"button",32),ne("click",function(){he(t);let i=Z();return pe(i.updateRole("author"))}),N(10," Author "),A(),T(11,"button",32),ne("click",function(){he(t);let i=Z();return pe(i.updateRole("admin"))}),N(12," Admin "),A()(),T(13,"button",33),ne("click",function(){he(t);let i=Z();return pe(i.closeRoleModal())}),T(14,"span",25),N(15,"close"),A()()()()}if(n&2){let t=Z();L(5),Oe("Utilisateur: ",t.selectedUser==null?null:t.selectedUser.userName,""),L(2),Je("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="reader"),L(2),Je("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="author"),L(2),Je("bg-apple-green",(t.selectedUser==null?null:t.selectedUser.role)==="admin")}}var pv=class n{usersService=F(Hn);router=F(Ve);users=[];isAdmin=!1;loading=!0;errorMessage="";showRoleModal=!1;selectedUser=null;ngOnInit(){this.checkAdminStatus()}checkAdminStatus(){this.usersService.isCurrentUserAdmin().subscribe({next:e=>{this.isAdmin=e,e?this.loadUsers():this.loading=!1},error:e=>{this.isAdmin=!1,this.loading=!1,this.errorMessage="Impossible de v\xE9rifier les droits d'acc\xE8s",console.error("Erreur lors de la v\xE9rification des droits:",e)}})}loadUsers(){this.usersService.getUsers().subscribe({next:e=>{this.users=e,this.loading=!1},error:e=>{this.loading=!1,this.errorMessage="Erreur lors du chargement des utilisateurs",console.error("Erreur lors du chargement des utilisateurs:",e)}})}changeUserRole(e,t){this.loading=!0,this.usersService.changeUserRole(e,t).subscribe({next:()=>{console.log(`R\xF4le de l'utilisateur ${e} chang\xE9 en ${t}`),this.loadUsers()},error:r=>{this.loading=!1,console.error("Erreur lors du changement de r\xF4le:",r),alert(`Erreur: ${r.message}`)}})}deleteUser(e){confirm("\xCAtes-vous s\xFBr de vouloir supprimer cet utilisateur ? Cette action est irr\xE9versible.")&&(this.loading=!0,this.usersService.deleteUser(e).subscribe({next:()=>{console.log(`Utilisateur ${e} supprim\xE9`),this.loadUsers()},error:t=>{this.loading=!1,console.error("Erreur lors de la suppression:",t),alert(`Erreur: ${t.message}`)}}))}viewUserProfile(e){this.router.navigate(["/user-profile",e])}navigateToHome(){this.router.navigate(["/home"])}openRoleModal(e){this.selectedUser=e,this.showRoleModal=!0}closeRoleModal(){this.showRoleModal=!1,this.selectedUser=null}updateRole(e){this.selectedUser&&this.selectedUser.id&&(this.loading=!0,this.usersService.changeUserRole(this.selectedUser.id,e).subscribe({next:()=>{console.log(`R\xF4le de l'utilisateur ${this.selectedUser?.id} chang\xE9 en ${e}`),this.selectedUser&&(this.selectedUser.role=e),this.closeRoleModal(),this.loadUsers()},error:t=>{console.error("Erreur lors du changement de r\xF4le:",t),this.errorMessage=`Erreur: ${t.message}`,this.loading=!1}}))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-user-management"]],decls:8,vars:4,consts:[[1,"bg-black","p-4","text-soft-white"],[1,"max-w-4xl","mx-auto"],[1,"font-bold","mb-6","text-apple-green","font-primary"],["class","flex justify-center my-8",4,"ngIf"],["class","bg-red-900/30 p-4 rounded-lg text-center",4,"ngIf"],["class"," border border-gray-500 rounded-lg shadow-lg p-4 flex flex-col m-2",4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],[1,"flex","justify-center","my-8"],[1,"animate-spin","rounded-full","h-12","w-12","buser-b-2","buser-apple-green"],[1,"bg-red-900/30","p-4","rounded-lg","text-center"],[1,"text-xl","text-red-400"],[1,"mt-2","text-soft-white"],[1,"mt-4","bg-apple-green","text-black","px-6","py-2","rounded-lg","hover:bg-deep-green","transition-colors",3,"click"],[1,"border","border-gray-500","rounded-lg","shadow-lg","p-4","flex","flex-col","m-2"],[1,"flex","justify-between","items-center","pb-3"],[1,"flex-shrink-0"],["alt","User",1,"w-10","h-10","rounded-full","object-cover",3,"src"],[1,"px-2","py-1","text-xs","rounded-lg","cursor-pointer",3,"click","ngClass"],[1,"flex-1"],[1,"flex","justify-between","items-center"],[1,"text-xs","text-white"],[1,"text-sm","text-gray-500"],[1,"pt-3"],[1,"flex","justify-end","gap-5"],[1,"action-button","text-apple-green","hover:text-deep-green","mr-3","bg","bg-apple-green/10","hover:bg-apple-green/20","px-5","rounded-lg","flex","items-center","justify-center",3,"click"],[1,"material-symbols-outlined"],[1,"action-button","bg-red-400/50","p-1","text-white","px-5","text-xs","rounded-lg","flex","items-center","justify-center",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-dark-gray","rounded-lg","p-6","w-96","relative"],[1,"text-2xl","font-bold","mb-4","text-apple-green","font-primary"],[1,"text-soft-white","mb-4"],[1,"space-y-2"],[1,"w-full","text-left","px-4","py-2","rounded","hover:bg-apple-green","text-soft-white",3,"click"],[1,"absolute","top-2","right-2","text-gray-400","hover:text-white",3,"click"]],template:function(t,r){t&1&&(T(0,"section",0)(1,"div",1)(2,"h1",2),N(3,"Administration des utilisateurs"),A(),se(4,iK,2,0,"div",3)(5,sK,7,0,"div",4)(6,oK,31,10,"div",5),A()(),se(7,aK,16,7,"div",6)),t&2&&(L(4),q("ngIf",r.loading),L(),q("ngIf",!r.loading&&!r.isAdmin),L(),q("ngForOf",r.users),L(),q("ngIf",r.showRoleModal))},dependencies:[et,Uu,jn,Et,Yt,fo],styles:[".role-select[_ngcontent-%COMP%]{background-color:#1e1e1ecc;border-color:#444;transition:border-color .2s ease}.role-select[_ngcontent-%COMP%]:focus{border-color:var(--apple-green);outline:none}.action-button[_ngcontent-%COMP%]{transition:all .2s ease}.action-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]})};var mv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-policy"]],decls:78,vars:0,consts:[[1,"min-h-screen","bg-black","p-4","text-soft-white"],[1,"max-w-4xl","mx-auto","py-8"],[1,"text-3xl","font-bold","mb-8","text-apple-green"],[1,"space-y-12"],["id","confidentialite",1,"scroll-mt-20"],[1,"text-2xl","font-semibold","mb-4","text-apple-green"],[1,"space-y-4","text-gray-300"],[1,"list-disc","pl-6","space-y-2"],["id","regles",1,"scroll-mt-20"],["id","contenu",1,"scroll-mt-20"],["id","moderation",1,"scroll-mt-20"],[1,"mt-12","p-6","bg-gray-700/30","rounded-xl"],[1,"text-xl","font-semibold","mb-4","text-apple-green"],[1,"text-gray-300","mb-4"],["href","mailto:contact@thelastcoders.com",1,"text-apple-green","hover:text-deep-green","transition-colors"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"div",1)(2,"h1",2),N(3,"Politique de Confidentialit\xE9 et R\xE8gles de la Communaut\xE9 "),A(),T(4,"div",3)(5,"section",4)(6,"h2",5),N(7,"Confidentialit\xE9"),A(),T(8,"div",6)(9,"p"),N(10,"Nous nous engageons \xE0 prot\xE9ger votre vie priv\xE9e et vos donn\xE9es personnelles."),A(),T(11,"ul",7)(12,"li"),N(13,"Vos donn\xE9es personnelles ne sont jamais partag\xE9es avec des tiers sans votre consentement "),A(),T(14,"li"),N(15,"Vous pouvez supprimer votre compte et toutes vos donn\xE9es \xE0 tout moment"),A(),T(16,"li"),N(17,"Nous utilisons des cookies essentiels uniquement pour le fonctionnement du site"),A(),T(18,"li"),N(19,"Vos liens partag\xE9s sont visibles uniquement par les membres de la communaut\xE9"),A()()()(),T(20,"section",8)(21,"h2",5),N(22,"R\xE8gles de la Communaut\xE9"),A(),T(23,"div",6)(24,"p"),N(25,"Pour maintenir une communaut\xE9 saine et productive, nous demandons \xE0 tous les membres de respecter ces r\xE8gles :"),A(),T(26,"ul",7)(27,"li"),N(28,"Respect mutuel entre tous les membres"),A(),T(29,"li"),N(30,"Pas de discrimination ou de harc\xE8lement"),A(),T(31,"li"),N(32,"Pas de spam ou de contenu promotionnel non sollicit\xE9"),A(),T(33,"li"),N(34,"Partage de contenu pertinent et de qualit\xE9"),A(),T(35,"li"),N(36,"Respect des droits d'auteur et de la propri\xE9t\xE9 intellectuelle"),A()()()(),T(37,"section",9)(38,"h2",5),N(39,"Directives de Contenu"),A(),T(40,"div",6)(41,"p"),N(42,"Le contenu partag\xE9 doit respecter ces crit\xE8res :"),A(),T(43,"ul",7)(44,"li"),N(45,"Contenu \xE9ducatif et professionnel uniquement"),A(),T(46,"li"),N(47,"Liens vers des ressources fiables et v\xE9rifi\xE9es"),A(),T(48,"li"),N(49,"Descriptions claires et pertinentes"),A(),T(50,"li"),N(51,"Cat\xE9gorisation appropri\xE9e des ressources"),A(),T(52,"li"),N(53,"Pas de contenu ill\xE9gal ou inappropri\xE9"),A()()()(),T(54,"section",10)(55,"h2",5),N(56,"Mod\xE9ration"),A(),T(57,"div",6)(58,"p"),N(59,"Notre \xE9quipe de mod\xE9ration s'engage \xE0 :"),A(),T(60,"ul",7)(61,"li"),N(62,"R\xE9viser r\xE9guli\xE8rement le contenu partag\xE9"),A(),T(63,"li"),N(64,"R\xE9pondre aux signalements dans les 24h"),A(),T(65,"li"),N(66,"Maintenir un environnement s\xFBr et professionnel"),A(),T(67,"li"),N(68,"Sanctionner les violations des r\xE8gles de mani\xE8re \xE9quitable"),A(),T(69,"li"),N(70,"Prot\xE9ger la confidentialit\xE9 des utilisateurs"),A()()()()(),T(71,"div",11)(72,"h3",12),N(73,"Contact"),A(),T(74,"p",13),N(75,"Pour toute question concernant notre politique ou pour signaler un probl\xE8me : "),A(),T(76,"a",14),N(77," contact@thelastcoders.com "),A()()()())},dependencies:[et,Yt],encapsulation:2})};var lK=()=>["/admin/users"],cK=()=>["/home/add"],iL=n=>["/link",n];function uK(n,e){if(n&1){let t=xe();T(0,"label",24)(1,"input",25),ne("change",function(i){he(t);let s=Z();return pe(s.onFileSelected(i))}),A(),T(2,"span",26),N(3,"photo_camera"),A()()}}function dK(n,e){n&1&&(T(0,"div",27)(1,"p"),N(2,"La photo de profil ne peux pas d\xE9passer 80kb"),A()())}function fK(n,e){if(n&1&&(T(0,"h1",28),N(1),A()),n&2){let t=Z();L(),He(t.user==null?null:t.user.userName)}}function hK(n,e){n&1&&fe(0,"input",29)}function pK(n,e){n&1&&(T(0,"div",30)(1,"div")(2,"label",31),N(3,"Bio"),A(),fe(4,"textarea",32),A(),T(5,"div")(6,"label",33),N(7,"Github"),A(),fe(8,"input",34),A(),T(9,"div")(10,"label",35),N(11,"LinkedIn"),A(),fe(12,"input",36),A(),T(13,"div")(14,"label",37),N(15,"Twitter"),A(),fe(16,"input",38),A()())}function mK(n,e){if(n&1){let t=xe();T(0,"button",39),ne("click",function(){he(t);let i=Z();return pe(i.toggleEdit())}),N(1," Editer profil "),A()}}function gK(n,e){if(n&1){let t=xe();T(0,"div",40)(1,"button",41),ne("click",function(){he(t);let i=Z();return pe(i.toggleEdit())}),N(2," Annuler "),A(),T(3,"button",42),ne("click",function(){he(t);let i=Z();return pe(i.updateProfile())}),N(4," Sauvegarder "),A()()}}function vK(n,e){n&1&&(T(0,"div",43)(1,"a",44),N(2," Administration des utilisateurs "),A()()),n&2&&(L(),q("routerLink",M_(1,lK)))}function yK(n,e){n&1&&(T(0,"div",45),fe(1,"div",46),A())}function wK(n,e){n&1&&(T(0,"div",47)(1,"p",48),N(2,"Aucun lien pour le moment"),A(),T(3,"a",49),N(4," Partager un lien "),A()()),n&2&&(L(3),q("routerLink",M_(1,cK)))}function _K(n,e){if(n&1){let t=xe();T(0,"div",52)(1,"a",53)(2,"div",54),fe(3,"img",55),A(),T(4,"h3",56),N(5),A(),T(6,"div",57)(7,"div",58)(8,"span",59),N(9,"schedule"),A(),N(10),wn(11,"date"),A(),T(12,"button",60),ne("click",function(){let i=he(t).$implicit,s=Z(2);return pe(s.toggleLinkLike(i))}),T(13,"span",61),N(14," favorite "),A(),N(15),A()()()()}if(n&2){let t=e.$implicit,r=Z(2);L(),q("routerLink",xl(13,iL,t.id)),L(2),q("src",t.imageUrl||"assets/images/default-link.png",Ct)("alt",t.title),L(2),He(t.title),L(5),Oe(" ",oa(11,10,t.createdAt,"d MMM yyyy")," "),L(3),Je("text-apple-green",r.isLinkLikedByCurrentUser(t))("material-symbols-filled",r.isLinkLikedByCurrentUser(t)),L(2),Oe(" ",t.likes||0," ")}}function bK(n,e){if(n&1){let t=xe();T(0,"div",52)(1,"a",53)(2,"div",54),fe(3,"img",55),A(),T(4,"h3",56),N(5),A(),T(6,"div",57)(7,"div",3)(8,"span",59),N(9,"schedule"),A(),N(10),wn(11,"date"),A(),T(12,"button",60),ne("click",function(){let i=he(t).$implicit,s=Z(2);return pe(s.toggleLinkLike(i))}),T(13,"span",61),N(14," favorite "),A(),N(15),A()()()()}if(n&2){let t=e.$implicit,r=Z(2);L(),q("routerLink",xl(13,iL,t.id)),L(2),q("src",t.imageUrl||"assets/images/default-link.png",Ct)("alt",t.title),L(2),He(t.title),L(5),Oe(" ",oa(11,10,t.createdAt,"d MMM yyyy")," "),L(3),Je("text-apple-green",r.isLinkLikedByCurrentUser(t))("material-symbols-filled",r.isLinkLikedByCurrentUser(t)),L(2),Oe(" ",t.likes||0," ")}}function EK(n,e){if(n&1&&(T(0,"div",50),se(1,_K,16,15,"div",51)(2,bK,16,15,"div",51),A()),n&2){let t=Z();L(),q("ngForOf",t.userSharedLinks)("ngForTrackBy",t.trackById),L(),q("ngForOf",t.likedLinks)("ngForTrackBy",t.trackById)}}var mf=class n{router=F(Ve);route=F($n);authService=F(nt);usersService=F(Hn);linksService=F(Vi);firestorageService=F(Mc);fb=F(br);user=null;profileForm;showNotification=!1;notificationType="success";notificationMessage="";selectedFile=null;imagePreview=null;isEditing=!1;userSharedLinks=[];likedLinks=[];userId="";isLoading=!0;subscriptions=[];canEdit=!1;currentUser=null;constructor(){this.profileForm=this.fb.group({userName:[""],userImageUrl:[""],bio:[""],github:[""],linkedin:[""],twitter:[""]}),Bs(()=>{let e=this.authService.currentUserSignal();e?this.usersService.getUserById(e.id||"").subscribe(t=>{this.currentUser=t}):this.currentUser=null})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id"),t=this.authService.currentUserSignal(),r=this.authService.getCurrentUser();if(!t&&!r){this.router.navigate(["/login"]);return}e?this.userId=e:r&&r.uid?this.userId=r.uid:t&&t.id&&(this.userId=t.id),this.userId?(this.linksService.getLinks().subscribe(i=>{let s=[...new Set(i.map(a=>a.createdBy))],o=i.filter(a=>a.createdBy===this.userId)}),this.loadUserData(),this.loadUserSharedLinks(),this.checkEditPermission()):this.isLoading=!1}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadUserData(){this.usersService.getUserById(this.userId).subscribe({next:e=>{this.user=e,this.user&&this.initForm()},error:e=>{this.router.navigate(["/login"])}})}initForm(){this.profileForm.patchValue({userName:this.user?.userName||"",bio:this.user?.bio||"",github:this.user?.socialLinks?.github||"",linkedin:this.user?.socialLinks?.linkedin||"",twitter:this.user?.socialLinks?.twitter||""})}checkEditPermission(){this.usersService.canModifyUser(this.userId).subscribe({next:e=>{this.canEdit=e},error:e=>{this.canEdit=!1}})}toggleEdit(){if(!this.canEdit){alert("Vous n'avez pas les droits n\xE9cessaires pour modifier ce profil");return}this.isEditing=!this.isEditing,this.isEditing?this.initForm():(this.initForm(),this.imagePreview=null,this.selectedFile=null)}onFileSelected(e){return P(this,null,function*(){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];if(!r.type.startsWith("image/")||r.size>5*1024*1024)return;this.selectedFile=r;try{let i=yield this.convertToBase64(r);this.imagePreview=i,yield this.usersService.updateUserProfileWithBase64Image(this.userId,{userName:this.user?.userName,email:this.user?.email,role:this.user?.role},i),this.loadUserData(),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Photo de profil mise \xE0 jour avec succ\xE8s",setTimeout(()=>this.showNotification=!1,3e3)}catch{}}})}convertToBase64(e){return P(this,null,function*(){return new Promise((t,r)=>{let i=new FileReader;i.onload=s=>{let o=s.target?.result;t(o)},i.onerror=s=>{r(s)},i.readAsDataURL(e)})})}getUserProfileImage(){return this.user?.userImageUrl?.base64?this.user.userImageUrl.base64:this.user?.userImageUrl?.url?this.user.userImageUrl.url:"assets/images/icons/userIcon.png"}updateProfile(){return P(this,null,function*(){if(!this.user||!this.profileForm.valid){this.showNotification=!0,this.notificationType="error",this.notificationMessage="Le formulaire est invalide. Veuillez v\xE9rifier les champs.",setTimeout(()=>this.showNotification=!1,3e3);return}this.isLoading=!0;try{let e={userName:this.profileForm.value.userName,bio:this.profileForm.value.bio,socialLinks:{github:this.profileForm.value.github,linkedin:this.profileForm.value.linkedin,twitter:this.profileForm.value.twitter},userImageUrl:this.user.userImageUrl};yield Po(this.usersService.updateUserProfile(this.userId,e)),this.user=G(G({},this.user),e),this.showNotification=!0,this.notificationType="success",this.notificationMessage="Profil mis \xE0 jour avec succ\xE8s!",setTimeout(()=>this.showNotification=!1,3e3),this.isEditing=!1,this.loadUserData()}catch{}finally{this.isLoading=!1}})}convertTimestampToDate(e){return e instanceof Date?e:e&&typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3):new Date(e)}loadUserSharedLinks(){if(!this.userId){this.isLoading=!1;return}this.isLoading=!0;let e=this.linksService.getLinks().subscribe({next:t=>{let r=t.map(s=>ce(G({},s),{createdAt:this.convertTimestampToDate(s.createdAt)})),i=r.filter(s=>s.createdBy===this.userId);if(i.length>0)this.userSharedLinks=i;else{let s=this.authService.getCurrentUser();if(s&&s.uid){let o=r.filter(a=>a.createdBy===s.uid);o.length>0?this.userSharedLinks=o:this.userSharedLinks=[]}else this.userSharedLinks=[]}this.isLoading=!1},error:t=>{this.isLoading=!1,this.userSharedLinks=[]}});this.subscriptions.push(e)}trackById(e,t){return t.id||e.toString()}toggleLinkLike(e){return P(this,null,function*(){let t=this.currentUser?.id;if(!(!t||!e.id))try{yield this.linksService.toggleLike(e.id,t);let r=e.likedBy||[],i=r.includes(t);e.likedBy=i?r.filter(s=>s!==t):[...r,t],e.likes=e.likedBy.length}catch{}})}isLinkLikedByCurrentUser(e){return e.likedBy?.includes(this.currentUser?.id||"")||!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-users"]],decls:27,vars:18,consts:[[3,"closed","show","type","message"],[1,"min-h-screen","bg-black","p-4","text-soft-white"],[1,"max-w-2xl","mx-auto","motion-preset-fade","motion-duration-500"],[1,"flex","flex-col","items-center"],[1,"relative","w-32","h-32","mb-4"],["alt","Profile",1,"w-full","h-full","rounded-full","object-cover","bg-soft-white","ring-2","ring-apple-green",3,"src"],["class","absolute bottom-0 right-0 bg-apple-green p-2 rounded-full cursor-pointer hover:bg-deep-green transition-colors shadow-lg",4,"ngIf"],["class","text-xs mb-2 text-red-400/50",4,"ngIf"],[1,"w-full","max-w-md",3,"formGroup"],[1,"mb-4","text-center"],["class","text-2xl font-bold mb-2 text-soft-white",4,"ngIf"],["type","text","formControlName","userName","class","text-2xl font-bold text-center border-b-2 bg-transparent text-soft-white focus:outline-none focus:border-apple-green",4,"ngIf"],[1,"bg-apple-green","text-white","px-3","py-1","rounded-full","text-sm"],[1,"mt-2","font-secondary","text-gray-400"],[1,"text-sm"],["class","space-y-4 mt-6 px-4",4,"ngIf"],["class","mt-4 bg-apple-green text-black px-6 py-1 rounded-3xl font-bold text-xs hover:bg-deep-green transition-colors ",3,"click",4,"ngIf"],["class","flex gap-3 mt-6",4,"ngIf"],["class","mt-4 text-center",4,"ngIf"],[1,"w-full","mb-6","mt-20"],[1,"text-lg","font-semibold","mb-4","text-soft-white","font-secondary"],["class","flex justify-center items-center py-8",4,"ngIf"],["class","text-center py-8 ",4,"ngIf"],["class","grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-4",4,"ngIf"],[1,"absolute","bottom-0","right-0","bg-apple-green","p-2","rounded-full","cursor-pointer","hover:bg-deep-green","transition-colors","shadow-lg"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"material-symbols-outlined","text-white"],[1,"text-xs","mb-2","text-red-400/50"],[1,"text-2xl","font-bold","mb-2","text-soft-white"],["type","text","formControlName","userName",1,"text-2xl","font-bold","text-center","border-b-2","bg-transparent","text-soft-white","focus:outline-none","focus:border-apple-green"],[1,"space-y-4","mt-6","px-4"],["for","bio",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","bio","formControlName","bio","rows","3",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","github",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","github","type","text","formControlName","github",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","linkedin",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","linkedin","type","text","formControlName","linkedin",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],["for","twitter",1,"block","text-sm","font-medium","text-gray-400","mb-1"],["id","twitter","type","text","formControlName","twitter",1,"w-full","px-3","py-2","bg-dark-gray","border","border-gray-700","rounded-lg","text-soft-white","focus:outline-none","focus:border-apple-green"],[1,"mt-4","bg-apple-green","text-black","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-deep-green","transition-colors",3,"click"],[1,"flex","gap-3","mt-6"],[1,"bg-gray-700","text-soft-white","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-gray-600","transition-colors",3,"click"],[1,"bg-apple-green","text-black","px-6","py-1","rounded-3xl","font-bold","text-xs","hover:bg-deep-green","transition-colors",3,"click"],[1,"mt-4","text-center"],[1,"text-apple-green","hover:text-deep-green","text-sm",3,"routerLink"],[1,"flex","justify-center","items-center","py-8"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-apple-green"],[1,"text-center","py-8"],[1,"text-gray-400"],[1,"inline-block","mt-4","px-6","py-2","bg-apple-green","text-black","rounded-lg","hover:bg-deep-green","transition-colors",3,"routerLink"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","gap-2","sm:gap-4"],["class","bg-gray-600/50 rounded-lg p-2 sm:p-4 hover:bg-gray-800 transition-colors",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-gray-600/50","rounded-lg","p-2","sm:p-4","hover:bg-gray-800","transition-colors"],[1,"block",3,"routerLink"],[1,"mb-2"],[1,"w-[50px]","h-[50px]","object-cover","rounded-lg",3,"src","alt"],[1,"text-xs","text-apple-green","mb-2"],[1,"flex","items-center","justify-between","text-xs","text-gray-400"],[1,"flex","items-center"],[1,"material-symbols-outlined","text-xs","mr-1"],[1,"flex","items-center","hover:text-apple-green","transition-colors",3,"click"],[1,"material-symbols-outlined","text-sm","mr-1"]],template:function(t,r){t&1&&(T(0,"app-notification",0),ne("closed",function(){return r.showNotification=!1}),A(),T(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),fe(5,"img",5),se(6,uK,4,0,"label",6),A(),se(7,dK,3,0,"div",7),T(8,"form",8)(9,"div",9),se(10,fK,2,1,"h1",10)(11,hK,1,0,"input",11),T(12,"span",12),N(13),A(),T(14,"div",13)(15,"span",14),N(16),A()()(),se(17,pK,17,0,"div",15),A(),se(18,mK,2,0,"button",16)(19,gK,5,0,"div",17)(20,vK,3,2,"div",18),T(21,"div",19)(22,"h2",20),N(23,"Liens"),A(),se(24,yK,2,0,"div",21)(25,wK,5,2,"div",22)(26,EK,3,4,"div",23),A()()()()),t&2&&(q("show",r.showNotification)("type",r.notificationType)("message",r.notificationMessage),L(5),q("src",r.imagePreview||r.getUserProfileImage(),Ct),L(),q("ngIf",r.isEditing),L(),q("ngIf",r.isEditing),L(),q("formGroup",r.profileForm),L(2),q("ngIf",!r.isEditing),L(),q("ngIf",r.isEditing),L(2),He(r.user==null?null:r.user.role),L(3),Oe(" ",r.user==null?null:r.user.bio," "),L(),q("ngIf",r.isEditing),L(),q("ngIf",r.canEdit&&!r.isEditing),L(),q("ngIf",r.isEditing),L(),q("ngIf",r.canEdit&&(r.currentUser==null?null:r.currentUser.role)==="admin"),L(4),q("ngIf",r.isLoading),L(),q("ngIf",!r.isLoading&&(!r.userSharedLinks||r.userSharedLinks.length===0)&&(!r.likedLinks||r.likedLinks.length===0)),L(),q("ngIf",!r.isLoading&&(r.userSharedLinks&&r.userSharedLinks.length>0||r.likedLinks&&r.likedLinks.length>0)))},dependencies:[et,jn,Et,la,fo,Li,_r,Ni,Oi,Er,Xr,Zr,Yt,bn,ho],encapsulation:2})};var sL=[{path:"",redirectTo:"login-choice",pathMatch:"full"},{path:"login-choice",component:zg,canActivate:[$g]},{path:"login",component:rv,canActivate:[$g]},{path:"register",component:iv,canActivate:[$g]},{path:"skills",component:ov,canActivate:[ws]},{path:"users",component:mf},{path:"user-profile/:id",component:mf,canActivate:[ws]},{path:"admin/users",component:pv,canActivate:[ws]},{path:"home",component:hv,canActivate:[ws]},{path:"home/add",component:Rc,canActivate:[ws]},{path:"home/:id",component:pf,canActivate:[ws]},{path:"link/:id",component:pf,canActivate:[ws]},{path:"policy",component:mv,canActivate:[ws]},{path:"**",redirectTo:"login-choice"}];var IK={apiKey:"AIzaSyByaNQzJ1Gsy1W5LaCvuL8UdrctPTOxCls",authDomain:"thelastcoders-a40c9.firebaseapp.com",projectId:"thelastcoders-a40c9",storageBucket:"thelastcoders-a40c9.firebasestorage.app",messagingSenderId:"537287186785",appId:"1:537287186785:web:b4333145d3151c70b98d20",measurementId:"G-31X9TT8LCJ"},oL={providers:[WN(()=>lT()),D0(sL),oR(()=>aR(IK)),fk(()=>Nm()),eL(()=>jT())]};function TK(n,e){if(n&1){let t=xe();T(0,"li")(1,"a",28),ne("click",function(){he(t);let i=Z();return pe(i.toggleMenu())}),N(2),A()()}if(n&2){let t=e.$implicit;L(),q("routerLink",t.route),L(),Oe(" ",t.label," ")}}function SK(n,e){if(n&1&&(T(0,"a",29),N(1,"LinkedIn"),A()),n&2){let t=Z();q("href",t.socialLinks.linkedin,Ct)}}function CK(n,e){if(n&1&&(T(0,"a",29),N(1,"Github"),A()),n&2){let t=Z();q("href",t.socialLinks.github,Ct)}}function DK(n,e){if(n&1&&(T(0,"a",29),N(1,"Twitter"),A()),n&2){let t=Z();q("href",t.socialLinks.twitter,Ct)}}var gv=class n{filterPanel;userService=F(Hn);cdr=F(fr);authService=F(nt);router=F(Ve);searchToggle=new Ze;filterChange=new Ze;isMenuOpen=!1;viewModeService=F(kc);viewMode$=this.viewModeService.viewMode$;menuItems=[{label:"CARDS",route:"/home"},{label:"POLITIQUE DE CONFIDENTIALIT\xC9",route:"/policy"}];socialLinks={};ngOnInit(){let e=this.authService.getCurrentUser()?.uid;e&&this.userService.getUserById(e).subscribe(t=>{this.socialLinks=t?.socialLinks||{},this.cdr.detectChanges()})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen,this.cdr.detectChanges()}toggleView(){this.viewModeService.toggleViewMode(),this.viewModeService.getCurrentViewMode()==="carousel"&&this.router.navigate(["/home"])}toggleSearch(){this.filterPanel?this.filterPanel.isOpen?this.filterPanel.closeFilters():this.filterPanel.openFilters():this.searchToggle.emit()}onFilterChange(e){this.filterChange.emit(e)}logOut(){this.authService.logOut().subscribe({next:()=>{this.router.navigate(["/login-choice"])},error:e=>{console.error("Erreur lors de la d\xE9connexion:",e)}})}navigateToProfile(){this.router.navigate(["/users"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-nav-bar"]],viewQuery:function(t,r){if(t&1&&ku(Ba,5),t&2){let i;ra(i=ia())&&(r.filterPanel=i.first)}},outputs:{searchToggle:"searchToggle",filterChange:"filterChange"},decls:38,vars:21,consts:[[1,"fixed","inset-0","z-50","transition-opacity","duration-300","font-primary","font-bold"],[1,"absolute","inset-0","bg-black/50",3,"click"],[1,"fixed","inset-y-0","left-0","w-full","bg-apple-green","transform","transition-transform","duration-300","ease-in-out"],[1,"p-4"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-xl","font-semibold","text-deep-green"],["type","button",1,"text-white","hover:text-gray-300",3,"click"],[1,"material-symbols-outlined"],[1,"w-full"],[1,"space-y-4","grid","place-content-center","h-screen"],[4,"ngFor","ngForOf"],[1,"flex","gap-2"],["target","_blank","class","text-black hover:text-soft-white",3,"href",4,"ngIf"],[1,"border-t","border-apple-green/30","mt-4","pt-20"],[1,"block","py-2","text-black","hover:text-white","rounded-lg","transition-colors","cursor-pointer","text-2xl",3,"click"],[3,"filterChange","close"],[1,"fixed","bottom-0","left-0","right-0"],[1,"max-w-md","mx-auto","px-4"],[1,"flex","justify-between","items-center","py-3"],["type","button",1,"px-6","bg-apple-green","rounded-3xl","shadow","hover:bg-light-green","transition-colors","w-18","h-12",3,"click"],["src","assets/images/icons/burgermenu.png","alt","icon"],[1,"flex","justify-between","gap-2","bg-apple-green","shadow-lg","py-1","px-2","rounded-3xl","max-w-52","max-h-12"],["type","button",1,"py-2","px-4","bg-white/30","rounded-2xl","shadow","hover:bg-light-green","transition-colors",3,"click","title"],[1,"material-symbols-outlined","text-deep-green"],["type","button",1,"transition-colors",3,"click"],["src","assets/images/icons/searchList.png","alt","icon",1,"max-w-3xl"],[1,"block","w-10","h-10","rounded-full","border","border-white","overflow-hidden","hover:ring-2","hover:ring-apple-green","transition-all",3,"click"],["alt","Profile",1,"w-full","h-full","object-cover",3,"src"],[1,"block","py-2","text-black","hover:text-white","rounded-lg","transition-colors","text-6xl",3,"click","routerLink"],["target","_blank",1,"text-black","hover:text-soft-white",3,"href"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"div",1),ne("click",function(){return r.toggleMenu()}),A(),T(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),N(6,"Menu"),A(),T(7,"button",6),ne("click",function(){return r.toggleMenu()}),T(8,"span",7),N(9,"close"),A()()(),T(10,"nav",8)(11,"ul",9),se(12,TK,3,2,"li",10),T(13,"li",11),se(14,SK,2,1,"a",12)(15,CK,2,1,"a",12)(16,DK,2,1,"a",12),A(),T(17,"li",13)(18,"a",14),ne("click",function(){return r.logOut()}),N(19," se d\xE9connecter "),A()()()()()()(),T(20,"app-filter-panel",15),ne("filterChange",function(s){return r.onFilterChange(s)})("close",function(){return r.searchToggle.emit()}),A(),T(21,"nav",16)(22,"div",17)(23,"ul",18)(24,"li")(25,"button",19),ne("click",function(){return r.toggleMenu()}),fe(26,"img",20),A()(),T(27,"li",21)(28,"button",22),wn(29,"async"),ne("click",function(){return r.toggleView()}),T(30,"span",23),N(31),wn(32,"async"),A()(),T(33,"button",24),ne("click",function(){return r.toggleSearch()}),fe(34,"img",25),A()(),T(35,"li")(36,"button",26),ne("click",function(){return r.navigateToProfile()}),fe(37,"img",27),A()()()()()),t&2&&(Je("opacity-0",!r.isMenuOpen)("pointer-events-none",!r.isMenuOpen)("opacity-100",r.isMenuOpen),L(2),Je("-translate-x-full",!r.isMenuOpen)("translate-x-0",r.isMenuOpen),L(10),q("ngForOf",r.menuItems),L(2),q("ngIf",r.socialLinks.linkedin),L(),q("ngIf",r.socialLinks.github),L(),q("ngIf",r.socialLinks.twitter),L(12),x_("title",fi(29,17,r.viewMode$)==="grid"?"Vue carrousel (retour \xE0 l'accueil)":"Vue grille"),L(3),Oe(" ",fi(32,19,r.viewMode$)==="grid"?"view_carousel":"grid_view"," "),L(6),q("src",r.userService.getCurrentUserImage(),Ct))},dependencies:[et,jn,Et,aa,Yt,bn,Ba],styles:['[_nghost-%COMP%]{display:block;position:relative;z-index:50}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}']})};var vv=class n{router=F(Ve);authService=F(nt);initializeNavigation(){return new Promise(e=>{if(this.authService.getCurrentUser()){this.router.navigate(["/home"]),e(!0);return}this.authService.isLoggedIn$.pipe(Mr(1)).subscribe(r=>{r?this.router.navigate(["/home"]):this.router.navigate(["/login-choice"]),e(!0)})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})};function xK(n,e){n&1&&fe(0,"app-nav-bar")}var yv=class n{authService=F(nt);initialNavigationService=F(vv);title="TheLastCoders";ngOnInit(){this.initialNavigationService.initializeNavigation()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-root"]],decls:5,vars:7,consts:[[4,"ngIf"]],template:function(t,r){t&1&&(T(0,"section"),wn(1,"async"),fe(2,"router-outlet"),se(3,xK,1,0,"app-nav-bar",0),wn(4,"async"),A()),t&2&&(OA(fi(1,3,r.authService.isLoggedIn$)?"min-h-screen bg-black":"min-h-screen color-back"),L(3),q("ngIf",fi(4,5,r.authService.isLoggedIn$)))},dependencies:[et,Et,aa,sd,gv],encapsulation:2})};function aL(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function zT(n,e){n===void 0&&(n={}),e===void 0&&(e={});let t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:aL(e[r])&&aL(n[r])&&Object.keys(e[r]).length>0&&zT(n[r],e[r])})}var lL={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ft(){let n=typeof document<"u"?document:{};return zT(n,lL),n}var AK={document:lL,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Xe(){let n=typeof window<"u"?window:{};return zT(n,AK),n}function _s(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function cL(n){let e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function ei(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Mn(){return Date.now()}function MK(n){let e=Xe(),t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function gf(n,e){e===void 0&&(e="x");let t=Xe(),r,i,s,o=MK(n);return t.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Pc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function RK(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function qn(){let n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){let r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!RK(r)){let i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){let a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(Pc(n[a])&&Pc(r[a])?r[a].__swiper__?n[a]=r[a]:qn(n[a],r[a]):!Pc(n[a])&&Pc(r[a])?(n[a]={},r[a].__swiper__?n[a]=r[a]:qn(n[a],r[a])):n[a]=r[a])}}}return n}function $a(n,e,t){n.style.setProperty(e,t)}function HT(n){let{swiper:e,targetPosition:t,side:r}=n,i=Xe(),s=-e.translate,o=null,a,l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);let c=t>s?"next":"prev",d=(g,m)=>c==="next"&&g>=m||c==="prev"&&g<=m,f=()=>{a=new Date().getTime(),o===null&&(o=a);let g=Math.max(Math.min((a-o)/l,1),0),m=.5-Math.cos(g*Math.PI)/2,h=s+m*(t-s);if(d(h,t)&&(h=t),e.wrapperEl.scrollTo({[r]:h}),d(h,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:h})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function Gn(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function wt(n,e){e===void 0&&(e="");let t=Xe(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(i=>i.matches(e)):r}function kK(n,e){let t=[e];for(;t.length>0;){let r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function uL(n,e){let t=Xe(),r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=kK(n,e))),r}function vf(n){try{console.warn(n);return}catch{}}function Ht(n,e){e===void 0&&(e=[]);let t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:_s(e)),t}function za(n){let e=Xe(),t=ft(),r=n.getBoundingClientRect(),i=t.body,s=n.clientTop||i.clientTop||0,o=n.clientLeft||i.clientLeft||0,a=n===e?e.scrollY:n.scrollTop,l=n===e?e.scrollX:n.scrollLeft;return{top:r.top+a-s,left:r.left+l-o}}function dL(n,e){let t=[];for(;n.previousElementSibling;){let r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function fL(n,e){let t=[];for(;n.nextElementSibling;){let r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function bs(n,e){return Xe().getComputedStyle(n,null).getPropertyValue(e)}function po(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function ti(n,e){let t=[],r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function mo(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function yf(n,e,t){let r=Xe();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}function Me(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function go(n){return e=>Math.abs(e)>0&&n.browser&&n.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}function sn(n,e){e===void 0&&(e=""),typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}var qT;function PK(){let n=Xe(),e=ft();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function vL(){return qT||(qT=PK()),qT}var GT;function NK(n){let{userAgent:e}=n===void 0?{}:n,t=vL(),r=Xe(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/),d=s.match(/(iPad).*OS\s([\d_]+)/),f=s.match(/(iPod)(.*OS\s([\d_]+))?/),g=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=i==="Win32",h=i==="MacIntel",v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&h&&t.touch&&v.indexOf(`${a}x${l}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),h=!1),c&&!m&&(o.os="android",o.android=!0),(d||g||f)&&(o.os="ios",o.ios=!0),o}function yL(n){return n===void 0&&(n={}),GT||(GT=NK(n)),GT}var WT;function OK(){let n=Xe(),e=yL(),t=!1;function r(){let a=n.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){let a=String(n.navigator.userAgent);if(a.includes("Version/")){let[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));t=l<16||l===16&&c<2}}let i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:t||s,needPerspectiveFix:t,need3dFix:o,isWebView:i}}function wL(){return WT||(WT=OK()),WT}function LK(n){let{swiper:e,on:t,emit:r}=n,i=Xe(),s=null,o=null,a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{o=i.requestAnimationFrame(()=>{let{width:g,height:m}=e,h=g,v=m;f.forEach(w=>{let{contentBoxSize:x,contentRect:S,target:E}=w;E&&E!==e.el||(h=S?S.width:(x[0]||x).inlineSize,v=S?S.height:(x[0]||x).blockSize)}),(h!==g||v!==m)&&a()})}),s.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",d)}),t("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",d)})}function FK(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s=[],o=Xe(),a=function(d,f){f===void 0&&(f={});let g=o.MutationObserver||o.WebkitMutationObserver,m=new g(h=>{if(e.__preventObserver__)return;if(h.length===1){i("observerUpdate",h[0]);return}let v=function(){i("observerUpdate",h[0])};o.requestAnimationFrame?o.requestAnimationFrame(v):o.setTimeout(v,0)});m.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(m)},l=()=>{if(e.params.observer){if(e.params.observeParents){let d=ti(e.hostEl);for(let f=0;f<d.length;f+=1)a(d[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var VK={on(n,e,t){let r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;let i=t?"unshift":"push";return n.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(n,e,t){let r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(n,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(n,i,t)},onAny(n,e){let t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;let r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){let t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[r].splice(s,1)})}),t},emit(){let n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),r=n):(e=s[0].events,t=s[0].data,r=s[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(r,t)})}),n}};function UK(){let n=this,e,t,r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(bs(r,"padding-left")||0,10)-parseInt(bs(r,"padding-right")||0,10),t=t-parseInt(bs(r,"padding-top")||0,10)-parseInt(bs(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function jK(){let n=this;function e(C,R){return parseFloat(C.getPropertyValue(n.getDirectionLabel(R))||0)}let t=n.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=n,l=n.virtual&&t.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,d=wt(i,`.${n.params.slideClass}, swiper-slide`),f=l?n.virtual.slides.length:d.length,g=[],m=[],h=[],v=t.slidesOffsetBefore;typeof v=="function"&&(v=t.slidesOffsetBefore.call(n));let w=t.slidesOffsetAfter;typeof w=="function"&&(w=t.slidesOffsetAfter.call(n));let x=n.snapGrid.length,S=n.slidesGrid.length,E=t.spaceBetween,O=-v,U=0,j=0;if(typeof s>"u")return;typeof E=="string"&&E.indexOf("%")>=0?E=parseFloat(E.replace("%",""))/100*s:typeof E=="string"&&(E=parseFloat(E)),n.virtualSize=-E,d.forEach(C=>{o?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),t.centeredSlides&&t.cssMode&&($a(r,"--swiper-centered-offset-before",""),$a(r,"--swiper-centered-offset-after",""));let M=t.grid&&t.grid.rows>1&&n.grid;M?n.grid.initSlides(d):n.grid&&n.grid.unsetSlides();let b,_=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(C=>typeof t.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<f;C+=1){b=0;let R;if(d[C]&&(R=d[C]),M&&n.grid.updateSlide(C,R,d),!(d[C]&&bs(R,"display")==="none")){if(t.slidesPerView==="auto"){_&&(d[C].style[n.getDirectionLabel("width")]="");let k=getComputedStyle(R),I=R.style.transform,H=R.style.webkitTransform;if(I&&(R.style.transform="none"),H&&(R.style.webkitTransform="none"),t.roundLengths)b=n.isHorizontal()?yf(R,"width",!0):yf(R,"height",!0);else{let Y=e(k,"width"),J=e(k,"padding-left"),B=e(k,"padding-right"),$=e(k,"margin-left"),te=e(k,"margin-right"),Ie=k.getPropertyValue("box-sizing");if(Ie&&Ie==="border-box")b=Y+$+te;else{let{clientWidth:pt,offsetWidth:ot}=R;b=Y+J+B+$+te+(ot-pt)}}I&&(R.style.transform=I),H&&(R.style.webkitTransform=H),t.roundLengths&&(b=Math.floor(b))}else b=(s-(t.slidesPerView-1)*E)/t.slidesPerView,t.roundLengths&&(b=Math.floor(b)),d[C]&&(d[C].style[n.getDirectionLabel("width")]=`${b}px`);d[C]&&(d[C].swiperSlideSize=b),h.push(b),t.centeredSlides?(O=O+b/2+U/2+E,U===0&&C!==0&&(O=O-s/2-E),C===0&&(O=O-s/2-E),Math.abs(O)<1/1e3&&(O=0),t.roundLengths&&(O=Math.floor(O)),j%t.slidesPerGroup===0&&g.push(O),m.push(O)):(t.roundLengths&&(O=Math.floor(O)),(j-Math.min(n.params.slidesPerGroupSkip,j))%n.params.slidesPerGroup===0&&g.push(O),m.push(O),O=O+b+E),n.virtualSize+=b+E,U=b,j+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+w,o&&a&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+E}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+E}px`),M&&n.grid.updateWrapperSize(b,g),!t.centeredSlides){let C=[];for(let R=0;R<g.length;R+=1){let k=g[R];t.roundLengths&&(k=Math.floor(k)),g[R]<=n.virtualSize-s&&C.push(k)}g=C,Math.floor(n.virtualSize-s)-Math.floor(g[g.length-1])>1&&g.push(n.virtualSize-s)}if(l&&t.loop){let C=h[0]+E;if(t.slidesPerGroup>1){let R=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),k=C*t.slidesPerGroup;for(let I=0;I<R;I+=1)g.push(g[g.length-1]+k)}for(let R=0;R<n.virtual.slidesBefore+n.virtual.slidesAfter;R+=1)t.slidesPerGroup===1&&g.push(g[g.length-1]+C),m.push(m[m.length-1]+C),n.virtualSize+=C}if(g.length===0&&(g=[0]),E!==0){let C=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");d.filter((R,k)=>!t.cssMode||t.loop?!0:k!==d.length-1).forEach(R=>{R.style[C]=`${E}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let C=0;h.forEach(k=>{C+=k+(E||0)}),C-=E;let R=C>s?C-s:0;g=g.map(k=>k<=0?-v:k>R?R+w:k)}if(t.centerInsufficientSlides){let C=0;h.forEach(k=>{C+=k+(E||0)}),C-=E;let R=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(C+R<s){let k=(s-C-R)/2;g.forEach((I,H)=>{g[H]=I-k}),m.forEach((I,H)=>{m[H]=I+k})}}if(Object.assign(n,{slides:d,snapGrid:g,slidesGrid:m,slidesSizesGrid:h}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){$a(r,"--swiper-centered-offset-before",`${-g[0]}px`),$a(r,"--swiper-centered-offset-after",`${n.size/2-h[h.length-1]/2}px`);let C=-n.snapGrid[0],R=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(k=>k+C),n.slidesGrid=n.slidesGrid.map(k=>k+R)}if(f!==c&&n.emit("slidesLengthChange"),g.length!==x&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),m.length!==S&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!l&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){let C=`${t.containerModifierClass}backface-hidden`,R=n.el.classList.contains(C);f<=t.maxBackfaceHiddenSlides?R||n.el.classList.add(C):R&&n.el.classList.remove(C)}}function BK(n){let e=this,t=[],r=e.virtual&&e.params.virtual.enabled,i=0,s;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);let o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){let a=e.activeIndex+s;if(a>e.slides.length&&!r)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){let a=t[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function $K(){let n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}var hL=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function zK(n){n===void 0&&(n=this&&this.translate||0);let e=this,t=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-n;i&&(o=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){let c=r[l],d=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(d-=r[0].swiperSlideOffset);let f=(o+(t.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),g=(o-s[0]+(t.centeredSlides?e.minTranslate():0)-d)/(c.swiperSlideSize+a),m=-(o-d),h=m+e.slidesSizesGrid[l],v=m>=0&&m<=e.size-e.slidesSizesGrid[l],w=m>=0&&m<e.size-1||h>1&&h<=e.size||m<=0&&h>=e.size;w&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),hL(c,w,t.slideVisibleClass),hL(c,v,t.slideFullyVisibleClass),c.progress=i?-f:f,c.originalProgress=i?-g:g}}function HK(n){let e=this;if(typeof n>"u"){let d=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*d||0}let t=e.params,r=e.maxTranslate()-e.minTranslate(),{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e,l=s,c=o;if(r===0)i=0,s=!0,o=!0;else{i=(n-e.minTranslate())/r;let d=Math.abs(n-e.minTranslate())<1,f=Math.abs(n-e.maxTranslate())<1;s=d||i<=0,o=f||i>=1,d&&(i=0),f&&(i=1)}if(t.loop){let d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),g=e.slidesGrid[d],m=e.slidesGrid[f],h=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(n);v>=g?a=(v-g)/h:a=(v+h-m)/h,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}var KT=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function qK(){let n=this,{slides:e,params:t,slidesEl:r,activeIndex:i}=n,s=n.virtual&&t.virtual.enabled,o=n.grid&&t.grid&&t.grid.rows>1,a=f=>wt(r,`.${t.slideClass}${f}, swiper-slide${f}`)[0],l,c,d;if(s)if(t.loop){let f=i-n.virtual.slidesBefore;f<0&&(f=n.virtual.slides.length+f),f>=n.virtual.slides.length&&(f-=n.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(f=>f.column===i),d=e.find(f=>f.column===i+1),c=e.find(f=>f.column===i-1)):l=e[i];l&&(o||(d=fL(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!d&&(d=e[0]),c=dL(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{KT(f,f===l,t.slideActiveClass),KT(f,f===d,t.slideNextClass),KT(f,f===c,t.slidePrevClass)}),n.emitSlidesClasses()}var wv=(n,e)=>{if(!n||n.destroyed||!n.params)return;let t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let i=r.querySelector(`.${n.params.lazyPreloaderClass}`);!i&&n.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},YT=(n,e)=>{if(!n.slides[e])return;let t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},ZT=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext,t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);let r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),i=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){let o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+r+c)),n.slides.forEach((l,c)=>{a.includes(l.column)&&YT(n,c)});return}let s=i+r-1;if(n.params.rewind||n.params.loop)for(let o=i-e;o<=s+e;o+=1){let a=(o%t+t)%t;(a<i||a>s)&&YT(n,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,t-1);o+=1)o!==i&&(o>s||o<i)&&YT(n,o)};function GK(n){let{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate,i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return t.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function WK(n){let e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e,l=n,c,d=m=>{let h=m-e.virtual.slidesBefore;return h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),h};if(typeof l>"u"&&(l=GK(e)),r.indexOf(t)>=0)c=r.indexOf(t);else{let m=Math.min(i.slidesPerGroupSkip,l);c=m+Math.floor((l-m)/i.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}let f=e.grid&&i.grid&&i.grid.rows>1,g;if(e.virtual&&i.virtual.enabled&&i.loop)g=d(l);else if(f){let m=e.slides.find(v=>v.column===l),h=parseInt(m.getAttribute("data-swiper-slide-index"),10);Number.isNaN(h)&&(h=Math.max(e.slides.indexOf(m),0)),g=Math.floor(h/i.grid.rows)}else if(e.slides[l]){let m=e.slides[l].getAttribute("data-swiper-slide-index");m?g=parseInt(m,10):g=l}else g=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:g,previousIndex:s,activeIndex:l}),e.initialized&&ZT(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==g&&e.emit("realIndexChange"),e.emit("slideChange"))}function KK(n,e){let t=this,r=t.params,i=n.closest(`.${r.slideClass}, swiper-slide`);!i&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===i){s=!0,o=a;break}}if(i&&s)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var YK={updateSize:UK,updateSlides:jK,updateAutoHeight:BK,updateSlidesOffset:$K,updateSlidesProgress:zK,updateProgress:HK,updateSlidesClasses:qK,updateActiveIndex:WK,updateClickedSlide:KK};function QK(n){n===void 0&&(n=this.isHorizontal()?"x":"y");let e=this,{params:t,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(t.virtualTranslate)return r?-i:i;if(t.cssMode)return i;let o=gf(s,n);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function XK(n,e){let t=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=t,a=0,l=0,c=0;t.isHorizontal()?a=r?-n:n:l=n,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:l,i.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-l:i.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let d,f=t.maxTranslate()-t.minTranslate();f===0?d=0:d=(n-t.minTranslate())/f,d!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function ZK(){return-this.snapGrid[0]}function JK(){return-this.snapGrid[this.snapGrid.length-1]}function eY(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);let s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;let l=s.minTranslate(),c=s.maxTranslate(),d;if(r&&n>l?d=l:r&&n<c?d=c:d=n,s.updateProgress(d),o.cssMode){let f=s.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return HT({swiper:s,targetPosition:-d,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(d),t&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(d),t&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(g){!s||s.destroyed||g.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var tY={getTranslate:QK,setTranslate:XK,minTranslate:ZK,maxTranslate:JK,translateTo:eY};function nY(n,e){let t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function _L(n){let{swiper:e,runCallbacks:t,direction:r,step:i}=n,{activeIndex:s,previousIndex:o}=e,a=r;a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),t&&a==="reset"?e.emit(`slideResetTransition${i}`):t&&s!==o&&(e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function rY(n,e){n===void 0&&(n=!0);let t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),_L({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function iY(n,e){n===void 0&&(n=!0);let t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),_L({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var sY={setTransition:nY,transitionStart:rY,transitionEnd:iY};function oY(n,e,t,r,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));let s=this,o=n;o<0&&(o=0);let{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:f,rtlTranslate:g,wrapperEl:m,enabled:h}=s;if(!h&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);let v=Math.min(s.params.slidesPerGroupSkip,o),w=v+Math.floor((o-v)/s.params.slidesPerGroup);w>=l.length&&(w=l.length-1);let x=-l[w];if(a.normalizeSlideIndex)for(let M=0;M<c.length;M+=1){let b=-Math.floor(x*100),_=Math.floor(c[M]*100),C=Math.floor(c[M+1]*100);typeof c[M+1]<"u"?b>=_&&b<C-(C-_)/2?o=M:b>=_&&b<C&&(o=M+1):b>=_&&(o=M)}if(s.initialized&&o!==f&&(!s.allowSlideNext&&(g?x>s.translate&&x>s.minTranslate():x<s.translate&&x<s.minTranslate())||!s.allowSlidePrev&&x>s.translate&&x>s.maxTranslate()&&(f||0)!==o))return!1;o!==(d||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(x);let S;o>f?S="next":o<f?S="prev":S="reset";let E=s.virtual&&s.params.virtual.enabled;if(!(E&&i)&&(g&&-x===s.translate||!g&&x===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(x),S!=="reset"&&(s.transitionStart(t,S),s.transitionEnd(t,S)),!1;if(a.cssMode){let M=s.isHorizontal(),b=g?x:-x;if(e===0)E&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),E&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{m[M?"scrollLeft":"scrollTop"]=b})):m[M?"scrollLeft":"scrollTop"]=b,E&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return HT({swiper:s,targetPosition:b,side:M?"left":"top"}),!0;m.scrollTo({[M?"left":"top"]:b,behavior:"smooth"})}return!0}let j=wL().isSafari;return E&&!i&&j&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(x),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(t,S),e===0?s.transitionEnd(t,S):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(b){!s||s.destroyed||b.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,S))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function aY(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));let i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);let s=i.grid&&i.params.grid&&i.params.grid.rows>1,o=n;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){let g=o*i.params.grid.rows;a=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===g).column}else a=i.getSlideIndexByData(o);let l=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params,d=i.params.slidesPerView;d==="auto"?d=i.slidesPerViewDynamic():(d=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&d%2===0&&(d=d+1));let f=l-a<d;if(c&&(f=f||a<Math.ceil(d/2)),r&&c&&i.params.slidesPerView!=="auto"&&!s&&(f=!1),f){let g=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:g,slideTo:!0,activeSlideIndex:g==="next"?a+1:a-l+1,slideRealIndex:g==="next"?i.realIndex:void 0})}if(s){let g=o*i.params.grid.rows;o=i.slides.find(m=>m.getAttribute("data-swiper-slide-index")*1===g).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,t,r)}),i}function lY(n,e,t){e===void 0&&(e=!0);let r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));let l=r.activeIndex<s.slidesPerGroupSkip?1:a,c=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,n,e,t)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+l,n,e,t)}function cY(n,e,t){e===void 0&&(e=!0);let r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!d&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}let f=a?r.translate:-r.translate;function g(S){return S<0?-Math.floor(Math.abs(S)):Math.floor(S)}let m=g(f),h=s.map(S=>g(S)),v=i.freeMode&&i.freeMode.enabled,w=s[h.indexOf(m)-1];if(typeof w>"u"&&(i.cssMode||v)){let S;s.forEach((E,O)=>{m>=E&&(S=O)}),typeof S<"u"&&(w=v?s[S]:s[S>0?S-1:S])}let x=0;if(typeof w<"u"&&(x=o.indexOf(w),x<0&&(x=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(x=x-r.slidesPerViewDynamic("previous",!0)+1,x=Math.max(x,0))),i.rewind&&r.isBeginning){let S=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(S,n,e,t)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(x,n,e,t)}),!0;return r.slideTo(x,n,e,t)}function uY(n,e,t){e===void 0&&(e=!0);let r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function dY(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);let i=this;if(i.destroyed)return;typeof n>"u"&&(n=i.params.speed);let s=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){let c=i.snapGrid[a],d=i.snapGrid[a+1];l-c>(d-c)*r&&(s+=i.params.slidesPerGroup)}else{let c=i.snapGrid[a-1],d=i.snapGrid[a];l-c<=(d-c)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,n,e,t)}function fY(){let n=this;if(n.destroyed)return;let{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView,i=n.clickedIndex,s,o=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<n.loopedSlides-r/2||i>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),i=n.getSlideIndex(wt(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),ei(()=>{n.slideTo(i)})):n.slideTo(i):i>n.slides.length-r?(n.loopFix(),i=n.getSlideIndex(wt(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),ei(()=>{n.slideTo(i)})):n.slideTo(i)}else n.slideTo(i)}var hY={slideTo:oY,slideToLoop:aY,slideNext:lY,slidePrev:cY,slideReset:uY,slideToClosest:dY,slideToClickedSlide:fY};function pY(n,e){let t=this,{params:r,slidesEl:i}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;let s=()=>{wt(i,`.${r.slideClass}, swiper-slide`).forEach((g,m)=>{g.setAttribute("data-swiper-slide-index",m)})},o=t.grid&&r.grid&&r.grid.rows>1,a=r.slidesPerGroup*(o?r.grid.rows:1),l=t.slides.length%a!==0,c=o&&t.slides.length%r.grid.rows!==0,d=f=>{for(let g=0;g<f;g+=1){let m=t.isElement?Ht("swiper-slide",[r.slideBlankClass]):Ht("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(m)}};if(l){if(r.loopAddBlankSlides){let f=a-t.slides.length%a;d(f),t.recalcSlides(),t.updateSlides()}else vf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(r.loopAddBlankSlides){let f=r.grid.rows-t.slides.length%r.grid.rows;d(f),t.recalcSlides(),t.updateSlides()}else vf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function mY(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=n===void 0?{}:n,c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");let{slides:d,allowSlidePrev:f,allowSlideNext:g,slidesEl:m,params:h}=c,{centeredSlides:v,initialSlide:w}=h;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&h.virtual.enabled){t&&(!h.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):h.centeredSlides&&c.snapIndex<h.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=g,c.emit("loopFix");return}let x=h.slidesPerView;x==="auto"?x=c.slidesPerViewDynamic():(x=Math.ceil(parseFloat(h.slidesPerView,10)),v&&x%2===0&&(x=x+1));let S=h.slidesPerGroupAuto?x:h.slidesPerGroup,E=S;E%S!==0&&(E+=S-E%S),E+=h.loopAdditionalSlides,c.loopedSlides=E;let O=c.grid&&h.grid&&h.grid.rows>1;d.length<x+E||c.params.effect==="cards"&&d.length<x+E*2?vf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):O&&h.grid.fill==="row"&&vf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let U=[],j=[],M=O?Math.ceil(d.length/h.grid.rows):d.length,b=o&&M-w<x&&!v,_=b?w:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(d.find(J=>J.classList.contains(h.slideActiveClass))):_=s;let C=r==="next"||!r,R=r==="prev"||!r,k=0,I=0,Y=(O?d[s].column:s)+(v&&typeof i>"u"?-x/2+.5:0);if(Y<E){k=Math.max(E-Y,S);for(let J=0;J<E-Y;J+=1){let B=J-Math.floor(J/M)*M;if(O){let $=M-B-1;for(let te=d.length-1;te>=0;te-=1)d[te].column===$&&U.push(te)}else U.push(M-B-1)}}else if(Y+x>M-E){I=Math.max(Y-(M-E*2),S),b&&(I=Math.max(I,x-M+w+1));for(let J=0;J<I;J+=1){let B=J-Math.floor(J/M)*M;O?d.forEach(($,te)=>{$.column===B&&j.push(te)}):j.push(B)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&d.length<x+E*2&&(j.includes(s)&&j.splice(j.indexOf(s),1),U.includes(s)&&U.splice(U.indexOf(s),1)),R&&U.forEach(J=>{d[J].swiperLoopMoveDOM=!0,m.prepend(d[J]),d[J].swiperLoopMoveDOM=!1}),C&&j.forEach(J=>{d[J].swiperLoopMoveDOM=!0,m.append(d[J]),d[J].swiperLoopMoveDOM=!1}),c.recalcSlides(),h.slidesPerView==="auto"?c.updateSlides():O&&(U.length>0&&R||j.length>0&&C)&&c.slides.forEach((J,B)=>{c.grid.updateSlide(B,J,c.slides)}),h.watchSlidesProgress&&c.updateSlidesOffset(),t){if(U.length>0&&R){if(typeof e>"u"){let J=c.slidesGrid[_],$=c.slidesGrid[_+k]-J;l?c.setTranslate(c.translate-$):(c.slideTo(_+Math.ceil(k),0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-$,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-$))}else if(i){let J=O?U.length/h.grid.rows:U.length;c.slideTo(c.activeIndex+J,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(j.length>0&&C)if(typeof e>"u"){let J=c.slidesGrid[_],$=c.slidesGrid[_-I]-J;l?c.setTranslate(c.translate-$):(c.slideTo(_-I,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-$,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-$))}else{let J=O?j.length/h.grid.rows:j.length;c.slideTo(c.activeIndex-J,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=g,c.controller&&c.controller.control&&!a){let J={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(B=>{!B.destroyed&&B.params.loop&&B.loopFix(ce(G({},J),{slideTo:B.params.slidesPerView===h.slidesPerView?t:!1}))}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix(ce(G({},J),{slideTo:c.controller.control.params.slidesPerView===h.slidesPerView?t:!1}))}c.emit("loopFix")}function gY(){let n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();let r=[];n.slides.forEach(i=>{let s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),n.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{t.append(i)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var vY={loopCreate:pY,loopFix:mY,loopDestroy:gY};function yY(n){let e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function wY(){let n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var _Y={setGrabCursor:yY,unsetGrabCursor:wY};function bY(n,e){e===void 0&&(e=this);function t(r){if(!r||r===ft()||r===Xe())return null;r.assignedSlot&&(r=r.assignedSlot);let i=r.closest(n);return!i&&!r.getRootNode?null:i||t(r.getRootNode().host)}return t(e)}function pL(n,e,t){let r=Xe(),{params:i}=n,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(t<=o||t>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function EY(n){let e=this,t=ft(),r=n;r.originalEvent&&(r=r.originalEvent);let i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){pL(e,r,r.targetTouches[0].pageX);return}let{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!uL(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;let c=!!s.noSwipingClass&&s.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&d&&(l=d[0]);let f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,g=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(g?bY(f,l):l.closest(f))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;let m=o.currentX,h=o.currentY;if(!pL(e,r,m))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=h,i.touchStartTime=Mn(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let v=!0;l.matches(i.focusableElements)&&(v=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&t.activeElement.blur();let w=v&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function IY(n){let e=ft(),t=this,r=t.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=t;if(!a||!i.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(j=>j.identifier===r.touchId),!c||c.identifier!==r.touchId)return}else c=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",l);return}let d=c.pageX,f=c.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=f;return}if(!t.allowTouchMove){l.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=Mn());return}if(i.touchReleaseOnEdges&&!i.loop)if(t.isVertical()){if(f<s.startY&&t.translate<=t.maxTranslate()||f>s.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(d>s.startX&&-t.translate<=t.maxTranslate()||d<s.startX&&-t.translate>=t.minTranslate()))return;if(!o&&(d<s.startX&&t.translate<=t.maxTranslate()||d>s.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=f;let g=s.currentX-s.startX,m=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(g**2+m**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let j;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:g*g+m*m>=25&&(j=Math.atan2(Math.abs(m),Math.abs(g))*180/Math.PI,r.isScrolling=t.isHorizontal()?j>i.touchAngle:90-j>i.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let h=t.isHorizontal()?g:m,v=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(h=Math.abs(h)*(o?1:-1),v=Math.abs(v)*(o?1:-1)),s.diff=h,h*=i.touchRatio,o&&(h=-h,v=-v);let w=t.touchesDirection;t.swipeDirection=h>0?"prev":"next",t.touchesDirection=v>0?"prev":"next";let x=t.params.loop&&!i.cssMode,S=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(x&&S&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){let j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(j)}r.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let E;if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&w!==t.touchesDirection&&x&&S&&Math.abs(h)>=1){Object.assign(s,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=h+r.startTranslate;let O=!0,U=i.resistanceRatio;if(i.touchReleaseOnEdges&&(U=0),h>0?(x&&S&&!E&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(O=!1,i.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+h)**U))):h<0&&(x&&S&&!E&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(i.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(O=!1,i.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-h)**U))),O&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(h)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function TY(n){let e=this,t=e.touchEventsData,r=n;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(U=>U.identifier===t.touchId),!i||i.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;let{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&o.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}o.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let f=Mn(),g=f-t.touchStartTime;if(e.allowClick){let U=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(U&&U[0]||r.target,U),e.emit("tap click",r),g<300&&f-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Mn(),ei(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||a.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let m;if(o.followFinger?m=l?e.translate:-e.translate:m=-t.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:m});return}let h=m>=-e.maxTranslate()&&!e.params.loop,v=0,w=e.slidesSizesGrid[0];for(let U=0;U<c.length;U+=U<o.slidesPerGroupSkip?1:o.slidesPerGroup){let j=U<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[U+j]<"u"?(h||m>=c[U]&&m<c[U+j])&&(v=U,w=c[U+j]-c[U]):(h||m>=c[U])&&(v=U,w=c[c.length-1]-c[c.length-2])}let x=null,S=null;o.rewind&&(e.isBeginning?S=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(x=0));let E=(m-c[v])/w,O=v<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(g>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?x:v+O):e.slideTo(v)),e.swipeDirection==="prev"&&(E>1-o.longSwipesRatio?e.slideTo(v+O):S!==null&&E<0&&Math.abs(E)>o.longSwipesRatio?e.slideTo(S):e.slideTo(v))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(v+O):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(x!==null?x:v+O),e.swipeDirection==="prev"&&e.slideTo(S!==null?S:v))}}function mL(){let n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();let{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();let a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!a?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=i,n.allowSlideNext=r,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function SY(n){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function CY(){let n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let i,s=n.maxTranslate()-n.minTranslate();s===0?i=0:i=(n.translate-n.minTranslate())/s,i!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function DY(n){let e=this;wv(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function xY(){let n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}var bL=(n,e)=>{let t=ft(),{params:r,el:i,wrapperEl:s,device:o}=n,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(t[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",n.onTouchStart,{passive:!1}),i[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("touchmove",n.onTouchMove,{passive:!1,capture:a}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),t[l]("touchend",n.onTouchEnd,{passive:!0}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("touchcancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",n.onClick,!0),r.cssMode&&s[l]("scroll",n.onScroll),r.updateOnWindowResize?n[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",mL,!0):n[c]("observerUpdate",mL,!0),i[l]("load",n.onLoad,{capture:!0}))};function AY(){let n=this,{params:e}=n;n.onTouchStart=EY.bind(n),n.onTouchMove=IY.bind(n),n.onTouchEnd=TY.bind(n),n.onDocumentTouchStart=xY.bind(n),e.cssMode&&(n.onScroll=CY.bind(n)),n.onClick=SY.bind(n),n.onLoad=DY.bind(n),bL(n,"on")}function MY(){bL(this,"off")}var RY={attachEvents:AY,detachEvents:MY},gL=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function kY(){let n=this,{realIndex:e,initialized:t,params:r,el:i}=n,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;let o=ft(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:o.querySelector(r.breakpointsBase),c=n.getBreakpoint(s,a,l);if(!c||n.currentBreakpoint===c)return;let f=(c in s?s[c]:void 0)||n.originalParams,g=gL(n,r),m=gL(n,f),h=n.params.grabCursor,v=f.grabCursor,w=r.enabled;g&&!m?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!g&&m&&(i.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),h&&!v?n.unsetGrabCursor():!h&&v&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(j=>{if(typeof f[j]>"u")return;let M=r[j]&&r[j].enabled,b=f[j]&&f[j].enabled;M&&!b&&n[j].disable(),!M&&b&&n[j].enable()});let x=f.direction&&f.direction!==r.direction,S=r.loop&&(f.slidesPerView!==r.slidesPerView||x),E=r.loop;x&&t&&n.changeDirection(),qn(n.params,f);let O=n.params.enabled,U=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),w&&!O?n.disable():!w&&O&&n.enable(),n.currentBreakpoint=c,n.emit("_beforeBreakpoint",f),t&&(S?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!E&&U?(n.loopCreate(e),n.updateSlides()):E&&!U&&n.loopDestroy()),n.emit("breakpoint",f)}function PY(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1,i=Xe(),s=e==="window"?i.innerHeight:t.clientHeight,o=Object.keys(n).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){let l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){let{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=t.clientWidth&&(r=l)}return r||"max"}var NY={setBreakpoint:kY,getBreakpoint:PY};function OY(n,e){let t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&t.push(e+i)}):typeof r=="string"&&t.push(e+r)}),t}function LY(){let n=this,{classNames:e,params:t,rtl:r,el:i,device:s}=n,o=OY(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),i.classList.add(...e),n.emitContainerClasses()}function FY(){let n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var VY={addClasses:LY,removeClasses:FY};function UY(){let n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){let i=n.slides.length-1,s=n.slidesGrid[i]+n.slidesSizesGrid[i]+r*2;n.isLocked=n.size>s}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var jY={checkOverflow:UY},_v={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function BY(n,e){return function(r){r===void 0&&(r={});let i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){qn(e,r);return}if(n[i]===!0&&(n[i]={enabled:!0}),i==="navigation"&&n[i]&&n[i].enabled&&!n[i].prevEl&&!n[i].nextEl&&(n[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&n[i]&&n[i].enabled&&!n[i].el&&(n[i].auto=!0),!(i in n&&"enabled"in s)){qn(e,r);return}typeof n[i]=="object"&&!("enabled"in n[i])&&(n[i].enabled=!0),n[i]||(n[i]={enabled:!1}),qn(e,r)}}var QT={eventsEmitter:VK,update:YK,translate:tY,transition:sY,slide:hY,loop:vY,grabCursor:_Y,events:RY,breakpoints:NY,checkOverflow:jY,classes:VY},XT={},vo=class n{constructor(){let e,t;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=qn({},t),e&&!t.el&&(t.el=e);let o=ft();if(t.el&&typeof t.el=="string"&&o.querySelectorAll(t.el).length>1){let d=[];return o.querySelectorAll(t.el).forEach(f=>{let g=qn({},t,{el:f});d.push(new n(g))}),d}let a=this;a.__swiper__=!0,a.support=vL(),a.device=yL({userAgent:t.userAgent}),a.browser=wL(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);let l={};a.modules.forEach(d=>{d({params:t,swiper:a,extendParams:BY(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});let c=qn({},_v,l);return a.params=qn({},c,XT,t),a.originalParams=qn({},a.params),a.passedParams=qn({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){let{slidesEl:t,params:r}=this,i=wt(t,`.${r.slideClass}, swiper-slide`),s=po(i[0]);return po(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){let e=this,{slidesEl:t,params:r}=e;e.slides=wt(t,`.${r.slideClass}, swiper-slide`)}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){let r=this;e=Math.min(Math.max(e,0),1);let i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){let t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=[];e.slides.forEach(r=>{let i=e.getSlideClasses(r);t.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);let r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=r,d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=s[c]?Math.ceil(s[c].swiperSlideSize):0,g;for(let m=c+1;m<s.length;m+=1)s[m]&&!g&&(f+=Math.ceil(s[m].swiperSlideSize),d+=1,f>l&&(g=!0));for(let m=c-1;m>=0;m-=1)s[m]&&!g&&(f+=s[m].swiperSlideSize,d+=1,f>l&&(g=!0))}else if(e==="current")for(let f=c+1;f<s.length;f+=1)(t?o[f]+a[f]-o[c]<l:o[f]-o[c]<l)&&(d+=1);else for(let f=c-1;f>=0;f-=1)o[c]-o[f]<l&&(d+=1);return d}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&wv(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){let o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){let o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);let r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){let t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){let t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);let i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`,o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):wt(r,i())[0];return!o&&t.params.createElements&&(o=Ht("div",t.params.wrapperClass),r.append(o),wt(r,`.${t.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(t,{el:r,wrapperEl:o,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||bs(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||bs(r,"direction")==="rtl"),wrongRTL:bs(o,"display")==="-webkit-box"}),!0}init(e){let t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();let i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?wv(t,s):s.addEventListener("load",o=>{wv(t,o.target)})}),ZT(t),t.initialized=!0,ZT(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);let r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),cL(r)),r.destroyed=!0),null}static extendDefaults(e){qn(XT,e)}static get extendedDefaults(){return XT}static get defaults(){return _v}static installModule(e){n.prototype.__modules__||(n.prototype.__modules__=[]);let t=n.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>n.installModule(t)),n):(n.installModule(e),n)}};Object.keys(QT).forEach(n=>{Object.keys(QT[n]).forEach(e=>{vo.prototype[e]=QT[n][e]})});vo.use([LK,FK]);function EL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let s,o=ft();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};let a=o.createElement("div");function l(h,v){let w=e.params.virtual;if(w.cache&&e.virtual.cache[v])return e.virtual.cache[v];let x;return w.renderSlide?(x=w.renderSlide.call(e,h,v),typeof x=="string"&&(sn(a,x),x=a.children[0])):e.isElement?x=Ht("swiper-slide"):x=Ht("div",e.params.slideClass),x.setAttribute("data-swiper-slide-index",v),w.renderSlide||sn(x,h),w.cache&&(e.virtual.cache[v]=x),x}function c(h,v,w){let{slidesPerView:x,slidesPerGroup:S,centeredSlides:E,loop:O,initialSlide:U}=e.params;if(v&&!O&&U>0)return;let{addSlidesBefore:j,addSlidesAfter:M}=e.params.virtual,{from:b,to:_,slides:C,slidesGrid:R,offset:k}=e.virtual;e.params.cssMode||e.updateActiveIndex();let I=typeof w>"u"?e.activeIndex||0:w,H;e.rtlTranslate?H="right":H=e.isHorizontal()?"left":"top";let Y,J;E?(Y=Math.floor(x/2)+S+M,J=Math.floor(x/2)+S+j):(Y=x+(S-1)+M,J=(O?x:S)+j);let B=I-J,$=I+Y;O||(B=Math.max(B,0),$=Math.min($,C.length-1));let te=(e.slidesGrid[B]||0)-(e.slidesGrid[0]||0);O&&I>=J?(B-=J,E||(te+=e.slidesGrid[0])):O&&I<J&&(B=-J,E&&(te+=e.slidesGrid[0])),Object.assign(e.virtual,{from:B,to:$,offset:te,slidesGrid:e.slidesGrid,slidesBefore:J,slidesAfter:Y});function Ie(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i("virtualUpdate")}if(b===B&&_===$&&!h){e.slidesGrid!==R&&te!==k&&e.slides.forEach(K=>{K.style[H]=`${te-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),i("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:te,from:B,to:$,slides:function(){let ee=[];for(let je=B;je<=$;je+=1)ee.push(C[je]);return ee}()}),e.params.virtual.renderExternalUpdate?Ie():i("virtualUpdate");return}let pt=[],ot=[],at=K=>{let ee=K;return K<0?ee=C.length+K:ee>=C.length&&(ee=ee-C.length),ee};if(h)e.slides.filter(K=>K.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(K=>{K.remove()});else for(let K=b;K<=_;K+=1)if(K<B||K>$){let ee=at(K);e.slides.filter(je=>je.matches(`.${e.params.slideClass}[data-swiper-slide-index="${ee}"], swiper-slide[data-swiper-slide-index="${ee}"]`)).forEach(je=>{je.remove()})}let wo=O?-C.length:0,X=O?C.length*2:C.length;for(let K=wo;K<X;K+=1)if(K>=B&&K<=$){let ee=at(K);typeof _>"u"||h?ot.push(ee):(K>_&&ot.push(ee),K<b&&pt.push(ee))}if(ot.forEach(K=>{e.slidesEl.append(l(C[K],K))}),O)for(let K=pt.length-1;K>=0;K-=1){let ee=pt[K];e.slidesEl.prepend(l(C[ee],ee))}else pt.sort((K,ee)=>ee-K),pt.forEach(K=>{e.slidesEl.prepend(l(C[K],K))});wt(e.slidesEl,".swiper-slide, swiper-slide").forEach(K=>{K.style[H]=`${te-Math.abs(e.cssOverflowAdjustment())}px`}),Ie()}function d(h){if(typeof h=="object"&&"length"in h)for(let v=0;v<h.length;v+=1)h[v]&&e.virtual.slides.push(h[v]);else e.virtual.slides.push(h);c(!0)}function f(h){let v=e.activeIndex,w=v+1,x=1;if(Array.isArray(h)){for(let S=0;S<h.length;S+=1)h[S]&&e.virtual.slides.unshift(h[S]);w=v+h.length,x=h.length}else e.virtual.slides.unshift(h);if(e.params.virtual.cache){let S=e.virtual.cache,E={};Object.keys(S).forEach(O=>{let U=S[O],j=U.getAttribute("data-swiper-slide-index");j&&U.setAttribute("data-swiper-slide-index",parseInt(j,10)+x),E[parseInt(O,10)+x]=U}),e.virtual.cache=E}c(!0),e.slideTo(w,0)}function g(h){if(typeof h>"u"||h===null)return;let v=e.activeIndex;if(Array.isArray(h))for(let w=h.length-1;w>=0;w-=1)e.params.virtual.cache&&(delete e.virtual.cache[h[w]],Object.keys(e.virtual.cache).forEach(x=>{x>h&&(e.virtual.cache[x-1]=e.virtual.cache[x],e.virtual.cache[x-1].setAttribute("data-swiper-slide-index",x-1),delete e.virtual.cache[x])})),e.virtual.slides.splice(h[w],1),h[w]<v&&(v-=1),v=Math.max(v,0);else e.params.virtual.cache&&(delete e.virtual.cache[h],Object.keys(e.virtual.cache).forEach(w=>{w>h&&(e.virtual.cache[w-1]=e.virtual.cache[w],e.virtual.cache[w-1].setAttribute("data-swiper-slide-index",w-1),delete e.virtual.cache[w])})),e.virtual.slides.splice(h,1),h<v&&(v-=1),v=Math.max(v,0);c(!0),e.slideTo(v,0)}function m(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),c(!0),e.slideTo(0,0)}r("beforeInit",()=>{if(!e.params.virtual.enabled)return;let h;if(typeof e.passedParams.virtual.slides>"u"){let v=[...e.slidesEl.children].filter(w=>w.matches(`.${e.params.slideClass}, swiper-slide`));v&&v.length&&(e.virtual.slides=[...v],h=!0,v.forEach((w,x)=>{w.setAttribute("data-swiper-slide-index",x),e.virtual.cache[x]=w,w.remove()}))}h||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,c(!1,!0)}),r("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(s),s=setTimeout(()=>{c()},100)):c())}),r("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&$a(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:d,prependSlide:f,removeSlide:g,removeAllSlides:m,update:c})}function IL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s=ft(),o=Xe();e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function a(d){if(!e.enabled)return;let{rtlTranslate:f}=e,g=d;g.originalEvent&&(g=g.originalEvent);let m=g.keyCode||g.charCode,h=e.params.keyboard.pageUpDown,v=h&&m===33,w=h&&m===34,x=m===37,S=m===39,E=m===38,O=m===40;if(!e.allowSlideNext&&(e.isHorizontal()&&S||e.isVertical()&&O||w)||!e.allowSlidePrev&&(e.isHorizontal()&&x||e.isVertical()&&E||v))return!1;if(!(g.shiftKey||g.altKey||g.ctrlKey||g.metaKey)&&!(s.activeElement&&s.activeElement.nodeName&&(s.activeElement.nodeName.toLowerCase()==="input"||s.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(v||w||x||S||E||O)){let U=!1;if(ti(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&ti(e.el,`.${e.params.slideActiveClass}`).length===0)return;let j=e.el,M=j.clientWidth,b=j.clientHeight,_=o.innerWidth,C=o.innerHeight,R=za(j);f&&(R.left-=j.scrollLeft);let k=[[R.left,R.top],[R.left+M,R.top],[R.left,R.top+b],[R.left+M,R.top+b]];for(let I=0;I<k.length;I+=1){let H=k[I];if(H[0]>=0&&H[0]<=_&&H[1]>=0&&H[1]<=C){if(H[0]===0&&H[1]===0)continue;U=!0}}if(!U)return}e.isHorizontal()?((v||w||x||S)&&(g.preventDefault?g.preventDefault():g.returnValue=!1),((w||S)&&!f||(v||x)&&f)&&e.slideNext(),((v||x)&&!f||(w||S)&&f)&&e.slidePrev()):((v||w||E||O)&&(g.preventDefault?g.preventDefault():g.returnValue=!1),(w||O)&&e.slideNext(),(v||E)&&e.slidePrev()),i("keyPress",m)}}function l(){e.keyboard.enabled||(s.addEventListener("keydown",a),e.keyboard.enabled=!0)}function c(){e.keyboard.enabled&&(s.removeEventListener("keydown",a),e.keyboard.enabled=!1)}r("init",()=>{e.params.keyboard.enabled&&l()}),r("destroy",()=>{e.keyboard.enabled&&c()}),Object.assign(e.keyboard,{enable:l,disable:c})}function TL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s=Xe();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,a=Mn(),l,c=[];function d(E){let M=0,b=0,_=0,C=0;return"detail"in E&&(b=E.detail),"wheelDelta"in E&&(b=-E.wheelDelta/120),"wheelDeltaY"in E&&(b=-E.wheelDeltaY/120),"wheelDeltaX"in E&&(M=-E.wheelDeltaX/120),"axis"in E&&E.axis===E.HORIZONTAL_AXIS&&(M=b,b=0),_=M*10,C=b*10,"deltaY"in E&&(C=E.deltaY),"deltaX"in E&&(_=E.deltaX),E.shiftKey&&!_&&(_=C,C=0),(_||C)&&E.deltaMode&&(E.deltaMode===1?(_*=40,C*=40):(_*=800,C*=800)),_&&!M&&(M=_<1?-1:1),C&&!b&&(b=C<1?-1:1),{spinX:M,spinY:b,pixelX:_,pixelY:C}}function f(){e.enabled&&(e.mouseEntered=!0)}function g(){e.enabled&&(e.mouseEntered=!1)}function m(E){return e.params.mousewheel.thresholdDelta&&E.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Mn()-a<e.params.mousewheel.thresholdTime?!1:E.delta>=6&&Mn()-a<60?!0:(E.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),i("scroll",E.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),i("scroll",E.raw)),a=new s.Date().getTime(),!1)}function h(E){let O=e.params.mousewheel;if(E.direction<0){if(e.isEnd&&!e.params.loop&&O.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&O.releaseOnEdges)return!0;return!1}function v(E){let O=E,U=!0;if(!e.enabled||E.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;let j=e.params.mousewheel;e.params.cssMode&&O.preventDefault();let M=e.el;e.params.mousewheel.eventsTarget!=="container"&&(M=document.querySelector(e.params.mousewheel.eventsTarget));let b=M&&M.contains(O.target);if(!e.mouseEntered&&!b&&!j.releaseOnEdges)return!0;O.originalEvent&&(O=O.originalEvent);let _=0,C=e.rtlTranslate?-1:1,R=d(O);if(j.forceToAxis)if(e.isHorizontal())if(Math.abs(R.pixelX)>Math.abs(R.pixelY))_=-R.pixelX*C;else return!0;else if(Math.abs(R.pixelY)>Math.abs(R.pixelX))_=-R.pixelY;else return!0;else _=Math.abs(R.pixelX)>Math.abs(R.pixelY)?-R.pixelX*C:-R.pixelY;if(_===0)return!0;j.invert&&(_=-_);let k=e.getTranslate()+_*j.sensitivity;if(k>=e.minTranslate()&&(k=e.minTranslate()),k<=e.maxTranslate()&&(k=e.maxTranslate()),U=e.params.loop?!0:!(k===e.minTranslate()||k===e.maxTranslate()),U&&e.params.nested&&O.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){let I={time:Mn(),delta:Math.abs(_),direction:Math.sign(_),raw:E};c.length>=2&&c.shift();let H=c.length?c[c.length-1]:void 0;if(c.push(I),H?(I.direction!==H.direction||I.delta>H.delta||I.time>H.time+150)&&m(I):m(I),h(I))return!0}else{let I={time:Mn(),delta:Math.abs(_),direction:Math.sign(_)},H=l&&I.time<l.time+500&&I.delta<=l.delta&&I.direction===l.direction;if(!H){l=void 0;let Y=e.getTranslate()+_*j.sensitivity,J=e.isBeginning,B=e.isEnd;if(Y>=e.minTranslate()&&(Y=e.minTranslate()),Y<=e.maxTranslate()&&(Y=e.maxTranslate()),e.setTransition(0),e.setTranslate(Y),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!J&&e.isBeginning||!B&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:I.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();let $=c.length?c[c.length-1]:void 0,te=c[0];if(c.push(I),$&&(I.delta>$.delta||I.direction!==$.direction))c.splice(0);else if(c.length>=15&&I.time-te.time<500&&te.delta-I.delta>=1&&I.delta<=6){let Ie=_>0?.8:.2;l=I,c.splice(0),o=ei(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,Ie)},0)}o||(o=ei(()=>{if(e.destroyed||!e.params)return;let Ie=.5;l=I,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,Ie)},500))}if(H||i("scroll",O),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),j.releaseOnEdges&&(Y===e.minTranslate()||Y===e.maxTranslate()))return!0}}return O.preventDefault?O.preventDefault():O.returnValue=!1,!1}function w(E){let O=e.el;e.params.mousewheel.eventsTarget!=="container"&&(O=document.querySelector(e.params.mousewheel.eventsTarget)),O[E]("mouseenter",f),O[E]("mouseleave",g),O[E]("wheel",v)}function x(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",v),!0):e.mousewheel.enabled?!1:(w("addEventListener"),e.mousewheel.enabled=!0,!0)}function S(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,v),!0):e.mousewheel.enabled?(w("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}r("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&S(),e.params.mousewheel.enabled&&x()}),r("destroy",()=>{e.params.cssMode&&x(),e.mousewheel.enabled&&S()}),Object.assign(e.mousewheel,{enable:x,disable:S})}function Nc(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(i=>{if(!t[i]&&t.auto===!0){let s=wt(n.el,`.${r[i]}`)[0];s||(s=Ht("div",r[i]),s.className=r[i],n.el.append(s)),t[i]=s,e[i]=s}}),t}function SL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(h){let v;return h&&typeof h=="string"&&e.isElement&&(v=e.el.querySelector(h)||e.hostEl.querySelector(h),v)?v:(h&&(typeof h=="string"&&(v=[...document.querySelectorAll(h)]),e.params.uniqueNavElements&&typeof h=="string"&&v&&v.length>1&&e.el.querySelectorAll(h).length===1?v=e.el.querySelector(h):v&&v.length===1&&(v=v[0])),h&&!v?h:v)}function o(h,v){let w=e.params.navigation;h=Me(h),h.forEach(x=>{x&&(x.classList[v?"add":"remove"](...w.disabledClass.split(" ")),x.tagName==="BUTTON"&&(x.disabled=v),e.params.watchOverflow&&e.enabled&&x.classList[e.isLocked?"add":"remove"](w.lockClass))})}function a(){let{nextEl:h,prevEl:v}=e.navigation;if(e.params.loop){o(v,!1),o(h,!1);return}o(v,e.isBeginning&&!e.params.rewind),o(h,e.isEnd&&!e.params.rewind)}function l(h){h.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(h){h.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){let h=e.params.navigation;if(e.params.navigation=Nc(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(h.nextEl||h.prevEl))return;let v=s(h.nextEl),w=s(h.prevEl);Object.assign(e.navigation,{nextEl:v,prevEl:w}),v=Me(v),w=Me(w);let x=(S,E)=>{S&&S.addEventListener("click",E==="next"?c:l),!e.enabled&&S&&S.classList.add(...h.lockClass.split(" "))};v.forEach(S=>x(S,"next")),w.forEach(S=>x(S,"prev"))}function f(){let{nextEl:h,prevEl:v}=e.navigation;h=Me(h),v=Me(v);let w=(x,S)=>{x.removeEventListener("click",S==="next"?c:l),x.classList.remove(...e.params.navigation.disabledClass.split(" "))};h.forEach(x=>w(x,"next")),v.forEach(x=>w(x,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?m():(d(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:h,prevEl:v}=e.navigation;if(h=Me(h),v=Me(v),e.enabled){a();return}[...h,...v].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),r("click",(h,v)=>{let{nextEl:w,prevEl:x}=e.navigation;w=Me(w),x=Me(x);let S=v.target,E=x.includes(S)||w.includes(S);if(e.isElement&&!E){let O=v.path||v.composedPath&&v.composedPath();O&&(E=O.find(U=>w.includes(U)||x.includes(U)))}if(e.params.navigation.hideOnClick&&!E){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===S||e.pagination.el.contains(S)))return;let O;w.length?O=w[0].classList.contains(e.params.navigation.hiddenClass):x.length&&(O=x[0].classList.contains(e.params.navigation.hiddenClass)),i(O===!0?"navigationShow":"navigationHide"),[...w,...x].filter(U=>!!U).forEach(U=>U.classList.toggle(e.params.navigation.hiddenClass))}});let g=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),a()},m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:g,disable:m,update:a,init:d,destroy:f})}function Ir(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function CL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:S=>S,formatFractionTotal:S=>S,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(S,E){let{bulletActiveClass:O}=e.params.pagination;S&&(S=S[`${E==="prev"?"previous":"next"}ElementSibling`],S&&(S.classList.add(`${O}-${E}`),S=S[`${E==="prev"?"previous":"next"}ElementSibling`],S&&S.classList.add(`${O}-${E}-${E}`)))}function d(S,E,O){if(S=S%O,E=E%O,E===S+1)return"next";if(E===S-1)return"previous"}function f(S){let E=S.target.closest(Ir(e.params.pagination.bulletClass));if(!E)return;S.preventDefault();let O=po(E)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===O)return;let U=d(e.realIndex,O,e.slides.length);U==="next"?e.slideNext():U==="previous"?e.slidePrev():e.slideToLoop(O)}else e.slideTo(O)}function g(){let S=e.rtl,E=e.params.pagination;if(l())return;let O=e.pagination.el;O=Me(O);let U,j,M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,b=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(j=e.previousRealIndex||0,U=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(U=e.snapIndex,j=e.previousSnapIndex):(j=e.previousIndex||0,U=e.activeIndex||0),E.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){let _=e.pagination.bullets,C,R,k;if(E.dynamicBullets&&(o=yf(_[0],e.isHorizontal()?"width":"height",!0),O.forEach(I=>{I.style[e.isHorizontal()?"width":"height"]=`${o*(E.dynamicMainBullets+4)}px`}),E.dynamicMainBullets>1&&j!==void 0&&(a+=U-(j||0),a>E.dynamicMainBullets-1?a=E.dynamicMainBullets-1:a<0&&(a=0)),C=Math.max(U-a,0),R=C+(Math.min(_.length,E.dynamicMainBullets)-1),k=(R+C)/2),_.forEach(I=>{let H=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Y=>`${E.bulletActiveClass}${Y}`)].map(Y=>typeof Y=="string"&&Y.includes(" ")?Y.split(" "):Y).flat();I.classList.remove(...H)}),O.length>1)_.forEach(I=>{let H=po(I);H===U?I.classList.add(...E.bulletActiveClass.split(" ")):e.isElement&&I.setAttribute("part","bullet"),E.dynamicBullets&&(H>=C&&H<=R&&I.classList.add(...`${E.bulletActiveClass}-main`.split(" ")),H===C&&c(I,"prev"),H===R&&c(I,"next"))});else{let I=_[U];if(I&&I.classList.add(...E.bulletActiveClass.split(" ")),e.isElement&&_.forEach((H,Y)=>{H.setAttribute("part",Y===U?"bullet-active":"bullet")}),E.dynamicBullets){let H=_[C],Y=_[R];for(let J=C;J<=R;J+=1)_[J]&&_[J].classList.add(...`${E.bulletActiveClass}-main`.split(" "));c(H,"prev"),c(Y,"next")}}if(E.dynamicBullets){let I=Math.min(_.length,E.dynamicMainBullets+4),H=(o*I-o)/2-k*o,Y=S?"right":"left";_.forEach(J=>{J.style[e.isHorizontal()?Y:"top"]=`${H}px`})}}O.forEach((_,C)=>{if(E.type==="fraction"&&(_.querySelectorAll(Ir(E.currentClass)).forEach(R=>{R.textContent=E.formatFractionCurrent(U+1)}),_.querySelectorAll(Ir(E.totalClass)).forEach(R=>{R.textContent=E.formatFractionTotal(b)})),E.type==="progressbar"){let R;E.progressbarOpposite?R=e.isHorizontal()?"vertical":"horizontal":R=e.isHorizontal()?"horizontal":"vertical";let k=(U+1)/b,I=1,H=1;R==="horizontal"?I=k:H=k,_.querySelectorAll(Ir(E.progressbarFillClass)).forEach(Y=>{Y.style.transform=`translate3d(0,0,0) scaleX(${I}) scaleY(${H})`,Y.style.transitionDuration=`${e.params.speed}ms`})}E.type==="custom"&&E.renderCustom?(sn(_,E.renderCustom(e,U+1,b)),C===0&&i("paginationRender",_)):(C===0&&i("paginationRender",_),i("paginationUpdate",_)),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](E.lockClass)})}function m(){let S=e.params.pagination;if(l())return;let E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length,O=e.pagination.el;O=Me(O);let U="";if(S.type==="bullets"){let j=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&j>E&&(j=E);for(let M=0;M<j;M+=1)S.renderBullet?U+=S.renderBullet.call(e,M,S.bulletClass):U+=`<${S.bulletElement} ${e.isElement?'part="bullet"':""} class="${S.bulletClass}"></${S.bulletElement}>`}S.type==="fraction"&&(S.renderFraction?U=S.renderFraction.call(e,S.currentClass,S.totalClass):U=`<span class="${S.currentClass}"></span> / <span class="${S.totalClass}"></span>`),S.type==="progressbar"&&(S.renderProgressbar?U=S.renderProgressbar.call(e,S.progressbarFillClass):U=`<span class="${S.progressbarFillClass}"></span>`),e.pagination.bullets=[],O.forEach(j=>{S.type!=="custom"&&sn(j,U||""),S.type==="bullets"&&e.pagination.bullets.push(...j.querySelectorAll(Ir(S.bulletClass)))}),S.type!=="custom"&&i("paginationRender",O[0])}function h(){e.params.pagination=Nc(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});let S=e.params.pagination;if(!S.el)return;let E;typeof S.el=="string"&&e.isElement&&(E=e.el.querySelector(S.el)),!E&&typeof S.el=="string"&&(E=[...document.querySelectorAll(S.el)]),E||(E=S.el),!(!E||E.length===0)&&(e.params.uniqueNavElements&&typeof S.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...e.el.querySelectorAll(S.el)],E.length>1&&(E=E.find(O=>ti(O,".swiper")[0]===e.el))),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(e.pagination,{el:E}),E=Me(E),E.forEach(O=>{S.type==="bullets"&&S.clickable&&O.classList.add(...(S.clickableClass||"").split(" ")),O.classList.add(S.modifierClass+S.type),O.classList.add(e.isHorizontal()?S.horizontalClass:S.verticalClass),S.type==="bullets"&&S.dynamicBullets&&(O.classList.add(`${S.modifierClass}${S.type}-dynamic`),a=0,S.dynamicMainBullets<1&&(S.dynamicMainBullets=1)),S.type==="progressbar"&&S.progressbarOpposite&&O.classList.add(S.progressbarOppositeClass),S.clickable&&O.addEventListener("click",f),e.enabled||O.classList.add(S.lockClass)}))}function v(){let S=e.params.pagination;if(l())return;let E=e.pagination.el;E&&(E=Me(E),E.forEach(O=>{O.classList.remove(S.hiddenClass),O.classList.remove(S.modifierClass+S.type),O.classList.remove(e.isHorizontal()?S.horizontalClass:S.verticalClass),S.clickable&&(O.classList.remove(...(S.clickableClass||"").split(" ")),O.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(O=>O.classList.remove(...S.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;let S=e.params.pagination,{el:E}=e.pagination;E=Me(E),E.forEach(O=>{O.classList.remove(S.horizontalClass,S.verticalClass),O.classList.add(e.isHorizontal()?S.horizontalClass:S.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?x():(h(),m(),g())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&g()}),r("snapIndexChange",()=>{g()}),r("snapGridLengthChange",()=>{m(),g()}),r("destroy",()=>{v()}),r("enable disable",()=>{let{el:S}=e.pagination;S&&(S=Me(S),S.forEach(E=>E.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{g()}),r("click",(S,E)=>{let O=E.target,U=Me(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&U&&U.length>0&&!O.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&O===e.navigation.nextEl||e.navigation.prevEl&&O===e.navigation.prevEl))return;let j=U[0].classList.contains(e.params.pagination.hiddenClass);i(j===!0?"paginationShow":"paginationHide"),U.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});let w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:S}=e.pagination;S&&(S=Me(S),S.forEach(E=>E.classList.remove(e.params.pagination.paginationDisabledClass))),h(),m(),g()},x=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:S}=e.pagination;S&&(S=Me(S),S.forEach(E=>E.classList.add(e.params.pagination.paginationDisabledClass))),v()};Object.assign(e.pagination,{enable:w,disable:x,render:m,update:g,init:h,destroy:v})}function DL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s=ft(),o=!1,a=null,l=null,c,d,f,g;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;let{scrollbar:k,rtlTranslate:I}=e,{dragEl:H,el:Y}=k,J=e.params.scrollbar,B=e.params.loop?e.progressLoop:e.progress,$=d,te=(f-d)*B;I?(te=-te,te>0?($=d-te,te=0):-te+d>f&&($=f+te)):te<0?($=d+te,te=0):te+d>f&&($=f-te),e.isHorizontal()?(H.style.transform=`translate3d(${te}px, 0, 0)`,H.style.width=`${$}px`):(H.style.transform=`translate3d(0px, ${te}px, 0)`,H.style.height=`${$}px`),J.hide&&(clearTimeout(a),Y.style.opacity=1,a=setTimeout(()=>{Y.style.opacity=0,Y.style.transitionDuration="400ms"},1e3))}function h(k){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${k}ms`)}function v(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;let{scrollbar:k}=e,{dragEl:I,el:H}=k;I.style.width="",I.style.height="",f=e.isHorizontal()?H.offsetWidth:H.offsetHeight,g=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?d=f*g:d=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?I.style.width=`${d}px`:I.style.height=`${d}px`,g>=1?H.style.display="none":H.style.display="",e.params.scrollbar.hide&&(H.style.opacity=0),e.params.watchOverflow&&e.enabled&&k.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function w(k){return e.isHorizontal()?k.clientX:k.clientY}function x(k){let{scrollbar:I,rtlTranslate:H}=e,{el:Y}=I,J;J=(w(k)-za(Y)[e.isHorizontal()?"left":"top"]-(c!==null?c:d/2))/(f-d),J=Math.max(Math.min(J,1),0),H&&(J=1-J);let B=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*J;e.updateProgress(B),e.setTranslate(B),e.updateActiveIndex(),e.updateSlidesClasses()}function S(k){let I=e.params.scrollbar,{scrollbar:H,wrapperEl:Y}=e,{el:J,dragEl:B}=H;o=!0,c=k.target===B?w(k)-k.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,k.preventDefault(),k.stopPropagation(),Y.style.transitionDuration="100ms",B.style.transitionDuration="100ms",x(k),clearTimeout(l),J.style.transitionDuration="0ms",I.hide&&(J.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",k)}function E(k){let{scrollbar:I,wrapperEl:H}=e,{el:Y,dragEl:J}=I;o&&(k.preventDefault&&k.cancelable?k.preventDefault():k.returnValue=!1,x(k),H.style.transitionDuration="0ms",Y.style.transitionDuration="0ms",J.style.transitionDuration="0ms",i("scrollbarDragMove",k))}function O(k){let I=e.params.scrollbar,{scrollbar:H,wrapperEl:Y}=e,{el:J}=H;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",Y.style.transitionDuration=""),I.hide&&(clearTimeout(l),l=ei(()=>{J.style.opacity=0,J.style.transitionDuration="400ms"},1e3)),i("scrollbarDragEnd",k),I.snapOnRelease&&e.slideToClosest())}function U(k){let{scrollbar:I,params:H}=e,Y=I.el;if(!Y)return;let J=Y,B=H.passiveListeners?{passive:!1,capture:!1}:!1,$=H.passiveListeners?{passive:!0,capture:!1}:!1;if(!J)return;let te=k==="on"?"addEventListener":"removeEventListener";J[te]("pointerdown",S,B),s[te]("pointermove",E,B),s[te]("pointerup",O,$)}function j(){!e.params.scrollbar.el||!e.scrollbar.el||U("on")}function M(){!e.params.scrollbar.el||!e.scrollbar.el||U("off")}function b(){let{scrollbar:k,el:I}=e;e.params.scrollbar=Nc(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});let H=e.params.scrollbar;if(!H.el)return;let Y;if(typeof H.el=="string"&&e.isElement&&(Y=e.el.querySelector(H.el)),!Y&&typeof H.el=="string"){if(Y=s.querySelectorAll(H.el),!Y.length)return}else Y||(Y=H.el);e.params.uniqueNavElements&&typeof H.el=="string"&&Y.length>1&&I.querySelectorAll(H.el).length===1&&(Y=I.querySelector(H.el)),Y.length>0&&(Y=Y[0]),Y.classList.add(e.isHorizontal()?H.horizontalClass:H.verticalClass);let J;Y&&(J=Y.querySelector(Ir(e.params.scrollbar.dragClass)),J||(J=Ht("div",e.params.scrollbar.dragClass),Y.append(J))),Object.assign(k,{el:Y,dragEl:J}),H.draggable&&j(),Y&&Y.classList[e.enabled?"remove":"add"](..._s(e.params.scrollbar.lockClass))}function _(){let k=e.params.scrollbar,I=e.scrollbar.el;I&&I.classList.remove(..._s(e.isHorizontal()?k.horizontalClass:k.verticalClass)),M()}r("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;let k=e.params.scrollbar,{el:I}=e.scrollbar;I=Me(I),I.forEach(H=>{H.classList.remove(k.horizontalClass,k.verticalClass),H.classList.add(e.isHorizontal()?k.horizontalClass:k.verticalClass)})}),r("init",()=>{e.params.scrollbar.enabled===!1?R():(b(),v(),m())}),r("update resize observerUpdate lock unlock changeDirection",()=>{v()}),r("setTranslate",()=>{m()}),r("setTransition",(k,I)=>{h(I)}),r("enable disable",()=>{let{el:k}=e.scrollbar;k&&k.classList[e.enabled?"remove":"add"](..._s(e.params.scrollbar.lockClass))}),r("destroy",()=>{_()});let C=()=>{e.el.classList.remove(..._s(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(..._s(e.params.scrollbar.scrollbarDisabledClass)),b(),v(),m()},R=()=>{e.el.classList.add(..._s(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(..._s(e.params.scrollbar.scrollbarDisabledClass)),_()};Object.assign(e.scrollbar,{enable:C,disable:R,updateSize:v,setTranslate:m,init:b,destroy:_})}function xL(n){let{swiper:e,extendParams:t,on:r}=n;t({parallax:{enabled:!1}});let i="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",s=(l,c)=>{let{rtl:d}=e,f=d?-1:1,g=l.getAttribute("data-swiper-parallax")||"0",m=l.getAttribute("data-swiper-parallax-x"),h=l.getAttribute("data-swiper-parallax-y"),v=l.getAttribute("data-swiper-parallax-scale"),w=l.getAttribute("data-swiper-parallax-opacity"),x=l.getAttribute("data-swiper-parallax-rotate");if(m||h?(m=m||"0",h=h||"0"):e.isHorizontal()?(m=g,h="0"):(h=g,m="0"),m.indexOf("%")>=0?m=`${parseInt(m,10)*c*f}%`:m=`${m*c*f}px`,h.indexOf("%")>=0?h=`${parseInt(h,10)*c}%`:h=`${h*c}px`,typeof w<"u"&&w!==null){let E=w-(w-1)*(1-Math.abs(c));l.style.opacity=E}let S=`translate3d(${m}, ${h}, 0px)`;if(typeof v<"u"&&v!==null){let E=v-(v-1)*(1-Math.abs(c));S+=` scale(${E})`}if(x&&typeof x<"u"&&x!==null){let E=x*c*-1;S+=` rotate(${E}deg)`}l.style.transform=S},o=()=>{let{el:l,slides:c,progress:d,snapGrid:f,isElement:g}=e,m=wt(l,i);e.isElement&&m.push(...wt(e.hostEl,i)),m.forEach(h=>{s(h,d)}),c.forEach((h,v)=>{let w=h.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(w+=Math.ceil(v/2)-d*(f.length-1)),w=Math.min(Math.max(w,-1),1),h.querySelectorAll(`${i}, [data-swiper-parallax-rotate]`).forEach(x=>{s(x,w)})})},a=function(l){l===void 0&&(l=e.params.speed);let{el:c,hostEl:d}=e,f=[...c.querySelectorAll(i)];e.isElement&&f.push(...d.querySelectorAll(i)),f.forEach(g=>{let m=parseInt(g.getAttribute("data-swiper-parallax-duration"),10)||l;l===0&&(m=0),g.style.transitionDuration=`${m}ms`})};r("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),r("init",()=>{e.params.parallax.enabled&&o()}),r("setTranslate",()=>{e.params.parallax.enabled&&o()}),r("setTransition",(l,c)=>{e.params.parallax.enabled&&a(c)})}function AL(n){let{swiper:e,extendParams:t,on:r,emit:i}=n,s=Xe();t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let o=1,a=!1,l=!1,c={x:0,y:0},d=-3,f,g,m=[],h={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},v={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},w={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},x=1;Object.defineProperty(e.zoom,"scale",{get(){return x},set(X){if(x!==X){let K=h.imageEl,ee=h.slideEl;i("zoomChange",X,K,ee)}x=X}});function S(){if(m.length<2)return 1;let X=m[0].pageX,K=m[0].pageY,ee=m[1].pageX,je=m[1].pageY;return Math.sqrt((ee-X)**2+(je-K)**2)}function E(){let X=e.params.zoom,K=h.imageWrapEl.getAttribute("data-swiper-zoom")||X.maxRatio;if(X.limitToOriginalSize&&h.imageEl&&h.imageEl.naturalWidth){let ee=h.imageEl.naturalWidth/h.imageEl.offsetWidth;return Math.min(ee,K)}return K}function O(){if(m.length<2)return{x:null,y:null};let X=h.imageEl.getBoundingClientRect();return[(m[0].pageX+(m[1].pageX-m[0].pageX)/2-X.x-s.scrollX)/o,(m[0].pageY+(m[1].pageY-m[0].pageY)/2-X.y-s.scrollY)/o]}function U(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function j(X){let K=U();return!!(X.target.matches(K)||e.slides.filter(ee=>ee.contains(X.target)).length>0)}function M(X){let K=`.${e.params.zoom.containerClass}`;return!!(X.target.matches(K)||[...e.hostEl.querySelectorAll(K)].filter(ee=>ee.contains(X.target)).length>0)}function b(X){if(X.pointerType==="mouse"&&m.splice(0,m.length),!j(X))return;let K=e.params.zoom;if(f=!1,g=!1,m.push(X),!(m.length<2)){if(f=!0,h.scaleStart=S(),!h.slideEl){h.slideEl=X.target.closest(`.${e.params.slideClass}, swiper-slide`),h.slideEl||(h.slideEl=e.slides[e.activeIndex]);let ee=h.slideEl.querySelector(`.${K.containerClass}`);if(ee&&(ee=ee.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=ee,ee?h.imageWrapEl=ti(h.imageEl,`.${K.containerClass}`)[0]:h.imageWrapEl=void 0,!h.imageWrapEl){h.imageEl=void 0;return}h.maxRatio=E()}if(h.imageEl){let[ee,je]=O();h.originX=ee,h.originY=je,h.imageEl.style.transitionDuration="0ms"}a=!0}}function _(X){if(!j(X))return;let K=e.params.zoom,ee=e.zoom,je=m.findIndex(Qt=>Qt.pointerId===X.pointerId);je>=0&&(m[je]=X),!(m.length<2)&&(g=!0,h.scaleMove=S(),h.imageEl&&(ee.scale=h.scaleMove/h.scaleStart*o,ee.scale>h.maxRatio&&(ee.scale=h.maxRatio-1+(ee.scale-h.maxRatio+1)**.5),ee.scale<K.minRatio&&(ee.scale=K.minRatio+1-(K.minRatio-ee.scale+1)**.5),h.imageEl.style.transform=`translate3d(0,0,0) scale(${ee.scale})`))}function C(X){if(!j(X)||X.pointerType==="mouse"&&X.type==="pointerout")return;let K=e.params.zoom,ee=e.zoom,je=m.findIndex(Qt=>Qt.pointerId===X.pointerId);je>=0&&m.splice(je,1),!(!f||!g)&&(f=!1,g=!1,h.imageEl&&(ee.scale=Math.max(Math.min(ee.scale,h.maxRatio),K.minRatio),h.imageEl.style.transitionDuration=`${e.params.speed}ms`,h.imageEl.style.transform=`translate3d(0,0,0) scale(${ee.scale})`,o=ee.scale,a=!1,ee.scale>1&&h.slideEl?h.slideEl.classList.add(`${K.zoomedSlideClass}`):ee.scale<=1&&h.slideEl&&h.slideEl.classList.remove(`${K.zoomedSlideClass}`),ee.scale===1&&(h.originX=0,h.originY=0,h.slideEl=void 0)))}let R;function k(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function I(){clearTimeout(R),e.touchEventsData.preventTouchMoveFromPointerMove=!0,R=setTimeout(()=>{e.destroyed||k()})}function H(X){let K=e.device;if(!h.imageEl||v.isTouched)return;K.android&&X.cancelable&&X.preventDefault(),v.isTouched=!0;let ee=m.length>0?m[0]:X;v.touchesStart.x=ee.pageX,v.touchesStart.y=ee.pageY}function Y(X){let ee=X.pointerType==="mouse"&&e.params.zoom.panOnMouseMove;if(!j(X)||!M(X))return;let je=e.zoom;if(!h.imageEl)return;if(!v.isTouched||!h.slideEl){ee&&$(X);return}if(ee){$(X);return}v.isMoved||(v.width=h.imageEl.offsetWidth||h.imageEl.clientWidth,v.height=h.imageEl.offsetHeight||h.imageEl.clientHeight,v.startX=gf(h.imageWrapEl,"x")||0,v.startY=gf(h.imageWrapEl,"y")||0,h.slideWidth=h.slideEl.offsetWidth,h.slideHeight=h.slideEl.offsetHeight,h.imageWrapEl.style.transitionDuration="0ms");let Qt=v.width*je.scale,Wn=v.height*je.scale;if(v.minX=Math.min(h.slideWidth/2-Qt/2,0),v.maxX=-v.minX,v.minY=Math.min(h.slideHeight/2-Wn/2,0),v.maxY=-v.minY,v.touchesCurrent.x=m.length>0?m[0].pageX:X.pageX,v.touchesCurrent.y=m.length>0?m[0].pageY:X.pageY,Math.max(Math.abs(v.touchesCurrent.x-v.touchesStart.x),Math.abs(v.touchesCurrent.y-v.touchesStart.y))>5&&(e.allowClick=!1),!v.isMoved&&!a){if(e.isHorizontal()&&(Math.floor(v.minX)===Math.floor(v.startX)&&v.touchesCurrent.x<v.touchesStart.x||Math.floor(v.maxX)===Math.floor(v.startX)&&v.touchesCurrent.x>v.touchesStart.x)){v.isTouched=!1,k();return}if(!e.isHorizontal()&&(Math.floor(v.minY)===Math.floor(v.startY)&&v.touchesCurrent.y<v.touchesStart.y||Math.floor(v.maxY)===Math.floor(v.startY)&&v.touchesCurrent.y>v.touchesStart.y)){v.isTouched=!1,k();return}}X.cancelable&&X.preventDefault(),X.stopPropagation(),I(),v.isMoved=!0;let Yn=(je.scale-o)/(h.maxRatio-e.params.zoom.minRatio),{originX:ar,originY:Vt}=h;v.currentX=v.touchesCurrent.x-v.touchesStart.x+v.startX+Yn*(v.width-ar*2),v.currentY=v.touchesCurrent.y-v.touchesStart.y+v.startY+Yn*(v.height-Vt*2),v.currentX<v.minX&&(v.currentX=v.minX+1-(v.minX-v.currentX+1)**.8),v.currentX>v.maxX&&(v.currentX=v.maxX-1+(v.currentX-v.maxX+1)**.8),v.currentY<v.minY&&(v.currentY=v.minY+1-(v.minY-v.currentY+1)**.8),v.currentY>v.maxY&&(v.currentY=v.maxY-1+(v.currentY-v.maxY+1)**.8),w.prevPositionX||(w.prevPositionX=v.touchesCurrent.x),w.prevPositionY||(w.prevPositionY=v.touchesCurrent.y),w.prevTime||(w.prevTime=Date.now()),w.x=(v.touchesCurrent.x-w.prevPositionX)/(Date.now()-w.prevTime)/2,w.y=(v.touchesCurrent.y-w.prevPositionY)/(Date.now()-w.prevTime)/2,Math.abs(v.touchesCurrent.x-w.prevPositionX)<2&&(w.x=0),Math.abs(v.touchesCurrent.y-w.prevPositionY)<2&&(w.y=0),w.prevPositionX=v.touchesCurrent.x,w.prevPositionY=v.touchesCurrent.y,w.prevTime=Date.now(),h.imageWrapEl.style.transform=`translate3d(${v.currentX}px, ${v.currentY}px,0)`}function J(){let X=e.zoom;if(m.length=0,!h.imageEl)return;if(!v.isTouched||!v.isMoved){v.isTouched=!1,v.isMoved=!1;return}v.isTouched=!1,v.isMoved=!1;let K=300,ee=300,je=w.x*K,Qt=v.currentX+je,Wn=w.y*ee,Kn=v.currentY+Wn;w.x!==0&&(K=Math.abs((Qt-v.currentX)/w.x)),w.y!==0&&(ee=Math.abs((Kn-v.currentY)/w.y));let Yn=Math.max(K,ee);v.currentX=Qt,v.currentY=Kn;let ar=v.width*X.scale,Vt=v.height*X.scale;v.minX=Math.min(h.slideWidth/2-ar/2,0),v.maxX=-v.minX,v.minY=Math.min(h.slideHeight/2-Vt/2,0),v.maxY=-v.minY,v.currentX=Math.max(Math.min(v.currentX,v.maxX),v.minX),v.currentY=Math.max(Math.min(v.currentY,v.maxY),v.minY),h.imageWrapEl.style.transitionDuration=`${Yn}ms`,h.imageWrapEl.style.transform=`translate3d(${v.currentX}px, ${v.currentY}px,0)`}function B(){let X=e.zoom;h.slideEl&&e.activeIndex!==e.slides.indexOf(h.slideEl)&&(h.imageEl&&(h.imageEl.style.transform="translate3d(0,0,0) scale(1)"),h.imageWrapEl&&(h.imageWrapEl.style.transform="translate3d(0,0,0)"),h.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),X.scale=1,o=1,h.slideEl=void 0,h.imageEl=void 0,h.imageWrapEl=void 0,h.originX=0,h.originY=0)}function $(X){if(o<=1||!h.imageWrapEl||!j(X)||!M(X))return;let K=s.getComputedStyle(h.imageWrapEl).transform,ee=new s.DOMMatrix(K);if(!l){l=!0,c.x=X.clientX,c.y=X.clientY,v.startX=ee.e,v.startY=ee.f,v.width=h.imageEl.offsetWidth||h.imageEl.clientWidth,v.height=h.imageEl.offsetHeight||h.imageEl.clientHeight,h.slideWidth=h.slideEl.offsetWidth,h.slideHeight=h.slideEl.offsetHeight;return}let je=(X.clientX-c.x)*d,Qt=(X.clientY-c.y)*d,Wn=v.width*o,Kn=v.height*o,Yn=h.slideWidth,ar=h.slideHeight,Vt=Math.min(Yn/2-Wn/2,0),Cn=-Vt,Es=Math.min(ar/2-Kn/2,0),_o=-Es,Is=Math.max(Math.min(v.startX+je,Cn),Vt),Bi=Math.max(Math.min(v.startY+Qt,_o),Es);h.imageWrapEl.style.transitionDuration="0ms",h.imageWrapEl.style.transform=`translate3d(${Is}px, ${Bi}px, 0)`,c.x=X.clientX,c.y=X.clientY,v.startX=Is,v.startY=Bi,v.currentX=Is,v.currentY=Bi}function te(X){let K=e.zoom,ee=e.params.zoom;if(!h.slideEl){X&&X.target&&(h.slideEl=X.target.closest(`.${e.params.slideClass}, swiper-slide`)),h.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?h.slideEl=wt(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:h.slideEl=e.slides[e.activeIndex]);let ni=h.slideEl.querySelector(`.${ee.containerClass}`);ni&&(ni=ni.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=ni,ni?h.imageWrapEl=ti(h.imageEl,`.${ee.containerClass}`)[0]:h.imageWrapEl=void 0}if(!h.imageEl||!h.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),h.slideEl.classList.add(`${ee.zoomedSlideClass}`);let je,Qt,Wn,Kn,Yn,ar,Vt,Cn,Es,_o,Is,Bi,bo,Ts,qa,Fc,Eo,Io;typeof v.touchesStart.x>"u"&&X?(je=X.pageX,Qt=X.pageY):(je=v.touchesStart.x,Qt=v.touchesStart.y);let To=o,_t=typeof X=="number"?X:null;o===1&&_t&&(je=void 0,Qt=void 0,v.touchesStart.x=void 0,v.touchesStart.y=void 0);let Xt=E();K.scale=_t||Xt,o=_t||Xt,X&&!(o===1&&_t)?(Eo=h.slideEl.offsetWidth,Io=h.slideEl.offsetHeight,Wn=za(h.slideEl).left+s.scrollX,Kn=za(h.slideEl).top+s.scrollY,Yn=Wn+Eo/2-je,ar=Kn+Io/2-Qt,Es=h.imageEl.offsetWidth||h.imageEl.clientWidth,_o=h.imageEl.offsetHeight||h.imageEl.clientHeight,Is=Es*K.scale,Bi=_o*K.scale,bo=Math.min(Eo/2-Is/2,0),Ts=Math.min(Io/2-Bi/2,0),qa=-bo,Fc=-Ts,To>0&&_t&&typeof v.currentX=="number"&&typeof v.currentY=="number"?(Vt=v.currentX*K.scale/To,Cn=v.currentY*K.scale/To):(Vt=Yn*K.scale,Cn=ar*K.scale),Vt<bo&&(Vt=bo),Vt>qa&&(Vt=qa),Cn<Ts&&(Cn=Ts),Cn>Fc&&(Cn=Fc)):(Vt=0,Cn=0),_t&&K.scale===1&&(h.originX=0,h.originY=0),v.currentX=Vt,v.currentY=Cn,h.imageWrapEl.style.transitionDuration="300ms",h.imageWrapEl.style.transform=`translate3d(${Vt}px, ${Cn}px,0)`,h.imageEl.style.transitionDuration="300ms",h.imageEl.style.transform=`translate3d(0,0,0) scale(${K.scale})`}function Ie(){let X=e.zoom,K=e.params.zoom;if(!h.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?h.slideEl=wt(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:h.slideEl=e.slides[e.activeIndex];let ee=h.slideEl.querySelector(`.${K.containerClass}`);ee&&(ee=ee.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=ee,ee?h.imageWrapEl=ti(h.imageEl,`.${K.containerClass}`)[0]:h.imageWrapEl=void 0}!h.imageEl||!h.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),X.scale=1,o=1,v.currentX=void 0,v.currentY=void 0,v.touchesStart.x=void 0,v.touchesStart.y=void 0,h.imageWrapEl.style.transitionDuration="300ms",h.imageWrapEl.style.transform="translate3d(0,0,0)",h.imageEl.style.transitionDuration="300ms",h.imageEl.style.transform="translate3d(0,0,0) scale(1)",h.slideEl.classList.remove(`${K.zoomedSlideClass}`),h.slideEl=void 0,h.originX=0,h.originY=0,e.params.zoom.panOnMouseMove&&(c={x:0,y:0},l&&(l=!1,v.startX=0,v.startY=0)))}function pt(X){let K=e.zoom;K.scale&&K.scale!==1?Ie():te(X)}function ot(){let X=e.params.passiveListeners?{passive:!0,capture:!1}:!1,K=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:X,activeListenerWithCapture:K}}function at(){let X=e.zoom;if(X.enabled)return;X.enabled=!0;let{passiveListener:K,activeListenerWithCapture:ee}=ot();e.wrapperEl.addEventListener("pointerdown",b,K),e.wrapperEl.addEventListener("pointermove",_,ee),["pointerup","pointercancel","pointerout"].forEach(je=>{e.wrapperEl.addEventListener(je,C,K)}),e.wrapperEl.addEventListener("pointermove",Y,ee)}function wo(){let X=e.zoom;if(!X.enabled)return;X.enabled=!1;let{passiveListener:K,activeListenerWithCapture:ee}=ot();e.wrapperEl.removeEventListener("pointerdown",b,K),e.wrapperEl.removeEventListener("pointermove",_,ee),["pointerup","pointercancel","pointerout"].forEach(je=>{e.wrapperEl.removeEventListener(je,C,K)}),e.wrapperEl.removeEventListener("pointermove",Y,ee)}r("init",()=>{e.params.zoom.enabled&&at()}),r("destroy",()=>{wo()}),r("touchStart",(X,K)=>{e.zoom.enabled&&H(K)}),r("touchEnd",(X,K)=>{e.zoom.enabled&&J()}),r("doubleTap",(X,K)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&pt(K)}),r("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&B()}),r("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&B()}),Object.assign(e.zoom,{enable:at,disable:wo,in:te,out:Ie,toggle:pt})}function ML(n){let{swiper:e,extendParams:t,on:r}=n;t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function i(c,d){let f=function(){let v,w,x;return(S,E)=>{for(w=-1,v=S.length;v-w>1;)x=v+w>>1,S[x]<=E?w=x:v=x;return v}}();this.x=c,this.y=d,this.lastIndex=c.length-1;let g,m;return this.interpolate=function(v){return v?(m=f(this.x,v),g=m-1,(v-this.x[g])*(this.y[m]-this.y[g])/(this.x[m]-this.x[g])+this.y[g]):0},this}function s(c){e.controller.spline=e.params.loop?new i(e.slidesGrid,c.slidesGrid):new i(e.snapGrid,c.snapGrid)}function o(c,d){let f=e.controller.control,g,m,h=e.constructor;function v(w){if(w.destroyed)return;let x=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(s(w),m=-e.controller.spline.interpolate(-x)),(!m||e.params.controller.by==="container")&&(g=(w.maxTranslate()-w.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(g)||!Number.isFinite(g))&&(g=1),m=(x-e.minTranslate())*g+w.minTranslate()),e.params.controller.inverse&&(m=w.maxTranslate()-m),w.updateProgress(m),w.setTranslate(m,e),w.updateActiveIndex(),w.updateSlidesClasses()}if(Array.isArray(f))for(let w=0;w<f.length;w+=1)f[w]!==d&&f[w]instanceof h&&v(f[w]);else f instanceof h&&d!==f&&v(f)}function a(c,d){let f=e.constructor,g=e.controller.control,m;function h(v){v.destroyed||(v.setTransition(c,e),c!==0&&(v.transitionStart(),v.params.autoHeight&&ei(()=>{v.updateAutoHeight()}),mo(v.wrapperEl,()=>{g&&v.transitionEnd()})))}if(Array.isArray(g))for(m=0;m<g.length;m+=1)g[m]!==d&&g[m]instanceof f&&h(g[m]);else g instanceof f&&d!==g&&h(g)}function l(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}r("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(d=>{if(e.controller.control||(e.controller.control=[]),d&&d.swiper)e.controller.control.push(d.swiper);else if(d){let f=`${e.params.eventsPrefix}init`,g=m=>{e.controller.control.push(m.detail[0]),e.update(),d.removeEventListener(f,g)};d.addEventListener(f,g)}});return}e.controller.control=e.params.controller.control}),r("update",()=>{l()}),r("resize",()=>{l()}),r("observerUpdate",()=>{l()}),r("setTranslate",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(d,f)}),r("setTransition",(c,d,f)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(d,f)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}function RL(n){let{swiper:e,extendParams:t,on:r}=n;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let i=null,s,o,a=new Date().getTime();function l(B){let $=i;$.length!==0&&sn($,B)}function c(B){B===void 0&&(B=16);let $=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(B).replace(/x/g,$)}function d(B){B=Me(B),B.forEach($=>{$.setAttribute("tabIndex","0")})}function f(B){B=Me(B),B.forEach($=>{$.setAttribute("tabIndex","-1")})}function g(B,$){B=Me(B),B.forEach(te=>{te.setAttribute("role",$)})}function m(B,$){B=Me(B),B.forEach(te=>{te.setAttribute("aria-roledescription",$)})}function h(B,$){B=Me(B),B.forEach(te=>{te.setAttribute("aria-controls",$)})}function v(B,$){B=Me(B),B.forEach(te=>{te.setAttribute("aria-label",$)})}function w(B,$){B=Me(B),B.forEach(te=>{te.setAttribute("id",$)})}function x(B,$){B=Me(B),B.forEach(te=>{te.setAttribute("aria-live",$)})}function S(B){B=Me(B),B.forEach($=>{$.setAttribute("aria-disabled",!0)})}function E(B){B=Me(B),B.forEach($=>{$.setAttribute("aria-disabled",!1)})}function O(B){if(B.keyCode!==13&&B.keyCode!==32)return;let $=e.params.a11y,te=B.target;if(!(e.pagination&&e.pagination.el&&(te===e.pagination.el||e.pagination.el.contains(B.target))&&!B.target.matches(Ir(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){let Ie=Me(e.navigation.prevEl);Me(e.navigation.nextEl).includes(te)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?l($.lastSlideMessage):l($.nextSlideMessage)),Ie.includes(te)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?l($.firstSlideMessage):l($.prevSlideMessage))}e.pagination&&te.matches(Ir(e.params.pagination.bulletClass))&&te.click()}}function U(){if(e.params.loop||e.params.rewind||!e.navigation)return;let{nextEl:B,prevEl:$}=e.navigation;$&&(e.isBeginning?(S($),f($)):(E($),d($))),B&&(e.isEnd?(S(B),f(B)):(E(B),d(B)))}function j(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function M(){return j()&&e.params.pagination.clickable}function b(){let B=e.params.a11y;j()&&e.pagination.bullets.forEach($=>{e.params.pagination.clickable&&(d($),e.params.pagination.renderBullet||(g($,"button"),v($,B.paginationBulletMessage.replace(/\{\{index\}\}/,po($)+1)))),$.matches(Ir(e.params.pagination.bulletActiveClass))?$.setAttribute("aria-current","true"):$.removeAttribute("aria-current")})}let _=(B,$,te)=>{d(B),B.tagName!=="BUTTON"&&(g(B,"button"),B.addEventListener("keydown",O)),v(B,te),h(B,$)},C=B=>{o&&o!==B.target&&!o.contains(B.target)&&(s=!0),e.a11y.clicked=!0},R=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},k=B=>{a=new Date().getTime()},I=B=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-a<100)return;let $=B.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!$||!e.slides.includes($))return;o=$;let te=e.slides.indexOf($)===e.activeIndex,Ie=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes($);te||Ie||B.sourceCapabilities&&B.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{s||(e.params.loop?e.slideToLoop(parseInt($.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf($),0),s=!1)}))},H=()=>{let B=e.params.a11y;B.itemRoleDescriptionMessage&&m(e.slides,B.itemRoleDescriptionMessage),B.slideRole&&g(e.slides,B.slideRole);let $=e.slides.length;B.slideLabelMessage&&e.slides.forEach((te,Ie)=>{let pt=e.params.loop?parseInt(te.getAttribute("data-swiper-slide-index"),10):Ie,ot=B.slideLabelMessage.replace(/\{\{index\}\}/,pt+1).replace(/\{\{slidesLength\}\}/,$);v(te,ot)})},Y=()=>{let B=e.params.a11y;e.el.append(i);let $=e.el;B.containerRoleDescriptionMessage&&m($,B.containerRoleDescriptionMessage),B.containerMessage&&v($,B.containerMessage),B.containerRole&&g($,B.containerRole);let te=e.wrapperEl,Ie=B.id||te.getAttribute("id")||`swiper-wrapper-${c(16)}`,pt=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";w(te,Ie),x(te,pt),H();let{nextEl:ot,prevEl:at}=e.navigation?e.navigation:{};ot=Me(ot),at=Me(at),ot&&ot.forEach(X=>_(X,Ie,B.nextSlideMessage)),at&&at.forEach(X=>_(X,Ie,B.prevSlideMessage)),M()&&Me(e.pagination.el).forEach(K=>{K.addEventListener("keydown",O)}),ft().addEventListener("visibilitychange",k),e.el.addEventListener("focus",I,!0),e.el.addEventListener("focus",I,!0),e.el.addEventListener("pointerdown",C,!0),e.el.addEventListener("pointerup",R,!0)};function J(){i&&i.remove();let{nextEl:B,prevEl:$}=e.navigation?e.navigation:{};B=Me(B),$=Me($),B&&B.forEach(Ie=>Ie.removeEventListener("keydown",O)),$&&$.forEach(Ie=>Ie.removeEventListener("keydown",O)),M()&&Me(e.pagination.el).forEach(pt=>{pt.removeEventListener("keydown",O)}),ft().removeEventListener("visibilitychange",k),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",I,!0),e.el.removeEventListener("pointerdown",C,!0),e.el.removeEventListener("pointerup",R,!0))}r("beforeInit",()=>{i=Ht("span",e.params.a11y.notificationClass),i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true")}),r("afterInit",()=>{e.params.a11y.enabled&&Y()}),r("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&H()}),r("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&U()}),r("paginationUpdate",()=>{e.params.a11y.enabled&&b()}),r("destroy",()=>{e.params.a11y.enabled&&J()})}function kL(n){let{swiper:e,extendParams:t,on:r}=n;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let i=!1,s={},o=m=>m.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=m=>{let h=Xe(),v;m?v=new URL(m):v=h.location;let w=v.pathname.slice(1).split("/").filter(O=>O!==""),x=w.length,S=w[x-2],E=w[x-1];return{key:S,value:E}},l=(m,h)=>{let v=Xe();if(!i||!e.params.history.enabled)return;let w;e.params.url?w=new URL(e.params.url):w=v.location;let x=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${h}"]`):e.slides[h],S=o(x.getAttribute("data-history"));if(e.params.history.root.length>0){let O=e.params.history.root;O[O.length-1]==="/"&&(O=O.slice(0,O.length-1)),S=`${O}/${m?`${m}/`:""}${S}`}else w.pathname.includes(m)||(S=`${m?`${m}/`:""}${S}`);e.params.history.keepQuery&&(S+=w.search);let E=v.history.state;E&&E.value===S||(e.params.history.replaceState?v.history.replaceState({value:S},null,S):v.history.pushState({value:S},null,S))},c=(m,h,v)=>{if(h)for(let w=0,x=e.slides.length;w<x;w+=1){let S=e.slides[w];if(o(S.getAttribute("data-history"))===h){let O=e.getSlideIndex(S);e.slideTo(O,m,v)}}else e.slideTo(0,m,v)},d=()=>{s=a(e.params.url),c(e.params.speed,s.value,!1)},f=()=>{let m=Xe();if(e.params.history){if(!m.history||!m.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}if(i=!0,s=a(e.params.url),!s.key&&!s.value){e.params.history.replaceState||m.addEventListener("popstate",d);return}c(0,s.value,e.params.runCallbacksOnInit),e.params.history.replaceState||m.addEventListener("popstate",d)}},g=()=>{let m=Xe();e.params.history.replaceState||m.removeEventListener("popstate",d)};r("init",()=>{e.params.history.enabled&&f()}),r("destroy",()=>{e.params.history.enabled&&g()}),r("transitionEnd _freeModeNoMomentumRelease",()=>{i&&l(e.params.history.key,e.activeIndex)}),r("slideChange",()=>{i&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})}function PL(n){let{swiper:e,extendParams:t,emit:r,on:i}=n,s=!1,o=ft(),a=Xe();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(g,m){if(e.virtual&&e.params.virtual.enabled){let h=e.slides.find(w=>w.getAttribute("data-hash")===m);return h?parseInt(h.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(wt(e.slidesEl,`.${e.params.slideClass}[data-hash="${m}"], swiper-slide[data-hash="${m}"]`)[0])}}});let l=()=>{r("hashChange");let g=o.location.hash.replace("#",""),m=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],h=m?m.getAttribute("data-hash"):"";if(g!==h){let v=e.params.hashNavigation.getSlideIndex(e,g);if(typeof v>"u"||Number.isNaN(v))return;e.slideTo(v)}},c=()=>{if(!s||!e.params.hashNavigation.enabled)return;let g=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],m=g?g.getAttribute("data-hash")||g.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${m}`||""),r("hashSet")):(o.location.hash=m||"",r("hashSet"))},d=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;s=!0;let g=o.location.hash.replace("#","");if(g){let h=e.params.hashNavigation.getSlideIndex(e,g);e.slideTo(h||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&a.addEventListener("hashchange",l)},f=()=>{e.params.hashNavigation.watchState&&a.removeEventListener("hashchange",l)};i("init",()=>{e.params.hashNavigation.enabled&&d()}),i("destroy",()=>{e.params.hashNavigation.enabled&&f()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{s&&c()}),i("slideChange",()=>{s&&e.params.cssMode&&c()})}function NL(n){let{swiper:e,extendParams:t,on:r,emit:i,params:s}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,d,f=new Date().getTime(),g,m,h,v,w,x,S;function E($){!e||e.destroyed||!e.wrapperEl||$.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",E),!(S||$.detail&&$.detail.bySwiperTouchMove)&&C())}let O=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?g=!0:g&&(c=d,g=!1);let $=e.autoplay.paused?d:f+c-new Date().getTime();e.autoplay.timeLeft=$,i("autoplayTimeLeft",$,$/l),a=requestAnimationFrame(()=>{O()})},U=()=>{let $;return e.virtual&&e.params.virtual.enabled?$=e.slides.find(Ie=>Ie.classList.contains("swiper-slide-active")):$=e.slides[e.activeIndex],$?parseInt($.getAttribute("data-swiper-autoplay"),10):void 0},j=$=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),O();let te=typeof $>"u"?e.params.autoplay.delay:$;l=e.params.autoplay.delay,c=e.params.autoplay.delay;let Ie=U();!Number.isNaN(Ie)&&Ie>0&&typeof $>"u"&&(te=Ie,l=Ie,c=Ie),d=te;let pt=e.params.speed,ot=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(pt,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,pt,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(pt,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,pt,!0,!0),i("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{j()})))};return te>0?(clearTimeout(o),o=setTimeout(()=>{ot()},te)):requestAnimationFrame(()=>{ot()}),te},M=()=>{f=new Date().getTime(),e.autoplay.running=!0,j(),i("autoplayStart")},b=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},_=($,te)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),$||(x=!0);let Ie=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",E):C()};if(e.autoplay.paused=!0,te){w&&(d=e.params.autoplay.delay),w=!1,Ie();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),Ie())},C=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),x?(x=!1,j(d)):j(),e.autoplay.paused=!1,i("autoplayResume"))},R=()=>{if(e.destroyed||!e.autoplay.running)return;let $=ft();$.visibilityState==="hidden"&&(x=!0,_(!0)),$.visibilityState==="visible"&&C()},k=$=>{$.pointerType==="mouse"&&(x=!0,S=!0,!(e.animating||e.autoplay.paused)&&_(!0))},I=$=>{$.pointerType==="mouse"&&(S=!1,e.autoplay.paused&&C())},H=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",k),e.el.addEventListener("pointerleave",I))},Y=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",k),e.el.removeEventListener("pointerleave",I))},J=()=>{ft().addEventListener("visibilitychange",R)},B=()=>{ft().removeEventListener("visibilitychange",R)};r("init",()=>{e.params.autoplay.enabled&&(H(),J(),M())}),r("destroy",()=>{Y(),B(),e.autoplay.running&&b()}),r("_freeModeStaticRelease",()=>{(h||x)&&C()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?b():_(!0,!0)}),r("beforeTransitionStart",($,te,Ie)=>{e.destroyed||!e.autoplay.running||(Ie||!e.params.autoplay.disableOnInteraction?_(!0,!0):b())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){b();return}m=!0,h=!1,x=!1,v=setTimeout(()=>{x=!0,h=!0,_(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!m)){if(clearTimeout(v),clearTimeout(o),e.params.autoplay.disableOnInteraction){h=!1,m=!1;return}h&&e.params.cssMode&&C(),h=!1,m=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(w=!0)}),Object.assign(e.autoplay,{start:M,stop:b,pause:_,resume:C})}function OL(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,s=!1;e.thumbs={swiper:null};function o(){let c=e.thumbs.swiper;if(!c||c.destroyed)return;let d=c.clickedIndex,f=c.clickedSlide;if(f&&f.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof d>"u"||d===null)return;let g;c.params.loop?g=parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):g=d,e.params.loop?e.slideToLoop(g):e.slideTo(g)}function a(){let{thumbs:c}=e.params;if(i)return!1;i=!0;let d=e.constructor;if(c.swiper instanceof d){if(c.swiper.destroyed)return i=!1,!1;e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Pc(c.swiper)){let f=Object.assign({},c.swiper);Object.assign(f,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new d(f),s=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function l(c){let d=e.thumbs.swiper;if(!d||d.destroyed)return;let f=d.params.slidesPerView==="auto"?d.slidesPerViewDynamic():d.params.slidesPerView,g=1,m=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(g=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(g=1),g=Math.floor(g),d.slides.forEach(w=>w.classList.remove(m)),d.params.loop||d.params.virtual&&d.params.virtual.enabled)for(let w=0;w<g;w+=1)wt(d.slidesEl,`[data-swiper-slide-index="${e.realIndex+w}"]`).forEach(x=>{x.classList.add(m)});else for(let w=0;w<g;w+=1)d.slides[e.realIndex+w]&&d.slides[e.realIndex+w].classList.add(m);let h=e.params.thumbs.autoScrollOffset,v=h&&!d.params.loop;if(e.realIndex!==d.realIndex||v){let w=d.activeIndex,x,S;if(d.params.loop){let E=d.slides.find(O=>O.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);x=d.slides.indexOf(E),S=e.activeIndex>e.previousIndex?"next":"prev"}else x=e.realIndex,S=x>e.previousIndex?"next":"prev";v&&(x+=S==="next"?h:-1*h),d.visibleSlidesIndexes&&d.visibleSlidesIndexes.indexOf(x)<0&&(d.params.centeredSlides?x>w?x=x-Math.floor(f/2)+1:x=x+Math.floor(f/2)-1:x>w&&d.params.slidesPerGroup,d.slideTo(x,c?0:void 0))}}r("beforeInit",()=>{let{thumbs:c}=e.params;if(!(!c||!c.swiper))if(typeof c.swiper=="string"||c.swiper instanceof HTMLElement){let d=ft(),f=()=>{let m=typeof c.swiper=="string"?d.querySelector(c.swiper):c.swiper;if(m&&m.swiper)c.swiper=m.swiper,a(),l(!0);else if(m){let h=`${e.params.eventsPrefix}init`,v=w=>{c.swiper=w.detail[0],m.removeEventListener(h,v),a(),l(!0),c.swiper.update(),e.update()};m.addEventListener(h,v)}return m},g=()=>{if(e.destroyed)return;f()||requestAnimationFrame(g)};requestAnimationFrame(g)}else a(),l(!0)}),r("slideChange update resize observerUpdate",()=>{l()}),r("setTransition",(c,d)=>{let f=e.thumbs.swiper;!f||f.destroyed||f.setTransition(d)}),r("beforeDestroy",()=>{let c=e.thumbs.swiper;!c||c.destroyed||s&&c.destroy()}),Object.assign(e.thumbs,{init:a,update:l})}function LL(n){let{swiper:e,extendParams:t,emit:r,once:i}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function s(){if(e.params.cssMode)return;let l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;let{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:Mn()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;let{params:d,wrapperEl:f,rtlTranslate:g,snapGrid:m,touchEventsData:h}=e,w=Mn()-h.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<m.length?e.slideTo(m.length-1):e.slideTo(e.slides.length-1);return}if(d.freeMode.momentum){if(h.velocities.length>1){let b=h.velocities.pop(),_=h.velocities.pop(),C=b.position-_.position,R=b.time-_.time;e.velocity=C/R,e.velocity/=2,Math.abs(e.velocity)<d.freeMode.minimumVelocity&&(e.velocity=0),(R>150||Mn()-b.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=d.freeMode.momentumVelocityRatio,h.velocities.length=0;let x=1e3*d.freeMode.momentumRatio,S=e.velocity*x,E=e.translate+S;g&&(E=-E);let O=!1,U,j=Math.abs(e.velocity)*20*d.freeMode.momentumBounceRatio,M;if(E<e.maxTranslate())d.freeMode.momentumBounce?(E+e.maxTranslate()<-j&&(E=e.maxTranslate()-j),U=e.maxTranslate(),O=!0,h.allowMomentumBounce=!0):E=e.maxTranslate(),d.loop&&d.centeredSlides&&(M=!0);else if(E>e.minTranslate())d.freeMode.momentumBounce?(E-e.minTranslate()>j&&(E=e.minTranslate()+j),U=e.minTranslate(),O=!0,h.allowMomentumBounce=!0):E=e.minTranslate(),d.loop&&d.centeredSlides&&(M=!0);else if(d.freeMode.sticky){let b;for(let _=0;_<m.length;_+=1)if(m[_]>-E){b=_;break}Math.abs(m[b]-E)<Math.abs(m[b-1]-E)||e.swipeDirection==="next"?E=m[b]:E=m[b-1],E=-E}if(M&&i("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(g?x=Math.abs((-E-e.translate)/e.velocity):x=Math.abs((E-e.translate)/e.velocity),d.freeMode.sticky){let b=Math.abs((g?-E:E)-e.translate),_=e.slidesSizesGrid[e.activeIndex];b<_?x=d.speed:b<2*_?x=d.speed*1.5:x=d.speed*2.5}}else if(d.freeMode.sticky){e.slideToClosest();return}d.freeMode.momentumBounce&&O?(e.updateProgress(U),e.setTransition(x),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating=!0,mo(f,()=>{!e||e.destroyed||!h.allowMomentumBounce||(r("momentumBounce"),e.setTransition(d.speed),setTimeout(()=>{e.setTranslate(U),mo(f,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(E),e.setTransition(x),e.setTranslate(E),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,mo(f,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(E),e.updateActiveIndex(),e.updateSlidesClasses()}else if(d.freeMode.sticky){e.slideToClosest();return}else d.freeMode&&r("_freeModeNoMomentumRelease");(!d.freeMode.momentum||w>=d.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:s,onTouchMove:o,onTouchEnd:a}})}function FL(n){let{swiper:e,extendParams:t,on:r}=n;t({grid:{rows:1,fill:"column"}});let i,s,o,a,l=()=>{let v=e.params.spaceBetween;return typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*e.size:typeof v=="string"&&(v=parseFloat(v)),v},c=v=>{let{slidesPerView:w}=e.params,{rows:x,fill:S}=e.params.grid,E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:v.length;o=Math.floor(E/x),Math.floor(E/x)===E/x?i=E:i=Math.ceil(E/x)*x,w!=="auto"&&S==="row"&&(i=Math.max(i,w*x)),s=i/x},d=()=>{e.slides&&e.slides.forEach(v=>{v.swiperSlideGridSet&&(v.style.height="",v.style[e.getDirectionLabel("margin-top")]="")})},f=(v,w,x)=>{let{slidesPerGroup:S}=e.params,E=l(),{rows:O,fill:U}=e.params.grid,j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:x.length,M,b,_;if(U==="row"&&S>1){let C=Math.floor(v/(S*O)),R=v-O*S*C,k=C===0?S:Math.min(Math.ceil((j-C*O*S)/O),S);_=Math.floor(R/k),b=R-_*k+C*S,M=b+_*i/O,w.style.order=M}else U==="column"?(b=Math.floor(v/O),_=v-b*O,(b>o||b===o&&_===O-1)&&(_+=1,_>=O&&(_=0,b+=1))):(_=Math.floor(v/s),b=v-_*s);w.row=_,w.column=b,w.style.height=`calc((100% - ${(O-1)*E}px) / ${O})`,w.style[e.getDirectionLabel("margin-top")]=_!==0?E&&`${E}px`:"",w.swiperSlideGridSet=!0},g=(v,w)=>{let{centeredSlides:x,roundLengths:S}=e.params,E=l(),{rows:O}=e.params.grid;if(e.virtualSize=(v+E)*i,e.virtualSize=Math.ceil(e.virtualSize/O)-E,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+E}px`),x){let U=[];for(let j=0;j<w.length;j+=1){let M=w[j];S&&(M=Math.floor(M)),w[j]<e.virtualSize+w[0]&&U.push(M)}w.splice(0,w.length),w.push(...U)}},m=()=>{a=e.params.grid&&e.params.grid.rows>1},h=()=>{let{params:v,el:w}=e,x=v.grid&&v.grid.rows>1;a&&!x?(w.classList.remove(`${v.containerModifierClass}grid`,`${v.containerModifierClass}grid-column`),o=1,e.emitContainerClasses()):!a&&x&&(w.classList.add(`${v.containerModifierClass}grid`),v.grid.fill==="column"&&w.classList.add(`${v.containerModifierClass}grid-column`),e.emitContainerClasses()),a=x};r("init",m),r("update",h),e.grid={initSlides:c,unsetSlides:d,updateSlide:f,updateWrapperSize:g}}function $Y(n){let e=this,{params:t,slidesEl:r}=e;t.loop&&e.loopDestroy();let i=s=>{if(typeof s=="string"){let o=document.createElement("div");sn(o,s),r.append(o.children[0]),sn(o,"")}else r.append(s)};if(typeof n=="object"&&"length"in n)for(let s=0;s<n.length;s+=1)n[s]&&i(n[s]);else i(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update()}function zY(n){let e=this,{params:t,activeIndex:r,slidesEl:i}=e;t.loop&&e.loopDestroy();let s=r+1,o=a=>{if(typeof a=="string"){let l=document.createElement("div");sn(l,a),i.prepend(l.children[0]),sn(l,"")}else i.prepend(a)};if(typeof n=="object"&&"length"in n){for(let a=0;a<n.length;a+=1)n[a]&&o(n[a]);s=r+n.length}else o(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(s,0,!1)}function HY(n,e){let t=this,{params:r,activeIndex:i,slidesEl:s}=t,o=i;r.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.recalcSlides());let a=t.slides.length;if(n<=0){t.prependSlide(e);return}if(n>=a){t.appendSlide(e);return}let l=o>n?o+1:o,c=[];for(let d=a-1;d>=n;d-=1){let f=t.slides[d];f.remove(),c.unshift(f)}if(typeof e=="object"&&"length"in e){for(let d=0;d<e.length;d+=1)e[d]&&s.append(e[d]);l=o>n?o+e.length:o}else s.append(e);for(let d=0;d<c.length;d+=1)s.append(c[d]);t.recalcSlides(),r.loop&&t.loopCreate(),(!r.observer||t.isElement)&&t.update(),r.loop?t.slideTo(l+t.loopedSlides,0,!1):t.slideTo(l,0,!1)}function qY(n){let e=this,{params:t,activeIndex:r}=e,i=r;t.loop&&(i-=e.loopedSlides,e.loopDestroy());let s=i,o;if(typeof n=="object"&&"length"in n){for(let a=0;a<n.length;a+=1)o=n[a],e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1);s=Math.max(s,0)}else o=n,e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1),s=Math.max(s,0);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),t.loop?e.slideTo(s+e.loopedSlides,0,!1):e.slideTo(s,0,!1)}function GY(){let n=this,e=[];for(let t=0;t<n.slides.length;t+=1)e.push(t);n.removeSlide(e)}function VL(n){let{swiper:e}=n;Object.assign(e,{appendSlide:$Y.bind(e),prependSlide:zY.bind(e),addSlide:HY.bind(e),removeSlide:qY.bind(e),removeAllSlides:GY.bind(e)})}function Tr(n){let{effect:e,swiper:t,on:r,setTranslate:i,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=n;r("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),a&&a()&&t.classNames.push(`${t.params.containerModifierClass}3d`);let f=o?o():{};Object.assign(t.params,f),Object.assign(t.originalParams,f)}),r("setTranslate _virtualUpdated",()=>{t.params.effect===e&&i()}),r("setTransition",(f,g)=>{t.params.effect===e&&s(g)}),r("transitionEnd",()=>{if(t.params.effect===e&&l){if(!c||!c().slideShadows)return;t.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(g=>g.remove())}),l()}});let d;r("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(d=!0),requestAnimationFrame(()=>{d&&t.slides&&t.slides.length&&(i(),d=!1)}))})}function Ui(n,e){let t=Gn(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function yo(n){let{swiper:e,duration:t,transformElements:r,allSlides:i}=n,{activeIndex:s}=e,o=a=>a.parentElement?a.parentElement:e.slides.find(c=>c.shadowRoot&&c.shadowRoot===a.parentNode);if(e.params.virtualTranslate&&t!==0){let a=!1,l;i?l=r:l=r.filter(c=>{let d=c.classList.contains("swiper-slide-transform")?o(c):c;return e.getSlideIndex(d)===s}),l.forEach(c=>{mo(c,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;let d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}function UL(n){let{swiper:e,extendParams:t,on:r}=n;t({fadeEffect:{crossFade:!1}}),Tr({effect:"fade",swiper:e,on:r,setTranslate:()=>{let{slides:o}=e,a=e.params.fadeEffect;for(let l=0;l<o.length;l+=1){let c=e.slides[l],f=-c.swiperSlideOffset;e.params.virtualTranslate||(f-=e.translate);let g=0;e.isHorizontal()||(g=f,f=0);let m=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),h=Ui(a,c);h.style.opacity=m,h.style.transform=`translate3d(${f}px, ${g}px, 0px)`}},setTransition:o=>{let a=e.slides.map(l=>Gn(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),yo({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function jL(n){let{swiper:e,extendParams:t,on:r}=n;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});let i=(l,c,d)=>{let f=d?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),g=d?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");f||(f=Ht("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"left":"top"}`.split(" ")),l.append(f)),g||(g=Ht("div",`swiper-slide-shadow-cube swiper-slide-shadow-${d?"right":"bottom"}`.split(" ")),l.append(g)),f&&(f.style.opacity=Math.max(-c,0)),g&&(g.style.opacity=Math.max(c,0))};Tr({effect:"cube",swiper:e,on:r,setTranslate:()=>{let{el:l,wrapperEl:c,slides:d,width:f,height:g,rtlTranslate:m,size:h,browser:v}=e,w=go(e),x=e.params.cubeEffect,S=e.isHorizontal(),E=e.virtual&&e.params.virtual.enabled,O=0,U;x.shadow&&(S?(U=e.wrapperEl.querySelector(".swiper-cube-shadow"),U||(U=Ht("div","swiper-cube-shadow"),e.wrapperEl.append(U)),U.style.height=`${f}px`):(U=l.querySelector(".swiper-cube-shadow"),U||(U=Ht("div","swiper-cube-shadow"),l.append(U))));for(let M=0;M<d.length;M+=1){let b=d[M],_=M;E&&(_=parseInt(b.getAttribute("data-swiper-slide-index"),10));let C=_*90,R=Math.floor(C/360);m&&(C=-C,R=Math.floor(-C/360));let k=Math.max(Math.min(b.progress,1),-1),I=0,H=0,Y=0;_%4===0?(I=-R*4*h,Y=0):(_-1)%4===0?(I=0,Y=-R*4*h):(_-2)%4===0?(I=h+R*4*h,Y=h):(_-3)%4===0&&(I=-h,Y=3*h+h*4*R),m&&(I=-I),S||(H=I,I=0);let J=`rotateX(${w(S?0:-C)}deg) rotateY(${w(S?C:0)}deg) translate3d(${I}px, ${H}px, ${Y}px)`;k<=1&&k>-1&&(O=_*90+k*90,m&&(O=-_*90-k*90)),b.style.transform=J,x.slideShadows&&i(b,k,S)}if(c.style.transformOrigin=`50% 50% -${h/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${h/2}px`,x.shadow)if(S)U.style.transform=`translate3d(0px, ${f/2+x.shadowOffset}px, ${-f/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${x.shadowScale})`;else{let M=Math.abs(O)-Math.floor(Math.abs(O)/90)*90,b=1.5-(Math.sin(M*2*Math.PI/360)/2+Math.cos(M*2*Math.PI/360)/2),_=x.shadowScale,C=x.shadowScale/b,R=x.shadowOffset;U.style.transform=`scale3d(${_}, 1, ${C}) translate3d(0px, ${g/2+R}px, ${-g/2/C}px) rotateX(-89.99deg)`}let j=(v.isSafari||v.isWebView)&&v.needPerspectiveFix?-h/2:0;c.style.transform=`translate3d(0px,0,${j}px) rotateX(${w(e.isHorizontal()?0:O)}deg) rotateY(${w(e.isHorizontal()?-O:0)}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${j}px`)},setTransition:l=>{let{el:c,slides:d}=e;if(d.forEach(f=>{f.style.transitionDuration=`${l}ms`,f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(g=>{g.style.transitionDuration=`${l}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){let f=c.querySelector(".swiper-cube-shadow");f&&(f.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{let l=e.isHorizontal();e.slides.forEach(c=>{let d=Math.max(Math.min(c.progress,1),-1);i(c,d,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function ji(n,e,t){let r=`swiper-slide-shadow${t?`-${t}`:""}${n?` swiper-slide-shadow-${n}`:""}`,i=Gn(e),s=i.querySelector(`.${r.split(" ").join(".")}`);return s||(s=Ht("div",r.split(" ")),i.append(s)),s}function BL(n){let{swiper:e,extendParams:t,on:r}=n;t({flipEffect:{slideShadows:!0,limitRotation:!0}});let i=(l,c)=>{let d=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),f=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");d||(d=ji("flip",l,e.isHorizontal()?"left":"top")),f||(f=ji("flip",l,e.isHorizontal()?"right":"bottom")),d&&(d.style.opacity=Math.max(-c,0)),f&&(f.style.opacity=Math.max(c,0))};Tr({effect:"flip",swiper:e,on:r,setTranslate:()=>{let{slides:l,rtlTranslate:c}=e,d=e.params.flipEffect,f=go(e);for(let g=0;g<l.length;g+=1){let m=l[g],h=m.progress;e.params.flipEffect.limitRotation&&(h=Math.max(Math.min(m.progress,1),-1));let v=m.swiperSlideOffset,x=-180*h,S=0,E=e.params.cssMode?-v-e.translate:-v,O=0;e.isHorizontal()?c&&(x=-x):(O=E,E=0,S=-x,x=0),m.style.zIndex=-Math.abs(Math.round(h))+l.length,d.slideShadows&&i(m,h);let U=`translate3d(${E}px, ${O}px, 0px) rotateX(${f(S)}deg) rotateY(${f(x)}deg)`,j=Ui(d,m);j.style.transform=U}},setTransition:l=>{let c=e.slides.map(d=>Gn(d));c.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${l}ms`})}),yo({swiper:e,duration:l,transformElements:c})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(l=>{let c=l.progress;e.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),i(l,c)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function $L(n){let{swiper:e,extendParams:t,on:r}=n;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),Tr({effect:"coverflow",swiper:e,on:r,setTranslate:()=>{let{width:o,height:a,slides:l,slidesSizesGrid:c}=e,d=e.params.coverflowEffect,f=e.isHorizontal(),g=e.translate,m=f?-g+o/2:-g+a/2,h=f?d.rotate:-d.rotate,v=d.depth,w=go(e);for(let x=0,S=l.length;x<S;x+=1){let E=l[x],O=c[x],U=E.swiperSlideOffset,j=(m-U-O/2)/O,M=typeof d.modifier=="function"?d.modifier(j):j*d.modifier,b=f?h*M:0,_=f?0:h*M,C=-v*Math.abs(M),R=d.stretch;typeof R=="string"&&R.indexOf("%")!==-1&&(R=parseFloat(d.stretch)/100*O);let k=f?0:R*M,I=f?R*M:0,H=1-(1-d.scale)*Math.abs(M);Math.abs(I)<.001&&(I=0),Math.abs(k)<.001&&(k=0),Math.abs(C)<.001&&(C=0),Math.abs(b)<.001&&(b=0),Math.abs(_)<.001&&(_=0),Math.abs(H)<.001&&(H=0);let Y=`translate3d(${I}px,${k}px,${C}px)  rotateX(${w(_)}deg) rotateY(${w(b)}deg) scale(${H})`,J=Ui(d,E);if(J.style.transform=Y,E.style.zIndex=-Math.abs(Math.round(M))+1,d.slideShadows){let B=f?E.querySelector(".swiper-slide-shadow-left"):E.querySelector(".swiper-slide-shadow-top"),$=f?E.querySelector(".swiper-slide-shadow-right"):E.querySelector(".swiper-slide-shadow-bottom");B||(B=ji("coverflow",E,f?"left":"top")),$||($=ji("coverflow",E,f?"right":"bottom")),B&&(B.style.opacity=M>0?M:0),$&&($.style.opacity=-M>0?-M:0)}}},setTransition:o=>{e.slides.map(l=>Gn(l)).forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function zL(n){let{swiper:e,extendParams:t,on:r}=n;t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});let i=a=>typeof a=="string"?a:`${a}px`;Tr({effect:"creative",swiper:e,on:r,setTranslate:()=>{let{slides:a,wrapperEl:l,slidesSizesGrid:c}=e,d=e.params.creativeEffect,{progressMultiplier:f}=d,g=e.params.centeredSlides,m=go(e);if(g){let h=c[0]/2-e.params.slidesOffsetBefore||0;l.style.transform=`translateX(calc(50% - ${h}px))`}for(let h=0;h<a.length;h+=1){let v=a[h],w=v.progress,x=Math.min(Math.max(v.progress,-d.limitProgress),d.limitProgress),S=x;g||(S=Math.min(Math.max(v.originalProgress,-d.limitProgress),d.limitProgress));let E=v.swiperSlideOffset,O=[e.params.cssMode?-E-e.translate:-E,0,0],U=[0,0,0],j=!1;e.isHorizontal()||(O[1]=O[0],O[0]=0);let M={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};x<0?(M=d.next,j=!0):x>0&&(M=d.prev,j=!0),O.forEach((H,Y)=>{O[Y]=`calc(${H}px + (${i(M.translate[Y])} * ${Math.abs(x*f)}))`}),U.forEach((H,Y)=>{let J=M.rotate[Y]*Math.abs(x*f);U[Y]=J}),v.style.zIndex=-Math.abs(Math.round(w))+a.length;let b=O.join(", "),_=`rotateX(${m(U[0])}deg) rotateY(${m(U[1])}deg) rotateZ(${m(U[2])}deg)`,C=S<0?`scale(${1+(1-M.scale)*S*f})`:`scale(${1-(1-M.scale)*S*f})`,R=S<0?1+(1-M.opacity)*S*f:1-(1-M.opacity)*S*f,k=`translate3d(${b}) ${_} ${C}`;if(j&&M.shadow||!j){let H=v.querySelector(".swiper-slide-shadow");if(!H&&M.shadow&&(H=ji("creative",v)),H){let Y=d.shadowPerProgress?x*(1/d.limitProgress):x;H.style.opacity=Math.min(Math.max(Math.abs(Y),0),1)}}let I=Ui(d,v);I.style.transform=k,I.style.opacity=R,M.origin&&(I.style.transformOrigin=M.origin)}},setTransition:a=>{let l=e.slides.map(c=>Gn(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(d=>{d.style.transitionDuration=`${a}ms`})}),yo({swiper:e,duration:a,transformElements:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function HL(n){let{swiper:e,extendParams:t,on:r}=n;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Tr({effect:"cards",swiper:e,on:r,setTranslate:()=>{let{slides:o,activeIndex:a,rtlTranslate:l}=e,c=e.params.cardsEffect,{startTranslate:d,isTouched:f}=e.touchEventsData,g=l?-e.translate:e.translate;for(let m=0;m<o.length;m+=1){let h=o[m],v=h.progress,w=Math.min(Math.max(v,-4),4),x=h.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(x-=o[0].swiperSlideOffset);let S=e.params.cssMode?-x-e.translate:-x,E=0,O=-100*Math.abs(w),U=1,j=-c.perSlideRotate*w,M=c.perSlideOffset-Math.abs(w)*.75,b=e.virtual&&e.params.virtual.enabled?e.virtual.from+m:m,_=(b===a||b===a-1)&&w>0&&w<1&&(f||e.params.cssMode)&&g<d,C=(b===a||b===a+1)&&w<0&&w>-1&&(f||e.params.cssMode)&&g>d;if(_||C){let H=(1-Math.abs((Math.abs(w)-.5)/.5))**.5;j+=-28*w*H,U+=-.5*H,M+=96*H,E=`${-25*H*Math.abs(w)}%`}if(w<0?S=`calc(${S}px ${l?"-":"+"} (${M*Math.abs(w)}%))`:w>0?S=`calc(${S}px ${l?"-":"+"} (-${M*Math.abs(w)}%))`:S=`${S}px`,!e.isHorizontal()){let H=E;E=S,S=H}let R=w<0?`${1+(1-U)*w}`:`${1-(1-U)*w}`,k=`
        translate3d(${S}, ${E}, ${O}px)
        rotateZ(${c.rotate?l?-j:j:0}deg)
        scale(${R})
      `;if(c.slideShadows){let H=h.querySelector(".swiper-slide-shadow");H||(H=ji("cards",h)),H&&(H.style.opacity=Math.min(Math.max((Math.abs(w)-.5)/.5,0),1))}h.style.zIndex=-Math.abs(Math.round(v))+o.length;let I=Ui(c,h);I.style.transform=k}},setTransition:o=>{let a=e.slides.map(l=>Gn(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${o}ms`})}),yo({swiper:e,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}var WY=[EL,IL,TL,SL,CL,DL,xL,AL,ML,RL,kL,PL,NL,OL,LL,FL,VL,UL,jL,BL,$L,zL,HL];vo.use(WY);var Oc=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ha(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function bv(n,e){let t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Ha(e[r])&&Ha(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:bv(n[r],e[r]):n[r]=e[r]})}function qL(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function GL(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function WL(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function Lc(n){return n===void 0&&(n=""),n.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}function KL(n){let{swiper:e,slides:t,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=n,c=i.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:d,pagination:f,navigation:g,scrollbar:m,virtual:h,thumbs:v}=e,w,x,S,E,O,U,j,M;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(w=!0),i.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(x=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(S=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&m&&!m.el&&(E=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&g&&!g.prevEl&&!g.nextEl&&(O=!0);let b=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),d[_].prevEl=void 0,d[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),d[_].el=void 0,e[_].el=void 0))};i.includes("loop")&&e.isElement&&(d.loop&&!r.loop?U=!0:!d.loop&&r.loop?j=!0:M=!0),c.forEach(_=>{if(Ha(d[_])&&Ha(r[_]))Object.assign(d[_],r[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in r[_]&&!r[_].enabled&&b(_);else{let C=r[_];(C===!0||C===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?C===!1&&b(_):d[_]=r[_]}}),c.includes("controller")&&!x&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),i.includes("children")&&t&&h&&d.virtual.enabled?(h.slides=t,h.update(!0)):i.includes("virtual")&&h&&d.virtual.enabled&&(t&&(h.slides=t),h.update(!0)),i.includes("children")&&t&&d.loop&&(M=!0),w&&v.init()&&v.update(!0),x&&(e.controller.control=d.controller.control),S&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),f.init(),f.render(),f.update()),E&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),m.init(),m.updateSize(),m.setTranslate()),O&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),sn(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),sn(o,e.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),e.el.appendChild(o))),s&&(d.navigation.nextEl=s),o&&(d.navigation.prevEl=o),g.init(),g.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(U||M)&&e.loopDestroy(),(j||M)&&e.loopCreate(),e.update()}var YL=n=>{if(parseFloat(n)===Number(n))return Number(n);if(n==="true"||n==="")return!0;if(n==="false")return!1;if(n==="null")return null;if(n!=="undefined"){if(typeof n=="string"&&n.includes("{")&&n.includes("}")&&n.includes('"')){let e;try{e=JSON.parse(n)}catch{e=n}return e}return n}},QL=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function JT(n,e,t){let r={},i={};bv(r,_v);let s=[...Oc,"on"],o=s.map(l=>l.replace(/_/,""));s.forEach(l=>{l=l.replace("_",""),typeof n[l]<"u"&&(i[l]=n[l])});let a=[...n.attributes];return typeof e=="string"&&typeof t<"u"&&a.push({name:e,value:Ha(t)?G({},t):t}),a.forEach(l=>{let c=QL.find(d=>l.name.startsWith(`${d}-`));if(c){let d=Lc(c),f=Lc(l.name.split(`${c}-`)[1]);typeof i[d]>"u"&&(i[d]={}),i[d]===!0&&(i[d]={enabled:!0}),i[d][f]=YL(l.value)}else{let d=Lc(l.name);if(!o.includes(d))return;let f=YL(l.value);i[d]&&QL.includes(l.name)&&!Ha(f)?(i[d].constructor!==Object&&(i[d]={}),i[d].enabled=!!f):i[d]=f}}),bv(r,i),r.navigation?r.navigation=G({prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},r.navigation!==!0?r.navigation:{}):r.navigation===!1&&delete r.navigation,r.scrollbar?r.scrollbar=G({el:".swiper-scrollbar"},r.scrollbar!==!0?r.scrollbar:{}):r.scrollbar===!1&&delete r.scrollbar,r.pagination?r.pagination=G({el:".swiper-pagination"},r.pagination!==!0?r.pagination:{}):r.pagination===!1&&delete r.pagination,{params:r,passedParams:i}}var KY=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",YY="::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}",eS=class{},ZL=typeof window>"u"||typeof HTMLElement>"u"?eS:HTMLElement,XL=`<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>
    `,JL=(n,e)=>{if(typeof CSSStyleSheet<"u"&&n.adoptedStyleSheets){let t=new CSSStyleSheet;t.replaceSync(e),n.adoptedStyleSheets=[t]}else{let t=document.createElement("style");t.rel="stylesheet",t.textContent=e,n.appendChild(t)}},Ev=class extends ZL{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return XL}static get prevButtonSvg(){return XL.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[KY,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join(`
`)}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){let e=this.slideSlots||0,t=[...this.querySelectorAll("[slot^=slide-]")].map(r=>parseInt(r.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=t.length?Math.max(...t)+1:0,!!this.rendered){if(this.slideSlots>e)for(let r=e;r<this.slideSlots;r+=1){let i=document.createElement("swiper-slide");i.setAttribute("part",`slide slide-${r+1}`);let s=document.createElement("slot");s.setAttribute("name",`slide-${r+1}`),i.appendChild(s),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(i)}else if(this.slideSlots<e){let r=this.swiper.slides;for(let i=r.length-1;i>=0;i-=1)i>this.slideSlots&&r[i].remove()}}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&JL(this.shadowRoot,e),this.cssLinks().forEach(r=>{if(this.shadowRoot.querySelector(`link[href="${r}"]`))return;let s=document.createElement("link");s.rel="stylesheet",s.href=r,this.shadowRoot.appendChild(s)});let t=document.createElement("div");t.classList.add("swiper"),t.part="container",sn(t,`
      <slot name="container-start"></slot>
      <div class="swiper-wrapper" part="wrapper">
        <slot></slot>
        ${Array.from({length:this.slideSlots}).map((r,i)=>`
        <swiper-slide part="slide slide-${i}">
          <slot name="slide-${i}"></slot>
        </swiper-slide>
        `).join("")}
      </div>
      <slot name="container-end"></slot>
      ${qL(this.passedParams)?`
        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>
        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>
      `:""}
      ${GL(this.passedParams)?`
        <div part="pagination" class="swiper-pagination"></div>
      `:""}
      ${WL(this.passedParams)?`
        <div part="scrollbar" class="swiper-scrollbar"></div>
      `:""}
    `),this.shadowRoot.appendChild(t),this.rendered=!0}initialize(){var e=this;if(this.swiper&&this.swiper.initialized)return;let{params:t,passedParams:r}=JT(this);this.swiperParams=t,this.passedParams=r,delete this.swiperParams.init,this.render(),this.swiper=new vo(this.shadowRoot.querySelector(".swiper"),ce(G(G({},t.virtual?{}:{observer:!0}),t),{touchEventsTarget:"container",onAny:function(i){i==="observerUpdate"&&e.calcSlideSlots();let s=t.eventsPrefix?`${t.eventsPrefix}${i.toLowerCase()}`:i.toLowerCase();for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];let c=new CustomEvent(s,{detail:a,bubbles:i!=="hashChange",cancelable:!0});e.dispatchEvent(c)}}))}connectedCallback(){this.swiper&&this.swiper.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.init===!1||this.getAttribute("init")==="false"||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.swiper&&this.swiper.destroy&&this.swiper.destroy()}updateSwiperOnPropChange(e,t){let{params:r,passedParams:i}=JT(this,e,t);this.passedParams=i,this.swiperParams=r,!(this.swiper&&this.swiper.params[e]===t)&&KL(G(G(G({swiper:this.swiper,passedParams:this.passedParams,changedParams:[Lc(e)]},e==="navigation"&&i[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{}),e==="pagination"&&i[e]?{paginationEl:".swiper-pagination"}:{}),e==="scrollbar"&&i[e]?{scrollbarEl:".swiper-scrollbar"}:{}))}attributeChangedCallback(e,t,r){this.swiper&&this.swiper.initialized&&(t==="true"&&r===null&&(r=!1),this.updateSwiperOnPropChange(e,r))}static get observedAttributes(){return Oc.filter(t=>t.includes("_")).map(t=>t.replace(/[A-Z]/g,r=>`-${r}`).replace("_","").toLowerCase())}};Oc.forEach(n=>{n!=="init"&&(n=n.replace("_",""),Object.defineProperty(Ev.prototype,n,{configurable:!0,get(){return(this.passedParams||{})[n]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[n]=e,this.swiper&&this.swiper.initialized&&this.updateSwiperOnPropChange(n,e)}}))});var tS=class extends ZL{constructor(){super(),this.attachShadow({mode:"open"})}render(){let e=this.lazy||this.getAttribute("lazy")===""||this.getAttribute("lazy")==="true";if(JL(this.shadowRoot,YY),this.shadowRoot.appendChild(document.createElement("slot")),e){let t=document.createElement("div");t.classList.add("swiper-lazy-preloader"),t.part.add("preloader"),this.shadowRoot.appendChild(t)}}initialize(){this.render()}connectedCallback(){this.swiperLoopMoveDOM||this.initialize()}},eF=()=>{typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",Ev),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",tS))};typeof window<"u"&&(window.SwiperElementRegisterParams=n=>{Oc.push(...n)});eF();Z_(yv,oL).catch(n=>console.error(n));
